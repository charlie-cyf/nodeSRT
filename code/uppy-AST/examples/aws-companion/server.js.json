{"type":"Program","start":0,"end":1402,"loc":{"start":{"line":1,"column":0},"end":{"line":58,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":24,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"declarations":[{"type":"VariableDeclarator","start":6,"end":24,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":24}},"id":{"type":"Identifier","start":6,"end":8,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":8}},"name":"fs"},"init":{"type":"CallExpression","start":11,"end":24,"loc":{"start":{"line":1,"column":11},"end":{"line":1,"column":24}},"callee":{"type":"Identifier","start":11,"end":18,"loc":{"start":{"line":1,"column":11},"end":{"line":1,"column":18}},"name":"require"},"arguments":[{"type":"Literal","start":19,"end":23,"loc":{"start":{"line":1,"column":19},"end":{"line":1,"column":23}},"value":"fs","raw":"'fs'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":25,"end":53,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":28}},"declarations":[{"type":"VariableDeclarator","start":31,"end":53,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":28}},"id":{"type":"Identifier","start":31,"end":35,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":10}},"name":"path"},"init":{"type":"CallExpression","start":38,"end":53,"loc":{"start":{"line":2,"column":13},"end":{"line":2,"column":28}},"callee":{"type":"Identifier","start":38,"end":45,"loc":{"start":{"line":2,"column":13},"end":{"line":2,"column":20}},"name":"require"},"arguments":[{"type":"Literal","start":46,"end":52,"loc":{"start":{"line":2,"column":21},"end":{"line":2,"column":27}},"value":"path","raw":"'path'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":54,"end":86,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"declarations":[{"type":"VariableDeclarator","start":60,"end":86,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":32}},"id":{"type":"Identifier","start":60,"end":66,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":12}},"name":"rimraf"},"init":{"type":"CallExpression","start":69,"end":86,"loc":{"start":{"line":3,"column":15},"end":{"line":3,"column":32}},"callee":{"type":"Identifier","start":69,"end":76,"loc":{"start":{"line":3,"column":15},"end":{"line":3,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":77,"end":85,"loc":{"start":{"line":3,"column":23},"end":{"line":3,"column":31}},"value":"rimraf","raw":"'rimraf'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":87,"end":146,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":59}},"declarations":[{"type":"VariableDeclarator","start":93,"end":146,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":59}},"id":{"type":"Identifier","start":93,"end":102,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":15}},"name":"companion"},"init":{"type":"CallExpression","start":105,"end":146,"loc":{"start":{"line":4,"column":18},"end":{"line":4,"column":59}},"callee":{"type":"Identifier","start":105,"end":112,"loc":{"start":{"line":4,"column":18},"end":{"line":4,"column":25}},"name":"require"},"arguments":[{"type":"Literal","start":113,"end":145,"loc":{"start":{"line":4,"column":26},"end":{"line":4,"column":58}},"value":"../../packages/@uppy/companion","raw":"'../../packages/@uppy/companion'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":147,"end":179,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}},"declarations":[{"type":"VariableDeclarator","start":153,"end":179,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":32}},"id":{"type":"Identifier","start":153,"end":156,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":9}},"name":"app"},"init":{"type":"CallExpression","start":159,"end":179,"loc":{"start":{"line":5,"column":12},"end":{"line":5,"column":32}},"callee":{"type":"CallExpression","start":159,"end":177,"loc":{"start":{"line":5,"column":12},"end":{"line":5,"column":30}},"callee":{"type":"Identifier","start":159,"end":166,"loc":{"start":{"line":5,"column":12},"end":{"line":5,"column":19}},"name":"require"},"arguments":[{"type":"Literal","start":167,"end":176,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":29}},"value":"express","raw":"'express'"}]},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":181,"end":225,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":44}},"declarations":[{"type":"VariableDeclarator","start":187,"end":225,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":44}},"id":{"type":"Identifier","start":187,"end":195,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":14}},"name":"DATA_DIR"},"init":{"type":"CallExpression","start":198,"end":225,"loc":{"start":{"line":7,"column":17},"end":{"line":7,"column":44}},"callee":{"type":"MemberExpression","start":198,"end":207,"loc":{"start":{"line":7,"column":17},"end":{"line":7,"column":26}},"object":{"type":"Identifier","start":198,"end":202,"loc":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"name":"path"},"property":{"type":"Identifier","start":203,"end":207,"loc":{"start":{"line":7,"column":22},"end":{"line":7,"column":26}},"name":"join"},"computed":false},"arguments":[{"type":"Identifier","start":208,"end":217,"loc":{"start":{"line":7,"column":27},"end":{"line":7,"column":36}},"name":"__dirname"},{"type":"Literal","start":219,"end":224,"loc":{"start":{"line":7,"column":38},"end":{"line":7,"column":43}},"value":"tmp","raw":"'tmp'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":227,"end":292,"loc":{"start":{"line":9,"column":0},"end":{"line":12,"column":3}},"expression":{"type":"CallExpression","start":227,"end":292,"loc":{"start":{"line":9,"column":0},"end":{"line":12,"column":3}},"callee":{"type":"MemberExpression","start":227,"end":234,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":7}},"object":{"type":"Identifier","start":227,"end":230,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":3}},"name":"app"},"property":{"type":"Identifier","start":231,"end":234,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":235,"end":291,"loc":{"start":{"line":9,"column":8},"end":{"line":12,"column":2}},"callee":{"type":"CallExpression","start":235,"end":250,"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":23}},"callee":{"type":"Identifier","start":235,"end":242,"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":15}},"name":"require"},"arguments":[{"type":"Literal","start":243,"end":249,"loc":{"start":{"line":9,"column":16},"end":{"line":9,"column":22}},"value":"cors","raw":"'cors'"}]},"arguments":[{"type":"ObjectExpression","start":251,"end":290,"loc":{"start":{"line":9,"column":24},"end":{"line":12,"column":1}},"properties":[{"type":"Property","start":255,"end":267,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":14}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":255,"end":261,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":8}},"name":"origin"},"value":{"type":"Literal","start":263,"end":267,"loc":{"start":{"line":10,"column":10},"end":{"line":10,"column":14}},"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":271,"end":288,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":19}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":271,"end":282,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":13}},"name":"credentials"},"value":{"type":"Literal","start":284,"end":288,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},"value":true,"raw":"true"},"kind":"init"}]}]}]}},{"type":"ExpressionStatement","start":293,"end":328,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":35}},"expression":{"type":"CallExpression","start":293,"end":328,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":35}},"callee":{"type":"MemberExpression","start":293,"end":300,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":7}},"object":{"type":"Identifier","start":293,"end":296,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":3}},"name":"app"},"property":{"type":"Identifier","start":297,"end":300,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":301,"end":327,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":34}},"callee":{"type":"CallExpression","start":301,"end":325,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":32}},"callee":{"type":"Identifier","start":301,"end":308,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":15}},"name":"require"},"arguments":[{"type":"Literal","start":309,"end":324,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":31}},"value":"cookie-parser","raw":"'cookie-parser'"}]},"arguments":[]}]}},{"type":"ExpressionStatement","start":329,"end":367,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":38}},"expression":{"type":"CallExpression","start":329,"end":367,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":38}},"callee":{"type":"MemberExpression","start":329,"end":336,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":7}},"object":{"type":"Identifier","start":329,"end":332,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":3}},"name":"app"},"property":{"type":"Identifier","start":333,"end":336,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":337,"end":366,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":37}},"callee":{"type":"MemberExpression","start":337,"end":364,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":35}},"object":{"type":"CallExpression","start":337,"end":359,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":30}},"callee":{"type":"Identifier","start":337,"end":344,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":15}},"name":"require"},"arguments":[{"type":"Literal","start":345,"end":358,"loc":{"start":{"line":14,"column":16},"end":{"line":14,"column":29}},"value":"body-parser","raw":"'body-parser'"}]},"property":{"type":"Identifier","start":360,"end":364,"loc":{"start":{"line":14,"column":31},"end":{"line":14,"column":35}},"name":"json"},"computed":false},"arguments":[]}]}},{"type":"ExpressionStatement","start":368,"end":433,"loc":{"start":{"line":15,"column":0},"end":{"line":17,"column":3}},"expression":{"type":"CallExpression","start":368,"end":433,"loc":{"start":{"line":15,"column":0},"end":{"line":17,"column":3}},"callee":{"type":"MemberExpression","start":368,"end":375,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":7}},"object":{"type":"Identifier","start":368,"end":371,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":3}},"name":"app"},"property":{"type":"Identifier","start":372,"end":375,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":376,"end":432,"loc":{"start":{"line":15,"column":8},"end":{"line":17,"column":2}},"callee":{"type":"CallExpression","start":376,"end":402,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":34}},"callee":{"type":"Identifier","start":376,"end":383,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":15}},"name":"require"},"arguments":[{"type":"Literal","start":384,"end":401,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":33}},"value":"express-session","raw":"'express-session'"}]},"arguments":[{"type":"ObjectExpression","start":403,"end":431,"loc":{"start":{"line":15,"column":35},"end":{"line":17,"column":1}},"properties":[{"type":"Property","start":407,"end":429,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":24}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":407,"end":413,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":8}},"name":"secret"},"value":{"type":"Literal","start":415,"end":429,"loc":{"start":{"line":16,"column":10},"end":{"line":16,"column":24}},"value":"hello planet","raw":"'hello planet'"},"kind":"init"}]}]}]}},{"type":"VariableDeclaration","start":435,"end":1050,"loc":{"start":{"line":19,"column":0},"end":{"line":39,"column":1}},"declarations":[{"type":"VariableDeclarator","start":441,"end":1050,"loc":{"start":{"line":19,"column":6},"end":{"line":39,"column":1}},"id":{"type":"Identifier","start":441,"end":448,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":13}},"name":"options"},"init":{"type":"ObjectExpression","start":451,"end":1050,"loc":{"start":{"line":19,"column":16},"end":{"line":39,"column":1}},"properties":[{"type":"Property","start":455,"end":950,"loc":{"start":{"line":20,"column":2},"end":{"line":34,"column":3}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":455,"end":470,"loc":{"start":{"line":20,"column":2},"end":{"line":20,"column":17}},"name":"providerOptions"},"value":{"type":"ObjectExpression","start":472,"end":950,"loc":{"start":{"line":20,"column":19},"end":{"line":34,"column":3}},"properties":[{"type":"Property","start":478,"end":588,"loc":{"start":{"line":21,"column":4},"end":{"line":24,"column":5}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":478,"end":484,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":10}},"name":"google"},"value":{"type":"ObjectExpression","start":486,"end":588,"loc":{"start":{"line":21,"column":12},"end":{"line":24,"column":5}},"properties":[{"type":"Property","start":494,"end":531,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":43}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":494,"end":497,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":9}},"name":"key"},"value":{"type":"MemberExpression","start":499,"end":531,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":43}},"object":{"type":"MemberExpression","start":499,"end":510,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":22}},"object":{"type":"Identifier","start":499,"end":506,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":18}},"name":"process"},"property":{"type":"Identifier","start":507,"end":510,"loc":{"start":{"line":22,"column":19},"end":{"line":22,"column":22}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":511,"end":531,"loc":{"start":{"line":22,"column":23},"end":{"line":22,"column":43}},"name":"COMPANION_GOOGLE_KEY"},"computed":false},"kind":"init"},{"type":"Property","start":539,"end":582,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":49}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":539,"end":545,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":12}},"name":"secret"},"value":{"type":"MemberExpression","start":547,"end":582,"loc":{"start":{"line":23,"column":14},"end":{"line":23,"column":49}},"object":{"type":"MemberExpression","start":547,"end":558,"loc":{"start":{"line":23,"column":14},"end":{"line":23,"column":25}},"object":{"type":"Identifier","start":547,"end":554,"loc":{"start":{"line":23,"column":14},"end":{"line":23,"column":21}},"name":"process"},"property":{"type":"Identifier","start":555,"end":558,"loc":{"start":{"line":23,"column":22},"end":{"line":23,"column":25}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":559,"end":582,"loc":{"start":{"line":23,"column":26},"end":{"line":23,"column":49}},"name":"COMPANION_GOOGLE_SECRET"},"computed":false},"kind":"init"}]},"kind":"init"},{"type":"Property","start":594,"end":946,"loc":{"start":{"line":25,"column":4},"end":{"line":33,"column":5}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":594,"end":596,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":6}},"name":"s3"},"value":{"type":"ObjectExpression","start":598,"end":946,"loc":{"start":{"line":25,"column":8},"end":{"line":33,"column":5}},"properties":[{"type":"Property","start":606,"end":702,"loc":{"start":{"line":26,"column":6},"end":{"line":27,"column":69}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":606,"end":612,"loc":{"start":{"line":26,"column":6},"end":{"line":26,"column":12}},"name":"getKey"},"value":{"type":"ArrowFunctionExpression","start":614,"end":702,"loc":{"start":{"line":26,"column":14},"end":{"line":27,"column":69}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":615,"end":618,"loc":{"start":{"line":26,"column":15},"end":{"line":26,"column":18}},"name":"req"},{"type":"Identifier","start":620,"end":628,"loc":{"start":{"line":26,"column":20},"end":{"line":26,"column":28}},"name":"filename"}],"body":{"type":"TemplateLiteral","start":641,"end":702,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":69}},"expressions":[{"type":"CallExpression","start":653,"end":688,"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":55}},"callee":{"type":"MemberExpression","start":653,"end":685,"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":52}},"object":{"type":"CallExpression","start":653,"end":679,"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":46}},"callee":{"type":"MemberExpression","start":653,"end":675,"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":42}},"object":{"type":"CallExpression","start":653,"end":666,"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":33}},"callee":{"type":"MemberExpression","start":653,"end":664,"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":31}},"object":{"type":"Identifier","start":653,"end":657,"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":24}},"name":"Math"},"property":{"type":"Identifier","start":658,"end":664,"loc":{"start":{"line":27,"column":25},"end":{"line":27,"column":31}},"name":"random"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":667,"end":675,"loc":{"start":{"line":27,"column":34},"end":{"line":27,"column":42}},"name":"toString"},"computed":false},"arguments":[{"type":"Literal","start":676,"end":678,"loc":{"start":{"line":27,"column":43},"end":{"line":27,"column":45}},"value":32,"raw":"32"}]},"property":{"type":"Identifier","start":680,"end":685,"loc":{"start":{"line":27,"column":47},"end":{"line":27,"column":52}},"name":"slice"},"computed":false},"arguments":[{"type":"Literal","start":686,"end":687,"loc":{"start":{"line":27,"column":53},"end":{"line":27,"column":54}},"value":2,"raw":"2"}]},{"type":"Identifier","start":692,"end":700,"loc":{"start":{"line":27,"column":59},"end":{"line":27,"column":67}},"name":"filename"}],"quasis":[{"type":"TemplateElement","start":642,"end":651,"loc":{"start":{"line":27,"column":9},"end":{"line":27,"column":18}},"value":{"raw":"whatever/","cooked":"whatever/"},"tail":false},{"type":"TemplateElement","start":689,"end":690,"loc":{"start":{"line":27,"column":56},"end":{"line":27,"column":57}},"value":{"raw":"/","cooked":"/"},"tail":false},{"type":"TemplateElement","start":701,"end":701,"loc":{"start":{"line":27,"column":68},"end":{"line":27,"column":68}},"value":{"raw":"","cooked":""},"tail":true}]}},"kind":"init"},{"type":"Property","start":710,"end":744,"loc":{"start":{"line":28,"column":6},"end":{"line":28,"column":40}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":710,"end":713,"loc":{"start":{"line":28,"column":6},"end":{"line":28,"column":9}},"name":"key"},"value":{"type":"MemberExpression","start":715,"end":744,"loc":{"start":{"line":28,"column":11},"end":{"line":28,"column":40}},"object":{"type":"MemberExpression","start":715,"end":726,"loc":{"start":{"line":28,"column":11},"end":{"line":28,"column":22}},"object":{"type":"Identifier","start":715,"end":722,"loc":{"start":{"line":28,"column":11},"end":{"line":28,"column":18}},"name":"process"},"property":{"type":"Identifier","start":723,"end":726,"loc":{"start":{"line":28,"column":19},"end":{"line":28,"column":22}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":727,"end":744,"loc":{"start":{"line":28,"column":23},"end":{"line":28,"column":40}},"name":"COMPANION_AWS_KEY"},"computed":false},"kind":"init"},{"type":"Property","start":752,"end":792,"loc":{"start":{"line":29,"column":6},"end":{"line":29,"column":46}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":752,"end":758,"loc":{"start":{"line":29,"column":6},"end":{"line":29,"column":12}},"name":"secret"},"value":{"type":"MemberExpression","start":760,"end":792,"loc":{"start":{"line":29,"column":14},"end":{"line":29,"column":46}},"object":{"type":"MemberExpression","start":760,"end":771,"loc":{"start":{"line":29,"column":14},"end":{"line":29,"column":25}},"object":{"type":"Identifier","start":760,"end":767,"loc":{"start":{"line":29,"column":14},"end":{"line":29,"column":21}},"name":"process"},"property":{"type":"Identifier","start":768,"end":771,"loc":{"start":{"line":29,"column":22},"end":{"line":29,"column":25}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":772,"end":792,"loc":{"start":{"line":29,"column":26},"end":{"line":29,"column":46}},"name":"COMPANION_AWS_SECRET"},"computed":false},"kind":"init"},{"type":"Property","start":800,"end":840,"loc":{"start":{"line":30,"column":6},"end":{"line":30,"column":46}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":800,"end":806,"loc":{"start":{"line":30,"column":6},"end":{"line":30,"column":12}},"name":"bucket"},"value":{"type":"MemberExpression","start":808,"end":840,"loc":{"start":{"line":30,"column":14},"end":{"line":30,"column":46}},"object":{"type":"MemberExpression","start":808,"end":819,"loc":{"start":{"line":30,"column":14},"end":{"line":30,"column":25}},"object":{"type":"Identifier","start":808,"end":815,"loc":{"start":{"line":30,"column":14},"end":{"line":30,"column":21}},"name":"process"},"property":{"type":"Identifier","start":816,"end":819,"loc":{"start":{"line":30,"column":22},"end":{"line":30,"column":25}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":820,"end":840,"loc":{"start":{"line":30,"column":26},"end":{"line":30,"column":46}},"name":"COMPANION_AWS_BUCKET"},"computed":false},"kind":"init"},{"type":"Property","start":848,"end":888,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":46}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":848,"end":854,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":12}},"name":"region"},"value":{"type":"MemberExpression","start":856,"end":888,"loc":{"start":{"line":31,"column":14},"end":{"line":31,"column":46}},"object":{"type":"MemberExpression","start":856,"end":867,"loc":{"start":{"line":31,"column":14},"end":{"line":31,"column":25}},"object":{"type":"Identifier","start":856,"end":863,"loc":{"start":{"line":31,"column":14},"end":{"line":31,"column":21}},"name":"process"},"property":{"type":"Identifier","start":864,"end":867,"loc":{"start":{"line":31,"column":22},"end":{"line":31,"column":25}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":868,"end":888,"loc":{"start":{"line":31,"column":26},"end":{"line":31,"column":46}},"name":"COMPANION_AWS_REGION"},"computed":false},"kind":"init"},{"type":"Property","start":896,"end":940,"loc":{"start":{"line":32,"column":6},"end":{"line":32,"column":50}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":896,"end":904,"loc":{"start":{"line":32,"column":6},"end":{"line":32,"column":14}},"name":"endpoint"},"value":{"type":"MemberExpression","start":906,"end":940,"loc":{"start":{"line":32,"column":16},"end":{"line":32,"column":50}},"object":{"type":"MemberExpression","start":906,"end":917,"loc":{"start":{"line":32,"column":16},"end":{"line":32,"column":27}},"object":{"type":"Identifier","start":906,"end":913,"loc":{"start":{"line":32,"column":16},"end":{"line":32,"column":23}},"name":"process"},"property":{"type":"Identifier","start":914,"end":917,"loc":{"start":{"line":32,"column":24},"end":{"line":32,"column":27}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":918,"end":940,"loc":{"start":{"line":32,"column":28},"end":{"line":32,"column":50}},"name":"COMPANION_AWS_ENDPOINT"},"computed":false},"kind":"init"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":954,"end":988,"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":36}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":954,"end":960,"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":8}},"name":"server"},"value":{"type":"ObjectExpression","start":962,"end":988,"loc":{"start":{"line":35,"column":10},"end":{"line":35,"column":36}},"properties":[{"type":"Property","start":964,"end":986,"loc":{"start":{"line":35,"column":12},"end":{"line":35,"column":34}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":964,"end":968,"loc":{"start":{"line":35,"column":12},"end":{"line":35,"column":16}},"name":"host"},"value":{"type":"Literal","start":970,"end":986,"loc":{"start":{"line":35,"column":18},"end":{"line":35,"column":34}},"value":"localhost:3020","raw":"'localhost:3020'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":992,"end":1010,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":20}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":992,"end":1000,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":10}},"name":"filePath"},"value":{"type":"Identifier","start":1002,"end":1010,"loc":{"start":{"line":36,"column":12},"end":{"line":36,"column":20}},"name":"DATA_DIR"},"kind":"init"},{"type":"Property","start":1014,"end":1033,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":21}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1014,"end":1020,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":8}},"name":"secret"},"value":{"type":"Literal","start":1022,"end":1033,"loc":{"start":{"line":37,"column":10},"end":{"line":37,"column":21}},"value":"blah blah","raw":"'blah blah'"},"kind":"init"},{"type":"Property","start":1037,"end":1048,"loc":{"start":{"line":38,"column":2},"end":{"line":38,"column":13}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1037,"end":1042,"loc":{"start":{"line":38,"column":2},"end":{"line":38,"column":7}},"name":"debug"},"value":{"type":"Literal","start":1044,"end":1048,"loc":{"start":{"line":38,"column":9},"end":{"line":38,"column":13}},"value":true,"raw":"true"},"kind":"init"}]}}],"kind":"const"},{"type":"TryStatement","start":1115,"end":1189,"loc":{"start":{"line":42,"column":0},"end":{"line":46,"column":1}},"block":{"type":"BlockStatement","start":1119,"end":1148,"loc":{"start":{"line":42,"column":4},"end":{"line":44,"column":1}},"body":[{"type":"ExpressionStatement","start":1123,"end":1146,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":25}},"expression":{"type":"CallExpression","start":1123,"end":1146,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":25}},"callee":{"type":"MemberExpression","start":1123,"end":1136,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":15}},"object":{"type":"Identifier","start":1123,"end":1125,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":4}},"name":"fs"},"property":{"type":"Identifier","start":1126,"end":1136,"loc":{"start":{"line":43,"column":5},"end":{"line":43,"column":15}},"name":"accessSync"},"computed":false},"arguments":[{"type":"Identifier","start":1137,"end":1145,"loc":{"start":{"line":43,"column":16},"end":{"line":43,"column":24}},"name":"DATA_DIR"}]}}]},"handler":{"type":"CatchClause","start":1149,"end":1189,"loc":{"start":{"line":44,"column":2},"end":{"line":46,"column":1}},"param":{"type":"Identifier","start":1156,"end":1159,"loc":{"start":{"line":44,"column":9},"end":{"line":44,"column":12}},"name":"err"},"body":{"type":"BlockStatement","start":1161,"end":1189,"loc":{"start":{"line":44,"column":14},"end":{"line":46,"column":1}},"body":[{"type":"ExpressionStatement","start":1165,"end":1187,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":24}},"expression":{"type":"CallExpression","start":1165,"end":1187,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":24}},"callee":{"type":"MemberExpression","start":1165,"end":1177,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":14}},"object":{"type":"Identifier","start":1165,"end":1167,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":4}},"name":"fs"},"property":{"type":"Identifier","start":1168,"end":1177,"loc":{"start":{"line":45,"column":5},"end":{"line":45,"column":14}},"name":"mkdirSync"},"computed":false},"arguments":[{"type":"Identifier","start":1178,"end":1186,"loc":{"start":{"line":45,"column":15},"end":{"line":45,"column":23}},"name":"DATA_DIR"}]}}]}},"finalizer":null,"comments":[{"type":"Line","value":" Create the data directory here for the sake of the example.","start":1052,"end":1114,"loc":{"start":{"line":41,"column":0},"end":{"line":41,"column":62}}}]},{"type":"ExpressionStatement","start":1190,"end":1249,"loc":{"start":{"line":47,"column":0},"end":{"line":49,"column":2}},"expression":{"type":"CallExpression","start":1190,"end":1249,"loc":{"start":{"line":47,"column":0},"end":{"line":49,"column":2}},"callee":{"type":"MemberExpression","start":1190,"end":1200,"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":10}},"object":{"type":"Identifier","start":1190,"end":1197,"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":7}},"name":"process"},"property":{"type":"Identifier","start":1198,"end":1200,"loc":{"start":{"line":47,"column":8},"end":{"line":47,"column":10}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":1201,"end":1207,"loc":{"start":{"line":47,"column":11},"end":{"line":47,"column":17}},"value":"exit","raw":"'exit'"},{"type":"FunctionExpression","start":1209,"end":1248,"loc":{"start":{"line":47,"column":19},"end":{"line":49,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1221,"end":1248,"loc":{"start":{"line":47,"column":31},"end":{"line":49,"column":1}},"body":[{"type":"ExpressionStatement","start":1225,"end":1246,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":23}},"expression":{"type":"CallExpression","start":1225,"end":1246,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":23}},"callee":{"type":"MemberExpression","start":1225,"end":1236,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":13}},"object":{"type":"Identifier","start":1225,"end":1231,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":8}},"name":"rimraf"},"property":{"type":"Identifier","start":1232,"end":1236,"loc":{"start":{"line":48,"column":9},"end":{"line":48,"column":13}},"name":"sync"},"computed":false},"arguments":[{"type":"Identifier","start":1237,"end":1245,"loc":{"start":{"line":48,"column":14},"end":{"line":48,"column":22}},"name":"DATA_DIR"}]}}]}}]}},{"type":"ExpressionStatement","start":1251,"end":1282,"loc":{"start":{"line":51,"column":0},"end":{"line":51,"column":31}},"expression":{"type":"CallExpression","start":1251,"end":1282,"loc":{"start":{"line":51,"column":0},"end":{"line":51,"column":31}},"callee":{"type":"MemberExpression","start":1251,"end":1258,"loc":{"start":{"line":51,"column":0},"end":{"line":51,"column":7}},"object":{"type":"Identifier","start":1251,"end":1254,"loc":{"start":{"line":51,"column":0},"end":{"line":51,"column":3}},"name":"app"},"property":{"type":"Identifier","start":1255,"end":1258,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":1259,"end":1281,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":30}},"callee":{"type":"MemberExpression","start":1259,"end":1272,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":21}},"object":{"type":"Identifier","start":1259,"end":1268,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":17}},"name":"companion"},"property":{"type":"Identifier","start":1269,"end":1272,"loc":{"start":{"line":51,"column":18},"end":{"line":51,"column":21}},"name":"app"},"computed":false},"arguments":[{"type":"Identifier","start":1273,"end":1280,"loc":{"start":{"line":51,"column":22},"end":{"line":51,"column":29}},"name":"options"}]}]}},{"type":"VariableDeclaration","start":1284,"end":1366,"loc":{"start":{"line":53,"column":0},"end":{"line":55,"column":2}},"declarations":[{"type":"VariableDeclarator","start":1290,"end":1366,"loc":{"start":{"line":53,"column":6},"end":{"line":55,"column":2}},"id":{"type":"Identifier","start":1290,"end":1296,"loc":{"start":{"line":53,"column":6},"end":{"line":53,"column":12}},"name":"server"},"init":{"type":"CallExpression","start":1299,"end":1366,"loc":{"start":{"line":53,"column":15},"end":{"line":55,"column":2}},"callee":{"type":"MemberExpression","start":1299,"end":1309,"loc":{"start":{"line":53,"column":15},"end":{"line":53,"column":25}},"object":{"type":"Identifier","start":1299,"end":1302,"loc":{"start":{"line":53,"column":15},"end":{"line":53,"column":18}},"name":"app"},"property":{"type":"Identifier","start":1303,"end":1309,"loc":{"start":{"line":53,"column":19},"end":{"line":53,"column":25}},"name":"listen"},"computed":false},"arguments":[{"type":"Literal","start":1310,"end":1314,"loc":{"start":{"line":53,"column":26},"end":{"line":53,"column":30}},"value":3020,"raw":"3020"},{"type":"ArrowFunctionExpression","start":1316,"end":1365,"loc":{"start":{"line":53,"column":32},"end":{"line":55,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1322,"end":1365,"loc":{"start":{"line":53,"column":38},"end":{"line":55,"column":1}},"body":[{"type":"ExpressionStatement","start":1326,"end":1363,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":39}},"expression":{"type":"CallExpression","start":1326,"end":1363,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":39}},"callee":{"type":"MemberExpression","start":1326,"end":1337,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":13}},"object":{"type":"Identifier","start":1326,"end":1333,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":9}},"name":"console"},"property":{"type":"Identifier","start":1334,"end":1337,"loc":{"start":{"line":54,"column":10},"end":{"line":54,"column":13}},"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":1338,"end":1362,"loc":{"start":{"line":54,"column":14},"end":{"line":54,"column":38}},"value":"listening on port 3020","raw":"'listening on port 3020'"}]}}]}}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1368,"end":1401,"loc":{"start":{"line":57,"column":0},"end":{"line":57,"column":33}},"expression":{"type":"CallExpression","start":1368,"end":1401,"loc":{"start":{"line":57,"column":0},"end":{"line":57,"column":33}},"callee":{"type":"MemberExpression","start":1368,"end":1384,"loc":{"start":{"line":57,"column":0},"end":{"line":57,"column":16}},"object":{"type":"Identifier","start":1368,"end":1377,"loc":{"start":{"line":57,"column":0},"end":{"line":57,"column":9}},"name":"companion"},"property":{"type":"Identifier","start":1378,"end":1384,"loc":{"start":{"line":57,"column":10},"end":{"line":57,"column":16}},"name":"socket"},"computed":false},"arguments":[{"type":"Identifier","start":1385,"end":1391,"loc":{"start":{"line":57,"column":17},"end":{"line":57,"column":23}},"name":"server"},{"type":"Identifier","start":1393,"end":1400,"loc":{"start":{"line":57,"column":25},"end":{"line":57,"column":32}},"name":"options"}]}}],"sourceType":"script"}