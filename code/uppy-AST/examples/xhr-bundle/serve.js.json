{"type":"Program","start":0,"end":388,"body":[{"type":"VariableDeclaration","start":0,"end":30,"declarations":[{"type":"VariableDeclarator","start":4,"end":30,"id":{"type":"Identifier","start":4,"end":7,"name":"app"},"init":{"type":"CallExpression","start":10,"end":30,"callee":{"type":"CallExpression","start":10,"end":28,"callee":{"type":"Identifier","start":10,"end":17,"name":"require"},"arguments":[{"type":"Literal","start":18,"end":27,"value":"express","raw":"'express'"}]},"arguments":[]}}],"kind":"var"},{"type":"VariableDeclaration","start":31,"end":57,"declarations":[{"type":"VariableDeclarator","start":35,"end":57,"id":{"type":"Identifier","start":35,"end":39,"name":"cors"},"init":{"type":"CallExpression","start":42,"end":57,"callee":{"type":"Identifier","start":42,"end":49,"name":"require"},"arguments":[{"type":"Literal","start":50,"end":56,"value":"cors","raw":"'cors'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":58,"end":88,"declarations":[{"type":"VariableDeclarator","start":62,"end":88,"id":{"type":"Identifier","start":62,"end":68,"name":"multer"},"init":{"type":"CallExpression","start":71,"end":88,"callee":{"type":"Identifier","start":71,"end":78,"name":"require"},"arguments":[{"type":"Literal","start":79,"end":87,"value":"multer","raw":"'multer'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":90,"end":148,"declarations":[{"type":"VariableDeclarator","start":94,"end":148,"id":{"type":"Identifier","start":94,"end":100,"name":"upload"},"init":{"type":"CallExpression","start":103,"end":148,"callee":{"type":"Identifier","start":103,"end":109,"name":"multer"},"arguments":[{"type":"ObjectExpression","start":110,"end":147,"properties":[{"type":"Property","start":114,"end":145,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":114,"end":121,"name":"storage"},"value":{"type":"CallExpression","start":123,"end":145,"callee":{"type":"MemberExpression","start":123,"end":143,"object":{"type":"Identifier","start":123,"end":129,"name":"multer"},"property":{"type":"Identifier","start":130,"end":143,"name":"memoryStorage"},"computed":false},"arguments":[]},"kind":"init"}]}]}}],"kind":"var"},{"type":"ExpressionStatement","start":150,"end":165,"expression":{"type":"CallExpression","start":150,"end":165,"callee":{"type":"MemberExpression","start":150,"end":157,"object":{"type":"Identifier","start":150,"end":153,"name":"app"},"property":{"type":"Identifier","start":154,"end":157,"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":158,"end":164,"callee":{"type":"Identifier","start":158,"end":162,"name":"cors"},"arguments":[]}]}},{"type":"ExpressionStatement","start":166,"end":221,"expression":{"type":"CallExpression","start":166,"end":221,"callee":{"type":"MemberExpression","start":166,"end":174,"object":{"type":"Identifier","start":166,"end":169,"name":"app"},"property":{"type":"Identifier","start":170,"end":174,"name":"post"},"computed":false},"arguments":[{"type":"Literal","start":175,"end":184,"value":"/upload","raw":"'/upload'"},{"type":"CallExpression","start":186,"end":207,"callee":{"type":"MemberExpression","start":186,"end":198,"object":{"type":"Identifier","start":186,"end":192,"name":"upload"},"property":{"type":"Identifier","start":193,"end":198,"name":"array"},"computed":false},"arguments":[{"type":"Literal","start":199,"end":206,"value":"files","raw":"'files'"}]},{"type":"Identifier","start":209,"end":220,"name":"uploadRoute"}]}},{"type":"ExpressionStatement","start":223,"end":239,"expression":{"type":"CallExpression","start":223,"end":239,"callee":{"type":"MemberExpression","start":223,"end":233,"object":{"type":"Identifier","start":223,"end":226,"name":"app"},"property":{"type":"Identifier","start":227,"end":233,"name":"listen"},"computed":false},"arguments":[{"type":"Literal","start":234,"end":238,"value":9967,"raw":"9967"}]}},{"type":"FunctionDeclaration","start":241,"end":387,"id":{"type":"Identifier","start":250,"end":261,"name":"uploadRoute"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":263,"end":266,"name":"req"},{"type":"Identifier","start":268,"end":271,"name":"res"}],"body":{"type":"BlockStatement","start":273,"end":387,"body":[{"type":"ExpressionStatement","start":277,"end":385,"expression":{"type":"CallExpression","start":277,"end":385,"callee":{"type":"MemberExpression","start":277,"end":285,"object":{"type":"Identifier","start":277,"end":280,"name":"res"},"property":{"type":"Identifier","start":281,"end":285,"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":286,"end":384,"properties":[{"type":"Property","start":292,"end":380,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":292,"end":297,"name":"files"},"value":{"type":"CallExpression","start":299,"end":380,"callee":{"type":"MemberExpression","start":299,"end":312,"object":{"type":"MemberExpression","start":299,"end":308,"object":{"type":"Identifier","start":299,"end":302,"name":"req"},"property":{"type":"Identifier","start":303,"end":308,"name":"files"},"computed":false},"property":{"type":"Identifier","start":309,"end":312,"name":"map"},"computed":false},"arguments":[{"type":"FunctionExpression","start":313,"end":379,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":323,"end":327,"name":"file"}],"body":{"type":"BlockStatement","start":329,"end":379,"body":[{"type":"ExpressionStatement","start":337,"end":355,"expression":{"type":"UnaryExpression","start":337,"end":355,"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":344,"end":355,"object":{"type":"Identifier","start":344,"end":348,"name":"file"},"property":{"type":"Identifier","start":349,"end":355,"name":"buffer"},"computed":false}}},{"type":"ReturnStatement","start":362,"end":373,"argument":{"type":"Identifier","start":369,"end":373,"name":"file"}}]}}]},"kind":"init"}]}]}}]}}],"sourceType":"script"}