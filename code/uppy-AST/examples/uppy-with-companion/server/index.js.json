{"type":"Program","start":0,"end":1668,"body":[{"type":"VariableDeclaration","start":0,"end":34,"declarations":[{"type":"VariableDeclarator","start":6,"end":34,"id":{"type":"Identifier","start":6,"end":13,"name":"express"},"init":{"type":"CallExpression","start":16,"end":34,"callee":{"type":"Identifier","start":16,"end":23,"name":"require"},"arguments":[{"type":"Literal","start":24,"end":33,"value":"express","raw":"'express'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":35,"end":97,"declarations":[{"type":"VariableDeclarator","start":41,"end":97,"id":{"type":"Identifier","start":41,"end":50,"name":"companion"},"init":{"type":"CallExpression","start":53,"end":97,"callee":{"type":"Identifier","start":53,"end":60,"name":"require"},"arguments":[{"type":"Literal","start":61,"end":96,"value":"../../../packages/@uppy/companion","raw":"'../../../packages/@uppy/companion'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":98,"end":139,"declarations":[{"type":"VariableDeclarator","start":104,"end":139,"id":{"type":"Identifier","start":104,"end":114,"name":"bodyParser"},"init":{"type":"CallExpression","start":117,"end":139,"callee":{"type":"Identifier","start":117,"end":124,"name":"require"},"arguments":[{"type":"Literal","start":125,"end":138,"value":"body-parser","raw":"'body-parser'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":140,"end":182,"declarations":[{"type":"VariableDeclarator","start":146,"end":182,"id":{"type":"Identifier","start":146,"end":153,"name":"session"},"init":{"type":"CallExpression","start":156,"end":182,"callee":{"type":"Identifier","start":156,"end":163,"name":"require"},"arguments":[{"type":"Literal","start":164,"end":181,"value":"express-session","raw":"'express-session'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":184,"end":205,"declarations":[{"type":"VariableDeclarator","start":190,"end":205,"id":{"type":"Identifier","start":190,"end":193,"name":"app"},"init":{"type":"CallExpression","start":196,"end":205,"callee":{"type":"Identifier","start":196,"end":203,"name":"express"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":207,"end":233,"expression":{"type":"CallExpression","start":207,"end":233,"callee":{"type":"MemberExpression","start":207,"end":214,"object":{"type":"Identifier","start":207,"end":210,"name":"app"},"property":{"type":"Identifier","start":211,"end":214,"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":215,"end":232,"callee":{"type":"MemberExpression","start":215,"end":230,"object":{"type":"Identifier","start":215,"end":225,"name":"bodyParser"},"property":{"type":"Identifier","start":226,"end":230,"name":"json"},"computed":false},"arguments":[]}]}},{"type":"ExpressionStatement","start":234,"end":322,"expression":{"type":"CallExpression","start":234,"end":322,"callee":{"type":"MemberExpression","start":234,"end":241,"object":{"type":"Identifier","start":234,"end":237,"name":"app"},"property":{"type":"Identifier","start":238,"end":241,"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":242,"end":321,"callee":{"type":"Identifier","start":242,"end":249,"name":"session"},"arguments":[{"type":"ObjectExpression","start":250,"end":320,"properties":[{"type":"Property","start":254,"end":275,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":254,"end":260,"name":"secret"},"value":{"type":"Literal","start":262,"end":275,"value":"some-secret","raw":"'some-secret'"},"kind":"init"},{"type":"Property","start":279,"end":291,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":279,"end":285,"name":"resave"},"value":{"type":"Literal","start":287,"end":291,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":295,"end":318,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":295,"end":312,"name":"saveUninitialized"},"value":{"type":"Literal","start":314,"end":318,"value":true,"raw":"true"},"kind":"init"}]}]}]}},{"type":"ExpressionStatement","start":324,"end":648,"expression":{"type":"CallExpression","start":324,"end":648,"callee":{"type":"MemberExpression","start":324,"end":331,"object":{"type":"Identifier","start":324,"end":327,"name":"app"},"property":{"type":"Identifier","start":328,"end":331,"name":"use"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":332,"end":647,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":333,"end":336,"name":"req"},{"type":"Identifier","start":338,"end":341,"name":"res"},{"type":"Identifier","start":343,"end":347,"name":"next"}],"body":{"type":"BlockStatement","start":352,"end":647,"body":[{"type":"ExpressionStatement","start":356,"end":427,"expression":{"type":"CallExpression","start":356,"end":427,"callee":{"type":"MemberExpression","start":356,"end":369,"object":{"type":"Identifier","start":356,"end":359,"name":"res"},"property":{"type":"Identifier","start":360,"end":369,"name":"setHeader"},"computed":false},"arguments":[{"type":"Literal","start":370,"end":399,"value":"Access-Control-Allow-Origin","raw":"'Access-Control-Allow-Origin'"},{"type":"LogicalExpression","start":401,"end":426,"left":{"type":"MemberExpression","start":401,"end":419,"object":{"type":"MemberExpression","start":401,"end":412,"object":{"type":"Identifier","start":401,"end":404,"name":"req"},"property":{"type":"Identifier","start":405,"end":412,"name":"headers"},"computed":false},"property":{"type":"Identifier","start":413,"end":419,"name":"origin"},"computed":false},"operator":"||","right":{"type":"Literal","start":423,"end":426,"value":"*","raw":"'*'"}}]}},{"type":"ExpressionStatement","start":430,"end":529,"expression":{"type":"CallExpression","start":430,"end":529,"callee":{"type":"MemberExpression","start":430,"end":443,"object":{"type":"Identifier","start":430,"end":433,"name":"res"},"property":{"type":"Identifier","start":434,"end":443,"name":"setHeader"},"computed":false},"arguments":[{"type":"Literal","start":449,"end":479,"value":"Access-Control-Allow-Methods","raw":"'Access-Control-Allow-Methods'"},{"type":"Literal","start":485,"end":525,"value":"GET, POST, OPTIONS, PUT, PATCH, DELETE","raw":"'GET, POST, OPTIONS, PUT, PATCH, DELETE'"}]}},{"type":"ExpressionStatement","start":532,"end":636,"expression":{"type":"CallExpression","start":532,"end":636,"callee":{"type":"MemberExpression","start":532,"end":545,"object":{"type":"Identifier","start":532,"end":535,"name":"res"},"property":{"type":"Identifier","start":536,"end":545,"name":"setHeader"},"computed":false},"arguments":[{"type":"Literal","start":551,"end":581,"value":"Access-Control-Allow-Headers","raw":"'Access-Control-Allow-Headers'"},{"type":"Literal","start":587,"end":632,"value":"Authorization, Origin, Content-Type, Accept","raw":"'Authorization, Origin, Content-Type, Accept'"}]}},{"type":"ExpressionStatement","start":639,"end":645,"expression":{"type":"CallExpression","start":639,"end":645,"callee":{"type":"Identifier","start":639,"end":643,"name":"next"},"arguments":[]}}]}}]}},{"type":"ExpressionStatement","start":660,"end":772,"expression":{"type":"CallExpression","start":660,"end":772,"callee":{"type":"MemberExpression","start":660,"end":667,"object":{"type":"Identifier","start":660,"end":663,"name":"app"},"property":{"type":"Identifier","start":664,"end":667,"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":668,"end":671,"value":"/","raw":"'/'"},{"type":"ArrowFunctionExpression","start":673,"end":771,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":674,"end":677,"name":"req"},{"type":"Identifier","start":679,"end":682,"name":"res"}],"body":{"type":"BlockStatement","start":687,"end":771,"body":[{"type":"ExpressionStatement","start":691,"end":734,"expression":{"type":"CallExpression","start":691,"end":734,"callee":{"type":"MemberExpression","start":691,"end":704,"object":{"type":"Identifier","start":691,"end":694,"name":"res"},"property":{"type":"Identifier","start":695,"end":704,"name":"setHeader"},"computed":false},"arguments":[{"type":"Literal","start":705,"end":719,"value":"Content-Type","raw":"'Content-Type'"},{"type":"Literal","start":721,"end":733,"value":"text/plain","raw":"'text/plain'"}]}},{"type":"ExpressionStatement","start":737,"end":769,"expression":{"type":"CallExpression","start":737,"end":769,"callee":{"type":"MemberExpression","start":737,"end":745,"object":{"type":"Identifier","start":737,"end":740,"name":"res"},"property":{"type":"Identifier","start":741,"end":745,"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":746,"end":768,"value":"Welcome to Companion","raw":"'Welcome to Companion'"}]}}]}}]}},{"type":"VariableDeclaration","start":793,"end":1200,"declarations":[{"type":"VariableDeclarator","start":799,"end":1200,"id":{"type":"Identifier","start":799,"end":810,"name":"uppyOptions"},"init":{"type":"ObjectExpression","start":813,"end":1200,"properties":[{"type":"Property","start":817,"end":1068,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":817,"end":832,"name":"providerOptions"},"value":{"type":"ObjectExpression","start":834,"end":1068,"properties":[{"type":"Property","start":840,"end":920,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":840,"end":846,"name":"google"},"value":{"type":"ObjectExpression","start":848,"end":920,"properties":[{"type":"Property","start":856,"end":878,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":856,"end":859,"name":"key"},"value":{"type":"Literal","start":861,"end":878,"value":"your google key","raw":"'your google key'"},"kind":"init"},{"type":"Property","start":886,"end":914,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":886,"end":892,"name":"secret"},"value":{"type":"Literal","start":894,"end":914,"value":"your google secret","raw":"'your google secret'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":926,"end":1015,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":926,"end":935,"name":"instagram"},"value":{"type":"ObjectExpression","start":937,"end":1015,"properties":[{"type":"Property","start":945,"end":970,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":945,"end":948,"name":"key"},"value":{"type":"Literal","start":950,"end":970,"value":"your instagram key","raw":"'your instagram key'"},"kind":"init"},{"type":"Property","start":978,"end":1009,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":978,"end":984,"name":"secret"},"value":{"type":"Literal","start":986,"end":1009,"value":"your instagram secret","raw":"'your instagram secret'"},"kind":"init"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":1072,"end":1134,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1072,"end":1078,"name":"server"},"value":{"type":"ObjectExpression","start":1080,"end":1134,"properties":[{"type":"Property","start":1086,"end":1108,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1086,"end":1090,"name":"host"},"value":{"type":"Literal","start":1092,"end":1108,"value":"localhost:3020","raw":"'localhost:3020'"},"kind":"init"},{"type":"Property","start":1114,"end":1130,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1114,"end":1122,"name":"protocol"},"value":{"type":"Literal","start":1124,"end":1130,"value":"http","raw":"'http'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":1138,"end":1158,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1138,"end":1146,"name":"filePath"},"value":{"type":"Literal","start":1148,"end":1158,"value":"./output","raw":"'./output'"},"kind":"init"},{"type":"Property","start":1162,"end":1183,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1162,"end":1168,"name":"secret"},"value":{"type":"Literal","start":1170,"end":1183,"value":"some-secret","raw":"'some-secret'"},"kind":"init"},{"type":"Property","start":1187,"end":1198,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1187,"end":1192,"name":"debug"},"value":{"type":"Literal","start":1194,"end":1198,"value":true,"raw":"true"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1202,"end":1237,"expression":{"type":"CallExpression","start":1202,"end":1237,"callee":{"type":"MemberExpression","start":1202,"end":1209,"object":{"type":"Identifier","start":1202,"end":1205,"name":"app"},"property":{"type":"Identifier","start":1206,"end":1209,"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":1210,"end":1236,"callee":{"type":"MemberExpression","start":1210,"end":1223,"object":{"type":"Identifier","start":1210,"end":1219,"name":"companion"},"property":{"type":"Identifier","start":1220,"end":1223,"name":"app"},"computed":false},"arguments":[{"type":"Identifier","start":1224,"end":1235,"name":"uppyOptions"}]}]}},{"type":"ExpressionStatement","start":1253,"end":1341,"expression":{"type":"CallExpression","start":1253,"end":1341,"callee":{"type":"MemberExpression","start":1253,"end":1260,"object":{"type":"Identifier","start":1253,"end":1256,"name":"app"},"property":{"type":"Identifier","start":1257,"end":1260,"name":"use"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1261,"end":1340,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1262,"end":1265,"name":"req"},{"type":"Identifier","start":1267,"end":1270,"name":"res"},{"type":"Identifier","start":1272,"end":1276,"name":"next"}],"body":{"type":"BlockStatement","start":1281,"end":1340,"body":[{"type":"ReturnStatement","start":1285,"end":1338,"argument":{"type":"CallExpression","start":1292,"end":1338,"callee":{"type":"MemberExpression","start":1292,"end":1312,"object":{"type":"CallExpression","start":1292,"end":1307,"callee":{"type":"MemberExpression","start":1292,"end":1302,"object":{"type":"Identifier","start":1292,"end":1295,"name":"res"},"property":{"type":"Identifier","start":1296,"end":1302,"name":"status"},"computed":false},"arguments":[{"type":"Literal","start":1303,"end":1306,"value":404,"raw":"404"}]},"property":{"type":"Identifier","start":1308,"end":1312,"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1313,"end":1337,"properties":[{"type":"Property","start":1315,"end":1335,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1315,"end":1322,"name":"message"},"value":{"type":"Literal","start":1324,"end":1335,"value":"Not Found","raw":"'Not Found'"},"kind":"init"}]}]}}]}}]}},{"type":"ExpressionStatement","start":1367,"end":1529,"expression":{"type":"CallExpression","start":1367,"end":1529,"callee":{"type":"MemberExpression","start":1367,"end":1374,"object":{"type":"Identifier","start":1367,"end":1370,"name":"app"},"property":{"type":"Identifier","start":1371,"end":1374,"name":"use"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1375,"end":1528,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1376,"end":1379,"name":"err"},{"type":"Identifier","start":1381,"end":1384,"name":"req"},{"type":"Identifier","start":1386,"end":1389,"name":"res"},{"type":"Identifier","start":1391,"end":1395,"name":"next"}],"body":{"type":"BlockStatement","start":1400,"end":1528,"body":[{"type":"ExpressionStatement","start":1404,"end":1451,"expression":{"type":"CallExpression","start":1404,"end":1451,"callee":{"type":"MemberExpression","start":1404,"end":1417,"object":{"type":"Identifier","start":1404,"end":1411,"name":"console"},"property":{"type":"Identifier","start":1412,"end":1417,"name":"error"},"computed":false},"arguments":[{"type":"Literal","start":1418,"end":1428,"value":"\u001b[31m","raw":"'\\x1b[31m'"},{"type":"MemberExpression","start":1430,"end":1439,"object":{"type":"Identifier","start":1430,"end":1433,"name":"err"},"property":{"type":"Identifier","start":1434,"end":1439,"name":"stack"},"computed":false},{"type":"Literal","start":1441,"end":1450,"value":"\u001b[0m","raw":"'\\x1b[0m'"}]}},{"type":"ExpressionStatement","start":1454,"end":1526,"expression":{"type":"CallExpression","start":1454,"end":1526,"callee":{"type":"MemberExpression","start":1454,"end":1488,"object":{"type":"CallExpression","start":1454,"end":1483,"callee":{"type":"MemberExpression","start":1454,"end":1464,"object":{"type":"Identifier","start":1454,"end":1457,"name":"res"},"property":{"type":"Identifier","start":1458,"end":1464,"name":"status"},"computed":false},"arguments":[{"type":"LogicalExpression","start":1465,"end":1482,"left":{"type":"MemberExpression","start":1465,"end":1475,"object":{"type":"Identifier","start":1465,"end":1468,"name":"err"},"property":{"type":"Identifier","start":1469,"end":1475,"name":"status"},"computed":false},"operator":"||","right":{"type":"Literal","start":1479,"end":1482,"value":500,"raw":"500"}}]},"property":{"type":"Identifier","start":1484,"end":1488,"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1489,"end":1525,"properties":[{"type":"Property","start":1491,"end":1511,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1491,"end":1498,"name":"message"},"value":{"type":"MemberExpression","start":1500,"end":1511,"object":{"type":"Identifier","start":1500,"end":1503,"name":"err"},"property":{"type":"Identifier","start":1504,"end":1511,"name":"message"},"computed":false},"kind":"init"},{"type":"Property","start":1513,"end":1523,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1513,"end":1518,"name":"error"},"value":{"type":"Identifier","start":1520,"end":1523,"name":"err"},"kind":"init"}]}]}}]}}]}},{"type":"ExpressionStatement","start":1531,"end":1578,"expression":{"type":"CallExpression","start":1531,"end":1578,"callee":{"type":"MemberExpression","start":1531,"end":1547,"object":{"type":"Identifier","start":1531,"end":1540,"name":"companion"},"property":{"type":"Identifier","start":1541,"end":1547,"name":"socket"},"computed":false},"arguments":[{"type":"CallExpression","start":1548,"end":1564,"callee":{"type":"MemberExpression","start":1548,"end":1558,"object":{"type":"Identifier","start":1548,"end":1551,"name":"app"},"property":{"type":"Identifier","start":1552,"end":1558,"name":"listen"},"computed":false},"arguments":[{"type":"Literal","start":1559,"end":1563,"value":3020,"raw":"3020"}]},{"type":"Identifier","start":1566,"end":1577,"name":"uppyOptions"}]}},{"type":"ExpressionStatement","start":1580,"end":1616,"expression":{"type":"CallExpression","start":1580,"end":1616,"callee":{"type":"MemberExpression","start":1580,"end":1591,"object":{"type":"Identifier","start":1580,"end":1587,"name":"console"},"property":{"type":"Identifier","start":1588,"end":1591,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":1592,"end":1615,"value":"Welcome to Companion!","raw":"'Welcome to Companion!'"}]}},{"type":"ExpressionStatement","start":1617,"end":1667,"expression":{"type":"CallExpression","start":1617,"end":1667,"callee":{"type":"MemberExpression","start":1617,"end":1628,"object":{"type":"Identifier","start":1617,"end":1624,"name":"console"},"property":{"type":"Identifier","start":1625,"end":1628,"name":"log"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":1629,"end":1666,"expressions":[{"type":"Literal","start":1660,"end":1664,"value":3020,"raw":"3020"}],"quasis":[{"type":"TemplateElement","start":1630,"end":1658,"value":{"raw":"Listening on http://0.0.0.0:","cooked":"Listening on http://0.0.0.0:"},"tail":false},{"type":"TemplateElement","start":1665,"end":1665,"value":{"raw":"","cooked":""},"tail":true}]}]}}],"sourceType":"script"}