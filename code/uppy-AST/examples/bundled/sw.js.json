{"type":"Program","start":0,"end":1519,"body":[{"type":"VariableDeclaration","start":165,"end":202,"declarations":[{"type":"VariableDeclarator","start":171,"end":202,"id":{"type":"Identifier","start":171,"end":180,"name":"fileCache"},"init":{"type":"CallExpression","start":183,"end":202,"callee":{"type":"MemberExpression","start":183,"end":196,"object":{"type":"Identifier","start":183,"end":189,"name":"Object"},"property":{"type":"Identifier","start":190,"end":196,"name":"create"},"computed":false},"arguments":[{"type":"Literal","start":197,"end":201,"value":null,"raw":"null"}]}}],"kind":"const"},{"type":"FunctionDeclaration","start":204,"end":329,"id":{"type":"Identifier","start":213,"end":221,"name":"getCache"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":223,"end":227,"name":"name"}],"body":{"type":"BlockStatement","start":229,"end":329,"body":[{"type":"IfStatement","start":233,"end":302,"test":{"type":"UnaryExpression","start":237,"end":253,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":238,"end":253,"object":{"type":"Identifier","start":238,"end":247,"name":"fileCache"},"property":{"type":"Identifier","start":248,"end":252,"name":"name"},"computed":true}},"consequent":{"type":"BlockStatement","start":255,"end":302,"body":[{"type":"ExpressionStatement","start":261,"end":298,"expression":{"type":"AssignmentExpression","start":261,"end":298,"operator":"=","left":{"type":"MemberExpression","start":261,"end":276,"object":{"type":"Identifier","start":261,"end":270,"name":"fileCache"},"property":{"type":"Identifier","start":271,"end":275,"name":"name"},"computed":true},"right":{"type":"CallExpression","start":279,"end":298,"callee":{"type":"MemberExpression","start":279,"end":292,"object":{"type":"Identifier","start":279,"end":285,"name":"Object"},"property":{"type":"Identifier","start":286,"end":292,"name":"create"},"computed":false},"arguments":[{"type":"Literal","start":293,"end":297,"value":null,"raw":"null"}]}}}]},"alternate":null},{"type":"ReturnStatement","start":305,"end":327,"argument":{"type":"MemberExpression","start":312,"end":327,"object":{"type":"Identifier","start":312,"end":321,"name":"fileCache"},"property":{"type":"Identifier","start":322,"end":326,"name":"name"},"computed":true}}]}},{"type":"ExpressionStatement","start":331,"end":504,"expression":{"type":"CallExpression","start":331,"end":504,"callee":{"type":"MemberExpression","start":331,"end":352,"object":{"type":"Identifier","start":331,"end":335,"name":"self"},"property":{"type":"Identifier","start":336,"end":352,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":353,"end":362,"value":"install","raw":"'install'"},{"type":"ArrowFunctionExpression","start":364,"end":503,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":365,"end":370,"name":"event"}],"body":{"type":"BlockStatement","start":375,"end":503,"body":[{"type":"ExpressionStatement","start":379,"end":427,"expression":{"type":"CallExpression","start":379,"end":427,"callee":{"type":"MemberExpression","start":379,"end":390,"object":{"type":"Identifier","start":379,"end":386,"name":"console"},"property":{"type":"Identifier","start":387,"end":390,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":391,"end":426,"value":"Installing Uppy Service Worker...","raw":"'Installing Uppy Service Worker...'"}]}},{"type":"ExpressionStatement","start":431,"end":501,"expression":{"type":"CallExpression","start":431,"end":501,"callee":{"type":"MemberExpression","start":431,"end":446,"object":{"type":"Identifier","start":431,"end":436,"name":"event"},"property":{"type":"Identifier","start":437,"end":446,"name":"waitUntil"},"computed":false},"arguments":[{"type":"CallExpression","start":447,"end":500,"callee":{"type":"MemberExpression","start":447,"end":474,"object":{"type":"CallExpression","start":447,"end":464,"callee":{"type":"MemberExpression","start":447,"end":462,"object":{"type":"Identifier","start":447,"end":454,"name":"Promise"},"property":{"type":"Identifier","start":455,"end":462,"name":"resolve"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":470,"end":474,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":475,"end":499,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":481,"end":499,"callee":{"type":"MemberExpression","start":481,"end":497,"object":{"type":"Identifier","start":481,"end":485,"name":"self"},"property":{"type":"Identifier","start":486,"end":497,"name":"skipWaiting"},"computed":false},"arguments":[]}}]}]}}]}}]}},{"type":"ExpressionStatement","start":506,"end":595,"expression":{"type":"CallExpression","start":506,"end":595,"callee":{"type":"MemberExpression","start":506,"end":527,"object":{"type":"Identifier","start":506,"end":510,"name":"self"},"property":{"type":"Identifier","start":511,"end":527,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":528,"end":538,"value":"activate","raw":"'activate'"},{"type":"ArrowFunctionExpression","start":540,"end":594,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":541,"end":546,"name":"event"}],"body":{"type":"BlockStatement","start":551,"end":594,"body":[{"type":"ExpressionStatement","start":555,"end":592,"expression":{"type":"CallExpression","start":555,"end":592,"callee":{"type":"MemberExpression","start":555,"end":570,"object":{"type":"Identifier","start":555,"end":560,"name":"event"},"property":{"type":"Identifier","start":561,"end":570,"name":"waitUntil"},"computed":false},"arguments":[{"type":"CallExpression","start":571,"end":591,"callee":{"type":"MemberExpression","start":571,"end":589,"object":{"type":"MemberExpression","start":571,"end":583,"object":{"type":"Identifier","start":571,"end":575,"name":"self"},"property":{"type":"Identifier","start":576,"end":583,"name":"clients"},"computed":false},"property":{"type":"Identifier","start":584,"end":589,"name":"claim"},"computed":false},"arguments":[]}]}}]}}]}},{"type":"FunctionDeclaration","start":597,"end":756,"id":{"type":"Identifier","start":606,"end":629,"name":"sendMessageToAllClients"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":631,"end":634,"name":"msg"}],"body":{"type":"BlockStatement","start":636,"end":756,"body":[{"type":"ExpressionStatement","start":640,"end":754,"expression":{"type":"CallExpression","start":640,"end":754,"callee":{"type":"MemberExpression","start":640,"end":663,"object":{"type":"CallExpression","start":640,"end":658,"callee":{"type":"MemberExpression","start":640,"end":656,"object":{"type":"Identifier","start":640,"end":647,"name":"clients"},"property":{"type":"Identifier","start":648,"end":656,"name":"matchAll"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":659,"end":663,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":664,"end":753,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":665,"end":672,"name":"clients"}],"body":{"type":"BlockStatement","start":677,"end":753,"body":[{"type":"ExpressionStatement","start":683,"end":749,"expression":{"type":"CallExpression","start":683,"end":749,"callee":{"type":"MemberExpression","start":683,"end":698,"object":{"type":"Identifier","start":683,"end":690,"name":"clients"},"property":{"type":"Identifier","start":691,"end":698,"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":699,"end":748,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":700,"end":706,"name":"client"}],"body":{"type":"BlockStatement","start":711,"end":748,"body":[{"type":"ExpressionStatement","start":719,"end":742,"expression":{"type":"CallExpression","start":719,"end":742,"callee":{"type":"MemberExpression","start":719,"end":737,"object":{"type":"Identifier","start":719,"end":725,"name":"client"},"property":{"type":"Identifier","start":726,"end":737,"name":"postMessage"},"computed":false},"arguments":[{"type":"Identifier","start":738,"end":741,"name":"msg"}]}}]}}]}}]}}]}}]}},{"type":"FunctionDeclaration","start":758,"end":900,"id":{"type":"Identifier","start":767,"end":774,"name":"addFile"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":776,"end":781,"name":"store"},{"type":"Identifier","start":783,"end":787,"name":"file"}],"body":{"type":"BlockStatement","start":789,"end":900,"body":[{"type":"ExpressionStatement","start":793,"end":829,"expression":{"type":"AssignmentExpression","start":793,"end":829,"operator":"=","left":{"type":"MemberExpression","start":793,"end":817,"object":{"type":"CallExpression","start":793,"end":808,"callee":{"type":"Identifier","start":793,"end":801,"name":"getCache"},"arguments":[{"type":"Identifier","start":802,"end":807,"name":"store"}]},"property":{"type":"MemberExpression","start":809,"end":816,"object":{"type":"Identifier","start":809,"end":813,"name":"file"},"property":{"type":"Identifier","start":814,"end":816,"name":"id"},"computed":false},"computed":true},"right":{"type":"MemberExpression","start":820,"end":829,"object":{"type":"Identifier","start":820,"end":824,"name":"file"},"property":{"type":"Identifier","start":825,"end":829,"name":"data"},"computed":false}}},{"type":"ExpressionStatement","start":832,"end":898,"expression":{"type":"CallExpression","start":832,"end":898,"callee":{"type":"MemberExpression","start":832,"end":843,"object":{"type":"Identifier","start":832,"end":839,"name":"console"},"property":{"type":"Identifier","start":840,"end":843,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":844,"end":886,"value":"Added file blob to service worker cache:","raw":"'Added file blob to service worker cache:'"},{"type":"MemberExpression","start":888,"end":897,"object":{"type":"Identifier","start":888,"end":892,"name":"file"},"property":{"type":"Identifier","start":893,"end":897,"name":"data"},"computed":false}]}}]}},{"type":"FunctionDeclaration","start":902,"end":1044,"id":{"type":"Identifier","start":911,"end":921,"name":"removeFile"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":923,"end":928,"name":"store"},{"type":"Identifier","start":930,"end":936,"name":"fileID"}],"body":{"type":"BlockStatement","start":938,"end":1044,"body":[{"type":"ExpressionStatement","start":942,"end":972,"expression":{"type":"UnaryExpression","start":942,"end":972,"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":949,"end":972,"object":{"type":"CallExpression","start":949,"end":964,"callee":{"type":"Identifier","start":949,"end":957,"name":"getCache"},"arguments":[{"type":"Identifier","start":958,"end":963,"name":"store"}]},"property":{"type":"Identifier","start":965,"end":971,"name":"fileID"},"computed":true}}},{"type":"ExpressionStatement","start":975,"end":1042,"expression":{"type":"CallExpression","start":975,"end":1042,"callee":{"type":"MemberExpression","start":975,"end":986,"object":{"type":"Identifier","start":975,"end":982,"name":"console"},"property":{"type":"Identifier","start":983,"end":986,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":987,"end":1033,"value":"Removed file blob from service worker cache:","raw":"'Removed file blob from service worker cache:'"},{"type":"Identifier","start":1035,"end":1041,"name":"fileID"}]}}]}},{"type":"FunctionDeclaration","start":1046,"end":1181,"id":{"type":"Identifier","start":1055,"end":1063,"name":"getFiles"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1065,"end":1070,"name":"store"}],"body":{"type":"BlockStatement","start":1072,"end":1181,"body":[{"type":"ExpressionStatement","start":1076,"end":1179,"expression":{"type":"CallExpression","start":1076,"end":1179,"callee":{"type":"Identifier","start":1076,"end":1099,"name":"sendMessageToAllClients"},"arguments":[{"type":"ObjectExpression","start":1100,"end":1178,"properties":[{"type":"Property","start":1106,"end":1128,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1106,"end":1110,"name":"type"},"value":{"type":"Literal","start":1112,"end":1128,"value":"uppy/ALL_FILES","raw":"'uppy/ALL_FILES'"},"kind":"init"},{"type":"Property","start":1134,"end":1146,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1134,"end":1139,"name":"store"},"value":{"type":"Identifier","start":1141,"end":1146,"name":"store"},"kind":"init"},{"type":"Property","start":1152,"end":1174,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1152,"end":1157,"name":"files"},"value":{"type":"CallExpression","start":1159,"end":1174,"callee":{"type":"Identifier","start":1159,"end":1167,"name":"getCache"},"arguments":[{"type":"Identifier","start":1168,"end":1173,"name":"store"}]},"kind":"init"}]}]}}]}},{"type":"ExpressionStatement","start":1183,"end":1518,"expression":{"type":"CallExpression","start":1183,"end":1518,"callee":{"type":"MemberExpression","start":1183,"end":1204,"object":{"type":"Identifier","start":1183,"end":1187,"name":"self"},"property":{"type":"Identifier","start":1188,"end":1204,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":1205,"end":1214,"value":"message","raw":"'message'"},{"type":"ArrowFunctionExpression","start":1216,"end":1517,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1217,"end":1222,"name":"event"}],"body":{"type":"BlockStatement","start":1227,"end":1517,"body":[{"type":"SwitchStatement","start":1231,"end":1515,"discriminant":{"type":"MemberExpression","start":1239,"end":1254,"object":{"type":"MemberExpression","start":1239,"end":1249,"object":{"type":"Identifier","start":1239,"end":1244,"name":"event"},"property":{"type":"Identifier","start":1245,"end":1249,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1250,"end":1254,"name":"type"},"computed":false},"cases":[{"type":"SwitchCase","start":1262,"end":1344,"consequent":[{"type":"ExpressionStatement","start":1290,"end":1332,"expression":{"type":"CallExpression","start":1290,"end":1332,"callee":{"type":"Identifier","start":1290,"end":1297,"name":"addFile"},"arguments":[{"type":"MemberExpression","start":1298,"end":1314,"object":{"type":"MemberExpression","start":1298,"end":1308,"object":{"type":"Identifier","start":1298,"end":1303,"name":"event"},"property":{"type":"Identifier","start":1304,"end":1308,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1309,"end":1314,"name":"store"},"computed":false},{"type":"MemberExpression","start":1316,"end":1331,"object":{"type":"MemberExpression","start":1316,"end":1326,"object":{"type":"Identifier","start":1316,"end":1321,"name":"event"},"property":{"type":"Identifier","start":1322,"end":1326,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1327,"end":1331,"name":"file"},"computed":false}]}},{"type":"BreakStatement","start":1339,"end":1344,"label":null}],"test":{"type":"Literal","start":1267,"end":1282,"value":"uppy/ADD_FILE","raw":"'uppy/ADD_FILE'"}},{"type":"SwitchCase","start":1349,"end":1439,"consequent":[{"type":"ExpressionStatement","start":1380,"end":1427,"expression":{"type":"CallExpression","start":1380,"end":1427,"callee":{"type":"Identifier","start":1380,"end":1390,"name":"removeFile"},"arguments":[{"type":"MemberExpression","start":1391,"end":1407,"object":{"type":"MemberExpression","start":1391,"end":1401,"object":{"type":"Identifier","start":1391,"end":1396,"name":"event"},"property":{"type":"Identifier","start":1397,"end":1401,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1402,"end":1407,"name":"store"},"computed":false},{"type":"MemberExpression","start":1409,"end":1426,"object":{"type":"MemberExpression","start":1409,"end":1419,"object":{"type":"Identifier","start":1409,"end":1414,"name":"event"},"property":{"type":"Identifier","start":1415,"end":1419,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1420,"end":1426,"name":"fileID"},"computed":false}]}},{"type":"BreakStatement","start":1434,"end":1439,"label":null}],"test":{"type":"Literal","start":1354,"end":1372,"value":"uppy/REMOVE_FILE","raw":"'uppy/REMOVE_FILE'"}},{"type":"SwitchCase","start":1444,"end":1511,"consequent":[{"type":"ExpressionStatement","start":1473,"end":1499,"expression":{"type":"CallExpression","start":1473,"end":1499,"callee":{"type":"Identifier","start":1473,"end":1481,"name":"getFiles"},"arguments":[{"type":"MemberExpression","start":1482,"end":1498,"object":{"type":"MemberExpression","start":1482,"end":1492,"object":{"type":"Identifier","start":1482,"end":1487,"name":"event"},"property":{"type":"Identifier","start":1488,"end":1492,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1493,"end":1498,"name":"store"},"computed":false}]}},{"type":"BreakStatement","start":1506,"end":1511,"label":null}],"test":{"type":"Literal","start":1449,"end":1465,"value":"uppy/GET_FILES","raw":"'uppy/GET_FILES'"}}]}]}}]}}],"sourceType":"script"}