{"type":"Program","start":0,"end":720,"loc":{"start":{"line":1,"column":0},"end":{"line":32,"column":0}},"body":[{"type":"ImportDeclaration","start":0,"end":28,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}},"specifiers":[{"type":"ImportNamespaceSpecifier","start":7,"end":16,"loc":{"start":{"line":1,"column":7},"end":{"line":1,"column":16}},"local":{"type":"Identifier","start":12,"end":16,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":16}},"name":"Expo"}}],"source":{"type":"Literal","start":22,"end":28,"loc":{"start":{"line":1,"column":22},"end":{"line":1,"column":28}},"value":"expo","raw":"'expo'"}},{"type":"ImportDeclaration","start":29,"end":59,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":30}},"specifiers":[{"type":"ImportDefaultSpecifier","start":36,"end":42,"loc":{"start":{"line":2,"column":7},"end":{"line":2,"column":13}},"local":{"type":"Identifier","start":36,"end":42,"loc":{"start":{"line":2,"column":7},"end":{"line":2,"column":13}},"name":"base64"}}],"source":{"type":"Literal","start":48,"end":59,"loc":{"start":{"line":2,"column":19},"end":{"line":2,"column":30}},"value":"base64-js","raw":"'base64-js'"}},{"type":"ExportDefaultDeclaration","start":61,"end":265,"loc":{"start":{"line":4,"column":0},"end":{"line":8,"column":1}},"declaration":{"type":"FunctionDeclaration","start":76,"end":265,"loc":{"start":{"line":4,"column":15},"end":{"line":8,"column":1}},"id":{"type":"Identifier","start":85,"end":101,"loc":{"start":{"line":4,"column":24},"end":{"line":4,"column":40}},"name":"getTusFileReader"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":103,"end":107,"loc":{"start":{"line":4,"column":42},"end":{"line":4,"column":46}},"name":"file"},{"type":"Identifier","start":109,"end":118,"loc":{"start":{"line":4,"column":48},"end":{"line":4,"column":57}},"name":"chunkSize"},{"type":"Identifier","start":120,"end":122,"loc":{"start":{"line":4,"column":59},"end":{"line":4,"column":61}},"name":"cb"}],"body":{"type":"BlockStatement","start":124,"end":265,"loc":{"start":{"line":4,"column":63},"end":{"line":8,"column":1}},"body":[{"type":"ExpressionStatement","start":128,"end":263,"loc":{"start":{"line":5,"column":2},"end":{"line":7,"column":14}},"expression":{"type":"CallExpression","start":128,"end":263,"loc":{"start":{"line":5,"column":2},"end":{"line":7,"column":14}},"callee":{"type":"MemberExpression","start":128,"end":259,"loc":{"start":{"line":5,"column":2},"end":{"line":7,"column":10}},"object":{"type":"CallExpression","start":128,"end":253,"loc":{"start":{"line":5,"column":2},"end":{"line":7,"column":4}},"callee":{"type":"MemberExpression","start":128,"end":187,"loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":61}},"object":{"type":"CallExpression","start":128,"end":182,"loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":56}},"callee":{"type":"MemberExpression","start":128,"end":156,"loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":30}},"object":{"type":"MemberExpression","start":128,"end":143,"loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":17}},"object":{"type":"Identifier","start":128,"end":132,"loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":6}},"name":"Expo"},"property":{"type":"Identifier","start":133,"end":143,"loc":{"start":{"line":5,"column":7},"end":{"line":5,"column":17}},"name":"FileSystem"},"computed":false},"property":{"type":"Identifier","start":144,"end":156,"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":30}},"name":"getInfoAsync"},"computed":false},"arguments":[{"type":"MemberExpression","start":157,"end":165,"loc":{"start":{"line":5,"column":31},"end":{"line":5,"column":39}},"object":{"type":"Identifier","start":157,"end":161,"loc":{"start":{"line":5,"column":31},"end":{"line":5,"column":35}},"name":"file"},"property":{"type":"Identifier","start":162,"end":165,"loc":{"start":{"line":5,"column":36},"end":{"line":5,"column":39}},"name":"uri"},"computed":false},{"type":"ObjectExpression","start":167,"end":181,"loc":{"start":{"line":5,"column":41},"end":{"line":5,"column":55}},"properties":[{"type":"Property","start":169,"end":179,"loc":{"start":{"line":5,"column":43},"end":{"line":5,"column":53}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":169,"end":173,"loc":{"start":{"line":5,"column":43},"end":{"line":5,"column":47}},"name":"size"},"value":{"type":"Literal","start":175,"end":179,"loc":{"start":{"line":5,"column":49},"end":{"line":5,"column":53}},"value":true,"raw":"true"},"kind":"init"}]}]},"property":{"type":"Identifier","start":183,"end":187,"loc":{"start":{"line":5,"column":57},"end":{"line":5,"column":61}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":188,"end":252,"loc":{"start":{"line":5,"column":62},"end":{"line":7,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":189,"end":193,"loc":{"start":{"line":5,"column":63},"end":{"line":5,"column":67}},"name":"info"}],"body":{"type":"BlockStatement","start":198,"end":252,"loc":{"start":{"line":5,"column":72},"end":{"line":7,"column":3}},"body":[{"type":"ExpressionStatement","start":204,"end":248,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":48}},"expression":{"type":"CallExpression","start":204,"end":248,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":48}},"callee":{"type":"Identifier","start":204,"end":206,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":6}},"name":"cb"},"arguments":[{"type":"Literal","start":207,"end":211,"loc":{"start":{"line":6,"column":7},"end":{"line":6,"column":11}},"value":null,"raw":"null"},{"type":"NewExpression","start":213,"end":247,"loc":{"start":{"line":6,"column":13},"end":{"line":6,"column":47}},"callee":{"type":"Identifier","start":217,"end":230,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":30}},"name":"TusFileReader"},"arguments":[{"type":"Identifier","start":231,"end":235,"loc":{"start":{"line":6,"column":31},"end":{"line":6,"column":35}},"name":"file"},{"type":"MemberExpression","start":237,"end":246,"loc":{"start":{"line":6,"column":37},"end":{"line":6,"column":46}},"object":{"type":"Identifier","start":237,"end":241,"loc":{"start":{"line":6,"column":37},"end":{"line":6,"column":41}},"name":"info"},"property":{"type":"Identifier","start":242,"end":246,"loc":{"start":{"line":6,"column":42},"end":{"line":6,"column":46}},"name":"size"},"computed":false}]}]}}]}}]},"property":{"type":"Identifier","start":254,"end":259,"loc":{"start":{"line":7,"column":5},"end":{"line":7,"column":10}},"name":"catch"},"computed":false},"arguments":[{"type":"Identifier","start":260,"end":262,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":13}},"name":"cb"}]}}]}}},{"type":"ClassDeclaration","start":267,"end":719,"loc":{"start":{"line":10,"column":0},"end":{"line":31,"column":1}},"id":{"type":"Identifier","start":273,"end":286,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":19}},"name":"TusFileReader"},"superClass":null,"body":{"type":"ClassBody","start":287,"end":719,"loc":{"start":{"line":10,"column":20},"end":{"line":31,"column":1}},"body":[{"type":"MethodDefinition","start":291,"end":363,"loc":{"start":{"line":11,"column":2},"end":{"line":14,"column":3}},"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":291,"end":302,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":13}},"name":"constructor"},"value":{"type":"FunctionExpression","start":303,"end":363,"loc":{"start":{"line":11,"column":14},"end":{"line":14,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":304,"end":308,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},"name":"file"},{"type":"Identifier","start":310,"end":314,"loc":{"start":{"line":11,"column":21},"end":{"line":11,"column":25}},"name":"size"}],"body":{"type":"BlockStatement","start":316,"end":363,"loc":{"start":{"line":11,"column":27},"end":{"line":14,"column":3}},"body":[{"type":"ExpressionStatement","start":322,"end":338,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":20}},"expression":{"type":"AssignmentExpression","start":322,"end":338,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":20}},"operator":"=","left":{"type":"MemberExpression","start":322,"end":331,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":13}},"object":{"type":"ThisExpression","start":322,"end":326,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":8}}},"property":{"type":"Identifier","start":327,"end":331,"loc":{"start":{"line":12,"column":9},"end":{"line":12,"column":13}},"name":"file"},"computed":false},"right":{"type":"Identifier","start":334,"end":338,"loc":{"start":{"line":12,"column":16},"end":{"line":12,"column":20}},"name":"file"}}},{"type":"ExpressionStatement","start":343,"end":359,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":20}},"expression":{"type":"AssignmentExpression","start":343,"end":359,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":20}},"operator":"=","left":{"type":"MemberExpression","start":343,"end":352,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":13}},"object":{"type":"ThisExpression","start":343,"end":347,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":8}}},"property":{"type":"Identifier","start":348,"end":352,"loc":{"start":{"line":13,"column":9},"end":{"line":13,"column":13}},"name":"size"},"computed":false},"right":{"type":"Identifier","start":355,"end":359,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":20}},"name":"size"}}}]}}},{"type":"MethodDefinition","start":367,"end":698,"loc":{"start":{"line":16,"column":2},"end":{"line":26,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":367,"end":372,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":7}},"name":"slice"},"value":{"type":"FunctionExpression","start":373,"end":698,"loc":{"start":{"line":16,"column":8},"end":{"line":26,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":374,"end":379,"loc":{"start":{"line":16,"column":9},"end":{"line":16,"column":14}},"name":"start"},{"type":"Identifier","start":381,"end":384,"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":19}},"name":"end"},{"type":"Identifier","start":386,"end":388,"loc":{"start":{"line":16,"column":21},"end":{"line":16,"column":23}},"name":"cb"}],"body":{"type":"BlockStatement","start":390,"end":698,"loc":{"start":{"line":16,"column":25},"end":{"line":26,"column":3}},"body":[{"type":"ExpressionStatement","start":396,"end":426,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":34}},"expression":{"type":"AssignmentExpression","start":396,"end":426,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":34}},"operator":"=","left":{"type":"Identifier","start":396,"end":399,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":7}},"name":"end"},"right":{"type":"CallExpression","start":402,"end":426,"loc":{"start":{"line":17,"column":10},"end":{"line":17,"column":34}},"callee":{"type":"MemberExpression","start":402,"end":410,"loc":{"start":{"line":17,"column":10},"end":{"line":17,"column":18}},"object":{"type":"Identifier","start":402,"end":406,"loc":{"start":{"line":17,"column":10},"end":{"line":17,"column":14}},"name":"Math"},"property":{"type":"Identifier","start":407,"end":410,"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":18}},"name":"min"},"computed":false},"arguments":[{"type":"Identifier","start":411,"end":414,"loc":{"start":{"line":17,"column":19},"end":{"line":17,"column":22}},"name":"end"},{"type":"MemberExpression","start":416,"end":425,"loc":{"start":{"line":17,"column":24},"end":{"line":17,"column":33}},"object":{"type":"ThisExpression","start":416,"end":420,"loc":{"start":{"line":17,"column":24},"end":{"line":17,"column":28}}},"property":{"type":"Identifier","start":421,"end":425,"loc":{"start":{"line":17,"column":29},"end":{"line":17,"column":33}},"name":"size"},"computed":false}]}}},{"type":"VariableDeclaration","start":431,"end":557,"loc":{"start":{"line":18,"column":4},"end":{"line":22,"column":5}},"declarations":[{"type":"VariableDeclarator","start":437,"end":557,"loc":{"start":{"line":18,"column":10},"end":{"line":22,"column":5}},"id":{"type":"Identifier","start":437,"end":444,"loc":{"start":{"line":18,"column":10},"end":{"line":18,"column":17}},"name":"options"},"init":{"type":"ObjectExpression","start":447,"end":557,"loc":{"start":{"line":18,"column":20},"end":{"line":22,"column":5}},"properties":[{"type":"Property","start":455,"end":501,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":52}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":455,"end":463,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":14}},"name":"encoding"},"value":{"type":"MemberExpression","start":465,"end":501,"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":52}},"object":{"type":"MemberExpression","start":465,"end":494,"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":45}},"object":{"type":"MemberExpression","start":465,"end":480,"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":31}},"object":{"type":"Identifier","start":465,"end":469,"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":20}},"name":"Expo"},"property":{"type":"Identifier","start":470,"end":480,"loc":{"start":{"line":19,"column":21},"end":{"line":19,"column":31}},"name":"FileSystem"},"computed":false},"property":{"type":"Identifier","start":481,"end":494,"loc":{"start":{"line":19,"column":32},"end":{"line":19,"column":45}},"name":"EncodingTypes"},"computed":false},"property":{"type":"Identifier","start":495,"end":501,"loc":{"start":{"line":19,"column":46},"end":{"line":19,"column":52}},"name":"Base64"},"computed":false},"kind":"init"},{"type":"Property","start":509,"end":528,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":25}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":509,"end":515,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":12}},"name":"length"},"value":{"type":"BinaryExpression","start":517,"end":528,"loc":{"start":{"line":20,"column":14},"end":{"line":20,"column":25}},"left":{"type":"Identifier","start":517,"end":520,"loc":{"start":{"line":20,"column":14},"end":{"line":20,"column":17}},"name":"end"},"operator":"-","right":{"type":"Identifier","start":523,"end":528,"loc":{"start":{"line":20,"column":20},"end":{"line":20,"column":25}},"name":"start"}},"kind":"init"},{"type":"Property","start":536,"end":551,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":21}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":536,"end":544,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":14}},"name":"position"},"value":{"type":"Identifier","start":546,"end":551,"loc":{"start":{"line":21,"column":16},"end":{"line":21,"column":21}},"name":"start"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":562,"end":694,"loc":{"start":{"line":23,"column":4},"end":{"line":25,"column":16}},"expression":{"type":"CallExpression","start":562,"end":694,"loc":{"start":{"line":23,"column":4},"end":{"line":25,"column":16}},"callee":{"type":"MemberExpression","start":562,"end":690,"loc":{"start":{"line":23,"column":4},"end":{"line":25,"column":12}},"object":{"type":"CallExpression","start":562,"end":684,"loc":{"start":{"line":23,"column":4},"end":{"line":25,"column":6}},"callee":{"type":"MemberExpression","start":562,"end":624,"loc":{"start":{"line":23,"column":4},"end":{"line":23,"column":66}},"object":{"type":"CallExpression","start":562,"end":619,"loc":{"start":{"line":23,"column":4},"end":{"line":23,"column":61}},"callee":{"type":"MemberExpression","start":562,"end":595,"loc":{"start":{"line":23,"column":4},"end":{"line":23,"column":37}},"object":{"type":"MemberExpression","start":562,"end":577,"loc":{"start":{"line":23,"column":4},"end":{"line":23,"column":19}},"object":{"type":"Identifier","start":562,"end":566,"loc":{"start":{"line":23,"column":4},"end":{"line":23,"column":8}},"name":"Expo"},"property":{"type":"Identifier","start":567,"end":577,"loc":{"start":{"line":23,"column":9},"end":{"line":23,"column":19}},"name":"FileSystem"},"computed":false},"property":{"type":"Identifier","start":578,"end":595,"loc":{"start":{"line":23,"column":20},"end":{"line":23,"column":37}},"name":"readAsStringAsync"},"computed":false},"arguments":[{"type":"MemberExpression","start":596,"end":609,"loc":{"start":{"line":23,"column":38},"end":{"line":23,"column":51}},"object":{"type":"MemberExpression","start":596,"end":605,"loc":{"start":{"line":23,"column":38},"end":{"line":23,"column":47}},"object":{"type":"ThisExpression","start":596,"end":600,"loc":{"start":{"line":23,"column":38},"end":{"line":23,"column":42}}},"property":{"type":"Identifier","start":601,"end":605,"loc":{"start":{"line":23,"column":43},"end":{"line":23,"column":47}},"name":"file"},"computed":false},"property":{"type":"Identifier","start":606,"end":609,"loc":{"start":{"line":23,"column":48},"end":{"line":23,"column":51}},"name":"uri"},"computed":false},{"type":"Identifier","start":611,"end":618,"loc":{"start":{"line":23,"column":53},"end":{"line":23,"column":60}},"name":"options"}]},"property":{"type":"Identifier","start":620,"end":624,"loc":{"start":{"line":23,"column":62},"end":{"line":23,"column":66}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":625,"end":683,"loc":{"start":{"line":23,"column":67},"end":{"line":25,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":626,"end":630,"loc":{"start":{"line":23,"column":68},"end":{"line":23,"column":72}},"name":"data"}],"body":{"type":"BlockStatement","start":635,"end":683,"loc":{"start":{"line":23,"column":77},"end":{"line":25,"column":5}},"body":[{"type":"ExpressionStatement","start":643,"end":677,"loc":{"start":{"line":24,"column":6},"end":{"line":24,"column":40}},"expression":{"type":"CallExpression","start":643,"end":677,"loc":{"start":{"line":24,"column":6},"end":{"line":24,"column":40}},"callee":{"type":"Identifier","start":643,"end":645,"loc":{"start":{"line":24,"column":6},"end":{"line":24,"column":8}},"name":"cb"},"arguments":[{"type":"Literal","start":646,"end":650,"loc":{"start":{"line":24,"column":9},"end":{"line":24,"column":13}},"value":null,"raw":"null"},{"type":"CallExpression","start":652,"end":676,"loc":{"start":{"line":24,"column":15},"end":{"line":24,"column":39}},"callee":{"type":"MemberExpression","start":652,"end":670,"loc":{"start":{"line":24,"column":15},"end":{"line":24,"column":33}},"object":{"type":"Identifier","start":652,"end":658,"loc":{"start":{"line":24,"column":15},"end":{"line":24,"column":21}},"name":"base64"},"property":{"type":"Identifier","start":659,"end":670,"loc":{"start":{"line":24,"column":22},"end":{"line":24,"column":33}},"name":"toByteArray"},"computed":false},"arguments":[{"type":"Identifier","start":671,"end":675,"loc":{"start":{"line":24,"column":34},"end":{"line":24,"column":38}},"name":"data"}]}]}}]}}]},"property":{"type":"Identifier","start":685,"end":690,"loc":{"start":{"line":25,"column":7},"end":{"line":25,"column":12}},"name":"catch"},"computed":false},"arguments":[{"type":"Identifier","start":691,"end":693,"loc":{"start":{"line":25,"column":13},"end":{"line":25,"column":15}},"name":"cb"}]}}]}}},{"type":"MethodDefinition","start":702,"end":717,"loc":{"start":{"line":28,"column":2},"end":{"line":30,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":702,"end":707,"loc":{"start":{"line":28,"column":2},"end":{"line":28,"column":7}},"name":"close"},"value":{"type":"FunctionExpression","start":708,"end":717,"loc":{"start":{"line":28,"column":8},"end":{"line":30,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":711,"end":717,"loc":{"start":{"line":28,"column":11},"end":{"line":30,"column":3}},"body":[]}}}]}}],"sourceType":"module"}