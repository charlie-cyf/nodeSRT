{"type":"Program","start":0,"end":3151,"body":[{"type":"VariableDeclaration","start":496,"end":578,"declarations":[{"type":"VariableDeclarator","start":502,"end":578,"id":{"type":"ObjectPattern","start":502,"end":556,"properties":[{"type":"Property","start":504,"end":520,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":504,"end":520,"name":"finishUploadTest"},"kind":"init","value":{"type":"Identifier","start":504,"end":520,"name":"finishUploadTest"}},{"type":"Property","start":522,"end":537,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":522,"end":537,"name":"startUploadTest"},"kind":"init","value":{"type":"Identifier","start":522,"end":537,"name":"startUploadTest"}},{"type":"Property","start":539,"end":554,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":539,"end":554,"name":"uploadWithRetry"},"kind":"init","value":{"type":"Identifier","start":539,"end":554,"name":"uploadWithRetry"}}]},"init":{"type":"CallExpression","start":559,"end":578,"callee":{"type":"Identifier","start":559,"end":566,"name":"require"},"arguments":[{"type":"Literal","start":567,"end":577,"value":"./helper","raw":"'./helper'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":579,"end":628,"declarations":[{"type":"VariableDeclarator","start":585,"end":628,"id":{"type":"Identifier","start":585,"end":592,"name":"testURL"},"init":{"type":"Literal","start":595,"end":628,"value":"http://localhost:4567/providers","raw":"'http://localhost:4567/providers'"}}],"kind":"const"},{"type":"ExpressionStatement","start":630,"end":3150,"expression":{"type":"CallExpression","start":630,"end":3150,"callee":{"type":"Identifier","start":630,"end":638,"name":"describe"},"arguments":[{"type":"Literal","start":639,"end":676,"value":"File upload with Instagram Provider","raw":"'File upload with Instagram Provider'"},{"type":"ArrowFunctionExpression","start":678,"end":3149,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":684,"end":3149,"body":[{"type":"ExpressionStatement","start":688,"end":748,"expression":{"type":"CallExpression","start":688,"end":748,"callee":{"type":"Identifier","start":688,"end":698,"name":"beforeEach"},"arguments":[{"type":"ArrowFunctionExpression","start":699,"end":747,"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":711,"end":747,"body":[{"type":"ExpressionStatement","start":717,"end":743,"expression":{"type":"AwaitExpression","start":717,"end":743,"argument":{"type":"CallExpression","start":723,"end":743,"callee":{"type":"MemberExpression","start":723,"end":734,"object":{"type":"Identifier","start":723,"end":730,"name":"browser"},"property":{"type":"Identifier","start":731,"end":734,"name":"url"},"computed":false},"arguments":[{"type":"Identifier","start":735,"end":742,"name":"testURL"}]}}}]}}]}},{"type":"ExpressionStatement","start":828,"end":2787,"expression":{"type":"CallExpression","start":828,"end":2787,"callee":{"type":"Identifier","start":828,"end":830,"name":"it"},"arguments":[{"type":"Literal","start":831,"end":879,"value":"should upload a file completely with Instagram","raw":"'should upload a file completely with Instagram'"},{"type":"FunctionExpression","start":881,"end":2786,"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":899,"end":2786,"body":[{"type":"IfStatement","start":905,"end":1036,"test":{"type":"UnaryExpression","start":909,"end":945,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":910,"end":945,"object":{"type":"MemberExpression","start":910,"end":921,"object":{"type":"Identifier","start":910,"end":917,"name":"process"},"property":{"type":"Identifier","start":918,"end":921,"name":"env"},"computed":false},"property":{"type":"Identifier","start":922,"end":945,"name":"UPPY_INSTAGRAM_USERNAME"},"computed":false}},"consequent":{"type":"BlockStatement","start":947,"end":1036,"body":[{"type":"ExpressionStatement","start":955,"end":1005,"expression":{"type":"CallExpression","start":955,"end":1005,"callee":{"type":"MemberExpression","start":955,"end":966,"object":{"type":"Identifier","start":955,"end":962,"name":"console"},"property":{"type":"Identifier","start":963,"end":966,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":967,"end":1004,"value":"skipping Instagram integration test","raw":"'skipping Instagram integration test'"}]}},{"type":"ReturnStatement","start":1012,"end":1030,"argument":{"type":"CallExpression","start":1019,"end":1030,"callee":{"type":"MemberExpression","start":1019,"end":1028,"object":{"type":"ThisExpression","start":1019,"end":1023},"property":{"type":"Identifier","start":1024,"end":1028,"name":"skip"},"computed":false},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","start":1075,"end":1131,"expression":{"type":"AwaitExpression","start":1075,"end":1131,"argument":{"type":"CallExpression","start":1081,"end":1131,"callee":{"type":"Identifier","start":1081,"end":1096,"name":"startUploadTest"},"arguments":[{"type":"Identifier","start":1097,"end":1104,"name":"browser"},{"type":"Literal","start":1106,"end":1117,"value":"Instagram","raw":"'Instagram'"},{"type":"Literal","start":1119,"end":1130,"value":{},"raw":"/instagram/","regex":{"pattern":"instagram","flags":""}}]}}},{"type":"VariableDeclaration","start":1167,"end":1228,"declarations":[{"type":"VariableDeclarator","start":1173,"end":1228,"id":{"type":"Identifier","start":1173,"end":1186,"name":"usernameInput"},"init":{"type":"AwaitExpression","start":1189,"end":1228,"argument":{"type":"CallExpression","start":1195,"end":1228,"callee":{"type":"MemberExpression","start":1195,"end":1204,"object":{"type":"Identifier","start":1195,"end":1202,"name":"browser"},"property":{"type":"Identifier","start":1203,"end":1204,"name":"$"},"computed":false},"arguments":[{"type":"Literal","start":1205,"end":1227,"value":"input[name=username]","raw":"'input[name=username]'"}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":1233,"end":1272,"expression":{"type":"AwaitExpression","start":1233,"end":1272,"argument":{"type":"CallExpression","start":1239,"end":1272,"callee":{"type":"MemberExpression","start":1239,"end":1265,"object":{"type":"Identifier","start":1239,"end":1252,"name":"usernameInput"},"property":{"type":"Identifier","start":1253,"end":1265,"name":"waitForExist"},"computed":false},"arguments":[{"type":"Literal","start":1266,"end":1271,"value":20000,"raw":"20000"}]}}},{"type":"ExpressionStatement","start":1277,"end":1342,"expression":{"type":"AwaitExpression","start":1277,"end":1342,"argument":{"type":"CallExpression","start":1283,"end":1342,"callee":{"type":"MemberExpression","start":1283,"end":1305,"object":{"type":"Identifier","start":1283,"end":1296,"name":"usernameInput"},"property":{"type":"Identifier","start":1297,"end":1305,"name":"setValue"},"computed":false},"arguments":[{"type":"MemberExpression","start":1306,"end":1341,"object":{"type":"MemberExpression","start":1306,"end":1317,"object":{"type":"Identifier","start":1306,"end":1313,"name":"process"},"property":{"type":"Identifier","start":1314,"end":1317,"name":"env"},"computed":false},"property":{"type":"Identifier","start":1318,"end":1341,"name":"UPPY_INSTAGRAM_USERNAME"},"computed":false}]}}},{"type":"VariableDeclaration","start":1347,"end":1408,"declarations":[{"type":"VariableDeclarator","start":1353,"end":1408,"id":{"type":"Identifier","start":1353,"end":1366,"name":"passwordInput"},"init":{"type":"AwaitExpression","start":1369,"end":1408,"argument":{"type":"CallExpression","start":1375,"end":1408,"callee":{"type":"MemberExpression","start":1375,"end":1384,"object":{"type":"Identifier","start":1375,"end":1382,"name":"browser"},"property":{"type":"Identifier","start":1383,"end":1384,"name":"$"},"computed":false},"arguments":[{"type":"Literal","start":1385,"end":1407,"value":"input[name=password]","raw":"'input[name=password]'"}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":1413,"end":1478,"expression":{"type":"AwaitExpression","start":1413,"end":1478,"argument":{"type":"CallExpression","start":1419,"end":1478,"callee":{"type":"MemberExpression","start":1419,"end":1441,"object":{"type":"Identifier","start":1419,"end":1432,"name":"passwordInput"},"property":{"type":"Identifier","start":1433,"end":1441,"name":"setValue"},"computed":false},"arguments":[{"type":"MemberExpression","start":1442,"end":1477,"object":{"type":"MemberExpression","start":1442,"end":1453,"object":{"type":"Identifier","start":1442,"end":1449,"name":"process"},"property":{"type":"Identifier","start":1450,"end":1453,"name":"env"},"computed":false},"property":{"type":"Identifier","start":1454,"end":1477,"name":"UPPY_INSTAGRAM_PASSWORD"},"computed":false}]}}},{"type":"VariableDeclaration","start":1483,"end":1541,"declarations":[{"type":"VariableDeclarator","start":1489,"end":1541,"id":{"type":"Identifier","start":1489,"end":1495,"name":"submit"},"init":{"type":"AwaitExpression","start":1498,"end":1541,"argument":{"type":"CallExpression","start":1504,"end":1541,"callee":{"type":"MemberExpression","start":1504,"end":1513,"object":{"type":"Identifier","start":1504,"end":1511,"name":"browser"},"property":{"type":"Identifier","start":1512,"end":1513,"name":"$"},"computed":false},"arguments":[{"type":"Literal","start":1514,"end":1540,"value":"form button[type=submit]","raw":"'form button[type=submit]'"}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":1546,"end":1566,"expression":{"type":"AwaitExpression","start":1546,"end":1566,"argument":{"type":"CallExpression","start":1552,"end":1566,"callee":{"type":"MemberExpression","start":1552,"end":1564,"object":{"type":"Identifier","start":1552,"end":1558,"name":"submit"},"property":{"type":"Identifier","start":1559,"end":1564,"name":"click"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":1604,"end":1629,"expression":{"type":"AwaitExpression","start":1604,"end":1629,"argument":{"type":"CallExpression","start":1610,"end":1629,"callee":{"type":"MemberExpression","start":1610,"end":1623,"object":{"type":"Identifier","start":1610,"end":1617,"name":"browser"},"property":{"type":"Identifier","start":1618,"end":1623,"name":"pause"},"computed":false},"arguments":[{"type":"Literal","start":1624,"end":1628,"value":5000,"raw":"5000"}]}}},{"type":"IfStatement","start":1634,"end":2745,"test":{"type":"BinaryExpression","start":1638,"end":1683,"left":{"type":"MemberExpression","start":1638,"end":1679,"object":{"type":"AwaitExpression","start":1639,"end":1671,"argument":{"type":"CallExpression","start":1645,"end":1671,"callee":{"type":"MemberExpression","start":1645,"end":1669,"object":{"type":"Identifier","start":1645,"end":1652,"name":"browser"},"property":{"type":"Identifier","start":1653,"end":1669,"name":"getWindowHandles"},"computed":false},"arguments":[]}},"property":{"type":"Identifier","start":1673,"end":1679,"name":"length"},"computed":false},"operator":">","right":{"type":"Literal","start":1682,"end":1683,"value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","start":1685,"end":2745,"body":[{"type":"VariableDeclaration","start":1820,"end":1883,"declarations":[{"type":"VariableDeclarator","start":1826,"end":1883,"id":{"type":"Identifier","start":1826,"end":1841,"name":"challengeChoice"},"init":{"type":"AwaitExpression","start":1844,"end":1883,"argument":{"type":"CallExpression","start":1850,"end":1883,"callee":{"type":"MemberExpression","start":1850,"end":1859,"object":{"type":"Identifier","start":1850,"end":1857,"name":"browser"},"property":{"type":"Identifier","start":1858,"end":1859,"name":"$"},"computed":false},"arguments":[{"type":"Literal","start":1860,"end":1882,"value":"input[name=\"choice\"]","raw":"'input[name=\"choice\"]'"}]}}}],"kind":"const"},{"type":"IfStatement","start":1890,"end":2513,"test":{"type":"AwaitExpression","start":1894,"end":1928,"argument":{"type":"CallExpression","start":1900,"end":1928,"callee":{"type":"MemberExpression","start":1900,"end":1926,"object":{"type":"Identifier","start":1900,"end":1915,"name":"challengeChoice"},"property":{"type":"Identifier","start":1916,"end":1926,"name":"isExisting"},"computed":false},"arguments":[]}},"consequent":{"type":"BlockStatement","start":1930,"end":2513,"body":[{"type":"VariableDeclaration","start":1940,"end":1999,"declarations":[{"type":"VariableDeclarator","start":1946,"end":1999,"id":{"type":"Identifier","start":1946,"end":1966,"name":"acceptChallengButton"},"init":{"type":"AwaitExpression","start":1969,"end":1999,"argument":{"type":"CallExpression","start":1975,"end":1999,"callee":{"type":"MemberExpression","start":1975,"end":1984,"object":{"type":"Identifier","start":1975,"end":1982,"name":"browser"},"property":{"type":"Identifier","start":1983,"end":1984,"name":"$"},"computed":false},"arguments":[{"type":"Literal","start":1985,"end":1998,"value":"form button","raw":"'form button'"}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":2008,"end":2042,"expression":{"type":"AwaitExpression","start":2008,"end":2042,"argument":{"type":"CallExpression","start":2014,"end":2042,"callee":{"type":"MemberExpression","start":2014,"end":2040,"object":{"type":"Identifier","start":2014,"end":2034,"name":"acceptChallengButton"},"property":{"type":"Identifier","start":2035,"end":2040,"name":"click"},"computed":false},"arguments":[]}}},{"type":"VariableDeclaration","start":2052,"end":2122,"declarations":[{"type":"VariableDeclarator","start":2058,"end":2122,"id":{"type":"Identifier","start":2058,"end":2075,"name":"securityCodeInput"},"init":{"type":"AwaitExpression","start":2078,"end":2122,"argument":{"type":"CallExpression","start":2084,"end":2122,"callee":{"type":"MemberExpression","start":2084,"end":2093,"object":{"type":"Identifier","start":2084,"end":2091,"name":"browser"},"property":{"type":"Identifier","start":2092,"end":2093,"name":"$"},"computed":false},"arguments":[{"type":"Literal","start":2094,"end":2121,"value":"input[name=security_code]","raw":"'input[name=security_code]'"}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":2131,"end":2169,"expression":{"type":"AwaitExpression","start":2131,"end":2169,"argument":{"type":"CallExpression","start":2137,"end":2169,"callee":{"type":"MemberExpression","start":2137,"end":2167,"object":{"type":"Identifier","start":2137,"end":2154,"name":"securityCodeInput"},"property":{"type":"Identifier","start":2155,"end":2167,"name":"waitForExist"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":2321,"end":2505,"expression":{"type":"AwaitExpression","start":2321,"end":2505,"argument":{"type":"CallExpression","start":2327,"end":2505,"callee":{"type":"MemberExpression","start":2327,"end":2354,"object":{"type":"Identifier","start":2327,"end":2344,"name":"securityCodeInput"},"property":{"type":"Identifier","start":2345,"end":2354,"name":"waitUntil"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2366,"end":2438,"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":2378,"end":2438,"body":[{"type":"ExpressionStatement","start":2392,"end":2426,"expression":{"type":"AwaitExpression","start":2392,"end":2426,"argument":{"type":"CallExpression","start":2398,"end":2426,"callee":{"type":"MemberExpression","start":2398,"end":2424,"object":{"type":"Identifier","start":2398,"end":2415,"name":"securityCodeInput"},"property":{"type":"Identifier","start":2416,"end":2424,"name":"getValue"},"computed":false},"arguments":[]}}}]}},{"type":"Literal","start":2450,"end":2455,"value":30000,"raw":"30000"},{"type":"Literal","start":2457,"end":2504,"value":"expected security code to be manually entered","raw":"'expected security code to be manually entered'"}]}}}]},"alternate":null},{"type":"VariableDeclaration","start":2589,"end":2653,"declarations":[{"type":"VariableDeclarator","start":2595,"end":2653,"id":{"type":"Identifier","start":2595,"end":2606,"name":"allowButton"},"init":{"type":"AwaitExpression","start":2609,"end":2653,"argument":{"type":"CallExpression","start":2615,"end":2653,"callee":{"type":"MemberExpression","start":2615,"end":2624,"object":{"type":"Identifier","start":2615,"end":2622,"name":"browser"},"property":{"type":"Identifier","start":2623,"end":2624,"name":"$"},"computed":false},"arguments":[{"type":"Literal","start":2625,"end":2652,"value":"button[value=\"Authorize\"]","raw":"'button[value=\"Authorize\"]'"}]}}}],"kind":"const"},{"type":"IfStatement","start":2660,"end":2739,"test":{"type":"AwaitExpression","start":2664,"end":2694,"argument":{"type":"CallExpression","start":2670,"end":2694,"callee":{"type":"MemberExpression","start":2670,"end":2692,"object":{"type":"Identifier","start":2670,"end":2681,"name":"allowButton"},"property":{"type":"Identifier","start":2682,"end":2692,"name":"isExisting"},"computed":false},"arguments":[]}},"consequent":{"type":"BlockStatement","start":2696,"end":2739,"body":[{"type":"ExpressionStatement","start":2706,"end":2731,"expression":{"type":"AwaitExpression","start":2706,"end":2731,"argument":{"type":"CallExpression","start":2712,"end":2731,"callee":{"type":"MemberExpression","start":2712,"end":2729,"object":{"type":"Identifier","start":2712,"end":2723,"name":"allowButton"},"property":{"type":"Identifier","start":2724,"end":2729,"name":"click"},"computed":false},"arguments":[]}}}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","start":2751,"end":2782,"expression":{"type":"AwaitExpression","start":2751,"end":2782,"argument":{"type":"CallExpression","start":2757,"end":2782,"callee":{"type":"Identifier","start":2757,"end":2773,"name":"finishUploadTest"},"arguments":[{"type":"Identifier","start":2774,"end":2781,"name":"browser"}]}}}]}}]}},{"type":"ExpressionStatement","start":2867,"end":3147,"expression":{"type":"CallExpression","start":2867,"end":3147,"callee":{"type":"Identifier","start":2867,"end":2869,"name":"it"},"arguments":[{"type":"Literal","start":2870,"end":2927,"value":"should resume uploads when retry is triggered Instagram","raw":"'should resume uploads when retry is triggered Instagram'"},{"type":"FunctionExpression","start":2929,"end":3146,"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":2947,"end":3146,"body":[{"type":"IfStatement","start":2953,"end":3084,"test":{"type":"UnaryExpression","start":2957,"end":2993,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":2958,"end":2993,"object":{"type":"MemberExpression","start":2958,"end":2969,"object":{"type":"Identifier","start":2958,"end":2965,"name":"process"},"property":{"type":"Identifier","start":2966,"end":2969,"name":"env"},"computed":false},"property":{"type":"Identifier","start":2970,"end":2993,"name":"UPPY_INSTAGRAM_USERNAME"},"computed":false}},"consequent":{"type":"BlockStatement","start":2995,"end":3084,"body":[{"type":"ExpressionStatement","start":3003,"end":3053,"expression":{"type":"CallExpression","start":3003,"end":3053,"callee":{"type":"MemberExpression","start":3003,"end":3014,"object":{"type":"Identifier","start":3003,"end":3010,"name":"console"},"property":{"type":"Identifier","start":3011,"end":3014,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":3015,"end":3052,"value":"skipping Instagram integration test","raw":"'skipping Instagram integration test'"}]}},{"type":"ReturnStatement","start":3060,"end":3078,"argument":{"type":"CallExpression","start":3067,"end":3078,"callee":{"type":"MemberExpression","start":3067,"end":3076,"object":{"type":"ThisExpression","start":3067,"end":3071},"property":{"type":"Identifier","start":3072,"end":3076,"name":"skip"},"computed":false},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","start":3090,"end":3142,"expression":{"type":"AwaitExpression","start":3090,"end":3142,"argument":{"type":"CallExpression","start":3096,"end":3142,"callee":{"type":"Identifier","start":3096,"end":3111,"name":"uploadWithRetry"},"arguments":[{"type":"Identifier","start":3112,"end":3119,"name":"browser"},{"type":"Literal","start":3121,"end":3132,"value":"Instagram","raw":"'Instagram'"},{"type":"Identifier","start":3134,"end":3141,"name":"testURL"}]}}}]}}]}}]}}]}}],"sourceType":"script"}