{"type":"Program","start":0,"end":2539,"body":[{"type":"VariableDeclaration","start":44,"end":72,"declarations":[{"type":"VariableDeclarator","start":50,"end":72,"id":{"type":"Identifier","start":50,"end":54,"name":"http"},"init":{"type":"CallExpression","start":57,"end":72,"callee":{"type":"Identifier","start":57,"end":64,"name":"require"},"arguments":[{"type":"Literal","start":65,"end":71,"value":"http","raw":"'http'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":73,"end":112,"declarations":[{"type":"VariableDeclarator","start":79,"end":112,"id":{"type":"Identifier","start":79,"end":88,"name":"tempWrite"},"init":{"type":"CallExpression","start":91,"end":112,"callee":{"type":"Identifier","start":91,"end":98,"name":"require"},"arguments":[{"type":"Literal","start":99,"end":111,"value":"temp-write","raw":"'temp-write'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":113,"end":151,"declarations":[{"type":"VariableDeclarator","start":119,"end":151,"id":{"type":"ObjectPattern","start":119,"end":131,"properties":[{"type":"Property","start":121,"end":129,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":121,"end":129,"name":"Writable"},"kind":"init","value":{"type":"Identifier","start":121,"end":129,"name":"Writable"}}]},"init":{"type":"CallExpression","start":134,"end":151,"callee":{"type":"Identifier","start":134,"end":141,"name":"require"},"arguments":[{"type":"Literal","start":142,"end":150,"value":"stream","raw":"'stream'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":152,"end":202,"declarations":[{"type":"VariableDeclarator","start":158,"end":202,"id":{"type":"ObjectPattern","start":158,"end":180,"properties":[{"type":"Property","start":160,"end":178,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":160,"end":178,"name":"supportsChooseFile"},"kind":"init","value":{"type":"Identifier","start":160,"end":178,"name":"supportsChooseFile"}}]},"init":{"type":"CallExpression","start":183,"end":202,"callee":{"type":"Identifier","start":183,"end":190,"name":"require"},"arguments":[{"type":"Literal","start":191,"end":201,"value":"../utils","raw":"'../utils'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":204,"end":279,"declarations":[{"type":"VariableDeclarator","start":210,"end":279,"id":{"type":"Identifier","start":210,"end":217,"name":"devNull"},"init":{"type":"ArrowFunctionExpression","start":220,"end":279,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":226,"end":279,"callee":{"type":"Identifier","start":226,"end":234,"name":"Writable"},"arguments":[{"type":"ObjectExpression","start":235,"end":278,"properties":[{"type":"Property","start":239,"end":276,"method":true,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":239,"end":244,"name":"write"},"kind":"init","value":{"type":"FunctionExpression","start":245,"end":276,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":246,"end":251,"name":"chunk"},{"type":"Identifier","start":253,"end":256,"name":"enc"},{"type":"Identifier","start":258,"end":260,"name":"cb"}],"body":{"type":"BlockStatement","start":262,"end":276,"body":[{"type":"ExpressionStatement","start":268,"end":272,"expression":{"type":"CallExpression","start":268,"end":272,"callee":{"type":"Identifier","start":268,"end":270,"name":"cb"},"arguments":[]}}]}}}]}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":281,"end":330,"declarations":[{"type":"VariableDeclarator","start":287,"end":330,"id":{"type":"Identifier","start":287,"end":294,"name":"testURL"},"init":{"type":"Literal","start":297,"end":330,"value":"http://localhost:4567/xhr-limit","raw":"'http://localhost:4567/xhr-limit'"}}],"kind":"const"},{"type":"ExpressionStatement","start":332,"end":2324,"expression":{"type":"CallExpression","start":332,"end":2324,"callee":{"type":"MemberExpression","start":332,"end":345,"object":{"type":"Identifier","start":332,"end":340,"name":"describe"},"property":{"type":"Identifier","start":341,"end":345,"name":"skip"},"computed":false},"arguments":[{"type":"Literal","start":346,"end":370,"value":"XHRUpload with `limit`","raw":"'XHRUpload with `limit`'"},{"type":"ArrowFunctionExpression","start":372,"end":2323,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":378,"end":2323,"body":[{"type":"VariableDeclaration","start":382,"end":399,"declarations":[{"type":"VariableDeclarator","start":386,"end":399,"id":{"type":"Identifier","start":386,"end":392,"name":"server"},"init":{"type":"Literal","start":395,"end":399,"value":null,"raw":"null"}}],"kind":"let"},{"type":"ExpressionStatement","start":402,"end":751,"expression":{"type":"CallExpression","start":402,"end":751,"callee":{"type":"Identifier","start":402,"end":408,"name":"before"},"arguments":[{"type":"ArrowFunctionExpression","start":409,"end":750,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":415,"end":750,"body":[{"type":"ExpressionStatement","start":421,"end":746,"expression":{"type":"AssignmentExpression","start":421,"end":746,"operator":"=","left":{"type":"Identifier","start":421,"end":427,"name":"server"},"right":{"type":"CallExpression","start":430,"end":746,"callee":{"type":"MemberExpression","start":430,"end":744,"object":{"type":"CallExpression","start":430,"end":737,"callee":{"type":"MemberExpression","start":430,"end":447,"object":{"type":"Identifier","start":430,"end":434,"name":"http"},"property":{"type":"Identifier","start":435,"end":447,"name":"createServer"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":448,"end":736,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":449,"end":452,"name":"req"},{"type":"Identifier","start":454,"end":457,"name":"res"}],"body":{"type":"BlockStatement","start":462,"end":736,"body":[{"type":"ExpressionStatement","start":470,"end":586,"expression":{"type":"CallExpression","start":470,"end":586,"callee":{"type":"MemberExpression","start":470,"end":483,"object":{"type":"Identifier","start":470,"end":473,"name":"res"},"property":{"type":"Identifier","start":474,"end":483,"name":"writeHead"},"computed":false},"arguments":[{"type":"Literal","start":484,"end":487,"value":200,"raw":"200"},{"type":"ObjectExpression","start":489,"end":585,"properties":[{"type":"Property","start":499,"end":533,"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":499,"end":513,"value":"content-type","raw":"'content-type'"},"value":{"type":"Literal","start":515,"end":533,"value":"application/json","raw":"'application/json'"},"kind":"init"},{"type":"Property","start":543,"end":577,"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":543,"end":572,"value":"access-control-allow-origin","raw":"'access-control-allow-origin'"},"value":{"type":"Literal","start":574,"end":577,"value":"*","raw":"'*'"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":593,"end":612,"expression":{"type":"CallExpression","start":593,"end":612,"callee":{"type":"MemberExpression","start":593,"end":601,"object":{"type":"Identifier","start":593,"end":596,"name":"req"},"property":{"type":"Identifier","start":597,"end":601,"name":"pipe"},"computed":false},"arguments":[{"type":"CallExpression","start":602,"end":611,"callee":{"type":"Identifier","start":602,"end":609,"name":"devNull"},"arguments":[]}]}},{"type":"ExpressionStatement","start":619,"end":730,"expression":{"type":"CallExpression","start":619,"end":730,"callee":{"type":"MemberExpression","start":619,"end":625,"object":{"type":"Identifier","start":619,"end":622,"name":"req"},"property":{"type":"Identifier","start":623,"end":625,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":626,"end":631,"value":"end","raw":"'end'"},{"type":"ArrowFunctionExpression","start":633,"end":729,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":639,"end":729,"body":[{"type":"ExpressionStatement","start":649,"end":721,"expression":{"type":"CallExpression","start":649,"end":721,"callee":{"type":"Identifier","start":649,"end":659,"name":"setTimeout"},"arguments":[{"type":"ArrowFunctionExpression","start":660,"end":714,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":666,"end":714,"body":[{"type":"ExpressionStatement","start":678,"end":704,"expression":{"type":"CallExpression","start":678,"end":704,"callee":{"type":"MemberExpression","start":678,"end":685,"object":{"type":"Identifier","start":678,"end":681,"name":"res"},"property":{"type":"Identifier","start":682,"end":685,"name":"end"},"computed":false},"arguments":[{"type":"Literal","start":686,"end":703,"value":"{\"status\":\"ok\"}","raw":"'{\"status\":\"ok\"}'"}]}}]}},{"type":"Literal","start":716,"end":720,"value":3000,"raw":"3000"}]}}]}}]}}]}}]},"property":{"type":"Identifier","start":738,"end":744,"name":"listen"},"computed":false},"arguments":[]}}}]}}]}},{"type":"ExpressionStatement","start":754,"end":809,"expression":{"type":"CallExpression","start":754,"end":809,"callee":{"type":"Identifier","start":754,"end":759,"name":"after"},"arguments":[{"type":"ArrowFunctionExpression","start":760,"end":808,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":766,"end":808,"body":[{"type":"ExpressionStatement","start":772,"end":786,"expression":{"type":"CallExpression","start":772,"end":786,"callee":{"type":"MemberExpression","start":772,"end":784,"object":{"type":"Identifier","start":772,"end":778,"name":"server"},"property":{"type":"Identifier","start":779,"end":784,"name":"close"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":791,"end":804,"expression":{"type":"AssignmentExpression","start":791,"end":804,"operator":"=","left":{"type":"Identifier","start":791,"end":797,"name":"server"},"right":{"type":"Literal","start":800,"end":804,"value":null,"raw":"null"}}}]}}]}},{"type":"ExpressionStatement","start":813,"end":873,"expression":{"type":"CallExpression","start":813,"end":873,"callee":{"type":"Identifier","start":813,"end":823,"name":"beforeEach"},"arguments":[{"type":"ArrowFunctionExpression","start":824,"end":872,"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":836,"end":872,"body":[{"type":"ExpressionStatement","start":842,"end":868,"expression":{"type":"AwaitExpression","start":842,"end":868,"argument":{"type":"CallExpression","start":848,"end":868,"callee":{"type":"MemberExpression","start":848,"end":859,"object":{"type":"Identifier","start":848,"end":855,"name":"browser"},"property":{"type":"Identifier","start":856,"end":859,"name":"url"},"computed":false},"arguments":[{"type":"Identifier","start":860,"end":867,"name":"testURL"}]}}}]}}]}},{"type":"ExpressionStatement","start":877,"end":2321,"expression":{"type":"CallExpression","start":877,"end":2321,"callee":{"type":"Identifier","start":877,"end":879,"name":"it"},"arguments":[{"type":"Literal","start":880,"end":926,"value":"should start counting progress for all files","raw":"'should start counting progress for all files'"},{"type":"ArrowFunctionExpression","start":928,"end":2320,"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":940,"end":2320,"body":[{"type":"VariableDeclaration","start":946,"end":1186,"declarations":[{"type":"VariableDeclarator","start":952,"end":1186,"id":{"type":"Identifier","start":952,"end":957,"name":"files"},"init":{"type":"ArrayExpression","start":960,"end":1186,"elements":[{"type":"CallExpression","start":968,"end":982,"callee":{"type":"Identifier","start":968,"end":976,"name":"makeFile"},"arguments":[{"type":"Literal","start":977,"end":981,"value":1000,"raw":"1000"}]},{"type":"CallExpression","start":990,"end":1004,"callee":{"type":"Identifier","start":990,"end":998,"name":"makeFile"},"arguments":[{"type":"Literal","start":999,"end":1003,"value":1000,"raw":"1000"}]},{"type":"CallExpression","start":1012,"end":1026,"callee":{"type":"Identifier","start":1012,"end":1020,"name":"makeFile"},"arguments":[{"type":"Literal","start":1021,"end":1025,"value":1000,"raw":"1000"}]},{"type":"CallExpression","start":1034,"end":1048,"callee":{"type":"Identifier","start":1034,"end":1042,"name":"makeFile"},"arguments":[{"type":"Literal","start":1043,"end":1047,"value":1000,"raw":"1000"}]},{"type":"CallExpression","start":1056,"end":1070,"callee":{"type":"Identifier","start":1056,"end":1064,"name":"makeFile"},"arguments":[{"type":"Literal","start":1065,"end":1069,"value":1000,"raw":"1000"}]},{"type":"CallExpression","start":1078,"end":1092,"callee":{"type":"Identifier","start":1078,"end":1086,"name":"makeFile"},"arguments":[{"type":"Literal","start":1087,"end":1091,"value":1000,"raw":"1000"}]},{"type":"CallExpression","start":1100,"end":1114,"callee":{"type":"Identifier","start":1100,"end":1108,"name":"makeFile"},"arguments":[{"type":"Literal","start":1109,"end":1113,"value":1000,"raw":"1000"}]},{"type":"CallExpression","start":1122,"end":1136,"callee":{"type":"Identifier","start":1122,"end":1130,"name":"makeFile"},"arguments":[{"type":"Literal","start":1131,"end":1135,"value":1000,"raw":"1000"}]},{"type":"CallExpression","start":1144,"end":1158,"callee":{"type":"Identifier","start":1144,"end":1152,"name":"makeFile"},"arguments":[{"type":"Literal","start":1153,"end":1157,"value":1000,"raw":"1000"}]},{"type":"CallExpression","start":1166,"end":1180,"callee":{"type":"Identifier","start":1166,"end":1174,"name":"makeFile"},"arguments":[{"type":"Literal","start":1175,"end":1179,"value":1000,"raw":"1000"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":1192,"end":1252,"declarations":[{"type":"VariableDeclarator","start":1198,"end":1252,"id":{"type":"Identifier","start":1198,"end":1206,"name":"endpoint"},"init":{"type":"TemplateLiteral","start":1209,"end":1252,"expressions":[{"type":"MemberExpression","start":1229,"end":1250,"object":{"type":"CallExpression","start":1229,"end":1245,"callee":{"type":"MemberExpression","start":1229,"end":1243,"object":{"type":"Identifier","start":1229,"end":1235,"name":"server"},"property":{"type":"Identifier","start":1236,"end":1243,"name":"address"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":1246,"end":1250,"name":"port"},"computed":false}],"quasis":[{"type":"TemplateElement","start":1210,"end":1227,"value":{"raw":"http://localhost:","cooked":"http://localhost:"},"tail":false},{"type":"TemplateElement","start":1251,"end":1251,"value":{"raw":"","cooked":""},"tail":true}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1257,"end":1352,"expression":{"type":"AwaitExpression","start":1257,"end":1352,"argument":{"type":"CallExpression","start":1263,"end":1352,"callee":{"type":"MemberExpression","start":1263,"end":1278,"object":{"type":"Identifier","start":1263,"end":1270,"name":"browser"},"property":{"type":"Identifier","start":1271,"end":1278,"name":"execute"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1279,"end":1341,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1280,"end":1288,"name":"endpoint"}],"body":{"type":"BlockStatement","start":1293,"end":1341,"body":[{"type":"ExpressionStatement","start":1301,"end":1335,"expression":{"type":"CallExpression","start":1301,"end":1335,"callee":{"type":"MemberExpression","start":1301,"end":1325,"object":{"type":"Identifier","start":1301,"end":1307,"name":"window"},"property":{"type":"Identifier","start":1308,"end":1325,"name":"startXHRLimitTest"},"computed":false},"arguments":[{"type":"Identifier","start":1326,"end":1334,"name":"endpoint"}]}}]}},{"type":"Identifier","start":1343,"end":1351,"name":"endpoint"}]}}},{"type":"IfStatement","start":1358,"end":1928,"test":{"type":"CallExpression","start":1362,"end":1394,"callee":{"type":"Identifier","start":1362,"end":1380,"name":"supportsChooseFile"},"arguments":[{"type":"Identifier","start":1381,"end":1393,"name":"capabilities"}]},"consequent":{"type":"BlockStatement","start":1396,"end":1560,"body":[{"type":"VariableDeclaration","start":1404,"end":1472,"declarations":[{"type":"VariableDeclarator","start":1410,"end":1472,"id":{"type":"Identifier","start":1410,"end":1415,"name":"input"},"init":{"type":"AwaitExpression","start":1418,"end":1472,"argument":{"type":"CallExpression","start":1424,"end":1472,"callee":{"type":"MemberExpression","start":1424,"end":1433,"object":{"type":"Identifier","start":1424,"end":1431,"name":"browser"},"property":{"type":"Identifier","start":1432,"end":1433,"name":"$"},"computed":false},"arguments":[{"type":"Literal","start":1434,"end":1471,"value":"#uppyXhrLimit .uppy-FileInput-input","raw":"'#uppyXhrLimit .uppy-FileInput-input'"}]}}}],"kind":"const"},{"type":"ForOfStatement","start":1479,"end":1554,"await":false,"left":{"type":"VariableDeclaration","start":1484,"end":1494,"declarations":[{"type":"VariableDeclarator","start":1490,"end":1494,"id":{"type":"Identifier","start":1490,"end":1494,"name":"file"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":1498,"end":1503,"name":"files"},"body":{"type":"BlockStatement","start":1505,"end":1554,"body":[{"type":"ExpressionStatement","start":1515,"end":1546,"expression":{"type":"AwaitExpression","start":1515,"end":1546,"argument":{"type":"CallExpression","start":1521,"end":1546,"callee":{"type":"MemberExpression","start":1521,"end":1535,"object":{"type":"Identifier","start":1521,"end":1526,"name":"input"},"property":{"type":"Identifier","start":1527,"end":1535,"name":"setValue"},"computed":false},"arguments":[{"type":"MemberExpression","start":1536,"end":1545,"object":{"type":"Identifier","start":1536,"end":1540,"name":"file"},"property":{"type":"Identifier","start":1541,"end":1545,"name":"path"},"computed":false}]}}}]}}]},"alternate":{"type":"BlockStatement","start":1566,"end":1928,"body":[{"type":"ExpressionStatement","start":1574,"end":1922,"expression":{"type":"AwaitExpression","start":1574,"end":1922,"argument":{"type":"CallExpression","start":1580,"end":1922,"callee":{"type":"MemberExpression","start":1580,"end":1595,"object":{"type":"Identifier","start":1580,"end":1587,"name":"browser"},"property":{"type":"Identifier","start":1588,"end":1595,"name":"execute"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1596,"end":1870,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1597,"end":1602,"name":"files"}],"body":{"type":"BlockStatement","start":1607,"end":1870,"body":[{"type":"ExpressionStatement","start":1617,"end":1862,"expression":{"type":"CallExpression","start":1617,"end":1862,"callee":{"type":"MemberExpression","start":1617,"end":1630,"object":{"type":"Identifier","start":1617,"end":1622,"name":"files"},"property":{"type":"Identifier","start":1623,"end":1630,"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1631,"end":1861,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1632,"end":1636,"name":"data"},{"type":"Identifier","start":1638,"end":1639,"name":"i"}],"body":{"type":"BlockStatement","start":1644,"end":1861,"body":[{"type":"ExpressionStatement","start":1656,"end":1851,"expression":{"type":"CallExpression","start":1656,"end":1851,"callee":{"type":"MemberExpression","start":1656,"end":1683,"object":{"type":"MemberExpression","start":1656,"end":1675,"object":{"type":"Identifier","start":1656,"end":1662,"name":"window"},"property":{"type":"Identifier","start":1663,"end":1675,"name":"uppyXhrLimit"},"computed":false},"property":{"type":"Identifier","start":1676,"end":1683,"name":"addFile"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1684,"end":1850,"properties":[{"type":"Property","start":1698,"end":1712,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1698,"end":1704,"name":"source"},"value":{"type":"Literal","start":1706,"end":1712,"value":"test","raw":"'test'"},"kind":"init"},{"type":"Property","start":1726,"end":1746,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1726,"end":1730,"name":"name"},"value":{"type":"TemplateLiteral","start":1732,"end":1746,"expressions":[{"type":"Identifier","start":1743,"end":1744,"name":"i"}],"quasis":[{"type":"TemplateElement","start":1733,"end":1741,"value":{"raw":"testfile","cooked":"testfile"},"tail":false},{"type":"TemplateElement","start":1745,"end":1745,"value":{"raw":"","cooked":""},"tail":true}]},"kind":"init"},{"type":"Property","start":1760,"end":1778,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1760,"end":1764,"name":"type"},"value":{"type":"Literal","start":1766,"end":1778,"value":"text/plain","raw":"'text/plain'"},"kind":"init"},{"type":"Property","start":1792,"end":1838,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1792,"end":1796,"name":"data"},"value":{"type":"NewExpression","start":1798,"end":1838,"callee":{"type":"Identifier","start":1802,"end":1806,"name":"Blob"},"arguments":[{"type":"ArrayExpression","start":1807,"end":1813,"elements":[{"type":"Identifier","start":1808,"end":1812,"name":"data"}]},{"type":"ObjectExpression","start":1815,"end":1837,"properties":[{"type":"Property","start":1817,"end":1835,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1817,"end":1821,"name":"type"},"value":{"type":"Literal","start":1823,"end":1835,"value":"text/plain","raw":"'text/plain'"},"kind":"init"}]}]},"kind":"init"}]}]}}]}}]}}]}},{"type":"CallExpression","start":1872,"end":1921,"callee":{"type":"MemberExpression","start":1872,"end":1881,"object":{"type":"Identifier","start":1872,"end":1877,"name":"files"},"property":{"type":"Identifier","start":1878,"end":1881,"name":"map"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1882,"end":1920,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1883,"end":1887,"name":"file"}],"body":{"type":"CallExpression","start":1892,"end":1920,"callee":{"type":"MemberExpression","start":1892,"end":1913,"object":{"type":"MemberExpression","start":1892,"end":1904,"object":{"type":"Identifier","start":1892,"end":1896,"name":"file"},"property":{"type":"Identifier","start":1897,"end":1904,"name":"content"},"computed":false},"property":{"type":"Identifier","start":1905,"end":1913,"name":"toString"},"computed":false},"arguments":[{"type":"Literal","start":1914,"end":1919,"value":"hex","raw":"'hex'"}]}}]}]}}}]}},{"type":"ExpressionStatement","start":1934,"end":2005,"expression":{"type":"AwaitExpression","start":1934,"end":2005,"argument":{"type":"CallExpression","start":1940,"end":2005,"callee":{"type":"MemberExpression","start":1940,"end":1955,"object":{"type":"Identifier","start":1940,"end":1947,"name":"browser"},"property":{"type":"Identifier","start":1948,"end":1955,"name":"execute"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1956,"end":2004,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1962,"end":2004,"body":[{"type":"ExpressionStatement","start":1970,"end":1998,"expression":{"type":"CallExpression","start":1970,"end":1998,"callee":{"type":"MemberExpression","start":1970,"end":1996,"object":{"type":"MemberExpression","start":1970,"end":1989,"object":{"type":"Identifier","start":1970,"end":1976,"name":"window"},"property":{"type":"Identifier","start":1977,"end":1989,"name":"uppyXhrLimit"},"computed":false},"property":{"type":"Identifier","start":1990,"end":1996,"name":"upload"},"computed":false},"arguments":[]}}]}}]}}},{"type":"ExpressionStatement","start":2010,"end":2035,"expression":{"type":"AwaitExpression","start":2010,"end":2035,"argument":{"type":"CallExpression","start":2016,"end":2035,"callee":{"type":"MemberExpression","start":2016,"end":2029,"object":{"type":"Identifier","start":2016,"end":2023,"name":"browser"},"property":{"type":"Identifier","start":2024,"end":2029,"name":"pause"},"computed":false},"arguments":[{"type":"Literal","start":2030,"end":2034,"value":5000,"raw":"5000"}]}}},{"type":"VariableDeclaration","start":2040,"end":2196,"declarations":[{"type":"VariableDeclarator","start":2046,"end":2196,"id":{"type":"Identifier","start":2046,"end":2052,"name":"status"},"init":{"type":"AwaitExpression","start":2055,"end":2196,"argument":{"type":"CallExpression","start":2061,"end":2196,"callee":{"type":"MemberExpression","start":2061,"end":2076,"object":{"type":"Identifier","start":2061,"end":2068,"name":"browser"},"property":{"type":"Identifier","start":2069,"end":2076,"name":"execute"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2077,"end":2195,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"ObjectExpression","start":2084,"end":2194,"properties":[{"type":"Property","start":2092,"end":2135,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2092,"end":2099,"name":"started"},"value":{"type":"MemberExpression","start":2101,"end":2135,"object":{"type":"MemberExpression","start":2101,"end":2120,"object":{"type":"Identifier","start":2101,"end":2107,"name":"window"},"property":{"type":"Identifier","start":2108,"end":2120,"name":"uppyXhrLimit"},"computed":false},"property":{"type":"Identifier","start":2121,"end":2135,"name":"uploadsStarted"},"computed":false},"kind":"init"},{"type":"Property","start":2143,"end":2188,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2143,"end":2151,"name":"complete"},"value":{"type":"MemberExpression","start":2153,"end":2188,"object":{"type":"MemberExpression","start":2153,"end":2172,"object":{"type":"Identifier","start":2153,"end":2159,"name":"window"},"property":{"type":"Identifier","start":2160,"end":2172,"name":"uppyXhrLimit"},"computed":false},"property":{"type":"Identifier","start":2173,"end":2188,"name":"uploadsComplete"},"computed":false},"kind":"init"}]}}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":2201,"end":2220,"expression":{"type":"CallExpression","start":2201,"end":2220,"callee":{"type":"MemberExpression","start":2201,"end":2212,"object":{"type":"Identifier","start":2201,"end":2208,"name":"console"},"property":{"type":"Identifier","start":2209,"end":2212,"name":"log"},"computed":false},"arguments":[{"type":"Identifier","start":2213,"end":2219,"name":"status"}]}},{"type":"ExpressionStatement","start":2225,"end":2273,"expression":{"type":"CallExpression","start":2225,"end":2273,"callee":{"type":"MemberExpression","start":2225,"end":2259,"object":{"type":"MemberExpression","start":2225,"end":2253,"object":{"type":"MemberExpression","start":2225,"end":2250,"object":{"type":"CallExpression","start":2225,"end":2247,"callee":{"type":"Identifier","start":2225,"end":2231,"name":"expect"},"arguments":[{"type":"MemberExpression","start":2232,"end":2246,"object":{"type":"Identifier","start":2232,"end":2238,"name":"status"},"property":{"type":"Identifier","start":2239,"end":2246,"name":"started"},"computed":false}]},"property":{"type":"Identifier","start":2248,"end":2250,"name":"to"},"computed":false},"property":{"type":"Identifier","start":2251,"end":2253,"name":"be"},"computed":false},"property":{"type":"Identifier","start":2254,"end":2259,"name":"equal"},"computed":false},"arguments":[{"type":"MemberExpression","start":2260,"end":2272,"object":{"type":"Identifier","start":2260,"end":2265,"name":"files"},"property":{"type":"Identifier","start":2266,"end":2272,"name":"length"},"computed":false}]}},{"type":"ExpressionStatement","start":2278,"end":2316,"expression":{"type":"CallExpression","start":2278,"end":2316,"callee":{"type":"MemberExpression","start":2278,"end":2313,"object":{"type":"MemberExpression","start":2278,"end":2307,"object":{"type":"MemberExpression","start":2278,"end":2304,"object":{"type":"CallExpression","start":2278,"end":2301,"callee":{"type":"Identifier","start":2278,"end":2284,"name":"expect"},"arguments":[{"type":"MemberExpression","start":2285,"end":2300,"object":{"type":"Identifier","start":2285,"end":2291,"name":"status"},"property":{"type":"Identifier","start":2292,"end":2300,"name":"complete"},"computed":false}]},"property":{"type":"Identifier","start":2302,"end":2304,"name":"to"},"computed":false},"property":{"type":"Identifier","start":2305,"end":2307,"name":"be"},"computed":false},"property":{"type":"Identifier","start":2308,"end":2313,"name":"equal"},"computed":false},"arguments":[{"type":"Literal","start":2314,"end":2315,"value":2,"raw":"2"}]}}]}}]}}]}}]}},{"type":"FunctionDeclaration","start":2326,"end":2538,"id":{"type":"Identifier","start":2335,"end":2343,"name":"makeFile"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2345,"end":2349,"name":"size"}],"body":{"type":"BlockStatement","start":2351,"end":2538,"body":[{"type":"VariableDeclaration","start":2355,"end":2395,"declarations":[{"type":"VariableDeclarator","start":2361,"end":2395,"id":{"type":"Identifier","start":2361,"end":2368,"name":"content"},"init":{"type":"CallExpression","start":2371,"end":2395,"callee":{"type":"MemberExpression","start":2371,"end":2389,"object":{"type":"Identifier","start":2371,"end":2377,"name":"Buffer"},"property":{"type":"Identifier","start":2378,"end":2389,"name":"allocUnsafe"},"computed":false},"arguments":[{"type":"Identifier","start":2390,"end":2394,"name":"size"}]}}],"kind":"const"},{"type":"ForStatement","start":2398,"end":2483,"init":{"type":"VariableDeclaration","start":2403,"end":2412,"declarations":[{"type":"VariableDeclarator","start":2407,"end":2412,"id":{"type":"Identifier","start":2407,"end":2408,"name":"i"},"init":{"type":"Literal","start":2411,"end":2412,"value":0,"raw":"0"}}],"kind":"let"},"test":{"type":"BinaryExpression","start":2414,"end":2422,"left":{"type":"Identifier","start":2414,"end":2415,"name":"i"},"operator":"<","right":{"type":"Identifier","start":2418,"end":2422,"name":"size"}},"update":{"type":"UpdateExpression","start":2424,"end":2427,"operator":"++","prefix":false,"argument":{"type":"Identifier","start":2424,"end":2425,"name":"i"}},"body":{"type":"BlockStatement","start":2429,"end":2483,"body":[{"type":"ExpressionStatement","start":2435,"end":2479,"expression":{"type":"AssignmentExpression","start":2435,"end":2479,"operator":"=","left":{"type":"MemberExpression","start":2435,"end":2445,"object":{"type":"Identifier","start":2435,"end":2442,"name":"content"},"property":{"type":"Identifier","start":2443,"end":2444,"name":"i"},"computed":true},"right":{"type":"CallExpression","start":2448,"end":2479,"callee":{"type":"MemberExpression","start":2448,"end":2458,"object":{"type":"Identifier","start":2448,"end":2452,"name":"Math"},"property":{"type":"Identifier","start":2453,"end":2458,"name":"floor"},"computed":false},"arguments":[{"type":"BinaryExpression","start":2459,"end":2478,"left":{"type":"CallExpression","start":2459,"end":2472,"callee":{"type":"MemberExpression","start":2459,"end":2470,"object":{"type":"Identifier","start":2459,"end":2463,"name":"Math"},"property":{"type":"Identifier","start":2464,"end":2470,"name":"random"},"computed":false},"arguments":[]},"operator":"*","right":{"type":"Literal","start":2475,"end":2478,"value":255,"raw":"255"}}]}}}]}},{"type":"ReturnStatement","start":2487,"end":2536,"argument":{"type":"ObjectExpression","start":2494,"end":2536,"properties":[{"type":"Property","start":2496,"end":2525,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2496,"end":2500,"name":"path"},"value":{"type":"CallExpression","start":2502,"end":2525,"callee":{"type":"MemberExpression","start":2502,"end":2516,"object":{"type":"Identifier","start":2502,"end":2511,"name":"tempWrite"},"property":{"type":"Identifier","start":2512,"end":2516,"name":"sync"},"computed":false},"arguments":[{"type":"Identifier","start":2517,"end":2524,"name":"content"}]},"kind":"init"},{"type":"Property","start":2527,"end":2534,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2527,"end":2534,"name":"content"},"kind":"init","value":{"type":"Identifier","start":2527,"end":2534,"name":"content"}}]}}]}}],"sourceType":"script"}