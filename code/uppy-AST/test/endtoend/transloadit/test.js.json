{"type":"Program","start":0,"end":1691,"body":[{"type":"VariableDeclaration","start":46,"end":74,"declarations":[{"type":"VariableDeclarator","start":52,"end":74,"id":{"type":"Identifier","start":52,"end":56,"name":"path"},"init":{"type":"CallExpression","start":59,"end":74,"callee":{"type":"Identifier","start":59,"end":66,"name":"require"},"arguments":[{"type":"Literal","start":67,"end":73,"value":"path","raw":"'path'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":75,"end":99,"declarations":[{"type":"VariableDeclarator","start":81,"end":99,"id":{"type":"Identifier","start":81,"end":83,"name":"fs"},"init":{"type":"CallExpression","start":86,"end":99,"callee":{"type":"Identifier","start":86,"end":93,"name":"require"},"arguments":[{"type":"Literal","start":94,"end":98,"value":"fs","raw":"'fs'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":100,"end":186,"declarations":[{"type":"VariableDeclarator","start":106,"end":186,"id":{"type":"ObjectPattern","start":106,"end":164,"properties":[{"type":"Property","start":108,"end":122,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":108,"end":122,"name":"selectFakeFile"},"kind":"init","value":{"type":"Identifier","start":108,"end":122,"name":"selectFakeFile"}},{"type":"Property","start":124,"end":142,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":124,"end":142,"name":"supportsChooseFile"},"kind":"init","value":{"type":"Identifier","start":124,"end":142,"name":"supportsChooseFile"}},{"type":"Property","start":144,"end":162,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":144,"end":162,"name":"ensureInputVisible"},"kind":"init","value":{"type":"Identifier","start":144,"end":162,"name":"ensureInputVisible"}}]},"init":{"type":"CallExpression","start":167,"end":186,"callee":{"type":"Identifier","start":167,"end":174,"name":"require"},"arguments":[{"type":"Literal","start":175,"end":185,"value":"../utils","raw":"'../utils'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":188,"end":239,"declarations":[{"type":"VariableDeclarator","start":194,"end":239,"id":{"type":"Identifier","start":194,"end":201,"name":"testURL"},"init":{"type":"Literal","start":204,"end":239,"value":"http://localhost:4567/transloadit","raw":"'http://localhost:4567/transloadit'"}}],"kind":"const"},{"type":"FunctionDeclaration","start":241,"end":340,"id":{"type":"Identifier","start":250,"end":274,"name":"setTransloaditKeyAndInit"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":276,"end":290,"name":"transloaditKey"}],"body":{"type":"BlockStatement","start":292,"end":340,"body":[{"type":"ExpressionStatement","start":296,"end":338,"expression":{"type":"CallExpression","start":296,"end":338,"callee":{"type":"MemberExpression","start":296,"end":322,"object":{"type":"Identifier","start":296,"end":302,"name":"window"},"property":{"type":"Identifier","start":303,"end":322,"name":"initUppyTransloadit"},"computed":false},"arguments":[{"type":"Identifier","start":323,"end":337,"name":"transloaditKey"}]}}]}},{"type":"ExpressionStatement","start":342,"end":1690,"expression":{"type":"CallExpression","start":342,"end":1690,"callee":{"type":"Identifier","start":342,"end":350,"name":"describe"},"arguments":[{"type":"Literal","start":351,"end":380,"value":"Transloadit file processing","raw":"'Transloadit file processing'"},{"type":"ArrowFunctionExpression","start":382,"end":1689,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":388,"end":1689,"body":[{"type":"ExpressionStatement","start":392,"end":452,"expression":{"type":"CallExpression","start":392,"end":452,"callee":{"type":"Identifier","start":392,"end":402,"name":"beforeEach"},"arguments":[{"type":"ArrowFunctionExpression","start":403,"end":451,"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":415,"end":451,"body":[{"type":"ExpressionStatement","start":421,"end":447,"expression":{"type":"AwaitExpression","start":421,"end":447,"argument":{"type":"CallExpression","start":427,"end":447,"callee":{"type":"MemberExpression","start":427,"end":438,"object":{"type":"Identifier","start":427,"end":434,"name":"browser"},"property":{"type":"Identifier","start":435,"end":438,"name":"url"},"computed":false},"arguments":[{"type":"Identifier","start":439,"end":446,"name":"testURL"}]}}}]}}]}},{"type":"ExpressionStatement","start":456,"end":1687,"expression":{"type":"CallExpression","start":456,"end":1687,"callee":{"type":"Identifier","start":456,"end":458,"name":"it"},"arguments":[{"type":"Literal","start":459,"end":508,"value":"should upload a file to Transloadit and crop it","raw":"'should upload a file to Transloadit and crop it'"},{"type":"FunctionExpression","start":510,"end":1686,"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":528,"end":1686,"body":[{"type":"VariableDeclaration","start":534,"end":584,"declarations":[{"type":"VariableDeclarator","start":540,"end":584,"id":{"type":"Identifier","start":540,"end":554,"name":"transloaditKey"},"init":{"type":"MemberExpression","start":557,"end":584,"object":{"type":"MemberExpression","start":557,"end":568,"object":{"type":"Identifier","start":557,"end":564,"name":"process"},"property":{"type":"Identifier","start":565,"end":568,"name":"env"},"computed":false},"property":{"type":"Identifier","start":569,"end":584,"name":"TRANSLOADIT_KEY"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":589,"end":714,"test":{"type":"BinaryExpression","start":593,"end":621,"left":{"type":"Identifier","start":593,"end":607,"name":"transloaditKey"},"operator":"===","right":{"type":"Identifier","start":612,"end":621,"name":"undefined"}},"consequent":{"type":"BlockStatement","start":623,"end":714,"body":[{"type":"ExpressionStatement","start":631,"end":683,"expression":{"type":"CallExpression","start":631,"end":683,"callee":{"type":"MemberExpression","start":631,"end":642,"object":{"type":"Identifier","start":631,"end":638,"name":"console"},"property":{"type":"Identifier","start":639,"end":642,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":643,"end":682,"value":"skipping Transloadit integration test","raw":"'skipping Transloadit integration test'"}]}},{"type":"ReturnStatement","start":690,"end":708,"argument":{"type":"CallExpression","start":697,"end":708,"callee":{"type":"MemberExpression","start":697,"end":706,"object":{"type":"ThisExpression","start":697,"end":701},"property":{"type":"Identifier","start":702,"end":706,"name":"skip"},"computed":false},"arguments":[]}}]},"alternate":null},{"type":"VariableDeclaration","start":720,"end":764,"declarations":[{"type":"VariableDeclarator","start":726,"end":764,"id":{"type":"Identifier","start":726,"end":733,"name":"wrapper"},"init":{"type":"AwaitExpression","start":736,"end":764,"argument":{"type":"CallExpression","start":742,"end":764,"callee":{"type":"Identifier","start":742,"end":743,"name":"$"},"arguments":[{"type":"Literal","start":744,"end":763,"value":"#uppy-transloadit","raw":"'#uppy-transloadit'"}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":769,"end":797,"expression":{"type":"AwaitExpression","start":769,"end":797,"argument":{"type":"CallExpression","start":775,"end":797,"callee":{"type":"MemberExpression","start":775,"end":795,"object":{"type":"Identifier","start":775,"end":782,"name":"wrapper"},"property":{"type":"Identifier","start":783,"end":795,"name":"waitForExist"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":803,"end":866,"expression":{"type":"AwaitExpression","start":803,"end":866,"argument":{"type":"CallExpression","start":809,"end":866,"callee":{"type":"MemberExpression","start":809,"end":824,"object":{"type":"Identifier","start":809,"end":816,"name":"browser"},"property":{"type":"Identifier","start":817,"end":824,"name":"execute"},"computed":false},"arguments":[{"type":"Identifier","start":825,"end":849,"name":"setTransloaditKeyAndInit"},{"type":"Identifier","start":851,"end":865,"name":"transloaditKey"}]}}},{"type":"VariableDeclaration","start":872,"end":936,"declarations":[{"type":"VariableDeclarator","start":878,"end":936,"id":{"type":"Identifier","start":878,"end":883,"name":"input"},"init":{"type":"AwaitExpression","start":886,"end":936,"argument":{"type":"CallExpression","start":892,"end":936,"callee":{"type":"Identifier","start":892,"end":893,"name":"$"},"arguments":[{"type":"Literal","start":894,"end":935,"value":"#uppy-transloadit .uppy-Dashboard-input","raw":"'#uppy-transloadit .uppy-Dashboard-input'"}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":941,"end":979,"declarations":[{"type":"VariableDeclarator","start":947,"end":979,"id":{"type":"Identifier","start":947,"end":953,"name":"result"},"init":{"type":"AwaitExpression","start":956,"end":979,"argument":{"type":"CallExpression","start":962,"end":979,"callee":{"type":"Identifier","start":962,"end":963,"name":"$"},"arguments":[{"type":"Literal","start":964,"end":978,"value":"#uppy-result","raw":"'#uppy-result'"}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":985,"end":1011,"expression":{"type":"AwaitExpression","start":985,"end":1011,"argument":{"type":"CallExpression","start":991,"end":1011,"callee":{"type":"MemberExpression","start":991,"end":1009,"object":{"type":"Identifier","start":991,"end":996,"name":"input"},"property":{"type":"Identifier","start":997,"end":1009,"name":"waitForExist"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":1016,"end":1100,"expression":{"type":"AwaitExpression","start":1016,"end":1100,"argument":{"type":"CallExpression","start":1022,"end":1100,"callee":{"type":"MemberExpression","start":1022,"end":1037,"object":{"type":"Identifier","start":1022,"end":1029,"name":"browser"},"property":{"type":"Identifier","start":1030,"end":1037,"name":"execute"},"computed":false},"arguments":[{"type":"Identifier","start":1038,"end":1056,"name":"ensureInputVisible"},{"type":"Literal","start":1058,"end":1099,"value":"#uppy-transloadit .uppy-Dashboard-input","raw":"'#uppy-transloadit .uppy-Dashboard-input'"}]}}},{"type":"IfStatement","start":1106,"end":1570,"test":{"type":"CallExpression","start":1110,"end":1142,"callee":{"type":"Identifier","start":1110,"end":1128,"name":"supportsChooseFile"},"arguments":[{"type":"Identifier","start":1129,"end":1141,"name":"capabilities"}]},"consequent":{"type":"BlockStatement","start":1144,"end":1229,"body":[{"type":"ExpressionStatement","start":1152,"end":1223,"expression":{"type":"AwaitExpression","start":1152,"end":1223,"argument":{"type":"CallExpression","start":1158,"end":1223,"callee":{"type":"MemberExpression","start":1158,"end":1172,"object":{"type":"Identifier","start":1158,"end":1163,"name":"input"},"property":{"type":"Identifier","start":1164,"end":1172,"name":"setValue"},"computed":false},"arguments":[{"type":"CallExpression","start":1173,"end":1222,"callee":{"type":"MemberExpression","start":1173,"end":1182,"object":{"type":"Identifier","start":1173,"end":1177,"name":"path"},"property":{"type":"Identifier","start":1178,"end":1182,"name":"join"},"computed":false},"arguments":[{"type":"Identifier","start":1183,"end":1192,"name":"__dirname"},{"type":"Literal","start":1194,"end":1221,"value":"../../resources/image.jpg","raw":"'../../resources/image.jpg'"}]}]}}}]},"alternate":{"type":"BlockStatement","start":1235,"end":1570,"body":[{"type":"VariableDeclaration","start":1243,"end":1304,"declarations":[{"type":"VariableDeclarator","start":1249,"end":1304,"id":{"type":"Identifier","start":1249,"end":1252,"name":"img"},"init":{"type":"CallExpression","start":1255,"end":1304,"callee":{"type":"MemberExpression","start":1255,"end":1264,"object":{"type":"Identifier","start":1255,"end":1259,"name":"path"},"property":{"type":"Identifier","start":1260,"end":1264,"name":"join"},"computed":false},"arguments":[{"type":"Identifier","start":1265,"end":1274,"name":"__dirname"},{"type":"Literal","start":1276,"end":1303,"value":"../../resources/image.jpg","raw":"'../../resources/image.jpg'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1311,"end":1504,"expression":{"type":"AwaitExpression","start":1311,"end":1504,"argument":{"type":"CallExpression","start":1317,"end":1504,"callee":{"type":"MemberExpression","start":1317,"end":1332,"object":{"type":"Identifier","start":1317,"end":1324,"name":"browser"},"property":{"type":"Identifier","start":1325,"end":1332,"name":"execute"},"computed":false},"arguments":[{"type":"Identifier","start":1342,"end":1356,"name":"selectFakeFile"},{"type":"Literal","start":1366,"end":1383,"value":"uppyTransloadit","raw":"'uppyTransloadit'"},{"type":"CallExpression","start":1393,"end":1411,"callee":{"type":"MemberExpression","start":1393,"end":1406,"object":{"type":"Identifier","start":1393,"end":1397,"name":"path"},"property":{"type":"Identifier","start":1398,"end":1406,"name":"basename"},"computed":false},"arguments":[{"type":"Identifier","start":1407,"end":1410,"name":"img"}]},{"type":"Literal","start":1429,"end":1441,"value":"image/jpeg","raw":"'image/jpeg'"},{"type":"CallExpression","start":1459,"end":1489,"callee":{"type":"MemberExpression","start":1459,"end":1474,"object":{"type":"Identifier","start":1459,"end":1461,"name":"fs"},"property":{"type":"Identifier","start":1462,"end":1474,"name":"readFileSync"},"computed":false},"arguments":[{"type":"Identifier","start":1475,"end":1478,"name":"img"},{"type":"Literal","start":1480,"end":1488,"value":"base64","raw":"'base64'"}]}]}}}]}},{"type":"ExpressionStatement","start":1575,"end":1607,"expression":{"type":"AwaitExpression","start":1575,"end":1607,"argument":{"type":"CallExpression","start":1581,"end":1607,"callee":{"type":"MemberExpression","start":1581,"end":1600,"object":{"type":"Identifier","start":1581,"end":1587,"name":"result"},"property":{"type":"Identifier","start":1588,"end":1600,"name":"waitForExist"},"computed":false},"arguments":[{"type":"Literal","start":1601,"end":1606,"value":25000,"raw":"25000"}]}}},{"type":"VariableDeclaration","start":1612,"end":1647,"declarations":[{"type":"VariableDeclarator","start":1618,"end":1647,"id":{"type":"Identifier","start":1618,"end":1622,"name":"text"},"init":{"type":"AwaitExpression","start":1625,"end":1647,"argument":{"type":"CallExpression","start":1631,"end":1647,"callee":{"type":"MemberExpression","start":1631,"end":1645,"object":{"type":"Identifier","start":1631,"end":1637,"name":"result"},"property":{"type":"Identifier","start":1638,"end":1645,"name":"getText"},"computed":false},"arguments":[]}}}],"kind":"const"},{"type":"ExpressionStatement","start":1652,"end":1682,"expression":{"type":"CallExpression","start":1652,"end":1682,"callee":{"type":"MemberExpression","start":1652,"end":1676,"object":{"type":"MemberExpression","start":1652,"end":1670,"object":{"type":"MemberExpression","start":1652,"end":1667,"object":{"type":"CallExpression","start":1652,"end":1664,"callee":{"type":"Identifier","start":1652,"end":1658,"name":"expect"},"arguments":[{"type":"Identifier","start":1659,"end":1663,"name":"text"}]},"property":{"type":"Identifier","start":1665,"end":1667,"name":"to"},"computed":false},"property":{"type":"Identifier","start":1668,"end":1670,"name":"be"},"computed":false},"property":{"type":"Identifier","start":1671,"end":1676,"name":"equal"},"computed":false},"arguments":[{"type":"Literal","start":1677,"end":1681,"value":"ok","raw":"'ok'"}]}}]}}]}}]}}]}}],"sourceType":"script"}