{"type":"Program","start":0,"end":13561,"body":[{"type":"VariableDeclaration","start":0,"end":18,"declarations":[{"type":"VariableDeclarator","start":4,"end":10,"id":{"type":"Identifier","start":4,"end":10,"name":"_class"},"init":null},{"type":"VariableDeclarator","start":12,"end":17,"id":{"type":"Identifier","start":12,"end":17,"name":"_temp"},"init":null}],"kind":"var"},{"type":"FunctionDeclaration","start":20,"end":337,"id":{"type":"Identifier","start":29,"end":37,"name":"_extends"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":40,"end":337,"body":[{"type":"ExpressionStatement","start":42,"end":295,"expression":{"type":"AssignmentExpression","start":42,"end":294,"operator":"=","left":{"type":"Identifier","start":42,"end":50,"name":"_extends"},"right":{"type":"LogicalExpression","start":53,"end":294,"left":{"type":"MemberExpression","start":53,"end":66,"object":{"type":"Identifier","start":53,"end":59,"name":"Object"},"property":{"type":"Identifier","start":60,"end":66,"name":"assign"},"computed":false},"operator":"||","right":{"type":"FunctionExpression","start":70,"end":294,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":80,"end":86,"name":"target"}],"body":{"type":"BlockStatement","start":88,"end":294,"body":[{"type":"ForStatement","start":90,"end":277,"init":{"type":"VariableDeclaration","start":95,"end":104,"declarations":[{"type":"VariableDeclarator","start":99,"end":104,"id":{"type":"Identifier","start":99,"end":100,"name":"i"},"init":{"type":"Literal","start":103,"end":104,"value":1,"raw":"1"}}],"kind":"var"},"test":{"type":"BinaryExpression","start":106,"end":126,"left":{"type":"Identifier","start":106,"end":107,"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":110,"end":126,"object":{"type":"Identifier","start":110,"end":119,"name":"arguments"},"property":{"type":"Identifier","start":120,"end":126,"name":"length"},"computed":false}},"update":{"type":"UpdateExpression","start":128,"end":131,"operator":"++","prefix":false,"argument":{"type":"Identifier","start":128,"end":129,"name":"i"}},"body":{"type":"BlockStatement","start":133,"end":277,"body":[{"type":"VariableDeclaration","start":135,"end":161,"declarations":[{"type":"VariableDeclarator","start":139,"end":160,"id":{"type":"Identifier","start":139,"end":145,"name":"source"},"init":{"type":"MemberExpression","start":148,"end":160,"object":{"type":"Identifier","start":148,"end":157,"name":"arguments"},"property":{"type":"Identifier","start":158,"end":159,"name":"i"},"computed":true}}],"kind":"var"},{"type":"ForInStatement","start":162,"end":275,"left":{"type":"VariableDeclaration","start":167,"end":174,"declarations":[{"type":"VariableDeclarator","start":171,"end":174,"id":{"type":"Identifier","start":171,"end":174,"name":"key"},"init":null}],"kind":"var"},"right":{"type":"Identifier","start":178,"end":184,"name":"source"},"body":{"type":"BlockStatement","start":186,"end":275,"body":[{"type":"IfStatement","start":188,"end":273,"test":{"type":"CallExpression","start":192,"end":241,"callee":{"type":"MemberExpression","start":192,"end":228,"object":{"type":"MemberExpression","start":192,"end":223,"object":{"type":"MemberExpression","start":192,"end":208,"object":{"type":"Identifier","start":192,"end":198,"name":"Object"},"property":{"type":"Identifier","start":199,"end":208,"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":209,"end":223,"name":"hasOwnProperty"},"computed":false},"property":{"type":"Identifier","start":224,"end":228,"name":"call"},"computed":false},"arguments":[{"type":"Identifier","start":229,"end":235,"name":"source"},{"type":"Identifier","start":237,"end":240,"name":"key"}]},"consequent":{"type":"BlockStatement","start":243,"end":273,"body":[{"type":"ExpressionStatement","start":245,"end":271,"expression":{"type":"AssignmentExpression","start":245,"end":270,"operator":"=","left":{"type":"MemberExpression","start":245,"end":256,"object":{"type":"Identifier","start":245,"end":251,"name":"target"},"property":{"type":"Identifier","start":252,"end":255,"name":"key"},"computed":true},"right":{"type":"MemberExpression","start":259,"end":270,"object":{"type":"Identifier","start":259,"end":265,"name":"source"},"property":{"type":"Identifier","start":266,"end":269,"name":"key"},"computed":true}}}]},"alternate":null}]}}]}},{"type":"ReturnStatement","start":278,"end":292,"argument":{"type":"Identifier","start":285,"end":291,"name":"target"}}]}}}}},{"type":"ReturnStatement","start":296,"end":335,"argument":{"type":"CallExpression","start":303,"end":334,"callee":{"type":"MemberExpression","start":303,"end":317,"object":{"type":"Identifier","start":303,"end":311,"name":"_extends"},"property":{"type":"Identifier","start":312,"end":317,"name":"apply"},"computed":false},"arguments":[{"type":"ThisExpression","start":318,"end":322},{"type":"Identifier","start":324,"end":333,"name":"arguments"}]}}]}},{"type":"FunctionDeclaration","start":339,"end":522,"id":{"type":"Identifier","start":348,"end":362,"name":"_inheritsLoose"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":363,"end":371,"name":"subClass"},{"type":"Identifier","start":373,"end":383,"name":"superClass"}],"body":{"type":"BlockStatement","start":385,"end":522,"body":[{"type":"ExpressionStatement","start":387,"end":444,"expression":{"type":"AssignmentExpression","start":387,"end":443,"operator":"=","left":{"type":"MemberExpression","start":387,"end":405,"object":{"type":"Identifier","start":387,"end":395,"name":"subClass"},"property":{"type":"Identifier","start":396,"end":405,"name":"prototype"},"computed":false},"right":{"type":"CallExpression","start":408,"end":443,"callee":{"type":"MemberExpression","start":408,"end":421,"object":{"type":"Identifier","start":408,"end":414,"name":"Object"},"property":{"type":"Identifier","start":415,"end":421,"name":"create"},"computed":false},"arguments":[{"type":"MemberExpression","start":422,"end":442,"object":{"type":"Identifier","start":422,"end":432,"name":"superClass"},"property":{"type":"Identifier","start":433,"end":442,"name":"prototype"},"computed":false}]}}},{"type":"ExpressionStatement","start":445,"end":487,"expression":{"type":"AssignmentExpression","start":445,"end":486,"operator":"=","left":{"type":"MemberExpression","start":445,"end":475,"object":{"type":"MemberExpression","start":445,"end":463,"object":{"type":"Identifier","start":445,"end":453,"name":"subClass"},"property":{"type":"Identifier","start":454,"end":463,"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":464,"end":475,"name":"constructor"},"computed":false},"right":{"type":"Identifier","start":478,"end":486,"name":"subClass"}}},{"type":"ExpressionStatement","start":488,"end":520,"expression":{"type":"AssignmentExpression","start":488,"end":519,"operator":"=","left":{"type":"MemberExpression","start":488,"end":506,"object":{"type":"Identifier","start":488,"end":496,"name":"subClass"},"property":{"type":"Identifier","start":497,"end":506,"name":"__proto__"},"computed":false},"right":{"type":"Identifier","start":509,"end":519,"name":"superClass"}}}]}},{"type":"VariableDeclaration","start":524,"end":591,"declarations":[{"type":"VariableDeclarator","start":528,"end":560,"id":{"type":"Identifier","start":528,"end":536,"name":"_require"},"init":{"type":"CallExpression","start":539,"end":560,"callee":{"type":"Identifier","start":539,"end":546,"name":"require"},"arguments":[{"type":"Literal","start":547,"end":559,"value":"@uppy/core","raw":"'@uppy/core'"}]}},{"type":"VariableDeclarator","start":566,"end":590,"id":{"type":"Identifier","start":566,"end":572,"name":"Plugin"},"init":{"type":"MemberExpression","start":575,"end":590,"object":{"type":"Identifier","start":575,"end":583,"name":"_require"},"property":{"type":"Identifier","start":584,"end":590,"name":"Plugin"},"computed":false}}],"kind":"var"},{"type":"VariableDeclaration","start":593,"end":648,"declarations":[{"type":"VariableDeclarator","start":597,"end":647,"id":{"type":"Identifier","start":597,"end":607,"name":"Translator"},"init":{"type":"CallExpression","start":610,"end":647,"callee":{"type":"Identifier","start":610,"end":617,"name":"require"},"arguments":[{"type":"Literal","start":618,"end":646,"value":"@uppy/utils/lib/Translator","raw":"'@uppy/utils/lib/Translator'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":650,"end":711,"declarations":[{"type":"VariableDeclarator","start":654,"end":710,"id":{"type":"Identifier","start":654,"end":667,"name":"dataURItoBlob"},"init":{"type":"CallExpression","start":670,"end":710,"callee":{"type":"Identifier","start":670,"end":677,"name":"require"},"arguments":[{"type":"Literal","start":678,"end":709,"value":"@uppy/utils/lib/dataURItoBlob","raw":"'@uppy/utils/lib/dataURItoBlob'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":713,"end":770,"declarations":[{"type":"VariableDeclarator","start":717,"end":769,"id":{"type":"Identifier","start":717,"end":728,"name":"isObjectURL"},"init":{"type":"CallExpression","start":731,"end":769,"callee":{"type":"Identifier","start":731,"end":738,"name":"require"},"arguments":[{"type":"Literal","start":739,"end":768,"value":"@uppy/utils/lib/isObjectURL","raw":"'@uppy/utils/lib/isObjectURL'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":772,"end":843,"declarations":[{"type":"VariableDeclarator","start":776,"end":842,"id":{"type":"Identifier","start":776,"end":794,"name":"isPreviewSupported"},"init":{"type":"CallExpression","start":797,"end":842,"callee":{"type":"Identifier","start":797,"end":804,"name":"require"},"arguments":[{"type":"Literal","start":805,"end":841,"value":"@uppy/utils/lib/isPreviewSupported","raw":"'@uppy/utils/lib/isPreviewSupported'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":845,"end":881,"declarations":[{"type":"VariableDeclarator","start":849,"end":880,"id":{"type":"Identifier","start":849,"end":857,"name":"MathLog2"},"init":{"type":"CallExpression","start":860,"end":880,"callee":{"type":"Identifier","start":860,"end":867,"name":"require"},"arguments":[{"type":"Literal","start":868,"end":879,"value":"math-log2","raw":"'math-log2'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":904,"end":957,"declarations":[{"type":"VariableDeclarator","start":908,"end":956,"id":{"type":"Identifier","start":908,"end":913,"name":"exifr"},"init":{"type":"CallExpression","start":916,"end":956,"callee":{"type":"Identifier","start":916,"end":923,"name":"require"},"arguments":[{"type":"Literal","start":924,"end":955,"value":"exifr/dist/mini.legacy.umd.js","raw":"'exifr/dist/mini.legacy.umd.js'"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":1002,"end":13561,"expression":{"type":"AssignmentExpression","start":1002,"end":13560,"operator":"=","left":{"type":"MemberExpression","start":1002,"end":1016,"object":{"type":"Identifier","start":1002,"end":1008,"name":"module"},"property":{"type":"Identifier","start":1009,"end":1016,"name":"exports"},"computed":false},"right":{"type":"SequenceExpression","start":1020,"end":13559,"expressions":[{"type":"AssignmentExpression","start":1020,"end":13499,"operator":"=","left":{"type":"Identifier","start":1020,"end":1025,"name":"_temp"},"right":{"type":"AssignmentExpression","start":1028,"end":13499,"operator":"=","left":{"type":"Identifier","start":1028,"end":1034,"name":"_class"},"right":{"type":"CallExpression","start":1050,"end":13499,"callee":{"type":"FunctionExpression","start":1050,"end":13491,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1060,"end":1067,"name":"_Plugin"}],"body":{"type":"BlockStatement","start":1069,"end":13491,"body":[{"type":"ExpressionStatement","start":1073,"end":1117,"expression":{"type":"CallExpression","start":1073,"end":1116,"callee":{"type":"Identifier","start":1073,"end":1087,"name":"_inheritsLoose"},"arguments":[{"type":"Identifier","start":1088,"end":1106,"name":"ThumbnailGenerator"},{"type":"Identifier","start":1108,"end":1115,"name":"_Plugin"}]}},{"type":"FunctionDeclaration","start":1121,"end":4146,"id":{"type":"Identifier","start":1130,"end":1148,"name":"ThumbnailGenerator"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1149,"end":1153,"name":"uppy"},{"type":"Identifier","start":1155,"end":1159,"name":"opts"}],"body":{"type":"BlockStatement","start":1161,"end":4146,"body":[{"type":"VariableDeclaration","start":1167,"end":1177,"declarations":[{"type":"VariableDeclarator","start":1171,"end":1176,"id":{"type":"Identifier","start":1171,"end":1176,"name":"_this"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","start":1183,"end":1230,"expression":{"type":"AssignmentExpression","start":1183,"end":1229,"operator":"=","left":{"type":"Identifier","start":1183,"end":1188,"name":"_this"},"right":{"type":"LogicalExpression","start":1191,"end":1229,"left":{"type":"CallExpression","start":1191,"end":1221,"callee":{"type":"MemberExpression","start":1191,"end":1203,"object":{"type":"Identifier","start":1191,"end":1198,"name":"_Plugin"},"property":{"type":"Identifier","start":1199,"end":1203,"name":"call"},"computed":false},"arguments":[{"type":"ThisExpression","start":1204,"end":1208},{"type":"Identifier","start":1210,"end":1214,"name":"uppy"},{"type":"Identifier","start":1216,"end":1220,"name":"opts"}]},"operator":"||","right":{"type":"ThisExpression","start":1225,"end":1229}}}},{"type":"ExpressionStatement","start":1236,"end":1401,"expression":{"type":"AssignmentExpression","start":1236,"end":1400,"operator":"=","left":{"type":"MemberExpression","start":1236,"end":1253,"object":{"type":"Identifier","start":1236,"end":1241,"name":"_this"},"property":{"type":"Identifier","start":1242,"end":1253,"name":"onFileAdded"},"computed":false},"right":{"type":"FunctionExpression","start":1256,"end":1400,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1266,"end":1270,"name":"file"}],"body":{"type":"BlockStatement","start":1272,"end":1400,"body":[{"type":"IfStatement","start":1280,"end":1394,"test":{"type":"LogicalExpression","start":1284,"end":1348,"left":{"type":"LogicalExpression","start":1284,"end":1330,"left":{"type":"UnaryExpression","start":1284,"end":1297,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1285,"end":1297,"object":{"type":"Identifier","start":1285,"end":1289,"name":"file"},"property":{"type":"Identifier","start":1290,"end":1297,"name":"preview"},"computed":false}},"operator":"&&","right":{"type":"CallExpression","start":1301,"end":1330,"callee":{"type":"Identifier","start":1301,"end":1319,"name":"isPreviewSupported"},"arguments":[{"type":"MemberExpression","start":1320,"end":1329,"object":{"type":"Identifier","start":1320,"end":1324,"name":"file"},"property":{"type":"Identifier","start":1325,"end":1329,"name":"type"},"computed":false}]}},"operator":"&&","right":{"type":"UnaryExpression","start":1334,"end":1348,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1335,"end":1348,"object":{"type":"Identifier","start":1335,"end":1339,"name":"file"},"property":{"type":"Identifier","start":1340,"end":1348,"name":"isRemote"},"computed":false}}},"consequent":{"type":"BlockStatement","start":1350,"end":1394,"body":[{"type":"ExpressionStatement","start":1360,"end":1386,"expression":{"type":"CallExpression","start":1360,"end":1385,"callee":{"type":"MemberExpression","start":1360,"end":1376,"object":{"type":"Identifier","start":1360,"end":1365,"name":"_this"},"property":{"type":"Identifier","start":1366,"end":1376,"name":"addToQueue"},"computed":false},"arguments":[{"type":"MemberExpression","start":1377,"end":1384,"object":{"type":"Identifier","start":1377,"end":1381,"name":"file"},"property":{"type":"Identifier","start":1382,"end":1384,"name":"id"},"computed":false}]}}]},"alternate":null}]}}}},{"type":"ExpressionStatement","start":1407,"end":1576,"expression":{"type":"AssignmentExpression","start":1407,"end":1575,"operator":"=","left":{"type":"MemberExpression","start":1407,"end":1428,"object":{"type":"Identifier","start":1407,"end":1412,"name":"_this"},"property":{"type":"Identifier","start":1413,"end":1428,"name":"onCancelRequest"},"computed":false},"right":{"type":"FunctionExpression","start":1431,"end":1575,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1441,"end":1445,"name":"file"}],"body":{"type":"BlockStatement","start":1447,"end":1575,"body":[{"type":"VariableDeclaration","start":1455,"end":1496,"declarations":[{"type":"VariableDeclarator","start":1459,"end":1495,"id":{"type":"Identifier","start":1459,"end":1464,"name":"index"},"init":{"type":"CallExpression","start":1467,"end":1495,"callee":{"type":"MemberExpression","start":1467,"end":1486,"object":{"type":"MemberExpression","start":1467,"end":1478,"object":{"type":"Identifier","start":1467,"end":1472,"name":"_this"},"property":{"type":"Identifier","start":1473,"end":1478,"name":"queue"},"computed":false},"property":{"type":"Identifier","start":1479,"end":1486,"name":"indexOf"},"computed":false},"arguments":[{"type":"MemberExpression","start":1487,"end":1494,"object":{"type":"Identifier","start":1487,"end":1491,"name":"file"},"property":{"type":"Identifier","start":1492,"end":1494,"name":"id"},"computed":false}]}}],"kind":"var"},{"type":"IfStatement","start":1504,"end":1569,"test":{"type":"BinaryExpression","start":1508,"end":1520,"left":{"type":"Identifier","start":1508,"end":1513,"name":"index"},"operator":"!==","right":{"type":"UnaryExpression","start":1518,"end":1520,"operator":"-","prefix":true,"argument":{"type":"Literal","start":1519,"end":1520,"value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","start":1522,"end":1569,"body":[{"type":"ExpressionStatement","start":1532,"end":1561,"expression":{"type":"CallExpression","start":1532,"end":1560,"callee":{"type":"MemberExpression","start":1532,"end":1550,"object":{"type":"MemberExpression","start":1532,"end":1543,"object":{"type":"Identifier","start":1532,"end":1537,"name":"_this"},"property":{"type":"Identifier","start":1538,"end":1543,"name":"queue"},"computed":false},"property":{"type":"Identifier","start":1544,"end":1550,"name":"splice"},"computed":false},"arguments":[{"type":"Identifier","start":1551,"end":1556,"name":"index"},{"type":"Literal","start":1558,"end":1559,"value":1,"raw":"1"}]}}]},"alternate":null}]}}}},{"type":"ExpressionStatement","start":1582,"end":1882,"expression":{"type":"AssignmentExpression","start":1582,"end":1881,"operator":"=","left":{"type":"MemberExpression","start":1582,"end":1601,"object":{"type":"Identifier","start":1582,"end":1587,"name":"_this"},"property":{"type":"Identifier","start":1588,"end":1601,"name":"onFileRemoved"},"computed":false},"right":{"type":"FunctionExpression","start":1604,"end":1881,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1614,"end":1618,"name":"file"}],"body":{"type":"BlockStatement","start":1620,"end":1881,"body":[{"type":"VariableDeclaration","start":1628,"end":1669,"declarations":[{"type":"VariableDeclarator","start":1632,"end":1668,"id":{"type":"Identifier","start":1632,"end":1637,"name":"index"},"init":{"type":"CallExpression","start":1640,"end":1668,"callee":{"type":"MemberExpression","start":1640,"end":1659,"object":{"type":"MemberExpression","start":1640,"end":1651,"object":{"type":"Identifier","start":1640,"end":1645,"name":"_this"},"property":{"type":"Identifier","start":1646,"end":1651,"name":"queue"},"computed":false},"property":{"type":"Identifier","start":1652,"end":1659,"name":"indexOf"},"computed":false},"arguments":[{"type":"MemberExpression","start":1660,"end":1667,"object":{"type":"Identifier","start":1660,"end":1664,"name":"file"},"property":{"type":"Identifier","start":1665,"end":1667,"name":"id"},"computed":false}]}}],"kind":"var"},{"type":"IfStatement","start":1677,"end":1742,"test":{"type":"BinaryExpression","start":1681,"end":1693,"left":{"type":"Identifier","start":1681,"end":1686,"name":"index"},"operator":"!==","right":{"type":"UnaryExpression","start":1691,"end":1693,"operator":"-","prefix":true,"argument":{"type":"Literal","start":1692,"end":1693,"value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","start":1695,"end":1742,"body":[{"type":"ExpressionStatement","start":1705,"end":1734,"expression":{"type":"CallExpression","start":1705,"end":1733,"callee":{"type":"MemberExpression","start":1705,"end":1723,"object":{"type":"MemberExpression","start":1705,"end":1716,"object":{"type":"Identifier","start":1705,"end":1710,"name":"_this"},"property":{"type":"Identifier","start":1711,"end":1716,"name":"queue"},"computed":false},"property":{"type":"Identifier","start":1717,"end":1723,"name":"splice"},"computed":false},"arguments":[{"type":"Identifier","start":1724,"end":1729,"name":"index"},{"type":"Literal","start":1731,"end":1732,"value":1,"raw":"1"}]}}]},"alternate":null},{"type":"IfStatement","start":1776,"end":1875,"test":{"type":"LogicalExpression","start":1780,"end":1821,"left":{"type":"MemberExpression","start":1780,"end":1792,"object":{"type":"Identifier","start":1780,"end":1784,"name":"file"},"property":{"type":"Identifier","start":1785,"end":1792,"name":"preview"},"computed":false},"operator":"&&","right":{"type":"CallExpression","start":1796,"end":1821,"callee":{"type":"Identifier","start":1796,"end":1807,"name":"isObjectURL"},"arguments":[{"type":"MemberExpression","start":1808,"end":1820,"object":{"type":"Identifier","start":1808,"end":1812,"name":"file"},"property":{"type":"Identifier","start":1813,"end":1820,"name":"preview"},"computed":false}]}},"consequent":{"type":"BlockStatement","start":1823,"end":1875,"body":[{"type":"ExpressionStatement","start":1833,"end":1867,"expression":{"type":"CallExpression","start":1833,"end":1866,"callee":{"type":"MemberExpression","start":1833,"end":1852,"object":{"type":"Identifier","start":1833,"end":1836,"name":"URL"},"property":{"type":"Identifier","start":1837,"end":1852,"name":"revokeObjectURL"},"computed":false},"arguments":[{"type":"MemberExpression","start":1853,"end":1865,"object":{"type":"Identifier","start":1853,"end":1857,"name":"file"},"property":{"type":"Identifier","start":1858,"end":1865,"name":"preview"},"computed":false}]}}]},"alternate":null}]}}}},{"type":"ExpressionStatement","start":1888,"end":2381,"expression":{"type":"AssignmentExpression","start":1888,"end":2380,"operator":"=","left":{"type":"MemberExpression","start":1888,"end":1904,"object":{"type":"Identifier","start":1888,"end":1893,"name":"_this"},"property":{"type":"Identifier","start":1894,"end":1904,"name":"onRestored"},"computed":false},"right":{"type":"FunctionExpression","start":1907,"end":2380,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1919,"end":2380,"body":[{"type":"VariableDeclaration","start":1927,"end":2020,"declarations":[{"type":"VariableDeclarator","start":1931,"end":1974,"id":{"type":"Identifier","start":1931,"end":1950,"name":"_this$uppy$getState"},"init":{"type":"CallExpression","start":1953,"end":1974,"callee":{"type":"MemberExpression","start":1953,"end":1972,"object":{"type":"MemberExpression","start":1953,"end":1963,"object":{"type":"Identifier","start":1953,"end":1958,"name":"_this"},"property":{"type":"Identifier","start":1959,"end":1963,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":1964,"end":1972,"name":"getState"},"computed":false},"arguments":[]}},{"type":"VariableDeclarator","start":1986,"end":2019,"id":{"type":"Identifier","start":1986,"end":1991,"name":"files"},"init":{"type":"MemberExpression","start":1994,"end":2019,"object":{"type":"Identifier","start":1994,"end":2013,"name":"_this$uppy$getState"},"property":{"type":"Identifier","start":2014,"end":2019,"name":"files"},"computed":false}}],"kind":"var"},{"type":"VariableDeclaration","start":2028,"end":2061,"declarations":[{"type":"VariableDeclarator","start":2032,"end":2060,"id":{"type":"Identifier","start":2032,"end":2039,"name":"fileIDs"},"init":{"type":"CallExpression","start":2042,"end":2060,"callee":{"type":"MemberExpression","start":2042,"end":2053,"object":{"type":"Identifier","start":2042,"end":2048,"name":"Object"},"property":{"type":"Identifier","start":2049,"end":2053,"name":"keys"},"computed":false},"arguments":[{"type":"Identifier","start":2054,"end":2059,"name":"files"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":2068,"end":2374,"expression":{"type":"CallExpression","start":2068,"end":2373,"callee":{"type":"MemberExpression","start":2068,"end":2083,"object":{"type":"Identifier","start":2068,"end":2075,"name":"fileIDs"},"property":{"type":"Identifier","start":2076,"end":2083,"name":"forEach"},"computed":false},"arguments":[{"type":"FunctionExpression","start":2084,"end":2372,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2094,"end":2100,"name":"fileID"}],"body":{"type":"BlockStatement","start":2102,"end":2372,"body":[{"type":"VariableDeclaration","start":2112,"end":2150,"declarations":[{"type":"VariableDeclarator","start":2116,"end":2149,"id":{"type":"Identifier","start":2116,"end":2120,"name":"file"},"init":{"type":"CallExpression","start":2123,"end":2149,"callee":{"type":"MemberExpression","start":2123,"end":2141,"object":{"type":"MemberExpression","start":2123,"end":2133,"object":{"type":"Identifier","start":2123,"end":2128,"name":"_this"},"property":{"type":"Identifier","start":2129,"end":2133,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":2134,"end":2141,"name":"getFile"},"computed":false},"arguments":[{"type":"Identifier","start":2142,"end":2148,"name":"fileID"}]}}],"kind":"var"},{"type":"IfStatement","start":2160,"end":2189,"test":{"type":"UnaryExpression","start":2164,"end":2180,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":2165,"end":2180,"object":{"type":"Identifier","start":2165,"end":2169,"name":"file"},"property":{"type":"Identifier","start":2170,"end":2180,"name":"isRestored"},"computed":false}},"consequent":{"type":"ReturnStatement","start":2182,"end":2189,"argument":null},"alternate":null},{"type":"IfStatement","start":2268,"end":2364,"test":{"type":"LogicalExpression","start":2272,"end":2314,"left":{"type":"UnaryExpression","start":2272,"end":2285,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":2273,"end":2285,"object":{"type":"Identifier","start":2273,"end":2277,"name":"file"},"property":{"type":"Identifier","start":2278,"end":2285,"name":"preview"},"computed":false}},"operator":"||","right":{"type":"CallExpression","start":2289,"end":2314,"callee":{"type":"Identifier","start":2289,"end":2300,"name":"isObjectURL"},"arguments":[{"type":"MemberExpression","start":2301,"end":2313,"object":{"type":"Identifier","start":2301,"end":2305,"name":"file"},"property":{"type":"Identifier","start":2306,"end":2313,"name":"preview"},"computed":false}]}},"consequent":{"type":"BlockStatement","start":2316,"end":2364,"body":[{"type":"ExpressionStatement","start":2328,"end":2354,"expression":{"type":"CallExpression","start":2328,"end":2353,"callee":{"type":"MemberExpression","start":2328,"end":2344,"object":{"type":"Identifier","start":2328,"end":2333,"name":"_this"},"property":{"type":"Identifier","start":2334,"end":2344,"name":"addToQueue"},"computed":false},"arguments":[{"type":"MemberExpression","start":2345,"end":2352,"object":{"type":"Identifier","start":2345,"end":2349,"name":"file"},"property":{"type":"Identifier","start":2350,"end":2352,"name":"id"},"computed":false}]}}]},"alternate":null}]}}]}}]}}}},{"type":"ExpressionStatement","start":2387,"end":3293,"expression":{"type":"AssignmentExpression","start":2387,"end":3292,"operator":"=","left":{"type":"MemberExpression","start":2387,"end":2414,"object":{"type":"Identifier","start":2387,"end":2392,"name":"_this"},"property":{"type":"Identifier","start":2393,"end":2414,"name":"waitUntilAllProcessed"},"computed":false},"right":{"type":"FunctionExpression","start":2417,"end":3292,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2427,"end":2434,"name":"fileIDs"}],"body":{"type":"BlockStatement","start":2436,"end":3292,"body":[{"type":"ExpressionStatement","start":2444,"end":2691,"expression":{"type":"CallExpression","start":2444,"end":2690,"callee":{"type":"MemberExpression","start":2444,"end":2459,"object":{"type":"Identifier","start":2444,"end":2451,"name":"fileIDs"},"property":{"type":"Identifier","start":2452,"end":2459,"name":"forEach"},"computed":false},"arguments":[{"type":"FunctionExpression","start":2460,"end":2689,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2470,"end":2476,"name":"fileID"}],"body":{"type":"BlockStatement","start":2478,"end":2689,"body":[{"type":"VariableDeclaration","start":2488,"end":2526,"declarations":[{"type":"VariableDeclarator","start":2492,"end":2525,"id":{"type":"Identifier","start":2492,"end":2496,"name":"file"},"init":{"type":"CallExpression","start":2499,"end":2525,"callee":{"type":"MemberExpression","start":2499,"end":2517,"object":{"type":"MemberExpression","start":2499,"end":2509,"object":{"type":"Identifier","start":2499,"end":2504,"name":"_this"},"property":{"type":"Identifier","start":2505,"end":2509,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":2510,"end":2517,"name":"getFile"},"computed":false},"arguments":[{"type":"Identifier","start":2518,"end":2524,"name":"fileID"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":2536,"end":2681,"expression":{"type":"CallExpression","start":2536,"end":2680,"callee":{"type":"MemberExpression","start":2536,"end":2551,"object":{"type":"MemberExpression","start":2536,"end":2546,"object":{"type":"Identifier","start":2536,"end":2541,"name":"_this"},"property":{"type":"Identifier","start":2542,"end":2546,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":2547,"end":2551,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":2552,"end":2573,"value":"preprocess-progress","raw":"'preprocess-progress'"},{"type":"Identifier","start":2575,"end":2579,"name":"file"},{"type":"ObjectExpression","start":2581,"end":2679,"properties":[{"type":"Property","start":2593,"end":2614,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2593,"end":2597,"name":"mode"},"value":{"type":"Literal","start":2599,"end":2614,"value":"indeterminate","raw":"'indeterminate'"},"kind":"init"},{"type":"Property","start":2626,"end":2669,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2626,"end":2633,"name":"message"},"value":{"type":"CallExpression","start":2635,"end":2669,"callee":{"type":"MemberExpression","start":2635,"end":2645,"object":{"type":"Identifier","start":2635,"end":2640,"name":"_this"},"property":{"type":"Identifier","start":2641,"end":2645,"name":"i18n"},"computed":false},"arguments":[{"type":"Literal","start":2646,"end":2668,"value":"generatingThumbnails","raw":"'generatingThumbnails'"}]},"kind":"init"}]}]}}]}}]}},{"type":"VariableDeclaration","start":2699,"end":2946,"declarations":[{"type":"VariableDeclarator","start":2703,"end":2945,"id":{"type":"Identifier","start":2703,"end":2731,"name":"emitPreprocessCompleteForAll"},"init":{"type":"FunctionExpression","start":2734,"end":2945,"id":{"type":"Identifier","start":2743,"end":2771,"name":"emitPreprocessCompleteForAll"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2774,"end":2945,"body":[{"type":"ExpressionStatement","start":2784,"end":2937,"expression":{"type":"CallExpression","start":2784,"end":2936,"callee":{"type":"MemberExpression","start":2784,"end":2799,"object":{"type":"Identifier","start":2784,"end":2791,"name":"fileIDs"},"property":{"type":"Identifier","start":2792,"end":2799,"name":"forEach"},"computed":false},"arguments":[{"type":"FunctionExpression","start":2800,"end":2935,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2810,"end":2816,"name":"fileID"}],"body":{"type":"BlockStatement","start":2818,"end":2935,"body":[{"type":"VariableDeclaration","start":2830,"end":2868,"declarations":[{"type":"VariableDeclarator","start":2834,"end":2867,"id":{"type":"Identifier","start":2834,"end":2838,"name":"file"},"init":{"type":"CallExpression","start":2841,"end":2867,"callee":{"type":"MemberExpression","start":2841,"end":2859,"object":{"type":"MemberExpression","start":2841,"end":2851,"object":{"type":"Identifier","start":2841,"end":2846,"name":"_this"},"property":{"type":"Identifier","start":2847,"end":2851,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":2852,"end":2859,"name":"getFile"},"computed":false},"arguments":[{"type":"Identifier","start":2860,"end":2866,"name":"fileID"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":2880,"end":2925,"expression":{"type":"CallExpression","start":2880,"end":2924,"callee":{"type":"MemberExpression","start":2880,"end":2895,"object":{"type":"MemberExpression","start":2880,"end":2890,"object":{"type":"Identifier","start":2880,"end":2885,"name":"_this"},"property":{"type":"Identifier","start":2886,"end":2890,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":2891,"end":2895,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":2896,"end":2917,"value":"preprocess-complete","raw":"'preprocess-complete'"},{"type":"Identifier","start":2919,"end":2923,"name":"file"}]}}]}}]}}]}}}],"kind":"var"},{"type":"ReturnStatement","start":2954,"end":3286,"argument":{"type":"NewExpression","start":2961,"end":3285,"callee":{"type":"Identifier","start":2965,"end":2972,"name":"Promise"},"arguments":[{"type":"FunctionExpression","start":2973,"end":3284,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2983,"end":2990,"name":"resolve"},{"type":"Identifier","start":2992,"end":2998,"name":"reject"}],"body":{"type":"BlockStatement","start":3000,"end":3284,"body":[{"type":"IfStatement","start":3010,"end":3276,"test":{"type":"MemberExpression","start":3014,"end":3035,"object":{"type":"Identifier","start":3014,"end":3019,"name":"_this"},"property":{"type":"Identifier","start":3020,"end":3035,"name":"queueProcessing"},"computed":false},"consequent":{"type":"BlockStatement","start":3037,"end":3196,"body":[{"type":"ExpressionStatement","start":3049,"end":3186,"expression":{"type":"CallExpression","start":3049,"end":3185,"callee":{"type":"MemberExpression","start":3049,"end":3064,"object":{"type":"MemberExpression","start":3049,"end":3059,"object":{"type":"Identifier","start":3049,"end":3054,"name":"_this"},"property":{"type":"Identifier","start":3055,"end":3059,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":3060,"end":3064,"name":"once"},"computed":false},"arguments":[{"type":"Literal","start":3065,"end":3090,"value":"thumbnail:all-generated","raw":"'thumbnail:all-generated'"},{"type":"FunctionExpression","start":3092,"end":3184,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3104,"end":3184,"body":[{"type":"ExpressionStatement","start":3118,"end":3149,"expression":{"type":"CallExpression","start":3118,"end":3148,"callee":{"type":"Identifier","start":3118,"end":3146,"name":"emitPreprocessCompleteForAll"},"arguments":[]}},{"type":"ExpressionStatement","start":3162,"end":3172,"expression":{"type":"CallExpression","start":3162,"end":3171,"callee":{"type":"Identifier","start":3162,"end":3169,"name":"resolve"},"arguments":[]}}]}}]}}]},"alternate":{"type":"BlockStatement","start":3202,"end":3276,"body":[{"type":"ExpressionStatement","start":3214,"end":3245,"expression":{"type":"CallExpression","start":3214,"end":3244,"callee":{"type":"Identifier","start":3214,"end":3242,"name":"emitPreprocessCompleteForAll"},"arguments":[]}},{"type":"ExpressionStatement","start":3256,"end":3266,"expression":{"type":"CallExpression","start":3256,"end":3265,"callee":{"type":"Identifier","start":3256,"end":3263,"name":"resolve"},"arguments":[]}}]}}]}}]}}]}}}},{"type":"ExpressionStatement","start":3299,"end":3323,"expression":{"type":"AssignmentExpression","start":3299,"end":3322,"operator":"=","left":{"type":"MemberExpression","start":3299,"end":3309,"object":{"type":"Identifier","start":3299,"end":3304,"name":"_this"},"property":{"type":"Identifier","start":3305,"end":3309,"name":"type"},"computed":false},"right":{"type":"Literal","start":3312,"end":3322,"value":"modifier","raw":"'modifier'"}}},{"type":"ExpressionStatement","start":3328,"end":3377,"expression":{"type":"AssignmentExpression","start":3328,"end":3376,"operator":"=","left":{"type":"MemberExpression","start":3328,"end":3336,"object":{"type":"Identifier","start":3328,"end":3333,"name":"_this"},"property":{"type":"Identifier","start":3334,"end":3336,"name":"id"},"computed":false},"right":{"type":"LogicalExpression","start":3339,"end":3376,"left":{"type":"MemberExpression","start":3339,"end":3352,"object":{"type":"MemberExpression","start":3339,"end":3349,"object":{"type":"Identifier","start":3339,"end":3344,"name":"_this"},"property":{"type":"Identifier","start":3345,"end":3349,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":3350,"end":3352,"name":"id"},"computed":false},"operator":"||","right":{"type":"Literal","start":3356,"end":3376,"value":"ThumbnailGenerator","raw":"'ThumbnailGenerator'"}}}},{"type":"ExpressionStatement","start":3382,"end":3418,"expression":{"type":"AssignmentExpression","start":3382,"end":3417,"operator":"=","left":{"type":"MemberExpression","start":3382,"end":3393,"object":{"type":"Identifier","start":3382,"end":3387,"name":"_this"},"property":{"type":"Identifier","start":3388,"end":3393,"name":"title"},"computed":false},"right":{"type":"Literal","start":3396,"end":3417,"value":"Thumbnail Generator","raw":"'Thumbnail Generator'"}}},{"type":"ExpressionStatement","start":3423,"end":3440,"expression":{"type":"AssignmentExpression","start":3423,"end":3439,"operator":"=","left":{"type":"MemberExpression","start":3423,"end":3434,"object":{"type":"Identifier","start":3423,"end":3428,"name":"_this"},"property":{"type":"Identifier","start":3429,"end":3434,"name":"queue"},"computed":false},"right":{"type":"ArrayExpression","start":3437,"end":3439,"elements":[]}}},{"type":"ExpressionStatement","start":3445,"end":3475,"expression":{"type":"AssignmentExpression","start":3445,"end":3474,"operator":"=","left":{"type":"MemberExpression","start":3445,"end":3466,"object":{"type":"Identifier","start":3445,"end":3450,"name":"_this"},"property":{"type":"Identifier","start":3451,"end":3466,"name":"queueProcessing"},"computed":false},"right":{"type":"Literal","start":3469,"end":3474,"value":false,"raw":"false"}}},{"type":"ExpressionStatement","start":3480,"end":3518,"expression":{"type":"AssignmentExpression","start":3480,"end":3517,"operator":"=","left":{"type":"MemberExpression","start":3480,"end":3511,"object":{"type":"Identifier","start":3480,"end":3485,"name":"_this"},"property":{"type":"Identifier","start":3486,"end":3511,"name":"defaultThumbnailDimension"},"computed":false},"right":{"type":"Literal","start":3514,"end":3517,"value":200,"raw":"200"}}},{"type":"ExpressionStatement","start":3523,"end":3635,"expression":{"type":"AssignmentExpression","start":3523,"end":3634,"operator":"=","left":{"type":"MemberExpression","start":3523,"end":3542,"object":{"type":"Identifier","start":3523,"end":3528,"name":"_this"},"property":{"type":"Identifier","start":3529,"end":3542,"name":"defaultLocale"},"computed":false},"right":{"type":"ObjectExpression","start":3545,"end":3634,"properties":[{"type":"Property","start":3553,"end":3628,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3553,"end":3560,"name":"strings"},"value":{"type":"ObjectExpression","start":3562,"end":3628,"properties":[{"type":"Property","start":3572,"end":3620,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3572,"end":3592,"name":"generatingThumbnails"},"value":{"type":"Literal","start":3594,"end":3620,"value":"Generating thumbnails...","raw":"'Generating thumbnails...'"},"kind":"init"}]},"kind":"init"}]}}},{"type":"VariableDeclaration","start":3640,"end":3788,"declarations":[{"type":"VariableDeclarator","start":3644,"end":3787,"id":{"type":"Identifier","start":3644,"end":3658,"name":"defaultOptions"},"init":{"type":"ObjectExpression","start":3661,"end":3787,"properties":[{"type":"Property","start":3669,"end":3689,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3669,"end":3683,"name":"thumbnailWidth"},"value":{"type":"Literal","start":3685,"end":3689,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":3697,"end":3718,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3697,"end":3712,"name":"thumbnailHeight"},"value":{"type":"Literal","start":3714,"end":3718,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":3726,"end":3762,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3726,"end":3755,"name":"waitForThumbnailsBeforeUpload"},"value":{"type":"Literal","start":3757,"end":3762,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":3770,"end":3781,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3770,"end":3774,"name":"lazy"},"value":{"type":"Literal","start":3776,"end":3781,"value":false,"raw":"false"},"kind":"init"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":3793,"end":3845,"expression":{"type":"AssignmentExpression","start":3793,"end":3844,"operator":"=","left":{"type":"MemberExpression","start":3793,"end":3803,"object":{"type":"Identifier","start":3793,"end":3798,"name":"_this"},"property":{"type":"Identifier","start":3799,"end":3803,"name":"opts"},"computed":false},"right":{"type":"CallExpression","start":3806,"end":3844,"callee":{"type":"Identifier","start":3806,"end":3814,"name":"_extends"},"arguments":[{"type":"ObjectExpression","start":3815,"end":3817,"properties":[]},{"type":"Identifier","start":3819,"end":3833,"name":"defaultOptions"},{"type":"ObjectExpression","start":3835,"end":3837,"properties":[]},{"type":"Identifier","start":3839,"end":3843,"name":"opts"}]}}},{"type":"IfStatement","start":3851,"end":4100,"test":{"type":"LogicalExpression","start":3855,"end":3914,"left":{"type":"MemberExpression","start":3855,"end":3870,"object":{"type":"MemberExpression","start":3855,"end":3865,"object":{"type":"Identifier","start":3855,"end":3860,"name":"_this"},"property":{"type":"Identifier","start":3861,"end":3865,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":3866,"end":3870,"name":"lazy"},"computed":false},"operator":"&&","right":{"type":"MemberExpression","start":3874,"end":3914,"object":{"type":"MemberExpression","start":3874,"end":3884,"object":{"type":"Identifier","start":3874,"end":3879,"name":"_this"},"property":{"type":"Identifier","start":3880,"end":3884,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":3885,"end":3914,"name":"waitForThumbnailsBeforeUpload"},"computed":false}},"consequent":{"type":"BlockStatement","start":3916,"end":4100,"body":[{"type":"ThrowStatement","start":3924,"end":4094,"argument":{"type":"NewExpression","start":3930,"end":4093,"callee":{"type":"Identifier","start":3934,"end":3939,"name":"Error"},"arguments":[{"type":"Literal","start":3940,"end":4092,"value":"ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.","raw":"'ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.'"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":4106,"end":4123,"expression":{"type":"CallExpression","start":4106,"end":4122,"callee":{"type":"MemberExpression","start":4106,"end":4120,"object":{"type":"Identifier","start":4106,"end":4111,"name":"_this"},"property":{"type":"Identifier","start":4112,"end":4120,"name":"i18nInit"},"computed":false},"arguments":[]}},{"type":"ReturnStatement","start":4129,"end":4142,"argument":{"type":"Identifier","start":4136,"end":4141,"name":"_this"}}]}},{"type":"VariableDeclaration","start":4150,"end":4192,"declarations":[{"type":"VariableDeclarator","start":4154,"end":4191,"id":{"type":"Identifier","start":4154,"end":4160,"name":"_proto"},"init":{"type":"MemberExpression","start":4163,"end":4191,"object":{"type":"Identifier","start":4163,"end":4181,"name":"ThumbnailGenerator"},"property":{"type":"Identifier","start":4182,"end":4191,"name":"prototype"},"computed":false}}],"kind":"var"},{"type":"ExpressionStatement","start":4196,"end":4327,"expression":{"type":"AssignmentExpression","start":4196,"end":4326,"operator":"=","left":{"type":"MemberExpression","start":4196,"end":4213,"object":{"type":"Identifier","start":4196,"end":4202,"name":"_proto"},"property":{"type":"Identifier","start":4203,"end":4213,"name":"setOptions"},"computed":false},"right":{"type":"FunctionExpression","start":4216,"end":4326,"id":{"type":"Identifier","start":4225,"end":4235,"name":"setOptions"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4236,"end":4243,"name":"newOpts"}],"body":{"type":"BlockStatement","start":4245,"end":4326,"body":[{"type":"ExpressionStatement","start":4251,"end":4300,"expression":{"type":"CallExpression","start":4251,"end":4299,"callee":{"type":"MemberExpression","start":4251,"end":4284,"object":{"type":"MemberExpression","start":4251,"end":4279,"object":{"type":"MemberExpression","start":4251,"end":4268,"object":{"type":"Identifier","start":4251,"end":4258,"name":"_Plugin"},"property":{"type":"Identifier","start":4259,"end":4268,"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":4269,"end":4279,"name":"setOptions"},"computed":false},"property":{"type":"Identifier","start":4280,"end":4284,"name":"call"},"computed":false},"arguments":[{"type":"ThisExpression","start":4285,"end":4289},{"type":"Identifier","start":4291,"end":4298,"name":"newOpts"}]}},{"type":"ExpressionStatement","start":4306,"end":4322,"expression":{"type":"CallExpression","start":4306,"end":4321,"callee":{"type":"MemberExpression","start":4306,"end":4319,"object":{"type":"ThisExpression","start":4306,"end":4310},"property":{"type":"Identifier","start":4311,"end":4319,"name":"i18nInit"},"computed":false},"arguments":[]}}]}}}},{"type":"ExpressionStatement","start":4331,"end":4817,"expression":{"type":"AssignmentExpression","start":4331,"end":4617,"operator":"=","left":{"type":"MemberExpression","start":4331,"end":4346,"object":{"type":"Identifier","start":4331,"end":4337,"name":"_proto"},"property":{"type":"Identifier","start":4338,"end":4346,"name":"i18nInit"},"computed":false},"right":{"type":"FunctionExpression","start":4349,"end":4617,"id":{"type":"Identifier","start":4358,"end":4366,"name":"i18nInit"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4369,"end":4617,"body":[{"type":"ExpressionStatement","start":4375,"end":4466,"expression":{"type":"AssignmentExpression","start":4375,"end":4465,"operator":"=","left":{"type":"MemberExpression","start":4375,"end":4390,"object":{"type":"ThisExpression","start":4375,"end":4379},"property":{"type":"Identifier","start":4380,"end":4390,"name":"translator"},"computed":false},"right":{"type":"NewExpression","start":4393,"end":4465,"callee":{"type":"Identifier","start":4397,"end":4407,"name":"Translator"},"arguments":[{"type":"ArrayExpression","start":4408,"end":4464,"elements":[{"type":"MemberExpression","start":4409,"end":4427,"object":{"type":"ThisExpression","start":4409,"end":4413},"property":{"type":"Identifier","start":4414,"end":4427,"name":"defaultLocale"},"computed":false},{"type":"MemberExpression","start":4429,"end":4445,"object":{"type":"MemberExpression","start":4429,"end":4438,"object":{"type":"ThisExpression","start":4429,"end":4433},"property":{"type":"Identifier","start":4434,"end":4438,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":4439,"end":4445,"name":"locale"},"computed":false},{"type":"MemberExpression","start":4447,"end":4463,"object":{"type":"MemberExpression","start":4447,"end":4456,"object":{"type":"ThisExpression","start":4447,"end":4451},"property":{"type":"Identifier","start":4452,"end":4456,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4457,"end":4463,"name":"locale"},"computed":false}]}]}}},{"type":"ExpressionStatement","start":4471,"end":4531,"expression":{"type":"AssignmentExpression","start":4471,"end":4530,"operator":"=","left":{"type":"MemberExpression","start":4471,"end":4480,"object":{"type":"ThisExpression","start":4471,"end":4475},"property":{"type":"Identifier","start":4476,"end":4480,"name":"i18n"},"computed":false},"right":{"type":"CallExpression","start":4483,"end":4530,"callee":{"type":"MemberExpression","start":4483,"end":4513,"object":{"type":"MemberExpression","start":4483,"end":4508,"object":{"type":"MemberExpression","start":4483,"end":4498,"object":{"type":"ThisExpression","start":4483,"end":4487},"property":{"type":"Identifier","start":4488,"end":4498,"name":"translator"},"computed":false},"property":{"type":"Identifier","start":4499,"end":4508,"name":"translate"},"computed":false},"property":{"type":"Identifier","start":4509,"end":4513,"name":"bind"},"computed":false},"arguments":[{"type":"MemberExpression","start":4514,"end":4529,"object":{"type":"ThisExpression","start":4514,"end":4518},"property":{"type":"Identifier","start":4519,"end":4529,"name":"translator"},"computed":false}]}}},{"type":"ExpressionStatement","start":4536,"end":4558,"expression":{"type":"CallExpression","start":4536,"end":4557,"callee":{"type":"MemberExpression","start":4536,"end":4555,"object":{"type":"ThisExpression","start":4536,"end":4540},"property":{"type":"Identifier","start":4541,"end":4555,"name":"setPluginState"},"computed":false},"arguments":[]}}]}}}},{"type":"ExpressionStatement","start":4821,"end":6339,"expression":{"type":"AssignmentExpression","start":4821,"end":6079,"operator":"=","left":{"type":"MemberExpression","start":4821,"end":4843,"object":{"type":"Identifier","start":4821,"end":4827,"name":"_proto"},"property":{"type":"Identifier","start":4828,"end":4843,"name":"createThumbnail"},"computed":false},"right":{"type":"FunctionExpression","start":4846,"end":6079,"id":{"type":"Identifier","start":4855,"end":4870,"name":"createThumbnail"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4871,"end":4875,"name":"file"},{"type":"Identifier","start":4877,"end":4888,"name":"targetWidth"},{"type":"Identifier","start":4890,"end":4902,"name":"targetHeight"}],"body":{"type":"BlockStatement","start":4904,"end":6079,"body":[{"type":"VariableDeclaration","start":4910,"end":4928,"declarations":[{"type":"VariableDeclarator","start":4914,"end":4927,"id":{"type":"Identifier","start":4914,"end":4920,"name":"_this2"},"init":{"type":"ThisExpression","start":4923,"end":4927}}],"kind":"var"},{"type":"VariableDeclaration","start":4934,"end":4983,"declarations":[{"type":"VariableDeclarator","start":4938,"end":4982,"id":{"type":"Identifier","start":4938,"end":4949,"name":"originalUrl"},"init":{"type":"CallExpression","start":4952,"end":4982,"callee":{"type":"MemberExpression","start":4952,"end":4971,"object":{"type":"Identifier","start":4952,"end":4955,"name":"URL"},"property":{"type":"Identifier","start":4956,"end":4971,"name":"createObjectURL"},"computed":false},"arguments":[{"type":"MemberExpression","start":4972,"end":4981,"object":{"type":"Identifier","start":4972,"end":4976,"name":"file"},"property":{"type":"Identifier","start":4977,"end":4981,"name":"data"},"computed":false}]}}],"kind":"var"},{"type":"VariableDeclaration","start":4988,"end":5419,"declarations":[{"type":"VariableDeclarator","start":4992,"end":5418,"id":{"type":"Identifier","start":4992,"end":4998,"name":"onload"},"init":{"type":"NewExpression","start":5001,"end":5418,"callee":{"type":"Identifier","start":5005,"end":5012,"name":"Promise"},"arguments":[{"type":"FunctionExpression","start":5013,"end":5417,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5023,"end":5030,"name":"resolve"},{"type":"Identifier","start":5032,"end":5038,"name":"reject"}],"body":{"type":"BlockStatement","start":5040,"end":5417,"body":[{"type":"VariableDeclaration","start":5048,"end":5072,"declarations":[{"type":"VariableDeclarator","start":5052,"end":5071,"id":{"type":"Identifier","start":5052,"end":5057,"name":"image"},"init":{"type":"NewExpression","start":5060,"end":5071,"callee":{"type":"Identifier","start":5064,"end":5069,"name":"Image"},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","start":5079,"end":5103,"expression":{"type":"AssignmentExpression","start":5079,"end":5102,"operator":"=","left":{"type":"MemberExpression","start":5079,"end":5088,"object":{"type":"Identifier","start":5079,"end":5084,"name":"image"},"property":{"type":"Identifier","start":5085,"end":5088,"name":"src"},"computed":false},"right":{"type":"Identifier","start":5091,"end":5102,"name":"originalUrl"}}},{"type":"ExpressionStatement","start":5110,"end":5230,"expression":{"type":"CallExpression","start":5110,"end":5229,"callee":{"type":"MemberExpression","start":5110,"end":5132,"object":{"type":"Identifier","start":5110,"end":5115,"name":"image"},"property":{"type":"Identifier","start":5116,"end":5132,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":5133,"end":5139,"value":"load","raw":"'load'"},{"type":"FunctionExpression","start":5141,"end":5228,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":5153,"end":5228,"body":[{"type":"ExpressionStatement","start":5163,"end":5196,"expression":{"type":"CallExpression","start":5163,"end":5195,"callee":{"type":"MemberExpression","start":5163,"end":5182,"object":{"type":"Identifier","start":5163,"end":5166,"name":"URL"},"property":{"type":"Identifier","start":5167,"end":5182,"name":"revokeObjectURL"},"computed":false},"arguments":[{"type":"Identifier","start":5183,"end":5194,"name":"originalUrl"}]}},{"type":"ExpressionStatement","start":5205,"end":5220,"expression":{"type":"CallExpression","start":5205,"end":5219,"callee":{"type":"Identifier","start":5205,"end":5212,"name":"resolve"},"arguments":[{"type":"Identifier","start":5213,"end":5218,"name":"image"}]}}]}}]}},{"type":"ExpressionStatement","start":5237,"end":5411,"expression":{"type":"CallExpression","start":5237,"end":5410,"callee":{"type":"MemberExpression","start":5237,"end":5259,"object":{"type":"Identifier","start":5237,"end":5242,"name":"image"},"property":{"type":"Identifier","start":5243,"end":5259,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":5260,"end":5267,"value":"error","raw":"'error'"},{"type":"FunctionExpression","start":5269,"end":5409,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5279,"end":5284,"name":"event"}],"body":{"type":"BlockStatement","start":5286,"end":5409,"body":[{"type":"ExpressionStatement","start":5296,"end":5329,"expression":{"type":"CallExpression","start":5296,"end":5328,"callee":{"type":"MemberExpression","start":5296,"end":5315,"object":{"type":"Identifier","start":5296,"end":5299,"name":"URL"},"property":{"type":"Identifier","start":5300,"end":5315,"name":"revokeObjectURL"},"computed":false},"arguments":[{"type":"Identifier","start":5316,"end":5327,"name":"originalUrl"}]}},{"type":"ExpressionStatement","start":5338,"end":5401,"expression":{"type":"CallExpression","start":5338,"end":5400,"callee":{"type":"Identifier","start":5338,"end":5344,"name":"reject"},"arguments":[{"type":"LogicalExpression","start":5345,"end":5399,"left":{"type":"MemberExpression","start":5345,"end":5356,"object":{"type":"Identifier","start":5345,"end":5350,"name":"event"},"property":{"type":"Identifier","start":5351,"end":5356,"name":"error"},"computed":false},"operator":"||","right":{"type":"NewExpression","start":5360,"end":5399,"callee":{"type":"Identifier","start":5364,"end":5369,"name":"Error"},"arguments":[{"type":"Literal","start":5370,"end":5398,"value":"Could not create thumbnail","raw":"'Could not create thumbnail'"}]}}]}}]}}]}}]}}]}}],"kind":"var"},{"type":"VariableDeclaration","start":5424,"end":5522,"declarations":[{"type":"VariableDeclarator","start":5428,"end":5521,"id":{"type":"Identifier","start":5428,"end":5446,"name":"orientationPromise"},"init":{"type":"CallExpression","start":5449,"end":5521,"callee":{"type":"MemberExpression","start":5449,"end":5480,"object":{"type":"CallExpression","start":5449,"end":5474,"callee":{"type":"MemberExpression","start":5449,"end":5463,"object":{"type":"Identifier","start":5449,"end":5454,"name":"exifr"},"property":{"type":"Identifier","start":5455,"end":5463,"name":"rotation"},"computed":false},"arguments":[{"type":"MemberExpression","start":5464,"end":5473,"object":{"type":"Identifier","start":5464,"end":5468,"name":"file"},"property":{"type":"Identifier","start":5469,"end":5473,"name":"data"},"computed":false}]},"property":{"type":"Identifier","start":5475,"end":5480,"name":"catch"},"computed":false},"arguments":[{"type":"FunctionExpression","start":5481,"end":5520,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5491,"end":5495,"name":"_err"}],"body":{"type":"BlockStatement","start":5497,"end":5520,"body":[{"type":"ReturnStatement","start":5505,"end":5514,"argument":{"type":"Literal","start":5512,"end":5513,"value":1,"raw":"1"}}]}}]}}],"kind":"var"},{"type":"ReturnStatement","start":5527,"end":6075,"argument":{"type":"CallExpression","start":5534,"end":6074,"callee":{"type":"MemberExpression","start":5534,"end":6009,"object":{"type":"CallExpression","start":5534,"end":6004,"callee":{"type":"MemberExpression","start":5534,"end":5580,"object":{"type":"CallExpression","start":5534,"end":5575,"callee":{"type":"MemberExpression","start":5534,"end":5545,"object":{"type":"Identifier","start":5534,"end":5541,"name":"Promise"},"property":{"type":"Identifier","start":5542,"end":5545,"name":"all"},"computed":false},"arguments":[{"type":"ArrayExpression","start":5546,"end":5574,"elements":[{"type":"Identifier","start":5547,"end":5553,"name":"onload"},{"type":"Identifier","start":5555,"end":5573,"name":"orientationPromise"}]}]},"property":{"type":"Identifier","start":5576,"end":5580,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":5581,"end":6003,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5591,"end":5595,"name":"_ref"}],"body":{"type":"BlockStatement","start":5597,"end":6003,"body":[{"type":"VariableDeclaration","start":5605,"end":5658,"declarations":[{"type":"VariableDeclarator","start":5609,"end":5624,"id":{"type":"Identifier","start":5609,"end":5614,"name":"image"},"init":{"type":"MemberExpression","start":5617,"end":5624,"object":{"type":"Identifier","start":5617,"end":5621,"name":"_ref"},"property":{"type":"Literal","start":5622,"end":5623,"value":0,"raw":"0"},"computed":true}},{"type":"VariableDeclarator","start":5636,"end":5657,"id":{"type":"Identifier","start":5636,"end":5647,"name":"orientation"},"init":{"type":"MemberExpression","start":5650,"end":5657,"object":{"type":"Identifier","start":5650,"end":5654,"name":"_ref"},"property":{"type":"Literal","start":5655,"end":5656,"value":1,"raw":"1"},"computed":true}}],"kind":"var"},{"type":"VariableDeclaration","start":5666,"end":5767,"declarations":[{"type":"VariableDeclarator","start":5670,"end":5766,"id":{"type":"Identifier","start":5670,"end":5680,"name":"dimensions"},"init":{"type":"CallExpression","start":5683,"end":5766,"callee":{"type":"MemberExpression","start":5683,"end":5715,"object":{"type":"Identifier","start":5683,"end":5689,"name":"_this2"},"property":{"type":"Identifier","start":5690,"end":5715,"name":"getProportionalDimensions"},"computed":false},"arguments":[{"type":"Identifier","start":5716,"end":5721,"name":"image"},{"type":"Identifier","start":5723,"end":5734,"name":"targetWidth"},{"type":"Identifier","start":5736,"end":5748,"name":"targetHeight"},{"type":"MemberExpression","start":5750,"end":5765,"object":{"type":"Identifier","start":5750,"end":5761,"name":"orientation"},"property":{"type":"Identifier","start":5762,"end":5765,"name":"deg"},"computed":false}]}}],"kind":"var"},{"type":"VariableDeclaration","start":5775,"end":5833,"declarations":[{"type":"VariableDeclarator","start":5779,"end":5832,"id":{"type":"Identifier","start":5779,"end":5791,"name":"rotatedImage"},"init":{"type":"CallExpression","start":5794,"end":5832,"callee":{"type":"MemberExpression","start":5794,"end":5812,"object":{"type":"Identifier","start":5794,"end":5800,"name":"_this2"},"property":{"type":"Identifier","start":5801,"end":5812,"name":"rotateImage"},"computed":false},"arguments":[{"type":"Identifier","start":5813,"end":5818,"name":"image"},{"type":"Identifier","start":5820,"end":5831,"name":"orientation"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":5841,"end":5930,"declarations":[{"type":"VariableDeclarator","start":5845,"end":5929,"id":{"type":"Identifier","start":5845,"end":5857,"name":"resizedImage"},"init":{"type":"CallExpression","start":5860,"end":5929,"callee":{"type":"MemberExpression","start":5860,"end":5878,"object":{"type":"Identifier","start":5860,"end":5866,"name":"_this2"},"property":{"type":"Identifier","start":5867,"end":5878,"name":"resizeImage"},"computed":false},"arguments":[{"type":"Identifier","start":5879,"end":5891,"name":"rotatedImage"},{"type":"MemberExpression","start":5893,"end":5909,"object":{"type":"Identifier","start":5893,"end":5903,"name":"dimensions"},"property":{"type":"Identifier","start":5904,"end":5909,"name":"width"},"computed":false},{"type":"MemberExpression","start":5911,"end":5928,"object":{"type":"Identifier","start":5911,"end":5921,"name":"dimensions"},"property":{"type":"Identifier","start":5922,"end":5928,"name":"height"},"computed":false}]}}],"kind":"var"},{"type":"ReturnStatement","start":5938,"end":5997,"argument":{"type":"CallExpression","start":5945,"end":5996,"callee":{"type":"MemberExpression","start":5945,"end":5964,"object":{"type":"Identifier","start":5945,"end":5951,"name":"_this2"},"property":{"type":"Identifier","start":5952,"end":5964,"name":"canvasToBlob"},"computed":false},"arguments":[{"type":"Identifier","start":5965,"end":5977,"name":"resizedImage"},{"type":"Literal","start":5979,"end":5991,"value":"image/jpeg","raw":"'image/jpeg'"},{"type":"Literal","start":5993,"end":5995,"value":80,"raw":"80"}]}}]}}]},"property":{"type":"Identifier","start":6005,"end":6009,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":6010,"end":6073,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6020,"end":6024,"name":"blob"}],"body":{"type":"BlockStatement","start":6026,"end":6073,"body":[{"type":"ReturnStatement","start":6034,"end":6067,"argument":{"type":"CallExpression","start":6041,"end":6066,"callee":{"type":"MemberExpression","start":6041,"end":6060,"object":{"type":"Identifier","start":6041,"end":6044,"name":"URL"},"property":{"type":"Identifier","start":6045,"end":6060,"name":"createObjectURL"},"computed":false},"arguments":[{"type":"Identifier","start":6061,"end":6065,"name":"blob"}]}}]}}]}}]}}}},{"type":"ExpressionStatement","start":6343,"end":7078,"expression":{"type":"AssignmentExpression","start":6343,"end":6959,"operator":"=","left":{"type":"MemberExpression","start":6343,"end":6375,"object":{"type":"Identifier","start":6343,"end":6349,"name":"_proto"},"property":{"type":"Identifier","start":6350,"end":6375,"name":"getProportionalDimensions"},"computed":false},"right":{"type":"FunctionExpression","start":6378,"end":6959,"id":{"type":"Identifier","start":6387,"end":6412,"name":"getProportionalDimensions"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6413,"end":6416,"name":"img"},{"type":"Identifier","start":6418,"end":6423,"name":"width"},{"type":"Identifier","start":6425,"end":6431,"name":"height"},{"type":"Identifier","start":6433,"end":6441,"name":"rotation"}],"body":{"type":"BlockStatement","start":6443,"end":6959,"body":[{"type":"VariableDeclaration","start":6449,"end":6485,"declarations":[{"type":"VariableDeclarator","start":6453,"end":6484,"id":{"type":"Identifier","start":6453,"end":6459,"name":"aspect"},"init":{"type":"BinaryExpression","start":6462,"end":6484,"left":{"type":"MemberExpression","start":6462,"end":6471,"object":{"type":"Identifier","start":6462,"end":6465,"name":"img"},"property":{"type":"Identifier","start":6466,"end":6471,"name":"width"},"computed":false},"operator":"/","right":{"type":"MemberExpression","start":6474,"end":6484,"object":{"type":"Identifier","start":6474,"end":6477,"name":"img"},"property":{"type":"Identifier","start":6478,"end":6484,"name":"height"},"computed":false}}}],"kind":"var"},{"type":"IfStatement","start":6491,"end":6578,"test":{"type":"LogicalExpression","start":6495,"end":6530,"left":{"type":"BinaryExpression","start":6495,"end":6510,"left":{"type":"Identifier","start":6495,"end":6503,"name":"rotation"},"operator":"===","right":{"type":"Literal","start":6508,"end":6510,"value":90,"raw":"90"}},"operator":"||","right":{"type":"BinaryExpression","start":6514,"end":6530,"left":{"type":"Identifier","start":6514,"end":6522,"name":"rotation"},"operator":"===","right":{"type":"Literal","start":6527,"end":6530,"value":270,"raw":"270"}}},"consequent":{"type":"BlockStatement","start":6532,"end":6578,"body":[{"type":"ExpressionStatement","start":6540,"end":6572,"expression":{"type":"AssignmentExpression","start":6540,"end":6571,"operator":"=","left":{"type":"Identifier","start":6540,"end":6546,"name":"aspect"},"right":{"type":"BinaryExpression","start":6549,"end":6571,"left":{"type":"MemberExpression","start":6549,"end":6559,"object":{"type":"Identifier","start":6549,"end":6552,"name":"img"},"property":{"type":"Identifier","start":6553,"end":6559,"name":"height"},"computed":false},"operator":"/","right":{"type":"MemberExpression","start":6562,"end":6571,"object":{"type":"Identifier","start":6562,"end":6565,"name":"img"},"property":{"type":"Identifier","start":6566,"end":6571,"name":"width"},"computed":false}}}}]},"alternate":null},{"type":"IfStatement","start":6584,"end":6699,"test":{"type":"BinaryExpression","start":6588,"end":6601,"left":{"type":"Identifier","start":6588,"end":6593,"name":"width"},"operator":"!=","right":{"type":"Literal","start":6597,"end":6601,"value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","start":6603,"end":6699,"body":[{"type":"ReturnStatement","start":6611,"end":6693,"argument":{"type":"ObjectExpression","start":6618,"end":6692,"properties":[{"type":"Property","start":6628,"end":6640,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6628,"end":6633,"name":"width"},"value":{"type":"Identifier","start":6635,"end":6640,"name":"width"},"kind":"init"},{"type":"Property","start":6650,"end":6684,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6650,"end":6656,"name":"height"},"value":{"type":"CallExpression","start":6658,"end":6684,"callee":{"type":"MemberExpression","start":6658,"end":6668,"object":{"type":"Identifier","start":6658,"end":6662,"name":"Math"},"property":{"type":"Identifier","start":6663,"end":6668,"name":"round"},"computed":false},"arguments":[{"type":"BinaryExpression","start":6669,"end":6683,"left":{"type":"Identifier","start":6669,"end":6674,"name":"width"},"operator":"/","right":{"type":"Identifier","start":6677,"end":6683,"name":"aspect"}}]},"kind":"init"}]}}]},"alternate":null},{"type":"IfStatement","start":6705,"end":6823,"test":{"type":"BinaryExpression","start":6709,"end":6723,"left":{"type":"Identifier","start":6709,"end":6715,"name":"height"},"operator":"!=","right":{"type":"Literal","start":6719,"end":6723,"value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","start":6725,"end":6823,"body":[{"type":"ReturnStatement","start":6733,"end":6817,"argument":{"type":"ObjectExpression","start":6740,"end":6816,"properties":[{"type":"Property","start":6750,"end":6784,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6750,"end":6755,"name":"width"},"value":{"type":"CallExpression","start":6757,"end":6784,"callee":{"type":"MemberExpression","start":6757,"end":6767,"object":{"type":"Identifier","start":6757,"end":6761,"name":"Math"},"property":{"type":"Identifier","start":6762,"end":6767,"name":"round"},"computed":false},"arguments":[{"type":"BinaryExpression","start":6768,"end":6783,"left":{"type":"Identifier","start":6768,"end":6774,"name":"height"},"operator":"*","right":{"type":"Identifier","start":6777,"end":6783,"name":"aspect"}}]},"kind":"init"},{"type":"Property","start":6794,"end":6808,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6794,"end":6800,"name":"height"},"value":{"type":"Identifier","start":6802,"end":6808,"name":"height"},"kind":"init"}]}}]},"alternate":null},{"type":"ReturnStatement","start":6829,"end":6955,"argument":{"type":"ObjectExpression","start":6836,"end":6954,"properties":[{"type":"Property","start":6844,"end":6881,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6844,"end":6849,"name":"width"},"value":{"type":"MemberExpression","start":6851,"end":6881,"object":{"type":"ThisExpression","start":6851,"end":6855},"property":{"type":"Identifier","start":6856,"end":6881,"name":"defaultThumbnailDimension"},"computed":false},"kind":"init"},{"type":"Property","start":6889,"end":6948,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6889,"end":6895,"name":"height"},"value":{"type":"CallExpression","start":6897,"end":6948,"callee":{"type":"MemberExpression","start":6897,"end":6907,"object":{"type":"Identifier","start":6897,"end":6901,"name":"Math"},"property":{"type":"Identifier","start":6902,"end":6907,"name":"round"},"computed":false},"arguments":[{"type":"BinaryExpression","start":6908,"end":6947,"left":{"type":"MemberExpression","start":6908,"end":6938,"object":{"type":"ThisExpression","start":6908,"end":6912},"property":{"type":"Identifier","start":6913,"end":6938,"name":"defaultThumbnailDimension"},"computed":false},"operator":"/","right":{"type":"Identifier","start":6941,"end":6947,"name":"aspect"}}]},"kind":"init"}]}}]}}}},{"type":"ExpressionStatement","start":7082,"end":8060,"expression":{"type":"AssignmentExpression","start":7082,"end":7930,"operator":"=","left":{"type":"MemberExpression","start":7082,"end":7096,"object":{"type":"Identifier","start":7082,"end":7088,"name":"_proto"},"property":{"type":"Identifier","start":7089,"end":7096,"name":"protect"},"computed":false},"right":{"type":"FunctionExpression","start":7099,"end":7930,"id":{"type":"Identifier","start":7108,"end":7115,"name":"protect"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7116,"end":7121,"name":"image"}],"body":{"type":"BlockStatement","start":7123,"end":7930,"body":[{"type":"VariableDeclaration","start":7213,"end":7252,"declarations":[{"type":"VariableDeclarator","start":7217,"end":7251,"id":{"type":"Identifier","start":7217,"end":7222,"name":"ratio"},"init":{"type":"BinaryExpression","start":7225,"end":7251,"left":{"type":"MemberExpression","start":7225,"end":7236,"object":{"type":"Identifier","start":7225,"end":7230,"name":"image"},"property":{"type":"Identifier","start":7231,"end":7236,"name":"width"},"computed":false},"operator":"/","right":{"type":"MemberExpression","start":7239,"end":7251,"object":{"type":"Identifier","start":7239,"end":7244,"name":"image"},"property":{"type":"Identifier","start":7245,"end":7251,"name":"height"},"computed":false}}}],"kind":"var"},{"type":"VariableDeclaration","start":7257,"end":7281,"declarations":[{"type":"VariableDeclarator","start":7261,"end":7280,"id":{"type":"Identifier","start":7261,"end":7270,"name":"maxSquare"},"init":{"type":"Literal","start":7273,"end":7280,"value":5000000,"raw":"5000000"}}],"kind":"var"},{"type":"VariableDeclaration","start":7312,"end":7331,"declarations":[{"type":"VariableDeclarator","start":7316,"end":7330,"id":{"type":"Identifier","start":7316,"end":7323,"name":"maxSize"},"init":{"type":"Literal","start":7326,"end":7330,"value":4096,"raw":"4096"}}],"kind":"var"},{"type":"VariableDeclaration","start":7365,"end":7417,"declarations":[{"type":"VariableDeclarator","start":7369,"end":7416,"id":{"type":"Identifier","start":7369,"end":7373,"name":"maxW"},"init":{"type":"CallExpression","start":7376,"end":7416,"callee":{"type":"MemberExpression","start":7376,"end":7386,"object":{"type":"Identifier","start":7376,"end":7380,"name":"Math"},"property":{"type":"Identifier","start":7381,"end":7386,"name":"floor"},"computed":false},"arguments":[{"type":"CallExpression","start":7387,"end":7415,"callee":{"type":"MemberExpression","start":7387,"end":7396,"object":{"type":"Identifier","start":7387,"end":7391,"name":"Math"},"property":{"type":"Identifier","start":7392,"end":7396,"name":"sqrt"},"computed":false},"arguments":[{"type":"BinaryExpression","start":7397,"end":7414,"left":{"type":"Identifier","start":7397,"end":7406,"name":"maxSquare"},"operator":"*","right":{"type":"Identifier","start":7409,"end":7414,"name":"ratio"}}]}]}}],"kind":"var"},{"type":"VariableDeclaration","start":7422,"end":7486,"declarations":[{"type":"VariableDeclarator","start":7426,"end":7485,"id":{"type":"Identifier","start":7426,"end":7430,"name":"maxH"},"init":{"type":"CallExpression","start":7433,"end":7485,"callee":{"type":"MemberExpression","start":7433,"end":7443,"object":{"type":"Identifier","start":7433,"end":7437,"name":"Math"},"property":{"type":"Identifier","start":7438,"end":7443,"name":"floor"},"computed":false},"arguments":[{"type":"BinaryExpression","start":7444,"end":7484,"left":{"type":"Identifier","start":7444,"end":7453,"name":"maxSquare"},"operator":"/","right":{"type":"CallExpression","start":7456,"end":7484,"callee":{"type":"MemberExpression","start":7456,"end":7465,"object":{"type":"Identifier","start":7456,"end":7460,"name":"Math"},"property":{"type":"Identifier","start":7461,"end":7465,"name":"sqrt"},"computed":false},"arguments":[{"type":"BinaryExpression","start":7466,"end":7483,"left":{"type":"Identifier","start":7466,"end":7475,"name":"maxSquare"},"operator":"*","right":{"type":"Identifier","start":7478,"end":7483,"name":"ratio"}}]}}]}}],"kind":"var"},{"type":"IfStatement","start":7492,"end":7580,"test":{"type":"BinaryExpression","start":7496,"end":7510,"left":{"type":"Identifier","start":7496,"end":7500,"name":"maxW"},"operator":">","right":{"type":"Identifier","start":7503,"end":7510,"name":"maxSize"}},"consequent":{"type":"BlockStatement","start":7512,"end":7580,"body":[{"type":"ExpressionStatement","start":7520,"end":7535,"expression":{"type":"AssignmentExpression","start":7520,"end":7534,"operator":"=","left":{"type":"Identifier","start":7520,"end":7524,"name":"maxW"},"right":{"type":"Identifier","start":7527,"end":7534,"name":"maxSize"}}},{"type":"ExpressionStatement","start":7542,"end":7574,"expression":{"type":"AssignmentExpression","start":7542,"end":7573,"operator":"=","left":{"type":"Identifier","start":7542,"end":7546,"name":"maxH"},"right":{"type":"CallExpression","start":7549,"end":7573,"callee":{"type":"MemberExpression","start":7549,"end":7559,"object":{"type":"Identifier","start":7549,"end":7553,"name":"Math"},"property":{"type":"Identifier","start":7554,"end":7559,"name":"round"},"computed":false},"arguments":[{"type":"BinaryExpression","start":7560,"end":7572,"left":{"type":"Identifier","start":7560,"end":7564,"name":"maxW"},"operator":"/","right":{"type":"Identifier","start":7567,"end":7572,"name":"ratio"}}]}}}]},"alternate":null},{"type":"IfStatement","start":7586,"end":7674,"test":{"type":"BinaryExpression","start":7590,"end":7604,"left":{"type":"Identifier","start":7590,"end":7594,"name":"maxH"},"operator":">","right":{"type":"Identifier","start":7597,"end":7604,"name":"maxSize"}},"consequent":{"type":"BlockStatement","start":7606,"end":7674,"body":[{"type":"ExpressionStatement","start":7614,"end":7629,"expression":{"type":"AssignmentExpression","start":7614,"end":7628,"operator":"=","left":{"type":"Identifier","start":7614,"end":7618,"name":"maxH"},"right":{"type":"Identifier","start":7621,"end":7628,"name":"maxSize"}}},{"type":"ExpressionStatement","start":7636,"end":7668,"expression":{"type":"AssignmentExpression","start":7636,"end":7667,"operator":"=","left":{"type":"Identifier","start":7636,"end":7640,"name":"maxW"},"right":{"type":"CallExpression","start":7643,"end":7667,"callee":{"type":"MemberExpression","start":7643,"end":7653,"object":{"type":"Identifier","start":7643,"end":7647,"name":"Math"},"property":{"type":"Identifier","start":7648,"end":7653,"name":"round"},"computed":false},"arguments":[{"type":"BinaryExpression","start":7654,"end":7666,"left":{"type":"Identifier","start":7654,"end":7659,"name":"ratio"},"operator":"*","right":{"type":"Identifier","start":7662,"end":7666,"name":"maxH"}}]}}}]},"alternate":null},{"type":"IfStatement","start":7680,"end":7907,"test":{"type":"BinaryExpression","start":7684,"end":7702,"left":{"type":"MemberExpression","start":7684,"end":7695,"object":{"type":"Identifier","start":7684,"end":7689,"name":"image"},"property":{"type":"Identifier","start":7690,"end":7695,"name":"width"},"computed":false},"operator":">","right":{"type":"Identifier","start":7698,"end":7702,"name":"maxW"}},"consequent":{"type":"BlockStatement","start":7704,"end":7907,"body":[{"type":"VariableDeclaration","start":7712,"end":7758,"declarations":[{"type":"VariableDeclarator","start":7716,"end":7757,"id":{"type":"Identifier","start":7716,"end":7722,"name":"canvas"},"init":{"type":"CallExpression","start":7725,"end":7757,"callee":{"type":"MemberExpression","start":7725,"end":7747,"object":{"type":"Identifier","start":7725,"end":7733,"name":"document"},"property":{"type":"Identifier","start":7734,"end":7747,"name":"createElement"},"computed":false},"arguments":[{"type":"Literal","start":7748,"end":7756,"value":"canvas","raw":"'canvas'"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":7765,"end":7785,"expression":{"type":"AssignmentExpression","start":7765,"end":7784,"operator":"=","left":{"type":"MemberExpression","start":7765,"end":7777,"object":{"type":"Identifier","start":7765,"end":7771,"name":"canvas"},"property":{"type":"Identifier","start":7772,"end":7777,"name":"width"},"computed":false},"right":{"type":"Identifier","start":7780,"end":7784,"name":"maxW"}}},{"type":"ExpressionStatement","start":7792,"end":7813,"expression":{"type":"AssignmentExpression","start":7792,"end":7812,"operator":"=","left":{"type":"MemberExpression","start":7792,"end":7805,"object":{"type":"Identifier","start":7792,"end":7798,"name":"canvas"},"property":{"type":"Identifier","start":7799,"end":7805,"name":"height"},"computed":false},"right":{"type":"Identifier","start":7808,"end":7812,"name":"maxH"}}},{"type":"ExpressionStatement","start":7820,"end":7879,"expression":{"type":"CallExpression","start":7820,"end":7878,"callee":{"type":"MemberExpression","start":7820,"end":7853,"object":{"type":"CallExpression","start":7820,"end":7843,"callee":{"type":"MemberExpression","start":7820,"end":7837,"object":{"type":"Identifier","start":7820,"end":7826,"name":"canvas"},"property":{"type":"Identifier","start":7827,"end":7837,"name":"getContext"},"computed":false},"arguments":[{"type":"Literal","start":7838,"end":7842,"value":"2d","raw":"'2d'"}]},"property":{"type":"Identifier","start":7844,"end":7853,"name":"drawImage"},"computed":false},"arguments":[{"type":"Identifier","start":7854,"end":7859,"name":"image"},{"type":"Literal","start":7861,"end":7862,"value":0,"raw":"0"},{"type":"Literal","start":7864,"end":7865,"value":0,"raw":"0"},{"type":"Identifier","start":7867,"end":7871,"name":"maxW"},{"type":"Identifier","start":7873,"end":7877,"name":"maxH"}]}},{"type":"ExpressionStatement","start":7886,"end":7901,"expression":{"type":"AssignmentExpression","start":7886,"end":7900,"operator":"=","left":{"type":"Identifier","start":7886,"end":7891,"name":"image"},"right":{"type":"Identifier","start":7894,"end":7900,"name":"canvas"}}}]},"alternate":null},{"type":"ReturnStatement","start":7913,"end":7926,"argument":{"type":"Identifier","start":7920,"end":7925,"name":"image"}}]}}}},{"type":"ExpressionStatement","start":8064,"end":8847,"expression":{"type":"AssignmentExpression","start":8064,"end":8846,"operator":"=","left":{"type":"MemberExpression","start":8064,"end":8082,"object":{"type":"Identifier","start":8064,"end":8070,"name":"_proto"},"property":{"type":"Identifier","start":8071,"end":8082,"name":"resizeImage"},"computed":false},"right":{"type":"FunctionExpression","start":8085,"end":8846,"id":{"type":"Identifier","start":8094,"end":8105,"name":"resizeImage"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8106,"end":8111,"name":"image"},{"type":"Identifier","start":8113,"end":8124,"name":"targetWidth"},{"type":"Identifier","start":8126,"end":8138,"name":"targetHeight"}],"body":{"type":"BlockStatement","start":8140,"end":8846,"body":[{"type":"ExpressionStatement","start":8288,"end":8316,"expression":{"type":"AssignmentExpression","start":8288,"end":8315,"operator":"=","left":{"type":"Identifier","start":8288,"end":8293,"name":"image"},"right":{"type":"CallExpression","start":8296,"end":8315,"callee":{"type":"MemberExpression","start":8296,"end":8308,"object":{"type":"ThisExpression","start":8296,"end":8300},"property":{"type":"Identifier","start":8301,"end":8308,"name":"protect"},"computed":false},"arguments":[{"type":"Identifier","start":8309,"end":8314,"name":"image"}]}}},{"type":"VariableDeclaration","start":8321,"end":8380,"declarations":[{"type":"VariableDeclarator","start":8325,"end":8379,"id":{"type":"Identifier","start":8325,"end":8330,"name":"steps"},"init":{"type":"CallExpression","start":8333,"end":8379,"callee":{"type":"MemberExpression","start":8333,"end":8342,"object":{"type":"Identifier","start":8333,"end":8337,"name":"Math"},"property":{"type":"Identifier","start":8338,"end":8342,"name":"ceil"},"computed":false},"arguments":[{"type":"CallExpression","start":8343,"end":8378,"callee":{"type":"Identifier","start":8343,"end":8351,"name":"MathLog2"},"arguments":[{"type":"BinaryExpression","start":8352,"end":8377,"left":{"type":"MemberExpression","start":8352,"end":8363,"object":{"type":"Identifier","start":8352,"end":8357,"name":"image"},"property":{"type":"Identifier","start":8358,"end":8363,"name":"width"},"computed":false},"operator":"/","right":{"type":"Identifier","start":8366,"end":8377,"name":"targetWidth"}}]}]}}],"kind":"var"},{"type":"IfStatement","start":8386,"end":8425,"test":{"type":"BinaryExpression","start":8390,"end":8399,"left":{"type":"Identifier","start":8390,"end":8395,"name":"steps"},"operator":"<","right":{"type":"Literal","start":8398,"end":8399,"value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","start":8401,"end":8425,"body":[{"type":"ExpressionStatement","start":8409,"end":8419,"expression":{"type":"AssignmentExpression","start":8409,"end":8418,"operator":"=","left":{"type":"Identifier","start":8409,"end":8414,"name":"steps"},"right":{"type":"Literal","start":8417,"end":8418,"value":1,"raw":"1"}}}]},"alternate":null},{"type":"VariableDeclaration","start":8431,"end":8477,"declarations":[{"type":"VariableDeclarator","start":8435,"end":8476,"id":{"type":"Identifier","start":8435,"end":8437,"name":"sW"},"init":{"type":"BinaryExpression","start":8440,"end":8476,"left":{"type":"Identifier","start":8440,"end":8451,"name":"targetWidth"},"operator":"*","right":{"type":"CallExpression","start":8454,"end":8476,"callee":{"type":"MemberExpression","start":8454,"end":8462,"object":{"type":"Identifier","start":8454,"end":8458,"name":"Math"},"property":{"type":"Identifier","start":8459,"end":8462,"name":"pow"},"computed":false},"arguments":[{"type":"Literal","start":8463,"end":8464,"value":2,"raw":"2"},{"type":"BinaryExpression","start":8466,"end":8475,"left":{"type":"Identifier","start":8466,"end":8471,"name":"steps"},"operator":"-","right":{"type":"Literal","start":8474,"end":8475,"value":1,"raw":"1"}}]}}}],"kind":"var"},{"type":"VariableDeclaration","start":8482,"end":8529,"declarations":[{"type":"VariableDeclarator","start":8486,"end":8528,"id":{"type":"Identifier","start":8486,"end":8488,"name":"sH"},"init":{"type":"BinaryExpression","start":8491,"end":8528,"left":{"type":"Identifier","start":8491,"end":8503,"name":"targetHeight"},"operator":"*","right":{"type":"CallExpression","start":8506,"end":8528,"callee":{"type":"MemberExpression","start":8506,"end":8514,"object":{"type":"Identifier","start":8506,"end":8510,"name":"Math"},"property":{"type":"Identifier","start":8511,"end":8514,"name":"pow"},"computed":false},"arguments":[{"type":"Literal","start":8515,"end":8516,"value":2,"raw":"2"},{"type":"BinaryExpression","start":8518,"end":8527,"left":{"type":"Identifier","start":8518,"end":8523,"name":"steps"},"operator":"-","right":{"type":"Literal","start":8526,"end":8527,"value":1,"raw":"1"}}]}}}],"kind":"var"},{"type":"VariableDeclaration","start":8534,"end":8544,"declarations":[{"type":"VariableDeclarator","start":8538,"end":8543,"id":{"type":"Identifier","start":8538,"end":8539,"name":"x"},"init":{"type":"Literal","start":8542,"end":8543,"value":2,"raw":"2"}}],"kind":"var"},{"type":"WhileStatement","start":8550,"end":8823,"test":{"type":"UpdateExpression","start":8557,"end":8564,"operator":"--","prefix":false,"argument":{"type":"Identifier","start":8557,"end":8562,"name":"steps"}},"body":{"type":"BlockStatement","start":8566,"end":8823,"body":[{"type":"VariableDeclaration","start":8574,"end":8620,"declarations":[{"type":"VariableDeclarator","start":8578,"end":8619,"id":{"type":"Identifier","start":8578,"end":8584,"name":"canvas"},"init":{"type":"CallExpression","start":8587,"end":8619,"callee":{"type":"MemberExpression","start":8587,"end":8609,"object":{"type":"Identifier","start":8587,"end":8595,"name":"document"},"property":{"type":"Identifier","start":8596,"end":8609,"name":"createElement"},"computed":false},"arguments":[{"type":"Literal","start":8610,"end":8618,"value":"canvas","raw":"'canvas'"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":8627,"end":8645,"expression":{"type":"AssignmentExpression","start":8627,"end":8644,"operator":"=","left":{"type":"MemberExpression","start":8627,"end":8639,"object":{"type":"Identifier","start":8627,"end":8633,"name":"canvas"},"property":{"type":"Identifier","start":8634,"end":8639,"name":"width"},"computed":false},"right":{"type":"Identifier","start":8642,"end":8644,"name":"sW"}}},{"type":"ExpressionStatement","start":8652,"end":8671,"expression":{"type":"AssignmentExpression","start":8652,"end":8670,"operator":"=","left":{"type":"MemberExpression","start":8652,"end":8665,"object":{"type":"Identifier","start":8652,"end":8658,"name":"canvas"},"property":{"type":"Identifier","start":8659,"end":8665,"name":"height"},"computed":false},"right":{"type":"Identifier","start":8668,"end":8670,"name":"sH"}}},{"type":"ExpressionStatement","start":8678,"end":8733,"expression":{"type":"CallExpression","start":8678,"end":8732,"callee":{"type":"MemberExpression","start":8678,"end":8711,"object":{"type":"CallExpression","start":8678,"end":8701,"callee":{"type":"MemberExpression","start":8678,"end":8695,"object":{"type":"Identifier","start":8678,"end":8684,"name":"canvas"},"property":{"type":"Identifier","start":8685,"end":8695,"name":"getContext"},"computed":false},"arguments":[{"type":"Literal","start":8696,"end":8700,"value":"2d","raw":"'2d'"}]},"property":{"type":"Identifier","start":8702,"end":8711,"name":"drawImage"},"computed":false},"arguments":[{"type":"Identifier","start":8712,"end":8717,"name":"image"},{"type":"Literal","start":8719,"end":8720,"value":0,"raw":"0"},{"type":"Literal","start":8722,"end":8723,"value":0,"raw":"0"},{"type":"Identifier","start":8725,"end":8727,"name":"sW"},{"type":"Identifier","start":8729,"end":8731,"name":"sH"}]}},{"type":"ExpressionStatement","start":8740,"end":8755,"expression":{"type":"AssignmentExpression","start":8740,"end":8754,"operator":"=","left":{"type":"Identifier","start":8740,"end":8745,"name":"image"},"right":{"type":"Identifier","start":8748,"end":8754,"name":"canvas"}}},{"type":"ExpressionStatement","start":8762,"end":8786,"expression":{"type":"AssignmentExpression","start":8762,"end":8785,"operator":"=","left":{"type":"Identifier","start":8762,"end":8764,"name":"sW"},"right":{"type":"CallExpression","start":8767,"end":8785,"callee":{"type":"MemberExpression","start":8767,"end":8777,"object":{"type":"Identifier","start":8767,"end":8771,"name":"Math"},"property":{"type":"Identifier","start":8772,"end":8777,"name":"round"},"computed":false},"arguments":[{"type":"BinaryExpression","start":8778,"end":8784,"left":{"type":"Identifier","start":8778,"end":8780,"name":"sW"},"operator":"/","right":{"type":"Identifier","start":8783,"end":8784,"name":"x"}}]}}},{"type":"ExpressionStatement","start":8793,"end":8817,"expression":{"type":"AssignmentExpression","start":8793,"end":8816,"operator":"=","left":{"type":"Identifier","start":8793,"end":8795,"name":"sH"},"right":{"type":"CallExpression","start":8798,"end":8816,"callee":{"type":"MemberExpression","start":8798,"end":8808,"object":{"type":"Identifier","start":8798,"end":8802,"name":"Math"},"property":{"type":"Identifier","start":8803,"end":8808,"name":"round"},"computed":false},"arguments":[{"type":"BinaryExpression","start":8809,"end":8815,"left":{"type":"Identifier","start":8809,"end":8811,"name":"sH"},"operator":"/","right":{"type":"Identifier","start":8814,"end":8815,"name":"x"}}]}}}]}},{"type":"ReturnStatement","start":8829,"end":8842,"argument":{"type":"Identifier","start":8836,"end":8841,"name":"image"}}]}}}},{"type":"ExpressionStatement","start":8851,"end":9639,"expression":{"type":"AssignmentExpression","start":8851,"end":9498,"operator":"=","left":{"type":"MemberExpression","start":8851,"end":8869,"object":{"type":"Identifier","start":8851,"end":8857,"name":"_proto"},"property":{"type":"Identifier","start":8858,"end":8869,"name":"rotateImage"},"computed":false},"right":{"type":"FunctionExpression","start":8872,"end":9498,"id":{"type":"Identifier","start":8881,"end":8892,"name":"rotateImage"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8893,"end":8898,"name":"image"},{"type":"Identifier","start":8900,"end":8909,"name":"translate"}],"body":{"type":"BlockStatement","start":8911,"end":9498,"body":[{"type":"VariableDeclaration","start":8917,"end":8937,"declarations":[{"type":"VariableDeclarator","start":8921,"end":8936,"id":{"type":"Identifier","start":8921,"end":8922,"name":"w"},"init":{"type":"MemberExpression","start":8925,"end":8936,"object":{"type":"Identifier","start":8925,"end":8930,"name":"image"},"property":{"type":"Identifier","start":8931,"end":8936,"name":"width"},"computed":false}}],"kind":"var"},{"type":"VariableDeclaration","start":8942,"end":8963,"declarations":[{"type":"VariableDeclarator","start":8946,"end":8962,"id":{"type":"Identifier","start":8946,"end":8947,"name":"h"},"init":{"type":"MemberExpression","start":8950,"end":8962,"object":{"type":"Identifier","start":8950,"end":8955,"name":"image"},"property":{"type":"Identifier","start":8956,"end":8962,"name":"height"},"computed":false}}],"kind":"var"},{"type":"IfStatement","start":8969,"end":9074,"test":{"type":"LogicalExpression","start":8973,"end":9018,"left":{"type":"BinaryExpression","start":8973,"end":8993,"left":{"type":"MemberExpression","start":8973,"end":8986,"object":{"type":"Identifier","start":8973,"end":8982,"name":"translate"},"property":{"type":"Identifier","start":8983,"end":8986,"name":"deg"},"computed":false},"operator":"===","right":{"type":"Literal","start":8991,"end":8993,"value":90,"raw":"90"}},"operator":"||","right":{"type":"BinaryExpression","start":8997,"end":9018,"left":{"type":"MemberExpression","start":8997,"end":9010,"object":{"type":"Identifier","start":8997,"end":9006,"name":"translate"},"property":{"type":"Identifier","start":9007,"end":9010,"name":"deg"},"computed":false},"operator":"===","right":{"type":"Literal","start":9015,"end":9018,"value":270,"raw":"270"}}},"consequent":{"type":"BlockStatement","start":9020,"end":9074,"body":[{"type":"ExpressionStatement","start":9028,"end":9045,"expression":{"type":"AssignmentExpression","start":9028,"end":9044,"operator":"=","left":{"type":"Identifier","start":9028,"end":9029,"name":"w"},"right":{"type":"MemberExpression","start":9032,"end":9044,"object":{"type":"Identifier","start":9032,"end":9037,"name":"image"},"property":{"type":"Identifier","start":9038,"end":9044,"name":"height"},"computed":false}}},{"type":"ExpressionStatement","start":9052,"end":9068,"expression":{"type":"AssignmentExpression","start":9052,"end":9067,"operator":"=","left":{"type":"Identifier","start":9052,"end":9053,"name":"h"},"right":{"type":"MemberExpression","start":9056,"end":9067,"object":{"type":"Identifier","start":9056,"end":9061,"name":"image"},"property":{"type":"Identifier","start":9062,"end":9067,"name":"width"},"computed":false}}}]},"alternate":null},{"type":"VariableDeclaration","start":9080,"end":9126,"declarations":[{"type":"VariableDeclarator","start":9084,"end":9125,"id":{"type":"Identifier","start":9084,"end":9090,"name":"canvas"},"init":{"type":"CallExpression","start":9093,"end":9125,"callee":{"type":"MemberExpression","start":9093,"end":9115,"object":{"type":"Identifier","start":9093,"end":9101,"name":"document"},"property":{"type":"Identifier","start":9102,"end":9115,"name":"createElement"},"computed":false},"arguments":[{"type":"Literal","start":9116,"end":9124,"value":"canvas","raw":"'canvas'"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":9131,"end":9148,"expression":{"type":"AssignmentExpression","start":9131,"end":9147,"operator":"=","left":{"type":"MemberExpression","start":9131,"end":9143,"object":{"type":"Identifier","start":9131,"end":9137,"name":"canvas"},"property":{"type":"Identifier","start":9138,"end":9143,"name":"width"},"computed":false},"right":{"type":"Identifier","start":9146,"end":9147,"name":"w"}}},{"type":"ExpressionStatement","start":9153,"end":9171,"expression":{"type":"AssignmentExpression","start":9153,"end":9170,"operator":"=","left":{"type":"MemberExpression","start":9153,"end":9166,"object":{"type":"Identifier","start":9153,"end":9159,"name":"canvas"},"property":{"type":"Identifier","start":9160,"end":9166,"name":"height"},"computed":false},"right":{"type":"Identifier","start":9169,"end":9170,"name":"h"}}},{"type":"VariableDeclaration","start":9176,"end":9214,"declarations":[{"type":"VariableDeclarator","start":9180,"end":9213,"id":{"type":"Identifier","start":9180,"end":9187,"name":"context"},"init":{"type":"CallExpression","start":9190,"end":9213,"callee":{"type":"MemberExpression","start":9190,"end":9207,"object":{"type":"Identifier","start":9190,"end":9196,"name":"canvas"},"property":{"type":"Identifier","start":9197,"end":9207,"name":"getContext"},"computed":false},"arguments":[{"type":"Literal","start":9208,"end":9212,"value":"2d","raw":"'2d'"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":9219,"end":9251,"expression":{"type":"CallExpression","start":9219,"end":9250,"callee":{"type":"MemberExpression","start":9219,"end":9236,"object":{"type":"Identifier","start":9219,"end":9226,"name":"context"},"property":{"type":"Identifier","start":9227,"end":9236,"name":"translate"},"computed":false},"arguments":[{"type":"BinaryExpression","start":9237,"end":9242,"left":{"type":"Identifier","start":9237,"end":9238,"name":"w"},"operator":"/","right":{"type":"Literal","start":9241,"end":9242,"value":2,"raw":"2"}},{"type":"BinaryExpression","start":9244,"end":9249,"left":{"type":"Identifier","start":9244,"end":9245,"name":"h"},"operator":"/","right":{"type":"Literal","start":9248,"end":9249,"value":2,"raw":"2"}}]}},{"type":"IfStatement","start":9257,"end":9380,"test":{"type":"MemberExpression","start":9261,"end":9277,"object":{"type":"Identifier","start":9261,"end":9270,"name":"translate"},"property":{"type":"Identifier","start":9271,"end":9277,"name":"canvas"},"computed":false},"consequent":{"type":"BlockStatement","start":9279,"end":9380,"body":[{"type":"ExpressionStatement","start":9287,"end":9317,"expression":{"type":"CallExpression","start":9287,"end":9316,"callee":{"type":"MemberExpression","start":9287,"end":9301,"object":{"type":"Identifier","start":9287,"end":9294,"name":"context"},"property":{"type":"Identifier","start":9295,"end":9301,"name":"rotate"},"computed":false},"arguments":[{"type":"MemberExpression","start":9302,"end":9315,"object":{"type":"Identifier","start":9302,"end":9311,"name":"translate"},"property":{"type":"Identifier","start":9312,"end":9315,"name":"rad"},"computed":false}]}},{"type":"ExpressionStatement","start":9324,"end":9374,"expression":{"type":"CallExpression","start":9324,"end":9373,"callee":{"type":"MemberExpression","start":9324,"end":9337,"object":{"type":"Identifier","start":9324,"end":9331,"name":"context"},"property":{"type":"Identifier","start":9332,"end":9337,"name":"scale"},"computed":false},"arguments":[{"type":"MemberExpression","start":9338,"end":9354,"object":{"type":"Identifier","start":9338,"end":9347,"name":"translate"},"property":{"type":"Identifier","start":9348,"end":9354,"name":"scaleX"},"computed":false},{"type":"MemberExpression","start":9356,"end":9372,"object":{"type":"Identifier","start":9356,"end":9365,"name":"translate"},"property":{"type":"Identifier","start":9366,"end":9372,"name":"scaleY"},"computed":false}]}}]},"alternate":null},{"type":"ExpressionStatement","start":9386,"end":9475,"expression":{"type":"CallExpression","start":9386,"end":9474,"callee":{"type":"MemberExpression","start":9386,"end":9403,"object":{"type":"Identifier","start":9386,"end":9393,"name":"context"},"property":{"type":"Identifier","start":9394,"end":9403,"name":"drawImage"},"computed":false},"arguments":[{"type":"Identifier","start":9404,"end":9409,"name":"image"},{"type":"BinaryExpression","start":9411,"end":9427,"left":{"type":"UnaryExpression","start":9411,"end":9423,"operator":"-","prefix":true,"argument":{"type":"MemberExpression","start":9412,"end":9423,"object":{"type":"Identifier","start":9412,"end":9417,"name":"image"},"property":{"type":"Identifier","start":9418,"end":9423,"name":"width"},"computed":false}},"operator":"/","right":{"type":"Literal","start":9426,"end":9427,"value":2,"raw":"2"}},{"type":"BinaryExpression","start":9429,"end":9446,"left":{"type":"UnaryExpression","start":9429,"end":9442,"operator":"-","prefix":true,"argument":{"type":"MemberExpression","start":9430,"end":9442,"object":{"type":"Identifier","start":9430,"end":9435,"name":"image"},"property":{"type":"Identifier","start":9436,"end":9442,"name":"height"},"computed":false}},"operator":"/","right":{"type":"Literal","start":9445,"end":9446,"value":2,"raw":"2"}},{"type":"MemberExpression","start":9448,"end":9459,"object":{"type":"Identifier","start":9448,"end":9453,"name":"image"},"property":{"type":"Identifier","start":9454,"end":9459,"name":"width"},"computed":false},{"type":"MemberExpression","start":9461,"end":9473,"object":{"type":"Identifier","start":9461,"end":9466,"name":"image"},"property":{"type":"Identifier","start":9467,"end":9473,"name":"height"},"computed":false}]}},{"type":"ReturnStatement","start":9480,"end":9494,"argument":{"type":"Identifier","start":9487,"end":9493,"name":"canvas"}}]}}}},{"type":"ExpressionStatement","start":9643,"end":10601,"expression":{"type":"AssignmentExpression","start":9643,"end":10548,"operator":"=","left":{"type":"MemberExpression","start":9643,"end":9662,"object":{"type":"Identifier","start":9643,"end":9649,"name":"_proto"},"property":{"type":"Identifier","start":9650,"end":9662,"name":"canvasToBlob"},"computed":false},"right":{"type":"FunctionExpression","start":9665,"end":10548,"id":{"type":"Identifier","start":9674,"end":9686,"name":"canvasToBlob"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9687,"end":9693,"name":"canvas"},{"type":"Identifier","start":9695,"end":9699,"name":"type"},{"type":"Identifier","start":9701,"end":9708,"name":"quality"}],"body":{"type":"BlockStatement","start":9710,"end":10548,"body":[{"type":"TryStatement","start":9716,"end":9944,"block":{"type":"BlockStatement","start":9720,"end":9783,"body":[{"type":"ExpressionStatement","start":9728,"end":9777,"expression":{"type":"CallExpression","start":9728,"end":9776,"callee":{"type":"MemberExpression","start":9728,"end":9764,"object":{"type":"CallExpression","start":9728,"end":9751,"callee":{"type":"MemberExpression","start":9728,"end":9745,"object":{"type":"Identifier","start":9728,"end":9734,"name":"canvas"},"property":{"type":"Identifier","start":9735,"end":9745,"name":"getContext"},"computed":false},"arguments":[{"type":"Literal","start":9746,"end":9750,"value":"2d","raw":"'2d'"}]},"property":{"type":"Identifier","start":9752,"end":9764,"name":"getImageData"},"computed":false},"arguments":[{"type":"Literal","start":9765,"end":9766,"value":0,"raw":"0"},{"type":"Literal","start":9768,"end":9769,"value":0,"raw":"0"},{"type":"Literal","start":9771,"end":9772,"value":1,"raw":"1"},{"type":"Literal","start":9774,"end":9775,"value":1,"raw":"1"}]}}]},"handler":{"type":"CatchClause","start":9784,"end":9944,"param":{"type":"Identifier","start":9791,"end":9794,"name":"err"},"body":{"type":"BlockStatement","start":9796,"end":9944,"body":[{"type":"IfStatement","start":9804,"end":9938,"test":{"type":"BinaryExpression","start":9808,"end":9823,"left":{"type":"MemberExpression","start":9808,"end":9816,"object":{"type":"Identifier","start":9808,"end":9811,"name":"err"},"property":{"type":"Identifier","start":9812,"end":9816,"name":"code"},"computed":false},"operator":"===","right":{"type":"Literal","start":9821,"end":9823,"value":18,"raw":"18"}},"consequent":{"type":"BlockStatement","start":9825,"end":9938,"body":[{"type":"ReturnStatement","start":9835,"end":9930,"argument":{"type":"CallExpression","start":9842,"end":9929,"callee":{"type":"MemberExpression","start":9842,"end":9856,"object":{"type":"Identifier","start":9842,"end":9849,"name":"Promise"},"property":{"type":"Identifier","start":9850,"end":9856,"name":"reject"},"computed":false},"arguments":[{"type":"NewExpression","start":9857,"end":9928,"callee":{"type":"Identifier","start":9861,"end":9866,"name":"Error"},"arguments":[{"type":"Literal","start":9867,"end":9927,"value":"cannot read image, probably an svg with external resources","raw":"'cannot read image, probably an svg with external resources'"}]}]}}]},"alternate":null}]}},"finalizer":null},{"type":"IfStatement","start":9950,"end":10261,"test":{"type":"MemberExpression","start":9954,"end":9967,"object":{"type":"Identifier","start":9954,"end":9960,"name":"canvas"},"property":{"type":"Identifier","start":9961,"end":9967,"name":"toBlob"},"computed":false},"consequent":{"type":"BlockStatement","start":9969,"end":10261,"body":[{"type":"ReturnStatement","start":9977,"end":10255,"argument":{"type":"CallExpression","start":9984,"end":10254,"callee":{"type":"MemberExpression","start":9984,"end":10077,"object":{"type":"NewExpression","start":9984,"end":10072,"callee":{"type":"Identifier","start":9988,"end":9995,"name":"Promise"},"arguments":[{"type":"FunctionExpression","start":9996,"end":10071,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10006,"end":10013,"name":"resolve"}],"body":{"type":"BlockStatement","start":10015,"end":10071,"body":[{"type":"ExpressionStatement","start":10025,"end":10063,"expression":{"type":"CallExpression","start":10025,"end":10062,"callee":{"type":"MemberExpression","start":10025,"end":10038,"object":{"type":"Identifier","start":10025,"end":10031,"name":"canvas"},"property":{"type":"Identifier","start":10032,"end":10038,"name":"toBlob"},"computed":false},"arguments":[{"type":"Identifier","start":10039,"end":10046,"name":"resolve"},{"type":"Identifier","start":10048,"end":10052,"name":"type"},{"type":"Identifier","start":10054,"end":10061,"name":"quality"}]}}]}}]},"property":{"type":"Identifier","start":10073,"end":10077,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":10078,"end":10253,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10088,"end":10092,"name":"blob"}],"body":{"type":"BlockStatement","start":10094,"end":10253,"body":[{"type":"IfStatement","start":10104,"end":10223,"test":{"type":"BinaryExpression","start":10108,"end":10121,"left":{"type":"Identifier","start":10108,"end":10112,"name":"blob"},"operator":"===","right":{"type":"Literal","start":10117,"end":10121,"value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","start":10123,"end":10223,"body":[{"type":"ThrowStatement","start":10135,"end":10213,"argument":{"type":"NewExpression","start":10141,"end":10212,"callee":{"type":"Identifier","start":10145,"end":10150,"name":"Error"},"arguments":[{"type":"Literal","start":10151,"end":10211,"value":"cannot read image, probably an svg with external resources","raw":"'cannot read image, probably an svg with external resources'"}]}}]},"alternate":null},{"type":"ReturnStatement","start":10233,"end":10245,"argument":{"type":"Identifier","start":10240,"end":10244,"name":"blob"}}]}}]}}]},"alternate":null},{"type":"ReturnStatement","start":10267,"end":10544,"argument":{"type":"CallExpression","start":10274,"end":10543,"callee":{"type":"MemberExpression","start":10274,"end":10387,"object":{"type":"CallExpression","start":10274,"end":10382,"callee":{"type":"MemberExpression","start":10274,"end":10296,"object":{"type":"CallExpression","start":10274,"end":10291,"callee":{"type":"MemberExpression","start":10274,"end":10289,"object":{"type":"Identifier","start":10274,"end":10281,"name":"Promise"},"property":{"type":"Identifier","start":10282,"end":10289,"name":"resolve"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":10292,"end":10296,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":10297,"end":10381,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":10309,"end":10381,"body":[{"type":"ReturnStatement","start":10317,"end":10375,"argument":{"type":"CallExpression","start":10324,"end":10374,"callee":{"type":"Identifier","start":10324,"end":10337,"name":"dataURItoBlob"},"arguments":[{"type":"CallExpression","start":10338,"end":10369,"callee":{"type":"MemberExpression","start":10338,"end":10354,"object":{"type":"Identifier","start":10338,"end":10344,"name":"canvas"},"property":{"type":"Identifier","start":10345,"end":10354,"name":"toDataURL"},"computed":false},"arguments":[{"type":"Identifier","start":10355,"end":10359,"name":"type"},{"type":"Identifier","start":10361,"end":10368,"name":"quality"}]},{"type":"ObjectExpression","start":10371,"end":10373,"properties":[]}]}}]}}]},"property":{"type":"Identifier","start":10383,"end":10387,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":10388,"end":10542,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10398,"end":10402,"name":"blob"}],"body":{"type":"BlockStatement","start":10404,"end":10542,"body":[{"type":"IfStatement","start":10412,"end":10516,"test":{"type":"BinaryExpression","start":10416,"end":10429,"left":{"type":"Identifier","start":10416,"end":10420,"name":"blob"},"operator":"===","right":{"type":"Literal","start":10425,"end":10429,"value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","start":10431,"end":10516,"body":[{"type":"ThrowStatement","start":10441,"end":10508,"argument":{"type":"NewExpression","start":10447,"end":10507,"callee":{"type":"Identifier","start":10451,"end":10456,"name":"Error"},"arguments":[{"type":"Literal","start":10457,"end":10506,"value":"could not extract blob, probably an old browser","raw":"'could not extract blob, probably an old browser'"}]}}]},"alternate":null},{"type":"ReturnStatement","start":10524,"end":10536,"argument":{"type":"Identifier","start":10531,"end":10535,"name":"blob"}}]}}]}}]}}}},{"type":"ExpressionStatement","start":10605,"end":10742,"expression":{"type":"AssignmentExpression","start":10605,"end":10741,"operator":"=","left":{"type":"MemberExpression","start":10605,"end":10625,"object":{"type":"Identifier","start":10605,"end":10611,"name":"_proto"},"property":{"type":"Identifier","start":10612,"end":10625,"name":"setPreviewURL"},"computed":false},"right":{"type":"FunctionExpression","start":10628,"end":10741,"id":{"type":"Identifier","start":10637,"end":10650,"name":"setPreviewURL"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10651,"end":10657,"name":"fileID"},{"type":"Identifier","start":10659,"end":10666,"name":"preview"}],"body":{"type":"BlockStatement","start":10668,"end":10741,"body":[{"type":"ExpressionStatement","start":10674,"end":10737,"expression":{"type":"CallExpression","start":10674,"end":10736,"callee":{"type":"MemberExpression","start":10674,"end":10696,"object":{"type":"MemberExpression","start":10674,"end":10683,"object":{"type":"ThisExpression","start":10674,"end":10678},"property":{"type":"Identifier","start":10679,"end":10683,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":10684,"end":10696,"name":"setFileState"},"computed":false},"arguments":[{"type":"Identifier","start":10697,"end":10703,"name":"fileID"},{"type":"ObjectExpression","start":10705,"end":10735,"properties":[{"type":"Property","start":10713,"end":10729,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10713,"end":10720,"name":"preview"},"value":{"type":"Identifier","start":10722,"end":10729,"name":"preview"},"kind":"init"}]}]}}]}}}},{"type":"ExpressionStatement","start":10746,"end":10901,"expression":{"type":"AssignmentExpression","start":10746,"end":10900,"operator":"=","left":{"type":"MemberExpression","start":10746,"end":10763,"object":{"type":"Identifier","start":10746,"end":10752,"name":"_proto"},"property":{"type":"Identifier","start":10753,"end":10763,"name":"addToQueue"},"computed":false},"right":{"type":"FunctionExpression","start":10766,"end":10900,"id":{"type":"Identifier","start":10775,"end":10785,"name":"addToQueue"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10786,"end":10790,"name":"item"}],"body":{"type":"BlockStatement","start":10792,"end":10900,"body":[{"type":"ExpressionStatement","start":10798,"end":10820,"expression":{"type":"CallExpression","start":10798,"end":10819,"callee":{"type":"MemberExpression","start":10798,"end":10813,"object":{"type":"MemberExpression","start":10798,"end":10808,"object":{"type":"ThisExpression","start":10798,"end":10802},"property":{"type":"Identifier","start":10803,"end":10808,"name":"queue"},"computed":false},"property":{"type":"Identifier","start":10809,"end":10813,"name":"push"},"computed":false},"arguments":[{"type":"Identifier","start":10814,"end":10818,"name":"item"}]}},{"type":"IfStatement","start":10826,"end":10896,"test":{"type":"BinaryExpression","start":10830,"end":10860,"left":{"type":"MemberExpression","start":10830,"end":10850,"object":{"type":"ThisExpression","start":10830,"end":10834},"property":{"type":"Identifier","start":10835,"end":10850,"name":"queueProcessing"},"computed":false},"operator":"===","right":{"type":"Literal","start":10855,"end":10860,"value":false,"raw":"false"}},"consequent":{"type":"BlockStatement","start":10862,"end":10896,"body":[{"type":"ExpressionStatement","start":10870,"end":10890,"expression":{"type":"CallExpression","start":10870,"end":10889,"callee":{"type":"MemberExpression","start":10870,"end":10887,"object":{"type":"ThisExpression","start":10870,"end":10874},"property":{"type":"Identifier","start":10875,"end":10887,"name":"processQueue"},"computed":false},"arguments":[]}}]},"alternate":null}]}}}},{"type":"ExpressionStatement","start":10905,"end":11681,"expression":{"type":"AssignmentExpression","start":10905,"end":11680,"operator":"=","left":{"type":"MemberExpression","start":10905,"end":10924,"object":{"type":"Identifier","start":10905,"end":10911,"name":"_proto"},"property":{"type":"Identifier","start":10912,"end":10924,"name":"processQueue"},"computed":false},"right":{"type":"FunctionExpression","start":10927,"end":11680,"id":{"type":"Identifier","start":10936,"end":10948,"name":"processQueue"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":10951,"end":11680,"body":[{"type":"VariableDeclaration","start":10957,"end":10975,"declarations":[{"type":"VariableDeclarator","start":10961,"end":10974,"id":{"type":"Identifier","start":10961,"end":10967,"name":"_this3"},"init":{"type":"ThisExpression","start":10970,"end":10974}}],"kind":"var"},{"type":"ExpressionStatement","start":10981,"end":11009,"expression":{"type":"AssignmentExpression","start":10981,"end":11008,"operator":"=","left":{"type":"MemberExpression","start":10981,"end":11001,"object":{"type":"ThisExpression","start":10981,"end":10985},"property":{"type":"Identifier","start":10986,"end":11001,"name":"queueProcessing"},"computed":false},"right":{"type":"Literal","start":11004,"end":11008,"value":true,"raw":"true"}}},{"type":"IfStatement","start":11015,"end":11676,"test":{"type":"BinaryExpression","start":11019,"end":11040,"left":{"type":"MemberExpression","start":11019,"end":11036,"object":{"type":"MemberExpression","start":11019,"end":11029,"object":{"type":"ThisExpression","start":11019,"end":11023},"property":{"type":"Identifier","start":11024,"end":11029,"name":"queue"},"computed":false},"property":{"type":"Identifier","start":11030,"end":11036,"name":"length"},"computed":false},"operator":">","right":{"type":"Literal","start":11039,"end":11040,"value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","start":11042,"end":11509,"body":[{"type":"VariableDeclaration","start":11050,"end":11102,"declarations":[{"type":"VariableDeclarator","start":11054,"end":11101,"id":{"type":"Identifier","start":11054,"end":11061,"name":"current"},"init":{"type":"CallExpression","start":11064,"end":11101,"callee":{"type":"MemberExpression","start":11064,"end":11081,"object":{"type":"MemberExpression","start":11064,"end":11073,"object":{"type":"ThisExpression","start":11064,"end":11068},"property":{"type":"Identifier","start":11069,"end":11073,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":11074,"end":11081,"name":"getFile"},"computed":false},"arguments":[{"type":"CallExpression","start":11082,"end":11100,"callee":{"type":"MemberExpression","start":11082,"end":11098,"object":{"type":"MemberExpression","start":11082,"end":11092,"object":{"type":"ThisExpression","start":11082,"end":11086},"property":{"type":"Identifier","start":11087,"end":11092,"name":"queue"},"computed":false},"property":{"type":"Identifier","start":11093,"end":11098,"name":"shift"},"computed":false},"arguments":[]}]}}],"kind":"var"},{"type":"IfStatement","start":11110,"end":11316,"test":{"type":"UnaryExpression","start":11114,"end":11122,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":11115,"end":11122,"name":"current"}},"consequent":{"type":"BlockStatement","start":11124,"end":11316,"body":[{"type":"ExpressionStatement","start":11134,"end":11292,"expression":{"type":"CallExpression","start":11134,"end":11291,"callee":{"type":"MemberExpression","start":11134,"end":11147,"object":{"type":"MemberExpression","start":11134,"end":11143,"object":{"type":"ThisExpression","start":11134,"end":11138},"property":{"type":"Identifier","start":11139,"end":11143,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":11144,"end":11147,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":11148,"end":11281,"value":"[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","raw":"'[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug'"},{"type":"Literal","start":11283,"end":11290,"value":"error","raw":"'error'"}]}},{"type":"ReturnStatement","start":11301,"end":11308,"argument":null}]},"alternate":null},{"type":"ReturnStatement","start":11324,"end":11503,"argument":{"type":"CallExpression","start":11331,"end":11502,"callee":{"type":"MemberExpression","start":11331,"end":11441,"object":{"type":"CallExpression","start":11331,"end":11386,"callee":{"type":"MemberExpression","start":11331,"end":11367,"object":{"type":"CallExpression","start":11331,"end":11361,"callee":{"type":"MemberExpression","start":11331,"end":11352,"object":{"type":"ThisExpression","start":11331,"end":11335},"property":{"type":"Identifier","start":11336,"end":11352,"name":"requestThumbnail"},"computed":false},"arguments":[{"type":"Identifier","start":11353,"end":11360,"name":"current"}]},"property":{"type":"Identifier","start":11362,"end":11367,"name":"catch"},"computed":false},"arguments":[{"type":"FunctionExpression","start":11368,"end":11385,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11378,"end":11381,"name":"err"}],"body":{"type":"BlockStatement","start":11383,"end":11385,"body":[]}}]},"property":{"type":"Identifier","start":11437,"end":11441,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":11442,"end":11501,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":11454,"end":11501,"body":[{"type":"ReturnStatement","start":11464,"end":11493,"argument":{"type":"CallExpression","start":11471,"end":11492,"callee":{"type":"MemberExpression","start":11471,"end":11490,"object":{"type":"Identifier","start":11471,"end":11477,"name":"_this3"},"property":{"type":"Identifier","start":11478,"end":11490,"name":"processQueue"},"computed":false},"arguments":[]}}]}}]}}]},"alternate":{"type":"BlockStatement","start":11515,"end":11676,"body":[{"type":"ExpressionStatement","start":11523,"end":11552,"expression":{"type":"AssignmentExpression","start":11523,"end":11551,"operator":"=","left":{"type":"MemberExpression","start":11523,"end":11543,"object":{"type":"ThisExpression","start":11523,"end":11527},"property":{"type":"Identifier","start":11528,"end":11543,"name":"queueProcessing"},"computed":false},"right":{"type":"Literal","start":11546,"end":11551,"value":false,"raw":"false"}}},{"type":"ExpressionStatement","start":11559,"end":11621,"expression":{"type":"CallExpression","start":11559,"end":11620,"callee":{"type":"MemberExpression","start":11559,"end":11572,"object":{"type":"MemberExpression","start":11559,"end":11568,"object":{"type":"ThisExpression","start":11559,"end":11563},"property":{"type":"Identifier","start":11564,"end":11568,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":11569,"end":11572,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":11573,"end":11619,"value":"[ThumbnailGenerator] Emptied thumbnail queue","raw":"'[ThumbnailGenerator] Emptied thumbnail queue'"}]}},{"type":"ExpressionStatement","start":11628,"end":11670,"expression":{"type":"CallExpression","start":11628,"end":11669,"callee":{"type":"MemberExpression","start":11628,"end":11642,"object":{"type":"MemberExpression","start":11628,"end":11637,"object":{"type":"ThisExpression","start":11628,"end":11632},"property":{"type":"Identifier","start":11633,"end":11637,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":11638,"end":11642,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":11643,"end":11668,"value":"thumbnail:all-generated","raw":"'thumbnail:all-generated'"}]}}]}}]}}}},{"type":"ExpressionStatement","start":11685,"end":12473,"expression":{"type":"AssignmentExpression","start":11685,"end":12472,"operator":"=","left":{"type":"MemberExpression","start":11685,"end":11708,"object":{"type":"Identifier","start":11685,"end":11691,"name":"_proto"},"property":{"type":"Identifier","start":11692,"end":11708,"name":"requestThumbnail"},"computed":false},"right":{"type":"FunctionExpression","start":11711,"end":12472,"id":{"type":"Identifier","start":11720,"end":11736,"name":"requestThumbnail"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11737,"end":11741,"name":"file"}],"body":{"type":"BlockStatement","start":11743,"end":12472,"body":[{"type":"VariableDeclaration","start":11749,"end":11767,"declarations":[{"type":"VariableDeclarator","start":11753,"end":11766,"id":{"type":"Identifier","start":11753,"end":11759,"name":"_this4"},"init":{"type":"ThisExpression","start":11762,"end":11766}}],"kind":"var"},{"type":"IfStatement","start":11773,"end":12437,"test":{"type":"LogicalExpression","start":11777,"end":11824,"left":{"type":"CallExpression","start":11777,"end":11806,"callee":{"type":"Identifier","start":11777,"end":11795,"name":"isPreviewSupported"},"arguments":[{"type":"MemberExpression","start":11796,"end":11805,"object":{"type":"Identifier","start":11796,"end":11800,"name":"file"},"property":{"type":"Identifier","start":11801,"end":11805,"name":"type"},"computed":false}]},"operator":"&&","right":{"type":"UnaryExpression","start":11810,"end":11824,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":11811,"end":11824,"object":{"type":"Identifier","start":11811,"end":11815,"name":"file"},"property":{"type":"Identifier","start":11816,"end":11824,"name":"isRemote"},"computed":false}}},"consequent":{"type":"BlockStatement","start":11826,"end":12437,"body":[{"type":"ReturnStatement","start":11834,"end":12431,"argument":{"type":"CallExpression","start":11841,"end":12430,"callee":{"type":"MemberExpression","start":11841,"end":12183,"object":{"type":"CallExpression","start":11841,"end":12177,"callee":{"type":"MemberExpression","start":11841,"end":11925,"object":{"type":"CallExpression","start":11841,"end":11920,"callee":{"type":"MemberExpression","start":11841,"end":11861,"object":{"type":"ThisExpression","start":11841,"end":11845},"property":{"type":"Identifier","start":11846,"end":11861,"name":"createThumbnail"},"computed":false},"arguments":[{"type":"Identifier","start":11862,"end":11866,"name":"file"},{"type":"MemberExpression","start":11868,"end":11892,"object":{"type":"MemberExpression","start":11868,"end":11877,"object":{"type":"ThisExpression","start":11868,"end":11872},"property":{"type":"Identifier","start":11873,"end":11877,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":11878,"end":11892,"name":"thumbnailWidth"},"computed":false},{"type":"MemberExpression","start":11894,"end":11919,"object":{"type":"MemberExpression","start":11894,"end":11903,"object":{"type":"ThisExpression","start":11894,"end":11898},"property":{"type":"Identifier","start":11899,"end":11903,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":11904,"end":11919,"name":"thumbnailHeight"},"computed":false}]},"property":{"type":"Identifier","start":11921,"end":11925,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":11926,"end":12176,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11936,"end":11943,"name":"preview"}],"body":{"type":"BlockStatement","start":11945,"end":12176,"body":[{"type":"ExpressionStatement","start":11955,"end":11994,"expression":{"type":"CallExpression","start":11955,"end":11993,"callee":{"type":"MemberExpression","start":11955,"end":11975,"object":{"type":"Identifier","start":11955,"end":11961,"name":"_this4"},"property":{"type":"Identifier","start":11962,"end":11975,"name":"setPreviewURL"},"computed":false},"arguments":[{"type":"MemberExpression","start":11976,"end":11983,"object":{"type":"Identifier","start":11976,"end":11980,"name":"file"},"property":{"type":"Identifier","start":11981,"end":11983,"name":"id"},"computed":false},{"type":"Identifier","start":11985,"end":11992,"name":"preview"}]}},{"type":"ExpressionStatement","start":12004,"end":12079,"expression":{"type":"CallExpression","start":12004,"end":12078,"callee":{"type":"MemberExpression","start":12004,"end":12019,"object":{"type":"MemberExpression","start":12004,"end":12015,"object":{"type":"Identifier","start":12004,"end":12010,"name":"_this4"},"property":{"type":"Identifier","start":12011,"end":12015,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12016,"end":12019,"name":"log"},"computed":false},"arguments":[{"type":"BinaryExpression","start":12020,"end":12077,"left":{"type":"Literal","start":12020,"end":12067,"value":"[ThumbnailGenerator] Generated thumbnail for ","raw":"\"[ThumbnailGenerator] Generated thumbnail for \""},"operator":"+","right":{"type":"MemberExpression","start":12070,"end":12077,"object":{"type":"Identifier","start":12070,"end":12074,"name":"file"},"property":{"type":"Identifier","start":12075,"end":12077,"name":"id"},"computed":false}}]}},{"type":"ExpressionStatement","start":12089,"end":12168,"expression":{"type":"CallExpression","start":12089,"end":12167,"callee":{"type":"MemberExpression","start":12089,"end":12105,"object":{"type":"MemberExpression","start":12089,"end":12100,"object":{"type":"Identifier","start":12089,"end":12095,"name":"_this4"},"property":{"type":"Identifier","start":12096,"end":12100,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12101,"end":12105,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":12106,"end":12127,"value":"thumbnail:generated","raw":"'thumbnail:generated'"},{"type":"CallExpression","start":12129,"end":12157,"callee":{"type":"MemberExpression","start":12129,"end":12148,"object":{"type":"MemberExpression","start":12129,"end":12140,"object":{"type":"Identifier","start":12129,"end":12135,"name":"_this4"},"property":{"type":"Identifier","start":12136,"end":12140,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12141,"end":12148,"name":"getFile"},"computed":false},"arguments":[{"type":"MemberExpression","start":12149,"end":12156,"object":{"type":"Identifier","start":12149,"end":12153,"name":"file"},"property":{"type":"Identifier","start":12154,"end":12156,"name":"id"},"computed":false}]},{"type":"Identifier","start":12159,"end":12166,"name":"preview"}]}}]}}]},"property":{"type":"Identifier","start":12178,"end":12183,"name":"catch"},"computed":false},"arguments":[{"type":"FunctionExpression","start":12184,"end":12429,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12194,"end":12197,"name":"err"}],"body":{"type":"BlockStatement","start":12199,"end":12429,"body":[{"type":"ExpressionStatement","start":12209,"end":12298,"expression":{"type":"CallExpression","start":12209,"end":12297,"callee":{"type":"MemberExpression","start":12209,"end":12224,"object":{"type":"MemberExpression","start":12209,"end":12220,"object":{"type":"Identifier","start":12209,"end":12215,"name":"_this4"},"property":{"type":"Identifier","start":12216,"end":12220,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12221,"end":12224,"name":"log"},"computed":false},"arguments":[{"type":"BinaryExpression","start":12225,"end":12285,"left":{"type":"BinaryExpression","start":12225,"end":12279,"left":{"type":"Literal","start":12225,"end":12269,"value":"[ThumbnailGenerator] Failed thumbnail for ","raw":"\"[ThumbnailGenerator] Failed thumbnail for \""},"operator":"+","right":{"type":"MemberExpression","start":12272,"end":12279,"object":{"type":"Identifier","start":12272,"end":12276,"name":"file"},"property":{"type":"Identifier","start":12277,"end":12279,"name":"id"},"computed":false}},"operator":"+","right":{"type":"Literal","start":12282,"end":12285,"value":":","raw":"\":\""}},{"type":"Literal","start":12287,"end":12296,"value":"warning","raw":"'warning'"}]}},{"type":"ExpressionStatement","start":12308,"end":12340,"expression":{"type":"CallExpression","start":12308,"end":12339,"callee":{"type":"MemberExpression","start":12308,"end":12323,"object":{"type":"MemberExpression","start":12308,"end":12319,"object":{"type":"Identifier","start":12308,"end":12314,"name":"_this4"},"property":{"type":"Identifier","start":12315,"end":12319,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12320,"end":12323,"name":"log"},"computed":false},"arguments":[{"type":"Identifier","start":12324,"end":12327,"name":"err"},{"type":"Literal","start":12329,"end":12338,"value":"warning","raw":"'warning'"}]}},{"type":"ExpressionStatement","start":12350,"end":12421,"expression":{"type":"CallExpression","start":12350,"end":12420,"callee":{"type":"MemberExpression","start":12350,"end":12366,"object":{"type":"MemberExpression","start":12350,"end":12361,"object":{"type":"Identifier","start":12350,"end":12356,"name":"_this4"},"property":{"type":"Identifier","start":12357,"end":12361,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12362,"end":12366,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":12367,"end":12384,"value":"thumbnail:error","raw":"'thumbnail:error'"},{"type":"CallExpression","start":12386,"end":12414,"callee":{"type":"MemberExpression","start":12386,"end":12405,"object":{"type":"MemberExpression","start":12386,"end":12397,"object":{"type":"Identifier","start":12386,"end":12392,"name":"_this4"},"property":{"type":"Identifier","start":12393,"end":12397,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12398,"end":12405,"name":"getFile"},"computed":false},"arguments":[{"type":"MemberExpression","start":12406,"end":12413,"object":{"type":"Identifier","start":12406,"end":12410,"name":"file"},"property":{"type":"Identifier","start":12411,"end":12413,"name":"id"},"computed":false}]},{"type":"Identifier","start":12416,"end":12419,"name":"err"}]}}]}}]}}]},"alternate":null},{"type":"ReturnStatement","start":12443,"end":12468,"argument":{"type":"CallExpression","start":12450,"end":12467,"callee":{"type":"MemberExpression","start":12450,"end":12465,"object":{"type":"Identifier","start":12450,"end":12457,"name":"Promise"},"property":{"type":"Identifier","start":12458,"end":12465,"name":"resolve"},"computed":false},"arguments":[]}}]}}}},{"type":"ExpressionStatement","start":12477,"end":12960,"expression":{"type":"AssignmentExpression","start":12477,"end":12959,"operator":"=","left":{"type":"MemberExpression","start":12477,"end":12491,"object":{"type":"Identifier","start":12477,"end":12483,"name":"_proto"},"property":{"type":"Identifier","start":12484,"end":12491,"name":"install"},"computed":false},"right":{"type":"FunctionExpression","start":12494,"end":12959,"id":{"type":"Identifier","start":12503,"end":12510,"name":"install"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":12513,"end":12959,"body":[{"type":"ExpressionStatement","start":12519,"end":12568,"expression":{"type":"CallExpression","start":12519,"end":12567,"callee":{"type":"MemberExpression","start":12519,"end":12531,"object":{"type":"MemberExpression","start":12519,"end":12528,"object":{"type":"ThisExpression","start":12519,"end":12523},"property":{"type":"Identifier","start":12524,"end":12528,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12529,"end":12531,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":12532,"end":12546,"value":"file-removed","raw":"'file-removed'"},{"type":"MemberExpression","start":12548,"end":12566,"object":{"type":"ThisExpression","start":12548,"end":12552},"property":{"type":"Identifier","start":12553,"end":12566,"name":"onFileRemoved"},"computed":false}]}},{"type":"IfStatement","start":12574,"end":12836,"test":{"type":"MemberExpression","start":12578,"end":12592,"object":{"type":"MemberExpression","start":12578,"end":12587,"object":{"type":"ThisExpression","start":12578,"end":12582},"property":{"type":"Identifier","start":12583,"end":12587,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":12588,"end":12592,"name":"lazy"},"computed":false},"consequent":{"type":"BlockStatement","start":12594,"end":12722,"body":[{"type":"ExpressionStatement","start":12602,"end":12654,"expression":{"type":"CallExpression","start":12602,"end":12653,"callee":{"type":"MemberExpression","start":12602,"end":12614,"object":{"type":"MemberExpression","start":12602,"end":12611,"object":{"type":"ThisExpression","start":12602,"end":12606},"property":{"type":"Identifier","start":12607,"end":12611,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12612,"end":12614,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":12615,"end":12634,"value":"thumbnail:request","raw":"'thumbnail:request'"},{"type":"MemberExpression","start":12636,"end":12652,"object":{"type":"ThisExpression","start":12636,"end":12640},"property":{"type":"Identifier","start":12641,"end":12652,"name":"onFileAdded"},"computed":false}]}},{"type":"ExpressionStatement","start":12661,"end":12716,"expression":{"type":"CallExpression","start":12661,"end":12715,"callee":{"type":"MemberExpression","start":12661,"end":12673,"object":{"type":"MemberExpression","start":12661,"end":12670,"object":{"type":"ThisExpression","start":12661,"end":12665},"property":{"type":"Identifier","start":12666,"end":12670,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12671,"end":12673,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":12674,"end":12692,"value":"thumbnail:cancel","raw":"'thumbnail:cancel'"},{"type":"MemberExpression","start":12694,"end":12714,"object":{"type":"ThisExpression","start":12694,"end":12698},"property":{"type":"Identifier","start":12699,"end":12714,"name":"onCancelRequest"},"computed":false}]}}]},"alternate":{"type":"BlockStatement","start":12728,"end":12836,"body":[{"type":"ExpressionStatement","start":12736,"end":12781,"expression":{"type":"CallExpression","start":12736,"end":12780,"callee":{"type":"MemberExpression","start":12736,"end":12748,"object":{"type":"MemberExpression","start":12736,"end":12745,"object":{"type":"ThisExpression","start":12736,"end":12740},"property":{"type":"Identifier","start":12741,"end":12745,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12746,"end":12748,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":12749,"end":12761,"value":"file-added","raw":"'file-added'"},{"type":"MemberExpression","start":12763,"end":12779,"object":{"type":"ThisExpression","start":12763,"end":12767},"property":{"type":"Identifier","start":12768,"end":12779,"name":"onFileAdded"},"computed":false}]}},{"type":"ExpressionStatement","start":12788,"end":12830,"expression":{"type":"CallExpression","start":12788,"end":12829,"callee":{"type":"MemberExpression","start":12788,"end":12800,"object":{"type":"MemberExpression","start":12788,"end":12797,"object":{"type":"ThisExpression","start":12788,"end":12792},"property":{"type":"Identifier","start":12793,"end":12797,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12798,"end":12800,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":12801,"end":12811,"value":"restored","raw":"'restored'"},{"type":"MemberExpression","start":12813,"end":12828,"object":{"type":"ThisExpression","start":12813,"end":12817},"property":{"type":"Identifier","start":12818,"end":12828,"name":"onRestored"},"computed":false}]}}]}},{"type":"IfStatement","start":12842,"end":12955,"test":{"type":"MemberExpression","start":12846,"end":12885,"object":{"type":"MemberExpression","start":12846,"end":12855,"object":{"type":"ThisExpression","start":12846,"end":12850},"property":{"type":"Identifier","start":12851,"end":12855,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":12856,"end":12885,"name":"waitForThumbnailsBeforeUpload"},"computed":false},"consequent":{"type":"BlockStatement","start":12887,"end":12955,"body":[{"type":"ExpressionStatement","start":12895,"end":12949,"expression":{"type":"CallExpression","start":12895,"end":12948,"callee":{"type":"MemberExpression","start":12895,"end":12920,"object":{"type":"MemberExpression","start":12895,"end":12904,"object":{"type":"ThisExpression","start":12895,"end":12899},"property":{"type":"Identifier","start":12900,"end":12904,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":12905,"end":12920,"name":"addPreProcessor"},"computed":false},"arguments":[{"type":"MemberExpression","start":12921,"end":12947,"object":{"type":"ThisExpression","start":12921,"end":12925},"property":{"type":"Identifier","start":12926,"end":12947,"name":"waitUntilAllProcessed"},"computed":false}]}}]},"alternate":null}]}}}},{"type":"ExpressionStatement","start":12964,"end":13459,"expression":{"type":"AssignmentExpression","start":12964,"end":13458,"operator":"=","left":{"type":"MemberExpression","start":12964,"end":12980,"object":{"type":"Identifier","start":12964,"end":12970,"name":"_proto"},"property":{"type":"Identifier","start":12971,"end":12980,"name":"uninstall"},"computed":false},"right":{"type":"FunctionExpression","start":12983,"end":13458,"id":{"type":"Identifier","start":12992,"end":13001,"name":"uninstall"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":13004,"end":13458,"body":[{"type":"ExpressionStatement","start":13010,"end":13060,"expression":{"type":"CallExpression","start":13010,"end":13059,"callee":{"type":"MemberExpression","start":13010,"end":13023,"object":{"type":"MemberExpression","start":13010,"end":13019,"object":{"type":"ThisExpression","start":13010,"end":13014},"property":{"type":"Identifier","start":13015,"end":13019,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":13020,"end":13023,"name":"off"},"computed":false},"arguments":[{"type":"Literal","start":13024,"end":13038,"value":"file-removed","raw":"'file-removed'"},{"type":"MemberExpression","start":13040,"end":13058,"object":{"type":"ThisExpression","start":13040,"end":13044},"property":{"type":"Identifier","start":13045,"end":13058,"name":"onFileRemoved"},"computed":false}]}},{"type":"IfStatement","start":13066,"end":13332,"test":{"type":"MemberExpression","start":13070,"end":13084,"object":{"type":"MemberExpression","start":13070,"end":13079,"object":{"type":"ThisExpression","start":13070,"end":13074},"property":{"type":"Identifier","start":13075,"end":13079,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":13080,"end":13084,"name":"lazy"},"computed":false},"consequent":{"type":"BlockStatement","start":13086,"end":13216,"body":[{"type":"ExpressionStatement","start":13094,"end":13147,"expression":{"type":"CallExpression","start":13094,"end":13146,"callee":{"type":"MemberExpression","start":13094,"end":13107,"object":{"type":"MemberExpression","start":13094,"end":13103,"object":{"type":"ThisExpression","start":13094,"end":13098},"property":{"type":"Identifier","start":13099,"end":13103,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":13104,"end":13107,"name":"off"},"computed":false},"arguments":[{"type":"Literal","start":13108,"end":13127,"value":"thumbnail:request","raw":"'thumbnail:request'"},{"type":"MemberExpression","start":13129,"end":13145,"object":{"type":"ThisExpression","start":13129,"end":13133},"property":{"type":"Identifier","start":13134,"end":13145,"name":"onFileAdded"},"computed":false}]}},{"type":"ExpressionStatement","start":13154,"end":13210,"expression":{"type":"CallExpression","start":13154,"end":13209,"callee":{"type":"MemberExpression","start":13154,"end":13167,"object":{"type":"MemberExpression","start":13154,"end":13163,"object":{"type":"ThisExpression","start":13154,"end":13158},"property":{"type":"Identifier","start":13159,"end":13163,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":13164,"end":13167,"name":"off"},"computed":false},"arguments":[{"type":"Literal","start":13168,"end":13186,"value":"thumbnail:cancel","raw":"'thumbnail:cancel'"},{"type":"MemberExpression","start":13188,"end":13208,"object":{"type":"ThisExpression","start":13188,"end":13192},"property":{"type":"Identifier","start":13193,"end":13208,"name":"onCancelRequest"},"computed":false}]}}]},"alternate":{"type":"BlockStatement","start":13222,"end":13332,"body":[{"type":"ExpressionStatement","start":13230,"end":13276,"expression":{"type":"CallExpression","start":13230,"end":13275,"callee":{"type":"MemberExpression","start":13230,"end":13243,"object":{"type":"MemberExpression","start":13230,"end":13239,"object":{"type":"ThisExpression","start":13230,"end":13234},"property":{"type":"Identifier","start":13235,"end":13239,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":13240,"end":13243,"name":"off"},"computed":false},"arguments":[{"type":"Literal","start":13244,"end":13256,"value":"file-added","raw":"'file-added'"},{"type":"MemberExpression","start":13258,"end":13274,"object":{"type":"ThisExpression","start":13258,"end":13262},"property":{"type":"Identifier","start":13263,"end":13274,"name":"onFileAdded"},"computed":false}]}},{"type":"ExpressionStatement","start":13283,"end":13326,"expression":{"type":"CallExpression","start":13283,"end":13325,"callee":{"type":"MemberExpression","start":13283,"end":13296,"object":{"type":"MemberExpression","start":13283,"end":13292,"object":{"type":"ThisExpression","start":13283,"end":13287},"property":{"type":"Identifier","start":13288,"end":13292,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":13293,"end":13296,"name":"off"},"computed":false},"arguments":[{"type":"Literal","start":13297,"end":13307,"value":"restored","raw":"'restored'"},{"type":"MemberExpression","start":13309,"end":13324,"object":{"type":"ThisExpression","start":13309,"end":13313},"property":{"type":"Identifier","start":13314,"end":13324,"name":"onRestored"},"computed":false}]}}]}},{"type":"IfStatement","start":13338,"end":13454,"test":{"type":"MemberExpression","start":13342,"end":13381,"object":{"type":"MemberExpression","start":13342,"end":13351,"object":{"type":"ThisExpression","start":13342,"end":13346},"property":{"type":"Identifier","start":13347,"end":13351,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":13352,"end":13381,"name":"waitForThumbnailsBeforeUpload"},"computed":false},"consequent":{"type":"BlockStatement","start":13383,"end":13454,"body":[{"type":"ExpressionStatement","start":13391,"end":13448,"expression":{"type":"CallExpression","start":13391,"end":13447,"callee":{"type":"MemberExpression","start":13391,"end":13419,"object":{"type":"MemberExpression","start":13391,"end":13400,"object":{"type":"ThisExpression","start":13391,"end":13395},"property":{"type":"Identifier","start":13396,"end":13400,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":13401,"end":13419,"name":"removePreProcessor"},"computed":false},"arguments":[{"type":"MemberExpression","start":13420,"end":13446,"object":{"type":"ThisExpression","start":13420,"end":13424},"property":{"type":"Identifier","start":13425,"end":13446,"name":"waitUntilAllProcessed"},"computed":false}]}}]},"alternate":null}]}}}},{"type":"ReturnStatement","start":13463,"end":13489,"argument":{"type":"Identifier","start":13470,"end":13488,"name":"ThumbnailGenerator"}}]}},"arguments":[{"type":"Identifier","start":13492,"end":13498,"name":"Plugin"}]}}},{"type":"AssignmentExpression","start":13501,"end":13552,"operator":"=","left":{"type":"MemberExpression","start":13501,"end":13515,"object":{"type":"Identifier","start":13501,"end":13507,"name":"_class"},"property":{"type":"Identifier","start":13508,"end":13515,"name":"VERSION"},"computed":false},"right":{"type":"MemberExpression","start":13518,"end":13552,"object":{"type":"CallExpression","start":13518,"end":13544,"callee":{"type":"Identifier","start":13518,"end":13525,"name":"require"},"arguments":[{"type":"Literal","start":13526,"end":13543,"value":"../package.json","raw":"'../package.json'"}]},"property":{"type":"Identifier","start":13545,"end":13552,"name":"version"},"computed":false}},{"type":"Identifier","start":13554,"end":13559,"name":"_temp"}]}}}],"sourceType":"script"}