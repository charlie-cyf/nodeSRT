{"type":"Program","start":0,"end":1227,"loc":{"start":{"line":1,"column":0},"end":{"line":40,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":36,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"declarations":[{"type":"VariableDeclarator","start":6,"end":36,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":36}},"id":{"type":"Identifier","start":6,"end":9,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":9}},"name":"tus"},"init":{"type":"CallExpression","start":12,"end":36,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":36}},"callee":{"type":"Identifier","start":12,"end":19,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":19}},"name":"require"},"arguments":[{"type":"Literal","start":20,"end":35,"loc":{"start":{"line":1,"column":20},"end":{"line":1,"column":35}},"value":"tus-js-client","raw":"'tus-js-client'"}]}}],"kind":"const"},{"type":"FunctionDeclaration","start":38,"end":244,"loc":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"id":{"type":"Identifier","start":47,"end":56,"loc":{"start":{"line":3,"column":9},"end":{"line":3,"column":18}},"name":"isCordova"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":60,"end":244,"loc":{"start":{"line":3,"column":22},"end":{"line":9,"column":1}},"body":[{"type":"ReturnStatement","start":64,"end":242,"loc":{"start":{"line":4,"column":2},"end":{"line":8,"column":3}},"argument":{"type":"LogicalExpression","start":71,"end":242,"loc":{"start":{"line":4,"column":9},"end":{"line":8,"column":3}},"left":{"type":"BinaryExpression","start":71,"end":100,"loc":{"start":{"line":4,"column":9},"end":{"line":4,"column":38}},"left":{"type":"UnaryExpression","start":71,"end":84,"loc":{"start":{"line":4,"column":9},"end":{"line":4,"column":22}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":78,"end":84,"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":22}},"name":"window"}},"operator":"!==","right":{"type":"Literal","start":89,"end":100,"loc":{"start":{"line":4,"column":27},"end":{"line":4,"column":38}},"value":"undefined","raw":"'undefined'"}},"operator":"&&","right":{"type":"LogicalExpression","start":110,"end":238,"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":41}},"left":{"type":"LogicalExpression","start":110,"end":193,"loc":{"start":{"line":5,"column":4},"end":{"line":6,"column":41}},"left":{"type":"BinaryExpression","start":110,"end":148,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":42}},"left":{"type":"UnaryExpression","start":110,"end":132,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":26}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":117,"end":132,"loc":{"start":{"line":5,"column":11},"end":{"line":5,"column":26}},"object":{"type":"Identifier","start":117,"end":123,"loc":{"start":{"line":5,"column":11},"end":{"line":5,"column":17}},"name":"window"},"property":{"type":"Identifier","start":124,"end":132,"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":26}},"name":"PhoneGap"},"computed":false}},"operator":"!==","right":{"type":"Literal","start":137,"end":148,"loc":{"start":{"line":5,"column":31},"end":{"line":5,"column":42}},"value":"undefined","raw":"'undefined'"}},"operator":"||","right":{"type":"BinaryExpression","start":156,"end":193,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":41}},"left":{"type":"UnaryExpression","start":156,"end":177,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":25}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":163,"end":177,"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":25}},"object":{"type":"Identifier","start":163,"end":169,"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":17}},"name":"window"},"property":{"type":"Identifier","start":170,"end":177,"loc":{"start":{"line":6,"column":18},"end":{"line":6,"column":25}},"name":"Cordova"},"computed":false}},"operator":"!==","right":{"type":"Literal","start":182,"end":193,"loc":{"start":{"line":6,"column":30},"end":{"line":6,"column":41}},"value":"undefined","raw":"'undefined'"}}},"operator":"||","right":{"type":"BinaryExpression","start":201,"end":238,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":41}},"left":{"type":"UnaryExpression","start":201,"end":222,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":25}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":208,"end":222,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":25}},"object":{"type":"Identifier","start":208,"end":214,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":17}},"name":"window"},"property":{"type":"Identifier","start":215,"end":222,"loc":{"start":{"line":7,"column":18},"end":{"line":7,"column":25}},"name":"cordova"},"computed":false}},"operator":"!==","right":{"type":"Literal","start":227,"end":238,"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":41}},"value":"undefined","raw":"'undefined'"}}}}}]}},{"type":"FunctionDeclaration","start":246,"end":419,"loc":{"start":{"line":11,"column":0},"end":{"line":15,"column":1}},"id":{"type":"Identifier","start":255,"end":268,"loc":{"start":{"line":11,"column":9},"end":{"line":11,"column":22}},"name":"isReactNative"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":272,"end":419,"loc":{"start":{"line":11,"column":26},"end":{"line":15,"column":1}},"body":[{"type":"ReturnStatement","start":276,"end":417,"loc":{"start":{"line":12,"column":2},"end":{"line":14,"column":53}},"argument":{"type":"LogicalExpression","start":283,"end":417,"loc":{"start":{"line":12,"column":9},"end":{"line":14,"column":53}},"left":{"type":"LogicalExpression","start":283,"end":360,"loc":{"start":{"line":12,"column":9},"end":{"line":13,"column":41}},"left":{"type":"BinaryExpression","start":283,"end":315,"loc":{"start":{"line":12,"column":9},"end":{"line":12,"column":41}},"left":{"type":"UnaryExpression","start":283,"end":299,"loc":{"start":{"line":12,"column":9},"end":{"line":12,"column":25}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":290,"end":299,"loc":{"start":{"line":12,"column":16},"end":{"line":12,"column":25}},"name":"navigator"}},"operator":"!==","right":{"type":"Literal","start":304,"end":315,"loc":{"start":{"line":12,"column":30},"end":{"line":12,"column":41}},"value":"undefined","raw":"'undefined'"}},"operator":"&&","right":{"type":"BinaryExpression","start":323,"end":360,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":41}},"left":{"type":"UnaryExpression","start":323,"end":347,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":28}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":330,"end":347,"loc":{"start":{"line":13,"column":11},"end":{"line":13,"column":28}},"object":{"type":"Identifier","start":330,"end":339,"loc":{"start":{"line":13,"column":11},"end":{"line":13,"column":20}},"name":"navigator"},"property":{"type":"Identifier","start":340,"end":347,"loc":{"start":{"line":13,"column":21},"end":{"line":13,"column":28}},"name":"product"},"computed":false}},"operator":"===","right":{"type":"Literal","start":352,"end":360,"loc":{"start":{"line":13,"column":33},"end":{"line":13,"column":41}},"value":"string","raw":"'string'"}}},"operator":"&&","right":{"type":"BinaryExpression","start":368,"end":417,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":53}},"left":{"type":"CallExpression","start":368,"end":399,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":35}},"callee":{"type":"MemberExpression","start":368,"end":397,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":33}},"object":{"type":"MemberExpression","start":368,"end":385,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":21}},"object":{"type":"Identifier","start":368,"end":377,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":13}},"name":"navigator"},"property":{"type":"Identifier","start":378,"end":385,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":21}},"name":"product"},"computed":false},"property":{"type":"Identifier","start":386,"end":397,"loc":{"start":{"line":14,"column":22},"end":{"line":14,"column":33}},"name":"toLowerCase"},"computed":false},"arguments":[]},"operator":"===","right":{"type":"Literal","start":404,"end":417,"loc":{"start":{"line":14,"column":40},"end":{"line":14,"column":53}},"value":"reactnative","raw":"'reactnative'"}}}}]}},{"type":"ExpressionStatement","start":864,"end":1226,"loc":{"start":{"line":25,"column":0},"end":{"line":39,"column":1}},"expression":{"type":"AssignmentExpression","start":864,"end":1226,"loc":{"start":{"line":25,"column":0},"end":{"line":39,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":864,"end":878,"loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":14}},"object":{"type":"Identifier","start":864,"end":870,"loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":6}},"name":"module"},"property":{"type":"Identifier","start":871,"end":878,"loc":{"start":{"line":25,"column":7},"end":{"line":25,"column":14}},"name":"exports"},"computed":false},"right":{"type":"FunctionExpression","start":881,"end":1226,"loc":{"start":{"line":25,"column":17},"end":{"line":39,"column":1}},"id":{"type":"Identifier","start":890,"end":904,"loc":{"start":{"line":25,"column":26},"end":{"line":25,"column":40}},"name":"getFingerprint"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":906,"end":917,"loc":{"start":{"line":25,"column":42},"end":{"line":25,"column":53}},"name":"uppyFileObj"}],"body":{"type":"BlockStatement","start":919,"end":1226,"loc":{"start":{"line":25,"column":55},"end":{"line":39,"column":1}},"body":[{"type":"ReturnStatement","start":923,"end":1224,"loc":{"start":{"line":26,"column":2},"end":{"line":38,"column":3}},"argument":{"type":"FunctionExpression","start":930,"end":1224,"loc":{"start":{"line":26,"column":9},"end":{"line":38,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":940,"end":944,"loc":{"start":{"line":26,"column":19},"end":{"line":26,"column":23}},"name":"file"},{"type":"Identifier","start":946,"end":953,"loc":{"start":{"line":26,"column":25},"end":{"line":26,"column":32}},"name":"options"}],"body":{"type":"BlockStatement","start":955,"end":1224,"loc":{"start":{"line":26,"column":34},"end":{"line":38,"column":3}},"body":[{"type":"IfStatement","start":961,"end":1070,"loc":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"test":{"type":"LogicalExpression","start":965,"end":995,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":38}},"left":{"type":"CallExpression","start":965,"end":976,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":19}},"callee":{"type":"Identifier","start":965,"end":974,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":17}},"name":"isCordova"},"arguments":[]},"operator":"||","right":{"type":"CallExpression","start":980,"end":995,"loc":{"start":{"line":27,"column":23},"end":{"line":27,"column":38}},"callee":{"type":"Identifier","start":980,"end":993,"loc":{"start":{"line":27,"column":23},"end":{"line":27,"column":36}},"name":"isReactNative"},"arguments":[]}},"consequent":{"type":"BlockStatement","start":997,"end":1070,"loc":{"start":{"line":27,"column":40},"end":{"line":29,"column":5}},"body":[{"type":"ReturnStatement","start":1005,"end":1064,"loc":{"start":{"line":28,"column":6},"end":{"line":28,"column":65}},"argument":{"type":"CallExpression","start":1012,"end":1064,"loc":{"start":{"line":28,"column":13},"end":{"line":28,"column":65}},"callee":{"type":"MemberExpression","start":1012,"end":1049,"loc":{"start":{"line":28,"column":13},"end":{"line":28,"column":50}},"object":{"type":"MemberExpression","start":1012,"end":1037,"loc":{"start":{"line":28,"column":13},"end":{"line":28,"column":38}},"object":{"type":"MemberExpression","start":1012,"end":1022,"loc":{"start":{"line":28,"column":13},"end":{"line":28,"column":23}},"object":{"type":"Identifier","start":1012,"end":1015,"loc":{"start":{"line":28,"column":13},"end":{"line":28,"column":16}},"name":"tus"},"property":{"type":"Identifier","start":1016,"end":1022,"loc":{"start":{"line":28,"column":17},"end":{"line":28,"column":23}},"name":"Upload"},"computed":false},"property":{"type":"Identifier","start":1023,"end":1037,"loc":{"start":{"line":28,"column":24},"end":{"line":28,"column":38}},"name":"defaultOptions"},"computed":false},"property":{"type":"Identifier","start":1038,"end":1049,"loc":{"start":{"line":28,"column":39},"end":{"line":28,"column":50}},"name":"fingerprint"},"computed":false},"arguments":[{"type":"Identifier","start":1050,"end":1054,"loc":{"start":{"line":28,"column":51},"end":{"line":28,"column":55}},"name":"file"},{"type":"Identifier","start":1056,"end":1063,"loc":{"start":{"line":28,"column":57},"end":{"line":28,"column":64}},"name":"options"}]}}]},"alternate":null},{"type":"VariableDeclaration","start":1076,"end":1175,"loc":{"start":{"line":31,"column":4},"end":{"line":35,"column":15}},"declarations":[{"type":"VariableDeclarator","start":1082,"end":1175,"loc":{"start":{"line":31,"column":10},"end":{"line":35,"column":15}},"id":{"type":"Identifier","start":1082,"end":1097,"loc":{"start":{"line":31,"column":10},"end":{"line":31,"column":25}},"name":"uppyFingerprint"},"init":{"type":"CallExpression","start":1100,"end":1175,"loc":{"start":{"line":31,"column":28},"end":{"line":35,"column":15}},"callee":{"type":"MemberExpression","start":1100,"end":1170,"loc":{"start":{"line":31,"column":28},"end":{"line":35,"column":10}},"object":{"type":"ArrayExpression","start":1100,"end":1165,"loc":{"start":{"line":31,"column":28},"end":{"line":35,"column":5}},"elements":[{"type":"Literal","start":1108,"end":1113,"loc":{"start":{"line":32,"column":6},"end":{"line":32,"column":11}},"value":"tus","raw":"'tus'"},{"type":"MemberExpression","start":1121,"end":1135,"loc":{"start":{"line":33,"column":6},"end":{"line":33,"column":20}},"object":{"type":"Identifier","start":1121,"end":1132,"loc":{"start":{"line":33,"column":6},"end":{"line":33,"column":17}},"name":"uppyFileObj"},"property":{"type":"Identifier","start":1133,"end":1135,"loc":{"start":{"line":33,"column":18},"end":{"line":33,"column":20}},"name":"id"},"computed":false},{"type":"MemberExpression","start":1143,"end":1159,"loc":{"start":{"line":34,"column":6},"end":{"line":34,"column":22}},"object":{"type":"Identifier","start":1143,"end":1150,"loc":{"start":{"line":34,"column":6},"end":{"line":34,"column":13}},"name":"options"},"property":{"type":"Identifier","start":1151,"end":1159,"loc":{"start":{"line":34,"column":14},"end":{"line":34,"column":22}},"name":"endpoint"},"computed":false}]},"property":{"type":"Identifier","start":1166,"end":1170,"loc":{"start":{"line":35,"column":6},"end":{"line":35,"column":10}},"name":"join"},"computed":false},"arguments":[{"type":"Literal","start":1171,"end":1174,"loc":{"start":{"line":35,"column":11},"end":{"line":35,"column":14}},"value":"-","raw":"'-'"}]}}],"kind":"const"},{"type":"ReturnStatement","start":1181,"end":1220,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":43}},"argument":{"type":"CallExpression","start":1188,"end":1220,"loc":{"start":{"line":37,"column":11},"end":{"line":37,"column":43}},"callee":{"type":"MemberExpression","start":1188,"end":1203,"loc":{"start":{"line":37,"column":11},"end":{"line":37,"column":26}},"object":{"type":"Identifier","start":1188,"end":1195,"loc":{"start":{"line":37,"column":11},"end":{"line":37,"column":18}},"name":"Promise"},"property":{"type":"Identifier","start":1196,"end":1203,"loc":{"start":{"line":37,"column":19},"end":{"line":37,"column":26}},"name":"resolve"},"computed":false},"arguments":[{"type":"Identifier","start":1204,"end":1219,"loc":{"start":{"line":37,"column":27},"end":{"line":37,"column":42}},"name":"uppyFingerprint"}]}}]}}}]}}},"comments":[{"type":"Line","value":" We override tus fingerprint to uppy’s `file.id`, since the `file.id`","start":421,"end":492,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":71}}},{"type":"Line","value":" now also includes `relativePath` for files added from folders.","start":493,"end":558,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":65}}},{"type":"Line","value":" This means you can add 2 identical files, if one is in folder a,","start":559,"end":626,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":67}}},{"type":"Line","value":" the other in folder b — `a/file.jpg` and `b/file.jpg`, when added","start":627,"end":695,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":68}}},{"type":"Line","value":" together with a folder, will be treated as 2 separate files.","start":696,"end":759,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":63}}},{"type":"Line","value":"","start":760,"end":762,"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":2}}},{"type":"Line","value":" For React Native and Cordova, we let tus-js-client’s default","start":763,"end":826,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":63}}},{"type":"Line","value":" fingerprint handling take charge.","start":827,"end":863,"loc":{"start":{"line":24,"column":0},"end":{"line":24,"column":36}}}]}],"sourceType":"script"}