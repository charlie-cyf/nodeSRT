{"type":"Program","start":0,"end":1441,"body":[{"type":"VariableDeclaration","start":22,"end":58,"declarations":[{"type":"VariableDeclarator","start":26,"end":57,"id":{"type":"Identifier","start":26,"end":35,"name":"fileCache"},"init":{"type":"CallExpression","start":38,"end":57,"callee":{"type":"MemberExpression","start":38,"end":51,"object":{"type":"Identifier","start":38,"end":44,"name":"Object"},"property":{"type":"Identifier","start":45,"end":51,"name":"create"},"computed":false},"arguments":[{"type":"Literal","start":52,"end":56,"value":null,"raw":"null"}]}}],"kind":"var"},{"type":"FunctionDeclaration","start":60,"end":187,"id":{"type":"Identifier","start":69,"end":77,"name":"getCache"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":78,"end":82,"name":"name"}],"body":{"type":"BlockStatement","start":84,"end":187,"body":[{"type":"IfStatement","start":88,"end":158,"test":{"type":"UnaryExpression","start":92,"end":108,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":93,"end":108,"object":{"type":"Identifier","start":93,"end":102,"name":"fileCache"},"property":{"type":"Identifier","start":103,"end":107,"name":"name"},"computed":true}},"consequent":{"type":"BlockStatement","start":110,"end":158,"body":[{"type":"ExpressionStatement","start":116,"end":154,"expression":{"type":"AssignmentExpression","start":116,"end":153,"operator":"=","left":{"type":"MemberExpression","start":116,"end":131,"object":{"type":"Identifier","start":116,"end":125,"name":"fileCache"},"property":{"type":"Identifier","start":126,"end":130,"name":"name"},"computed":true},"right":{"type":"CallExpression","start":134,"end":153,"callee":{"type":"MemberExpression","start":134,"end":147,"object":{"type":"Identifier","start":134,"end":140,"name":"Object"},"property":{"type":"Identifier","start":141,"end":147,"name":"create"},"computed":false},"arguments":[{"type":"Literal","start":148,"end":152,"value":null,"raw":"null"}]}}}]},"alternate":null},{"type":"ReturnStatement","start":162,"end":185,"argument":{"type":"MemberExpression","start":169,"end":184,"object":{"type":"Identifier","start":169,"end":178,"name":"fileCache"},"property":{"type":"Identifier","start":179,"end":183,"name":"name"},"computed":true}}]}},{"type":"ExpressionStatement","start":189,"end":389,"expression":{"type":"CallExpression","start":189,"end":388,"callee":{"type":"MemberExpression","start":189,"end":210,"object":{"type":"Identifier","start":189,"end":193,"name":"self"},"property":{"type":"Identifier","start":194,"end":210,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":211,"end":220,"value":"install","raw":"'install'"},{"type":"FunctionExpression","start":222,"end":387,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":232,"end":237,"name":"event"}],"body":{"type":"BlockStatement","start":239,"end":387,"body":[{"type":"ExpressionStatement","start":243,"end":292,"expression":{"type":"CallExpression","start":243,"end":291,"callee":{"type":"MemberExpression","start":243,"end":254,"object":{"type":"Identifier","start":243,"end":250,"name":"console"},"property":{"type":"Identifier","start":251,"end":254,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":255,"end":290,"value":"Installing Uppy Service Worker...","raw":"'Installing Uppy Service Worker...'"}]}},{"type":"ExpressionStatement","start":295,"end":385,"expression":{"type":"CallExpression","start":295,"end":384,"callee":{"type":"MemberExpression","start":295,"end":310,"object":{"type":"Identifier","start":295,"end":300,"name":"event"},"property":{"type":"Identifier","start":301,"end":310,"name":"waitUntil"},"computed":false},"arguments":[{"type":"CallExpression","start":311,"end":383,"callee":{"type":"MemberExpression","start":311,"end":333,"object":{"type":"CallExpression","start":311,"end":328,"callee":{"type":"MemberExpression","start":311,"end":326,"object":{"type":"Identifier","start":311,"end":318,"name":"Promise"},"property":{"type":"Identifier","start":319,"end":326,"name":"resolve"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":329,"end":333,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":334,"end":382,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":346,"end":382,"body":[{"type":"ReturnStatement","start":352,"end":378,"argument":{"type":"CallExpression","start":359,"end":377,"callee":{"type":"MemberExpression","start":359,"end":375,"object":{"type":"Identifier","start":359,"end":363,"name":"self"},"property":{"type":"Identifier","start":364,"end":375,"name":"skipWaiting"},"computed":false},"arguments":[]}}]}}]}]}}]}}]}},{"type":"ExpressionStatement","start":390,"end":487,"expression":{"type":"CallExpression","start":390,"end":486,"callee":{"type":"MemberExpression","start":390,"end":411,"object":{"type":"Identifier","start":390,"end":394,"name":"self"},"property":{"type":"Identifier","start":395,"end":411,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":412,"end":422,"value":"activate","raw":"'activate'"},{"type":"FunctionExpression","start":424,"end":485,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":434,"end":439,"name":"event"}],"body":{"type":"BlockStatement","start":441,"end":485,"body":[{"type":"ExpressionStatement","start":445,"end":483,"expression":{"type":"CallExpression","start":445,"end":482,"callee":{"type":"MemberExpression","start":445,"end":460,"object":{"type":"Identifier","start":445,"end":450,"name":"event"},"property":{"type":"Identifier","start":451,"end":460,"name":"waitUntil"},"computed":false},"arguments":[{"type":"CallExpression","start":461,"end":481,"callee":{"type":"MemberExpression","start":461,"end":479,"object":{"type":"MemberExpression","start":461,"end":473,"object":{"type":"Identifier","start":461,"end":465,"name":"self"},"property":{"type":"Identifier","start":466,"end":473,"name":"clients"},"computed":false},"property":{"type":"Identifier","start":474,"end":479,"name":"claim"},"computed":false},"arguments":[]}]}}]}}]}},{"type":"FunctionDeclaration","start":489,"end":662,"id":{"type":"Identifier","start":498,"end":521,"name":"sendMessageToAllClients"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":522,"end":525,"name":"msg"}],"body":{"type":"BlockStatement","start":527,"end":662,"body":[{"type":"ExpressionStatement","start":531,"end":660,"expression":{"type":"CallExpression","start":531,"end":659,"callee":{"type":"MemberExpression","start":531,"end":554,"object":{"type":"CallExpression","start":531,"end":549,"callee":{"type":"MemberExpression","start":531,"end":547,"object":{"type":"Identifier","start":531,"end":538,"name":"clients"},"property":{"type":"Identifier","start":539,"end":547,"name":"matchAll"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":550,"end":554,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":555,"end":658,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":565,"end":572,"name":"clients"}],"body":{"type":"BlockStatement","start":574,"end":658,"body":[{"type":"ExpressionStatement","start":580,"end":654,"expression":{"type":"CallExpression","start":580,"end":653,"callee":{"type":"MemberExpression","start":580,"end":595,"object":{"type":"Identifier","start":580,"end":587,"name":"clients"},"property":{"type":"Identifier","start":588,"end":595,"name":"forEach"},"computed":false},"arguments":[{"type":"FunctionExpression","start":596,"end":652,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":606,"end":612,"name":"client"}],"body":{"type":"BlockStatement","start":614,"end":652,"body":[{"type":"ExpressionStatement","start":622,"end":646,"expression":{"type":"CallExpression","start":622,"end":645,"callee":{"type":"MemberExpression","start":622,"end":640,"object":{"type":"Identifier","start":622,"end":628,"name":"client"},"property":{"type":"Identifier","start":629,"end":640,"name":"postMessage"},"computed":false},"arguments":[{"type":"Identifier","start":641,"end":644,"name":"msg"}]}}]}}]}}]}}]}}]}},{"type":"FunctionDeclaration","start":664,"end":807,"id":{"type":"Identifier","start":673,"end":680,"name":"addFile"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":681,"end":686,"name":"store"},{"type":"Identifier","start":688,"end":692,"name":"file"}],"body":{"type":"BlockStatement","start":694,"end":807,"body":[{"type":"ExpressionStatement","start":698,"end":735,"expression":{"type":"AssignmentExpression","start":698,"end":734,"operator":"=","left":{"type":"MemberExpression","start":698,"end":722,"object":{"type":"CallExpression","start":698,"end":713,"callee":{"type":"Identifier","start":698,"end":706,"name":"getCache"},"arguments":[{"type":"Identifier","start":707,"end":712,"name":"store"}]},"property":{"type":"MemberExpression","start":714,"end":721,"object":{"type":"Identifier","start":714,"end":718,"name":"file"},"property":{"type":"Identifier","start":719,"end":721,"name":"id"},"computed":false},"computed":true},"right":{"type":"MemberExpression","start":725,"end":734,"object":{"type":"Identifier","start":725,"end":729,"name":"file"},"property":{"type":"Identifier","start":730,"end":734,"name":"data"},"computed":false}}},{"type":"ExpressionStatement","start":738,"end":805,"expression":{"type":"CallExpression","start":738,"end":804,"callee":{"type":"MemberExpression","start":738,"end":749,"object":{"type":"Identifier","start":738,"end":745,"name":"console"},"property":{"type":"Identifier","start":746,"end":749,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":750,"end":792,"value":"Added file blob to service worker cache:","raw":"'Added file blob to service worker cache:'"},{"type":"MemberExpression","start":794,"end":803,"object":{"type":"Identifier","start":794,"end":798,"name":"file"},"property":{"type":"Identifier","start":799,"end":803,"name":"data"},"computed":false}]}}]}},{"type":"FunctionDeclaration","start":809,"end":952,"id":{"type":"Identifier","start":818,"end":828,"name":"removeFile"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":829,"end":834,"name":"store"},{"type":"Identifier","start":836,"end":842,"name":"fileID"}],"body":{"type":"BlockStatement","start":844,"end":952,"body":[{"type":"ExpressionStatement","start":848,"end":879,"expression":{"type":"UnaryExpression","start":848,"end":878,"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":855,"end":878,"object":{"type":"CallExpression","start":855,"end":870,"callee":{"type":"Identifier","start":855,"end":863,"name":"getCache"},"arguments":[{"type":"Identifier","start":864,"end":869,"name":"store"}]},"property":{"type":"Identifier","start":871,"end":877,"name":"fileID"},"computed":true}}},{"type":"ExpressionStatement","start":882,"end":950,"expression":{"type":"CallExpression","start":882,"end":949,"callee":{"type":"MemberExpression","start":882,"end":893,"object":{"type":"Identifier","start":882,"end":889,"name":"console"},"property":{"type":"Identifier","start":890,"end":893,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":894,"end":940,"value":"Removed file blob from service worker cache:","raw":"'Removed file blob from service worker cache:'"},{"type":"Identifier","start":942,"end":948,"name":"fileID"}]}}]}},{"type":"FunctionDeclaration","start":954,"end":1089,"id":{"type":"Identifier","start":963,"end":971,"name":"getFiles"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":972,"end":977,"name":"store"}],"body":{"type":"BlockStatement","start":979,"end":1089,"body":[{"type":"ExpressionStatement","start":983,"end":1087,"expression":{"type":"CallExpression","start":983,"end":1086,"callee":{"type":"Identifier","start":983,"end":1006,"name":"sendMessageToAllClients"},"arguments":[{"type":"ObjectExpression","start":1007,"end":1085,"properties":[{"type":"Property","start":1013,"end":1035,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1013,"end":1017,"name":"type"},"value":{"type":"Literal","start":1019,"end":1035,"value":"uppy/ALL_FILES","raw":"'uppy/ALL_FILES'"},"kind":"init"},{"type":"Property","start":1041,"end":1053,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1041,"end":1046,"name":"store"},"value":{"type":"Identifier","start":1048,"end":1053,"name":"store"},"kind":"init"},{"type":"Property","start":1059,"end":1081,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1059,"end":1064,"name":"files"},"value":{"type":"CallExpression","start":1066,"end":1081,"callee":{"type":"Identifier","start":1066,"end":1074,"name":"getCache"},"arguments":[{"type":"Identifier","start":1075,"end":1080,"name":"store"}]},"kind":"init"}]}]}}]}},{"type":"ExpressionStatement","start":1091,"end":1441,"expression":{"type":"CallExpression","start":1091,"end":1440,"callee":{"type":"MemberExpression","start":1091,"end":1112,"object":{"type":"Identifier","start":1091,"end":1095,"name":"self"},"property":{"type":"Identifier","start":1096,"end":1112,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":1113,"end":1122,"value":"message","raw":"'message'"},{"type":"FunctionExpression","start":1124,"end":1439,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1134,"end":1139,"name":"event"}],"body":{"type":"BlockStatement","start":1141,"end":1439,"body":[{"type":"SwitchStatement","start":1145,"end":1437,"discriminant":{"type":"MemberExpression","start":1153,"end":1168,"object":{"type":"MemberExpression","start":1153,"end":1163,"object":{"type":"Identifier","start":1153,"end":1158,"name":"event"},"property":{"type":"Identifier","start":1159,"end":1163,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1164,"end":1168,"name":"type"},"computed":false},"cases":[{"type":"SwitchCase","start":1176,"end":1260,"consequent":[{"type":"ExpressionStatement","start":1204,"end":1247,"expression":{"type":"CallExpression","start":1204,"end":1246,"callee":{"type":"Identifier","start":1204,"end":1211,"name":"addFile"},"arguments":[{"type":"MemberExpression","start":1212,"end":1228,"object":{"type":"MemberExpression","start":1212,"end":1222,"object":{"type":"Identifier","start":1212,"end":1217,"name":"event"},"property":{"type":"Identifier","start":1218,"end":1222,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1223,"end":1228,"name":"store"},"computed":false},{"type":"MemberExpression","start":1230,"end":1245,"object":{"type":"MemberExpression","start":1230,"end":1240,"object":{"type":"Identifier","start":1230,"end":1235,"name":"event"},"property":{"type":"Identifier","start":1236,"end":1240,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1241,"end":1245,"name":"file"},"computed":false}]}},{"type":"BreakStatement","start":1254,"end":1260,"label":null}],"test":{"type":"Literal","start":1181,"end":1196,"value":"uppy/ADD_FILE","raw":"'uppy/ADD_FILE'"}},{"type":"SwitchCase","start":1266,"end":1358,"consequent":[{"type":"ExpressionStatement","start":1297,"end":1345,"expression":{"type":"CallExpression","start":1297,"end":1344,"callee":{"type":"Identifier","start":1297,"end":1307,"name":"removeFile"},"arguments":[{"type":"MemberExpression","start":1308,"end":1324,"object":{"type":"MemberExpression","start":1308,"end":1318,"object":{"type":"Identifier","start":1308,"end":1313,"name":"event"},"property":{"type":"Identifier","start":1314,"end":1318,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1319,"end":1324,"name":"store"},"computed":false},{"type":"MemberExpression","start":1326,"end":1343,"object":{"type":"MemberExpression","start":1326,"end":1336,"object":{"type":"Identifier","start":1326,"end":1331,"name":"event"},"property":{"type":"Identifier","start":1332,"end":1336,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1337,"end":1343,"name":"fileID"},"computed":false}]}},{"type":"BreakStatement","start":1352,"end":1358,"label":null}],"test":{"type":"Literal","start":1271,"end":1289,"value":"uppy/REMOVE_FILE","raw":"'uppy/REMOVE_FILE'"}},{"type":"SwitchCase","start":1364,"end":1433,"consequent":[{"type":"ExpressionStatement","start":1393,"end":1420,"expression":{"type":"CallExpression","start":1393,"end":1419,"callee":{"type":"Identifier","start":1393,"end":1401,"name":"getFiles"},"arguments":[{"type":"MemberExpression","start":1402,"end":1418,"object":{"type":"MemberExpression","start":1402,"end":1412,"object":{"type":"Identifier","start":1402,"end":1407,"name":"event"},"property":{"type":"Identifier","start":1408,"end":1412,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1413,"end":1418,"name":"store"},"computed":false}]}},{"type":"BreakStatement","start":1427,"end":1433,"label":null}],"test":{"type":"Literal","start":1369,"end":1385,"value":"uppy/GET_FILES","raw":"'uppy/GET_FILES'"}}]}]}}]}}],"sourceType":"script"}