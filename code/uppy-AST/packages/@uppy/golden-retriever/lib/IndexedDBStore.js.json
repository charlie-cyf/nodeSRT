{"type":"Program","start":0,"end":7546,"loc":{"start":{"line":1,"column":0},"end":{"line":271,"column":32}},"body":[{"type":"FunctionDeclaration","start":0,"end":317,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":317}},"id":{"type":"Identifier","start":9,"end":17,"loc":{"start":{"line":1,"column":9},"end":{"line":1,"column":17}},"name":"_extends"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":20,"end":317,"loc":{"start":{"line":1,"column":20},"end":{"line":1,"column":317}},"body":[{"type":"ExpressionStatement","start":22,"end":275,"loc":{"start":{"line":1,"column":22},"end":{"line":1,"column":275}},"expression":{"type":"AssignmentExpression","start":22,"end":274,"loc":{"start":{"line":1,"column":22},"end":{"line":1,"column":274}},"operator":"=","left":{"type":"Identifier","start":22,"end":30,"loc":{"start":{"line":1,"column":22},"end":{"line":1,"column":30}},"name":"_extends"},"right":{"type":"LogicalExpression","start":33,"end":274,"loc":{"start":{"line":1,"column":33},"end":{"line":1,"column":274}},"left":{"type":"MemberExpression","start":33,"end":46,"loc":{"start":{"line":1,"column":33},"end":{"line":1,"column":46}},"object":{"type":"Identifier","start":33,"end":39,"loc":{"start":{"line":1,"column":33},"end":{"line":1,"column":39}},"name":"Object"},"property":{"type":"Identifier","start":40,"end":46,"loc":{"start":{"line":1,"column":40},"end":{"line":1,"column":46}},"name":"assign"},"computed":false},"operator":"||","right":{"type":"FunctionExpression","start":50,"end":274,"loc":{"start":{"line":1,"column":50},"end":{"line":1,"column":274}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":60,"end":66,"loc":{"start":{"line":1,"column":60},"end":{"line":1,"column":66}},"name":"target"}],"body":{"type":"BlockStatement","start":68,"end":274,"loc":{"start":{"line":1,"column":68},"end":{"line":1,"column":274}},"body":[{"type":"ForStatement","start":70,"end":257,"loc":{"start":{"line":1,"column":70},"end":{"line":1,"column":257}},"init":{"type":"VariableDeclaration","start":75,"end":84,"loc":{"start":{"line":1,"column":75},"end":{"line":1,"column":84}},"declarations":[{"type":"VariableDeclarator","start":79,"end":84,"loc":{"start":{"line":1,"column":79},"end":{"line":1,"column":84}},"id":{"type":"Identifier","start":79,"end":80,"loc":{"start":{"line":1,"column":79},"end":{"line":1,"column":80}},"name":"i"},"init":{"type":"Literal","start":83,"end":84,"loc":{"start":{"line":1,"column":83},"end":{"line":1,"column":84}},"value":1,"raw":"1"}}],"kind":"var"},"test":{"type":"BinaryExpression","start":86,"end":106,"loc":{"start":{"line":1,"column":86},"end":{"line":1,"column":106}},"left":{"type":"Identifier","start":86,"end":87,"loc":{"start":{"line":1,"column":86},"end":{"line":1,"column":87}},"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":90,"end":106,"loc":{"start":{"line":1,"column":90},"end":{"line":1,"column":106}},"object":{"type":"Identifier","start":90,"end":99,"loc":{"start":{"line":1,"column":90},"end":{"line":1,"column":99}},"name":"arguments"},"property":{"type":"Identifier","start":100,"end":106,"loc":{"start":{"line":1,"column":100},"end":{"line":1,"column":106}},"name":"length"},"computed":false}},"update":{"type":"UpdateExpression","start":108,"end":111,"loc":{"start":{"line":1,"column":108},"end":{"line":1,"column":111}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":108,"end":109,"loc":{"start":{"line":1,"column":108},"end":{"line":1,"column":109}},"name":"i"}},"body":{"type":"BlockStatement","start":113,"end":257,"loc":{"start":{"line":1,"column":113},"end":{"line":1,"column":257}},"body":[{"type":"VariableDeclaration","start":115,"end":141,"loc":{"start":{"line":1,"column":115},"end":{"line":1,"column":141}},"declarations":[{"type":"VariableDeclarator","start":119,"end":140,"loc":{"start":{"line":1,"column":119},"end":{"line":1,"column":140}},"id":{"type":"Identifier","start":119,"end":125,"loc":{"start":{"line":1,"column":119},"end":{"line":1,"column":125}},"name":"source"},"init":{"type":"MemberExpression","start":128,"end":140,"loc":{"start":{"line":1,"column":128},"end":{"line":1,"column":140}},"object":{"type":"Identifier","start":128,"end":137,"loc":{"start":{"line":1,"column":128},"end":{"line":1,"column":137}},"name":"arguments"},"property":{"type":"Identifier","start":138,"end":139,"loc":{"start":{"line":1,"column":138},"end":{"line":1,"column":139}},"name":"i"},"computed":true}}],"kind":"var"},{"type":"ForInStatement","start":142,"end":255,"loc":{"start":{"line":1,"column":142},"end":{"line":1,"column":255}},"left":{"type":"VariableDeclaration","start":147,"end":154,"loc":{"start":{"line":1,"column":147},"end":{"line":1,"column":154}},"declarations":[{"type":"VariableDeclarator","start":151,"end":154,"loc":{"start":{"line":1,"column":151},"end":{"line":1,"column":154}},"id":{"type":"Identifier","start":151,"end":154,"loc":{"start":{"line":1,"column":151},"end":{"line":1,"column":154}},"name":"key"},"init":null}],"kind":"var"},"right":{"type":"Identifier","start":158,"end":164,"loc":{"start":{"line":1,"column":158},"end":{"line":1,"column":164}},"name":"source"},"body":{"type":"BlockStatement","start":166,"end":255,"loc":{"start":{"line":1,"column":166},"end":{"line":1,"column":255}},"body":[{"type":"IfStatement","start":168,"end":253,"loc":{"start":{"line":1,"column":168},"end":{"line":1,"column":253}},"test":{"type":"CallExpression","start":172,"end":221,"loc":{"start":{"line":1,"column":172},"end":{"line":1,"column":221}},"callee":{"type":"MemberExpression","start":172,"end":208,"loc":{"start":{"line":1,"column":172},"end":{"line":1,"column":208}},"object":{"type":"MemberExpression","start":172,"end":203,"loc":{"start":{"line":1,"column":172},"end":{"line":1,"column":203}},"object":{"type":"MemberExpression","start":172,"end":188,"loc":{"start":{"line":1,"column":172},"end":{"line":1,"column":188}},"object":{"type":"Identifier","start":172,"end":178,"loc":{"start":{"line":1,"column":172},"end":{"line":1,"column":178}},"name":"Object"},"property":{"type":"Identifier","start":179,"end":188,"loc":{"start":{"line":1,"column":179},"end":{"line":1,"column":188}},"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":189,"end":203,"loc":{"start":{"line":1,"column":189},"end":{"line":1,"column":203}},"name":"hasOwnProperty"},"computed":false},"property":{"type":"Identifier","start":204,"end":208,"loc":{"start":{"line":1,"column":204},"end":{"line":1,"column":208}},"name":"call"},"computed":false},"arguments":[{"type":"Identifier","start":209,"end":215,"loc":{"start":{"line":1,"column":209},"end":{"line":1,"column":215}},"name":"source"},{"type":"Identifier","start":217,"end":220,"loc":{"start":{"line":1,"column":217},"end":{"line":1,"column":220}},"name":"key"}]},"consequent":{"type":"BlockStatement","start":223,"end":253,"loc":{"start":{"line":1,"column":223},"end":{"line":1,"column":253}},"body":[{"type":"ExpressionStatement","start":225,"end":251,"loc":{"start":{"line":1,"column":225},"end":{"line":1,"column":251}},"expression":{"type":"AssignmentExpression","start":225,"end":250,"loc":{"start":{"line":1,"column":225},"end":{"line":1,"column":250}},"operator":"=","left":{"type":"MemberExpression","start":225,"end":236,"loc":{"start":{"line":1,"column":225},"end":{"line":1,"column":236}},"object":{"type":"Identifier","start":225,"end":231,"loc":{"start":{"line":1,"column":225},"end":{"line":1,"column":231}},"name":"target"},"property":{"type":"Identifier","start":232,"end":235,"loc":{"start":{"line":1,"column":232},"end":{"line":1,"column":235}},"name":"key"},"computed":true},"right":{"type":"MemberExpression","start":239,"end":250,"loc":{"start":{"line":1,"column":239},"end":{"line":1,"column":250}},"object":{"type":"Identifier","start":239,"end":245,"loc":{"start":{"line":1,"column":239},"end":{"line":1,"column":245}},"name":"source"},"property":{"type":"Identifier","start":246,"end":249,"loc":{"start":{"line":1,"column":246},"end":{"line":1,"column":249}},"name":"key"},"computed":true}}}]},"alternate":null}]}}]}},{"type":"ReturnStatement","start":258,"end":272,"loc":{"start":{"line":1,"column":258},"end":{"line":1,"column":272}},"argument":{"type":"Identifier","start":265,"end":271,"loc":{"start":{"line":1,"column":265},"end":{"line":1,"column":271}},"name":"target"}}]}}}}},{"type":"ReturnStatement","start":276,"end":315,"loc":{"start":{"line":1,"column":276},"end":{"line":1,"column":315}},"argument":{"type":"CallExpression","start":283,"end":314,"loc":{"start":{"line":1,"column":283},"end":{"line":1,"column":314}},"callee":{"type":"MemberExpression","start":283,"end":297,"loc":{"start":{"line":1,"column":283},"end":{"line":1,"column":297}},"object":{"type":"Identifier","start":283,"end":291,"loc":{"start":{"line":1,"column":283},"end":{"line":1,"column":291}},"name":"_extends"},"property":{"type":"Identifier","start":292,"end":297,"loc":{"start":{"line":1,"column":292},"end":{"line":1,"column":297}},"name":"apply"},"computed":false},"arguments":[{"type":"ThisExpression","start":298,"end":302,"loc":{"start":{"line":1,"column":298},"end":{"line":1,"column":302}}},{"type":"Identifier","start":304,"end":313,"loc":{"start":{"line":1,"column":304},"end":{"line":1,"column":313}},"name":"arguments"}]}}]}},{"type":"VariableDeclaration","start":319,"end":378,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":59}},"declarations":[{"type":"VariableDeclarator","start":323,"end":377,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":58}},"id":{"type":"Identifier","start":323,"end":336,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":17}},"name":"prettierBytes"},"init":{"type":"CallExpression","start":339,"end":377,"loc":{"start":{"line":3,"column":20},"end":{"line":3,"column":58}},"callee":{"type":"Identifier","start":339,"end":346,"loc":{"start":{"line":3,"column":20},"end":{"line":3,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":347,"end":376,"loc":{"start":{"line":3,"column":28},"end":{"line":3,"column":57}},"value":"@transloadit/prettier-bytes","raw":"'@transloadit/prettier-bytes'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":380,"end":540,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":160}},"declarations":[{"type":"VariableDeclarator","start":384,"end":539,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":159}},"id":{"type":"Identifier","start":384,"end":393,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":13}},"name":"indexedDB"},"init":{"type":"LogicalExpression","start":396,"end":539,"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":159}},"left":{"type":"BinaryExpression","start":396,"end":425,"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":45}},"left":{"type":"UnaryExpression","start":396,"end":409,"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":29}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":403,"end":409,"loc":{"start":{"line":5,"column":23},"end":{"line":5,"column":29}},"name":"window"}},"operator":"!==","right":{"type":"Literal","start":414,"end":425,"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":45}},"value":"undefined","raw":"'undefined'"}},"operator":"&&","right":{"type":"LogicalExpression","start":430,"end":538,"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":158}},"left":{"type":"LogicalExpression","start":430,"end":516,"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":136}},"left":{"type":"LogicalExpression","start":430,"end":495,"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":115}},"left":{"type":"LogicalExpression","start":430,"end":472,"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":92}},"left":{"type":"MemberExpression","start":430,"end":446,"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":66}},"object":{"type":"Identifier","start":430,"end":436,"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":56}},"name":"window"},"property":{"type":"Identifier","start":437,"end":446,"loc":{"start":{"line":5,"column":57},"end":{"line":5,"column":66}},"name":"indexedDB"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":450,"end":472,"loc":{"start":{"line":5,"column":70},"end":{"line":5,"column":92}},"object":{"type":"Identifier","start":450,"end":456,"loc":{"start":{"line":5,"column":70},"end":{"line":5,"column":76}},"name":"window"},"property":{"type":"Identifier","start":457,"end":472,"loc":{"start":{"line":5,"column":77},"end":{"line":5,"column":92}},"name":"webkitIndexedDB"},"computed":false}},"operator":"||","right":{"type":"MemberExpression","start":476,"end":495,"loc":{"start":{"line":5,"column":96},"end":{"line":5,"column":115}},"object":{"type":"Identifier","start":476,"end":482,"loc":{"start":{"line":5,"column":96},"end":{"line":5,"column":102}},"name":"window"},"property":{"type":"Identifier","start":483,"end":495,"loc":{"start":{"line":5,"column":103},"end":{"line":5,"column":115}},"name":"mozIndexedDB"},"computed":false}},"operator":"||","right":{"type":"MemberExpression","start":499,"end":516,"loc":{"start":{"line":5,"column":119},"end":{"line":5,"column":136}},"object":{"type":"Identifier","start":499,"end":505,"loc":{"start":{"line":5,"column":119},"end":{"line":5,"column":125}},"name":"window"},"property":{"type":"Identifier","start":506,"end":516,"loc":{"start":{"line":5,"column":126},"end":{"line":5,"column":136}},"name":"OIndexedDB"},"computed":false}},"operator":"||","right":{"type":"MemberExpression","start":520,"end":538,"loc":{"start":{"line":5,"column":140},"end":{"line":5,"column":158}},"object":{"type":"Identifier","start":520,"end":526,"loc":{"start":{"line":5,"column":140},"end":{"line":5,"column":146}},"name":"window"},"property":{"type":"Identifier","start":527,"end":538,"loc":{"start":{"line":5,"column":147},"end":{"line":5,"column":158}},"name":"msIndexedDB"},"computed":false}}}}],"kind":"var"},{"type":"VariableDeclaration","start":541,"end":571,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"declarations":[{"type":"VariableDeclarator","start":545,"end":570,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":29}},"id":{"type":"Identifier","start":545,"end":556,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":15}},"name":"isSupported"},"init":{"type":"UnaryExpression","start":559,"end":570,"loc":{"start":{"line":6,"column":18},"end":{"line":6,"column":29}},"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":560,"end":570,"loc":{"start":{"line":6,"column":19},"end":{"line":6,"column":29}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":561,"end":570,"loc":{"start":{"line":6,"column":20},"end":{"line":6,"column":29}},"name":"indexedDB"}}}}],"kind":"var"},{"type":"VariableDeclaration","start":572,"end":599,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":27}},"declarations":[{"type":"VariableDeclarator","start":576,"end":598,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":26}},"id":{"type":"Identifier","start":576,"end":583,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":11}},"name":"DB_NAME"},"init":{"type":"Literal","start":586,"end":598,"loc":{"start":{"line":7,"column":14},"end":{"line":7,"column":26}},"value":"uppy-blobs","raw":"'uppy-blobs'"}}],"kind":"var"},{"type":"VariableDeclaration","start":600,"end":625,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":25}},"declarations":[{"type":"VariableDeclarator","start":604,"end":624,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":24}},"id":{"type":"Identifier","start":604,"end":614,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":14}},"name":"STORE_NAME"},"init":{"type":"Literal","start":617,"end":624,"loc":{"start":{"line":8,"column":17},"end":{"line":8,"column":24}},"value":"files","raw":"'files'"}}],"kind":"var","comments":[{"type":"Line","value":" maybe have a thumbnail store in the future","start":626,"end":671,"loc":{"start":{"line":8,"column":26},"end":{"line":8,"column":71}}}]},{"type":"VariableDeclaration","start":673,"end":714,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":41}},"declarations":[{"type":"VariableDeclarator","start":677,"end":713,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":40}},"id":{"type":"Identifier","start":677,"end":691,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":18}},"name":"DEFAULT_EXPIRY"},"init":{"type":"BinaryExpression","start":694,"end":713,"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":40}},"left":{"type":"BinaryExpression","start":694,"end":706,"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":33}},"left":{"type":"BinaryExpression","start":694,"end":701,"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":28}},"left":{"type":"Literal","start":694,"end":696,"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":23}},"value":24,"raw":"24"},"operator":"*","right":{"type":"Literal","start":699,"end":701,"loc":{"start":{"line":10,"column":26},"end":{"line":10,"column":28}},"value":60,"raw":"60"}},"operator":"*","right":{"type":"Literal","start":704,"end":706,"loc":{"start":{"line":10,"column":31},"end":{"line":10,"column":33}},"value":60,"raw":"60"}},"operator":"*","right":{"type":"Literal","start":709,"end":713,"loc":{"start":{"line":10,"column":36},"end":{"line":10,"column":40}},"value":1000,"raw":"1000"}}}],"kind":"var","comments":[{"type":"Line","value":" 24 hours","start":715,"end":726,"loc":{"start":{"line":10,"column":42},"end":{"line":10,"column":53}}}]},{"type":"VariableDeclaration","start":728,"end":747,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":19}},"declarations":[{"type":"VariableDeclarator","start":732,"end":746,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":18}},"id":{"type":"Identifier","start":732,"end":742,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":14}},"name":"DB_VERSION"},"init":{"type":"Literal","start":745,"end":746,"loc":{"start":{"line":12,"column":17},"end":{"line":12,"column":18}},"value":3,"raw":"3"}}],"kind":"var","comments":[{"type":"Line","value":" Set default `expires` dates on existing stored blobs.","start":748,"end":804,"loc":{"start":{"line":12,"column":20},"end":{"line":12,"column":76}}}]},{"type":"FunctionDeclaration","start":806,"end":1110,"loc":{"start":{"line":14,"column":0},"end":{"line":28,"column":1}},"id":{"type":"Identifier","start":815,"end":832,"loc":{"start":{"line":14,"column":9},"end":{"line":14,"column":26}},"name":"migrateExpiration"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":833,"end":838,"loc":{"start":{"line":14,"column":27},"end":{"line":14,"column":32}},"name":"store"}],"body":{"type":"BlockStatement","start":840,"end":1110,"loc":{"start":{"line":14,"column":34},"end":{"line":28,"column":1}},"body":[{"type":"VariableDeclaration","start":844,"end":877,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":35}},"declarations":[{"type":"VariableDeclarator","start":848,"end":876,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":34}},"id":{"type":"Identifier","start":848,"end":855,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":13}},"name":"request"},"init":{"type":"CallExpression","start":858,"end":876,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":34}},"callee":{"type":"MemberExpression","start":858,"end":874,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":32}},"object":{"type":"Identifier","start":858,"end":863,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":21}},"name":"store"},"property":{"type":"Identifier","start":864,"end":874,"loc":{"start":{"line":15,"column":22},"end":{"line":15,"column":32}},"name":"openCursor"},"computed":false},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","start":881,"end":1108,"loc":{"start":{"line":17,"column":2},"end":{"line":27,"column":4}},"expression":{"type":"AssignmentExpression","start":881,"end":1107,"loc":{"start":{"line":17,"column":2},"end":{"line":27,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":881,"end":898,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":19}},"object":{"type":"Identifier","start":881,"end":888,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":9}},"name":"request"},"property":{"type":"Identifier","start":889,"end":898,"loc":{"start":{"line":17,"column":10},"end":{"line":17,"column":19}},"name":"onsuccess"},"computed":false},"right":{"type":"FunctionExpression","start":901,"end":1107,"loc":{"start":{"line":17,"column":22},"end":{"line":27,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":911,"end":916,"loc":{"start":{"line":17,"column":32},"end":{"line":17,"column":37}},"name":"event"}],"body":{"type":"BlockStatement","start":918,"end":1107,"loc":{"start":{"line":17,"column":39},"end":{"line":27,"column":3}},"body":[{"type":"VariableDeclaration","start":924,"end":957,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":37}},"declarations":[{"type":"VariableDeclarator","start":928,"end":956,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":36}},"id":{"type":"Identifier","start":928,"end":934,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":14}},"name":"cursor"},"init":{"type":"MemberExpression","start":937,"end":956,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":36}},"object":{"type":"MemberExpression","start":937,"end":949,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":29}},"object":{"type":"Identifier","start":937,"end":942,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":22}},"name":"event"},"property":{"type":"Identifier","start":943,"end":949,"loc":{"start":{"line":18,"column":23},"end":{"line":18,"column":29}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":950,"end":956,"loc":{"start":{"line":18,"column":30},"end":{"line":18,"column":36}},"name":"result"},"computed":false}}],"kind":"var"},{"type":"IfStatement","start":963,"end":997,"loc":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"test":{"type":"UnaryExpression","start":967,"end":974,"loc":{"start":{"line":20,"column":8},"end":{"line":20,"column":15}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":968,"end":974,"loc":{"start":{"line":20,"column":9},"end":{"line":20,"column":15}},"name":"cursor"}},"consequent":{"type":"BlockStatement","start":976,"end":997,"loc":{"start":{"line":20,"column":17},"end":{"line":22,"column":5}},"body":[{"type":"ReturnStatement","start":984,"end":991,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":13}},"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":1003,"end":1028,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":29}},"declarations":[{"type":"VariableDeclarator","start":1007,"end":1027,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":28}},"id":{"type":"Identifier","start":1007,"end":1012,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":13}},"name":"entry"},"init":{"type":"MemberExpression","start":1015,"end":1027,"loc":{"start":{"line":24,"column":16},"end":{"line":24,"column":28}},"object":{"type":"Identifier","start":1015,"end":1021,"loc":{"start":{"line":24,"column":16},"end":{"line":24,"column":22}},"name":"cursor"},"property":{"type":"Identifier","start":1022,"end":1027,"loc":{"start":{"line":24,"column":23},"end":{"line":24,"column":28}},"name":"value"},"computed":false}}],"kind":"var"},{"type":"ExpressionStatement","start":1033,"end":1077,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":48}},"expression":{"type":"AssignmentExpression","start":1033,"end":1076,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":47}},"operator":"=","left":{"type":"MemberExpression","start":1033,"end":1046,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":17}},"object":{"type":"Identifier","start":1033,"end":1038,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":9}},"name":"entry"},"property":{"type":"Identifier","start":1039,"end":1046,"loc":{"start":{"line":25,"column":10},"end":{"line":25,"column":17}},"name":"expires"},"computed":false},"right":{"type":"BinaryExpression","start":1049,"end":1076,"loc":{"start":{"line":25,"column":20},"end":{"line":25,"column":47}},"left":{"type":"CallExpression","start":1049,"end":1059,"loc":{"start":{"line":25,"column":20},"end":{"line":25,"column":30}},"callee":{"type":"MemberExpression","start":1049,"end":1057,"loc":{"start":{"line":25,"column":20},"end":{"line":25,"column":28}},"object":{"type":"Identifier","start":1049,"end":1053,"loc":{"start":{"line":25,"column":20},"end":{"line":25,"column":24}},"name":"Date"},"property":{"type":"Identifier","start":1054,"end":1057,"loc":{"start":{"line":25,"column":25},"end":{"line":25,"column":28}},"name":"now"},"computed":false},"arguments":[]},"operator":"+","right":{"type":"Identifier","start":1062,"end":1076,"loc":{"start":{"line":25,"column":33},"end":{"line":25,"column":47}},"name":"DEFAULT_EXPIRY"}}}},{"type":"ExpressionStatement","start":1082,"end":1103,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":25}},"expression":{"type":"CallExpression","start":1082,"end":1102,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":24}},"callee":{"type":"MemberExpression","start":1082,"end":1095,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":17}},"object":{"type":"Identifier","start":1082,"end":1088,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":10}},"name":"cursor"},"property":{"type":"Identifier","start":1089,"end":1095,"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":17}},"name":"update"},"computed":false},"arguments":[{"type":"Identifier","start":1096,"end":1101,"loc":{"start":{"line":26,"column":18},"end":{"line":26,"column":23}},"name":"entry"}]}}]}}}}]}},{"type":"FunctionDeclaration","start":1112,"end":2132,"loc":{"start":{"line":30,"column":0},"end":{"line":69,"column":1}},"id":{"type":"Identifier","start":1121,"end":1128,"loc":{"start":{"line":30,"column":9},"end":{"line":30,"column":16}},"name":"connect"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1129,"end":1135,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":23}},"name":"dbName"}],"body":{"type":"BlockStatement","start":1137,"end":2132,"loc":{"start":{"line":30,"column":25},"end":{"line":69,"column":1}},"body":[{"type":"VariableDeclaration","start":1141,"end":1190,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":51}},"declarations":[{"type":"VariableDeclarator","start":1145,"end":1189,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":50}},"id":{"type":"Identifier","start":1145,"end":1152,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":13}},"name":"request"},"init":{"type":"CallExpression","start":1155,"end":1189,"loc":{"start":{"line":31,"column":16},"end":{"line":31,"column":50}},"callee":{"type":"MemberExpression","start":1155,"end":1169,"loc":{"start":{"line":31,"column":16},"end":{"line":31,"column":30}},"object":{"type":"Identifier","start":1155,"end":1164,"loc":{"start":{"line":31,"column":16},"end":{"line":31,"column":25}},"name":"indexedDB"},"property":{"type":"Identifier","start":1165,"end":1169,"loc":{"start":{"line":31,"column":26},"end":{"line":31,"column":30}},"name":"open"},"computed":false},"arguments":[{"type":"Identifier","start":1170,"end":1176,"loc":{"start":{"line":31,"column":31},"end":{"line":31,"column":37}},"name":"dbName"},{"type":"Identifier","start":1178,"end":1188,"loc":{"start":{"line":31,"column":39},"end":{"line":31,"column":49}},"name":"DB_VERSION"}]}}],"kind":"var"},{"type":"ReturnStatement","start":1193,"end":2130,"loc":{"start":{"line":32,"column":2},"end":{"line":68,"column":5}},"argument":{"type":"NewExpression","start":1200,"end":2129,"loc":{"start":{"line":32,"column":9},"end":{"line":68,"column":4}},"callee":{"type":"Identifier","start":1204,"end":1211,"loc":{"start":{"line":32,"column":13},"end":{"line":32,"column":20}},"name":"Promise"},"arguments":[{"type":"FunctionExpression","start":1212,"end":2128,"loc":{"start":{"line":32,"column":21},"end":{"line":68,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1222,"end":1229,"loc":{"start":{"line":32,"column":31},"end":{"line":32,"column":38}},"name":"resolve"},{"type":"Identifier","start":1231,"end":1237,"loc":{"start":{"line":32,"column":40},"end":{"line":32,"column":46}},"name":"reject"}],"body":{"type":"BlockStatement","start":1239,"end":2128,"loc":{"start":{"line":32,"column":48},"end":{"line":68,"column":3}},"body":[{"type":"ExpressionStatement","start":1245,"end":2006,"loc":{"start":{"line":33,"column":4},"end":{"line":61,"column":6}},"expression":{"type":"AssignmentExpression","start":1245,"end":2005,"loc":{"start":{"line":33,"column":4},"end":{"line":61,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":1245,"end":1268,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":27}},"object":{"type":"Identifier","start":1245,"end":1252,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":11}},"name":"request"},"property":{"type":"Identifier","start":1253,"end":1268,"loc":{"start":{"line":33,"column":12},"end":{"line":33,"column":27}},"name":"onupgradeneeded"},"computed":false},"right":{"type":"FunctionExpression","start":1271,"end":2005,"loc":{"start":{"line":33,"column":30},"end":{"line":61,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1281,"end":1286,"loc":{"start":{"line":33,"column":40},"end":{"line":33,"column":45}},"name":"event"}],"body":{"type":"BlockStatement","start":1288,"end":2005,"loc":{"start":{"line":33,"column":47},"end":{"line":61,"column":5}},"body":[{"type":"VariableDeclaration","start":1296,"end":1325,"loc":{"start":{"line":34,"column":6},"end":{"line":34,"column":35}},"declarations":[{"type":"VariableDeclarator","start":1300,"end":1324,"loc":{"start":{"line":34,"column":10},"end":{"line":34,"column":34}},"id":{"type":"Identifier","start":1300,"end":1302,"loc":{"start":{"line":34,"column":10},"end":{"line":34,"column":12}},"name":"db"},"init":{"type":"MemberExpression","start":1305,"end":1324,"loc":{"start":{"line":34,"column":15},"end":{"line":34,"column":34}},"object":{"type":"MemberExpression","start":1305,"end":1317,"loc":{"start":{"line":34,"column":15},"end":{"line":34,"column":27}},"object":{"type":"Identifier","start":1305,"end":1310,"loc":{"start":{"line":34,"column":15},"end":{"line":34,"column":20}},"name":"event"},"property":{"type":"Identifier","start":1311,"end":1317,"loc":{"start":{"line":34,"column":21},"end":{"line":34,"column":27}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":1318,"end":1324,"loc":{"start":{"line":34,"column":28},"end":{"line":34,"column":34}},"name":"result"},"computed":false}}],"kind":"var"},{"type":"VariableDeclaration","start":1332,"end":1382,"loc":{"start":{"line":35,"column":6},"end":{"line":35,"column":56}},"declarations":[{"type":"VariableDeclarator","start":1336,"end":1381,"loc":{"start":{"line":35,"column":10},"end":{"line":35,"column":55}},"id":{"type":"Identifier","start":1336,"end":1347,"loc":{"start":{"line":35,"column":10},"end":{"line":35,"column":21}},"name":"transaction"},"init":{"type":"MemberExpression","start":1350,"end":1381,"loc":{"start":{"line":35,"column":24},"end":{"line":35,"column":55}},"object":{"type":"MemberExpression","start":1350,"end":1369,"loc":{"start":{"line":35,"column":24},"end":{"line":35,"column":43}},"object":{"type":"Identifier","start":1350,"end":1355,"loc":{"start":{"line":35,"column":24},"end":{"line":35,"column":29}},"name":"event"},"property":{"type":"Identifier","start":1356,"end":1369,"loc":{"start":{"line":35,"column":30},"end":{"line":35,"column":43}},"name":"currentTarget"},"computed":false},"property":{"type":"Identifier","start":1370,"end":1381,"loc":{"start":{"line":35,"column":44},"end":{"line":35,"column":55}},"name":"transaction"},"computed":false}}],"kind":"var"},{"type":"IfStatement","start":1390,"end":1675,"loc":{"start":{"line":37,"column":6},"end":{"line":45,"column":7}},"test":{"type":"BinaryExpression","start":1394,"end":1414,"loc":{"start":{"line":37,"column":10},"end":{"line":37,"column":30}},"left":{"type":"MemberExpression","start":1394,"end":1410,"loc":{"start":{"line":37,"column":10},"end":{"line":37,"column":26}},"object":{"type":"Identifier","start":1394,"end":1399,"loc":{"start":{"line":37,"column":10},"end":{"line":37,"column":15}},"name":"event"},"property":{"type":"Identifier","start":1400,"end":1410,"loc":{"start":{"line":37,"column":16},"end":{"line":37,"column":26}},"name":"oldVersion"},"computed":false},"operator":"<","right":{"type":"Literal","start":1413,"end":1414,"loc":{"start":{"line":37,"column":29},"end":{"line":37,"column":30}},"value":2,"raw":"2"}},"consequent":{"type":"BlockStatement","start":1416,"end":1675,"loc":{"start":{"line":37,"column":32},"end":{"line":45,"column":7}},"body":[{"type":"VariableDeclaration","start":1503,"end":1585,"loc":{"start":{"line":39,"column":8},"end":{"line":41,"column":11}},"declarations":[{"type":"VariableDeclarator","start":1507,"end":1584,"loc":{"start":{"line":39,"column":12},"end":{"line":41,"column":10}},"id":{"type":"Identifier","start":1507,"end":1512,"loc":{"start":{"line":39,"column":12},"end":{"line":39,"column":17}},"name":"store"},"init":{"type":"CallExpression","start":1515,"end":1584,"loc":{"start":{"line":39,"column":20},"end":{"line":41,"column":10}},"callee":{"type":"MemberExpression","start":1515,"end":1535,"loc":{"start":{"line":39,"column":20},"end":{"line":39,"column":40}},"object":{"type":"Identifier","start":1515,"end":1517,"loc":{"start":{"line":39,"column":20},"end":{"line":39,"column":22}},"name":"db"},"property":{"type":"Identifier","start":1518,"end":1535,"loc":{"start":{"line":39,"column":23},"end":{"line":39,"column":40}},"name":"createObjectStore"},"computed":false},"arguments":[{"type":"Identifier","start":1536,"end":1546,"loc":{"start":{"line":39,"column":41},"end":{"line":39,"column":51}},"name":"STORE_NAME"},{"type":"ObjectExpression","start":1548,"end":1583,"loc":{"start":{"line":39,"column":53},"end":{"line":41,"column":9}},"properties":[{"type":"Property","start":1560,"end":1573,"loc":{"start":{"line":40,"column":10},"end":{"line":40,"column":23}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1560,"end":1567,"loc":{"start":{"line":40,"column":10},"end":{"line":40,"column":17}},"name":"keyPath"},"value":{"type":"Literal","start":1569,"end":1573,"loc":{"start":{"line":40,"column":19},"end":{"line":40,"column":23}},"value":"id","raw":"'id'"},"kind":"init"}]}]}}],"kind":"var","comments":[{"type":"Line","value":" Added in v2: DB structure changed to a single shared object store","start":1426,"end":1494,"loc":{"start":{"line":38,"column":8},"end":{"line":38,"column":76}}}]},{"type":"ExpressionStatement","start":1594,"end":1667,"loc":{"start":{"line":42,"column":8},"end":{"line":44,"column":11}},"expression":{"type":"CallExpression","start":1594,"end":1666,"loc":{"start":{"line":42,"column":8},"end":{"line":44,"column":10}},"callee":{"type":"MemberExpression","start":1594,"end":1611,"loc":{"start":{"line":42,"column":8},"end":{"line":42,"column":25}},"object":{"type":"Identifier","start":1594,"end":1599,"loc":{"start":{"line":42,"column":8},"end":{"line":42,"column":13}},"name":"store"},"property":{"type":"Identifier","start":1600,"end":1611,"loc":{"start":{"line":42,"column":14},"end":{"line":42,"column":25}},"name":"createIndex"},"computed":false},"arguments":[{"type":"Literal","start":1612,"end":1619,"loc":{"start":{"line":42,"column":26},"end":{"line":42,"column":33}},"value":"store","raw":"'store'"},{"type":"Literal","start":1621,"end":1628,"loc":{"start":{"line":42,"column":35},"end":{"line":42,"column":42}},"value":"store","raw":"'store'"},{"type":"ObjectExpression","start":1630,"end":1665,"loc":{"start":{"line":42,"column":44},"end":{"line":44,"column":9}},"properties":[{"type":"Property","start":1642,"end":1655,"loc":{"start":{"line":43,"column":10},"end":{"line":43,"column":23}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1642,"end":1648,"loc":{"start":{"line":43,"column":10},"end":{"line":43,"column":16}},"name":"unique"},"value":{"type":"Literal","start":1650,"end":1655,"loc":{"start":{"line":43,"column":18},"end":{"line":43,"column":23}},"value":false,"raw":"false"},"kind":"init"}]}]}}]},"alternate":null},{"type":"IfStatement","start":1683,"end":1923,"loc":{"start":{"line":47,"column":6},"end":{"line":56,"column":7}},"test":{"type":"BinaryExpression","start":1687,"end":1707,"loc":{"start":{"line":47,"column":10},"end":{"line":47,"column":30}},"left":{"type":"MemberExpression","start":1687,"end":1703,"loc":{"start":{"line":47,"column":10},"end":{"line":47,"column":26}},"object":{"type":"Identifier","start":1687,"end":1692,"loc":{"start":{"line":47,"column":10},"end":{"line":47,"column":15}},"name":"event"},"property":{"type":"Identifier","start":1693,"end":1703,"loc":{"start":{"line":47,"column":16},"end":{"line":47,"column":26}},"name":"oldVersion"},"computed":false},"operator":"<","right":{"type":"Literal","start":1706,"end":1707,"loc":{"start":{"line":47,"column":29},"end":{"line":47,"column":30}},"value":3,"raw":"3"}},"consequent":{"type":"BlockStatement","start":1709,"end":1923,"loc":{"start":{"line":47,"column":32},"end":{"line":56,"column":7}},"body":[{"type":"VariableDeclaration","start":1742,"end":1791,"loc":{"start":{"line":49,"column":8},"end":{"line":49,"column":57}},"declarations":[{"type":"VariableDeclarator","start":1746,"end":1790,"loc":{"start":{"line":49,"column":12},"end":{"line":49,"column":56}},"id":{"type":"Identifier","start":1746,"end":1752,"loc":{"start":{"line":49,"column":12},"end":{"line":49,"column":18}},"name":"_store"},"init":{"type":"CallExpression","start":1755,"end":1790,"loc":{"start":{"line":49,"column":21},"end":{"line":49,"column":56}},"callee":{"type":"MemberExpression","start":1755,"end":1778,"loc":{"start":{"line":49,"column":21},"end":{"line":49,"column":44}},"object":{"type":"Identifier","start":1755,"end":1766,"loc":{"start":{"line":49,"column":21},"end":{"line":49,"column":32}},"name":"transaction"},"property":{"type":"Identifier","start":1767,"end":1778,"loc":{"start":{"line":49,"column":33},"end":{"line":49,"column":44}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":1779,"end":1789,"loc":{"start":{"line":49,"column":45},"end":{"line":49,"column":55}},"name":"STORE_NAME"}]}}],"kind":"var","comments":[{"type":"Line","value":" Added in v3","start":1719,"end":1733,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":22}}}]},{"type":"ExpressionStatement","start":1801,"end":1879,"loc":{"start":{"line":51,"column":8},"end":{"line":53,"column":11}},"expression":{"type":"CallExpression","start":1801,"end":1878,"loc":{"start":{"line":51,"column":8},"end":{"line":53,"column":10}},"callee":{"type":"MemberExpression","start":1801,"end":1819,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":26}},"object":{"type":"Identifier","start":1801,"end":1807,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":14}},"name":"_store"},"property":{"type":"Identifier","start":1808,"end":1819,"loc":{"start":{"line":51,"column":15},"end":{"line":51,"column":26}},"name":"createIndex"},"computed":false},"arguments":[{"type":"Literal","start":1820,"end":1829,"loc":{"start":{"line":51,"column":27},"end":{"line":51,"column":36}},"value":"expires","raw":"'expires'"},{"type":"Literal","start":1831,"end":1840,"loc":{"start":{"line":51,"column":38},"end":{"line":51,"column":47}},"value":"expires","raw":"'expires'"},{"type":"ObjectExpression","start":1842,"end":1877,"loc":{"start":{"line":51,"column":49},"end":{"line":53,"column":9}},"properties":[{"type":"Property","start":1854,"end":1867,"loc":{"start":{"line":52,"column":10},"end":{"line":52,"column":23}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1854,"end":1860,"loc":{"start":{"line":52,"column":10},"end":{"line":52,"column":16}},"name":"unique"},"value":{"type":"Literal","start":1862,"end":1867,"loc":{"start":{"line":52,"column":18},"end":{"line":52,"column":23}},"value":false,"raw":"false"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":1889,"end":1915,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":34}},"expression":{"type":"CallExpression","start":1889,"end":1914,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":33}},"callee":{"type":"Identifier","start":1889,"end":1906,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":25}},"name":"migrateExpiration"},"arguments":[{"type":"Identifier","start":1907,"end":1913,"loc":{"start":{"line":55,"column":26},"end":{"line":55,"column":32}},"name":"_store"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":1931,"end":1999,"loc":{"start":{"line":58,"column":6},"end":{"line":60,"column":8}},"expression":{"type":"AssignmentExpression","start":1931,"end":1998,"loc":{"start":{"line":58,"column":6},"end":{"line":60,"column":7}},"operator":"=","left":{"type":"MemberExpression","start":1931,"end":1953,"loc":{"start":{"line":58,"column":6},"end":{"line":58,"column":28}},"object":{"type":"Identifier","start":1931,"end":1942,"loc":{"start":{"line":58,"column":6},"end":{"line":58,"column":17}},"name":"transaction"},"property":{"type":"Identifier","start":1943,"end":1953,"loc":{"start":{"line":58,"column":18},"end":{"line":58,"column":28}},"name":"oncomplete"},"computed":false},"right":{"type":"FunctionExpression","start":1956,"end":1998,"loc":{"start":{"line":58,"column":31},"end":{"line":60,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1968,"end":1998,"loc":{"start":{"line":58,"column":43},"end":{"line":60,"column":7}},"body":[{"type":"ExpressionStatement","start":1978,"end":1990,"loc":{"start":{"line":59,"column":8},"end":{"line":59,"column":20}},"expression":{"type":"CallExpression","start":1978,"end":1989,"loc":{"start":{"line":59,"column":8},"end":{"line":59,"column":19}},"callee":{"type":"Identifier","start":1978,"end":1985,"loc":{"start":{"line":59,"column":8},"end":{"line":59,"column":15}},"name":"resolve"},"arguments":[{"type":"Identifier","start":1986,"end":1988,"loc":{"start":{"line":59,"column":16},"end":{"line":59,"column":18}},"name":"db"}]}}]}}}}]}}}},{"type":"ExpressionStatement","start":2012,"end":2093,"loc":{"start":{"line":63,"column":4},"end":{"line":65,"column":6}},"expression":{"type":"AssignmentExpression","start":2012,"end":2092,"loc":{"start":{"line":63,"column":4},"end":{"line":65,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":2012,"end":2029,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":21}},"object":{"type":"Identifier","start":2012,"end":2019,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":11}},"name":"request"},"property":{"type":"Identifier","start":2020,"end":2029,"loc":{"start":{"line":63,"column":12},"end":{"line":63,"column":21}},"name":"onsuccess"},"computed":false},"right":{"type":"FunctionExpression","start":2032,"end":2092,"loc":{"start":{"line":63,"column":24},"end":{"line":65,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2042,"end":2047,"loc":{"start":{"line":63,"column":34},"end":{"line":63,"column":39}},"name":"event"}],"body":{"type":"BlockStatement","start":2049,"end":2092,"loc":{"start":{"line":63,"column":41},"end":{"line":65,"column":5}},"body":[{"type":"ExpressionStatement","start":2057,"end":2086,"loc":{"start":{"line":64,"column":6},"end":{"line":64,"column":35}},"expression":{"type":"CallExpression","start":2057,"end":2085,"loc":{"start":{"line":64,"column":6},"end":{"line":64,"column":34}},"callee":{"type":"Identifier","start":2057,"end":2064,"loc":{"start":{"line":64,"column":6},"end":{"line":64,"column":13}},"name":"resolve"},"arguments":[{"type":"MemberExpression","start":2065,"end":2084,"loc":{"start":{"line":64,"column":14},"end":{"line":64,"column":33}},"object":{"type":"MemberExpression","start":2065,"end":2077,"loc":{"start":{"line":64,"column":14},"end":{"line":64,"column":26}},"object":{"type":"Identifier","start":2065,"end":2070,"loc":{"start":{"line":64,"column":14},"end":{"line":64,"column":19}},"name":"event"},"property":{"type":"Identifier","start":2071,"end":2077,"loc":{"start":{"line":64,"column":20},"end":{"line":64,"column":26}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":2078,"end":2084,"loc":{"start":{"line":64,"column":27},"end":{"line":64,"column":33}},"name":"result"},"computed":false}]}}]}}}},{"type":"ExpressionStatement","start":2099,"end":2124,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":29}},"expression":{"type":"AssignmentExpression","start":2099,"end":2123,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":28}},"operator":"=","left":{"type":"MemberExpression","start":2099,"end":2114,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":19}},"object":{"type":"Identifier","start":2099,"end":2106,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":11}},"name":"request"},"property":{"type":"Identifier","start":2107,"end":2114,"loc":{"start":{"line":67,"column":12},"end":{"line":67,"column":19}},"name":"onerror"},"computed":false},"right":{"type":"Identifier","start":2117,"end":2123,"loc":{"start":{"line":67,"column":22},"end":{"line":67,"column":28}},"name":"reject"}}}]}}]}}]}},{"type":"FunctionDeclaration","start":2134,"end":2343,"loc":{"start":{"line":71,"column":0},"end":{"line":79,"column":1}},"id":{"type":"Identifier","start":2143,"end":2157,"loc":{"start":{"line":71,"column":9},"end":{"line":71,"column":23}},"name":"waitForRequest"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2158,"end":2165,"loc":{"start":{"line":71,"column":24},"end":{"line":71,"column":31}},"name":"request"}],"body":{"type":"BlockStatement","start":2167,"end":2343,"loc":{"start":{"line":71,"column":33},"end":{"line":79,"column":1}},"body":[{"type":"ReturnStatement","start":2171,"end":2341,"loc":{"start":{"line":72,"column":2},"end":{"line":78,"column":5}},"argument":{"type":"NewExpression","start":2178,"end":2340,"loc":{"start":{"line":72,"column":9},"end":{"line":78,"column":4}},"callee":{"type":"Identifier","start":2182,"end":2189,"loc":{"start":{"line":72,"column":13},"end":{"line":72,"column":20}},"name":"Promise"},"arguments":[{"type":"FunctionExpression","start":2190,"end":2339,"loc":{"start":{"line":72,"column":21},"end":{"line":78,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2200,"end":2207,"loc":{"start":{"line":72,"column":31},"end":{"line":72,"column":38}},"name":"resolve"},{"type":"Identifier","start":2209,"end":2215,"loc":{"start":{"line":72,"column":40},"end":{"line":72,"column":46}},"name":"reject"}],"body":{"type":"BlockStatement","start":2217,"end":2339,"loc":{"start":{"line":72,"column":48},"end":{"line":78,"column":3}},"body":[{"type":"ExpressionStatement","start":2223,"end":2304,"loc":{"start":{"line":73,"column":4},"end":{"line":75,"column":6}},"expression":{"type":"AssignmentExpression","start":2223,"end":2303,"loc":{"start":{"line":73,"column":4},"end":{"line":75,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":2223,"end":2240,"loc":{"start":{"line":73,"column":4},"end":{"line":73,"column":21}},"object":{"type":"Identifier","start":2223,"end":2230,"loc":{"start":{"line":73,"column":4},"end":{"line":73,"column":11}},"name":"request"},"property":{"type":"Identifier","start":2231,"end":2240,"loc":{"start":{"line":73,"column":12},"end":{"line":73,"column":21}},"name":"onsuccess"},"computed":false},"right":{"type":"FunctionExpression","start":2243,"end":2303,"loc":{"start":{"line":73,"column":24},"end":{"line":75,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2253,"end":2258,"loc":{"start":{"line":73,"column":34},"end":{"line":73,"column":39}},"name":"event"}],"body":{"type":"BlockStatement","start":2260,"end":2303,"loc":{"start":{"line":73,"column":41},"end":{"line":75,"column":5}},"body":[{"type":"ExpressionStatement","start":2268,"end":2297,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":35}},"expression":{"type":"CallExpression","start":2268,"end":2296,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":34}},"callee":{"type":"Identifier","start":2268,"end":2275,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":13}},"name":"resolve"},"arguments":[{"type":"MemberExpression","start":2276,"end":2295,"loc":{"start":{"line":74,"column":14},"end":{"line":74,"column":33}},"object":{"type":"MemberExpression","start":2276,"end":2288,"loc":{"start":{"line":74,"column":14},"end":{"line":74,"column":26}},"object":{"type":"Identifier","start":2276,"end":2281,"loc":{"start":{"line":74,"column":14},"end":{"line":74,"column":19}},"name":"event"},"property":{"type":"Identifier","start":2282,"end":2288,"loc":{"start":{"line":74,"column":20},"end":{"line":74,"column":26}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":2289,"end":2295,"loc":{"start":{"line":74,"column":27},"end":{"line":74,"column":33}},"name":"result"},"computed":false}]}}]}}}},{"type":"ExpressionStatement","start":2310,"end":2335,"loc":{"start":{"line":77,"column":4},"end":{"line":77,"column":29}},"expression":{"type":"AssignmentExpression","start":2310,"end":2334,"loc":{"start":{"line":77,"column":4},"end":{"line":77,"column":28}},"operator":"=","left":{"type":"MemberExpression","start":2310,"end":2325,"loc":{"start":{"line":77,"column":4},"end":{"line":77,"column":19}},"object":{"type":"Identifier","start":2310,"end":2317,"loc":{"start":{"line":77,"column":4},"end":{"line":77,"column":11}},"name":"request"},"property":{"type":"Identifier","start":2318,"end":2325,"loc":{"start":{"line":77,"column":12},"end":{"line":77,"column":19}},"name":"onerror"},"computed":false},"right":{"type":"Identifier","start":2328,"end":2334,"loc":{"start":{"line":77,"column":22},"end":{"line":77,"column":28}},"name":"reject"}}}]}}]}}]}},{"type":"VariableDeclaration","start":2345,"end":2367,"loc":{"start":{"line":81,"column":0},"end":{"line":81,"column":22}},"declarations":[{"type":"VariableDeclarator","start":2349,"end":2366,"loc":{"start":{"line":81,"column":4},"end":{"line":81,"column":21}},"id":{"type":"Identifier","start":2349,"end":2358,"loc":{"start":{"line":81,"column":4},"end":{"line":81,"column":13}},"name":"cleanedUp"},"init":{"type":"Literal","start":2361,"end":2366,"loc":{"start":{"line":81,"column":16},"end":{"line":81,"column":21}},"value":false,"raw":"false"}}],"kind":"var"},{"type":"VariableDeclaration","start":2369,"end":7470,"loc":{"start":{"line":83,"column":0},"end":{"line":268,"column":4}},"declarations":[{"type":"VariableDeclarator","start":2373,"end":7469,"loc":{"start":{"line":83,"column":4},"end":{"line":268,"column":3}},"id":{"type":"Identifier","start":2373,"end":2387,"loc":{"start":{"line":83,"column":4},"end":{"line":83,"column":18}},"name":"IndexedDBStore"},"init":{"type":"CallExpression","start":2403,"end":7469,"loc":{"start":{"line":83,"column":34},"end":{"line":268,"column":3}},"callee":{"type":"FunctionExpression","start":2403,"end":7467,"loc":{"start":{"line":83,"column":34},"end":{"line":268,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2415,"end":7467,"loc":{"start":{"line":83,"column":46},"end":{"line":268,"column":1}},"body":[{"type":"FunctionDeclaration","start":2419,"end":3053,"loc":{"start":{"line":84,"column":2},"end":{"line":109,"column":3}},"id":{"type":"Identifier","start":2428,"end":2442,"loc":{"start":{"line":84,"column":11},"end":{"line":84,"column":25}},"name":"IndexedDBStore"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2443,"end":2447,"loc":{"start":{"line":84,"column":26},"end":{"line":84,"column":30}},"name":"opts"}],"body":{"type":"BlockStatement","start":2449,"end":3053,"loc":{"start":{"line":84,"column":32},"end":{"line":109,"column":3}},"body":[{"type":"VariableDeclaration","start":2455,"end":2472,"loc":{"start":{"line":85,"column":4},"end":{"line":85,"column":21}},"declarations":[{"type":"VariableDeclarator","start":2459,"end":2471,"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":20}},"id":{"type":"Identifier","start":2459,"end":2464,"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":13}},"name":"_this"},"init":{"type":"ThisExpression","start":2467,"end":2471,"loc":{"start":{"line":85,"column":16},"end":{"line":85,"column":20}}}}],"kind":"var"},{"type":"ExpressionStatement","start":2478,"end":2715,"loc":{"start":{"line":87,"column":4},"end":{"line":96,"column":13}},"expression":{"type":"AssignmentExpression","start":2478,"end":2714,"loc":{"start":{"line":87,"column":4},"end":{"line":96,"column":12}},"operator":"=","left":{"type":"MemberExpression","start":2478,"end":2487,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":13}},"object":{"type":"ThisExpression","start":2478,"end":2482,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":8}}},"property":{"type":"Identifier","start":2483,"end":2487,"loc":{"start":{"line":87,"column":9},"end":{"line":87,"column":13}},"name":"opts"},"computed":false},"right":{"type":"CallExpression","start":2490,"end":2714,"loc":{"start":{"line":87,"column":16},"end":{"line":96,"column":12}},"callee":{"type":"Identifier","start":2490,"end":2498,"loc":{"start":{"line":87,"column":16},"end":{"line":87,"column":24}},"name":"_extends"},"arguments":[{"type":"ObjectExpression","start":2499,"end":2707,"loc":{"start":{"line":87,"column":25},"end":{"line":96,"column":5}},"properties":[{"type":"Property","start":2507,"end":2522,"loc":{"start":{"line":88,"column":6},"end":{"line":88,"column":21}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2507,"end":2513,"loc":{"start":{"line":88,"column":6},"end":{"line":88,"column":12}},"name":"dbName"},"value":{"type":"Identifier","start":2515,"end":2522,"loc":{"start":{"line":88,"column":14},"end":{"line":88,"column":21}},"name":"DB_NAME"},"kind":"init"},{"type":"Property","start":2530,"end":2550,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2530,"end":2539,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":15}},"name":"storeName"},"value":{"type":"Literal","start":2541,"end":2550,"loc":{"start":{"line":89,"column":17},"end":{"line":89,"column":26}},"value":"default","raw":"'default'"},"kind":"init"},{"type":"Property","start":2558,"end":2581,"loc":{"start":{"line":90,"column":6},"end":{"line":90,"column":29}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2558,"end":2565,"loc":{"start":{"line":90,"column":6},"end":{"line":90,"column":13}},"name":"expires"},"value":{"type":"Identifier","start":2567,"end":2581,"loc":{"start":{"line":90,"column":15},"end":{"line":90,"column":29}},"name":"DEFAULT_EXPIRY"},"kind":"init"},{"type":"Property","start":2607,"end":2636,"loc":{"start":{"line":92,"column":6},"end":{"line":92,"column":35}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2607,"end":2618,"loc":{"start":{"line":92,"column":6},"end":{"line":92,"column":17}},"name":"maxFileSize"},"value":{"type":"BinaryExpression","start":2620,"end":2636,"loc":{"start":{"line":92,"column":19},"end":{"line":92,"column":35}},"left":{"type":"BinaryExpression","start":2620,"end":2629,"loc":{"start":{"line":92,"column":19},"end":{"line":92,"column":28}},"left":{"type":"Literal","start":2620,"end":2622,"loc":{"start":{"line":92,"column":19},"end":{"line":92,"column":21}},"value":10,"raw":"10"},"operator":"*","right":{"type":"Literal","start":2625,"end":2629,"loc":{"start":{"line":92,"column":24},"end":{"line":92,"column":28}},"value":1024,"raw":"1024"}},"operator":"*","right":{"type":"Literal","start":2632,"end":2636,"loc":{"start":{"line":92,"column":31},"end":{"line":92,"column":35}},"value":1024,"raw":"1024"}},"kind":"init","comments":[{"type":"Line","value":" 24 hours","start":2589,"end":2600,"loc":{"start":{"line":91,"column":6},"end":{"line":91,"column":17}}}]},{"type":"Property","start":2659,"end":2690,"loc":{"start":{"line":94,"column":6},"end":{"line":94,"column":37}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2659,"end":2671,"loc":{"start":{"line":94,"column":6},"end":{"line":94,"column":18}},"name":"maxTotalSize"},"value":{"type":"BinaryExpression","start":2673,"end":2690,"loc":{"start":{"line":94,"column":20},"end":{"line":94,"column":37}},"left":{"type":"BinaryExpression","start":2673,"end":2683,"loc":{"start":{"line":94,"column":20},"end":{"line":94,"column":30}},"left":{"type":"Literal","start":2673,"end":2676,"loc":{"start":{"line":94,"column":20},"end":{"line":94,"column":23}},"value":300,"raw":"300"},"operator":"*","right":{"type":"Literal","start":2679,"end":2683,"loc":{"start":{"line":94,"column":26},"end":{"line":94,"column":30}},"value":1024,"raw":"1024"}},"operator":"*","right":{"type":"Literal","start":2686,"end":2690,"loc":{"start":{"line":94,"column":33},"end":{"line":94,"column":37}},"value":1024,"raw":"1024"}},"kind":"init","comments":[{"type":"Line","value":" 10 MB","start":2644,"end":2652,"loc":{"start":{"line":93,"column":6},"end":{"line":93,"column":14}}},{"type":"Line","value":" 300 MB","start":2691,"end":2700,"loc":{"start":{"line":94,"column":38},"end":{"line":94,"column":47}}}]}]},{"type":"Identifier","start":2709,"end":2713,"loc":{"start":{"line":96,"column":7},"end":{"line":96,"column":11}},"name":"opts"}]}}},{"type":"ExpressionStatement","start":2720,"end":2752,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":36}},"expression":{"type":"AssignmentExpression","start":2720,"end":2751,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":35}},"operator":"=","left":{"type":"MemberExpression","start":2720,"end":2729,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":13}},"object":{"type":"ThisExpression","start":2720,"end":2724,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":8}}},"property":{"type":"Identifier","start":2725,"end":2729,"loc":{"start":{"line":97,"column":9},"end":{"line":97,"column":13}},"name":"name"},"computed":false},"right":{"type":"MemberExpression","start":2732,"end":2751,"loc":{"start":{"line":97,"column":16},"end":{"line":97,"column":35}},"object":{"type":"MemberExpression","start":2732,"end":2741,"loc":{"start":{"line":97,"column":16},"end":{"line":97,"column":25}},"object":{"type":"ThisExpression","start":2732,"end":2736,"loc":{"start":{"line":97,"column":16},"end":{"line":97,"column":20}}},"property":{"type":"Identifier","start":2737,"end":2741,"loc":{"start":{"line":97,"column":21},"end":{"line":97,"column":25}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":2742,"end":2751,"loc":{"start":{"line":97,"column":26},"end":{"line":97,"column":35}},"name":"storeName"},"computed":false}}},{"type":"VariableDeclaration","start":2758,"end":2858,"loc":{"start":{"line":99,"column":4},"end":{"line":101,"column":6}},"declarations":[{"type":"VariableDeclarator","start":2762,"end":2857,"loc":{"start":{"line":99,"column":8},"end":{"line":101,"column":5}},"id":{"type":"Identifier","start":2762,"end":2778,"loc":{"start":{"line":99,"column":8},"end":{"line":99,"column":24}},"name":"createConnection"},"init":{"type":"FunctionExpression","start":2781,"end":2857,"loc":{"start":{"line":99,"column":27},"end":{"line":101,"column":5}},"id":{"type":"Identifier","start":2790,"end":2806,"loc":{"start":{"line":99,"column":36},"end":{"line":99,"column":52}},"name":"createConnection"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2809,"end":2857,"loc":{"start":{"line":99,"column":55},"end":{"line":101,"column":5}},"body":[{"type":"ReturnStatement","start":2817,"end":2851,"loc":{"start":{"line":100,"column":6},"end":{"line":100,"column":40}},"argument":{"type":"CallExpression","start":2824,"end":2850,"loc":{"start":{"line":100,"column":13},"end":{"line":100,"column":39}},"callee":{"type":"Identifier","start":2824,"end":2831,"loc":{"start":{"line":100,"column":13},"end":{"line":100,"column":20}},"name":"connect"},"arguments":[{"type":"MemberExpression","start":2832,"end":2849,"loc":{"start":{"line":100,"column":21},"end":{"line":100,"column":38}},"object":{"type":"MemberExpression","start":2832,"end":2842,"loc":{"start":{"line":100,"column":21},"end":{"line":100,"column":31}},"object":{"type":"Identifier","start":2832,"end":2837,"loc":{"start":{"line":100,"column":21},"end":{"line":100,"column":26}},"name":"_this"},"property":{"type":"Identifier","start":2838,"end":2842,"loc":{"start":{"line":100,"column":27},"end":{"line":100,"column":31}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":2843,"end":2849,"loc":{"start":{"line":100,"column":32},"end":{"line":100,"column":38}},"name":"dbName"},"computed":false}]}}]}}}],"kind":"var"},{"type":"IfStatement","start":2864,"end":3049,"loc":{"start":{"line":103,"column":4},"end":{"line":108,"column":5}},"test":{"type":"UnaryExpression","start":2868,"end":2878,"loc":{"start":{"line":103,"column":8},"end":{"line":103,"column":18}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2869,"end":2878,"loc":{"start":{"line":103,"column":9},"end":{"line":103,"column":18}},"name":"cleanedUp"}},"consequent":{"type":"BlockStatement","start":2880,"end":2997,"loc":{"start":{"line":103,"column":20},"end":{"line":106,"column":5}},"body":[{"type":"ExpressionStatement","start":2888,"end":2905,"loc":{"start":{"line":104,"column":6},"end":{"line":104,"column":23}},"expression":{"type":"AssignmentExpression","start":2888,"end":2904,"loc":{"start":{"line":104,"column":6},"end":{"line":104,"column":22}},"operator":"=","left":{"type":"Identifier","start":2888,"end":2897,"loc":{"start":{"line":104,"column":6},"end":{"line":104,"column":15}},"name":"cleanedUp"},"right":{"type":"Literal","start":2900,"end":2904,"loc":{"start":{"line":104,"column":18},"end":{"line":104,"column":22}},"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":2912,"end":2991,"loc":{"start":{"line":105,"column":6},"end":{"line":105,"column":85}},"expression":{"type":"AssignmentExpression","start":2912,"end":2990,"loc":{"start":{"line":105,"column":6},"end":{"line":105,"column":84}},"operator":"=","left":{"type":"MemberExpression","start":2912,"end":2922,"loc":{"start":{"line":105,"column":6},"end":{"line":105,"column":16}},"object":{"type":"ThisExpression","start":2912,"end":2916,"loc":{"start":{"line":105,"column":6},"end":{"line":105,"column":10}}},"property":{"type":"Identifier","start":2917,"end":2922,"loc":{"start":{"line":105,"column":11},"end":{"line":105,"column":16}},"name":"ready"},"computed":false},"right":{"type":"CallExpression","start":2925,"end":2990,"loc":{"start":{"line":105,"column":19},"end":{"line":105,"column":84}},"callee":{"type":"MemberExpression","start":2925,"end":2954,"loc":{"start":{"line":105,"column":19},"end":{"line":105,"column":48}},"object":{"type":"CallExpression","start":2925,"end":2949,"loc":{"start":{"line":105,"column":19},"end":{"line":105,"column":43}},"callee":{"type":"MemberExpression","start":2925,"end":2947,"loc":{"start":{"line":105,"column":19},"end":{"line":105,"column":41}},"object":{"type":"Identifier","start":2925,"end":2939,"loc":{"start":{"line":105,"column":19},"end":{"line":105,"column":33}},"name":"IndexedDBStore"},"property":{"type":"Identifier","start":2940,"end":2947,"loc":{"start":{"line":105,"column":34},"end":{"line":105,"column":41}},"name":"cleanup"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":2950,"end":2954,"loc":{"start":{"line":105,"column":44},"end":{"line":105,"column":48}},"name":"then"},"computed":false},"arguments":[{"type":"Identifier","start":2955,"end":2971,"loc":{"start":{"line":105,"column":49},"end":{"line":105,"column":65}},"name":"createConnection"},{"type":"Identifier","start":2973,"end":2989,"loc":{"start":{"line":105,"column":67},"end":{"line":105,"column":83}},"name":"createConnection"}]}}}]},"alternate":{"type":"BlockStatement","start":3003,"end":3049,"loc":{"start":{"line":106,"column":11},"end":{"line":108,"column":5}},"body":[{"type":"ExpressionStatement","start":3011,"end":3043,"loc":{"start":{"line":107,"column":6},"end":{"line":107,"column":38}},"expression":{"type":"AssignmentExpression","start":3011,"end":3042,"loc":{"start":{"line":107,"column":6},"end":{"line":107,"column":37}},"operator":"=","left":{"type":"MemberExpression","start":3011,"end":3021,"loc":{"start":{"line":107,"column":6},"end":{"line":107,"column":16}},"object":{"type":"ThisExpression","start":3011,"end":3015,"loc":{"start":{"line":107,"column":6},"end":{"line":107,"column":10}}},"property":{"type":"Identifier","start":3016,"end":3021,"loc":{"start":{"line":107,"column":11},"end":{"line":107,"column":16}},"name":"ready"},"computed":false},"right":{"type":"CallExpression","start":3024,"end":3042,"loc":{"start":{"line":107,"column":19},"end":{"line":107,"column":37}},"callee":{"type":"Identifier","start":3024,"end":3040,"loc":{"start":{"line":107,"column":19},"end":{"line":107,"column":35}},"name":"createConnection"},"arguments":[]}}}]}}]}},{"type":"VariableDeclaration","start":3057,"end":3095,"loc":{"start":{"line":111,"column":2},"end":{"line":111,"column":40}},"declarations":[{"type":"VariableDeclarator","start":3061,"end":3094,"loc":{"start":{"line":111,"column":6},"end":{"line":111,"column":39}},"id":{"type":"Identifier","start":3061,"end":3067,"loc":{"start":{"line":111,"column":6},"end":{"line":111,"column":12}},"name":"_proto"},"init":{"type":"MemberExpression","start":3070,"end":3094,"loc":{"start":{"line":111,"column":15},"end":{"line":111,"column":39}},"object":{"type":"Identifier","start":3070,"end":3084,"loc":{"start":{"line":111,"column":15},"end":{"line":111,"column":29}},"name":"IndexedDBStore"},"property":{"type":"Identifier","start":3085,"end":3094,"loc":{"start":{"line":111,"column":30},"end":{"line":111,"column":39}},"name":"prototype"},"computed":false}}],"kind":"var"},{"type":"ExpressionStatement","start":3099,"end":3240,"loc":{"start":{"line":113,"column":2},"end":{"line":119,"column":3}},"expression":{"type":"AssignmentExpression","start":3099,"end":3175,"loc":{"start":{"line":113,"column":2},"end":{"line":115,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":3099,"end":3109,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":12}},"object":{"type":"Identifier","start":3099,"end":3105,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":8}},"name":"_proto"},"property":{"type":"Identifier","start":3106,"end":3109,"loc":{"start":{"line":113,"column":9},"end":{"line":113,"column":12}},"name":"key"},"computed":false},"right":{"type":"FunctionExpression","start":3112,"end":3175,"loc":{"start":{"line":113,"column":15},"end":{"line":115,"column":3}},"id":{"type":"Identifier","start":3121,"end":3124,"loc":{"start":{"line":113,"column":24},"end":{"line":113,"column":27}},"name":"key"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3125,"end":3131,"loc":{"start":{"line":113,"column":28},"end":{"line":113,"column":34}},"name":"fileID"}],"body":{"type":"BlockStatement","start":3133,"end":3175,"loc":{"start":{"line":113,"column":36},"end":{"line":115,"column":3}},"body":[{"type":"ReturnStatement","start":3139,"end":3171,"loc":{"start":{"line":114,"column":4},"end":{"line":114,"column":36}},"argument":{"type":"BinaryExpression","start":3146,"end":3170,"loc":{"start":{"line":114,"column":11},"end":{"line":114,"column":35}},"left":{"type":"BinaryExpression","start":3146,"end":3161,"loc":{"start":{"line":114,"column":11},"end":{"line":114,"column":26}},"left":{"type":"MemberExpression","start":3146,"end":3155,"loc":{"start":{"line":114,"column":11},"end":{"line":114,"column":20}},"object":{"type":"ThisExpression","start":3146,"end":3150,"loc":{"start":{"line":114,"column":11},"end":{"line":114,"column":15}}},"property":{"type":"Identifier","start":3151,"end":3155,"loc":{"start":{"line":114,"column":16},"end":{"line":114,"column":20}},"name":"name"},"computed":false},"operator":"+","right":{"type":"Literal","start":3158,"end":3161,"loc":{"start":{"line":114,"column":23},"end":{"line":114,"column":26}},"value":"!","raw":"\"!\""}},"operator":"+","right":{"type":"Identifier","start":3164,"end":3170,"loc":{"start":{"line":114,"column":29},"end":{"line":114,"column":35}},"name":"fileID"}}}]}}}},{"type":"ExpressionStatement","start":3244,"end":3812,"loc":{"start":{"line":121,"column":2},"end":{"line":140,"column":3}},"expression":{"type":"AssignmentExpression","start":3244,"end":3757,"loc":{"start":{"line":121,"column":2},"end":{"line":136,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":3244,"end":3255,"loc":{"start":{"line":121,"column":2},"end":{"line":121,"column":13}},"object":{"type":"Identifier","start":3244,"end":3250,"loc":{"start":{"line":121,"column":2},"end":{"line":121,"column":8}},"name":"_proto"},"property":{"type":"Identifier","start":3251,"end":3255,"loc":{"start":{"line":121,"column":9},"end":{"line":121,"column":13}},"name":"list"},"computed":false},"right":{"type":"FunctionExpression","start":3258,"end":3757,"loc":{"start":{"line":121,"column":16},"end":{"line":136,"column":3}},"id":{"type":"Identifier","start":3267,"end":3271,"loc":{"start":{"line":121,"column":25},"end":{"line":121,"column":29}},"name":"list"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3274,"end":3757,"loc":{"start":{"line":121,"column":32},"end":{"line":136,"column":3}},"body":[{"type":"VariableDeclaration","start":3280,"end":3298,"loc":{"start":{"line":122,"column":4},"end":{"line":122,"column":22}},"declarations":[{"type":"VariableDeclarator","start":3284,"end":3297,"loc":{"start":{"line":122,"column":8},"end":{"line":122,"column":21}},"id":{"type":"Identifier","start":3284,"end":3290,"loc":{"start":{"line":122,"column":8},"end":{"line":122,"column":14}},"name":"_this2"},"init":{"type":"ThisExpression","start":3293,"end":3297,"loc":{"start":{"line":122,"column":17},"end":{"line":122,"column":21}}}}],"kind":"var"},{"type":"ReturnStatement","start":3304,"end":3753,"loc":{"start":{"line":124,"column":4},"end":{"line":135,"column":7}},"argument":{"type":"CallExpression","start":3311,"end":3752,"loc":{"start":{"line":124,"column":11},"end":{"line":135,"column":6}},"callee":{"type":"MemberExpression","start":3311,"end":3593,"loc":{"start":{"line":124,"column":11},"end":{"line":129,"column":11}},"object":{"type":"CallExpression","start":3311,"end":3588,"loc":{"start":{"line":124,"column":11},"end":{"line":129,"column":6}},"callee":{"type":"MemberExpression","start":3311,"end":3326,"loc":{"start":{"line":124,"column":11},"end":{"line":124,"column":26}},"object":{"type":"MemberExpression","start":3311,"end":3321,"loc":{"start":{"line":124,"column":11},"end":{"line":124,"column":21}},"object":{"type":"ThisExpression","start":3311,"end":3315,"loc":{"start":{"line":124,"column":11},"end":{"line":124,"column":15}}},"property":{"type":"Identifier","start":3316,"end":3321,"loc":{"start":{"line":124,"column":16},"end":{"line":124,"column":21}},"name":"ready"},"computed":false},"property":{"type":"Identifier","start":3322,"end":3326,"loc":{"start":{"line":124,"column":22},"end":{"line":124,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":3327,"end":3587,"loc":{"start":{"line":124,"column":27},"end":{"line":129,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3337,"end":3339,"loc":{"start":{"line":124,"column":37},"end":{"line":124,"column":39}},"name":"db"}],"body":{"type":"BlockStatement","start":3341,"end":3587,"loc":{"start":{"line":124,"column":41},"end":{"line":129,"column":5}},"body":[{"type":"VariableDeclaration","start":3349,"end":3408,"loc":{"start":{"line":125,"column":6},"end":{"line":125,"column":65}},"declarations":[{"type":"VariableDeclarator","start":3353,"end":3407,"loc":{"start":{"line":125,"column":10},"end":{"line":125,"column":64}},"id":{"type":"Identifier","start":3353,"end":3364,"loc":{"start":{"line":125,"column":10},"end":{"line":125,"column":21}},"name":"transaction"},"init":{"type":"CallExpression","start":3367,"end":3407,"loc":{"start":{"line":125,"column":24},"end":{"line":125,"column":64}},"callee":{"type":"MemberExpression","start":3367,"end":3381,"loc":{"start":{"line":125,"column":24},"end":{"line":125,"column":38}},"object":{"type":"Identifier","start":3367,"end":3369,"loc":{"start":{"line":125,"column":24},"end":{"line":125,"column":26}},"name":"db"},"property":{"type":"Identifier","start":3370,"end":3381,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":38}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":3382,"end":3394,"loc":{"start":{"line":125,"column":39},"end":{"line":125,"column":51}},"elements":[{"type":"Identifier","start":3383,"end":3393,"loc":{"start":{"line":125,"column":40},"end":{"line":125,"column":50}},"name":"STORE_NAME"}]},{"type":"Literal","start":3396,"end":3406,"loc":{"start":{"line":125,"column":53},"end":{"line":125,"column":63}},"value":"readonly","raw":"'readonly'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":3415,"end":3463,"loc":{"start":{"line":126,"column":6},"end":{"line":126,"column":54}},"declarations":[{"type":"VariableDeclarator","start":3419,"end":3462,"loc":{"start":{"line":126,"column":10},"end":{"line":126,"column":53}},"id":{"type":"Identifier","start":3419,"end":3424,"loc":{"start":{"line":126,"column":10},"end":{"line":126,"column":15}},"name":"store"},"init":{"type":"CallExpression","start":3427,"end":3462,"loc":{"start":{"line":126,"column":18},"end":{"line":126,"column":53}},"callee":{"type":"MemberExpression","start":3427,"end":3450,"loc":{"start":{"line":126,"column":18},"end":{"line":126,"column":41}},"object":{"type":"Identifier","start":3427,"end":3438,"loc":{"start":{"line":126,"column":18},"end":{"line":126,"column":29}},"name":"transaction"},"property":{"type":"Identifier","start":3439,"end":3450,"loc":{"start":{"line":126,"column":30},"end":{"line":126,"column":41}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":3451,"end":3461,"loc":{"start":{"line":126,"column":42},"end":{"line":126,"column":52}},"name":"STORE_NAME"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":3470,"end":3543,"loc":{"start":{"line":127,"column":6},"end":{"line":127,"column":79}},"declarations":[{"type":"VariableDeclarator","start":3474,"end":3542,"loc":{"start":{"line":127,"column":10},"end":{"line":127,"column":78}},"id":{"type":"Identifier","start":3474,"end":3481,"loc":{"start":{"line":127,"column":10},"end":{"line":127,"column":17}},"name":"request"},"init":{"type":"CallExpression","start":3484,"end":3542,"loc":{"start":{"line":127,"column":20},"end":{"line":127,"column":78}},"callee":{"type":"MemberExpression","start":3484,"end":3511,"loc":{"start":{"line":127,"column":20},"end":{"line":127,"column":47}},"object":{"type":"CallExpression","start":3484,"end":3504,"loc":{"start":{"line":127,"column":20},"end":{"line":127,"column":40}},"callee":{"type":"MemberExpression","start":3484,"end":3495,"loc":{"start":{"line":127,"column":20},"end":{"line":127,"column":31}},"object":{"type":"Identifier","start":3484,"end":3489,"loc":{"start":{"line":127,"column":20},"end":{"line":127,"column":25}},"name":"store"},"property":{"type":"Identifier","start":3490,"end":3495,"loc":{"start":{"line":127,"column":26},"end":{"line":127,"column":31}},"name":"index"},"computed":false},"arguments":[{"type":"Literal","start":3496,"end":3503,"loc":{"start":{"line":127,"column":32},"end":{"line":127,"column":39}},"value":"store","raw":"'store'"}]},"property":{"type":"Identifier","start":3505,"end":3511,"loc":{"start":{"line":127,"column":41},"end":{"line":127,"column":47}},"name":"getAll"},"computed":false},"arguments":[{"type":"CallExpression","start":3512,"end":3541,"loc":{"start":{"line":127,"column":48},"end":{"line":127,"column":77}},"callee":{"type":"MemberExpression","start":3512,"end":3528,"loc":{"start":{"line":127,"column":48},"end":{"line":127,"column":64}},"object":{"type":"Identifier","start":3512,"end":3523,"loc":{"start":{"line":127,"column":48},"end":{"line":127,"column":59}},"name":"IDBKeyRange"},"property":{"type":"Identifier","start":3524,"end":3528,"loc":{"start":{"line":127,"column":60},"end":{"line":127,"column":64}},"name":"only"},"computed":false},"arguments":[{"type":"MemberExpression","start":3529,"end":3540,"loc":{"start":{"line":127,"column":65},"end":{"line":127,"column":76}},"object":{"type":"Identifier","start":3529,"end":3535,"loc":{"start":{"line":127,"column":65},"end":{"line":127,"column":71}},"name":"_this2"},"property":{"type":"Identifier","start":3536,"end":3540,"loc":{"start":{"line":127,"column":72},"end":{"line":127,"column":76}},"name":"name"},"computed":false}]}]}}],"kind":"var"},{"type":"ReturnStatement","start":3550,"end":3581,"loc":{"start":{"line":128,"column":6},"end":{"line":128,"column":37}},"argument":{"type":"CallExpression","start":3557,"end":3580,"loc":{"start":{"line":128,"column":13},"end":{"line":128,"column":36}},"callee":{"type":"Identifier","start":3557,"end":3571,"loc":{"start":{"line":128,"column":13},"end":{"line":128,"column":27}},"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":3572,"end":3579,"loc":{"start":{"line":128,"column":28},"end":{"line":128,"column":35}},"name":"request"}]}}]}}]},"property":{"type":"Identifier","start":3589,"end":3593,"loc":{"start":{"line":129,"column":7},"end":{"line":129,"column":11}},"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":3594,"end":3751,"loc":{"start":{"line":129,"column":12},"end":{"line":135,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3604,"end":3609,"loc":{"start":{"line":129,"column":22},"end":{"line":129,"column":27}},"name":"files"}],"body":{"type":"BlockStatement","start":3611,"end":3751,"loc":{"start":{"line":129,"column":29},"end":{"line":135,"column":5}},"body":[{"type":"VariableDeclaration","start":3619,"end":3635,"loc":{"start":{"line":130,"column":6},"end":{"line":130,"column":22}},"declarations":[{"type":"VariableDeclarator","start":3623,"end":3634,"loc":{"start":{"line":130,"column":10},"end":{"line":130,"column":21}},"id":{"type":"Identifier","start":3623,"end":3629,"loc":{"start":{"line":130,"column":10},"end":{"line":130,"column":16}},"name":"result"},"init":{"type":"ObjectExpression","start":3632,"end":3634,"loc":{"start":{"line":130,"column":19},"end":{"line":130,"column":21}},"properties":[]}}],"kind":"var"},{"type":"ExpressionStatement","start":3642,"end":3724,"loc":{"start":{"line":131,"column":6},"end":{"line":133,"column":9}},"expression":{"type":"CallExpression","start":3642,"end":3723,"loc":{"start":{"line":131,"column":6},"end":{"line":133,"column":8}},"callee":{"type":"MemberExpression","start":3642,"end":3655,"loc":{"start":{"line":131,"column":6},"end":{"line":131,"column":19}},"object":{"type":"Identifier","start":3642,"end":3647,"loc":{"start":{"line":131,"column":6},"end":{"line":131,"column":11}},"name":"files"},"property":{"type":"Identifier","start":3648,"end":3655,"loc":{"start":{"line":131,"column":12},"end":{"line":131,"column":19}},"name":"forEach"},"computed":false},"arguments":[{"type":"FunctionExpression","start":3656,"end":3722,"loc":{"start":{"line":131,"column":20},"end":{"line":133,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3666,"end":3670,"loc":{"start":{"line":131,"column":30},"end":{"line":131,"column":34}},"name":"file"}],"body":{"type":"BlockStatement","start":3672,"end":3722,"loc":{"start":{"line":131,"column":36},"end":{"line":133,"column":7}},"body":[{"type":"ExpressionStatement","start":3682,"end":3714,"loc":{"start":{"line":132,"column":8},"end":{"line":132,"column":40}},"expression":{"type":"AssignmentExpression","start":3682,"end":3713,"loc":{"start":{"line":132,"column":8},"end":{"line":132,"column":39}},"operator":"=","left":{"type":"MemberExpression","start":3682,"end":3701,"loc":{"start":{"line":132,"column":8},"end":{"line":132,"column":27}},"object":{"type":"Identifier","start":3682,"end":3688,"loc":{"start":{"line":132,"column":8},"end":{"line":132,"column":14}},"name":"result"},"property":{"type":"MemberExpression","start":3689,"end":3700,"loc":{"start":{"line":132,"column":15},"end":{"line":132,"column":26}},"object":{"type":"Identifier","start":3689,"end":3693,"loc":{"start":{"line":132,"column":15},"end":{"line":132,"column":19}},"name":"file"},"property":{"type":"Identifier","start":3694,"end":3700,"loc":{"start":{"line":132,"column":20},"end":{"line":132,"column":26}},"name":"fileID"},"computed":false},"computed":true},"right":{"type":"MemberExpression","start":3704,"end":3713,"loc":{"start":{"line":132,"column":30},"end":{"line":132,"column":39}},"object":{"type":"Identifier","start":3704,"end":3708,"loc":{"start":{"line":132,"column":30},"end":{"line":132,"column":34}},"name":"file"},"property":{"type":"Identifier","start":3709,"end":3713,"loc":{"start":{"line":132,"column":35},"end":{"line":132,"column":39}},"name":"data"},"computed":false}}}]}}]}},{"type":"ReturnStatement","start":3731,"end":3745,"loc":{"start":{"line":134,"column":6},"end":{"line":134,"column":20}},"argument":{"type":"Identifier","start":3738,"end":3744,"loc":{"start":{"line":134,"column":13},"end":{"line":134,"column":19}},"name":"result"}}]}}]}}]}}},"comments":[{"type":"Block","value":"*\n   * List all file blobs currently in the store.\n   ","start":3178,"end":3236,"loc":{"start":{"line":116,"column":2},"end":{"line":118,"column":5}}}]},{"type":"ExpressionStatement","start":3816,"end":4314,"loc":{"start":{"line":142,"column":2},"end":{"line":161,"column":3}},"expression":{"type":"AssignmentExpression","start":3816,"end":4234,"loc":{"start":{"line":142,"column":2},"end":{"line":155,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":3816,"end":3826,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":12}},"object":{"type":"Identifier","start":3816,"end":3822,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":8}},"name":"_proto"},"property":{"type":"Identifier","start":3823,"end":3826,"loc":{"start":{"line":142,"column":9},"end":{"line":142,"column":12}},"name":"get"},"computed":false},"right":{"type":"FunctionExpression","start":3829,"end":4234,"loc":{"start":{"line":142,"column":15},"end":{"line":155,"column":3}},"id":{"type":"Identifier","start":3838,"end":3841,"loc":{"start":{"line":142,"column":24},"end":{"line":142,"column":27}},"name":"get"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3842,"end":3848,"loc":{"start":{"line":142,"column":28},"end":{"line":142,"column":34}},"name":"fileID"}],"body":{"type":"BlockStatement","start":3850,"end":4234,"loc":{"start":{"line":142,"column":36},"end":{"line":155,"column":3}},"body":[{"type":"VariableDeclaration","start":3856,"end":3874,"loc":{"start":{"line":143,"column":4},"end":{"line":143,"column":22}},"declarations":[{"type":"VariableDeclarator","start":3860,"end":3873,"loc":{"start":{"line":143,"column":8},"end":{"line":143,"column":21}},"id":{"type":"Identifier","start":3860,"end":3866,"loc":{"start":{"line":143,"column":8},"end":{"line":143,"column":14}},"name":"_this3"},"init":{"type":"ThisExpression","start":3869,"end":3873,"loc":{"start":{"line":143,"column":17},"end":{"line":143,"column":21}}}}],"kind":"var"},{"type":"ReturnStatement","start":3880,"end":4230,"loc":{"start":{"line":145,"column":4},"end":{"line":154,"column":7}},"argument":{"type":"CallExpression","start":3887,"end":4229,"loc":{"start":{"line":145,"column":11},"end":{"line":154,"column":6}},"callee":{"type":"MemberExpression","start":3887,"end":4115,"loc":{"start":{"line":145,"column":11},"end":{"line":149,"column":11}},"object":{"type":"CallExpression","start":3887,"end":4110,"loc":{"start":{"line":145,"column":11},"end":{"line":149,"column":6}},"callee":{"type":"MemberExpression","start":3887,"end":3902,"loc":{"start":{"line":145,"column":11},"end":{"line":145,"column":26}},"object":{"type":"MemberExpression","start":3887,"end":3897,"loc":{"start":{"line":145,"column":11},"end":{"line":145,"column":21}},"object":{"type":"ThisExpression","start":3887,"end":3891,"loc":{"start":{"line":145,"column":11},"end":{"line":145,"column":15}}},"property":{"type":"Identifier","start":3892,"end":3897,"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":21}},"name":"ready"},"computed":false},"property":{"type":"Identifier","start":3898,"end":3902,"loc":{"start":{"line":145,"column":22},"end":{"line":145,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":3903,"end":4109,"loc":{"start":{"line":145,"column":27},"end":{"line":149,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3913,"end":3915,"loc":{"start":{"line":145,"column":37},"end":{"line":145,"column":39}},"name":"db"}],"body":{"type":"BlockStatement","start":3917,"end":4109,"loc":{"start":{"line":145,"column":41},"end":{"line":149,"column":5}},"body":[{"type":"VariableDeclaration","start":3925,"end":3984,"loc":{"start":{"line":146,"column":6},"end":{"line":146,"column":65}},"declarations":[{"type":"VariableDeclarator","start":3929,"end":3983,"loc":{"start":{"line":146,"column":10},"end":{"line":146,"column":64}},"id":{"type":"Identifier","start":3929,"end":3940,"loc":{"start":{"line":146,"column":10},"end":{"line":146,"column":21}},"name":"transaction"},"init":{"type":"CallExpression","start":3943,"end":3983,"loc":{"start":{"line":146,"column":24},"end":{"line":146,"column":64}},"callee":{"type":"MemberExpression","start":3943,"end":3957,"loc":{"start":{"line":146,"column":24},"end":{"line":146,"column":38}},"object":{"type":"Identifier","start":3943,"end":3945,"loc":{"start":{"line":146,"column":24},"end":{"line":146,"column":26}},"name":"db"},"property":{"type":"Identifier","start":3946,"end":3957,"loc":{"start":{"line":146,"column":27},"end":{"line":146,"column":38}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":3958,"end":3970,"loc":{"start":{"line":146,"column":39},"end":{"line":146,"column":51}},"elements":[{"type":"Identifier","start":3959,"end":3969,"loc":{"start":{"line":146,"column":40},"end":{"line":146,"column":50}},"name":"STORE_NAME"}]},{"type":"Literal","start":3972,"end":3982,"loc":{"start":{"line":146,"column":53},"end":{"line":146,"column":63}},"value":"readonly","raw":"'readonly'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":3991,"end":4065,"loc":{"start":{"line":147,"column":6},"end":{"line":147,"column":80}},"declarations":[{"type":"VariableDeclarator","start":3995,"end":4064,"loc":{"start":{"line":147,"column":10},"end":{"line":147,"column":79}},"id":{"type":"Identifier","start":3995,"end":4002,"loc":{"start":{"line":147,"column":10},"end":{"line":147,"column":17}},"name":"request"},"init":{"type":"CallExpression","start":4005,"end":4064,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":79}},"callee":{"type":"MemberExpression","start":4005,"end":4044,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":59}},"object":{"type":"CallExpression","start":4005,"end":4040,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":55}},"callee":{"type":"MemberExpression","start":4005,"end":4028,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":43}},"object":{"type":"Identifier","start":4005,"end":4016,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":31}},"name":"transaction"},"property":{"type":"Identifier","start":4017,"end":4028,"loc":{"start":{"line":147,"column":32},"end":{"line":147,"column":43}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":4029,"end":4039,"loc":{"start":{"line":147,"column":44},"end":{"line":147,"column":54}},"name":"STORE_NAME"}]},"property":{"type":"Identifier","start":4041,"end":4044,"loc":{"start":{"line":147,"column":56},"end":{"line":147,"column":59}},"name":"get"},"computed":false},"arguments":[{"type":"CallExpression","start":4045,"end":4063,"loc":{"start":{"line":147,"column":60},"end":{"line":147,"column":78}},"callee":{"type":"MemberExpression","start":4045,"end":4055,"loc":{"start":{"line":147,"column":60},"end":{"line":147,"column":70}},"object":{"type":"Identifier","start":4045,"end":4051,"loc":{"start":{"line":147,"column":60},"end":{"line":147,"column":66}},"name":"_this3"},"property":{"type":"Identifier","start":4052,"end":4055,"loc":{"start":{"line":147,"column":67},"end":{"line":147,"column":70}},"name":"key"},"computed":false},"arguments":[{"type":"Identifier","start":4056,"end":4062,"loc":{"start":{"line":147,"column":71},"end":{"line":147,"column":77}},"name":"fileID"}]}]}}],"kind":"var"},{"type":"ReturnStatement","start":4072,"end":4103,"loc":{"start":{"line":148,"column":6},"end":{"line":148,"column":37}},"argument":{"type":"CallExpression","start":4079,"end":4102,"loc":{"start":{"line":148,"column":13},"end":{"line":148,"column":36}},"callee":{"type":"Identifier","start":4079,"end":4093,"loc":{"start":{"line":148,"column":13},"end":{"line":148,"column":27}},"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":4094,"end":4101,"loc":{"start":{"line":148,"column":28},"end":{"line":148,"column":35}},"name":"request"}]}}]}}]},"property":{"type":"Identifier","start":4111,"end":4115,"loc":{"start":{"line":149,"column":7},"end":{"line":149,"column":11}},"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":4116,"end":4228,"loc":{"start":{"line":149,"column":12},"end":{"line":154,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4126,"end":4132,"loc":{"start":{"line":149,"column":22},"end":{"line":149,"column":28}},"name":"result"}],"body":{"type":"BlockStatement","start":4134,"end":4228,"loc":{"start":{"line":149,"column":30},"end":{"line":154,"column":5}},"body":[{"type":"ReturnStatement","start":4142,"end":4222,"loc":{"start":{"line":150,"column":6},"end":{"line":153,"column":8}},"argument":{"type":"ObjectExpression","start":4149,"end":4221,"loc":{"start":{"line":150,"column":13},"end":{"line":153,"column":7}},"properties":[{"type":"Property","start":4159,"end":4181,"loc":{"start":{"line":151,"column":8},"end":{"line":151,"column":30}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4159,"end":4161,"loc":{"start":{"line":151,"column":8},"end":{"line":151,"column":10}},"name":"id"},"value":{"type":"MemberExpression","start":4163,"end":4181,"loc":{"start":{"line":151,"column":12},"end":{"line":151,"column":30}},"object":{"type":"MemberExpression","start":4163,"end":4174,"loc":{"start":{"line":151,"column":12},"end":{"line":151,"column":23}},"object":{"type":"Identifier","start":4163,"end":4169,"loc":{"start":{"line":151,"column":12},"end":{"line":151,"column":18}},"name":"result"},"property":{"type":"Identifier","start":4170,"end":4174,"loc":{"start":{"line":151,"column":19},"end":{"line":151,"column":23}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":4175,"end":4181,"loc":{"start":{"line":151,"column":24},"end":{"line":151,"column":30}},"name":"fileID"},"computed":false},"kind":"init"},{"type":"Property","start":4191,"end":4213,"loc":{"start":{"line":152,"column":8},"end":{"line":152,"column":30}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4191,"end":4195,"loc":{"start":{"line":152,"column":8},"end":{"line":152,"column":12}},"name":"data"},"value":{"type":"MemberExpression","start":4197,"end":4213,"loc":{"start":{"line":152,"column":14},"end":{"line":152,"column":30}},"object":{"type":"MemberExpression","start":4197,"end":4208,"loc":{"start":{"line":152,"column":14},"end":{"line":152,"column":25}},"object":{"type":"Identifier","start":4197,"end":4203,"loc":{"start":{"line":152,"column":14},"end":{"line":152,"column":20}},"name":"result"},"property":{"type":"Identifier","start":4204,"end":4208,"loc":{"start":{"line":152,"column":21},"end":{"line":152,"column":25}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":4209,"end":4213,"loc":{"start":{"line":152,"column":26},"end":{"line":152,"column":30}},"name":"data"},"computed":false},"kind":"init"}]}}]}}]}}]}}},"comments":[{"type":"Block","value":"*\n   * Get one file blob from the store.\n   ","start":3760,"end":3808,"loc":{"start":{"line":137,"column":2},"end":{"line":139,"column":5}}}]},{"type":"ExpressionStatement","start":4318,"end":5154,"loc":{"start":{"line":163,"column":2},"end":{"line":193,"column":3}},"expression":{"type":"AssignmentExpression","start":4318,"end":5107,"loc":{"start":{"line":163,"column":2},"end":{"line":189,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":4318,"end":4332,"loc":{"start":{"line":163,"column":2},"end":{"line":163,"column":16}},"object":{"type":"Identifier","start":4318,"end":4324,"loc":{"start":{"line":163,"column":2},"end":{"line":163,"column":8}},"name":"_proto"},"property":{"type":"Identifier","start":4325,"end":4332,"loc":{"start":{"line":163,"column":9},"end":{"line":163,"column":16}},"name":"getSize"},"computed":false},"right":{"type":"FunctionExpression","start":4335,"end":5107,"loc":{"start":{"line":163,"column":19},"end":{"line":189,"column":3}},"id":{"type":"Identifier","start":4344,"end":4351,"loc":{"start":{"line":163,"column":28},"end":{"line":163,"column":35}},"name":"getSize"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4354,"end":5107,"loc":{"start":{"line":163,"column":38},"end":{"line":189,"column":3}},"body":[{"type":"VariableDeclaration","start":4360,"end":4378,"loc":{"start":{"line":164,"column":4},"end":{"line":164,"column":22}},"declarations":[{"type":"VariableDeclarator","start":4364,"end":4377,"loc":{"start":{"line":164,"column":8},"end":{"line":164,"column":21}},"id":{"type":"Identifier","start":4364,"end":4370,"loc":{"start":{"line":164,"column":8},"end":{"line":164,"column":14}},"name":"_this4"},"init":{"type":"ThisExpression","start":4373,"end":4377,"loc":{"start":{"line":164,"column":17},"end":{"line":164,"column":21}}}}],"kind":"var"},{"type":"ReturnStatement","start":4384,"end":5103,"loc":{"start":{"line":166,"column":4},"end":{"line":188,"column":7}},"argument":{"type":"CallExpression","start":4391,"end":5102,"loc":{"start":{"line":166,"column":11},"end":{"line":188,"column":6}},"callee":{"type":"MemberExpression","start":4391,"end":4406,"loc":{"start":{"line":166,"column":11},"end":{"line":166,"column":26}},"object":{"type":"MemberExpression","start":4391,"end":4401,"loc":{"start":{"line":166,"column":11},"end":{"line":166,"column":21}},"object":{"type":"ThisExpression","start":4391,"end":4395,"loc":{"start":{"line":166,"column":11},"end":{"line":166,"column":15}}},"property":{"type":"Identifier","start":4396,"end":4401,"loc":{"start":{"line":166,"column":16},"end":{"line":166,"column":21}},"name":"ready"},"computed":false},"property":{"type":"Identifier","start":4402,"end":4406,"loc":{"start":{"line":166,"column":22},"end":{"line":166,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":4407,"end":5101,"loc":{"start":{"line":166,"column":27},"end":{"line":188,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4417,"end":4419,"loc":{"start":{"line":166,"column":37},"end":{"line":166,"column":39}},"name":"db"}],"body":{"type":"BlockStatement","start":4421,"end":5101,"loc":{"start":{"line":166,"column":41},"end":{"line":188,"column":5}},"body":[{"type":"VariableDeclaration","start":4429,"end":4488,"loc":{"start":{"line":167,"column":6},"end":{"line":167,"column":65}},"declarations":[{"type":"VariableDeclarator","start":4433,"end":4487,"loc":{"start":{"line":167,"column":10},"end":{"line":167,"column":64}},"id":{"type":"Identifier","start":4433,"end":4444,"loc":{"start":{"line":167,"column":10},"end":{"line":167,"column":21}},"name":"transaction"},"init":{"type":"CallExpression","start":4447,"end":4487,"loc":{"start":{"line":167,"column":24},"end":{"line":167,"column":64}},"callee":{"type":"MemberExpression","start":4447,"end":4461,"loc":{"start":{"line":167,"column":24},"end":{"line":167,"column":38}},"object":{"type":"Identifier","start":4447,"end":4449,"loc":{"start":{"line":167,"column":24},"end":{"line":167,"column":26}},"name":"db"},"property":{"type":"Identifier","start":4450,"end":4461,"loc":{"start":{"line":167,"column":27},"end":{"line":167,"column":38}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":4462,"end":4474,"loc":{"start":{"line":167,"column":39},"end":{"line":167,"column":51}},"elements":[{"type":"Identifier","start":4463,"end":4473,"loc":{"start":{"line":167,"column":40},"end":{"line":167,"column":50}},"name":"STORE_NAME"}]},{"type":"Literal","start":4476,"end":4486,"loc":{"start":{"line":167,"column":53},"end":{"line":167,"column":63}},"value":"readonly","raw":"'readonly'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":4495,"end":4543,"loc":{"start":{"line":168,"column":6},"end":{"line":168,"column":54}},"declarations":[{"type":"VariableDeclarator","start":4499,"end":4542,"loc":{"start":{"line":168,"column":10},"end":{"line":168,"column":53}},"id":{"type":"Identifier","start":4499,"end":4504,"loc":{"start":{"line":168,"column":10},"end":{"line":168,"column":15}},"name":"store"},"init":{"type":"CallExpression","start":4507,"end":4542,"loc":{"start":{"line":168,"column":18},"end":{"line":168,"column":53}},"callee":{"type":"MemberExpression","start":4507,"end":4530,"loc":{"start":{"line":168,"column":18},"end":{"line":168,"column":41}},"object":{"type":"Identifier","start":4507,"end":4518,"loc":{"start":{"line":168,"column":18},"end":{"line":168,"column":29}},"name":"transaction"},"property":{"type":"Identifier","start":4519,"end":4530,"loc":{"start":{"line":168,"column":30},"end":{"line":168,"column":41}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":4531,"end":4541,"loc":{"start":{"line":168,"column":42},"end":{"line":168,"column":52}},"name":"STORE_NAME"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":4550,"end":4627,"loc":{"start":{"line":169,"column":6},"end":{"line":169,"column":83}},"declarations":[{"type":"VariableDeclarator","start":4554,"end":4626,"loc":{"start":{"line":169,"column":10},"end":{"line":169,"column":82}},"id":{"type":"Identifier","start":4554,"end":4561,"loc":{"start":{"line":169,"column":10},"end":{"line":169,"column":17}},"name":"request"},"init":{"type":"CallExpression","start":4564,"end":4626,"loc":{"start":{"line":169,"column":20},"end":{"line":169,"column":82}},"callee":{"type":"MemberExpression","start":4564,"end":4595,"loc":{"start":{"line":169,"column":20},"end":{"line":169,"column":51}},"object":{"type":"CallExpression","start":4564,"end":4584,"loc":{"start":{"line":169,"column":20},"end":{"line":169,"column":40}},"callee":{"type":"MemberExpression","start":4564,"end":4575,"loc":{"start":{"line":169,"column":20},"end":{"line":169,"column":31}},"object":{"type":"Identifier","start":4564,"end":4569,"loc":{"start":{"line":169,"column":20},"end":{"line":169,"column":25}},"name":"store"},"property":{"type":"Identifier","start":4570,"end":4575,"loc":{"start":{"line":169,"column":26},"end":{"line":169,"column":31}},"name":"index"},"computed":false},"arguments":[{"type":"Literal","start":4576,"end":4583,"loc":{"start":{"line":169,"column":32},"end":{"line":169,"column":39}},"value":"store","raw":"'store'"}]},"property":{"type":"Identifier","start":4585,"end":4595,"loc":{"start":{"line":169,"column":41},"end":{"line":169,"column":51}},"name":"openCursor"},"computed":false},"arguments":[{"type":"CallExpression","start":4596,"end":4625,"loc":{"start":{"line":169,"column":52},"end":{"line":169,"column":81}},"callee":{"type":"MemberExpression","start":4596,"end":4612,"loc":{"start":{"line":169,"column":52},"end":{"line":169,"column":68}},"object":{"type":"Identifier","start":4596,"end":4607,"loc":{"start":{"line":169,"column":52},"end":{"line":169,"column":63}},"name":"IDBKeyRange"},"property":{"type":"Identifier","start":4608,"end":4612,"loc":{"start":{"line":169,"column":64},"end":{"line":169,"column":68}},"name":"only"},"computed":false},"arguments":[{"type":"MemberExpression","start":4613,"end":4624,"loc":{"start":{"line":169,"column":69},"end":{"line":169,"column":80}},"object":{"type":"Identifier","start":4613,"end":4619,"loc":{"start":{"line":169,"column":69},"end":{"line":169,"column":75}},"name":"_this4"},"property":{"type":"Identifier","start":4620,"end":4624,"loc":{"start":{"line":169,"column":76},"end":{"line":169,"column":80}},"name":"name"},"computed":false}]}]}}],"kind":"var"},{"type":"ReturnStatement","start":4634,"end":5095,"loc":{"start":{"line":170,"column":6},"end":{"line":187,"column":9}},"argument":{"type":"NewExpression","start":4641,"end":5094,"loc":{"start":{"line":170,"column":13},"end":{"line":187,"column":8}},"callee":{"type":"Identifier","start":4645,"end":4652,"loc":{"start":{"line":170,"column":17},"end":{"line":170,"column":24}},"name":"Promise"},"arguments":[{"type":"FunctionExpression","start":4653,"end":5093,"loc":{"start":{"line":170,"column":25},"end":{"line":187,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4663,"end":4670,"loc":{"start":{"line":170,"column":35},"end":{"line":170,"column":42}},"name":"resolve"},{"type":"Identifier","start":4672,"end":4678,"loc":{"start":{"line":170,"column":44},"end":{"line":170,"column":50}},"name":"reject"}],"body":{"type":"BlockStatement","start":4680,"end":5093,"loc":{"start":{"line":170,"column":52},"end":{"line":187,"column":7}},"body":[{"type":"VariableDeclaration","start":4690,"end":4703,"loc":{"start":{"line":171,"column":8},"end":{"line":171,"column":21}},"declarations":[{"type":"VariableDeclarator","start":4694,"end":4702,"loc":{"start":{"line":171,"column":12},"end":{"line":171,"column":20}},"id":{"type":"Identifier","start":4694,"end":4698,"loc":{"start":{"line":171,"column":12},"end":{"line":171,"column":16}},"name":"size"},"init":{"type":"Literal","start":4701,"end":4702,"loc":{"start":{"line":171,"column":19},"end":{"line":171,"column":20}},"value":0,"raw":"0"}}],"kind":"var"},{"type":"ExpressionStatement","start":4713,"end":4964,"loc":{"start":{"line":173,"column":8},"end":{"line":182,"column":10}},"expression":{"type":"AssignmentExpression","start":4713,"end":4963,"loc":{"start":{"line":173,"column":8},"end":{"line":182,"column":9}},"operator":"=","left":{"type":"MemberExpression","start":4713,"end":4730,"loc":{"start":{"line":173,"column":8},"end":{"line":173,"column":25}},"object":{"type":"Identifier","start":4713,"end":4720,"loc":{"start":{"line":173,"column":8},"end":{"line":173,"column":15}},"name":"request"},"property":{"type":"Identifier","start":4721,"end":4730,"loc":{"start":{"line":173,"column":16},"end":{"line":173,"column":25}},"name":"onsuccess"},"computed":false},"right":{"type":"FunctionExpression","start":4733,"end":4963,"loc":{"start":{"line":173,"column":28},"end":{"line":182,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4743,"end":4748,"loc":{"start":{"line":173,"column":38},"end":{"line":173,"column":43}},"name":"event"}],"body":{"type":"BlockStatement","start":4750,"end":4963,"loc":{"start":{"line":173,"column":45},"end":{"line":182,"column":9}},"body":[{"type":"VariableDeclaration","start":4762,"end":4795,"loc":{"start":{"line":174,"column":10},"end":{"line":174,"column":43}},"declarations":[{"type":"VariableDeclarator","start":4766,"end":4794,"loc":{"start":{"line":174,"column":14},"end":{"line":174,"column":42}},"id":{"type":"Identifier","start":4766,"end":4772,"loc":{"start":{"line":174,"column":14},"end":{"line":174,"column":20}},"name":"cursor"},"init":{"type":"MemberExpression","start":4775,"end":4794,"loc":{"start":{"line":174,"column":23},"end":{"line":174,"column":42}},"object":{"type":"MemberExpression","start":4775,"end":4787,"loc":{"start":{"line":174,"column":23},"end":{"line":174,"column":35}},"object":{"type":"Identifier","start":4775,"end":4780,"loc":{"start":{"line":174,"column":23},"end":{"line":174,"column":28}},"name":"event"},"property":{"type":"Identifier","start":4781,"end":4787,"loc":{"start":{"line":174,"column":29},"end":{"line":174,"column":35}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":4788,"end":4794,"loc":{"start":{"line":174,"column":36},"end":{"line":174,"column":42}},"name":"result"},"computed":false}}],"kind":"var"},{"type":"IfStatement","start":4807,"end":4953,"loc":{"start":{"line":176,"column":10},"end":{"line":181,"column":11}},"test":{"type":"Identifier","start":4811,"end":4817,"loc":{"start":{"line":176,"column":14},"end":{"line":176,"column":20}},"name":"cursor"},"consequent":{"type":"BlockStatement","start":4819,"end":4907,"loc":{"start":{"line":176,"column":22},"end":{"line":179,"column":11}},"body":[{"type":"ExpressionStatement","start":4833,"end":4864,"loc":{"start":{"line":177,"column":12},"end":{"line":177,"column":43}},"expression":{"type":"AssignmentExpression","start":4833,"end":4863,"loc":{"start":{"line":177,"column":12},"end":{"line":177,"column":42}},"operator":"+=","left":{"type":"Identifier","start":4833,"end":4837,"loc":{"start":{"line":177,"column":12},"end":{"line":177,"column":16}},"name":"size"},"right":{"type":"MemberExpression","start":4841,"end":4863,"loc":{"start":{"line":177,"column":20},"end":{"line":177,"column":42}},"object":{"type":"MemberExpression","start":4841,"end":4858,"loc":{"start":{"line":177,"column":20},"end":{"line":177,"column":37}},"object":{"type":"MemberExpression","start":4841,"end":4853,"loc":{"start":{"line":177,"column":20},"end":{"line":177,"column":32}},"object":{"type":"Identifier","start":4841,"end":4847,"loc":{"start":{"line":177,"column":20},"end":{"line":177,"column":26}},"name":"cursor"},"property":{"type":"Identifier","start":4848,"end":4853,"loc":{"start":{"line":177,"column":27},"end":{"line":177,"column":32}},"name":"value"},"computed":false},"property":{"type":"Identifier","start":4854,"end":4858,"loc":{"start":{"line":177,"column":33},"end":{"line":177,"column":37}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":4859,"end":4863,"loc":{"start":{"line":177,"column":38},"end":{"line":177,"column":42}},"name":"size"},"computed":false}}},{"type":"ExpressionStatement","start":4877,"end":4895,"loc":{"start":{"line":178,"column":12},"end":{"line":178,"column":30}},"expression":{"type":"CallExpression","start":4877,"end":4894,"loc":{"start":{"line":178,"column":12},"end":{"line":178,"column":29}},"callee":{"type":"MemberExpression","start":4877,"end":4892,"loc":{"start":{"line":178,"column":12},"end":{"line":178,"column":27}},"object":{"type":"Identifier","start":4877,"end":4883,"loc":{"start":{"line":178,"column":12},"end":{"line":178,"column":18}},"name":"cursor"},"property":{"type":"Identifier","start":4884,"end":4892,"loc":{"start":{"line":178,"column":19},"end":{"line":178,"column":27}},"name":"continue"},"computed":false},"arguments":[]}}]},"alternate":{"type":"BlockStatement","start":4913,"end":4953,"loc":{"start":{"line":179,"column":17},"end":{"line":181,"column":11}},"body":[{"type":"ExpressionStatement","start":4927,"end":4941,"loc":{"start":{"line":180,"column":12},"end":{"line":180,"column":26}},"expression":{"type":"CallExpression","start":4927,"end":4940,"loc":{"start":{"line":180,"column":12},"end":{"line":180,"column":25}},"callee":{"type":"Identifier","start":4927,"end":4934,"loc":{"start":{"line":180,"column":12},"end":{"line":180,"column":19}},"name":"resolve"},"arguments":[{"type":"Identifier","start":4935,"end":4939,"loc":{"start":{"line":180,"column":20},"end":{"line":180,"column":24}},"name":"size"}]}}]}}]}}}},{"type":"ExpressionStatement","start":4974,"end":5085,"loc":{"start":{"line":184,"column":8},"end":{"line":186,"column":10}},"expression":{"type":"AssignmentExpression","start":4974,"end":5084,"loc":{"start":{"line":184,"column":8},"end":{"line":186,"column":9}},"operator":"=","left":{"type":"MemberExpression","start":4974,"end":4989,"loc":{"start":{"line":184,"column":8},"end":{"line":184,"column":23}},"object":{"type":"Identifier","start":4974,"end":4981,"loc":{"start":{"line":184,"column":8},"end":{"line":184,"column":15}},"name":"request"},"property":{"type":"Identifier","start":4982,"end":4989,"loc":{"start":{"line":184,"column":16},"end":{"line":184,"column":23}},"name":"onerror"},"computed":false},"right":{"type":"FunctionExpression","start":4992,"end":5084,"loc":{"start":{"line":184,"column":26},"end":{"line":186,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":5004,"end":5084,"loc":{"start":{"line":184,"column":38},"end":{"line":186,"column":9}},"body":[{"type":"ExpressionStatement","start":5016,"end":5074,"loc":{"start":{"line":185,"column":10},"end":{"line":185,"column":68}},"expression":{"type":"CallExpression","start":5016,"end":5073,"loc":{"start":{"line":185,"column":10},"end":{"line":185,"column":67}},"callee":{"type":"Identifier","start":5016,"end":5022,"loc":{"start":{"line":185,"column":10},"end":{"line":185,"column":16}},"name":"reject"},"arguments":[{"type":"NewExpression","start":5023,"end":5072,"loc":{"start":{"line":185,"column":17},"end":{"line":185,"column":66}},"callee":{"type":"Identifier","start":5027,"end":5032,"loc":{"start":{"line":185,"column":21},"end":{"line":185,"column":26}},"name":"Error"},"arguments":[{"type":"Literal","start":5033,"end":5071,"loc":{"start":{"line":185,"column":27},"end":{"line":185,"column":65}},"value":"Could not retrieve stored blobs size","raw":"'Could not retrieve stored blobs size'"}]}]}}]}}}}]}}]}}]}}]}}]}}},"comments":[{"type":"Block","value":"*\n   * Get the total size of all stored files.\n   *\n   * @private\n   ","start":4237,"end":4310,"loc":{"start":{"line":156,"column":2},"end":{"line":160,"column":5}}}]},{"type":"ExpressionStatement","start":5158,"end":5964,"loc":{"start":{"line":195,"column":2},"end":{"line":223,"column":3}},"expression":{"type":"AssignmentExpression","start":5158,"end":5908,"loc":{"start":{"line":195,"column":2},"end":{"line":219,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":5158,"end":5168,"loc":{"start":{"line":195,"column":2},"end":{"line":195,"column":12}},"object":{"type":"Identifier","start":5158,"end":5164,"loc":{"start":{"line":195,"column":2},"end":{"line":195,"column":8}},"name":"_proto"},"property":{"type":"Identifier","start":5165,"end":5168,"loc":{"start":{"line":195,"column":9},"end":{"line":195,"column":12}},"name":"put"},"computed":false},"right":{"type":"FunctionExpression","start":5171,"end":5908,"loc":{"start":{"line":195,"column":15},"end":{"line":219,"column":3}},"id":{"type":"Identifier","start":5180,"end":5183,"loc":{"start":{"line":195,"column":24},"end":{"line":195,"column":27}},"name":"put"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5184,"end":5188,"loc":{"start":{"line":195,"column":28},"end":{"line":195,"column":32}},"name":"file"}],"body":{"type":"BlockStatement","start":5190,"end":5908,"loc":{"start":{"line":195,"column":34},"end":{"line":219,"column":3}},"body":[{"type":"VariableDeclaration","start":5196,"end":5214,"loc":{"start":{"line":196,"column":4},"end":{"line":196,"column":22}},"declarations":[{"type":"VariableDeclarator","start":5200,"end":5213,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":21}},"id":{"type":"Identifier","start":5200,"end":5206,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":14}},"name":"_this5"},"init":{"type":"ThisExpression","start":5209,"end":5213,"loc":{"start":{"line":196,"column":17},"end":{"line":196,"column":21}}}}],"kind":"var"},{"type":"IfStatement","start":5220,"end":5340,"loc":{"start":{"line":198,"column":4},"end":{"line":200,"column":5}},"test":{"type":"BinaryExpression","start":5224,"end":5262,"loc":{"start":{"line":198,"column":8},"end":{"line":198,"column":46}},"left":{"type":"MemberExpression","start":5224,"end":5238,"loc":{"start":{"line":198,"column":8},"end":{"line":198,"column":22}},"object":{"type":"MemberExpression","start":5224,"end":5233,"loc":{"start":{"line":198,"column":8},"end":{"line":198,"column":17}},"object":{"type":"Identifier","start":5224,"end":5228,"loc":{"start":{"line":198,"column":8},"end":{"line":198,"column":12}},"name":"file"},"property":{"type":"Identifier","start":5229,"end":5233,"loc":{"start":{"line":198,"column":13},"end":{"line":198,"column":17}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":5234,"end":5238,"loc":{"start":{"line":198,"column":18},"end":{"line":198,"column":22}},"name":"size"},"computed":false},"operator":">","right":{"type":"MemberExpression","start":5241,"end":5262,"loc":{"start":{"line":198,"column":25},"end":{"line":198,"column":46}},"object":{"type":"MemberExpression","start":5241,"end":5250,"loc":{"start":{"line":198,"column":25},"end":{"line":198,"column":34}},"object":{"type":"ThisExpression","start":5241,"end":5245,"loc":{"start":{"line":198,"column":25},"end":{"line":198,"column":29}}},"property":{"type":"Identifier","start":5246,"end":5250,"loc":{"start":{"line":198,"column":30},"end":{"line":198,"column":34}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":5251,"end":5262,"loc":{"start":{"line":198,"column":35},"end":{"line":198,"column":46}},"name":"maxFileSize"},"computed":false}},"consequent":{"type":"BlockStatement","start":5264,"end":5340,"loc":{"start":{"line":198,"column":48},"end":{"line":200,"column":5}},"body":[{"type":"ReturnStatement","start":5272,"end":5334,"loc":{"start":{"line":199,"column":6},"end":{"line":199,"column":68}},"argument":{"type":"CallExpression","start":5279,"end":5333,"loc":{"start":{"line":199,"column":13},"end":{"line":199,"column":67}},"callee":{"type":"MemberExpression","start":5279,"end":5293,"loc":{"start":{"line":199,"column":13},"end":{"line":199,"column":27}},"object":{"type":"Identifier","start":5279,"end":5286,"loc":{"start":{"line":199,"column":13},"end":{"line":199,"column":20}},"name":"Promise"},"property":{"type":"Identifier","start":5287,"end":5293,"loc":{"start":{"line":199,"column":21},"end":{"line":199,"column":27}},"name":"reject"},"computed":false},"arguments":[{"type":"NewExpression","start":5294,"end":5332,"loc":{"start":{"line":199,"column":28},"end":{"line":199,"column":66}},"callee":{"type":"Identifier","start":5298,"end":5303,"loc":{"start":{"line":199,"column":32},"end":{"line":199,"column":37}},"name":"Error"},"arguments":[{"type":"Literal","start":5304,"end":5331,"loc":{"start":{"line":199,"column":38},"end":{"line":199,"column":65}},"value":"File is too big to store.","raw":"'File is too big to store.'"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":5346,"end":5904,"loc":{"start":{"line":202,"column":4},"end":{"line":218,"column":7}},"argument":{"type":"CallExpression","start":5353,"end":5903,"loc":{"start":{"line":202,"column":11},"end":{"line":218,"column":6}},"callee":{"type":"MemberExpression","start":5353,"end":5542,"loc":{"start":{"line":202,"column":11},"end":{"line":208,"column":11}},"object":{"type":"CallExpression","start":5353,"end":5537,"loc":{"start":{"line":202,"column":11},"end":{"line":208,"column":6}},"callee":{"type":"MemberExpression","start":5353,"end":5372,"loc":{"start":{"line":202,"column":11},"end":{"line":202,"column":30}},"object":{"type":"CallExpression","start":5353,"end":5367,"loc":{"start":{"line":202,"column":11},"end":{"line":202,"column":25}},"callee":{"type":"MemberExpression","start":5353,"end":5365,"loc":{"start":{"line":202,"column":11},"end":{"line":202,"column":23}},"object":{"type":"ThisExpression","start":5353,"end":5357,"loc":{"start":{"line":202,"column":11},"end":{"line":202,"column":15}}},"property":{"type":"Identifier","start":5358,"end":5365,"loc":{"start":{"line":202,"column":16},"end":{"line":202,"column":23}},"name":"getSize"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":5368,"end":5372,"loc":{"start":{"line":202,"column":26},"end":{"line":202,"column":30}},"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":5373,"end":5536,"loc":{"start":{"line":202,"column":31},"end":{"line":208,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5383,"end":5387,"loc":{"start":{"line":202,"column":41},"end":{"line":202,"column":45}},"name":"size"}],"body":{"type":"BlockStatement","start":5389,"end":5536,"loc":{"start":{"line":202,"column":47},"end":{"line":208,"column":5}},"body":[{"type":"IfStatement","start":5397,"end":5502,"loc":{"start":{"line":203,"column":6},"end":{"line":205,"column":7}},"test":{"type":"BinaryExpression","start":5401,"end":5432,"loc":{"start":{"line":203,"column":10},"end":{"line":203,"column":41}},"left":{"type":"Identifier","start":5401,"end":5405,"loc":{"start":{"line":203,"column":10},"end":{"line":203,"column":14}},"name":"size"},"operator":">","right":{"type":"MemberExpression","start":5408,"end":5432,"loc":{"start":{"line":203,"column":17},"end":{"line":203,"column":41}},"object":{"type":"MemberExpression","start":5408,"end":5419,"loc":{"start":{"line":203,"column":17},"end":{"line":203,"column":28}},"object":{"type":"Identifier","start":5408,"end":5414,"loc":{"start":{"line":203,"column":17},"end":{"line":203,"column":23}},"name":"_this5"},"property":{"type":"Identifier","start":5415,"end":5419,"loc":{"start":{"line":203,"column":24},"end":{"line":203,"column":28}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":5420,"end":5432,"loc":{"start":{"line":203,"column":29},"end":{"line":203,"column":41}},"name":"maxTotalSize"},"computed":false}},"consequent":{"type":"BlockStatement","start":5434,"end":5502,"loc":{"start":{"line":203,"column":43},"end":{"line":205,"column":7}},"body":[{"type":"ReturnStatement","start":5444,"end":5494,"loc":{"start":{"line":204,"column":8},"end":{"line":204,"column":58}},"argument":{"type":"CallExpression","start":5451,"end":5493,"loc":{"start":{"line":204,"column":15},"end":{"line":204,"column":57}},"callee":{"type":"MemberExpression","start":5451,"end":5465,"loc":{"start":{"line":204,"column":15},"end":{"line":204,"column":29}},"object":{"type":"Identifier","start":5451,"end":5458,"loc":{"start":{"line":204,"column":15},"end":{"line":204,"column":22}},"name":"Promise"},"property":{"type":"Identifier","start":5459,"end":5465,"loc":{"start":{"line":204,"column":23},"end":{"line":204,"column":29}},"name":"reject"},"computed":false},"arguments":[{"type":"NewExpression","start":5466,"end":5492,"loc":{"start":{"line":204,"column":30},"end":{"line":204,"column":56}},"callee":{"type":"Identifier","start":5470,"end":5475,"loc":{"start":{"line":204,"column":34},"end":{"line":204,"column":39}},"name":"Error"},"arguments":[{"type":"Literal","start":5476,"end":5491,"loc":{"start":{"line":204,"column":40},"end":{"line":204,"column":55}},"value":"No space left","raw":"'No space left'"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":5510,"end":5530,"loc":{"start":{"line":207,"column":6},"end":{"line":207,"column":26}},"argument":{"type":"MemberExpression","start":5517,"end":5529,"loc":{"start":{"line":207,"column":13},"end":{"line":207,"column":25}},"object":{"type":"Identifier","start":5517,"end":5523,"loc":{"start":{"line":207,"column":13},"end":{"line":207,"column":19}},"name":"_this5"},"property":{"type":"Identifier","start":5524,"end":5529,"loc":{"start":{"line":207,"column":20},"end":{"line":207,"column":25}},"name":"ready"},"computed":false}}]}}]},"property":{"type":"Identifier","start":5538,"end":5542,"loc":{"start":{"line":208,"column":7},"end":{"line":208,"column":11}},"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":5543,"end":5902,"loc":{"start":{"line":208,"column":12},"end":{"line":218,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5553,"end":5555,"loc":{"start":{"line":208,"column":22},"end":{"line":208,"column":24}},"name":"db"}],"body":{"type":"BlockStatement","start":5557,"end":5902,"loc":{"start":{"line":208,"column":26},"end":{"line":218,"column":5}},"body":[{"type":"VariableDeclaration","start":5565,"end":5625,"loc":{"start":{"line":209,"column":6},"end":{"line":209,"column":66}},"declarations":[{"type":"VariableDeclarator","start":5569,"end":5624,"loc":{"start":{"line":209,"column":10},"end":{"line":209,"column":65}},"id":{"type":"Identifier","start":5569,"end":5580,"loc":{"start":{"line":209,"column":10},"end":{"line":209,"column":21}},"name":"transaction"},"init":{"type":"CallExpression","start":5583,"end":5624,"loc":{"start":{"line":209,"column":24},"end":{"line":209,"column":65}},"callee":{"type":"MemberExpression","start":5583,"end":5597,"loc":{"start":{"line":209,"column":24},"end":{"line":209,"column":38}},"object":{"type":"Identifier","start":5583,"end":5585,"loc":{"start":{"line":209,"column":24},"end":{"line":209,"column":26}},"name":"db"},"property":{"type":"Identifier","start":5586,"end":5597,"loc":{"start":{"line":209,"column":27},"end":{"line":209,"column":38}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":5598,"end":5610,"loc":{"start":{"line":209,"column":39},"end":{"line":209,"column":51}},"elements":[{"type":"Identifier","start":5599,"end":5609,"loc":{"start":{"line":209,"column":40},"end":{"line":209,"column":50}},"name":"STORE_NAME"}]},{"type":"Literal","start":5612,"end":5623,"loc":{"start":{"line":209,"column":53},"end":{"line":209,"column":64}},"value":"readwrite","raw":"'readwrite'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":5632,"end":5858,"loc":{"start":{"line":210,"column":6},"end":{"line":216,"column":9}},"declarations":[{"type":"VariableDeclarator","start":5636,"end":5857,"loc":{"start":{"line":210,"column":10},"end":{"line":216,"column":8}},"id":{"type":"Identifier","start":5636,"end":5643,"loc":{"start":{"line":210,"column":10},"end":{"line":210,"column":17}},"name":"request"},"init":{"type":"CallExpression","start":5646,"end":5857,"loc":{"start":{"line":210,"column":20},"end":{"line":216,"column":8}},"callee":{"type":"MemberExpression","start":5646,"end":5685,"loc":{"start":{"line":210,"column":20},"end":{"line":210,"column":59}},"object":{"type":"CallExpression","start":5646,"end":5681,"loc":{"start":{"line":210,"column":20},"end":{"line":210,"column":55}},"callee":{"type":"MemberExpression","start":5646,"end":5669,"loc":{"start":{"line":210,"column":20},"end":{"line":210,"column":43}},"object":{"type":"Identifier","start":5646,"end":5657,"loc":{"start":{"line":210,"column":20},"end":{"line":210,"column":31}},"name":"transaction"},"property":{"type":"Identifier","start":5658,"end":5669,"loc":{"start":{"line":210,"column":32},"end":{"line":210,"column":43}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":5670,"end":5680,"loc":{"start":{"line":210,"column":44},"end":{"line":210,"column":54}},"name":"STORE_NAME"}]},"property":{"type":"Identifier","start":5682,"end":5685,"loc":{"start":{"line":210,"column":56},"end":{"line":210,"column":59}},"name":"add"},"computed":false},"arguments":[{"type":"ObjectExpression","start":5686,"end":5856,"loc":{"start":{"line":210,"column":60},"end":{"line":216,"column":7}},"properties":[{"type":"Property","start":5696,"end":5719,"loc":{"start":{"line":211,"column":8},"end":{"line":211,"column":31}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5696,"end":5698,"loc":{"start":{"line":211,"column":8},"end":{"line":211,"column":10}},"name":"id"},"value":{"type":"CallExpression","start":5700,"end":5719,"loc":{"start":{"line":211,"column":12},"end":{"line":211,"column":31}},"callee":{"type":"MemberExpression","start":5700,"end":5710,"loc":{"start":{"line":211,"column":12},"end":{"line":211,"column":22}},"object":{"type":"Identifier","start":5700,"end":5706,"loc":{"start":{"line":211,"column":12},"end":{"line":211,"column":18}},"name":"_this5"},"property":{"type":"Identifier","start":5707,"end":5710,"loc":{"start":{"line":211,"column":19},"end":{"line":211,"column":22}},"name":"key"},"computed":false},"arguments":[{"type":"MemberExpression","start":5711,"end":5718,"loc":{"start":{"line":211,"column":23},"end":{"line":211,"column":30}},"object":{"type":"Identifier","start":5711,"end":5715,"loc":{"start":{"line":211,"column":23},"end":{"line":211,"column":27}},"name":"file"},"property":{"type":"Identifier","start":5716,"end":5718,"loc":{"start":{"line":211,"column":28},"end":{"line":211,"column":30}},"name":"id"},"computed":false}]},"kind":"init"},{"type":"Property","start":5729,"end":5744,"loc":{"start":{"line":212,"column":8},"end":{"line":212,"column":23}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5729,"end":5735,"loc":{"start":{"line":212,"column":8},"end":{"line":212,"column":14}},"name":"fileID"},"value":{"type":"MemberExpression","start":5737,"end":5744,"loc":{"start":{"line":212,"column":16},"end":{"line":212,"column":23}},"object":{"type":"Identifier","start":5737,"end":5741,"loc":{"start":{"line":212,"column":16},"end":{"line":212,"column":20}},"name":"file"},"property":{"type":"Identifier","start":5742,"end":5744,"loc":{"start":{"line":212,"column":21},"end":{"line":212,"column":23}},"name":"id"},"computed":false},"kind":"init"},{"type":"Property","start":5754,"end":5772,"loc":{"start":{"line":213,"column":8},"end":{"line":213,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5754,"end":5759,"loc":{"start":{"line":213,"column":8},"end":{"line":213,"column":13}},"name":"store"},"value":{"type":"MemberExpression","start":5761,"end":5772,"loc":{"start":{"line":213,"column":15},"end":{"line":213,"column":26}},"object":{"type":"Identifier","start":5761,"end":5767,"loc":{"start":{"line":213,"column":15},"end":{"line":213,"column":21}},"name":"_this5"},"property":{"type":"Identifier","start":5768,"end":5772,"loc":{"start":{"line":213,"column":22},"end":{"line":213,"column":26}},"name":"name"},"computed":false},"kind":"init"},{"type":"Property","start":5782,"end":5823,"loc":{"start":{"line":214,"column":8},"end":{"line":214,"column":49}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5782,"end":5789,"loc":{"start":{"line":214,"column":8},"end":{"line":214,"column":15}},"name":"expires"},"value":{"type":"BinaryExpression","start":5791,"end":5823,"loc":{"start":{"line":214,"column":17},"end":{"line":214,"column":49}},"left":{"type":"CallExpression","start":5791,"end":5801,"loc":{"start":{"line":214,"column":17},"end":{"line":214,"column":27}},"callee":{"type":"MemberExpression","start":5791,"end":5799,"loc":{"start":{"line":214,"column":17},"end":{"line":214,"column":25}},"object":{"type":"Identifier","start":5791,"end":5795,"loc":{"start":{"line":214,"column":17},"end":{"line":214,"column":21}},"name":"Date"},"property":{"type":"Identifier","start":5796,"end":5799,"loc":{"start":{"line":214,"column":22},"end":{"line":214,"column":25}},"name":"now"},"computed":false},"arguments":[]},"operator":"+","right":{"type":"MemberExpression","start":5804,"end":5823,"loc":{"start":{"line":214,"column":30},"end":{"line":214,"column":49}},"object":{"type":"MemberExpression","start":5804,"end":5815,"loc":{"start":{"line":214,"column":30},"end":{"line":214,"column":41}},"object":{"type":"Identifier","start":5804,"end":5810,"loc":{"start":{"line":214,"column":30},"end":{"line":214,"column":36}},"name":"_this5"},"property":{"type":"Identifier","start":5811,"end":5815,"loc":{"start":{"line":214,"column":37},"end":{"line":214,"column":41}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":5816,"end":5823,"loc":{"start":{"line":214,"column":42},"end":{"line":214,"column":49}},"name":"expires"},"computed":false}},"kind":"init"},{"type":"Property","start":5833,"end":5848,"loc":{"start":{"line":215,"column":8},"end":{"line":215,"column":23}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5833,"end":5837,"loc":{"start":{"line":215,"column":8},"end":{"line":215,"column":12}},"name":"data"},"value":{"type":"MemberExpression","start":5839,"end":5848,"loc":{"start":{"line":215,"column":14},"end":{"line":215,"column":23}},"object":{"type":"Identifier","start":5839,"end":5843,"loc":{"start":{"line":215,"column":14},"end":{"line":215,"column":18}},"name":"file"},"property":{"type":"Identifier","start":5844,"end":5848,"loc":{"start":{"line":215,"column":19},"end":{"line":215,"column":23}},"name":"data"},"computed":false},"kind":"init"}]}]}}],"kind":"var"},{"type":"ReturnStatement","start":5865,"end":5896,"loc":{"start":{"line":217,"column":6},"end":{"line":217,"column":37}},"argument":{"type":"CallExpression","start":5872,"end":5895,"loc":{"start":{"line":217,"column":13},"end":{"line":217,"column":36}},"callee":{"type":"Identifier","start":5872,"end":5886,"loc":{"start":{"line":217,"column":13},"end":{"line":217,"column":27}},"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":5887,"end":5894,"loc":{"start":{"line":217,"column":28},"end":{"line":217,"column":35}},"name":"request"}]}}]}}]}}]}}},"comments":[{"type":"Block","value":"*\n   * Save a file in the store.\n   ","start":5110,"end":5150,"loc":{"start":{"line":190,"column":2},"end":{"line":192,"column":5}}}]},{"type":"ExpressionStatement","start":5968,"end":6464,"loc":{"start":{"line":225,"column":2},"end":{"line":238,"column":3}},"expression":{"type":"AssignmentExpression","start":5968,"end":6278,"loc":{"start":{"line":225,"column":2},"end":{"line":233,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":5968,"end":5981,"loc":{"start":{"line":225,"column":2},"end":{"line":225,"column":15}},"object":{"type":"Identifier","start":5968,"end":5974,"loc":{"start":{"line":225,"column":2},"end":{"line":225,"column":8}},"name":"_proto"},"property":{"type":"Identifier","start":5975,"end":5981,"loc":{"start":{"line":225,"column":9},"end":{"line":225,"column":15}},"name":"delete"},"computed":false},"right":{"type":"FunctionExpression","start":5984,"end":6278,"loc":{"start":{"line":225,"column":18},"end":{"line":233,"column":3}},"id":{"type":"Identifier","start":5993,"end":6000,"loc":{"start":{"line":225,"column":27},"end":{"line":225,"column":34}},"name":"_delete"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6001,"end":6007,"loc":{"start":{"line":225,"column":35},"end":{"line":225,"column":41}},"name":"fileID"}],"body":{"type":"BlockStatement","start":6009,"end":6278,"loc":{"start":{"line":225,"column":43},"end":{"line":233,"column":3}},"body":[{"type":"VariableDeclaration","start":6015,"end":6033,"loc":{"start":{"line":226,"column":4},"end":{"line":226,"column":22}},"declarations":[{"type":"VariableDeclarator","start":6019,"end":6032,"loc":{"start":{"line":226,"column":8},"end":{"line":226,"column":21}},"id":{"type":"Identifier","start":6019,"end":6025,"loc":{"start":{"line":226,"column":8},"end":{"line":226,"column":14}},"name":"_this6"},"init":{"type":"ThisExpression","start":6028,"end":6032,"loc":{"start":{"line":226,"column":17},"end":{"line":226,"column":21}}}}],"kind":"var"},{"type":"ReturnStatement","start":6039,"end":6274,"loc":{"start":{"line":228,"column":4},"end":{"line":232,"column":7}},"argument":{"type":"CallExpression","start":6046,"end":6273,"loc":{"start":{"line":228,"column":11},"end":{"line":232,"column":6}},"callee":{"type":"MemberExpression","start":6046,"end":6061,"loc":{"start":{"line":228,"column":11},"end":{"line":228,"column":26}},"object":{"type":"MemberExpression","start":6046,"end":6056,"loc":{"start":{"line":228,"column":11},"end":{"line":228,"column":21}},"object":{"type":"ThisExpression","start":6046,"end":6050,"loc":{"start":{"line":228,"column":11},"end":{"line":228,"column":15}}},"property":{"type":"Identifier","start":6051,"end":6056,"loc":{"start":{"line":228,"column":16},"end":{"line":228,"column":21}},"name":"ready"},"computed":false},"property":{"type":"Identifier","start":6057,"end":6061,"loc":{"start":{"line":228,"column":22},"end":{"line":228,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":6062,"end":6272,"loc":{"start":{"line":228,"column":27},"end":{"line":232,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6072,"end":6074,"loc":{"start":{"line":228,"column":37},"end":{"line":228,"column":39}},"name":"db"}],"body":{"type":"BlockStatement","start":6076,"end":6272,"loc":{"start":{"line":228,"column":41},"end":{"line":232,"column":5}},"body":[{"type":"VariableDeclaration","start":6084,"end":6144,"loc":{"start":{"line":229,"column":6},"end":{"line":229,"column":66}},"declarations":[{"type":"VariableDeclarator","start":6088,"end":6143,"loc":{"start":{"line":229,"column":10},"end":{"line":229,"column":65}},"id":{"type":"Identifier","start":6088,"end":6099,"loc":{"start":{"line":229,"column":10},"end":{"line":229,"column":21}},"name":"transaction"},"init":{"type":"CallExpression","start":6102,"end":6143,"loc":{"start":{"line":229,"column":24},"end":{"line":229,"column":65}},"callee":{"type":"MemberExpression","start":6102,"end":6116,"loc":{"start":{"line":229,"column":24},"end":{"line":229,"column":38}},"object":{"type":"Identifier","start":6102,"end":6104,"loc":{"start":{"line":229,"column":24},"end":{"line":229,"column":26}},"name":"db"},"property":{"type":"Identifier","start":6105,"end":6116,"loc":{"start":{"line":229,"column":27},"end":{"line":229,"column":38}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":6117,"end":6129,"loc":{"start":{"line":229,"column":39},"end":{"line":229,"column":51}},"elements":[{"type":"Identifier","start":6118,"end":6128,"loc":{"start":{"line":229,"column":40},"end":{"line":229,"column":50}},"name":"STORE_NAME"}]},{"type":"Literal","start":6131,"end":6142,"loc":{"start":{"line":229,"column":53},"end":{"line":229,"column":64}},"value":"readwrite","raw":"'readwrite'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":6151,"end":6228,"loc":{"start":{"line":230,"column":6},"end":{"line":230,"column":83}},"declarations":[{"type":"VariableDeclarator","start":6155,"end":6227,"loc":{"start":{"line":230,"column":10},"end":{"line":230,"column":82}},"id":{"type":"Identifier","start":6155,"end":6162,"loc":{"start":{"line":230,"column":10},"end":{"line":230,"column":17}},"name":"request"},"init":{"type":"CallExpression","start":6165,"end":6227,"loc":{"start":{"line":230,"column":20},"end":{"line":230,"column":82}},"callee":{"type":"MemberExpression","start":6165,"end":6207,"loc":{"start":{"line":230,"column":20},"end":{"line":230,"column":62}},"object":{"type":"CallExpression","start":6165,"end":6200,"loc":{"start":{"line":230,"column":20},"end":{"line":230,"column":55}},"callee":{"type":"MemberExpression","start":6165,"end":6188,"loc":{"start":{"line":230,"column":20},"end":{"line":230,"column":43}},"object":{"type":"Identifier","start":6165,"end":6176,"loc":{"start":{"line":230,"column":20},"end":{"line":230,"column":31}},"name":"transaction"},"property":{"type":"Identifier","start":6177,"end":6188,"loc":{"start":{"line":230,"column":32},"end":{"line":230,"column":43}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":6189,"end":6199,"loc":{"start":{"line":230,"column":44},"end":{"line":230,"column":54}},"name":"STORE_NAME"}]},"property":{"type":"Identifier","start":6201,"end":6207,"loc":{"start":{"line":230,"column":56},"end":{"line":230,"column":62}},"name":"delete"},"computed":false},"arguments":[{"type":"CallExpression","start":6208,"end":6226,"loc":{"start":{"line":230,"column":63},"end":{"line":230,"column":81}},"callee":{"type":"MemberExpression","start":6208,"end":6218,"loc":{"start":{"line":230,"column":63},"end":{"line":230,"column":73}},"object":{"type":"Identifier","start":6208,"end":6214,"loc":{"start":{"line":230,"column":63},"end":{"line":230,"column":69}},"name":"_this6"},"property":{"type":"Identifier","start":6215,"end":6218,"loc":{"start":{"line":230,"column":70},"end":{"line":230,"column":73}},"name":"key"},"computed":false},"arguments":[{"type":"Identifier","start":6219,"end":6225,"loc":{"start":{"line":230,"column":74},"end":{"line":230,"column":80}},"name":"fileID"}]}]}}],"kind":"var"},{"type":"ReturnStatement","start":6235,"end":6266,"loc":{"start":{"line":231,"column":6},"end":{"line":231,"column":37}},"argument":{"type":"CallExpression","start":6242,"end":6265,"loc":{"start":{"line":231,"column":13},"end":{"line":231,"column":36}},"callee":{"type":"Identifier","start":6242,"end":6256,"loc":{"start":{"line":231,"column":13},"end":{"line":231,"column":27}},"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":6257,"end":6264,"loc":{"start":{"line":231,"column":28},"end":{"line":231,"column":35}},"name":"request"}]}}]}}]}}]}}},"comments":[{"type":"Block","value":"*\n   * Delete a file blob from the store.\n   ","start":5911,"end":5960,"loc":{"start":{"line":220,"column":2},"end":{"line":222,"column":5}}}]},{"type":"ExpressionStatement","start":6468,"end":7439,"loc":{"start":{"line":240,"column":2},"end":{"line":265,"column":4}},"expression":{"type":"AssignmentExpression","start":6468,"end":7438,"loc":{"start":{"line":240,"column":2},"end":{"line":265,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":6468,"end":6490,"loc":{"start":{"line":240,"column":2},"end":{"line":240,"column":24}},"object":{"type":"Identifier","start":6468,"end":6482,"loc":{"start":{"line":240,"column":2},"end":{"line":240,"column":16}},"name":"IndexedDBStore"},"property":{"type":"Identifier","start":6483,"end":6490,"loc":{"start":{"line":240,"column":17},"end":{"line":240,"column":24}},"name":"cleanup"},"computed":false},"right":{"type":"FunctionExpression","start":6493,"end":7438,"loc":{"start":{"line":240,"column":27},"end":{"line":265,"column":3}},"id":{"type":"Identifier","start":6502,"end":6509,"loc":{"start":{"line":240,"column":36},"end":{"line":240,"column":43}},"name":"cleanup"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":6512,"end":7438,"loc":{"start":{"line":240,"column":46},"end":{"line":265,"column":3}},"body":[{"type":"ReturnStatement","start":6518,"end":7434,"loc":{"start":{"line":241,"column":4},"end":{"line":264,"column":7}},"argument":{"type":"CallExpression","start":6525,"end":7433,"loc":{"start":{"line":241,"column":11},"end":{"line":264,"column":6}},"callee":{"type":"MemberExpression","start":6525,"end":7392,"loc":{"start":{"line":241,"column":11},"end":{"line":262,"column":11}},"object":{"type":"CallExpression","start":6525,"end":7387,"loc":{"start":{"line":241,"column":11},"end":{"line":262,"column":6}},"callee":{"type":"MemberExpression","start":6525,"end":6546,"loc":{"start":{"line":241,"column":11},"end":{"line":241,"column":32}},"object":{"type":"CallExpression","start":6525,"end":6541,"loc":{"start":{"line":241,"column":11},"end":{"line":241,"column":27}},"callee":{"type":"Identifier","start":6525,"end":6532,"loc":{"start":{"line":241,"column":11},"end":{"line":241,"column":18}},"name":"connect"},"arguments":[{"type":"Identifier","start":6533,"end":6540,"loc":{"start":{"line":241,"column":19},"end":{"line":241,"column":26}},"name":"DB_NAME"}]},"property":{"type":"Identifier","start":6542,"end":6546,"loc":{"start":{"line":241,"column":28},"end":{"line":241,"column":32}},"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":6547,"end":7386,"loc":{"start":{"line":241,"column":33},"end":{"line":262,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6557,"end":6559,"loc":{"start":{"line":241,"column":43},"end":{"line":241,"column":45}},"name":"db"}],"body":{"type":"BlockStatement","start":6561,"end":7386,"loc":{"start":{"line":241,"column":47},"end":{"line":262,"column":5}},"body":[{"type":"VariableDeclaration","start":6569,"end":6629,"loc":{"start":{"line":242,"column":6},"end":{"line":242,"column":66}},"declarations":[{"type":"VariableDeclarator","start":6573,"end":6628,"loc":{"start":{"line":242,"column":10},"end":{"line":242,"column":65}},"id":{"type":"Identifier","start":6573,"end":6584,"loc":{"start":{"line":242,"column":10},"end":{"line":242,"column":21}},"name":"transaction"},"init":{"type":"CallExpression","start":6587,"end":6628,"loc":{"start":{"line":242,"column":24},"end":{"line":242,"column":65}},"callee":{"type":"MemberExpression","start":6587,"end":6601,"loc":{"start":{"line":242,"column":24},"end":{"line":242,"column":38}},"object":{"type":"Identifier","start":6587,"end":6589,"loc":{"start":{"line":242,"column":24},"end":{"line":242,"column":26}},"name":"db"},"property":{"type":"Identifier","start":6590,"end":6601,"loc":{"start":{"line":242,"column":27},"end":{"line":242,"column":38}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":6602,"end":6614,"loc":{"start":{"line":242,"column":39},"end":{"line":242,"column":51}},"elements":[{"type":"Identifier","start":6603,"end":6613,"loc":{"start":{"line":242,"column":40},"end":{"line":242,"column":50}},"name":"STORE_NAME"}]},{"type":"Literal","start":6616,"end":6627,"loc":{"start":{"line":242,"column":53},"end":{"line":242,"column":64}},"value":"readwrite","raw":"'readwrite'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":6636,"end":6684,"loc":{"start":{"line":243,"column":6},"end":{"line":243,"column":54}},"declarations":[{"type":"VariableDeclarator","start":6640,"end":6683,"loc":{"start":{"line":243,"column":10},"end":{"line":243,"column":53}},"id":{"type":"Identifier","start":6640,"end":6645,"loc":{"start":{"line":243,"column":10},"end":{"line":243,"column":15}},"name":"store"},"init":{"type":"CallExpression","start":6648,"end":6683,"loc":{"start":{"line":243,"column":18},"end":{"line":243,"column":53}},"callee":{"type":"MemberExpression","start":6648,"end":6671,"loc":{"start":{"line":243,"column":18},"end":{"line":243,"column":41}},"object":{"type":"Identifier","start":6648,"end":6659,"loc":{"start":{"line":243,"column":18},"end":{"line":243,"column":29}},"name":"transaction"},"property":{"type":"Identifier","start":6660,"end":6671,"loc":{"start":{"line":243,"column":30},"end":{"line":243,"column":41}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":6672,"end":6682,"loc":{"start":{"line":243,"column":42},"end":{"line":243,"column":52}},"name":"STORE_NAME"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":6691,"end":6775,"loc":{"start":{"line":244,"column":6},"end":{"line":244,"column":90}},"declarations":[{"type":"VariableDeclarator","start":6695,"end":6774,"loc":{"start":{"line":244,"column":10},"end":{"line":244,"column":89}},"id":{"type":"Identifier","start":6695,"end":6702,"loc":{"start":{"line":244,"column":10},"end":{"line":244,"column":17}},"name":"request"},"init":{"type":"CallExpression","start":6705,"end":6774,"loc":{"start":{"line":244,"column":20},"end":{"line":244,"column":89}},"callee":{"type":"MemberExpression","start":6705,"end":6738,"loc":{"start":{"line":244,"column":20},"end":{"line":244,"column":53}},"object":{"type":"CallExpression","start":6705,"end":6727,"loc":{"start":{"line":244,"column":20},"end":{"line":244,"column":42}},"callee":{"type":"MemberExpression","start":6705,"end":6716,"loc":{"start":{"line":244,"column":20},"end":{"line":244,"column":31}},"object":{"type":"Identifier","start":6705,"end":6710,"loc":{"start":{"line":244,"column":20},"end":{"line":244,"column":25}},"name":"store"},"property":{"type":"Identifier","start":6711,"end":6716,"loc":{"start":{"line":244,"column":26},"end":{"line":244,"column":31}},"name":"index"},"computed":false},"arguments":[{"type":"Literal","start":6717,"end":6726,"loc":{"start":{"line":244,"column":32},"end":{"line":244,"column":41}},"value":"expires","raw":"'expires'"}]},"property":{"type":"Identifier","start":6728,"end":6738,"loc":{"start":{"line":244,"column":43},"end":{"line":244,"column":53}},"name":"openCursor"},"computed":false},"arguments":[{"type":"CallExpression","start":6739,"end":6773,"loc":{"start":{"line":244,"column":54},"end":{"line":244,"column":88}},"callee":{"type":"MemberExpression","start":6739,"end":6761,"loc":{"start":{"line":244,"column":54},"end":{"line":244,"column":76}},"object":{"type":"Identifier","start":6739,"end":6750,"loc":{"start":{"line":244,"column":54},"end":{"line":244,"column":65}},"name":"IDBKeyRange"},"property":{"type":"Identifier","start":6751,"end":6761,"loc":{"start":{"line":244,"column":66},"end":{"line":244,"column":76}},"name":"upperBound"},"computed":false},"arguments":[{"type":"CallExpression","start":6762,"end":6772,"loc":{"start":{"line":244,"column":77},"end":{"line":244,"column":87}},"callee":{"type":"MemberExpression","start":6762,"end":6770,"loc":{"start":{"line":244,"column":77},"end":{"line":244,"column":85}},"object":{"type":"Identifier","start":6762,"end":6766,"loc":{"start":{"line":244,"column":77},"end":{"line":244,"column":81}},"name":"Date"},"property":{"type":"Identifier","start":6767,"end":6770,"loc":{"start":{"line":244,"column":82},"end":{"line":244,"column":85}},"name":"now"},"computed":false},"arguments":[]}]}]}}],"kind":"var"},{"type":"ReturnStatement","start":6782,"end":7380,"loc":{"start":{"line":245,"column":6},"end":{"line":261,"column":9}},"argument":{"type":"NewExpression","start":6789,"end":7379,"loc":{"start":{"line":245,"column":13},"end":{"line":261,"column":8}},"callee":{"type":"Identifier","start":6793,"end":6800,"loc":{"start":{"line":245,"column":17},"end":{"line":245,"column":24}},"name":"Promise"},"arguments":[{"type":"FunctionExpression","start":6801,"end":7378,"loc":{"start":{"line":245,"column":25},"end":{"line":261,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6811,"end":6818,"loc":{"start":{"line":245,"column":35},"end":{"line":245,"column":42}},"name":"resolve"},{"type":"Identifier","start":6820,"end":6826,"loc":{"start":{"line":245,"column":44},"end":{"line":245,"column":50}},"name":"reject"}],"body":{"type":"BlockStatement","start":6828,"end":7378,"loc":{"start":{"line":245,"column":52},"end":{"line":261,"column":7}},"body":[{"type":"ExpressionStatement","start":6838,"end":7335,"loc":{"start":{"line":246,"column":8},"end":{"line":258,"column":10}},"expression":{"type":"AssignmentExpression","start":6838,"end":7334,"loc":{"start":{"line":246,"column":8},"end":{"line":258,"column":9}},"operator":"=","left":{"type":"MemberExpression","start":6838,"end":6855,"loc":{"start":{"line":246,"column":8},"end":{"line":246,"column":25}},"object":{"type":"Identifier","start":6838,"end":6845,"loc":{"start":{"line":246,"column":8},"end":{"line":246,"column":15}},"name":"request"},"property":{"type":"Identifier","start":6846,"end":6855,"loc":{"start":{"line":246,"column":16},"end":{"line":246,"column":25}},"name":"onsuccess"},"computed":false},"right":{"type":"FunctionExpression","start":6858,"end":7334,"loc":{"start":{"line":246,"column":28},"end":{"line":258,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6868,"end":6873,"loc":{"start":{"line":246,"column":38},"end":{"line":246,"column":43}},"name":"event"}],"body":{"type":"BlockStatement","start":6875,"end":7334,"loc":{"start":{"line":246,"column":45},"end":{"line":258,"column":9}},"body":[{"type":"VariableDeclaration","start":6887,"end":6920,"loc":{"start":{"line":247,"column":10},"end":{"line":247,"column":43}},"declarations":[{"type":"VariableDeclarator","start":6891,"end":6919,"loc":{"start":{"line":247,"column":14},"end":{"line":247,"column":42}},"id":{"type":"Identifier","start":6891,"end":6897,"loc":{"start":{"line":247,"column":14},"end":{"line":247,"column":20}},"name":"cursor"},"init":{"type":"MemberExpression","start":6900,"end":6919,"loc":{"start":{"line":247,"column":23},"end":{"line":247,"column":42}},"object":{"type":"MemberExpression","start":6900,"end":6912,"loc":{"start":{"line":247,"column":23},"end":{"line":247,"column":35}},"object":{"type":"Identifier","start":6900,"end":6905,"loc":{"start":{"line":247,"column":23},"end":{"line":247,"column":28}},"name":"event"},"property":{"type":"Identifier","start":6906,"end":6912,"loc":{"start":{"line":247,"column":29},"end":{"line":247,"column":35}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":6913,"end":6919,"loc":{"start":{"line":247,"column":36},"end":{"line":247,"column":42}},"name":"result"},"computed":false}}],"kind":"var"},{"type":"IfStatement","start":6932,"end":7324,"loc":{"start":{"line":249,"column":10},"end":{"line":257,"column":11}},"test":{"type":"Identifier","start":6936,"end":6942,"loc":{"start":{"line":249,"column":14},"end":{"line":249,"column":20}},"name":"cursor"},"consequent":{"type":"BlockStatement","start":6944,"end":7280,"loc":{"start":{"line":249,"column":22},"end":{"line":255,"column":11}},"body":[{"type":"VariableDeclaration","start":6958,"end":6983,"loc":{"start":{"line":250,"column":12},"end":{"line":250,"column":37}},"declarations":[{"type":"VariableDeclarator","start":6962,"end":6982,"loc":{"start":{"line":250,"column":16},"end":{"line":250,"column":36}},"id":{"type":"Identifier","start":6962,"end":6967,"loc":{"start":{"line":250,"column":16},"end":{"line":250,"column":21}},"name":"entry"},"init":{"type":"MemberExpression","start":6970,"end":6982,"loc":{"start":{"line":250,"column":24},"end":{"line":250,"column":36}},"object":{"type":"Identifier","start":6970,"end":6976,"loc":{"start":{"line":250,"column":24},"end":{"line":250,"column":30}},"name":"cursor"},"property":{"type":"Identifier","start":6977,"end":6982,"loc":{"start":{"line":250,"column":31},"end":{"line":250,"column":36}},"name":"value"},"computed":false}}],"kind":"var"},{"type":"ExpressionStatement","start":6996,"end":7142,"loc":{"start":{"line":251,"column":12},"end":{"line":251,"column":158}},"expression":{"type":"CallExpression","start":6996,"end":7141,"loc":{"start":{"line":251,"column":12},"end":{"line":251,"column":157}},"callee":{"type":"MemberExpression","start":6996,"end":7007,"loc":{"start":{"line":251,"column":12},"end":{"line":251,"column":23}},"object":{"type":"Identifier","start":6996,"end":7003,"loc":{"start":{"line":251,"column":12},"end":{"line":251,"column":19}},"name":"console"},"property":{"type":"Identifier","start":7004,"end":7007,"loc":{"start":{"line":251,"column":20},"end":{"line":251,"column":23}},"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":7008,"end":7042,"loc":{"start":{"line":251,"column":24},"end":{"line":251,"column":58}},"value":"[IndexedDBStore] Deleting record","raw":"'[IndexedDBStore] Deleting record'"},{"type":"MemberExpression","start":7044,"end":7056,"loc":{"start":{"line":251,"column":60},"end":{"line":251,"column":72}},"object":{"type":"Identifier","start":7044,"end":7049,"loc":{"start":{"line":251,"column":60},"end":{"line":251,"column":65}},"name":"entry"},"property":{"type":"Identifier","start":7050,"end":7056,"loc":{"start":{"line":251,"column":66},"end":{"line":251,"column":72}},"name":"fileID"},"computed":false},{"type":"Literal","start":7058,"end":7067,"loc":{"start":{"line":251,"column":74},"end":{"line":251,"column":83}},"value":"of size","raw":"'of size'"},{"type":"CallExpression","start":7069,"end":7099,"loc":{"start":{"line":251,"column":85},"end":{"line":251,"column":115}},"callee":{"type":"Identifier","start":7069,"end":7082,"loc":{"start":{"line":251,"column":85},"end":{"line":251,"column":98}},"name":"prettierBytes"},"arguments":[{"type":"MemberExpression","start":7083,"end":7098,"loc":{"start":{"line":251,"column":99},"end":{"line":251,"column":114}},"object":{"type":"MemberExpression","start":7083,"end":7093,"loc":{"start":{"line":251,"column":99},"end":{"line":251,"column":109}},"object":{"type":"Identifier","start":7083,"end":7088,"loc":{"start":{"line":251,"column":99},"end":{"line":251,"column":104}},"name":"entry"},"property":{"type":"Identifier","start":7089,"end":7093,"loc":{"start":{"line":251,"column":105},"end":{"line":251,"column":109}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":7094,"end":7098,"loc":{"start":{"line":251,"column":110},"end":{"line":251,"column":114}},"name":"size"},"computed":false}]},{"type":"Literal","start":7101,"end":7115,"loc":{"start":{"line":251,"column":117},"end":{"line":251,"column":131}},"value":"- expired on","raw":"'- expired on'"},{"type":"NewExpression","start":7117,"end":7140,"loc":{"start":{"line":251,"column":133},"end":{"line":251,"column":156}},"callee":{"type":"Identifier","start":7121,"end":7125,"loc":{"start":{"line":251,"column":137},"end":{"line":251,"column":141}},"name":"Date"},"arguments":[{"type":"MemberExpression","start":7126,"end":7139,"loc":{"start":{"line":251,"column":142},"end":{"line":251,"column":155}},"object":{"type":"Identifier","start":7126,"end":7131,"loc":{"start":{"line":251,"column":142},"end":{"line":251,"column":147}},"name":"entry"},"property":{"type":"Identifier","start":7132,"end":7139,"loc":{"start":{"line":251,"column":148},"end":{"line":251,"column":155}},"name":"expires"},"computed":false}]}]}},{"type":"ExpressionStatement","start":7155,"end":7171,"loc":{"start":{"line":252,"column":12},"end":{"line":252,"column":28}},"expression":{"type":"CallExpression","start":7155,"end":7170,"loc":{"start":{"line":252,"column":12},"end":{"line":252,"column":27}},"callee":{"type":"MemberExpression","start":7155,"end":7168,"loc":{"start":{"line":252,"column":12},"end":{"line":252,"column":25}},"object":{"type":"Identifier","start":7155,"end":7161,"loc":{"start":{"line":252,"column":12},"end":{"line":252,"column":18}},"name":"cursor"},"property":{"type":"Identifier","start":7162,"end":7168,"loc":{"start":{"line":252,"column":19},"end":{"line":252,"column":25}},"name":"delete"},"computed":false},"arguments":[]},"comments":[{"type":"Line","value":" Ignoring return value  it's not terrible if this goes wrong.","start":7172,"end":7236,"loc":{"start":{"line":252,"column":29},"end":{"line":252,"column":93}}}]},{"type":"ExpressionStatement","start":7250,"end":7268,"loc":{"start":{"line":254,"column":12},"end":{"line":254,"column":30}},"expression":{"type":"CallExpression","start":7250,"end":7267,"loc":{"start":{"line":254,"column":12},"end":{"line":254,"column":29}},"callee":{"type":"MemberExpression","start":7250,"end":7265,"loc":{"start":{"line":254,"column":12},"end":{"line":254,"column":27}},"object":{"type":"Identifier","start":7250,"end":7256,"loc":{"start":{"line":254,"column":12},"end":{"line":254,"column":18}},"name":"cursor"},"property":{"type":"Identifier","start":7257,"end":7265,"loc":{"start":{"line":254,"column":19},"end":{"line":254,"column":27}},"name":"continue"},"computed":false},"arguments":[]}}]},"alternate":{"type":"BlockStatement","start":7286,"end":7324,"loc":{"start":{"line":255,"column":17},"end":{"line":257,"column":11}},"body":[{"type":"ExpressionStatement","start":7300,"end":7312,"loc":{"start":{"line":256,"column":12},"end":{"line":256,"column":24}},"expression":{"type":"CallExpression","start":7300,"end":7311,"loc":{"start":{"line":256,"column":12},"end":{"line":256,"column":23}},"callee":{"type":"Identifier","start":7300,"end":7307,"loc":{"start":{"line":256,"column":12},"end":{"line":256,"column":19}},"name":"resolve"},"arguments":[{"type":"Identifier","start":7308,"end":7310,"loc":{"start":{"line":256,"column":20},"end":{"line":256,"column":22}},"name":"db"}]}}]}}]}}}},{"type":"ExpressionStatement","start":7345,"end":7370,"loc":{"start":{"line":260,"column":8},"end":{"line":260,"column":33}},"expression":{"type":"AssignmentExpression","start":7345,"end":7369,"loc":{"start":{"line":260,"column":8},"end":{"line":260,"column":32}},"operator":"=","left":{"type":"MemberExpression","start":7345,"end":7360,"loc":{"start":{"line":260,"column":8},"end":{"line":260,"column":23}},"object":{"type":"Identifier","start":7345,"end":7352,"loc":{"start":{"line":260,"column":8},"end":{"line":260,"column":15}},"name":"request"},"property":{"type":"Identifier","start":7353,"end":7360,"loc":{"start":{"line":260,"column":16},"end":{"line":260,"column":23}},"name":"onerror"},"computed":false},"right":{"type":"Identifier","start":7363,"end":7369,"loc":{"start":{"line":260,"column":26},"end":{"line":260,"column":32}},"name":"reject"}}}]}}]}}]}}]},"property":{"type":"Identifier","start":7388,"end":7392,"loc":{"start":{"line":262,"column":7},"end":{"line":262,"column":11}},"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":7393,"end":7432,"loc":{"start":{"line":262,"column":12},"end":{"line":264,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7403,"end":7405,"loc":{"start":{"line":262,"column":22},"end":{"line":262,"column":24}},"name":"db"}],"body":{"type":"BlockStatement","start":7407,"end":7432,"loc":{"start":{"line":262,"column":26},"end":{"line":264,"column":5}},"body":[{"type":"ExpressionStatement","start":7415,"end":7426,"loc":{"start":{"line":263,"column":6},"end":{"line":263,"column":17}},"expression":{"type":"CallExpression","start":7415,"end":7425,"loc":{"start":{"line":263,"column":6},"end":{"line":263,"column":16}},"callee":{"type":"MemberExpression","start":7415,"end":7423,"loc":{"start":{"line":263,"column":6},"end":{"line":263,"column":14}},"object":{"type":"Identifier","start":7415,"end":7417,"loc":{"start":{"line":263,"column":6},"end":{"line":263,"column":8}},"name":"db"},"property":{"type":"Identifier","start":7418,"end":7423,"loc":{"start":{"line":263,"column":9},"end":{"line":263,"column":14}},"name":"close"},"computed":false},"arguments":[]}}]}}]}}]}}},"comments":[{"type":"Block","value":"*\n   * Delete all stored blobs that have an expiry date that is before Date.now().\n   * This is a static method because it deletes expired blobs from _all_ Uppy instances.\n   ","start":6281,"end":6460,"loc":{"start":{"line":234,"column":2},"end":{"line":237,"column":5}}}]},{"type":"ReturnStatement","start":7443,"end":7465,"loc":{"start":{"line":267,"column":2},"end":{"line":267,"column":24}},"argument":{"type":"Identifier","start":7450,"end":7464,"loc":{"start":{"line":267,"column":9},"end":{"line":267,"column":23}},"name":"IndexedDBStore"}}],"comments":[{"type":"Block","value":"#__PURE__","start":2390,"end":2403,"loc":{"start":{"line":83,"column":21},"end":{"line":83,"column":34}}}]}},"arguments":[]}}],"kind":"var"},{"type":"ExpressionStatement","start":7472,"end":7513,"loc":{"start":{"line":270,"column":0},"end":{"line":270,"column":41}},"expression":{"type":"AssignmentExpression","start":7472,"end":7512,"loc":{"start":{"line":270,"column":0},"end":{"line":270,"column":40}},"operator":"=","left":{"type":"MemberExpression","start":7472,"end":7498,"loc":{"start":{"line":270,"column":0},"end":{"line":270,"column":26}},"object":{"type":"Identifier","start":7472,"end":7486,"loc":{"start":{"line":270,"column":0},"end":{"line":270,"column":14}},"name":"IndexedDBStore"},"property":{"type":"Identifier","start":7487,"end":7498,"loc":{"start":{"line":270,"column":15},"end":{"line":270,"column":26}},"name":"isSupported"},"computed":false},"right":{"type":"Identifier","start":7501,"end":7512,"loc":{"start":{"line":270,"column":29},"end":{"line":270,"column":40}},"name":"isSupported"}}},{"type":"ExpressionStatement","start":7514,"end":7546,"loc":{"start":{"line":271,"column":0},"end":{"line":271,"column":32}},"expression":{"type":"AssignmentExpression","start":7514,"end":7545,"loc":{"start":{"line":271,"column":0},"end":{"line":271,"column":31}},"operator":"=","left":{"type":"MemberExpression","start":7514,"end":7528,"loc":{"start":{"line":271,"column":0},"end":{"line":271,"column":14}},"object":{"type":"Identifier","start":7514,"end":7520,"loc":{"start":{"line":271,"column":0},"end":{"line":271,"column":6}},"name":"module"},"property":{"type":"Identifier","start":7521,"end":7528,"loc":{"start":{"line":271,"column":7},"end":{"line":271,"column":14}},"name":"exports"},"computed":false},"right":{"type":"Identifier","start":7531,"end":7545,"loc":{"start":{"line":271,"column":17},"end":{"line":271,"column":31}},"name":"IndexedDBStore"}}}],"sourceType":"script"}