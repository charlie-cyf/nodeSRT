{"type":"Program","start":0,"end":6584,"body":[{"type":"VariableDeclaration","start":0,"end":60,"declarations":[{"type":"VariableDeclarator","start":6,"end":60,"id":{"type":"Identifier","start":6,"end":19,"name":"prettierBytes"},"init":{"type":"CallExpression","start":22,"end":60,"callee":{"type":"Identifier","start":22,"end":29,"name":"require"},"arguments":[{"type":"Literal","start":30,"end":59,"value":"@transloadit/prettier-bytes","raw":"'@transloadit/prettier-bytes'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":61,"end":224,"declarations":[{"type":"VariableDeclarator","start":67,"end":224,"id":{"type":"Identifier","start":67,"end":76,"name":"indexedDB"},"init":{"type":"LogicalExpression","start":79,"end":224,"left":{"type":"BinaryExpression","start":79,"end":108,"left":{"type":"UnaryExpression","start":79,"end":92,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":86,"end":92,"name":"window"}},"operator":"!==","right":{"type":"Literal","start":97,"end":108,"value":"undefined","raw":"'undefined'"}},"operator":"&&","right":{"type":"LogicalExpression","start":115,"end":223,"left":{"type":"LogicalExpression","start":115,"end":201,"left":{"type":"LogicalExpression","start":115,"end":180,"left":{"type":"LogicalExpression","start":115,"end":157,"left":{"type":"MemberExpression","start":115,"end":131,"object":{"type":"Identifier","start":115,"end":121,"name":"window"},"property":{"type":"Identifier","start":122,"end":131,"name":"indexedDB"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":135,"end":157,"object":{"type":"Identifier","start":135,"end":141,"name":"window"},"property":{"type":"Identifier","start":142,"end":157,"name":"webkitIndexedDB"},"computed":false}},"operator":"||","right":{"type":"MemberExpression","start":161,"end":180,"object":{"type":"Identifier","start":161,"end":167,"name":"window"},"property":{"type":"Identifier","start":168,"end":180,"name":"mozIndexedDB"},"computed":false}},"operator":"||","right":{"type":"MemberExpression","start":184,"end":201,"object":{"type":"Identifier","start":184,"end":190,"name":"window"},"property":{"type":"Identifier","start":191,"end":201,"name":"OIndexedDB"},"computed":false}},"operator":"||","right":{"type":"MemberExpression","start":205,"end":223,"object":{"type":"Identifier","start":205,"end":211,"name":"window"},"property":{"type":"Identifier","start":212,"end":223,"name":"msIndexedDB"},"computed":false}}}}],"kind":"const"},{"type":"VariableDeclaration","start":226,"end":257,"declarations":[{"type":"VariableDeclarator","start":232,"end":257,"id":{"type":"Identifier","start":232,"end":243,"name":"isSupported"},"init":{"type":"UnaryExpression","start":246,"end":257,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":247,"end":257,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":248,"end":257,"name":"indexedDB"}}}}],"kind":"const"},{"type":"VariableDeclaration","start":259,"end":287,"declarations":[{"type":"VariableDeclarator","start":265,"end":287,"id":{"type":"Identifier","start":265,"end":272,"name":"DB_NAME"},"init":{"type":"Literal","start":275,"end":287,"value":"uppy-blobs","raw":"'uppy-blobs'"}}],"kind":"const"},{"type":"VariableDeclaration","start":288,"end":314,"declarations":[{"type":"VariableDeclarator","start":294,"end":314,"id":{"type":"Identifier","start":294,"end":304,"name":"STORE_NAME"},"init":{"type":"Literal","start":307,"end":314,"value":"files","raw":"'files'"}}],"kind":"const"},{"type":"VariableDeclaration","start":361,"end":403,"declarations":[{"type":"VariableDeclarator","start":367,"end":403,"id":{"type":"Identifier","start":367,"end":381,"name":"DEFAULT_EXPIRY"},"init":{"type":"BinaryExpression","start":384,"end":403,"left":{"type":"BinaryExpression","start":384,"end":396,"left":{"type":"BinaryExpression","start":384,"end":391,"left":{"type":"Literal","start":384,"end":386,"value":24,"raw":"24"},"operator":"*","right":{"type":"Literal","start":389,"end":391,"value":60,"raw":"60"}},"operator":"*","right":{"type":"Literal","start":394,"end":396,"value":60,"raw":"60"}},"operator":"*","right":{"type":"Literal","start":399,"end":403,"value":1000,"raw":"1000"}}}],"kind":"const"},{"type":"VariableDeclaration","start":416,"end":436,"declarations":[{"type":"VariableDeclarator","start":422,"end":436,"id":{"type":"Identifier","start":422,"end":432,"name":"DB_VERSION"},"init":{"type":"Literal","start":435,"end":436,"value":3,"raw":"3"}}],"kind":"const"},{"type":"FunctionDeclaration","start":495,"end":790,"id":{"type":"Identifier","start":504,"end":521,"name":"migrateExpiration"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":523,"end":528,"name":"store"}],"body":{"type":"BlockStatement","start":530,"end":790,"body":[{"type":"VariableDeclaration","start":534,"end":568,"declarations":[{"type":"VariableDeclarator","start":540,"end":568,"id":{"type":"Identifier","start":540,"end":547,"name":"request"},"init":{"type":"CallExpression","start":550,"end":568,"callee":{"type":"MemberExpression","start":550,"end":566,"object":{"type":"Identifier","start":550,"end":555,"name":"store"},"property":{"type":"Identifier","start":556,"end":566,"name":"openCursor"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":571,"end":788,"expression":{"type":"AssignmentExpression","start":571,"end":788,"operator":"=","left":{"type":"MemberExpression","start":571,"end":588,"object":{"type":"Identifier","start":571,"end":578,"name":"request"},"property":{"type":"Identifier","start":579,"end":588,"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":591,"end":788,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":592,"end":597,"name":"event"}],"body":{"type":"BlockStatement","start":602,"end":788,"body":[{"type":"VariableDeclaration","start":608,"end":642,"declarations":[{"type":"VariableDeclarator","start":614,"end":642,"id":{"type":"Identifier","start":614,"end":620,"name":"cursor"},"init":{"type":"MemberExpression","start":623,"end":642,"object":{"type":"MemberExpression","start":623,"end":635,"object":{"type":"Identifier","start":623,"end":628,"name":"event"},"property":{"type":"Identifier","start":629,"end":635,"name":"target"},"computed":false},"property":{"type":"Identifier","start":636,"end":642,"name":"result"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":647,"end":680,"test":{"type":"UnaryExpression","start":651,"end":658,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":652,"end":658,"name":"cursor"}},"consequent":{"type":"BlockStatement","start":660,"end":680,"body":[{"type":"ReturnStatement","start":668,"end":674,"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":685,"end":711,"declarations":[{"type":"VariableDeclarator","start":691,"end":711,"id":{"type":"Identifier","start":691,"end":696,"name":"entry"},"init":{"type":"MemberExpression","start":699,"end":711,"object":{"type":"Identifier","start":699,"end":705,"name":"cursor"},"property":{"type":"Identifier","start":706,"end":711,"name":"value"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":716,"end":759,"expression":{"type":"AssignmentExpression","start":716,"end":759,"operator":"=","left":{"type":"MemberExpression","start":716,"end":729,"object":{"type":"Identifier","start":716,"end":721,"name":"entry"},"property":{"type":"Identifier","start":722,"end":729,"name":"expires"},"computed":false},"right":{"type":"BinaryExpression","start":732,"end":759,"left":{"type":"CallExpression","start":732,"end":742,"callee":{"type":"MemberExpression","start":732,"end":740,"object":{"type":"Identifier","start":732,"end":736,"name":"Date"},"property":{"type":"Identifier","start":737,"end":740,"name":"now"},"computed":false},"arguments":[]},"operator":"+","right":{"type":"Identifier","start":745,"end":759,"name":"DEFAULT_EXPIRY"}}}},{"type":"ExpressionStatement","start":764,"end":784,"expression":{"type":"CallExpression","start":764,"end":784,"callee":{"type":"MemberExpression","start":764,"end":777,"object":{"type":"Identifier","start":764,"end":770,"name":"cursor"},"property":{"type":"Identifier","start":771,"end":777,"name":"update"},"computed":false},"arguments":[{"type":"Identifier","start":778,"end":783,"name":"entry"}]}}]}}}}]}},{"type":"FunctionDeclaration","start":792,"end":1724,"id":{"type":"Identifier","start":801,"end":808,"name":"connect"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":810,"end":816,"name":"dbName"}],"body":{"type":"BlockStatement","start":818,"end":1724,"body":[{"type":"VariableDeclaration","start":822,"end":872,"declarations":[{"type":"VariableDeclarator","start":828,"end":872,"id":{"type":"Identifier","start":828,"end":835,"name":"request"},"init":{"type":"CallExpression","start":838,"end":872,"callee":{"type":"MemberExpression","start":838,"end":852,"object":{"type":"Identifier","start":838,"end":847,"name":"indexedDB"},"property":{"type":"Identifier","start":848,"end":852,"name":"open"},"computed":false},"arguments":[{"type":"Identifier","start":853,"end":859,"name":"dbName"},{"type":"Identifier","start":861,"end":871,"name":"DB_VERSION"}]}}],"kind":"const"},{"type":"ReturnStatement","start":875,"end":1722,"argument":{"type":"NewExpression","start":882,"end":1722,"callee":{"type":"Identifier","start":886,"end":893,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":894,"end":1721,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":895,"end":902,"name":"resolve"},{"type":"Identifier","start":904,"end":910,"name":"reject"}],"body":{"type":"BlockStatement","start":915,"end":1721,"body":[{"type":"ExpressionStatement","start":921,"end":1610,"expression":{"type":"AssignmentExpression","start":921,"end":1610,"operator":"=","left":{"type":"MemberExpression","start":921,"end":944,"object":{"type":"Identifier","start":921,"end":928,"name":"request"},"property":{"type":"Identifier","start":929,"end":944,"name":"onupgradeneeded"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":947,"end":1610,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":948,"end":953,"name":"event"}],"body":{"type":"BlockStatement","start":958,"end":1610,"body":[{"type":"VariableDeclaration","start":966,"end":996,"declarations":[{"type":"VariableDeclarator","start":972,"end":996,"id":{"type":"Identifier","start":972,"end":974,"name":"db"},"init":{"type":"MemberExpression","start":977,"end":996,"object":{"type":"MemberExpression","start":977,"end":989,"object":{"type":"Identifier","start":977,"end":982,"name":"event"},"property":{"type":"Identifier","start":983,"end":989,"name":"target"},"computed":false},"property":{"type":"Identifier","start":990,"end":996,"name":"result"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":1003,"end":1054,"declarations":[{"type":"VariableDeclarator","start":1009,"end":1054,"id":{"type":"Identifier","start":1009,"end":1020,"name":"transaction"},"init":{"type":"MemberExpression","start":1023,"end":1054,"object":{"type":"MemberExpression","start":1023,"end":1042,"object":{"type":"Identifier","start":1023,"end":1028,"name":"event"},"property":{"type":"Identifier","start":1029,"end":1042,"name":"currentTarget"},"computed":false},"property":{"type":"Identifier","start":1043,"end":1054,"name":"transaction"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":1062,"end":1311,"test":{"type":"BinaryExpression","start":1066,"end":1086,"left":{"type":"MemberExpression","start":1066,"end":1082,"object":{"type":"Identifier","start":1066,"end":1071,"name":"event"},"property":{"type":"Identifier","start":1072,"end":1082,"name":"oldVersion"},"computed":false},"operator":"<","right":{"type":"Literal","start":1085,"end":1086,"value":2,"raw":"2"}},"consequent":{"type":"BlockStatement","start":1088,"end":1311,"body":[{"type":"VariableDeclaration","start":1175,"end":1240,"declarations":[{"type":"VariableDeclarator","start":1181,"end":1240,"id":{"type":"Identifier","start":1181,"end":1186,"name":"store"},"init":{"type":"CallExpression","start":1189,"end":1240,"callee":{"type":"MemberExpression","start":1189,"end":1209,"object":{"type":"Identifier","start":1189,"end":1191,"name":"db"},"property":{"type":"Identifier","start":1192,"end":1209,"name":"createObjectStore"},"computed":false},"arguments":[{"type":"Identifier","start":1210,"end":1220,"name":"STORE_NAME"},{"type":"ObjectExpression","start":1222,"end":1239,"properties":[{"type":"Property","start":1224,"end":1237,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1224,"end":1231,"name":"keyPath"},"value":{"type":"Literal","start":1233,"end":1237,"value":"id","raw":"'id'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1249,"end":1303,"expression":{"type":"CallExpression","start":1249,"end":1303,"callee":{"type":"MemberExpression","start":1249,"end":1266,"object":{"type":"Identifier","start":1249,"end":1254,"name":"store"},"property":{"type":"Identifier","start":1255,"end":1266,"name":"createIndex"},"computed":false},"arguments":[{"type":"Literal","start":1267,"end":1274,"value":"store","raw":"'store'"},{"type":"Literal","start":1276,"end":1283,"value":"store","raw":"'store'"},{"type":"ObjectExpression","start":1285,"end":1302,"properties":[{"type":"Property","start":1287,"end":1300,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1287,"end":1293,"name":"unique"},"value":{"type":"Literal","start":1295,"end":1300,"value":false,"raw":"false"},"kind":"init"}]}]}}]},"alternate":null},{"type":"IfStatement","start":1319,"end":1536,"test":{"type":"BinaryExpression","start":1323,"end":1343,"left":{"type":"MemberExpression","start":1323,"end":1339,"object":{"type":"Identifier","start":1323,"end":1328,"name":"event"},"property":{"type":"Identifier","start":1329,"end":1339,"name":"oldVersion"},"computed":false},"operator":"<","right":{"type":"Literal","start":1342,"end":1343,"value":3,"raw":"3"}},"consequent":{"type":"BlockStatement","start":1345,"end":1536,"body":[{"type":"VariableDeclaration","start":1378,"end":1427,"declarations":[{"type":"VariableDeclarator","start":1384,"end":1427,"id":{"type":"Identifier","start":1384,"end":1389,"name":"store"},"init":{"type":"CallExpression","start":1392,"end":1427,"callee":{"type":"MemberExpression","start":1392,"end":1415,"object":{"type":"Identifier","start":1392,"end":1403,"name":"transaction"},"property":{"type":"Identifier","start":1404,"end":1415,"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":1416,"end":1426,"name":"STORE_NAME"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1436,"end":1494,"expression":{"type":"CallExpression","start":1436,"end":1494,"callee":{"type":"MemberExpression","start":1436,"end":1453,"object":{"type":"Identifier","start":1436,"end":1441,"name":"store"},"property":{"type":"Identifier","start":1442,"end":1453,"name":"createIndex"},"computed":false},"arguments":[{"type":"Literal","start":1454,"end":1463,"value":"expires","raw":"'expires'"},{"type":"Literal","start":1465,"end":1474,"value":"expires","raw":"'expires'"},{"type":"ObjectExpression","start":1476,"end":1493,"properties":[{"type":"Property","start":1478,"end":1491,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1478,"end":1484,"name":"unique"},"value":{"type":"Literal","start":1486,"end":1491,"value":false,"raw":"false"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":1504,"end":1528,"expression":{"type":"CallExpression","start":1504,"end":1528,"callee":{"type":"Identifier","start":1504,"end":1521,"name":"migrateExpiration"},"arguments":[{"type":"Identifier","start":1522,"end":1527,"name":"store"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":1544,"end":1604,"expression":{"type":"AssignmentExpression","start":1544,"end":1604,"operator":"=","left":{"type":"MemberExpression","start":1544,"end":1566,"object":{"type":"Identifier","start":1544,"end":1555,"name":"transaction"},"property":{"type":"Identifier","start":1556,"end":1566,"name":"oncomplete"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1569,"end":1604,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1575,"end":1604,"body":[{"type":"ExpressionStatement","start":1585,"end":1596,"expression":{"type":"CallExpression","start":1585,"end":1596,"callee":{"type":"Identifier","start":1585,"end":1592,"name":"resolve"},"arguments":[{"type":"Identifier","start":1593,"end":1595,"name":"db"}]}}]}}}}]}}}},{"type":"ExpressionStatement","start":1615,"end":1688,"expression":{"type":"AssignmentExpression","start":1615,"end":1688,"operator":"=","left":{"type":"MemberExpression","start":1615,"end":1632,"object":{"type":"Identifier","start":1615,"end":1622,"name":"request"},"property":{"type":"Identifier","start":1623,"end":1632,"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1635,"end":1688,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1636,"end":1641,"name":"event"}],"body":{"type":"BlockStatement","start":1646,"end":1688,"body":[{"type":"ExpressionStatement","start":1654,"end":1682,"expression":{"type":"CallExpression","start":1654,"end":1682,"callee":{"type":"Identifier","start":1654,"end":1661,"name":"resolve"},"arguments":[{"type":"MemberExpression","start":1662,"end":1681,"object":{"type":"MemberExpression","start":1662,"end":1674,"object":{"type":"Identifier","start":1662,"end":1667,"name":"event"},"property":{"type":"Identifier","start":1668,"end":1674,"name":"target"},"computed":false},"property":{"type":"Identifier","start":1675,"end":1681,"name":"result"},"computed":false}]}}]}}}},{"type":"ExpressionStatement","start":1693,"end":1717,"expression":{"type":"AssignmentExpression","start":1693,"end":1717,"operator":"=","left":{"type":"MemberExpression","start":1693,"end":1708,"object":{"type":"Identifier","start":1693,"end":1700,"name":"request"},"property":{"type":"Identifier","start":1701,"end":1708,"name":"onerror"},"computed":false},"right":{"type":"Identifier","start":1711,"end":1717,"name":"reject"}}}]}}]}}]}},{"type":"FunctionDeclaration","start":1726,"end":1919,"id":{"type":"Identifier","start":1735,"end":1749,"name":"waitForRequest"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1751,"end":1758,"name":"request"}],"body":{"type":"BlockStatement","start":1760,"end":1919,"body":[{"type":"ReturnStatement","start":1764,"end":1917,"argument":{"type":"NewExpression","start":1771,"end":1917,"callee":{"type":"Identifier","start":1775,"end":1782,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":1783,"end":1916,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1784,"end":1791,"name":"resolve"},{"type":"Identifier","start":1793,"end":1799,"name":"reject"}],"body":{"type":"BlockStatement","start":1804,"end":1916,"body":[{"type":"ExpressionStatement","start":1810,"end":1883,"expression":{"type":"AssignmentExpression","start":1810,"end":1883,"operator":"=","left":{"type":"MemberExpression","start":1810,"end":1827,"object":{"type":"Identifier","start":1810,"end":1817,"name":"request"},"property":{"type":"Identifier","start":1818,"end":1827,"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1830,"end":1883,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1831,"end":1836,"name":"event"}],"body":{"type":"BlockStatement","start":1841,"end":1883,"body":[{"type":"ExpressionStatement","start":1849,"end":1877,"expression":{"type":"CallExpression","start":1849,"end":1877,"callee":{"type":"Identifier","start":1849,"end":1856,"name":"resolve"},"arguments":[{"type":"MemberExpression","start":1857,"end":1876,"object":{"type":"MemberExpression","start":1857,"end":1869,"object":{"type":"Identifier","start":1857,"end":1862,"name":"event"},"property":{"type":"Identifier","start":1863,"end":1869,"name":"target"},"computed":false},"property":{"type":"Identifier","start":1870,"end":1876,"name":"result"},"computed":false}]}}]}}}},{"type":"ExpressionStatement","start":1888,"end":1912,"expression":{"type":"AssignmentExpression","start":1888,"end":1912,"operator":"=","left":{"type":"MemberExpression","start":1888,"end":1903,"object":{"type":"Identifier","start":1888,"end":1895,"name":"request"},"property":{"type":"Identifier","start":1896,"end":1903,"name":"onerror"},"computed":false},"right":{"type":"Identifier","start":1906,"end":1912,"name":"reject"}}}]}}]}}]}},{"type":"VariableDeclaration","start":1921,"end":1942,"declarations":[{"type":"VariableDeclarator","start":1925,"end":1942,"id":{"type":"Identifier","start":1925,"end":1934,"name":"cleanedUp"},"init":{"type":"Literal","start":1937,"end":1942,"value":false,"raw":"false"}}],"kind":"let"},{"type":"ClassDeclaration","start":1943,"end":6508,"id":{"type":"Identifier","start":1949,"end":1963,"name":"IndexedDBStore"},"superClass":null,"body":{"type":"ClassBody","start":1964,"end":6508,"body":[{"type":"MethodDefinition","start":1968,"end":2542,"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":1968,"end":1979,"name":"constructor"},"value":{"type":"FunctionExpression","start":1980,"end":2542,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1981,"end":1985,"name":"opts"}],"body":{"type":"BlockStatement","start":1987,"end":2542,"body":[{"type":"ExpressionStatement","start":1993,"end":2221,"expression":{"type":"AssignmentExpression","start":1993,"end":2221,"operator":"=","left":{"type":"MemberExpression","start":1993,"end":2002,"object":{"type":"ThisExpression","start":1993,"end":1997},"property":{"type":"Identifier","start":1998,"end":2002,"name":"opts"},"computed":false},"right":{"type":"CallExpression","start":2005,"end":2221,"callee":{"type":"MemberExpression","start":2005,"end":2018,"object":{"type":"Identifier","start":2005,"end":2011,"name":"Object"},"property":{"type":"Identifier","start":2012,"end":2018,"name":"assign"},"computed":false},"arguments":[{"type":"ObjectExpression","start":2019,"end":2214,"properties":[{"type":"Property","start":2027,"end":2042,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2027,"end":2033,"name":"dbName"},"value":{"type":"Identifier","start":2035,"end":2042,"name":"DB_NAME"},"kind":"init"},{"type":"Property","start":2050,"end":2070,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2050,"end":2059,"name":"storeName"},"value":{"type":"Literal","start":2061,"end":2070,"value":"default","raw":"'default'"},"kind":"init"},{"type":"Property","start":2078,"end":2101,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2078,"end":2085,"name":"expires"},"value":{"type":"Identifier","start":2087,"end":2101,"name":"DEFAULT_EXPIRY"},"kind":"init"},{"type":"Property","start":2121,"end":2150,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2121,"end":2132,"name":"maxFileSize"},"value":{"type":"BinaryExpression","start":2134,"end":2150,"left":{"type":"BinaryExpression","start":2134,"end":2143,"left":{"type":"Literal","start":2134,"end":2136,"value":10,"raw":"10"},"operator":"*","right":{"type":"Literal","start":2139,"end":2143,"value":1024,"raw":"1024"}},"operator":"*","right":{"type":"Literal","start":2146,"end":2150,"value":1024,"raw":"1024"}},"kind":"init"},{"type":"Property","start":2167,"end":2198,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2167,"end":2179,"name":"maxTotalSize"},"value":{"type":"BinaryExpression","start":2181,"end":2198,"left":{"type":"BinaryExpression","start":2181,"end":2191,"left":{"type":"Literal","start":2181,"end":2184,"value":300,"raw":"300"},"operator":"*","right":{"type":"Literal","start":2187,"end":2191,"value":1024,"raw":"1024"}},"operator":"*","right":{"type":"Literal","start":2194,"end":2198,"value":1024,"raw":"1024"}},"kind":"init"}]},{"type":"Identifier","start":2216,"end":2220,"name":"opts"}]}}},{"type":"ExpressionStatement","start":2227,"end":2258,"expression":{"type":"AssignmentExpression","start":2227,"end":2258,"operator":"=","left":{"type":"MemberExpression","start":2227,"end":2236,"object":{"type":"ThisExpression","start":2227,"end":2231},"property":{"type":"Identifier","start":2232,"end":2236,"name":"name"},"computed":false},"right":{"type":"MemberExpression","start":2239,"end":2258,"object":{"type":"MemberExpression","start":2239,"end":2248,"object":{"type":"ThisExpression","start":2239,"end":2243},"property":{"type":"Identifier","start":2244,"end":2248,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":2249,"end":2258,"name":"storeName"},"computed":false}}},{"type":"VariableDeclaration","start":2264,"end":2341,"declarations":[{"type":"VariableDeclarator","start":2270,"end":2341,"id":{"type":"Identifier","start":2270,"end":2286,"name":"createConnection"},"init":{"type":"ArrowFunctionExpression","start":2289,"end":2341,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2295,"end":2341,"body":[{"type":"ReturnStatement","start":2303,"end":2335,"argument":{"type":"CallExpression","start":2310,"end":2335,"callee":{"type":"Identifier","start":2310,"end":2317,"name":"connect"},"arguments":[{"type":"MemberExpression","start":2318,"end":2334,"object":{"type":"MemberExpression","start":2318,"end":2327,"object":{"type":"ThisExpression","start":2318,"end":2322},"property":{"type":"Identifier","start":2323,"end":2327,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":2328,"end":2334,"name":"dbName"},"computed":false}]}}]}}}],"kind":"const"},{"type":"IfStatement","start":2347,"end":2538,"test":{"type":"UnaryExpression","start":2351,"end":2361,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2352,"end":2361,"name":"cleanedUp"}},"consequent":{"type":"BlockStatement","start":2363,"end":2487,"body":[{"type":"ExpressionStatement","start":2371,"end":2387,"expression":{"type":"AssignmentExpression","start":2371,"end":2387,"operator":"=","left":{"type":"Identifier","start":2371,"end":2380,"name":"cleanedUp"},"right":{"type":"Literal","start":2383,"end":2387,"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":2394,"end":2481,"expression":{"type":"AssignmentExpression","start":2394,"end":2481,"operator":"=","left":{"type":"MemberExpression","start":2394,"end":2404,"object":{"type":"ThisExpression","start":2394,"end":2398},"property":{"type":"Identifier","start":2399,"end":2404,"name":"ready"},"computed":false},"right":{"type":"CallExpression","start":2407,"end":2481,"callee":{"type":"MemberExpression","start":2407,"end":2445,"object":{"type":"CallExpression","start":2407,"end":2431,"callee":{"type":"MemberExpression","start":2407,"end":2429,"object":{"type":"Identifier","start":2407,"end":2421,"name":"IndexedDBStore"},"property":{"type":"Identifier","start":2422,"end":2429,"name":"cleanup"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":2441,"end":2445,"name":"then"},"computed":false},"arguments":[{"type":"Identifier","start":2446,"end":2462,"name":"createConnection"},{"type":"Identifier","start":2464,"end":2480,"name":"createConnection"}]}}}]},"alternate":{"type":"BlockStatement","start":2493,"end":2538,"body":[{"type":"ExpressionStatement","start":2501,"end":2532,"expression":{"type":"AssignmentExpression","start":2501,"end":2532,"operator":"=","left":{"type":"MemberExpression","start":2501,"end":2511,"object":{"type":"ThisExpression","start":2501,"end":2505},"property":{"type":"Identifier","start":2506,"end":2511,"name":"ready"},"computed":false},"right":{"type":"CallExpression","start":2514,"end":2532,"callee":{"type":"Identifier","start":2514,"end":2530,"name":"createConnection"},"arguments":[]}}}]}}]}}},{"type":"MethodDefinition","start":2546,"end":2600,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":2546,"end":2549,"name":"key"},"value":{"type":"FunctionExpression","start":2550,"end":2600,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2551,"end":2557,"name":"fileID"}],"body":{"type":"BlockStatement","start":2559,"end":2600,"body":[{"type":"ReturnStatement","start":2565,"end":2596,"argument":{"type":"TemplateLiteral","start":2572,"end":2596,"expressions":[{"type":"MemberExpression","start":2575,"end":2584,"object":{"type":"ThisExpression","start":2575,"end":2579},"property":{"type":"Identifier","start":2580,"end":2584,"name":"name"},"computed":false},{"type":"Identifier","start":2588,"end":2594,"name":"fileID"}],"quasis":[{"type":"TemplateElement","start":2573,"end":2573,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":2585,"end":2586,"value":{"raw":"!","cooked":"!"},"tail":false},{"type":"TemplateElement","start":2595,"end":2595,"value":{"raw":"","cooked":""},"tail":true}]}}]}}},{"type":"MethodDefinition","start":2665,"end":3120,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":2665,"end":2669,"name":"list"},"value":{"type":"FunctionExpression","start":2670,"end":3120,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2673,"end":3120,"body":[{"type":"ReturnStatement","start":2679,"end":3116,"argument":{"type":"CallExpression","start":2686,"end":3116,"callee":{"type":"MemberExpression","start":2686,"end":2971,"object":{"type":"CallExpression","start":2686,"end":2966,"callee":{"type":"MemberExpression","start":2686,"end":2701,"object":{"type":"MemberExpression","start":2686,"end":2696,"object":{"type":"ThisExpression","start":2686,"end":2690},"property":{"type":"Identifier","start":2691,"end":2696,"name":"ready"},"computed":false},"property":{"type":"Identifier","start":2697,"end":2701,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2702,"end":2965,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2703,"end":2705,"name":"db"}],"body":{"type":"BlockStatement","start":2710,"end":2965,"body":[{"type":"VariableDeclaration","start":2718,"end":2778,"declarations":[{"type":"VariableDeclarator","start":2724,"end":2778,"id":{"type":"Identifier","start":2724,"end":2735,"name":"transaction"},"init":{"type":"CallExpression","start":2738,"end":2778,"callee":{"type":"MemberExpression","start":2738,"end":2752,"object":{"type":"Identifier","start":2738,"end":2740,"name":"db"},"property":{"type":"Identifier","start":2741,"end":2752,"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":2753,"end":2765,"elements":[{"type":"Identifier","start":2754,"end":2764,"name":"STORE_NAME"}]},{"type":"Literal","start":2767,"end":2777,"value":"readonly","raw":"'readonly'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2785,"end":2834,"declarations":[{"type":"VariableDeclarator","start":2791,"end":2834,"id":{"type":"Identifier","start":2791,"end":2796,"name":"store"},"init":{"type":"CallExpression","start":2799,"end":2834,"callee":{"type":"MemberExpression","start":2799,"end":2822,"object":{"type":"Identifier","start":2799,"end":2810,"name":"transaction"},"property":{"type":"Identifier","start":2811,"end":2822,"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":2823,"end":2833,"name":"STORE_NAME"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2841,"end":2922,"declarations":[{"type":"VariableDeclarator","start":2847,"end":2922,"id":{"type":"Identifier","start":2847,"end":2854,"name":"request"},"init":{"type":"CallExpression","start":2857,"end":2922,"callee":{"type":"MemberExpression","start":2857,"end":2893,"object":{"type":"CallExpression","start":2857,"end":2877,"callee":{"type":"MemberExpression","start":2857,"end":2868,"object":{"type":"Identifier","start":2857,"end":2862,"name":"store"},"property":{"type":"Identifier","start":2863,"end":2868,"name":"index"},"computed":false},"arguments":[{"type":"Literal","start":2869,"end":2876,"value":"store","raw":"'store'"}]},"property":{"type":"Identifier","start":2887,"end":2893,"name":"getAll"},"computed":false},"arguments":[{"type":"CallExpression","start":2894,"end":2921,"callee":{"type":"MemberExpression","start":2894,"end":2910,"object":{"type":"Identifier","start":2894,"end":2905,"name":"IDBKeyRange"},"property":{"type":"Identifier","start":2906,"end":2910,"name":"only"},"computed":false},"arguments":[{"type":"MemberExpression","start":2911,"end":2920,"object":{"type":"ThisExpression","start":2911,"end":2915},"property":{"type":"Identifier","start":2916,"end":2920,"name":"name"},"computed":false}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":2929,"end":2959,"argument":{"type":"CallExpression","start":2936,"end":2959,"callee":{"type":"Identifier","start":2936,"end":2950,"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":2951,"end":2958,"name":"request"}]}}]}}]},"property":{"type":"Identifier","start":2967,"end":2971,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2972,"end":3115,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2973,"end":2978,"name":"files"}],"body":{"type":"BlockStatement","start":2983,"end":3115,"body":[{"type":"VariableDeclaration","start":2991,"end":3008,"declarations":[{"type":"VariableDeclarator","start":2997,"end":3008,"id":{"type":"Identifier","start":2997,"end":3003,"name":"result"},"init":{"type":"ObjectExpression","start":3006,"end":3008,"properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":3015,"end":3089,"expression":{"type":"CallExpression","start":3015,"end":3089,"callee":{"type":"MemberExpression","start":3015,"end":3028,"object":{"type":"Identifier","start":3015,"end":3020,"name":"files"},"property":{"type":"Identifier","start":3021,"end":3028,"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3029,"end":3088,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3030,"end":3034,"name":"file"}],"body":{"type":"BlockStatement","start":3039,"end":3088,"body":[{"type":"ExpressionStatement","start":3049,"end":3080,"expression":{"type":"AssignmentExpression","start":3049,"end":3080,"operator":"=","left":{"type":"MemberExpression","start":3049,"end":3068,"object":{"type":"Identifier","start":3049,"end":3055,"name":"result"},"property":{"type":"MemberExpression","start":3056,"end":3067,"object":{"type":"Identifier","start":3056,"end":3060,"name":"file"},"property":{"type":"Identifier","start":3061,"end":3067,"name":"fileID"},"computed":false},"computed":true},"right":{"type":"MemberExpression","start":3071,"end":3080,"object":{"type":"Identifier","start":3071,"end":3075,"name":"file"},"property":{"type":"Identifier","start":3076,"end":3080,"name":"data"},"computed":false}}}]}}]}},{"type":"ReturnStatement","start":3096,"end":3109,"argument":{"type":"Identifier","start":3103,"end":3109,"name":"result"}}]}}]}}]}}},{"type":"MethodDefinition","start":3175,"end":3517,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3175,"end":3178,"name":"get"},"value":{"type":"FunctionExpression","start":3179,"end":3517,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3180,"end":3186,"name":"fileID"}],"body":{"type":"BlockStatement","start":3188,"end":3517,"body":[{"type":"ReturnStatement","start":3194,"end":3513,"argument":{"type":"CallExpression","start":3201,"end":3513,"callee":{"type":"MemberExpression","start":3201,"end":3431,"object":{"type":"CallExpression","start":3201,"end":3426,"callee":{"type":"MemberExpression","start":3201,"end":3216,"object":{"type":"MemberExpression","start":3201,"end":3211,"object":{"type":"ThisExpression","start":3201,"end":3205},"property":{"type":"Identifier","start":3206,"end":3211,"name":"ready"},"computed":false},"property":{"type":"Identifier","start":3212,"end":3216,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3217,"end":3425,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3218,"end":3220,"name":"db"}],"body":{"type":"BlockStatement","start":3225,"end":3425,"body":[{"type":"VariableDeclaration","start":3233,"end":3293,"declarations":[{"type":"VariableDeclarator","start":3239,"end":3293,"id":{"type":"Identifier","start":3239,"end":3250,"name":"transaction"},"init":{"type":"CallExpression","start":3253,"end":3293,"callee":{"type":"MemberExpression","start":3253,"end":3267,"object":{"type":"Identifier","start":3253,"end":3255,"name":"db"},"property":{"type":"Identifier","start":3256,"end":3267,"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":3268,"end":3280,"elements":[{"type":"Identifier","start":3269,"end":3279,"name":"STORE_NAME"}]},{"type":"Literal","start":3282,"end":3292,"value":"readonly","raw":"'readonly'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3300,"end":3382,"declarations":[{"type":"VariableDeclarator","start":3306,"end":3382,"id":{"type":"Identifier","start":3306,"end":3313,"name":"request"},"init":{"type":"CallExpression","start":3316,"end":3382,"callee":{"type":"MemberExpression","start":3316,"end":3364,"object":{"type":"CallExpression","start":3316,"end":3351,"callee":{"type":"MemberExpression","start":3316,"end":3339,"object":{"type":"Identifier","start":3316,"end":3327,"name":"transaction"},"property":{"type":"Identifier","start":3328,"end":3339,"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":3340,"end":3350,"name":"STORE_NAME"}]},"property":{"type":"Identifier","start":3361,"end":3364,"name":"get"},"computed":false},"arguments":[{"type":"CallExpression","start":3365,"end":3381,"callee":{"type":"MemberExpression","start":3365,"end":3373,"object":{"type":"ThisExpression","start":3365,"end":3369},"property":{"type":"Identifier","start":3370,"end":3373,"name":"key"},"computed":false},"arguments":[{"type":"Identifier","start":3374,"end":3380,"name":"fileID"}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":3389,"end":3419,"argument":{"type":"CallExpression","start":3396,"end":3419,"callee":{"type":"Identifier","start":3396,"end":3410,"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":3411,"end":3418,"name":"request"}]}}]}}]},"property":{"type":"Identifier","start":3427,"end":3431,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3432,"end":3512,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3433,"end":3439,"name":"result"}],"body":{"type":"ObjectExpression","start":3445,"end":3511,"properties":[{"type":"Property","start":3453,"end":3475,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3453,"end":3455,"name":"id"},"value":{"type":"MemberExpression","start":3457,"end":3475,"object":{"type":"MemberExpression","start":3457,"end":3468,"object":{"type":"Identifier","start":3457,"end":3463,"name":"result"},"property":{"type":"Identifier","start":3464,"end":3468,"name":"data"},"computed":false},"property":{"type":"Identifier","start":3469,"end":3475,"name":"fileID"},"computed":false},"kind":"init"},{"type":"Property","start":3483,"end":3505,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3483,"end":3487,"name":"data"},"value":{"type":"MemberExpression","start":3489,"end":3505,"object":{"type":"MemberExpression","start":3489,"end":3500,"object":{"type":"Identifier","start":3489,"end":3495,"name":"result"},"property":{"type":"Identifier","start":3496,"end":3500,"name":"data"},"computed":false},"property":{"type":"Identifier","start":3501,"end":3505,"name":"data"},"computed":false},"kind":"init"}]}}]}}]}}},{"type":"MethodDefinition","start":3597,"end":4312,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3597,"end":3604,"name":"getSize"},"value":{"type":"FunctionExpression","start":3605,"end":4312,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3608,"end":4312,"body":[{"type":"ReturnStatement","start":3614,"end":4308,"argument":{"type":"CallExpression","start":3621,"end":4308,"callee":{"type":"MemberExpression","start":3621,"end":3636,"object":{"type":"MemberExpression","start":3621,"end":3631,"object":{"type":"ThisExpression","start":3621,"end":3625},"property":{"type":"Identifier","start":3626,"end":3631,"name":"ready"},"computed":false},"property":{"type":"Identifier","start":3632,"end":3636,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3637,"end":4307,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3638,"end":3640,"name":"db"}],"body":{"type":"BlockStatement","start":3645,"end":4307,"body":[{"type":"VariableDeclaration","start":3653,"end":3713,"declarations":[{"type":"VariableDeclarator","start":3659,"end":3713,"id":{"type":"Identifier","start":3659,"end":3670,"name":"transaction"},"init":{"type":"CallExpression","start":3673,"end":3713,"callee":{"type":"MemberExpression","start":3673,"end":3687,"object":{"type":"Identifier","start":3673,"end":3675,"name":"db"},"property":{"type":"Identifier","start":3676,"end":3687,"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":3688,"end":3700,"elements":[{"type":"Identifier","start":3689,"end":3699,"name":"STORE_NAME"}]},{"type":"Literal","start":3702,"end":3712,"value":"readonly","raw":"'readonly'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3720,"end":3769,"declarations":[{"type":"VariableDeclarator","start":3726,"end":3769,"id":{"type":"Identifier","start":3726,"end":3731,"name":"store"},"init":{"type":"CallExpression","start":3734,"end":3769,"callee":{"type":"MemberExpression","start":3734,"end":3757,"object":{"type":"Identifier","start":3734,"end":3745,"name":"transaction"},"property":{"type":"Identifier","start":3746,"end":3757,"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":3758,"end":3768,"name":"STORE_NAME"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3776,"end":3861,"declarations":[{"type":"VariableDeclarator","start":3782,"end":3861,"id":{"type":"Identifier","start":3782,"end":3789,"name":"request"},"init":{"type":"CallExpression","start":3792,"end":3861,"callee":{"type":"MemberExpression","start":3792,"end":3832,"object":{"type":"CallExpression","start":3792,"end":3812,"callee":{"type":"MemberExpression","start":3792,"end":3803,"object":{"type":"Identifier","start":3792,"end":3797,"name":"store"},"property":{"type":"Identifier","start":3798,"end":3803,"name":"index"},"computed":false},"arguments":[{"type":"Literal","start":3804,"end":3811,"value":"store","raw":"'store'"}]},"property":{"type":"Identifier","start":3822,"end":3832,"name":"openCursor"},"computed":false},"arguments":[{"type":"CallExpression","start":3833,"end":3860,"callee":{"type":"MemberExpression","start":3833,"end":3849,"object":{"type":"Identifier","start":3833,"end":3844,"name":"IDBKeyRange"},"property":{"type":"Identifier","start":3845,"end":3849,"name":"only"},"computed":false},"arguments":[{"type":"MemberExpression","start":3850,"end":3859,"object":{"type":"ThisExpression","start":3850,"end":3854},"property":{"type":"Identifier","start":3855,"end":3859,"name":"name"},"computed":false}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":3868,"end":4301,"argument":{"type":"NewExpression","start":3875,"end":4301,"callee":{"type":"Identifier","start":3879,"end":3886,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":3887,"end":4300,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3888,"end":3895,"name":"resolve"},{"type":"Identifier","start":3897,"end":3903,"name":"reject"}],"body":{"type":"BlockStatement","start":3908,"end":4300,"body":[{"type":"VariableDeclaration","start":3918,"end":3930,"declarations":[{"type":"VariableDeclarator","start":3922,"end":3930,"id":{"type":"Identifier","start":3922,"end":3926,"name":"size"},"init":{"type":"Literal","start":3929,"end":3930,"value":0,"raw":"0"}}],"kind":"let"},{"type":"ExpressionStatement","start":3939,"end":4180,"expression":{"type":"AssignmentExpression","start":3939,"end":4180,"operator":"=","left":{"type":"MemberExpression","start":3939,"end":3956,"object":{"type":"Identifier","start":3939,"end":3946,"name":"request"},"property":{"type":"Identifier","start":3947,"end":3956,"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":3959,"end":4180,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3960,"end":3965,"name":"event"}],"body":{"type":"BlockStatement","start":3970,"end":4180,"body":[{"type":"VariableDeclaration","start":3982,"end":4016,"declarations":[{"type":"VariableDeclarator","start":3988,"end":4016,"id":{"type":"Identifier","start":3988,"end":3994,"name":"cursor"},"init":{"type":"MemberExpression","start":3997,"end":4016,"object":{"type":"MemberExpression","start":3997,"end":4009,"object":{"type":"Identifier","start":3997,"end":4002,"name":"event"},"property":{"type":"Identifier","start":4003,"end":4009,"name":"target"},"computed":false},"property":{"type":"Identifier","start":4010,"end":4016,"name":"result"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":4027,"end":4170,"test":{"type":"Identifier","start":4031,"end":4037,"name":"cursor"},"consequent":{"type":"BlockStatement","start":4039,"end":4125,"body":[{"type":"ExpressionStatement","start":4053,"end":4083,"expression":{"type":"AssignmentExpression","start":4053,"end":4083,"operator":"+=","left":{"type":"Identifier","start":4053,"end":4057,"name":"size"},"right":{"type":"MemberExpression","start":4061,"end":4083,"object":{"type":"MemberExpression","start":4061,"end":4078,"object":{"type":"MemberExpression","start":4061,"end":4073,"object":{"type":"Identifier","start":4061,"end":4067,"name":"cursor"},"property":{"type":"Identifier","start":4068,"end":4073,"name":"value"},"computed":false},"property":{"type":"Identifier","start":4074,"end":4078,"name":"data"},"computed":false},"property":{"type":"Identifier","start":4079,"end":4083,"name":"size"},"computed":false}}},{"type":"ExpressionStatement","start":4096,"end":4113,"expression":{"type":"CallExpression","start":4096,"end":4113,"callee":{"type":"MemberExpression","start":4096,"end":4111,"object":{"type":"Identifier","start":4096,"end":4102,"name":"cursor"},"property":{"type":"Identifier","start":4103,"end":4111,"name":"continue"},"computed":false},"arguments":[]}}]},"alternate":{"type":"BlockStatement","start":4131,"end":4170,"body":[{"type":"ExpressionStatement","start":4145,"end":4158,"expression":{"type":"CallExpression","start":4145,"end":4158,"callee":{"type":"Identifier","start":4145,"end":4152,"name":"resolve"},"arguments":[{"type":"Identifier","start":4153,"end":4157,"name":"size"}]}}]}}]}}}},{"type":"ExpressionStatement","start":4189,"end":4292,"expression":{"type":"AssignmentExpression","start":4189,"end":4292,"operator":"=","left":{"type":"MemberExpression","start":4189,"end":4204,"object":{"type":"Identifier","start":4189,"end":4196,"name":"request"},"property":{"type":"Identifier","start":4197,"end":4204,"name":"onerror"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":4207,"end":4292,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4213,"end":4292,"body":[{"type":"ExpressionStatement","start":4225,"end":4282,"expression":{"type":"CallExpression","start":4225,"end":4282,"callee":{"type":"Identifier","start":4225,"end":4231,"name":"reject"},"arguments":[{"type":"NewExpression","start":4232,"end":4281,"callee":{"type":"Identifier","start":4236,"end":4241,"name":"Error"},"arguments":[{"type":"Literal","start":4242,"end":4280,"value":"Could not retrieve stored blobs size","raw":"'Could not retrieve stored blobs size'"}]}]}}]}}}}]}}]}}]}}]}}]}}},{"type":"MethodDefinition","start":4359,"end":5037,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":4359,"end":4362,"name":"put"},"value":{"type":"FunctionExpression","start":4363,"end":5037,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4364,"end":4368,"name":"file"}],"body":{"type":"BlockStatement","start":4370,"end":5037,"body":[{"type":"IfStatement","start":4376,"end":4495,"test":{"type":"BinaryExpression","start":4380,"end":4418,"left":{"type":"MemberExpression","start":4380,"end":4394,"object":{"type":"MemberExpression","start":4380,"end":4389,"object":{"type":"Identifier","start":4380,"end":4384,"name":"file"},"property":{"type":"Identifier","start":4385,"end":4389,"name":"data"},"computed":false},"property":{"type":"Identifier","start":4390,"end":4394,"name":"size"},"computed":false},"operator":">","right":{"type":"MemberExpression","start":4397,"end":4418,"object":{"type":"MemberExpression","start":4397,"end":4406,"object":{"type":"ThisExpression","start":4397,"end":4401},"property":{"type":"Identifier","start":4402,"end":4406,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4407,"end":4418,"name":"maxFileSize"},"computed":false}},"consequent":{"type":"BlockStatement","start":4420,"end":4495,"body":[{"type":"ReturnStatement","start":4428,"end":4489,"argument":{"type":"CallExpression","start":4435,"end":4489,"callee":{"type":"MemberExpression","start":4435,"end":4449,"object":{"type":"Identifier","start":4435,"end":4442,"name":"Promise"},"property":{"type":"Identifier","start":4443,"end":4449,"name":"reject"},"computed":false},"arguments":[{"type":"NewExpression","start":4450,"end":4488,"callee":{"type":"Identifier","start":4454,"end":4459,"name":"Error"},"arguments":[{"type":"Literal","start":4460,"end":4487,"value":"File is too big to store.","raw":"'File is too big to store.'"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":4500,"end":5033,"argument":{"type":"CallExpression","start":4507,"end":5033,"callee":{"type":"MemberExpression","start":4507,"end":4683,"object":{"type":"CallExpression","start":4507,"end":4678,"callee":{"type":"MemberExpression","start":4507,"end":4526,"object":{"type":"CallExpression","start":4507,"end":4521,"callee":{"type":"MemberExpression","start":4507,"end":4519,"object":{"type":"ThisExpression","start":4507,"end":4511},"property":{"type":"Identifier","start":4512,"end":4519,"name":"getSize"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":4522,"end":4526,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4527,"end":4677,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4528,"end":4532,"name":"size"}],"body":{"type":"BlockStatement","start":4537,"end":4677,"body":[{"type":"IfStatement","start":4545,"end":4647,"test":{"type":"BinaryExpression","start":4549,"end":4578,"left":{"type":"Identifier","start":4549,"end":4553,"name":"size"},"operator":">","right":{"type":"MemberExpression","start":4556,"end":4578,"object":{"type":"MemberExpression","start":4556,"end":4565,"object":{"type":"ThisExpression","start":4556,"end":4560},"property":{"type":"Identifier","start":4561,"end":4565,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4566,"end":4578,"name":"maxTotalSize"},"computed":false}},"consequent":{"type":"BlockStatement","start":4580,"end":4647,"body":[{"type":"ReturnStatement","start":4590,"end":4639,"argument":{"type":"CallExpression","start":4597,"end":4639,"callee":{"type":"MemberExpression","start":4597,"end":4611,"object":{"type":"Identifier","start":4597,"end":4604,"name":"Promise"},"property":{"type":"Identifier","start":4605,"end":4611,"name":"reject"},"computed":false},"arguments":[{"type":"NewExpression","start":4612,"end":4638,"callee":{"type":"Identifier","start":4616,"end":4621,"name":"Error"},"arguments":[{"type":"Literal","start":4622,"end":4637,"value":"No space left","raw":"'No space left'"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":4654,"end":4671,"argument":{"type":"MemberExpression","start":4661,"end":4671,"object":{"type":"ThisExpression","start":4661,"end":4665},"property":{"type":"Identifier","start":4666,"end":4671,"name":"ready"},"computed":false}}]}}]},"property":{"type":"Identifier","start":4679,"end":4683,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4684,"end":5032,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4685,"end":4687,"name":"db"}],"body":{"type":"BlockStatement","start":4692,"end":5032,"body":[{"type":"VariableDeclaration","start":4700,"end":4761,"declarations":[{"type":"VariableDeclarator","start":4706,"end":4761,"id":{"type":"Identifier","start":4706,"end":4717,"name":"transaction"},"init":{"type":"CallExpression","start":4720,"end":4761,"callee":{"type":"MemberExpression","start":4720,"end":4734,"object":{"type":"Identifier","start":4720,"end":4722,"name":"db"},"property":{"type":"Identifier","start":4723,"end":4734,"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":4735,"end":4747,"elements":[{"type":"Identifier","start":4736,"end":4746,"name":"STORE_NAME"}]},{"type":"Literal","start":4749,"end":4760,"value":"readwrite","raw":"'readwrite'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":4768,"end":4989,"declarations":[{"type":"VariableDeclarator","start":4774,"end":4989,"id":{"type":"Identifier","start":4774,"end":4781,"name":"request"},"init":{"type":"CallExpression","start":4784,"end":4989,"callee":{"type":"MemberExpression","start":4784,"end":4823,"object":{"type":"CallExpression","start":4784,"end":4819,"callee":{"type":"MemberExpression","start":4784,"end":4807,"object":{"type":"Identifier","start":4784,"end":4795,"name":"transaction"},"property":{"type":"Identifier","start":4796,"end":4807,"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":4808,"end":4818,"name":"STORE_NAME"}]},"property":{"type":"Identifier","start":4820,"end":4823,"name":"add"},"computed":false},"arguments":[{"type":"ObjectExpression","start":4824,"end":4988,"properties":[{"type":"Property","start":4834,"end":4855,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4834,"end":4836,"name":"id"},"value":{"type":"CallExpression","start":4838,"end":4855,"callee":{"type":"MemberExpression","start":4838,"end":4846,"object":{"type":"ThisExpression","start":4838,"end":4842},"property":{"type":"Identifier","start":4843,"end":4846,"name":"key"},"computed":false},"arguments":[{"type":"MemberExpression","start":4847,"end":4854,"object":{"type":"Identifier","start":4847,"end":4851,"name":"file"},"property":{"type":"Identifier","start":4852,"end":4854,"name":"id"},"computed":false}]},"kind":"init"},{"type":"Property","start":4865,"end":4880,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4865,"end":4871,"name":"fileID"},"value":{"type":"MemberExpression","start":4873,"end":4880,"object":{"type":"Identifier","start":4873,"end":4877,"name":"file"},"property":{"type":"Identifier","start":4878,"end":4880,"name":"id"},"computed":false},"kind":"init"},{"type":"Property","start":4890,"end":4906,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4890,"end":4895,"name":"store"},"value":{"type":"MemberExpression","start":4897,"end":4906,"object":{"type":"ThisExpression","start":4897,"end":4901},"property":{"type":"Identifier","start":4902,"end":4906,"name":"name"},"computed":false},"kind":"init"},{"type":"Property","start":4916,"end":4955,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4916,"end":4923,"name":"expires"},"value":{"type":"BinaryExpression","start":4925,"end":4955,"left":{"type":"CallExpression","start":4925,"end":4935,"callee":{"type":"MemberExpression","start":4925,"end":4933,"object":{"type":"Identifier","start":4925,"end":4929,"name":"Date"},"property":{"type":"Identifier","start":4930,"end":4933,"name":"now"},"computed":false},"arguments":[]},"operator":"+","right":{"type":"MemberExpression","start":4938,"end":4955,"object":{"type":"MemberExpression","start":4938,"end":4947,"object":{"type":"ThisExpression","start":4938,"end":4942},"property":{"type":"Identifier","start":4943,"end":4947,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4948,"end":4955,"name":"expires"},"computed":false}},"kind":"init"},{"type":"Property","start":4965,"end":4980,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4965,"end":4969,"name":"data"},"value":{"type":"MemberExpression","start":4971,"end":4980,"object":{"type":"Identifier","start":4971,"end":4975,"name":"file"},"property":{"type":"Identifier","start":4976,"end":4980,"name":"data"},"computed":false},"kind":"init"}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":4996,"end":5026,"argument":{"type":"CallExpression","start":5003,"end":5026,"callee":{"type":"Identifier","start":5003,"end":5017,"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":5018,"end":5025,"name":"request"}]}}]}}]}}]}}},{"type":"MethodDefinition","start":5093,"end":5355,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":5093,"end":5099,"name":"delete"},"value":{"type":"FunctionExpression","start":5100,"end":5355,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5101,"end":5107,"name":"fileID"}],"body":{"type":"BlockStatement","start":5109,"end":5355,"body":[{"type":"ReturnStatement","start":5115,"end":5351,"argument":{"type":"CallExpression","start":5122,"end":5351,"callee":{"type":"MemberExpression","start":5122,"end":5137,"object":{"type":"MemberExpression","start":5122,"end":5132,"object":{"type":"ThisExpression","start":5122,"end":5126},"property":{"type":"Identifier","start":5127,"end":5132,"name":"ready"},"computed":false},"property":{"type":"Identifier","start":5133,"end":5137,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":5138,"end":5350,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5139,"end":5141,"name":"db"}],"body":{"type":"BlockStatement","start":5146,"end":5350,"body":[{"type":"VariableDeclaration","start":5154,"end":5215,"declarations":[{"type":"VariableDeclarator","start":5160,"end":5215,"id":{"type":"Identifier","start":5160,"end":5171,"name":"transaction"},"init":{"type":"CallExpression","start":5174,"end":5215,"callee":{"type":"MemberExpression","start":5174,"end":5188,"object":{"type":"Identifier","start":5174,"end":5176,"name":"db"},"property":{"type":"Identifier","start":5177,"end":5188,"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":5189,"end":5201,"elements":[{"type":"Identifier","start":5190,"end":5200,"name":"STORE_NAME"}]},{"type":"Literal","start":5203,"end":5214,"value":"readwrite","raw":"'readwrite'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5222,"end":5307,"declarations":[{"type":"VariableDeclarator","start":5228,"end":5307,"id":{"type":"Identifier","start":5228,"end":5235,"name":"request"},"init":{"type":"CallExpression","start":5238,"end":5307,"callee":{"type":"MemberExpression","start":5238,"end":5289,"object":{"type":"CallExpression","start":5238,"end":5273,"callee":{"type":"MemberExpression","start":5238,"end":5261,"object":{"type":"Identifier","start":5238,"end":5249,"name":"transaction"},"property":{"type":"Identifier","start":5250,"end":5261,"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":5262,"end":5272,"name":"STORE_NAME"}]},"property":{"type":"Identifier","start":5283,"end":5289,"name":"delete"},"computed":false},"arguments":[{"type":"CallExpression","start":5290,"end":5306,"callee":{"type":"MemberExpression","start":5290,"end":5298,"object":{"type":"ThisExpression","start":5290,"end":5294},"property":{"type":"Identifier","start":5295,"end":5298,"name":"key"},"computed":false},"arguments":[{"type":"Identifier","start":5299,"end":5305,"name":"fileID"}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":5314,"end":5344,"argument":{"type":"CallExpression","start":5321,"end":5344,"callee":{"type":"Identifier","start":5321,"end":5335,"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":5336,"end":5343,"name":"request"}]}}]}}]}}]}}},{"type":"MethodDefinition","start":5541,"end":6506,"kind":"method","static":true,"computed":false,"key":{"type":"Identifier","start":5548,"end":5555,"name":"cleanup"},"value":{"type":"FunctionExpression","start":5556,"end":6506,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":5559,"end":6506,"body":[{"type":"ReturnStatement","start":5565,"end":6502,"argument":{"type":"CallExpression","start":5572,"end":6502,"callee":{"type":"MemberExpression","start":5572,"end":6468,"object":{"type":"CallExpression","start":5572,"end":6463,"callee":{"type":"MemberExpression","start":5572,"end":5593,"object":{"type":"CallExpression","start":5572,"end":5588,"callee":{"type":"Identifier","start":5572,"end":5579,"name":"connect"},"arguments":[{"type":"Identifier","start":5580,"end":5587,"name":"DB_NAME"}]},"property":{"type":"Identifier","start":5589,"end":5593,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":5594,"end":6462,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5595,"end":5597,"name":"db"}],"body":{"type":"BlockStatement","start":5602,"end":6462,"body":[{"type":"VariableDeclaration","start":5610,"end":5671,"declarations":[{"type":"VariableDeclarator","start":5616,"end":5671,"id":{"type":"Identifier","start":5616,"end":5627,"name":"transaction"},"init":{"type":"CallExpression","start":5630,"end":5671,"callee":{"type":"MemberExpression","start":5630,"end":5644,"object":{"type":"Identifier","start":5630,"end":5632,"name":"db"},"property":{"type":"Identifier","start":5633,"end":5644,"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":5645,"end":5657,"elements":[{"type":"Identifier","start":5646,"end":5656,"name":"STORE_NAME"}]},{"type":"Literal","start":5659,"end":5670,"value":"readwrite","raw":"'readwrite'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5678,"end":5727,"declarations":[{"type":"VariableDeclarator","start":5684,"end":5727,"id":{"type":"Identifier","start":5684,"end":5689,"name":"store"},"init":{"type":"CallExpression","start":5692,"end":5727,"callee":{"type":"MemberExpression","start":5692,"end":5715,"object":{"type":"Identifier","start":5692,"end":5703,"name":"transaction"},"property":{"type":"Identifier","start":5704,"end":5715,"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":5716,"end":5726,"name":"STORE_NAME"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5734,"end":5828,"declarations":[{"type":"VariableDeclarator","start":5740,"end":5828,"id":{"type":"Identifier","start":5740,"end":5747,"name":"request"},"init":{"type":"CallExpression","start":5750,"end":5828,"callee":{"type":"MemberExpression","start":5750,"end":5792,"object":{"type":"CallExpression","start":5750,"end":5772,"callee":{"type":"MemberExpression","start":5750,"end":5761,"object":{"type":"Identifier","start":5750,"end":5755,"name":"store"},"property":{"type":"Identifier","start":5756,"end":5761,"name":"index"},"computed":false},"arguments":[{"type":"Literal","start":5762,"end":5771,"value":"expires","raw":"'expires'"}]},"property":{"type":"Identifier","start":5782,"end":5792,"name":"openCursor"},"computed":false},"arguments":[{"type":"CallExpression","start":5793,"end":5827,"callee":{"type":"MemberExpression","start":5793,"end":5815,"object":{"type":"Identifier","start":5793,"end":5804,"name":"IDBKeyRange"},"property":{"type":"Identifier","start":5805,"end":5815,"name":"upperBound"},"computed":false},"arguments":[{"type":"CallExpression","start":5816,"end":5826,"callee":{"type":"MemberExpression","start":5816,"end":5824,"object":{"type":"Identifier","start":5816,"end":5820,"name":"Date"},"property":{"type":"Identifier","start":5821,"end":5824,"name":"now"},"computed":false},"arguments":[]}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":5835,"end":6456,"argument":{"type":"NewExpression","start":5842,"end":6456,"callee":{"type":"Identifier","start":5846,"end":5853,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":5854,"end":6455,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5855,"end":5862,"name":"resolve"},{"type":"Identifier","start":5864,"end":5870,"name":"reject"}],"body":{"type":"BlockStatement","start":5875,"end":6455,"body":[{"type":"ExpressionStatement","start":5885,"end":6414,"expression":{"type":"AssignmentExpression","start":5885,"end":6414,"operator":"=","left":{"type":"MemberExpression","start":5885,"end":5902,"object":{"type":"Identifier","start":5885,"end":5892,"name":"request"},"property":{"type":"Identifier","start":5893,"end":5902,"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":5905,"end":6414,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5906,"end":5911,"name":"event"}],"body":{"type":"BlockStatement","start":5916,"end":6414,"body":[{"type":"VariableDeclaration","start":5928,"end":5962,"declarations":[{"type":"VariableDeclarator","start":5934,"end":5962,"id":{"type":"Identifier","start":5934,"end":5940,"name":"cursor"},"init":{"type":"MemberExpression","start":5943,"end":5962,"object":{"type":"MemberExpression","start":5943,"end":5955,"object":{"type":"Identifier","start":5943,"end":5948,"name":"event"},"property":{"type":"Identifier","start":5949,"end":5955,"name":"target"},"computed":false},"property":{"type":"Identifier","start":5956,"end":5962,"name":"result"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":5973,"end":6404,"test":{"type":"Identifier","start":5977,"end":5983,"name":"cursor"},"consequent":{"type":"BlockStatement","start":5985,"end":6361,"body":[{"type":"VariableDeclaration","start":5999,"end":6025,"declarations":[{"type":"VariableDeclarator","start":6005,"end":6025,"id":{"type":"Identifier","start":6005,"end":6010,"name":"entry"},"init":{"type":"MemberExpression","start":6013,"end":6025,"object":{"type":"Identifier","start":6013,"end":6019,"name":"cursor"},"property":{"type":"Identifier","start":6020,"end":6025,"name":"value"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":6038,"end":6226,"expression":{"type":"CallExpression","start":6038,"end":6226,"callee":{"type":"MemberExpression","start":6038,"end":6049,"object":{"type":"Identifier","start":6038,"end":6045,"name":"console"},"property":{"type":"Identifier","start":6046,"end":6049,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":6065,"end":6099,"value":"[IndexedDBStore] Deleting record","raw":"'[IndexedDBStore] Deleting record'"},{"type":"MemberExpression","start":6101,"end":6113,"object":{"type":"Identifier","start":6101,"end":6106,"name":"entry"},"property":{"type":"Identifier","start":6107,"end":6113,"name":"fileID"},"computed":false},{"type":"Literal","start":6129,"end":6138,"value":"of size","raw":"'of size'"},{"type":"CallExpression","start":6140,"end":6170,"callee":{"type":"Identifier","start":6140,"end":6153,"name":"prettierBytes"},"arguments":[{"type":"MemberExpression","start":6154,"end":6169,"object":{"type":"MemberExpression","start":6154,"end":6164,"object":{"type":"Identifier","start":6154,"end":6159,"name":"entry"},"property":{"type":"Identifier","start":6160,"end":6164,"name":"data"},"computed":false},"property":{"type":"Identifier","start":6165,"end":6169,"name":"size"},"computed":false}]},{"type":"Literal","start":6186,"end":6200,"value":"- expired on","raw":"'- expired on'"},{"type":"NewExpression","start":6202,"end":6225,"callee":{"type":"Identifier","start":6206,"end":6210,"name":"Date"},"arguments":[{"type":"MemberExpression","start":6211,"end":6224,"object":{"type":"Identifier","start":6211,"end":6216,"name":"entry"},"property":{"type":"Identifier","start":6217,"end":6224,"name":"expires"},"computed":false}]}]}},{"type":"ExpressionStatement","start":6239,"end":6254,"expression":{"type":"CallExpression","start":6239,"end":6254,"callee":{"type":"MemberExpression","start":6239,"end":6252,"object":{"type":"Identifier","start":6239,"end":6245,"name":"cursor"},"property":{"type":"Identifier","start":6246,"end":6252,"name":"delete"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":6332,"end":6349,"expression":{"type":"CallExpression","start":6332,"end":6349,"callee":{"type":"MemberExpression","start":6332,"end":6347,"object":{"type":"Identifier","start":6332,"end":6338,"name":"cursor"},"property":{"type":"Identifier","start":6339,"end":6347,"name":"continue"},"computed":false},"arguments":[]}}]},"alternate":{"type":"BlockStatement","start":6367,"end":6404,"body":[{"type":"ExpressionStatement","start":6381,"end":6392,"expression":{"type":"CallExpression","start":6381,"end":6392,"callee":{"type":"Identifier","start":6381,"end":6388,"name":"resolve"},"arguments":[{"type":"Identifier","start":6389,"end":6391,"name":"db"}]}}]}}]}}}},{"type":"ExpressionStatement","start":6423,"end":6447,"expression":{"type":"AssignmentExpression","start":6423,"end":6447,"operator":"=","left":{"type":"MemberExpression","start":6423,"end":6438,"object":{"type":"Identifier","start":6423,"end":6430,"name":"request"},"property":{"type":"Identifier","start":6431,"end":6438,"name":"onerror"},"computed":false},"right":{"type":"Identifier","start":6441,"end":6447,"name":"reject"}}}]}}]}}]}}]},"property":{"type":"Identifier","start":6464,"end":6468,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":6469,"end":6501,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6470,"end":6472,"name":"db"}],"body":{"type":"BlockStatement","start":6477,"end":6501,"body":[{"type":"ExpressionStatement","start":6485,"end":6495,"expression":{"type":"CallExpression","start":6485,"end":6495,"callee":{"type":"MemberExpression","start":6485,"end":6493,"object":{"type":"Identifier","start":6485,"end":6487,"name":"db"},"property":{"type":"Identifier","start":6488,"end":6493,"name":"close"},"computed":false},"arguments":[]}}]}}]}}]}}}]}},{"type":"ExpressionStatement","start":6510,"end":6550,"expression":{"type":"AssignmentExpression","start":6510,"end":6550,"operator":"=","left":{"type":"MemberExpression","start":6510,"end":6536,"object":{"type":"Identifier","start":6510,"end":6524,"name":"IndexedDBStore"},"property":{"type":"Identifier","start":6525,"end":6536,"name":"isSupported"},"computed":false},"right":{"type":"Identifier","start":6539,"end":6550,"name":"isSupported"}}},{"type":"ExpressionStatement","start":6552,"end":6583,"expression":{"type":"AssignmentExpression","start":6552,"end":6583,"operator":"=","left":{"type":"MemberExpression","start":6552,"end":6566,"object":{"type":"Identifier","start":6552,"end":6558,"name":"module"},"property":{"type":"Identifier","start":6559,"end":6566,"name":"exports"},"computed":false},"right":{"type":"Identifier","start":6569,"end":6583,"name":"IndexedDBStore"}}}],"sourceType":"script"}