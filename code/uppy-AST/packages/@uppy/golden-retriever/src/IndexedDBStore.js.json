{"type":"Program","start":0,"end":6580,"loc":{"start":{"line":1,"column":0},"end":{"line":233,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":58,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":58}},"declarations":[{"type":"VariableDeclarator","start":6,"end":58,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":58}},"id":{"type":"Identifier","start":6,"end":17,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":17}},"name":"prettyBytes"},"init":{"type":"CallExpression","start":20,"end":58,"loc":{"start":{"line":1,"column":20},"end":{"line":1,"column":58}},"callee":{"type":"Identifier","start":20,"end":27,"loc":{"start":{"line":1,"column":20},"end":{"line":1,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":28,"end":57,"loc":{"start":{"line":1,"column":28},"end":{"line":1,"column":57}},"value":"@uppy/utils/lib/prettyBytes","raw":"'@uppy/utils/lib/prettyBytes'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":59,"end":222,"loc":{"start":{"line":2,"column":0},"end":{"line":3,"column":112}},"declarations":[{"type":"VariableDeclarator","start":65,"end":222,"loc":{"start":{"line":2,"column":6},"end":{"line":3,"column":112}},"id":{"type":"Identifier","start":65,"end":74,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":15}},"name":"indexedDB"},"init":{"type":"LogicalExpression","start":77,"end":222,"loc":{"start":{"line":2,"column":18},"end":{"line":3,"column":112}},"left":{"type":"BinaryExpression","start":77,"end":106,"loc":{"start":{"line":2,"column":18},"end":{"line":2,"column":47}},"left":{"type":"UnaryExpression","start":77,"end":90,"loc":{"start":{"line":2,"column":18},"end":{"line":2,"column":31}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":84,"end":90,"loc":{"start":{"line":2,"column":25},"end":{"line":2,"column":31}},"name":"window"}},"operator":"!==","right":{"type":"Literal","start":95,"end":106,"loc":{"start":{"line":2,"column":36},"end":{"line":2,"column":47}},"value":"undefined","raw":"'undefined'"}},"operator":"&&","right":{"type":"LogicalExpression","start":113,"end":221,"loc":{"start":{"line":3,"column":3},"end":{"line":3,"column":111}},"left":{"type":"LogicalExpression","start":113,"end":199,"loc":{"start":{"line":3,"column":3},"end":{"line":3,"column":89}},"left":{"type":"LogicalExpression","start":113,"end":178,"loc":{"start":{"line":3,"column":3},"end":{"line":3,"column":68}},"left":{"type":"LogicalExpression","start":113,"end":155,"loc":{"start":{"line":3,"column":3},"end":{"line":3,"column":45}},"left":{"type":"MemberExpression","start":113,"end":129,"loc":{"start":{"line":3,"column":3},"end":{"line":3,"column":19}},"object":{"type":"Identifier","start":113,"end":119,"loc":{"start":{"line":3,"column":3},"end":{"line":3,"column":9}},"name":"window"},"property":{"type":"Identifier","start":120,"end":129,"loc":{"start":{"line":3,"column":10},"end":{"line":3,"column":19}},"name":"indexedDB"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":133,"end":155,"loc":{"start":{"line":3,"column":23},"end":{"line":3,"column":45}},"object":{"type":"Identifier","start":133,"end":139,"loc":{"start":{"line":3,"column":23},"end":{"line":3,"column":29}},"name":"window"},"property":{"type":"Identifier","start":140,"end":155,"loc":{"start":{"line":3,"column":30},"end":{"line":3,"column":45}},"name":"webkitIndexedDB"},"computed":false}},"operator":"||","right":{"type":"MemberExpression","start":159,"end":178,"loc":{"start":{"line":3,"column":49},"end":{"line":3,"column":68}},"object":{"type":"Identifier","start":159,"end":165,"loc":{"start":{"line":3,"column":49},"end":{"line":3,"column":55}},"name":"window"},"property":{"type":"Identifier","start":166,"end":178,"loc":{"start":{"line":3,"column":56},"end":{"line":3,"column":68}},"name":"mozIndexedDB"},"computed":false}},"operator":"||","right":{"type":"MemberExpression","start":182,"end":199,"loc":{"start":{"line":3,"column":72},"end":{"line":3,"column":89}},"object":{"type":"Identifier","start":182,"end":188,"loc":{"start":{"line":3,"column":72},"end":{"line":3,"column":78}},"name":"window"},"property":{"type":"Identifier","start":189,"end":199,"loc":{"start":{"line":3,"column":79},"end":{"line":3,"column":89}},"name":"OIndexedDB"},"computed":false}},"operator":"||","right":{"type":"MemberExpression","start":203,"end":221,"loc":{"start":{"line":3,"column":93},"end":{"line":3,"column":111}},"object":{"type":"Identifier","start":203,"end":209,"loc":{"start":{"line":3,"column":93},"end":{"line":3,"column":99}},"name":"window"},"property":{"type":"Identifier","start":210,"end":221,"loc":{"start":{"line":3,"column":100},"end":{"line":3,"column":111}},"name":"msIndexedDB"},"computed":false}}}}],"kind":"const"},{"type":"VariableDeclaration","start":224,"end":255,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"declarations":[{"type":"VariableDeclarator","start":230,"end":255,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":31}},"id":{"type":"Identifier","start":230,"end":241,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":17}},"name":"isSupported"},"init":{"type":"UnaryExpression","start":244,"end":255,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":31}},"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":245,"end":255,"loc":{"start":{"line":5,"column":21},"end":{"line":5,"column":31}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":246,"end":255,"loc":{"start":{"line":5,"column":22},"end":{"line":5,"column":31}},"name":"indexedDB"}}}}],"kind":"const"},{"type":"VariableDeclaration","start":257,"end":285,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"declarations":[{"type":"VariableDeclarator","start":263,"end":285,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":28}},"id":{"type":"Identifier","start":263,"end":270,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":13}},"name":"DB_NAME"},"init":{"type":"Literal","start":273,"end":285,"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":28}},"value":"uppy-blobs","raw":"'uppy-blobs'"}}],"kind":"const"},{"type":"VariableDeclaration","start":286,"end":312,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":26}},"declarations":[{"type":"VariableDeclarator","start":292,"end":312,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":26}},"id":{"type":"Identifier","start":292,"end":302,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":16}},"name":"STORE_NAME"},"init":{"type":"Literal","start":305,"end":312,"loc":{"start":{"line":8,"column":19},"end":{"line":8,"column":26}},"value":"files","raw":"'files'"}}],"kind":"const"},{"type":"VariableDeclaration","start":359,"end":401,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":42}},"declarations":[{"type":"VariableDeclarator","start":365,"end":401,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":42}},"id":{"type":"Identifier","start":365,"end":379,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":20}},"name":"DEFAULT_EXPIRY"},"init":{"type":"BinaryExpression","start":382,"end":401,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":42}},"left":{"type":"BinaryExpression","start":382,"end":394,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":35}},"left":{"type":"BinaryExpression","start":382,"end":389,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":30}},"left":{"type":"Literal","start":382,"end":384,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":25}},"value":24,"raw":"24"},"operator":"*","right":{"type":"Literal","start":387,"end":389,"loc":{"start":{"line":9,"column":28},"end":{"line":9,"column":30}},"value":60,"raw":"60"}},"operator":"*","right":{"type":"Literal","start":392,"end":394,"loc":{"start":{"line":9,"column":33},"end":{"line":9,"column":35}},"value":60,"raw":"60"}},"operator":"*","right":{"type":"Literal","start":397,"end":401,"loc":{"start":{"line":9,"column":38},"end":{"line":9,"column":42}},"value":1000,"raw":"1000"}}}],"kind":"const"},{"type":"VariableDeclaration","start":414,"end":434,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":20}},"declarations":[{"type":"VariableDeclarator","start":420,"end":434,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":20}},"id":{"type":"Identifier","start":420,"end":430,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":16}},"name":"DB_VERSION"},"init":{"type":"Literal","start":433,"end":434,"loc":{"start":{"line":10,"column":19},"end":{"line":10,"column":20}},"value":3,"raw":"3"}}],"kind":"const"},{"type":"FunctionDeclaration","start":493,"end":788,"loc":{"start":{"line":13,"column":0},"end":{"line":24,"column":1}},"id":{"type":"Identifier","start":502,"end":519,"loc":{"start":{"line":13,"column":9},"end":{"line":13,"column":26}},"name":"migrateExpiration"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":521,"end":526,"loc":{"start":{"line":13,"column":28},"end":{"line":13,"column":33}},"name":"store"}],"body":{"type":"BlockStatement","start":528,"end":788,"loc":{"start":{"line":13,"column":35},"end":{"line":24,"column":1}},"body":[{"type":"VariableDeclaration","start":532,"end":566,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":36}},"declarations":[{"type":"VariableDeclarator","start":538,"end":566,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":36}},"id":{"type":"Identifier","start":538,"end":545,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":15}},"name":"request"},"init":{"type":"CallExpression","start":548,"end":566,"loc":{"start":{"line":14,"column":18},"end":{"line":14,"column":36}},"callee":{"type":"MemberExpression","start":548,"end":564,"loc":{"start":{"line":14,"column":18},"end":{"line":14,"column":34}},"object":{"type":"Identifier","start":548,"end":553,"loc":{"start":{"line":14,"column":18},"end":{"line":14,"column":23}},"name":"store"},"property":{"type":"Identifier","start":554,"end":564,"loc":{"start":{"line":14,"column":24},"end":{"line":14,"column":34}},"name":"openCursor"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":569,"end":786,"loc":{"start":{"line":15,"column":2},"end":{"line":23,"column":3}},"expression":{"type":"AssignmentExpression","start":569,"end":786,"loc":{"start":{"line":15,"column":2},"end":{"line":23,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":569,"end":586,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":19}},"object":{"type":"Identifier","start":569,"end":576,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":9}},"name":"request"},"property":{"type":"Identifier","start":577,"end":586,"loc":{"start":{"line":15,"column":10},"end":{"line":15,"column":19}},"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":589,"end":786,"loc":{"start":{"line":15,"column":22},"end":{"line":23,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":590,"end":595,"loc":{"start":{"line":15,"column":23},"end":{"line":15,"column":28}},"name":"event"}],"body":{"type":"BlockStatement","start":600,"end":786,"loc":{"start":{"line":15,"column":33},"end":{"line":23,"column":3}},"body":[{"type":"VariableDeclaration","start":606,"end":640,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":38}},"declarations":[{"type":"VariableDeclarator","start":612,"end":640,"loc":{"start":{"line":16,"column":10},"end":{"line":16,"column":38}},"id":{"type":"Identifier","start":612,"end":618,"loc":{"start":{"line":16,"column":10},"end":{"line":16,"column":16}},"name":"cursor"},"init":{"type":"MemberExpression","start":621,"end":640,"loc":{"start":{"line":16,"column":19},"end":{"line":16,"column":38}},"object":{"type":"MemberExpression","start":621,"end":633,"loc":{"start":{"line":16,"column":19},"end":{"line":16,"column":31}},"object":{"type":"Identifier","start":621,"end":626,"loc":{"start":{"line":16,"column":19},"end":{"line":16,"column":24}},"name":"event"},"property":{"type":"Identifier","start":627,"end":633,"loc":{"start":{"line":16,"column":25},"end":{"line":16,"column":31}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":634,"end":640,"loc":{"start":{"line":16,"column":32},"end":{"line":16,"column":38}},"name":"result"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":645,"end":678,"loc":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"test":{"type":"UnaryExpression","start":649,"end":656,"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":15}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":650,"end":656,"loc":{"start":{"line":17,"column":9},"end":{"line":17,"column":15}},"name":"cursor"}},"consequent":{"type":"BlockStatement","start":658,"end":678,"loc":{"start":{"line":17,"column":17},"end":{"line":19,"column":5}},"body":[{"type":"ReturnStatement","start":666,"end":672,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":12}},"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":683,"end":709,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":30}},"declarations":[{"type":"VariableDeclarator","start":689,"end":709,"loc":{"start":{"line":20,"column":10},"end":{"line":20,"column":30}},"id":{"type":"Identifier","start":689,"end":694,"loc":{"start":{"line":20,"column":10},"end":{"line":20,"column":15}},"name":"entry"},"init":{"type":"MemberExpression","start":697,"end":709,"loc":{"start":{"line":20,"column":18},"end":{"line":20,"column":30}},"object":{"type":"Identifier","start":697,"end":703,"loc":{"start":{"line":20,"column":18},"end":{"line":20,"column":24}},"name":"cursor"},"property":{"type":"Identifier","start":704,"end":709,"loc":{"start":{"line":20,"column":25},"end":{"line":20,"column":30}},"name":"value"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":714,"end":757,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":47}},"expression":{"type":"AssignmentExpression","start":714,"end":757,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":47}},"operator":"=","left":{"type":"MemberExpression","start":714,"end":727,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":17}},"object":{"type":"Identifier","start":714,"end":719,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":9}},"name":"entry"},"property":{"type":"Identifier","start":720,"end":727,"loc":{"start":{"line":21,"column":10},"end":{"line":21,"column":17}},"name":"expires"},"computed":false},"right":{"type":"BinaryExpression","start":730,"end":757,"loc":{"start":{"line":21,"column":20},"end":{"line":21,"column":47}},"left":{"type":"CallExpression","start":730,"end":740,"loc":{"start":{"line":21,"column":20},"end":{"line":21,"column":30}},"callee":{"type":"MemberExpression","start":730,"end":738,"loc":{"start":{"line":21,"column":20},"end":{"line":21,"column":28}},"object":{"type":"Identifier","start":730,"end":734,"loc":{"start":{"line":21,"column":20},"end":{"line":21,"column":24}},"name":"Date"},"property":{"type":"Identifier","start":735,"end":738,"loc":{"start":{"line":21,"column":25},"end":{"line":21,"column":28}},"name":"now"},"computed":false},"arguments":[]},"operator":"+","right":{"type":"Identifier","start":743,"end":757,"loc":{"start":{"line":21,"column":33},"end":{"line":21,"column":47}},"name":"DEFAULT_EXPIRY"}}}},{"type":"ExpressionStatement","start":762,"end":782,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":24}},"expression":{"type":"CallExpression","start":762,"end":782,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":24}},"callee":{"type":"MemberExpression","start":762,"end":775,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":17}},"object":{"type":"Identifier","start":762,"end":768,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":10}},"name":"cursor"},"property":{"type":"Identifier","start":769,"end":775,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":17}},"name":"update"},"computed":false},"arguments":[{"type":"Identifier","start":776,"end":781,"loc":{"start":{"line":22,"column":18},"end":{"line":22,"column":23}},"name":"entry"}]}}]}}}}]}},{"type":"FunctionDeclaration","start":790,"end":1722,"loc":{"start":{"line":26,"column":0},"end":{"line":56,"column":1}},"id":{"type":"Identifier","start":799,"end":806,"loc":{"start":{"line":26,"column":9},"end":{"line":26,"column":16}},"name":"connect"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":808,"end":814,"loc":{"start":{"line":26,"column":18},"end":{"line":26,"column":24}},"name":"dbName"}],"body":{"type":"BlockStatement","start":816,"end":1722,"loc":{"start":{"line":26,"column":26},"end":{"line":56,"column":1}},"body":[{"type":"VariableDeclaration","start":820,"end":870,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":52}},"declarations":[{"type":"VariableDeclarator","start":826,"end":870,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":52}},"id":{"type":"Identifier","start":826,"end":833,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":15}},"name":"request"},"init":{"type":"CallExpression","start":836,"end":870,"loc":{"start":{"line":27,"column":18},"end":{"line":27,"column":52}},"callee":{"type":"MemberExpression","start":836,"end":850,"loc":{"start":{"line":27,"column":18},"end":{"line":27,"column":32}},"object":{"type":"Identifier","start":836,"end":845,"loc":{"start":{"line":27,"column":18},"end":{"line":27,"column":27}},"name":"indexedDB"},"property":{"type":"Identifier","start":846,"end":850,"loc":{"start":{"line":27,"column":28},"end":{"line":27,"column":32}},"name":"open"},"computed":false},"arguments":[{"type":"Identifier","start":851,"end":857,"loc":{"start":{"line":27,"column":33},"end":{"line":27,"column":39}},"name":"dbName"},{"type":"Identifier","start":859,"end":869,"loc":{"start":{"line":27,"column":41},"end":{"line":27,"column":51}},"name":"DB_VERSION"}]}}],"kind":"const"},{"type":"ReturnStatement","start":873,"end":1720,"loc":{"start":{"line":28,"column":2},"end":{"line":55,"column":4}},"argument":{"type":"NewExpression","start":880,"end":1720,"loc":{"start":{"line":28,"column":9},"end":{"line":55,"column":4}},"callee":{"type":"Identifier","start":884,"end":891,"loc":{"start":{"line":28,"column":13},"end":{"line":28,"column":20}},"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":892,"end":1719,"loc":{"start":{"line":28,"column":21},"end":{"line":55,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":893,"end":900,"loc":{"start":{"line":28,"column":22},"end":{"line":28,"column":29}},"name":"resolve"},{"type":"Identifier","start":902,"end":908,"loc":{"start":{"line":28,"column":31},"end":{"line":28,"column":37}},"name":"reject"}],"body":{"type":"BlockStatement","start":913,"end":1719,"loc":{"start":{"line":28,"column":42},"end":{"line":55,"column":3}},"body":[{"type":"ExpressionStatement","start":919,"end":1608,"loc":{"start":{"line":29,"column":4},"end":{"line":50,"column":5}},"expression":{"type":"AssignmentExpression","start":919,"end":1608,"loc":{"start":{"line":29,"column":4},"end":{"line":50,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":919,"end":942,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":27}},"object":{"type":"Identifier","start":919,"end":926,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":11}},"name":"request"},"property":{"type":"Identifier","start":927,"end":942,"loc":{"start":{"line":29,"column":12},"end":{"line":29,"column":27}},"name":"onupgradeneeded"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":945,"end":1608,"loc":{"start":{"line":29,"column":30},"end":{"line":50,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":946,"end":951,"loc":{"start":{"line":29,"column":31},"end":{"line":29,"column":36}},"name":"event"}],"body":{"type":"BlockStatement","start":956,"end":1608,"loc":{"start":{"line":29,"column":41},"end":{"line":50,"column":5}},"body":[{"type":"VariableDeclaration","start":964,"end":994,"loc":{"start":{"line":30,"column":6},"end":{"line":30,"column":36}},"declarations":[{"type":"VariableDeclarator","start":970,"end":994,"loc":{"start":{"line":30,"column":12},"end":{"line":30,"column":36}},"id":{"type":"Identifier","start":970,"end":972,"loc":{"start":{"line":30,"column":12},"end":{"line":30,"column":14}},"name":"db"},"init":{"type":"MemberExpression","start":975,"end":994,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":36}},"object":{"type":"MemberExpression","start":975,"end":987,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":29}},"object":{"type":"Identifier","start":975,"end":980,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":22}},"name":"event"},"property":{"type":"Identifier","start":981,"end":987,"loc":{"start":{"line":30,"column":23},"end":{"line":30,"column":29}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":988,"end":994,"loc":{"start":{"line":30,"column":30},"end":{"line":30,"column":36}},"name":"result"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":1001,"end":1052,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":57}},"declarations":[{"type":"VariableDeclarator","start":1007,"end":1052,"loc":{"start":{"line":31,"column":12},"end":{"line":31,"column":57}},"id":{"type":"Identifier","start":1007,"end":1018,"loc":{"start":{"line":31,"column":12},"end":{"line":31,"column":23}},"name":"transaction"},"init":{"type":"MemberExpression","start":1021,"end":1052,"loc":{"start":{"line":31,"column":26},"end":{"line":31,"column":57}},"object":{"type":"MemberExpression","start":1021,"end":1040,"loc":{"start":{"line":31,"column":26},"end":{"line":31,"column":45}},"object":{"type":"Identifier","start":1021,"end":1026,"loc":{"start":{"line":31,"column":26},"end":{"line":31,"column":31}},"name":"event"},"property":{"type":"Identifier","start":1027,"end":1040,"loc":{"start":{"line":31,"column":32},"end":{"line":31,"column":45}},"name":"currentTarget"},"computed":false},"property":{"type":"Identifier","start":1041,"end":1052,"loc":{"start":{"line":31,"column":46},"end":{"line":31,"column":57}},"name":"transaction"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":1060,"end":1309,"loc":{"start":{"line":33,"column":6},"end":{"line":37,"column":7}},"test":{"type":"BinaryExpression","start":1064,"end":1084,"loc":{"start":{"line":33,"column":10},"end":{"line":33,"column":30}},"left":{"type":"MemberExpression","start":1064,"end":1080,"loc":{"start":{"line":33,"column":10},"end":{"line":33,"column":26}},"object":{"type":"Identifier","start":1064,"end":1069,"loc":{"start":{"line":33,"column":10},"end":{"line":33,"column":15}},"name":"event"},"property":{"type":"Identifier","start":1070,"end":1080,"loc":{"start":{"line":33,"column":16},"end":{"line":33,"column":26}},"name":"oldVersion"},"computed":false},"operator":"<","right":{"type":"Literal","start":1083,"end":1084,"loc":{"start":{"line":33,"column":29},"end":{"line":33,"column":30}},"value":2,"raw":"2"}},"consequent":{"type":"BlockStatement","start":1086,"end":1309,"loc":{"start":{"line":33,"column":32},"end":{"line":37,"column":7}},"body":[{"type":"VariableDeclaration","start":1173,"end":1238,"loc":{"start":{"line":35,"column":8},"end":{"line":35,"column":73}},"declarations":[{"type":"VariableDeclarator","start":1179,"end":1238,"loc":{"start":{"line":35,"column":14},"end":{"line":35,"column":73}},"id":{"type":"Identifier","start":1179,"end":1184,"loc":{"start":{"line":35,"column":14},"end":{"line":35,"column":19}},"name":"store"},"init":{"type":"CallExpression","start":1187,"end":1238,"loc":{"start":{"line":35,"column":22},"end":{"line":35,"column":73}},"callee":{"type":"MemberExpression","start":1187,"end":1207,"loc":{"start":{"line":35,"column":22},"end":{"line":35,"column":42}},"object":{"type":"Identifier","start":1187,"end":1189,"loc":{"start":{"line":35,"column":22},"end":{"line":35,"column":24}},"name":"db"},"property":{"type":"Identifier","start":1190,"end":1207,"loc":{"start":{"line":35,"column":25},"end":{"line":35,"column":42}},"name":"createObjectStore"},"computed":false},"arguments":[{"type":"Identifier","start":1208,"end":1218,"loc":{"start":{"line":35,"column":43},"end":{"line":35,"column":53}},"name":"STORE_NAME"},{"type":"ObjectExpression","start":1220,"end":1237,"loc":{"start":{"line":35,"column":55},"end":{"line":35,"column":72}},"properties":[{"type":"Property","start":1222,"end":1235,"loc":{"start":{"line":35,"column":57},"end":{"line":35,"column":70}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1222,"end":1229,"loc":{"start":{"line":35,"column":57},"end":{"line":35,"column":64}},"name":"keyPath"},"value":{"type":"Literal","start":1231,"end":1235,"loc":{"start":{"line":35,"column":66},"end":{"line":35,"column":70}},"value":"id","raw":"'id'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1247,"end":1301,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":62}},"expression":{"type":"CallExpression","start":1247,"end":1301,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":62}},"callee":{"type":"MemberExpression","start":1247,"end":1264,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":25}},"object":{"type":"Identifier","start":1247,"end":1252,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":13}},"name":"store"},"property":{"type":"Identifier","start":1253,"end":1264,"loc":{"start":{"line":36,"column":14},"end":{"line":36,"column":25}},"name":"createIndex"},"computed":false},"arguments":[{"type":"Literal","start":1265,"end":1272,"loc":{"start":{"line":36,"column":26},"end":{"line":36,"column":33}},"value":"store","raw":"'store'"},{"type":"Literal","start":1274,"end":1281,"loc":{"start":{"line":36,"column":35},"end":{"line":36,"column":42}},"value":"store","raw":"'store'"},{"type":"ObjectExpression","start":1283,"end":1300,"loc":{"start":{"line":36,"column":44},"end":{"line":36,"column":61}},"properties":[{"type":"Property","start":1285,"end":1298,"loc":{"start":{"line":36,"column":46},"end":{"line":36,"column":59}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1285,"end":1291,"loc":{"start":{"line":36,"column":46},"end":{"line":36,"column":52}},"name":"unique"},"value":{"type":"Literal","start":1293,"end":1298,"loc":{"start":{"line":36,"column":54},"end":{"line":36,"column":59}},"value":false,"raw":"false"},"kind":"init"}]}]}}]},"alternate":null},{"type":"IfStatement","start":1317,"end":1534,"loc":{"start":{"line":39,"column":6},"end":{"line":45,"column":7}},"test":{"type":"BinaryExpression","start":1321,"end":1341,"loc":{"start":{"line":39,"column":10},"end":{"line":39,"column":30}},"left":{"type":"MemberExpression","start":1321,"end":1337,"loc":{"start":{"line":39,"column":10},"end":{"line":39,"column":26}},"object":{"type":"Identifier","start":1321,"end":1326,"loc":{"start":{"line":39,"column":10},"end":{"line":39,"column":15}},"name":"event"},"property":{"type":"Identifier","start":1327,"end":1337,"loc":{"start":{"line":39,"column":16},"end":{"line":39,"column":26}},"name":"oldVersion"},"computed":false},"operator":"<","right":{"type":"Literal","start":1340,"end":1341,"loc":{"start":{"line":39,"column":29},"end":{"line":39,"column":30}},"value":3,"raw":"3"}},"consequent":{"type":"BlockStatement","start":1343,"end":1534,"loc":{"start":{"line":39,"column":32},"end":{"line":45,"column":7}},"body":[{"type":"VariableDeclaration","start":1376,"end":1425,"loc":{"start":{"line":41,"column":8},"end":{"line":41,"column":57}},"declarations":[{"type":"VariableDeclarator","start":1382,"end":1425,"loc":{"start":{"line":41,"column":14},"end":{"line":41,"column":57}},"id":{"type":"Identifier","start":1382,"end":1387,"loc":{"start":{"line":41,"column":14},"end":{"line":41,"column":19}},"name":"store"},"init":{"type":"CallExpression","start":1390,"end":1425,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":57}},"callee":{"type":"MemberExpression","start":1390,"end":1413,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":45}},"object":{"type":"Identifier","start":1390,"end":1401,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":33}},"name":"transaction"},"property":{"type":"Identifier","start":1402,"end":1413,"loc":{"start":{"line":41,"column":34},"end":{"line":41,"column":45}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":1414,"end":1424,"loc":{"start":{"line":41,"column":46},"end":{"line":41,"column":56}},"name":"STORE_NAME"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1434,"end":1492,"loc":{"start":{"line":42,"column":8},"end":{"line":42,"column":66}},"expression":{"type":"CallExpression","start":1434,"end":1492,"loc":{"start":{"line":42,"column":8},"end":{"line":42,"column":66}},"callee":{"type":"MemberExpression","start":1434,"end":1451,"loc":{"start":{"line":42,"column":8},"end":{"line":42,"column":25}},"object":{"type":"Identifier","start":1434,"end":1439,"loc":{"start":{"line":42,"column":8},"end":{"line":42,"column":13}},"name":"store"},"property":{"type":"Identifier","start":1440,"end":1451,"loc":{"start":{"line":42,"column":14},"end":{"line":42,"column":25}},"name":"createIndex"},"computed":false},"arguments":[{"type":"Literal","start":1452,"end":1461,"loc":{"start":{"line":42,"column":26},"end":{"line":42,"column":35}},"value":"expires","raw":"'expires'"},{"type":"Literal","start":1463,"end":1472,"loc":{"start":{"line":42,"column":37},"end":{"line":42,"column":46}},"value":"expires","raw":"'expires'"},{"type":"ObjectExpression","start":1474,"end":1491,"loc":{"start":{"line":42,"column":48},"end":{"line":42,"column":65}},"properties":[{"type":"Property","start":1476,"end":1489,"loc":{"start":{"line":42,"column":50},"end":{"line":42,"column":63}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1476,"end":1482,"loc":{"start":{"line":42,"column":50},"end":{"line":42,"column":56}},"name":"unique"},"value":{"type":"Literal","start":1484,"end":1489,"loc":{"start":{"line":42,"column":58},"end":{"line":42,"column":63}},"value":false,"raw":"false"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":1502,"end":1526,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":32}},"expression":{"type":"CallExpression","start":1502,"end":1526,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":32}},"callee":{"type":"Identifier","start":1502,"end":1519,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":25}},"name":"migrateExpiration"},"arguments":[{"type":"Identifier","start":1520,"end":1525,"loc":{"start":{"line":44,"column":26},"end":{"line":44,"column":31}},"name":"store"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":1542,"end":1602,"loc":{"start":{"line":47,"column":6},"end":{"line":49,"column":7}},"expression":{"type":"AssignmentExpression","start":1542,"end":1602,"loc":{"start":{"line":47,"column":6},"end":{"line":49,"column":7}},"operator":"=","left":{"type":"MemberExpression","start":1542,"end":1564,"loc":{"start":{"line":47,"column":6},"end":{"line":47,"column":28}},"object":{"type":"Identifier","start":1542,"end":1553,"loc":{"start":{"line":47,"column":6},"end":{"line":47,"column":17}},"name":"transaction"},"property":{"type":"Identifier","start":1554,"end":1564,"loc":{"start":{"line":47,"column":18},"end":{"line":47,"column":28}},"name":"oncomplete"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1567,"end":1602,"loc":{"start":{"line":47,"column":31},"end":{"line":49,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1573,"end":1602,"loc":{"start":{"line":47,"column":37},"end":{"line":49,"column":7}},"body":[{"type":"ExpressionStatement","start":1583,"end":1594,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":19}},"expression":{"type":"CallExpression","start":1583,"end":1594,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":19}},"callee":{"type":"Identifier","start":1583,"end":1590,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":15}},"name":"resolve"},"arguments":[{"type":"Identifier","start":1591,"end":1593,"loc":{"start":{"line":48,"column":16},"end":{"line":48,"column":18}},"name":"db"}]}}]}}}}]}}}},{"type":"ExpressionStatement","start":1613,"end":1686,"loc":{"start":{"line":51,"column":4},"end":{"line":53,"column":5}},"expression":{"type":"AssignmentExpression","start":1613,"end":1686,"loc":{"start":{"line":51,"column":4},"end":{"line":53,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":1613,"end":1630,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":21}},"object":{"type":"Identifier","start":1613,"end":1620,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":11}},"name":"request"},"property":{"type":"Identifier","start":1621,"end":1630,"loc":{"start":{"line":51,"column":12},"end":{"line":51,"column":21}},"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1633,"end":1686,"loc":{"start":{"line":51,"column":24},"end":{"line":53,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1634,"end":1639,"loc":{"start":{"line":51,"column":25},"end":{"line":51,"column":30}},"name":"event"}],"body":{"type":"BlockStatement","start":1644,"end":1686,"loc":{"start":{"line":51,"column":35},"end":{"line":53,"column":5}},"body":[{"type":"ExpressionStatement","start":1652,"end":1680,"loc":{"start":{"line":52,"column":6},"end":{"line":52,"column":34}},"expression":{"type":"CallExpression","start":1652,"end":1680,"loc":{"start":{"line":52,"column":6},"end":{"line":52,"column":34}},"callee":{"type":"Identifier","start":1652,"end":1659,"loc":{"start":{"line":52,"column":6},"end":{"line":52,"column":13}},"name":"resolve"},"arguments":[{"type":"MemberExpression","start":1660,"end":1679,"loc":{"start":{"line":52,"column":14},"end":{"line":52,"column":33}},"object":{"type":"MemberExpression","start":1660,"end":1672,"loc":{"start":{"line":52,"column":14},"end":{"line":52,"column":26}},"object":{"type":"Identifier","start":1660,"end":1665,"loc":{"start":{"line":52,"column":14},"end":{"line":52,"column":19}},"name":"event"},"property":{"type":"Identifier","start":1666,"end":1672,"loc":{"start":{"line":52,"column":20},"end":{"line":52,"column":26}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":1673,"end":1679,"loc":{"start":{"line":52,"column":27},"end":{"line":52,"column":33}},"name":"result"},"computed":false}]}}]}}}},{"type":"ExpressionStatement","start":1691,"end":1715,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":28}},"expression":{"type":"AssignmentExpression","start":1691,"end":1715,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":28}},"operator":"=","left":{"type":"MemberExpression","start":1691,"end":1706,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":19}},"object":{"type":"Identifier","start":1691,"end":1698,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":11}},"name":"request"},"property":{"type":"Identifier","start":1699,"end":1706,"loc":{"start":{"line":54,"column":12},"end":{"line":54,"column":19}},"name":"onerror"},"computed":false},"right":{"type":"Identifier","start":1709,"end":1715,"loc":{"start":{"line":54,"column":22},"end":{"line":54,"column":28}},"name":"reject"}}}]}}]}}]}},{"type":"FunctionDeclaration","start":1724,"end":1917,"loc":{"start":{"line":58,"column":0},"end":{"line":65,"column":1}},"id":{"type":"Identifier","start":1733,"end":1747,"loc":{"start":{"line":58,"column":9},"end":{"line":58,"column":23}},"name":"waitForRequest"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1749,"end":1756,"loc":{"start":{"line":58,"column":25},"end":{"line":58,"column":32}},"name":"request"}],"body":{"type":"BlockStatement","start":1758,"end":1917,"loc":{"start":{"line":58,"column":34},"end":{"line":65,"column":1}},"body":[{"type":"ReturnStatement","start":1762,"end":1915,"loc":{"start":{"line":59,"column":2},"end":{"line":64,"column":4}},"argument":{"type":"NewExpression","start":1769,"end":1915,"loc":{"start":{"line":59,"column":9},"end":{"line":64,"column":4}},"callee":{"type":"Identifier","start":1773,"end":1780,"loc":{"start":{"line":59,"column":13},"end":{"line":59,"column":20}},"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":1781,"end":1914,"loc":{"start":{"line":59,"column":21},"end":{"line":64,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1782,"end":1789,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":29}},"name":"resolve"},{"type":"Identifier","start":1791,"end":1797,"loc":{"start":{"line":59,"column":31},"end":{"line":59,"column":37}},"name":"reject"}],"body":{"type":"BlockStatement","start":1802,"end":1914,"loc":{"start":{"line":59,"column":42},"end":{"line":64,"column":3}},"body":[{"type":"ExpressionStatement","start":1808,"end":1881,"loc":{"start":{"line":60,"column":4},"end":{"line":62,"column":5}},"expression":{"type":"AssignmentExpression","start":1808,"end":1881,"loc":{"start":{"line":60,"column":4},"end":{"line":62,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":1808,"end":1825,"loc":{"start":{"line":60,"column":4},"end":{"line":60,"column":21}},"object":{"type":"Identifier","start":1808,"end":1815,"loc":{"start":{"line":60,"column":4},"end":{"line":60,"column":11}},"name":"request"},"property":{"type":"Identifier","start":1816,"end":1825,"loc":{"start":{"line":60,"column":12},"end":{"line":60,"column":21}},"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1828,"end":1881,"loc":{"start":{"line":60,"column":24},"end":{"line":62,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1829,"end":1834,"loc":{"start":{"line":60,"column":25},"end":{"line":60,"column":30}},"name":"event"}],"body":{"type":"BlockStatement","start":1839,"end":1881,"loc":{"start":{"line":60,"column":35},"end":{"line":62,"column":5}},"body":[{"type":"ExpressionStatement","start":1847,"end":1875,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":34}},"expression":{"type":"CallExpression","start":1847,"end":1875,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":34}},"callee":{"type":"Identifier","start":1847,"end":1854,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":13}},"name":"resolve"},"arguments":[{"type":"MemberExpression","start":1855,"end":1874,"loc":{"start":{"line":61,"column":14},"end":{"line":61,"column":33}},"object":{"type":"MemberExpression","start":1855,"end":1867,"loc":{"start":{"line":61,"column":14},"end":{"line":61,"column":26}},"object":{"type":"Identifier","start":1855,"end":1860,"loc":{"start":{"line":61,"column":14},"end":{"line":61,"column":19}},"name":"event"},"property":{"type":"Identifier","start":1861,"end":1867,"loc":{"start":{"line":61,"column":20},"end":{"line":61,"column":26}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":1868,"end":1874,"loc":{"start":{"line":61,"column":27},"end":{"line":61,"column":33}},"name":"result"},"computed":false}]}}]}}}},{"type":"ExpressionStatement","start":1886,"end":1910,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":28}},"expression":{"type":"AssignmentExpression","start":1886,"end":1910,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":28}},"operator":"=","left":{"type":"MemberExpression","start":1886,"end":1901,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":19}},"object":{"type":"Identifier","start":1886,"end":1893,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":11}},"name":"request"},"property":{"type":"Identifier","start":1894,"end":1901,"loc":{"start":{"line":63,"column":12},"end":{"line":63,"column":19}},"name":"onerror"},"computed":false},"right":{"type":"Identifier","start":1904,"end":1910,"loc":{"start":{"line":63,"column":22},"end":{"line":63,"column":28}},"name":"reject"}}}]}}]}}]}},{"type":"VariableDeclaration","start":1919,"end":1940,"loc":{"start":{"line":67,"column":0},"end":{"line":67,"column":21}},"declarations":[{"type":"VariableDeclarator","start":1923,"end":1940,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":21}},"id":{"type":"Identifier","start":1923,"end":1932,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":13}},"name":"cleanedUp"},"init":{"type":"Literal","start":1935,"end":1940,"loc":{"start":{"line":67,"column":16},"end":{"line":67,"column":21}},"value":false,"raw":"false"}}],"kind":"let"},{"type":"ClassDeclaration","start":1941,"end":6504,"loc":{"start":{"line":68,"column":0},"end":{"line":228,"column":1}},"id":{"type":"Identifier","start":1947,"end":1961,"loc":{"start":{"line":68,"column":6},"end":{"line":68,"column":20}},"name":"IndexedDBStore"},"superClass":null,"body":{"type":"ClassBody","start":1962,"end":6504,"loc":{"start":{"line":68,"column":21},"end":{"line":228,"column":1}},"body":[{"type":"MethodDefinition","start":1966,"end":2540,"loc":{"start":{"line":69,"column":2},"end":{"line":91,"column":3}},"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":1966,"end":1977,"loc":{"start":{"line":69,"column":2},"end":{"line":69,"column":13}},"name":"constructor"},"value":{"type":"FunctionExpression","start":1978,"end":2540,"loc":{"start":{"line":69,"column":14},"end":{"line":91,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1979,"end":1983,"loc":{"start":{"line":69,"column":15},"end":{"line":69,"column":19}},"name":"opts"}],"body":{"type":"BlockStatement","start":1985,"end":2540,"loc":{"start":{"line":69,"column":21},"end":{"line":91,"column":3}},"body":[{"type":"ExpressionStatement","start":1991,"end":2219,"loc":{"start":{"line":70,"column":4},"end":{"line":76,"column":12}},"expression":{"type":"AssignmentExpression","start":1991,"end":2219,"loc":{"start":{"line":70,"column":4},"end":{"line":76,"column":12}},"operator":"=","left":{"type":"MemberExpression","start":1991,"end":2000,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":13}},"object":{"type":"ThisExpression","start":1991,"end":1995,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":8}}},"property":{"type":"Identifier","start":1996,"end":2000,"loc":{"start":{"line":70,"column":9},"end":{"line":70,"column":13}},"name":"opts"},"computed":false},"right":{"type":"CallExpression","start":2003,"end":2219,"loc":{"start":{"line":70,"column":16},"end":{"line":76,"column":12}},"callee":{"type":"MemberExpression","start":2003,"end":2016,"loc":{"start":{"line":70,"column":16},"end":{"line":70,"column":29}},"object":{"type":"Identifier","start":2003,"end":2009,"loc":{"start":{"line":70,"column":16},"end":{"line":70,"column":22}},"name":"Object"},"property":{"type":"Identifier","start":2010,"end":2016,"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":29}},"name":"assign"},"computed":false},"arguments":[{"type":"ObjectExpression","start":2017,"end":2212,"loc":{"start":{"line":70,"column":30},"end":{"line":76,"column":5}},"properties":[{"type":"Property","start":2025,"end":2040,"loc":{"start":{"line":71,"column":6},"end":{"line":71,"column":21}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2025,"end":2031,"loc":{"start":{"line":71,"column":6},"end":{"line":71,"column":12}},"name":"dbName"},"value":{"type":"Identifier","start":2033,"end":2040,"loc":{"start":{"line":71,"column":14},"end":{"line":71,"column":21}},"name":"DB_NAME"},"kind":"init"},{"type":"Property","start":2048,"end":2068,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2048,"end":2057,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":15}},"name":"storeName"},"value":{"type":"Literal","start":2059,"end":2068,"loc":{"start":{"line":72,"column":17},"end":{"line":72,"column":26}},"value":"default","raw":"'default'"},"kind":"init"},{"type":"Property","start":2076,"end":2099,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":29}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2076,"end":2083,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":13}},"name":"expires"},"value":{"type":"Identifier","start":2085,"end":2099,"loc":{"start":{"line":73,"column":15},"end":{"line":73,"column":29}},"name":"DEFAULT_EXPIRY"},"kind":"init"},{"type":"Property","start":2119,"end":2148,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":35}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2119,"end":2130,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":17}},"name":"maxFileSize"},"value":{"type":"BinaryExpression","start":2132,"end":2148,"loc":{"start":{"line":74,"column":19},"end":{"line":74,"column":35}},"left":{"type":"BinaryExpression","start":2132,"end":2141,"loc":{"start":{"line":74,"column":19},"end":{"line":74,"column":28}},"left":{"type":"Literal","start":2132,"end":2134,"loc":{"start":{"line":74,"column":19},"end":{"line":74,"column":21}},"value":10,"raw":"10"},"operator":"*","right":{"type":"Literal","start":2137,"end":2141,"loc":{"start":{"line":74,"column":24},"end":{"line":74,"column":28}},"value":1024,"raw":"1024"}},"operator":"*","right":{"type":"Literal","start":2144,"end":2148,"loc":{"start":{"line":74,"column":31},"end":{"line":74,"column":35}},"value":1024,"raw":"1024"}},"kind":"init"},{"type":"Property","start":2165,"end":2196,"loc":{"start":{"line":75,"column":6},"end":{"line":75,"column":37}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2165,"end":2177,"loc":{"start":{"line":75,"column":6},"end":{"line":75,"column":18}},"name":"maxTotalSize"},"value":{"type":"BinaryExpression","start":2179,"end":2196,"loc":{"start":{"line":75,"column":20},"end":{"line":75,"column":37}},"left":{"type":"BinaryExpression","start":2179,"end":2189,"loc":{"start":{"line":75,"column":20},"end":{"line":75,"column":30}},"left":{"type":"Literal","start":2179,"end":2182,"loc":{"start":{"line":75,"column":20},"end":{"line":75,"column":23}},"value":300,"raw":"300"},"operator":"*","right":{"type":"Literal","start":2185,"end":2189,"loc":{"start":{"line":75,"column":26},"end":{"line":75,"column":30}},"value":1024,"raw":"1024"}},"operator":"*","right":{"type":"Literal","start":2192,"end":2196,"loc":{"start":{"line":75,"column":33},"end":{"line":75,"column":37}},"value":1024,"raw":"1024"}},"kind":"init"}]},{"type":"Identifier","start":2214,"end":2218,"loc":{"start":{"line":76,"column":7},"end":{"line":76,"column":11}},"name":"opts"}]}}},{"type":"ExpressionStatement","start":2225,"end":2256,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":35}},"expression":{"type":"AssignmentExpression","start":2225,"end":2256,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":35}},"operator":"=","left":{"type":"MemberExpression","start":2225,"end":2234,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":13}},"object":{"type":"ThisExpression","start":2225,"end":2229,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":8}}},"property":{"type":"Identifier","start":2230,"end":2234,"loc":{"start":{"line":78,"column":9},"end":{"line":78,"column":13}},"name":"name"},"computed":false},"right":{"type":"MemberExpression","start":2237,"end":2256,"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":35}},"object":{"type":"MemberExpression","start":2237,"end":2246,"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":25}},"object":{"type":"ThisExpression","start":2237,"end":2241,"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":20}}},"property":{"type":"Identifier","start":2242,"end":2246,"loc":{"start":{"line":78,"column":21},"end":{"line":78,"column":25}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":2247,"end":2256,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":35}},"name":"storeName"},"computed":false}}},{"type":"VariableDeclaration","start":2262,"end":2339,"loc":{"start":{"line":80,"column":4},"end":{"line":82,"column":5}},"declarations":[{"type":"VariableDeclarator","start":2268,"end":2339,"loc":{"start":{"line":80,"column":10},"end":{"line":82,"column":5}},"id":{"type":"Identifier","start":2268,"end":2284,"loc":{"start":{"line":80,"column":10},"end":{"line":80,"column":26}},"name":"createConnection"},"init":{"type":"ArrowFunctionExpression","start":2287,"end":2339,"loc":{"start":{"line":80,"column":29},"end":{"line":82,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2293,"end":2339,"loc":{"start":{"line":80,"column":35},"end":{"line":82,"column":5}},"body":[{"type":"ReturnStatement","start":2301,"end":2333,"loc":{"start":{"line":81,"column":6},"end":{"line":81,"column":38}},"argument":{"type":"CallExpression","start":2308,"end":2333,"loc":{"start":{"line":81,"column":13},"end":{"line":81,"column":38}},"callee":{"type":"Identifier","start":2308,"end":2315,"loc":{"start":{"line":81,"column":13},"end":{"line":81,"column":20}},"name":"connect"},"arguments":[{"type":"MemberExpression","start":2316,"end":2332,"loc":{"start":{"line":81,"column":21},"end":{"line":81,"column":37}},"object":{"type":"MemberExpression","start":2316,"end":2325,"loc":{"start":{"line":81,"column":21},"end":{"line":81,"column":30}},"object":{"type":"ThisExpression","start":2316,"end":2320,"loc":{"start":{"line":81,"column":21},"end":{"line":81,"column":25}}},"property":{"type":"Identifier","start":2321,"end":2325,"loc":{"start":{"line":81,"column":26},"end":{"line":81,"column":30}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":2326,"end":2332,"loc":{"start":{"line":81,"column":31},"end":{"line":81,"column":37}},"name":"dbName"},"computed":false}]}}]}}}],"kind":"const"},{"type":"IfStatement","start":2345,"end":2536,"loc":{"start":{"line":84,"column":4},"end":{"line":90,"column":5}},"test":{"type":"UnaryExpression","start":2349,"end":2359,"loc":{"start":{"line":84,"column":8},"end":{"line":84,"column":18}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2350,"end":2359,"loc":{"start":{"line":84,"column":9},"end":{"line":84,"column":18}},"name":"cleanedUp"}},"consequent":{"type":"BlockStatement","start":2361,"end":2485,"loc":{"start":{"line":84,"column":20},"end":{"line":88,"column":5}},"body":[{"type":"ExpressionStatement","start":2369,"end":2385,"loc":{"start":{"line":85,"column":6},"end":{"line":85,"column":22}},"expression":{"type":"AssignmentExpression","start":2369,"end":2385,"loc":{"start":{"line":85,"column":6},"end":{"line":85,"column":22}},"operator":"=","left":{"type":"Identifier","start":2369,"end":2378,"loc":{"start":{"line":85,"column":6},"end":{"line":85,"column":15}},"name":"cleanedUp"},"right":{"type":"Literal","start":2381,"end":2385,"loc":{"start":{"line":85,"column":18},"end":{"line":85,"column":22}},"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":2392,"end":2479,"loc":{"start":{"line":86,"column":6},"end":{"line":87,"column":49}},"expression":{"type":"AssignmentExpression","start":2392,"end":2479,"loc":{"start":{"line":86,"column":6},"end":{"line":87,"column":49}},"operator":"=","left":{"type":"MemberExpression","start":2392,"end":2402,"loc":{"start":{"line":86,"column":6},"end":{"line":86,"column":16}},"object":{"type":"ThisExpression","start":2392,"end":2396,"loc":{"start":{"line":86,"column":6},"end":{"line":86,"column":10}}},"property":{"type":"Identifier","start":2397,"end":2402,"loc":{"start":{"line":86,"column":11},"end":{"line":86,"column":16}},"name":"ready"},"computed":false},"right":{"type":"CallExpression","start":2405,"end":2479,"loc":{"start":{"line":86,"column":19},"end":{"line":87,"column":49}},"callee":{"type":"MemberExpression","start":2405,"end":2443,"loc":{"start":{"line":86,"column":19},"end":{"line":87,"column":13}},"object":{"type":"CallExpression","start":2405,"end":2429,"loc":{"start":{"line":86,"column":19},"end":{"line":86,"column":43}},"callee":{"type":"MemberExpression","start":2405,"end":2427,"loc":{"start":{"line":86,"column":19},"end":{"line":86,"column":41}},"object":{"type":"Identifier","start":2405,"end":2419,"loc":{"start":{"line":86,"column":19},"end":{"line":86,"column":33}},"name":"IndexedDBStore"},"property":{"type":"Identifier","start":2420,"end":2427,"loc":{"start":{"line":86,"column":34},"end":{"line":86,"column":41}},"name":"cleanup"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":2439,"end":2443,"loc":{"start":{"line":87,"column":9},"end":{"line":87,"column":13}},"name":"then"},"computed":false},"arguments":[{"type":"Identifier","start":2444,"end":2460,"loc":{"start":{"line":87,"column":14},"end":{"line":87,"column":30}},"name":"createConnection"},{"type":"Identifier","start":2462,"end":2478,"loc":{"start":{"line":87,"column":32},"end":{"line":87,"column":48}},"name":"createConnection"}]}}}]},"alternate":{"type":"BlockStatement","start":2491,"end":2536,"loc":{"start":{"line":88,"column":11},"end":{"line":90,"column":5}},"body":[{"type":"ExpressionStatement","start":2499,"end":2530,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":37}},"expression":{"type":"AssignmentExpression","start":2499,"end":2530,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":37}},"operator":"=","left":{"type":"MemberExpression","start":2499,"end":2509,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":16}},"object":{"type":"ThisExpression","start":2499,"end":2503,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":10}}},"property":{"type":"Identifier","start":2504,"end":2509,"loc":{"start":{"line":89,"column":11},"end":{"line":89,"column":16}},"name":"ready"},"computed":false},"right":{"type":"CallExpression","start":2512,"end":2530,"loc":{"start":{"line":89,"column":19},"end":{"line":89,"column":37}},"callee":{"type":"Identifier","start":2512,"end":2528,"loc":{"start":{"line":89,"column":19},"end":{"line":89,"column":35}},"name":"createConnection"},"arguments":[]}}}]}}]}}},{"type":"MethodDefinition","start":2544,"end":2598,"loc":{"start":{"line":93,"column":2},"end":{"line":95,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":2544,"end":2547,"loc":{"start":{"line":93,"column":2},"end":{"line":93,"column":5}},"name":"key"},"value":{"type":"FunctionExpression","start":2548,"end":2598,"loc":{"start":{"line":93,"column":6},"end":{"line":95,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2549,"end":2555,"loc":{"start":{"line":93,"column":7},"end":{"line":93,"column":13}},"name":"fileID"}],"body":{"type":"BlockStatement","start":2557,"end":2598,"loc":{"start":{"line":93,"column":15},"end":{"line":95,"column":3}},"body":[{"type":"ReturnStatement","start":2563,"end":2594,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":35}},"argument":{"type":"TemplateLiteral","start":2570,"end":2594,"loc":{"start":{"line":94,"column":11},"end":{"line":94,"column":35}},"expressions":[{"type":"MemberExpression","start":2573,"end":2582,"loc":{"start":{"line":94,"column":14},"end":{"line":94,"column":23}},"object":{"type":"ThisExpression","start":2573,"end":2577,"loc":{"start":{"line":94,"column":14},"end":{"line":94,"column":18}}},"property":{"type":"Identifier","start":2578,"end":2582,"loc":{"start":{"line":94,"column":19},"end":{"line":94,"column":23}},"name":"name"},"computed":false},{"type":"Identifier","start":2586,"end":2592,"loc":{"start":{"line":94,"column":27},"end":{"line":94,"column":33}},"name":"fileID"}],"quasis":[{"type":"TemplateElement","start":2571,"end":2571,"loc":{"start":{"line":94,"column":12},"end":{"line":94,"column":12}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":2583,"end":2584,"loc":{"start":{"line":94,"column":24},"end":{"line":94,"column":25}},"value":{"raw":"!","cooked":"!"},"tail":false},{"type":"TemplateElement","start":2593,"end":2593,"loc":{"start":{"line":94,"column":34},"end":{"line":94,"column":34}},"value":{"raw":"","cooked":""},"tail":true}]}}]}}},{"type":"MethodDefinition","start":2663,"end":3118,"loc":{"start":{"line":100,"column":2},"end":{"line":114,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":2663,"end":2667,"loc":{"start":{"line":100,"column":2},"end":{"line":100,"column":6}},"name":"list"},"value":{"type":"FunctionExpression","start":2668,"end":3118,"loc":{"start":{"line":100,"column":7},"end":{"line":114,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2671,"end":3118,"loc":{"start":{"line":100,"column":10},"end":{"line":114,"column":3}},"body":[{"type":"ReturnStatement","start":2677,"end":3114,"loc":{"start":{"line":101,"column":4},"end":{"line":113,"column":6}},"argument":{"type":"CallExpression","start":2684,"end":3114,"loc":{"start":{"line":101,"column":11},"end":{"line":113,"column":6}},"callee":{"type":"MemberExpression","start":2684,"end":2969,"loc":{"start":{"line":101,"column":11},"end":{"line":107,"column":11}},"object":{"type":"CallExpression","start":2684,"end":2964,"loc":{"start":{"line":101,"column":11},"end":{"line":107,"column":6}},"callee":{"type":"MemberExpression","start":2684,"end":2699,"loc":{"start":{"line":101,"column":11},"end":{"line":101,"column":26}},"object":{"type":"MemberExpression","start":2684,"end":2694,"loc":{"start":{"line":101,"column":11},"end":{"line":101,"column":21}},"object":{"type":"ThisExpression","start":2684,"end":2688,"loc":{"start":{"line":101,"column":11},"end":{"line":101,"column":15}}},"property":{"type":"Identifier","start":2689,"end":2694,"loc":{"start":{"line":101,"column":16},"end":{"line":101,"column":21}},"name":"ready"},"computed":false},"property":{"type":"Identifier","start":2695,"end":2699,"loc":{"start":{"line":101,"column":22},"end":{"line":101,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2700,"end":2963,"loc":{"start":{"line":101,"column":27},"end":{"line":107,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2701,"end":2703,"loc":{"start":{"line":101,"column":28},"end":{"line":101,"column":30}},"name":"db"}],"body":{"type":"BlockStatement","start":2708,"end":2963,"loc":{"start":{"line":101,"column":35},"end":{"line":107,"column":5}},"body":[{"type":"VariableDeclaration","start":2716,"end":2776,"loc":{"start":{"line":102,"column":6},"end":{"line":102,"column":66}},"declarations":[{"type":"VariableDeclarator","start":2722,"end":2776,"loc":{"start":{"line":102,"column":12},"end":{"line":102,"column":66}},"id":{"type":"Identifier","start":2722,"end":2733,"loc":{"start":{"line":102,"column":12},"end":{"line":102,"column":23}},"name":"transaction"},"init":{"type":"CallExpression","start":2736,"end":2776,"loc":{"start":{"line":102,"column":26},"end":{"line":102,"column":66}},"callee":{"type":"MemberExpression","start":2736,"end":2750,"loc":{"start":{"line":102,"column":26},"end":{"line":102,"column":40}},"object":{"type":"Identifier","start":2736,"end":2738,"loc":{"start":{"line":102,"column":26},"end":{"line":102,"column":28}},"name":"db"},"property":{"type":"Identifier","start":2739,"end":2750,"loc":{"start":{"line":102,"column":29},"end":{"line":102,"column":40}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":2751,"end":2763,"loc":{"start":{"line":102,"column":41},"end":{"line":102,"column":53}},"elements":[{"type":"Identifier","start":2752,"end":2762,"loc":{"start":{"line":102,"column":42},"end":{"line":102,"column":52}},"name":"STORE_NAME"}]},{"type":"Literal","start":2765,"end":2775,"loc":{"start":{"line":102,"column":55},"end":{"line":102,"column":65}},"value":"readonly","raw":"'readonly'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2783,"end":2832,"loc":{"start":{"line":103,"column":6},"end":{"line":103,"column":55}},"declarations":[{"type":"VariableDeclarator","start":2789,"end":2832,"loc":{"start":{"line":103,"column":12},"end":{"line":103,"column":55}},"id":{"type":"Identifier","start":2789,"end":2794,"loc":{"start":{"line":103,"column":12},"end":{"line":103,"column":17}},"name":"store"},"init":{"type":"CallExpression","start":2797,"end":2832,"loc":{"start":{"line":103,"column":20},"end":{"line":103,"column":55}},"callee":{"type":"MemberExpression","start":2797,"end":2820,"loc":{"start":{"line":103,"column":20},"end":{"line":103,"column":43}},"object":{"type":"Identifier","start":2797,"end":2808,"loc":{"start":{"line":103,"column":20},"end":{"line":103,"column":31}},"name":"transaction"},"property":{"type":"Identifier","start":2809,"end":2820,"loc":{"start":{"line":103,"column":32},"end":{"line":103,"column":43}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":2821,"end":2831,"loc":{"start":{"line":103,"column":44},"end":{"line":103,"column":54}},"name":"STORE_NAME"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2839,"end":2920,"loc":{"start":{"line":104,"column":6},"end":{"line":105,"column":44}},"declarations":[{"type":"VariableDeclarator","start":2845,"end":2920,"loc":{"start":{"line":104,"column":12},"end":{"line":105,"column":44}},"id":{"type":"Identifier","start":2845,"end":2852,"loc":{"start":{"line":104,"column":12},"end":{"line":104,"column":19}},"name":"request"},"init":{"type":"CallExpression","start":2855,"end":2920,"loc":{"start":{"line":104,"column":22},"end":{"line":105,"column":44}},"callee":{"type":"MemberExpression","start":2855,"end":2891,"loc":{"start":{"line":104,"column":22},"end":{"line":105,"column":15}},"object":{"type":"CallExpression","start":2855,"end":2875,"loc":{"start":{"line":104,"column":22},"end":{"line":104,"column":42}},"callee":{"type":"MemberExpression","start":2855,"end":2866,"loc":{"start":{"line":104,"column":22},"end":{"line":104,"column":33}},"object":{"type":"Identifier","start":2855,"end":2860,"loc":{"start":{"line":104,"column":22},"end":{"line":104,"column":27}},"name":"store"},"property":{"type":"Identifier","start":2861,"end":2866,"loc":{"start":{"line":104,"column":28},"end":{"line":104,"column":33}},"name":"index"},"computed":false},"arguments":[{"type":"Literal","start":2867,"end":2874,"loc":{"start":{"line":104,"column":34},"end":{"line":104,"column":41}},"value":"store","raw":"'store'"}]},"property":{"type":"Identifier","start":2885,"end":2891,"loc":{"start":{"line":105,"column":9},"end":{"line":105,"column":15}},"name":"getAll"},"computed":false},"arguments":[{"type":"CallExpression","start":2892,"end":2919,"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":43}},"callee":{"type":"MemberExpression","start":2892,"end":2908,"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":32}},"object":{"type":"Identifier","start":2892,"end":2903,"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":27}},"name":"IDBKeyRange"},"property":{"type":"Identifier","start":2904,"end":2908,"loc":{"start":{"line":105,"column":28},"end":{"line":105,"column":32}},"name":"only"},"computed":false},"arguments":[{"type":"MemberExpression","start":2909,"end":2918,"loc":{"start":{"line":105,"column":33},"end":{"line":105,"column":42}},"object":{"type":"ThisExpression","start":2909,"end":2913,"loc":{"start":{"line":105,"column":33},"end":{"line":105,"column":37}}},"property":{"type":"Identifier","start":2914,"end":2918,"loc":{"start":{"line":105,"column":38},"end":{"line":105,"column":42}},"name":"name"},"computed":false}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":2927,"end":2957,"loc":{"start":{"line":106,"column":6},"end":{"line":106,"column":36}},"argument":{"type":"CallExpression","start":2934,"end":2957,"loc":{"start":{"line":106,"column":13},"end":{"line":106,"column":36}},"callee":{"type":"Identifier","start":2934,"end":2948,"loc":{"start":{"line":106,"column":13},"end":{"line":106,"column":27}},"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":2949,"end":2956,"loc":{"start":{"line":106,"column":28},"end":{"line":106,"column":35}},"name":"request"}]}}]}}]},"property":{"type":"Identifier","start":2965,"end":2969,"loc":{"start":{"line":107,"column":7},"end":{"line":107,"column":11}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2970,"end":3113,"loc":{"start":{"line":107,"column":12},"end":{"line":113,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2971,"end":2976,"loc":{"start":{"line":107,"column":13},"end":{"line":107,"column":18}},"name":"files"}],"body":{"type":"BlockStatement","start":2981,"end":3113,"loc":{"start":{"line":107,"column":23},"end":{"line":113,"column":5}},"body":[{"type":"VariableDeclaration","start":2989,"end":3006,"loc":{"start":{"line":108,"column":6},"end":{"line":108,"column":23}},"declarations":[{"type":"VariableDeclarator","start":2995,"end":3006,"loc":{"start":{"line":108,"column":12},"end":{"line":108,"column":23}},"id":{"type":"Identifier","start":2995,"end":3001,"loc":{"start":{"line":108,"column":12},"end":{"line":108,"column":18}},"name":"result"},"init":{"type":"ObjectExpression","start":3004,"end":3006,"loc":{"start":{"line":108,"column":21},"end":{"line":108,"column":23}},"properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":3013,"end":3087,"loc":{"start":{"line":109,"column":6},"end":{"line":111,"column":8}},"expression":{"type":"CallExpression","start":3013,"end":3087,"loc":{"start":{"line":109,"column":6},"end":{"line":111,"column":8}},"callee":{"type":"MemberExpression","start":3013,"end":3026,"loc":{"start":{"line":109,"column":6},"end":{"line":109,"column":19}},"object":{"type":"Identifier","start":3013,"end":3018,"loc":{"start":{"line":109,"column":6},"end":{"line":109,"column":11}},"name":"files"},"property":{"type":"Identifier","start":3019,"end":3026,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":19}},"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3027,"end":3086,"loc":{"start":{"line":109,"column":20},"end":{"line":111,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3028,"end":3032,"loc":{"start":{"line":109,"column":21},"end":{"line":109,"column":25}},"name":"file"}],"body":{"type":"BlockStatement","start":3037,"end":3086,"loc":{"start":{"line":109,"column":30},"end":{"line":111,"column":7}},"body":[{"type":"ExpressionStatement","start":3047,"end":3078,"loc":{"start":{"line":110,"column":8},"end":{"line":110,"column":39}},"expression":{"type":"AssignmentExpression","start":3047,"end":3078,"loc":{"start":{"line":110,"column":8},"end":{"line":110,"column":39}},"operator":"=","left":{"type":"MemberExpression","start":3047,"end":3066,"loc":{"start":{"line":110,"column":8},"end":{"line":110,"column":27}},"object":{"type":"Identifier","start":3047,"end":3053,"loc":{"start":{"line":110,"column":8},"end":{"line":110,"column":14}},"name":"result"},"property":{"type":"MemberExpression","start":3054,"end":3065,"loc":{"start":{"line":110,"column":15},"end":{"line":110,"column":26}},"object":{"type":"Identifier","start":3054,"end":3058,"loc":{"start":{"line":110,"column":15},"end":{"line":110,"column":19}},"name":"file"},"property":{"type":"Identifier","start":3059,"end":3065,"loc":{"start":{"line":110,"column":20},"end":{"line":110,"column":26}},"name":"fileID"},"computed":false},"computed":true},"right":{"type":"MemberExpression","start":3069,"end":3078,"loc":{"start":{"line":110,"column":30},"end":{"line":110,"column":39}},"object":{"type":"Identifier","start":3069,"end":3073,"loc":{"start":{"line":110,"column":30},"end":{"line":110,"column":34}},"name":"file"},"property":{"type":"Identifier","start":3074,"end":3078,"loc":{"start":{"line":110,"column":35},"end":{"line":110,"column":39}},"name":"data"},"computed":false}}}]}}]}},{"type":"ReturnStatement","start":3094,"end":3107,"loc":{"start":{"line":112,"column":6},"end":{"line":112,"column":19}},"argument":{"type":"Identifier","start":3101,"end":3107,"loc":{"start":{"line":112,"column":13},"end":{"line":112,"column":19}},"name":"result"}}]}}]}}]}}},{"type":"MethodDefinition","start":3173,"end":3515,"loc":{"start":{"line":119,"column":2},"end":{"line":129,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3173,"end":3176,"loc":{"start":{"line":119,"column":2},"end":{"line":119,"column":5}},"name":"get"},"value":{"type":"FunctionExpression","start":3177,"end":3515,"loc":{"start":{"line":119,"column":6},"end":{"line":129,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3178,"end":3184,"loc":{"start":{"line":119,"column":7},"end":{"line":119,"column":13}},"name":"fileID"}],"body":{"type":"BlockStatement","start":3186,"end":3515,"loc":{"start":{"line":119,"column":15},"end":{"line":129,"column":3}},"body":[{"type":"ReturnStatement","start":3192,"end":3511,"loc":{"start":{"line":120,"column":4},"end":{"line":128,"column":7}},"argument":{"type":"CallExpression","start":3199,"end":3511,"loc":{"start":{"line":120,"column":11},"end":{"line":128,"column":7}},"callee":{"type":"MemberExpression","start":3199,"end":3429,"loc":{"start":{"line":120,"column":11},"end":{"line":125,"column":11}},"object":{"type":"CallExpression","start":3199,"end":3424,"loc":{"start":{"line":120,"column":11},"end":{"line":125,"column":6}},"callee":{"type":"MemberExpression","start":3199,"end":3214,"loc":{"start":{"line":120,"column":11},"end":{"line":120,"column":26}},"object":{"type":"MemberExpression","start":3199,"end":3209,"loc":{"start":{"line":120,"column":11},"end":{"line":120,"column":21}},"object":{"type":"ThisExpression","start":3199,"end":3203,"loc":{"start":{"line":120,"column":11},"end":{"line":120,"column":15}}},"property":{"type":"Identifier","start":3204,"end":3209,"loc":{"start":{"line":120,"column":16},"end":{"line":120,"column":21}},"name":"ready"},"computed":false},"property":{"type":"Identifier","start":3210,"end":3214,"loc":{"start":{"line":120,"column":22},"end":{"line":120,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3215,"end":3423,"loc":{"start":{"line":120,"column":27},"end":{"line":125,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3216,"end":3218,"loc":{"start":{"line":120,"column":28},"end":{"line":120,"column":30}},"name":"db"}],"body":{"type":"BlockStatement","start":3223,"end":3423,"loc":{"start":{"line":120,"column":35},"end":{"line":125,"column":5}},"body":[{"type":"VariableDeclaration","start":3231,"end":3291,"loc":{"start":{"line":121,"column":6},"end":{"line":121,"column":66}},"declarations":[{"type":"VariableDeclarator","start":3237,"end":3291,"loc":{"start":{"line":121,"column":12},"end":{"line":121,"column":66}},"id":{"type":"Identifier","start":3237,"end":3248,"loc":{"start":{"line":121,"column":12},"end":{"line":121,"column":23}},"name":"transaction"},"init":{"type":"CallExpression","start":3251,"end":3291,"loc":{"start":{"line":121,"column":26},"end":{"line":121,"column":66}},"callee":{"type":"MemberExpression","start":3251,"end":3265,"loc":{"start":{"line":121,"column":26},"end":{"line":121,"column":40}},"object":{"type":"Identifier","start":3251,"end":3253,"loc":{"start":{"line":121,"column":26},"end":{"line":121,"column":28}},"name":"db"},"property":{"type":"Identifier","start":3254,"end":3265,"loc":{"start":{"line":121,"column":29},"end":{"line":121,"column":40}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":3266,"end":3278,"loc":{"start":{"line":121,"column":41},"end":{"line":121,"column":53}},"elements":[{"type":"Identifier","start":3267,"end":3277,"loc":{"start":{"line":121,"column":42},"end":{"line":121,"column":52}},"name":"STORE_NAME"}]},{"type":"Literal","start":3280,"end":3290,"loc":{"start":{"line":121,"column":55},"end":{"line":121,"column":65}},"value":"readonly","raw":"'readonly'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3298,"end":3380,"loc":{"start":{"line":122,"column":6},"end":{"line":123,"column":30}},"declarations":[{"type":"VariableDeclarator","start":3304,"end":3380,"loc":{"start":{"line":122,"column":12},"end":{"line":123,"column":30}},"id":{"type":"Identifier","start":3304,"end":3311,"loc":{"start":{"line":122,"column":12},"end":{"line":122,"column":19}},"name":"request"},"init":{"type":"CallExpression","start":3314,"end":3380,"loc":{"start":{"line":122,"column":22},"end":{"line":123,"column":30}},"callee":{"type":"MemberExpression","start":3314,"end":3362,"loc":{"start":{"line":122,"column":22},"end":{"line":123,"column":12}},"object":{"type":"CallExpression","start":3314,"end":3349,"loc":{"start":{"line":122,"column":22},"end":{"line":122,"column":57}},"callee":{"type":"MemberExpression","start":3314,"end":3337,"loc":{"start":{"line":122,"column":22},"end":{"line":122,"column":45}},"object":{"type":"Identifier","start":3314,"end":3325,"loc":{"start":{"line":122,"column":22},"end":{"line":122,"column":33}},"name":"transaction"},"property":{"type":"Identifier","start":3326,"end":3337,"loc":{"start":{"line":122,"column":34},"end":{"line":122,"column":45}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":3338,"end":3348,"loc":{"start":{"line":122,"column":46},"end":{"line":122,"column":56}},"name":"STORE_NAME"}]},"property":{"type":"Identifier","start":3359,"end":3362,"loc":{"start":{"line":123,"column":9},"end":{"line":123,"column":12}},"name":"get"},"computed":false},"arguments":[{"type":"CallExpression","start":3363,"end":3379,"loc":{"start":{"line":123,"column":13},"end":{"line":123,"column":29}},"callee":{"type":"MemberExpression","start":3363,"end":3371,"loc":{"start":{"line":123,"column":13},"end":{"line":123,"column":21}},"object":{"type":"ThisExpression","start":3363,"end":3367,"loc":{"start":{"line":123,"column":13},"end":{"line":123,"column":17}}},"property":{"type":"Identifier","start":3368,"end":3371,"loc":{"start":{"line":123,"column":18},"end":{"line":123,"column":21}},"name":"key"},"computed":false},"arguments":[{"type":"Identifier","start":3372,"end":3378,"loc":{"start":{"line":123,"column":22},"end":{"line":123,"column":28}},"name":"fileID"}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":3387,"end":3417,"loc":{"start":{"line":124,"column":6},"end":{"line":124,"column":36}},"argument":{"type":"CallExpression","start":3394,"end":3417,"loc":{"start":{"line":124,"column":13},"end":{"line":124,"column":36}},"callee":{"type":"Identifier","start":3394,"end":3408,"loc":{"start":{"line":124,"column":13},"end":{"line":124,"column":27}},"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":3409,"end":3416,"loc":{"start":{"line":124,"column":28},"end":{"line":124,"column":35}},"name":"request"}]}}]}}]},"property":{"type":"Identifier","start":3425,"end":3429,"loc":{"start":{"line":125,"column":7},"end":{"line":125,"column":11}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3430,"end":3510,"loc":{"start":{"line":125,"column":12},"end":{"line":128,"column":6}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3431,"end":3437,"loc":{"start":{"line":125,"column":13},"end":{"line":125,"column":19}},"name":"result"}],"body":{"type":"ObjectExpression","start":3443,"end":3509,"loc":{"start":{"line":125,"column":25},"end":{"line":128,"column":5}},"properties":[{"type":"Property","start":3451,"end":3473,"loc":{"start":{"line":126,"column":6},"end":{"line":126,"column":28}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3451,"end":3453,"loc":{"start":{"line":126,"column":6},"end":{"line":126,"column":8}},"name":"id"},"value":{"type":"MemberExpression","start":3455,"end":3473,"loc":{"start":{"line":126,"column":10},"end":{"line":126,"column":28}},"object":{"type":"MemberExpression","start":3455,"end":3466,"loc":{"start":{"line":126,"column":10},"end":{"line":126,"column":21}},"object":{"type":"Identifier","start":3455,"end":3461,"loc":{"start":{"line":126,"column":10},"end":{"line":126,"column":16}},"name":"result"},"property":{"type":"Identifier","start":3462,"end":3466,"loc":{"start":{"line":126,"column":17},"end":{"line":126,"column":21}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":3467,"end":3473,"loc":{"start":{"line":126,"column":22},"end":{"line":126,"column":28}},"name":"fileID"},"computed":false},"kind":"init"},{"type":"Property","start":3481,"end":3503,"loc":{"start":{"line":127,"column":6},"end":{"line":127,"column":28}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3481,"end":3485,"loc":{"start":{"line":127,"column":6},"end":{"line":127,"column":10}},"name":"data"},"value":{"type":"MemberExpression","start":3487,"end":3503,"loc":{"start":{"line":127,"column":12},"end":{"line":127,"column":28}},"object":{"type":"MemberExpression","start":3487,"end":3498,"loc":{"start":{"line":127,"column":12},"end":{"line":127,"column":23}},"object":{"type":"Identifier","start":3487,"end":3493,"loc":{"start":{"line":127,"column":12},"end":{"line":127,"column":18}},"name":"result"},"property":{"type":"Identifier","start":3494,"end":3498,"loc":{"start":{"line":127,"column":19},"end":{"line":127,"column":23}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":3499,"end":3503,"loc":{"start":{"line":127,"column":24},"end":{"line":127,"column":28}},"name":"data"},"computed":false},"kind":"init"}]}}]}}]}}},{"type":"MethodDefinition","start":3595,"end":4310,"loc":{"start":{"line":136,"column":2},"end":{"line":158,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3595,"end":3602,"loc":{"start":{"line":136,"column":2},"end":{"line":136,"column":9}},"name":"getSize"},"value":{"type":"FunctionExpression","start":3603,"end":4310,"loc":{"start":{"line":136,"column":10},"end":{"line":158,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3606,"end":4310,"loc":{"start":{"line":136,"column":13},"end":{"line":158,"column":3}},"body":[{"type":"ReturnStatement","start":3612,"end":4306,"loc":{"start":{"line":137,"column":4},"end":{"line":157,"column":6}},"argument":{"type":"CallExpression","start":3619,"end":4306,"loc":{"start":{"line":137,"column":11},"end":{"line":157,"column":6}},"callee":{"type":"MemberExpression","start":3619,"end":3634,"loc":{"start":{"line":137,"column":11},"end":{"line":137,"column":26}},"object":{"type":"MemberExpression","start":3619,"end":3629,"loc":{"start":{"line":137,"column":11},"end":{"line":137,"column":21}},"object":{"type":"ThisExpression","start":3619,"end":3623,"loc":{"start":{"line":137,"column":11},"end":{"line":137,"column":15}}},"property":{"type":"Identifier","start":3624,"end":3629,"loc":{"start":{"line":137,"column":16},"end":{"line":137,"column":21}},"name":"ready"},"computed":false},"property":{"type":"Identifier","start":3630,"end":3634,"loc":{"start":{"line":137,"column":22},"end":{"line":137,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3635,"end":4305,"loc":{"start":{"line":137,"column":27},"end":{"line":157,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3636,"end":3638,"loc":{"start":{"line":137,"column":28},"end":{"line":137,"column":30}},"name":"db"}],"body":{"type":"BlockStatement","start":3643,"end":4305,"loc":{"start":{"line":137,"column":35},"end":{"line":157,"column":5}},"body":[{"type":"VariableDeclaration","start":3651,"end":3711,"loc":{"start":{"line":138,"column":6},"end":{"line":138,"column":66}},"declarations":[{"type":"VariableDeclarator","start":3657,"end":3711,"loc":{"start":{"line":138,"column":12},"end":{"line":138,"column":66}},"id":{"type":"Identifier","start":3657,"end":3668,"loc":{"start":{"line":138,"column":12},"end":{"line":138,"column":23}},"name":"transaction"},"init":{"type":"CallExpression","start":3671,"end":3711,"loc":{"start":{"line":138,"column":26},"end":{"line":138,"column":66}},"callee":{"type":"MemberExpression","start":3671,"end":3685,"loc":{"start":{"line":138,"column":26},"end":{"line":138,"column":40}},"object":{"type":"Identifier","start":3671,"end":3673,"loc":{"start":{"line":138,"column":26},"end":{"line":138,"column":28}},"name":"db"},"property":{"type":"Identifier","start":3674,"end":3685,"loc":{"start":{"line":138,"column":29},"end":{"line":138,"column":40}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":3686,"end":3698,"loc":{"start":{"line":138,"column":41},"end":{"line":138,"column":53}},"elements":[{"type":"Identifier","start":3687,"end":3697,"loc":{"start":{"line":138,"column":42},"end":{"line":138,"column":52}},"name":"STORE_NAME"}]},{"type":"Literal","start":3700,"end":3710,"loc":{"start":{"line":138,"column":55},"end":{"line":138,"column":65}},"value":"readonly","raw":"'readonly'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3718,"end":3767,"loc":{"start":{"line":139,"column":6},"end":{"line":139,"column":55}},"declarations":[{"type":"VariableDeclarator","start":3724,"end":3767,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":55}},"id":{"type":"Identifier","start":3724,"end":3729,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":17}},"name":"store"},"init":{"type":"CallExpression","start":3732,"end":3767,"loc":{"start":{"line":139,"column":20},"end":{"line":139,"column":55}},"callee":{"type":"MemberExpression","start":3732,"end":3755,"loc":{"start":{"line":139,"column":20},"end":{"line":139,"column":43}},"object":{"type":"Identifier","start":3732,"end":3743,"loc":{"start":{"line":139,"column":20},"end":{"line":139,"column":31}},"name":"transaction"},"property":{"type":"Identifier","start":3744,"end":3755,"loc":{"start":{"line":139,"column":32},"end":{"line":139,"column":43}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":3756,"end":3766,"loc":{"start":{"line":139,"column":44},"end":{"line":139,"column":54}},"name":"STORE_NAME"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3774,"end":3859,"loc":{"start":{"line":140,"column":6},"end":{"line":141,"column":48}},"declarations":[{"type":"VariableDeclarator","start":3780,"end":3859,"loc":{"start":{"line":140,"column":12},"end":{"line":141,"column":48}},"id":{"type":"Identifier","start":3780,"end":3787,"loc":{"start":{"line":140,"column":12},"end":{"line":140,"column":19}},"name":"request"},"init":{"type":"CallExpression","start":3790,"end":3859,"loc":{"start":{"line":140,"column":22},"end":{"line":141,"column":48}},"callee":{"type":"MemberExpression","start":3790,"end":3830,"loc":{"start":{"line":140,"column":22},"end":{"line":141,"column":19}},"object":{"type":"CallExpression","start":3790,"end":3810,"loc":{"start":{"line":140,"column":22},"end":{"line":140,"column":42}},"callee":{"type":"MemberExpression","start":3790,"end":3801,"loc":{"start":{"line":140,"column":22},"end":{"line":140,"column":33}},"object":{"type":"Identifier","start":3790,"end":3795,"loc":{"start":{"line":140,"column":22},"end":{"line":140,"column":27}},"name":"store"},"property":{"type":"Identifier","start":3796,"end":3801,"loc":{"start":{"line":140,"column":28},"end":{"line":140,"column":33}},"name":"index"},"computed":false},"arguments":[{"type":"Literal","start":3802,"end":3809,"loc":{"start":{"line":140,"column":34},"end":{"line":140,"column":41}},"value":"store","raw":"'store'"}]},"property":{"type":"Identifier","start":3820,"end":3830,"loc":{"start":{"line":141,"column":9},"end":{"line":141,"column":19}},"name":"openCursor"},"computed":false},"arguments":[{"type":"CallExpression","start":3831,"end":3858,"loc":{"start":{"line":141,"column":20},"end":{"line":141,"column":47}},"callee":{"type":"MemberExpression","start":3831,"end":3847,"loc":{"start":{"line":141,"column":20},"end":{"line":141,"column":36}},"object":{"type":"Identifier","start":3831,"end":3842,"loc":{"start":{"line":141,"column":20},"end":{"line":141,"column":31}},"name":"IDBKeyRange"},"property":{"type":"Identifier","start":3843,"end":3847,"loc":{"start":{"line":141,"column":32},"end":{"line":141,"column":36}},"name":"only"},"computed":false},"arguments":[{"type":"MemberExpression","start":3848,"end":3857,"loc":{"start":{"line":141,"column":37},"end":{"line":141,"column":46}},"object":{"type":"ThisExpression","start":3848,"end":3852,"loc":{"start":{"line":141,"column":37},"end":{"line":141,"column":41}}},"property":{"type":"Identifier","start":3853,"end":3857,"loc":{"start":{"line":141,"column":42},"end":{"line":141,"column":46}},"name":"name"},"computed":false}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":3866,"end":4299,"loc":{"start":{"line":142,"column":6},"end":{"line":156,"column":8}},"argument":{"type":"NewExpression","start":3873,"end":4299,"loc":{"start":{"line":142,"column":13},"end":{"line":156,"column":8}},"callee":{"type":"Identifier","start":3877,"end":3884,"loc":{"start":{"line":142,"column":17},"end":{"line":142,"column":24}},"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":3885,"end":4298,"loc":{"start":{"line":142,"column":25},"end":{"line":156,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3886,"end":3893,"loc":{"start":{"line":142,"column":26},"end":{"line":142,"column":33}},"name":"resolve"},{"type":"Identifier","start":3895,"end":3901,"loc":{"start":{"line":142,"column":35},"end":{"line":142,"column":41}},"name":"reject"}],"body":{"type":"BlockStatement","start":3906,"end":4298,"loc":{"start":{"line":142,"column":46},"end":{"line":156,"column":7}},"body":[{"type":"VariableDeclaration","start":3916,"end":3928,"loc":{"start":{"line":143,"column":8},"end":{"line":143,"column":20}},"declarations":[{"type":"VariableDeclarator","start":3920,"end":3928,"loc":{"start":{"line":143,"column":12},"end":{"line":143,"column":20}},"id":{"type":"Identifier","start":3920,"end":3924,"loc":{"start":{"line":143,"column":12},"end":{"line":143,"column":16}},"name":"size"},"init":{"type":"Literal","start":3927,"end":3928,"loc":{"start":{"line":143,"column":19},"end":{"line":143,"column":20}},"value":0,"raw":"0"}}],"kind":"let"},{"type":"ExpressionStatement","start":3937,"end":4178,"loc":{"start":{"line":144,"column":8},"end":{"line":152,"column":9}},"expression":{"type":"AssignmentExpression","start":3937,"end":4178,"loc":{"start":{"line":144,"column":8},"end":{"line":152,"column":9}},"operator":"=","left":{"type":"MemberExpression","start":3937,"end":3954,"loc":{"start":{"line":144,"column":8},"end":{"line":144,"column":25}},"object":{"type":"Identifier","start":3937,"end":3944,"loc":{"start":{"line":144,"column":8},"end":{"line":144,"column":15}},"name":"request"},"property":{"type":"Identifier","start":3945,"end":3954,"loc":{"start":{"line":144,"column":16},"end":{"line":144,"column":25}},"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":3957,"end":4178,"loc":{"start":{"line":144,"column":28},"end":{"line":152,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3958,"end":3963,"loc":{"start":{"line":144,"column":29},"end":{"line":144,"column":34}},"name":"event"}],"body":{"type":"BlockStatement","start":3968,"end":4178,"loc":{"start":{"line":144,"column":39},"end":{"line":152,"column":9}},"body":[{"type":"VariableDeclaration","start":3980,"end":4014,"loc":{"start":{"line":145,"column":10},"end":{"line":145,"column":44}},"declarations":[{"type":"VariableDeclarator","start":3986,"end":4014,"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":44}},"id":{"type":"Identifier","start":3986,"end":3992,"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":22}},"name":"cursor"},"init":{"type":"MemberExpression","start":3995,"end":4014,"loc":{"start":{"line":145,"column":25},"end":{"line":145,"column":44}},"object":{"type":"MemberExpression","start":3995,"end":4007,"loc":{"start":{"line":145,"column":25},"end":{"line":145,"column":37}},"object":{"type":"Identifier","start":3995,"end":4000,"loc":{"start":{"line":145,"column":25},"end":{"line":145,"column":30}},"name":"event"},"property":{"type":"Identifier","start":4001,"end":4007,"loc":{"start":{"line":145,"column":31},"end":{"line":145,"column":37}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":4008,"end":4014,"loc":{"start":{"line":145,"column":38},"end":{"line":145,"column":44}},"name":"result"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":4025,"end":4168,"loc":{"start":{"line":146,"column":10},"end":{"line":151,"column":11}},"test":{"type":"Identifier","start":4029,"end":4035,"loc":{"start":{"line":146,"column":14},"end":{"line":146,"column":20}},"name":"cursor"},"consequent":{"type":"BlockStatement","start":4037,"end":4123,"loc":{"start":{"line":146,"column":22},"end":{"line":149,"column":11}},"body":[{"type":"ExpressionStatement","start":4051,"end":4081,"loc":{"start":{"line":147,"column":12},"end":{"line":147,"column":42}},"expression":{"type":"AssignmentExpression","start":4051,"end":4081,"loc":{"start":{"line":147,"column":12},"end":{"line":147,"column":42}},"operator":"+=","left":{"type":"Identifier","start":4051,"end":4055,"loc":{"start":{"line":147,"column":12},"end":{"line":147,"column":16}},"name":"size"},"right":{"type":"MemberExpression","start":4059,"end":4081,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":42}},"object":{"type":"MemberExpression","start":4059,"end":4076,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":37}},"object":{"type":"MemberExpression","start":4059,"end":4071,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":32}},"object":{"type":"Identifier","start":4059,"end":4065,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":26}},"name":"cursor"},"property":{"type":"Identifier","start":4066,"end":4071,"loc":{"start":{"line":147,"column":27},"end":{"line":147,"column":32}},"name":"value"},"computed":false},"property":{"type":"Identifier","start":4072,"end":4076,"loc":{"start":{"line":147,"column":33},"end":{"line":147,"column":37}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":4077,"end":4081,"loc":{"start":{"line":147,"column":38},"end":{"line":147,"column":42}},"name":"size"},"computed":false}}},{"type":"ExpressionStatement","start":4094,"end":4111,"loc":{"start":{"line":148,"column":12},"end":{"line":148,"column":29}},"expression":{"type":"CallExpression","start":4094,"end":4111,"loc":{"start":{"line":148,"column":12},"end":{"line":148,"column":29}},"callee":{"type":"MemberExpression","start":4094,"end":4109,"loc":{"start":{"line":148,"column":12},"end":{"line":148,"column":27}},"object":{"type":"Identifier","start":4094,"end":4100,"loc":{"start":{"line":148,"column":12},"end":{"line":148,"column":18}},"name":"cursor"},"property":{"type":"Identifier","start":4101,"end":4109,"loc":{"start":{"line":148,"column":19},"end":{"line":148,"column":27}},"name":"continue"},"computed":false},"arguments":[]}}]},"alternate":{"type":"BlockStatement","start":4129,"end":4168,"loc":{"start":{"line":149,"column":17},"end":{"line":151,"column":11}},"body":[{"type":"ExpressionStatement","start":4143,"end":4156,"loc":{"start":{"line":150,"column":12},"end":{"line":150,"column":25}},"expression":{"type":"CallExpression","start":4143,"end":4156,"loc":{"start":{"line":150,"column":12},"end":{"line":150,"column":25}},"callee":{"type":"Identifier","start":4143,"end":4150,"loc":{"start":{"line":150,"column":12},"end":{"line":150,"column":19}},"name":"resolve"},"arguments":[{"type":"Identifier","start":4151,"end":4155,"loc":{"start":{"line":150,"column":20},"end":{"line":150,"column":24}},"name":"size"}]}}]}}]}}}},{"type":"ExpressionStatement","start":4187,"end":4290,"loc":{"start":{"line":153,"column":8},"end":{"line":155,"column":9}},"expression":{"type":"AssignmentExpression","start":4187,"end":4290,"loc":{"start":{"line":153,"column":8},"end":{"line":155,"column":9}},"operator":"=","left":{"type":"MemberExpression","start":4187,"end":4202,"loc":{"start":{"line":153,"column":8},"end":{"line":153,"column":23}},"object":{"type":"Identifier","start":4187,"end":4194,"loc":{"start":{"line":153,"column":8},"end":{"line":153,"column":15}},"name":"request"},"property":{"type":"Identifier","start":4195,"end":4202,"loc":{"start":{"line":153,"column":16},"end":{"line":153,"column":23}},"name":"onerror"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":4205,"end":4290,"loc":{"start":{"line":153,"column":26},"end":{"line":155,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4211,"end":4290,"loc":{"start":{"line":153,"column":32},"end":{"line":155,"column":9}},"body":[{"type":"ExpressionStatement","start":4223,"end":4280,"loc":{"start":{"line":154,"column":10},"end":{"line":154,"column":67}},"expression":{"type":"CallExpression","start":4223,"end":4280,"loc":{"start":{"line":154,"column":10},"end":{"line":154,"column":67}},"callee":{"type":"Identifier","start":4223,"end":4229,"loc":{"start":{"line":154,"column":10},"end":{"line":154,"column":16}},"name":"reject"},"arguments":[{"type":"NewExpression","start":4230,"end":4279,"loc":{"start":{"line":154,"column":17},"end":{"line":154,"column":66}},"callee":{"type":"Identifier","start":4234,"end":4239,"loc":{"start":{"line":154,"column":21},"end":{"line":154,"column":26}},"name":"Error"},"arguments":[{"type":"Literal","start":4240,"end":4278,"loc":{"start":{"line":154,"column":27},"end":{"line":154,"column":65}},"value":"Could not retrieve stored blobs size","raw":"'Could not retrieve stored blobs size'"}]}]}}]}}}}]}}]}}]}}]}}]}}},{"type":"MethodDefinition","start":4357,"end":5035,"loc":{"start":{"line":163,"column":2},"end":{"line":183,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":4357,"end":4360,"loc":{"start":{"line":163,"column":2},"end":{"line":163,"column":5}},"name":"put"},"value":{"type":"FunctionExpression","start":4361,"end":5035,"loc":{"start":{"line":163,"column":6},"end":{"line":183,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4362,"end":4366,"loc":{"start":{"line":163,"column":7},"end":{"line":163,"column":11}},"name":"file"}],"body":{"type":"BlockStatement","start":4368,"end":5035,"loc":{"start":{"line":163,"column":13},"end":{"line":183,"column":3}},"body":[{"type":"IfStatement","start":4374,"end":4493,"loc":{"start":{"line":164,"column":4},"end":{"line":166,"column":5}},"test":{"type":"BinaryExpression","start":4378,"end":4416,"loc":{"start":{"line":164,"column":8},"end":{"line":164,"column":46}},"left":{"type":"MemberExpression","start":4378,"end":4392,"loc":{"start":{"line":164,"column":8},"end":{"line":164,"column":22}},"object":{"type":"MemberExpression","start":4378,"end":4387,"loc":{"start":{"line":164,"column":8},"end":{"line":164,"column":17}},"object":{"type":"Identifier","start":4378,"end":4382,"loc":{"start":{"line":164,"column":8},"end":{"line":164,"column":12}},"name":"file"},"property":{"type":"Identifier","start":4383,"end":4387,"loc":{"start":{"line":164,"column":13},"end":{"line":164,"column":17}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":4388,"end":4392,"loc":{"start":{"line":164,"column":18},"end":{"line":164,"column":22}},"name":"size"},"computed":false},"operator":">","right":{"type":"MemberExpression","start":4395,"end":4416,"loc":{"start":{"line":164,"column":25},"end":{"line":164,"column":46}},"object":{"type":"MemberExpression","start":4395,"end":4404,"loc":{"start":{"line":164,"column":25},"end":{"line":164,"column":34}},"object":{"type":"ThisExpression","start":4395,"end":4399,"loc":{"start":{"line":164,"column":25},"end":{"line":164,"column":29}}},"property":{"type":"Identifier","start":4400,"end":4404,"loc":{"start":{"line":164,"column":30},"end":{"line":164,"column":34}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4405,"end":4416,"loc":{"start":{"line":164,"column":35},"end":{"line":164,"column":46}},"name":"maxFileSize"},"computed":false}},"consequent":{"type":"BlockStatement","start":4418,"end":4493,"loc":{"start":{"line":164,"column":48},"end":{"line":166,"column":5}},"body":[{"type":"ReturnStatement","start":4426,"end":4487,"loc":{"start":{"line":165,"column":6},"end":{"line":165,"column":67}},"argument":{"type":"CallExpression","start":4433,"end":4487,"loc":{"start":{"line":165,"column":13},"end":{"line":165,"column":67}},"callee":{"type":"MemberExpression","start":4433,"end":4447,"loc":{"start":{"line":165,"column":13},"end":{"line":165,"column":27}},"object":{"type":"Identifier","start":4433,"end":4440,"loc":{"start":{"line":165,"column":13},"end":{"line":165,"column":20}},"name":"Promise"},"property":{"type":"Identifier","start":4441,"end":4447,"loc":{"start":{"line":165,"column":21},"end":{"line":165,"column":27}},"name":"reject"},"computed":false},"arguments":[{"type":"NewExpression","start":4448,"end":4486,"loc":{"start":{"line":165,"column":28},"end":{"line":165,"column":66}},"callee":{"type":"Identifier","start":4452,"end":4457,"loc":{"start":{"line":165,"column":32},"end":{"line":165,"column":37}},"name":"Error"},"arguments":[{"type":"Literal","start":4458,"end":4485,"loc":{"start":{"line":165,"column":38},"end":{"line":165,"column":65}},"value":"File is too big to store.","raw":"'File is too big to store.'"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":4498,"end":5031,"loc":{"start":{"line":167,"column":4},"end":{"line":182,"column":6}},"argument":{"type":"CallExpression","start":4505,"end":5031,"loc":{"start":{"line":167,"column":11},"end":{"line":182,"column":6}},"callee":{"type":"MemberExpression","start":4505,"end":4681,"loc":{"start":{"line":167,"column":11},"end":{"line":172,"column":11}},"object":{"type":"CallExpression","start":4505,"end":4676,"loc":{"start":{"line":167,"column":11},"end":{"line":172,"column":6}},"callee":{"type":"MemberExpression","start":4505,"end":4524,"loc":{"start":{"line":167,"column":11},"end":{"line":167,"column":30}},"object":{"type":"CallExpression","start":4505,"end":4519,"loc":{"start":{"line":167,"column":11},"end":{"line":167,"column":25}},"callee":{"type":"MemberExpression","start":4505,"end":4517,"loc":{"start":{"line":167,"column":11},"end":{"line":167,"column":23}},"object":{"type":"ThisExpression","start":4505,"end":4509,"loc":{"start":{"line":167,"column":11},"end":{"line":167,"column":15}}},"property":{"type":"Identifier","start":4510,"end":4517,"loc":{"start":{"line":167,"column":16},"end":{"line":167,"column":23}},"name":"getSize"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":4520,"end":4524,"loc":{"start":{"line":167,"column":26},"end":{"line":167,"column":30}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4525,"end":4675,"loc":{"start":{"line":167,"column":31},"end":{"line":172,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4526,"end":4530,"loc":{"start":{"line":167,"column":32},"end":{"line":167,"column":36}},"name":"size"}],"body":{"type":"BlockStatement","start":4535,"end":4675,"loc":{"start":{"line":167,"column":41},"end":{"line":172,"column":5}},"body":[{"type":"IfStatement","start":4543,"end":4645,"loc":{"start":{"line":168,"column":6},"end":{"line":170,"column":7}},"test":{"type":"BinaryExpression","start":4547,"end":4576,"loc":{"start":{"line":168,"column":10},"end":{"line":168,"column":39}},"left":{"type":"Identifier","start":4547,"end":4551,"loc":{"start":{"line":168,"column":10},"end":{"line":168,"column":14}},"name":"size"},"operator":">","right":{"type":"MemberExpression","start":4554,"end":4576,"loc":{"start":{"line":168,"column":17},"end":{"line":168,"column":39}},"object":{"type":"MemberExpression","start":4554,"end":4563,"loc":{"start":{"line":168,"column":17},"end":{"line":168,"column":26}},"object":{"type":"ThisExpression","start":4554,"end":4558,"loc":{"start":{"line":168,"column":17},"end":{"line":168,"column":21}}},"property":{"type":"Identifier","start":4559,"end":4563,"loc":{"start":{"line":168,"column":22},"end":{"line":168,"column":26}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4564,"end":4576,"loc":{"start":{"line":168,"column":27},"end":{"line":168,"column":39}},"name":"maxTotalSize"},"computed":false}},"consequent":{"type":"BlockStatement","start":4578,"end":4645,"loc":{"start":{"line":168,"column":41},"end":{"line":170,"column":7}},"body":[{"type":"ReturnStatement","start":4588,"end":4637,"loc":{"start":{"line":169,"column":8},"end":{"line":169,"column":57}},"argument":{"type":"CallExpression","start":4595,"end":4637,"loc":{"start":{"line":169,"column":15},"end":{"line":169,"column":57}},"callee":{"type":"MemberExpression","start":4595,"end":4609,"loc":{"start":{"line":169,"column":15},"end":{"line":169,"column":29}},"object":{"type":"Identifier","start":4595,"end":4602,"loc":{"start":{"line":169,"column":15},"end":{"line":169,"column":22}},"name":"Promise"},"property":{"type":"Identifier","start":4603,"end":4609,"loc":{"start":{"line":169,"column":23},"end":{"line":169,"column":29}},"name":"reject"},"computed":false},"arguments":[{"type":"NewExpression","start":4610,"end":4636,"loc":{"start":{"line":169,"column":30},"end":{"line":169,"column":56}},"callee":{"type":"Identifier","start":4614,"end":4619,"loc":{"start":{"line":169,"column":34},"end":{"line":169,"column":39}},"name":"Error"},"arguments":[{"type":"Literal","start":4620,"end":4635,"loc":{"start":{"line":169,"column":40},"end":{"line":169,"column":55}},"value":"No space left","raw":"'No space left'"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":4652,"end":4669,"loc":{"start":{"line":171,"column":6},"end":{"line":171,"column":23}},"argument":{"type":"MemberExpression","start":4659,"end":4669,"loc":{"start":{"line":171,"column":13},"end":{"line":171,"column":23}},"object":{"type":"ThisExpression","start":4659,"end":4663,"loc":{"start":{"line":171,"column":13},"end":{"line":171,"column":17}}},"property":{"type":"Identifier","start":4664,"end":4669,"loc":{"start":{"line":171,"column":18},"end":{"line":171,"column":23}},"name":"ready"},"computed":false}}]}}]},"property":{"type":"Identifier","start":4677,"end":4681,"loc":{"start":{"line":172,"column":7},"end":{"line":172,"column":11}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4682,"end":5030,"loc":{"start":{"line":172,"column":12},"end":{"line":182,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4683,"end":4685,"loc":{"start":{"line":172,"column":13},"end":{"line":172,"column":15}},"name":"db"}],"body":{"type":"BlockStatement","start":4690,"end":5030,"loc":{"start":{"line":172,"column":20},"end":{"line":182,"column":5}},"body":[{"type":"VariableDeclaration","start":4698,"end":4759,"loc":{"start":{"line":173,"column":6},"end":{"line":173,"column":67}},"declarations":[{"type":"VariableDeclarator","start":4704,"end":4759,"loc":{"start":{"line":173,"column":12},"end":{"line":173,"column":67}},"id":{"type":"Identifier","start":4704,"end":4715,"loc":{"start":{"line":173,"column":12},"end":{"line":173,"column":23}},"name":"transaction"},"init":{"type":"CallExpression","start":4718,"end":4759,"loc":{"start":{"line":173,"column":26},"end":{"line":173,"column":67}},"callee":{"type":"MemberExpression","start":4718,"end":4732,"loc":{"start":{"line":173,"column":26},"end":{"line":173,"column":40}},"object":{"type":"Identifier","start":4718,"end":4720,"loc":{"start":{"line":173,"column":26},"end":{"line":173,"column":28}},"name":"db"},"property":{"type":"Identifier","start":4721,"end":4732,"loc":{"start":{"line":173,"column":29},"end":{"line":173,"column":40}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":4733,"end":4745,"loc":{"start":{"line":173,"column":41},"end":{"line":173,"column":53}},"elements":[{"type":"Identifier","start":4734,"end":4744,"loc":{"start":{"line":173,"column":42},"end":{"line":173,"column":52}},"name":"STORE_NAME"}]},{"type":"Literal","start":4747,"end":4758,"loc":{"start":{"line":173,"column":55},"end":{"line":173,"column":66}},"value":"readwrite","raw":"'readwrite'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":4766,"end":4987,"loc":{"start":{"line":174,"column":6},"end":{"line":180,"column":8}},"declarations":[{"type":"VariableDeclarator","start":4772,"end":4987,"loc":{"start":{"line":174,"column":12},"end":{"line":180,"column":8}},"id":{"type":"Identifier","start":4772,"end":4779,"loc":{"start":{"line":174,"column":12},"end":{"line":174,"column":19}},"name":"request"},"init":{"type":"CallExpression","start":4782,"end":4987,"loc":{"start":{"line":174,"column":22},"end":{"line":180,"column":8}},"callee":{"type":"MemberExpression","start":4782,"end":4821,"loc":{"start":{"line":174,"column":22},"end":{"line":174,"column":61}},"object":{"type":"CallExpression","start":4782,"end":4817,"loc":{"start":{"line":174,"column":22},"end":{"line":174,"column":57}},"callee":{"type":"MemberExpression","start":4782,"end":4805,"loc":{"start":{"line":174,"column":22},"end":{"line":174,"column":45}},"object":{"type":"Identifier","start":4782,"end":4793,"loc":{"start":{"line":174,"column":22},"end":{"line":174,"column":33}},"name":"transaction"},"property":{"type":"Identifier","start":4794,"end":4805,"loc":{"start":{"line":174,"column":34},"end":{"line":174,"column":45}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":4806,"end":4816,"loc":{"start":{"line":174,"column":46},"end":{"line":174,"column":56}},"name":"STORE_NAME"}]},"property":{"type":"Identifier","start":4818,"end":4821,"loc":{"start":{"line":174,"column":58},"end":{"line":174,"column":61}},"name":"add"},"computed":false},"arguments":[{"type":"ObjectExpression","start":4822,"end":4986,"loc":{"start":{"line":174,"column":62},"end":{"line":180,"column":7}},"properties":[{"type":"Property","start":4832,"end":4853,"loc":{"start":{"line":175,"column":8},"end":{"line":175,"column":29}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4832,"end":4834,"loc":{"start":{"line":175,"column":8},"end":{"line":175,"column":10}},"name":"id"},"value":{"type":"CallExpression","start":4836,"end":4853,"loc":{"start":{"line":175,"column":12},"end":{"line":175,"column":29}},"callee":{"type":"MemberExpression","start":4836,"end":4844,"loc":{"start":{"line":175,"column":12},"end":{"line":175,"column":20}},"object":{"type":"ThisExpression","start":4836,"end":4840,"loc":{"start":{"line":175,"column":12},"end":{"line":175,"column":16}}},"property":{"type":"Identifier","start":4841,"end":4844,"loc":{"start":{"line":175,"column":17},"end":{"line":175,"column":20}},"name":"key"},"computed":false},"arguments":[{"type":"MemberExpression","start":4845,"end":4852,"loc":{"start":{"line":175,"column":21},"end":{"line":175,"column":28}},"object":{"type":"Identifier","start":4845,"end":4849,"loc":{"start":{"line":175,"column":21},"end":{"line":175,"column":25}},"name":"file"},"property":{"type":"Identifier","start":4850,"end":4852,"loc":{"start":{"line":175,"column":26},"end":{"line":175,"column":28}},"name":"id"},"computed":false}]},"kind":"init"},{"type":"Property","start":4863,"end":4878,"loc":{"start":{"line":176,"column":8},"end":{"line":176,"column":23}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4863,"end":4869,"loc":{"start":{"line":176,"column":8},"end":{"line":176,"column":14}},"name":"fileID"},"value":{"type":"MemberExpression","start":4871,"end":4878,"loc":{"start":{"line":176,"column":16},"end":{"line":176,"column":23}},"object":{"type":"Identifier","start":4871,"end":4875,"loc":{"start":{"line":176,"column":16},"end":{"line":176,"column":20}},"name":"file"},"property":{"type":"Identifier","start":4876,"end":4878,"loc":{"start":{"line":176,"column":21},"end":{"line":176,"column":23}},"name":"id"},"computed":false},"kind":"init"},{"type":"Property","start":4888,"end":4904,"loc":{"start":{"line":177,"column":8},"end":{"line":177,"column":24}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4888,"end":4893,"loc":{"start":{"line":177,"column":8},"end":{"line":177,"column":13}},"name":"store"},"value":{"type":"MemberExpression","start":4895,"end":4904,"loc":{"start":{"line":177,"column":15},"end":{"line":177,"column":24}},"object":{"type":"ThisExpression","start":4895,"end":4899,"loc":{"start":{"line":177,"column":15},"end":{"line":177,"column":19}}},"property":{"type":"Identifier","start":4900,"end":4904,"loc":{"start":{"line":177,"column":20},"end":{"line":177,"column":24}},"name":"name"},"computed":false},"kind":"init"},{"type":"Property","start":4914,"end":4953,"loc":{"start":{"line":178,"column":8},"end":{"line":178,"column":47}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4914,"end":4921,"loc":{"start":{"line":178,"column":8},"end":{"line":178,"column":15}},"name":"expires"},"value":{"type":"BinaryExpression","start":4923,"end":4953,"loc":{"start":{"line":178,"column":17},"end":{"line":178,"column":47}},"left":{"type":"CallExpression","start":4923,"end":4933,"loc":{"start":{"line":178,"column":17},"end":{"line":178,"column":27}},"callee":{"type":"MemberExpression","start":4923,"end":4931,"loc":{"start":{"line":178,"column":17},"end":{"line":178,"column":25}},"object":{"type":"Identifier","start":4923,"end":4927,"loc":{"start":{"line":178,"column":17},"end":{"line":178,"column":21}},"name":"Date"},"property":{"type":"Identifier","start":4928,"end":4931,"loc":{"start":{"line":178,"column":22},"end":{"line":178,"column":25}},"name":"now"},"computed":false},"arguments":[]},"operator":"+","right":{"type":"MemberExpression","start":4936,"end":4953,"loc":{"start":{"line":178,"column":30},"end":{"line":178,"column":47}},"object":{"type":"MemberExpression","start":4936,"end":4945,"loc":{"start":{"line":178,"column":30},"end":{"line":178,"column":39}},"object":{"type":"ThisExpression","start":4936,"end":4940,"loc":{"start":{"line":178,"column":30},"end":{"line":178,"column":34}}},"property":{"type":"Identifier","start":4941,"end":4945,"loc":{"start":{"line":178,"column":35},"end":{"line":178,"column":39}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4946,"end":4953,"loc":{"start":{"line":178,"column":40},"end":{"line":178,"column":47}},"name":"expires"},"computed":false}},"kind":"init"},{"type":"Property","start":4963,"end":4978,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":23}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4963,"end":4967,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":12}},"name":"data"},"value":{"type":"MemberExpression","start":4969,"end":4978,"loc":{"start":{"line":179,"column":14},"end":{"line":179,"column":23}},"object":{"type":"Identifier","start":4969,"end":4973,"loc":{"start":{"line":179,"column":14},"end":{"line":179,"column":18}},"name":"file"},"property":{"type":"Identifier","start":4974,"end":4978,"loc":{"start":{"line":179,"column":19},"end":{"line":179,"column":23}},"name":"data"},"computed":false},"kind":"init"}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":4994,"end":5024,"loc":{"start":{"line":181,"column":6},"end":{"line":181,"column":36}},"argument":{"type":"CallExpression","start":5001,"end":5024,"loc":{"start":{"line":181,"column":13},"end":{"line":181,"column":36}},"callee":{"type":"Identifier","start":5001,"end":5015,"loc":{"start":{"line":181,"column":13},"end":{"line":181,"column":27}},"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":5016,"end":5023,"loc":{"start":{"line":181,"column":28},"end":{"line":181,"column":35}},"name":"request"}]}}]}}]}}]}}},{"type":"MethodDefinition","start":5091,"end":5353,"loc":{"start":{"line":188,"column":2},"end":{"line":195,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":5091,"end":5097,"loc":{"start":{"line":188,"column":2},"end":{"line":188,"column":8}},"name":"delete"},"value":{"type":"FunctionExpression","start":5098,"end":5353,"loc":{"start":{"line":188,"column":9},"end":{"line":195,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5099,"end":5105,"loc":{"start":{"line":188,"column":10},"end":{"line":188,"column":16}},"name":"fileID"}],"body":{"type":"BlockStatement","start":5107,"end":5353,"loc":{"start":{"line":188,"column":18},"end":{"line":195,"column":3}},"body":[{"type":"ReturnStatement","start":5113,"end":5349,"loc":{"start":{"line":189,"column":4},"end":{"line":194,"column":6}},"argument":{"type":"CallExpression","start":5120,"end":5349,"loc":{"start":{"line":189,"column":11},"end":{"line":194,"column":6}},"callee":{"type":"MemberExpression","start":5120,"end":5135,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":26}},"object":{"type":"MemberExpression","start":5120,"end":5130,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":21}},"object":{"type":"ThisExpression","start":5120,"end":5124,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":15}}},"property":{"type":"Identifier","start":5125,"end":5130,"loc":{"start":{"line":189,"column":16},"end":{"line":189,"column":21}},"name":"ready"},"computed":false},"property":{"type":"Identifier","start":5131,"end":5135,"loc":{"start":{"line":189,"column":22},"end":{"line":189,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":5136,"end":5348,"loc":{"start":{"line":189,"column":27},"end":{"line":194,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5137,"end":5139,"loc":{"start":{"line":189,"column":28},"end":{"line":189,"column":30}},"name":"db"}],"body":{"type":"BlockStatement","start":5144,"end":5348,"loc":{"start":{"line":189,"column":35},"end":{"line":194,"column":5}},"body":[{"type":"VariableDeclaration","start":5152,"end":5213,"loc":{"start":{"line":190,"column":6},"end":{"line":190,"column":67}},"declarations":[{"type":"VariableDeclarator","start":5158,"end":5213,"loc":{"start":{"line":190,"column":12},"end":{"line":190,"column":67}},"id":{"type":"Identifier","start":5158,"end":5169,"loc":{"start":{"line":190,"column":12},"end":{"line":190,"column":23}},"name":"transaction"},"init":{"type":"CallExpression","start":5172,"end":5213,"loc":{"start":{"line":190,"column":26},"end":{"line":190,"column":67}},"callee":{"type":"MemberExpression","start":5172,"end":5186,"loc":{"start":{"line":190,"column":26},"end":{"line":190,"column":40}},"object":{"type":"Identifier","start":5172,"end":5174,"loc":{"start":{"line":190,"column":26},"end":{"line":190,"column":28}},"name":"db"},"property":{"type":"Identifier","start":5175,"end":5186,"loc":{"start":{"line":190,"column":29},"end":{"line":190,"column":40}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":5187,"end":5199,"loc":{"start":{"line":190,"column":41},"end":{"line":190,"column":53}},"elements":[{"type":"Identifier","start":5188,"end":5198,"loc":{"start":{"line":190,"column":42},"end":{"line":190,"column":52}},"name":"STORE_NAME"}]},{"type":"Literal","start":5201,"end":5212,"loc":{"start":{"line":190,"column":55},"end":{"line":190,"column":66}},"value":"readwrite","raw":"'readwrite'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5220,"end":5305,"loc":{"start":{"line":191,"column":6},"end":{"line":192,"column":33}},"declarations":[{"type":"VariableDeclarator","start":5226,"end":5305,"loc":{"start":{"line":191,"column":12},"end":{"line":192,"column":33}},"id":{"type":"Identifier","start":5226,"end":5233,"loc":{"start":{"line":191,"column":12},"end":{"line":191,"column":19}},"name":"request"},"init":{"type":"CallExpression","start":5236,"end":5305,"loc":{"start":{"line":191,"column":22},"end":{"line":192,"column":33}},"callee":{"type":"MemberExpression","start":5236,"end":5287,"loc":{"start":{"line":191,"column":22},"end":{"line":192,"column":15}},"object":{"type":"CallExpression","start":5236,"end":5271,"loc":{"start":{"line":191,"column":22},"end":{"line":191,"column":57}},"callee":{"type":"MemberExpression","start":5236,"end":5259,"loc":{"start":{"line":191,"column":22},"end":{"line":191,"column":45}},"object":{"type":"Identifier","start":5236,"end":5247,"loc":{"start":{"line":191,"column":22},"end":{"line":191,"column":33}},"name":"transaction"},"property":{"type":"Identifier","start":5248,"end":5259,"loc":{"start":{"line":191,"column":34},"end":{"line":191,"column":45}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":5260,"end":5270,"loc":{"start":{"line":191,"column":46},"end":{"line":191,"column":56}},"name":"STORE_NAME"}]},"property":{"type":"Identifier","start":5281,"end":5287,"loc":{"start":{"line":192,"column":9},"end":{"line":192,"column":15}},"name":"delete"},"computed":false},"arguments":[{"type":"CallExpression","start":5288,"end":5304,"loc":{"start":{"line":192,"column":16},"end":{"line":192,"column":32}},"callee":{"type":"MemberExpression","start":5288,"end":5296,"loc":{"start":{"line":192,"column":16},"end":{"line":192,"column":24}},"object":{"type":"ThisExpression","start":5288,"end":5292,"loc":{"start":{"line":192,"column":16},"end":{"line":192,"column":20}}},"property":{"type":"Identifier","start":5293,"end":5296,"loc":{"start":{"line":192,"column":21},"end":{"line":192,"column":24}},"name":"key"},"computed":false},"arguments":[{"type":"Identifier","start":5297,"end":5303,"loc":{"start":{"line":192,"column":25},"end":{"line":192,"column":31}},"name":"fileID"}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":5312,"end":5342,"loc":{"start":{"line":193,"column":6},"end":{"line":193,"column":36}},"argument":{"type":"CallExpression","start":5319,"end":5342,"loc":{"start":{"line":193,"column":13},"end":{"line":193,"column":36}},"callee":{"type":"Identifier","start":5319,"end":5333,"loc":{"start":{"line":193,"column":13},"end":{"line":193,"column":27}},"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":5334,"end":5341,"loc":{"start":{"line":193,"column":28},"end":{"line":193,"column":35}},"name":"request"}]}}]}}]}}]}}},{"type":"MethodDefinition","start":5539,"end":6502,"loc":{"start":{"line":201,"column":2},"end":{"line":227,"column":3}},"kind":"method","static":true,"computed":false,"key":{"type":"Identifier","start":5546,"end":5553,"loc":{"start":{"line":201,"column":9},"end":{"line":201,"column":16}},"name":"cleanup"},"value":{"type":"FunctionExpression","start":5554,"end":6502,"loc":{"start":{"line":201,"column":17},"end":{"line":227,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":5557,"end":6502,"loc":{"start":{"line":201,"column":20},"end":{"line":227,"column":3}},"body":[{"type":"ReturnStatement","start":5563,"end":6498,"loc":{"start":{"line":202,"column":4},"end":{"line":226,"column":6}},"argument":{"type":"CallExpression","start":5570,"end":6498,"loc":{"start":{"line":202,"column":11},"end":{"line":226,"column":6}},"callee":{"type":"MemberExpression","start":5570,"end":6464,"loc":{"start":{"line":202,"column":11},"end":{"line":224,"column":11}},"object":{"type":"CallExpression","start":5570,"end":6459,"loc":{"start":{"line":202,"column":11},"end":{"line":224,"column":6}},"callee":{"type":"MemberExpression","start":5570,"end":5591,"loc":{"start":{"line":202,"column":11},"end":{"line":202,"column":32}},"object":{"type":"CallExpression","start":5570,"end":5586,"loc":{"start":{"line":202,"column":11},"end":{"line":202,"column":27}},"callee":{"type":"Identifier","start":5570,"end":5577,"loc":{"start":{"line":202,"column":11},"end":{"line":202,"column":18}},"name":"connect"},"arguments":[{"type":"Identifier","start":5578,"end":5585,"loc":{"start":{"line":202,"column":19},"end":{"line":202,"column":26}},"name":"DB_NAME"}]},"property":{"type":"Identifier","start":5587,"end":5591,"loc":{"start":{"line":202,"column":28},"end":{"line":202,"column":32}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":5592,"end":6458,"loc":{"start":{"line":202,"column":33},"end":{"line":224,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5593,"end":5595,"loc":{"start":{"line":202,"column":34},"end":{"line":202,"column":36}},"name":"db"}],"body":{"type":"BlockStatement","start":5600,"end":6458,"loc":{"start":{"line":202,"column":41},"end":{"line":224,"column":5}},"body":[{"type":"VariableDeclaration","start":5608,"end":5669,"loc":{"start":{"line":203,"column":6},"end":{"line":203,"column":67}},"declarations":[{"type":"VariableDeclarator","start":5614,"end":5669,"loc":{"start":{"line":203,"column":12},"end":{"line":203,"column":67}},"id":{"type":"Identifier","start":5614,"end":5625,"loc":{"start":{"line":203,"column":12},"end":{"line":203,"column":23}},"name":"transaction"},"init":{"type":"CallExpression","start":5628,"end":5669,"loc":{"start":{"line":203,"column":26},"end":{"line":203,"column":67}},"callee":{"type":"MemberExpression","start":5628,"end":5642,"loc":{"start":{"line":203,"column":26},"end":{"line":203,"column":40}},"object":{"type":"Identifier","start":5628,"end":5630,"loc":{"start":{"line":203,"column":26},"end":{"line":203,"column":28}},"name":"db"},"property":{"type":"Identifier","start":5631,"end":5642,"loc":{"start":{"line":203,"column":29},"end":{"line":203,"column":40}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":5643,"end":5655,"loc":{"start":{"line":203,"column":41},"end":{"line":203,"column":53}},"elements":[{"type":"Identifier","start":5644,"end":5654,"loc":{"start":{"line":203,"column":42},"end":{"line":203,"column":52}},"name":"STORE_NAME"}]},{"type":"Literal","start":5657,"end":5668,"loc":{"start":{"line":203,"column":55},"end":{"line":203,"column":66}},"value":"readwrite","raw":"'readwrite'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5676,"end":5725,"loc":{"start":{"line":204,"column":6},"end":{"line":204,"column":55}},"declarations":[{"type":"VariableDeclarator","start":5682,"end":5725,"loc":{"start":{"line":204,"column":12},"end":{"line":204,"column":55}},"id":{"type":"Identifier","start":5682,"end":5687,"loc":{"start":{"line":204,"column":12},"end":{"line":204,"column":17}},"name":"store"},"init":{"type":"CallExpression","start":5690,"end":5725,"loc":{"start":{"line":204,"column":20},"end":{"line":204,"column":55}},"callee":{"type":"MemberExpression","start":5690,"end":5713,"loc":{"start":{"line":204,"column":20},"end":{"line":204,"column":43}},"object":{"type":"Identifier","start":5690,"end":5701,"loc":{"start":{"line":204,"column":20},"end":{"line":204,"column":31}},"name":"transaction"},"property":{"type":"Identifier","start":5702,"end":5713,"loc":{"start":{"line":204,"column":32},"end":{"line":204,"column":43}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":5714,"end":5724,"loc":{"start":{"line":204,"column":44},"end":{"line":204,"column":54}},"name":"STORE_NAME"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5732,"end":5826,"loc":{"start":{"line":205,"column":6},"end":{"line":206,"column":55}},"declarations":[{"type":"VariableDeclarator","start":5738,"end":5826,"loc":{"start":{"line":205,"column":12},"end":{"line":206,"column":55}},"id":{"type":"Identifier","start":5738,"end":5745,"loc":{"start":{"line":205,"column":12},"end":{"line":205,"column":19}},"name":"request"},"init":{"type":"CallExpression","start":5748,"end":5826,"loc":{"start":{"line":205,"column":22},"end":{"line":206,"column":55}},"callee":{"type":"MemberExpression","start":5748,"end":5790,"loc":{"start":{"line":205,"column":22},"end":{"line":206,"column":19}},"object":{"type":"CallExpression","start":5748,"end":5770,"loc":{"start":{"line":205,"column":22},"end":{"line":205,"column":44}},"callee":{"type":"MemberExpression","start":5748,"end":5759,"loc":{"start":{"line":205,"column":22},"end":{"line":205,"column":33}},"object":{"type":"Identifier","start":5748,"end":5753,"loc":{"start":{"line":205,"column":22},"end":{"line":205,"column":27}},"name":"store"},"property":{"type":"Identifier","start":5754,"end":5759,"loc":{"start":{"line":205,"column":28},"end":{"line":205,"column":33}},"name":"index"},"computed":false},"arguments":[{"type":"Literal","start":5760,"end":5769,"loc":{"start":{"line":205,"column":34},"end":{"line":205,"column":43}},"value":"expires","raw":"'expires'"}]},"property":{"type":"Identifier","start":5780,"end":5790,"loc":{"start":{"line":206,"column":9},"end":{"line":206,"column":19}},"name":"openCursor"},"computed":false},"arguments":[{"type":"CallExpression","start":5791,"end":5825,"loc":{"start":{"line":206,"column":20},"end":{"line":206,"column":54}},"callee":{"type":"MemberExpression","start":5791,"end":5813,"loc":{"start":{"line":206,"column":20},"end":{"line":206,"column":42}},"object":{"type":"Identifier","start":5791,"end":5802,"loc":{"start":{"line":206,"column":20},"end":{"line":206,"column":31}},"name":"IDBKeyRange"},"property":{"type":"Identifier","start":5803,"end":5813,"loc":{"start":{"line":206,"column":32},"end":{"line":206,"column":42}},"name":"upperBound"},"computed":false},"arguments":[{"type":"CallExpression","start":5814,"end":5824,"loc":{"start":{"line":206,"column":43},"end":{"line":206,"column":53}},"callee":{"type":"MemberExpression","start":5814,"end":5822,"loc":{"start":{"line":206,"column":43},"end":{"line":206,"column":51}},"object":{"type":"Identifier","start":5814,"end":5818,"loc":{"start":{"line":206,"column":43},"end":{"line":206,"column":47}},"name":"Date"},"property":{"type":"Identifier","start":5819,"end":5822,"loc":{"start":{"line":206,"column":48},"end":{"line":206,"column":51}},"name":"now"},"computed":false},"arguments":[]}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":5833,"end":6452,"loc":{"start":{"line":207,"column":6},"end":{"line":223,"column":8}},"argument":{"type":"NewExpression","start":5840,"end":6452,"loc":{"start":{"line":207,"column":13},"end":{"line":223,"column":8}},"callee":{"type":"Identifier","start":5844,"end":5851,"loc":{"start":{"line":207,"column":17},"end":{"line":207,"column":24}},"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":5852,"end":6451,"loc":{"start":{"line":207,"column":25},"end":{"line":223,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5853,"end":5860,"loc":{"start":{"line":207,"column":26},"end":{"line":207,"column":33}},"name":"resolve"},{"type":"Identifier","start":5862,"end":5868,"loc":{"start":{"line":207,"column":35},"end":{"line":207,"column":41}},"name":"reject"}],"body":{"type":"BlockStatement","start":5873,"end":6451,"loc":{"start":{"line":207,"column":46},"end":{"line":223,"column":7}},"body":[{"type":"ExpressionStatement","start":5883,"end":6410,"loc":{"start":{"line":208,"column":8},"end":{"line":221,"column":9}},"expression":{"type":"AssignmentExpression","start":5883,"end":6410,"loc":{"start":{"line":208,"column":8},"end":{"line":221,"column":9}},"operator":"=","left":{"type":"MemberExpression","start":5883,"end":5900,"loc":{"start":{"line":208,"column":8},"end":{"line":208,"column":25}},"object":{"type":"Identifier","start":5883,"end":5890,"loc":{"start":{"line":208,"column":8},"end":{"line":208,"column":15}},"name":"request"},"property":{"type":"Identifier","start":5891,"end":5900,"loc":{"start":{"line":208,"column":16},"end":{"line":208,"column":25}},"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":5903,"end":6410,"loc":{"start":{"line":208,"column":28},"end":{"line":221,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5904,"end":5909,"loc":{"start":{"line":208,"column":29},"end":{"line":208,"column":34}},"name":"event"}],"body":{"type":"BlockStatement","start":5914,"end":6410,"loc":{"start":{"line":208,"column":39},"end":{"line":221,"column":9}},"body":[{"type":"VariableDeclaration","start":5926,"end":5960,"loc":{"start":{"line":209,"column":10},"end":{"line":209,"column":44}},"declarations":[{"type":"VariableDeclarator","start":5932,"end":5960,"loc":{"start":{"line":209,"column":16},"end":{"line":209,"column":44}},"id":{"type":"Identifier","start":5932,"end":5938,"loc":{"start":{"line":209,"column":16},"end":{"line":209,"column":22}},"name":"cursor"},"init":{"type":"MemberExpression","start":5941,"end":5960,"loc":{"start":{"line":209,"column":25},"end":{"line":209,"column":44}},"object":{"type":"MemberExpression","start":5941,"end":5953,"loc":{"start":{"line":209,"column":25},"end":{"line":209,"column":37}},"object":{"type":"Identifier","start":5941,"end":5946,"loc":{"start":{"line":209,"column":25},"end":{"line":209,"column":30}},"name":"event"},"property":{"type":"Identifier","start":5947,"end":5953,"loc":{"start":{"line":209,"column":31},"end":{"line":209,"column":37}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":5954,"end":5960,"loc":{"start":{"line":209,"column":38},"end":{"line":209,"column":44}},"name":"result"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":5971,"end":6400,"loc":{"start":{"line":210,"column":10},"end":{"line":220,"column":11}},"test":{"type":"Identifier","start":5975,"end":5981,"loc":{"start":{"line":210,"column":14},"end":{"line":210,"column":20}},"name":"cursor"},"consequent":{"type":"BlockStatement","start":5983,"end":6357,"loc":{"start":{"line":210,"column":22},"end":{"line":218,"column":11}},"body":[{"type":"VariableDeclaration","start":5997,"end":6023,"loc":{"start":{"line":211,"column":12},"end":{"line":211,"column":38}},"declarations":[{"type":"VariableDeclarator","start":6003,"end":6023,"loc":{"start":{"line":211,"column":18},"end":{"line":211,"column":38}},"id":{"type":"Identifier","start":6003,"end":6008,"loc":{"start":{"line":211,"column":18},"end":{"line":211,"column":23}},"name":"entry"},"init":{"type":"MemberExpression","start":6011,"end":6023,"loc":{"start":{"line":211,"column":26},"end":{"line":211,"column":38}},"object":{"type":"Identifier","start":6011,"end":6017,"loc":{"start":{"line":211,"column":26},"end":{"line":211,"column":32}},"name":"cursor"},"property":{"type":"Identifier","start":6018,"end":6023,"loc":{"start":{"line":211,"column":33},"end":{"line":211,"column":38}},"name":"value"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":6036,"end":6222,"loc":{"start":{"line":212,"column":12},"end":{"line":215,"column":54}},"expression":{"type":"CallExpression","start":6036,"end":6222,"loc":{"start":{"line":212,"column":12},"end":{"line":215,"column":54}},"callee":{"type":"MemberExpression","start":6036,"end":6047,"loc":{"start":{"line":212,"column":12},"end":{"line":212,"column":23}},"object":{"type":"Identifier","start":6036,"end":6043,"loc":{"start":{"line":212,"column":12},"end":{"line":212,"column":19}},"name":"console"},"property":{"type":"Identifier","start":6044,"end":6047,"loc":{"start":{"line":212,"column":20},"end":{"line":212,"column":23}},"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":6063,"end":6097,"loc":{"start":{"line":213,"column":14},"end":{"line":213,"column":48}},"value":"[IndexedDBStore] Deleting record","raw":"'[IndexedDBStore] Deleting record'"},{"type":"MemberExpression","start":6099,"end":6111,"loc":{"start":{"line":213,"column":50},"end":{"line":213,"column":62}},"object":{"type":"Identifier","start":6099,"end":6104,"loc":{"start":{"line":213,"column":50},"end":{"line":213,"column":55}},"name":"entry"},"property":{"type":"Identifier","start":6105,"end":6111,"loc":{"start":{"line":213,"column":56},"end":{"line":213,"column":62}},"name":"fileID"},"computed":false},{"type":"Literal","start":6127,"end":6136,"loc":{"start":{"line":214,"column":14},"end":{"line":214,"column":23}},"value":"of size","raw":"'of size'"},{"type":"CallExpression","start":6138,"end":6166,"loc":{"start":{"line":214,"column":25},"end":{"line":214,"column":53}},"callee":{"type":"Identifier","start":6138,"end":6149,"loc":{"start":{"line":214,"column":25},"end":{"line":214,"column":36}},"name":"prettyBytes"},"arguments":[{"type":"MemberExpression","start":6150,"end":6165,"loc":{"start":{"line":214,"column":37},"end":{"line":214,"column":52}},"object":{"type":"MemberExpression","start":6150,"end":6160,"loc":{"start":{"line":214,"column":37},"end":{"line":214,"column":47}},"object":{"type":"Identifier","start":6150,"end":6155,"loc":{"start":{"line":214,"column":37},"end":{"line":214,"column":42}},"name":"entry"},"property":{"type":"Identifier","start":6156,"end":6160,"loc":{"start":{"line":214,"column":43},"end":{"line":214,"column":47}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":6161,"end":6165,"loc":{"start":{"line":214,"column":48},"end":{"line":214,"column":52}},"name":"size"},"computed":false}]},{"type":"Literal","start":6182,"end":6196,"loc":{"start":{"line":215,"column":14},"end":{"line":215,"column":28}},"value":"- expired on","raw":"'- expired on'"},{"type":"NewExpression","start":6198,"end":6221,"loc":{"start":{"line":215,"column":30},"end":{"line":215,"column":53}},"callee":{"type":"Identifier","start":6202,"end":6206,"loc":{"start":{"line":215,"column":34},"end":{"line":215,"column":38}},"name":"Date"},"arguments":[{"type":"MemberExpression","start":6207,"end":6220,"loc":{"start":{"line":215,"column":39},"end":{"line":215,"column":52}},"object":{"type":"Identifier","start":6207,"end":6212,"loc":{"start":{"line":215,"column":39},"end":{"line":215,"column":44}},"name":"entry"},"property":{"type":"Identifier","start":6213,"end":6220,"loc":{"start":{"line":215,"column":45},"end":{"line":215,"column":52}},"name":"expires"},"computed":false}]}]}},{"type":"ExpressionStatement","start":6235,"end":6250,"loc":{"start":{"line":216,"column":12},"end":{"line":216,"column":27}},"expression":{"type":"CallExpression","start":6235,"end":6250,"loc":{"start":{"line":216,"column":12},"end":{"line":216,"column":27}},"callee":{"type":"MemberExpression","start":6235,"end":6248,"loc":{"start":{"line":216,"column":12},"end":{"line":216,"column":25}},"object":{"type":"Identifier","start":6235,"end":6241,"loc":{"start":{"line":216,"column":12},"end":{"line":216,"column":18}},"name":"cursor"},"property":{"type":"Identifier","start":6242,"end":6248,"loc":{"start":{"line":216,"column":19},"end":{"line":216,"column":25}},"name":"delete"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":6328,"end":6345,"loc":{"start":{"line":217,"column":12},"end":{"line":217,"column":29}},"expression":{"type":"CallExpression","start":6328,"end":6345,"loc":{"start":{"line":217,"column":12},"end":{"line":217,"column":29}},"callee":{"type":"MemberExpression","start":6328,"end":6343,"loc":{"start":{"line":217,"column":12},"end":{"line":217,"column":27}},"object":{"type":"Identifier","start":6328,"end":6334,"loc":{"start":{"line":217,"column":12},"end":{"line":217,"column":18}},"name":"cursor"},"property":{"type":"Identifier","start":6335,"end":6343,"loc":{"start":{"line":217,"column":19},"end":{"line":217,"column":27}},"name":"continue"},"computed":false},"arguments":[]}}]},"alternate":{"type":"BlockStatement","start":6363,"end":6400,"loc":{"start":{"line":218,"column":17},"end":{"line":220,"column":11}},"body":[{"type":"ExpressionStatement","start":6377,"end":6388,"loc":{"start":{"line":219,"column":12},"end":{"line":219,"column":23}},"expression":{"type":"CallExpression","start":6377,"end":6388,"loc":{"start":{"line":219,"column":12},"end":{"line":219,"column":23}},"callee":{"type":"Identifier","start":6377,"end":6384,"loc":{"start":{"line":219,"column":12},"end":{"line":219,"column":19}},"name":"resolve"},"arguments":[{"type":"Identifier","start":6385,"end":6387,"loc":{"start":{"line":219,"column":20},"end":{"line":219,"column":22}},"name":"db"}]}}]}}]}}}},{"type":"ExpressionStatement","start":6419,"end":6443,"loc":{"start":{"line":222,"column":8},"end":{"line":222,"column":32}},"expression":{"type":"AssignmentExpression","start":6419,"end":6443,"loc":{"start":{"line":222,"column":8},"end":{"line":222,"column":32}},"operator":"=","left":{"type":"MemberExpression","start":6419,"end":6434,"loc":{"start":{"line":222,"column":8},"end":{"line":222,"column":23}},"object":{"type":"Identifier","start":6419,"end":6426,"loc":{"start":{"line":222,"column":8},"end":{"line":222,"column":15}},"name":"request"},"property":{"type":"Identifier","start":6427,"end":6434,"loc":{"start":{"line":222,"column":16},"end":{"line":222,"column":23}},"name":"onerror"},"computed":false},"right":{"type":"Identifier","start":6437,"end":6443,"loc":{"start":{"line":222,"column":26},"end":{"line":222,"column":32}},"name":"reject"}}}]}}]}}]}}]},"property":{"type":"Identifier","start":6460,"end":6464,"loc":{"start":{"line":224,"column":7},"end":{"line":224,"column":11}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":6465,"end":6497,"loc":{"start":{"line":224,"column":12},"end":{"line":226,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6466,"end":6468,"loc":{"start":{"line":224,"column":13},"end":{"line":224,"column":15}},"name":"db"}],"body":{"type":"BlockStatement","start":6473,"end":6497,"loc":{"start":{"line":224,"column":20},"end":{"line":226,"column":5}},"body":[{"type":"ExpressionStatement","start":6481,"end":6491,"loc":{"start":{"line":225,"column":6},"end":{"line":225,"column":16}},"expression":{"type":"CallExpression","start":6481,"end":6491,"loc":{"start":{"line":225,"column":6},"end":{"line":225,"column":16}},"callee":{"type":"MemberExpression","start":6481,"end":6489,"loc":{"start":{"line":225,"column":6},"end":{"line":225,"column":14}},"object":{"type":"Identifier","start":6481,"end":6483,"loc":{"start":{"line":225,"column":6},"end":{"line":225,"column":8}},"name":"db"},"property":{"type":"Identifier","start":6484,"end":6489,"loc":{"start":{"line":225,"column":9},"end":{"line":225,"column":14}},"name":"close"},"computed":false},"arguments":[]}}]}}]}}]}}}]}},{"type":"ExpressionStatement","start":6506,"end":6546,"loc":{"start":{"line":230,"column":0},"end":{"line":230,"column":40}},"expression":{"type":"AssignmentExpression","start":6506,"end":6546,"loc":{"start":{"line":230,"column":0},"end":{"line":230,"column":40}},"operator":"=","left":{"type":"MemberExpression","start":6506,"end":6532,"loc":{"start":{"line":230,"column":0},"end":{"line":230,"column":26}},"object":{"type":"Identifier","start":6506,"end":6520,"loc":{"start":{"line":230,"column":0},"end":{"line":230,"column":14}},"name":"IndexedDBStore"},"property":{"type":"Identifier","start":6521,"end":6532,"loc":{"start":{"line":230,"column":15},"end":{"line":230,"column":26}},"name":"isSupported"},"computed":false},"right":{"type":"Identifier","start":6535,"end":6546,"loc":{"start":{"line":230,"column":29},"end":{"line":230,"column":40}},"name":"isSupported"}}},{"type":"ExpressionStatement","start":6548,"end":6579,"loc":{"start":{"line":232,"column":0},"end":{"line":232,"column":31}},"expression":{"type":"AssignmentExpression","start":6548,"end":6579,"loc":{"start":{"line":232,"column":0},"end":{"line":232,"column":31}},"operator":"=","left":{"type":"MemberExpression","start":6548,"end":6562,"loc":{"start":{"line":232,"column":0},"end":{"line":232,"column":14}},"object":{"type":"Identifier","start":6548,"end":6554,"loc":{"start":{"line":232,"column":0},"end":{"line":232,"column":6}},"name":"module"},"property":{"type":"Identifier","start":6555,"end":6562,"loc":{"start":{"line":232,"column":7},"end":{"line":232,"column":14}},"name":"exports"},"computed":false},"right":{"type":"Identifier","start":6565,"end":6579,"loc":{"start":{"line":232,"column":17},"end":{"line":232,"column":31}},"name":"IndexedDBStore"}}}],"sourceType":"module"}