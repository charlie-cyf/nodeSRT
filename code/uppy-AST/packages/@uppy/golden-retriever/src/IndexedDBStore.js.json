{"type":"Program","start":0,"end":6584,"loc":{"start":{"line":1,"column":0},"end":{"line":233,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":60,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":60}},"declarations":[{"type":"VariableDeclarator","start":6,"end":60,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":60}},"id":{"type":"Identifier","start":6,"end":19,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":19}},"name":"prettierBytes"},"init":{"type":"CallExpression","start":22,"end":60,"loc":{"start":{"line":1,"column":22},"end":{"line":1,"column":60}},"callee":{"type":"Identifier","start":22,"end":29,"loc":{"start":{"line":1,"column":22},"end":{"line":1,"column":29}},"name":"require"},"arguments":[{"type":"Literal","start":30,"end":59,"loc":{"start":{"line":1,"column":30},"end":{"line":1,"column":59}},"value":"@transloadit/prettier-bytes","raw":"'@transloadit/prettier-bytes'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":61,"end":224,"loc":{"start":{"line":2,"column":0},"end":{"line":3,"column":112}},"declarations":[{"type":"VariableDeclarator","start":67,"end":224,"loc":{"start":{"line":2,"column":6},"end":{"line":3,"column":112}},"id":{"type":"Identifier","start":67,"end":76,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":15}},"name":"indexedDB"},"init":{"type":"LogicalExpression","start":79,"end":224,"loc":{"start":{"line":2,"column":18},"end":{"line":3,"column":112}},"left":{"type":"BinaryExpression","start":79,"end":108,"loc":{"start":{"line":2,"column":18},"end":{"line":2,"column":47}},"left":{"type":"UnaryExpression","start":79,"end":92,"loc":{"start":{"line":2,"column":18},"end":{"line":2,"column":31}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":86,"end":92,"loc":{"start":{"line":2,"column":25},"end":{"line":2,"column":31}},"name":"window"}},"operator":"!==","right":{"type":"Literal","start":97,"end":108,"loc":{"start":{"line":2,"column":36},"end":{"line":2,"column":47}},"value":"undefined","raw":"'undefined'"}},"operator":"&&","right":{"type":"LogicalExpression","start":115,"end":223,"loc":{"start":{"line":3,"column":3},"end":{"line":3,"column":111}},"left":{"type":"LogicalExpression","start":115,"end":201,"loc":{"start":{"line":3,"column":3},"end":{"line":3,"column":89}},"left":{"type":"LogicalExpression","start":115,"end":180,"loc":{"start":{"line":3,"column":3},"end":{"line":3,"column":68}},"left":{"type":"LogicalExpression","start":115,"end":157,"loc":{"start":{"line":3,"column":3},"end":{"line":3,"column":45}},"left":{"type":"MemberExpression","start":115,"end":131,"loc":{"start":{"line":3,"column":3},"end":{"line":3,"column":19}},"object":{"type":"Identifier","start":115,"end":121,"loc":{"start":{"line":3,"column":3},"end":{"line":3,"column":9}},"name":"window"},"property":{"type":"Identifier","start":122,"end":131,"loc":{"start":{"line":3,"column":10},"end":{"line":3,"column":19}},"name":"indexedDB"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":135,"end":157,"loc":{"start":{"line":3,"column":23},"end":{"line":3,"column":45}},"object":{"type":"Identifier","start":135,"end":141,"loc":{"start":{"line":3,"column":23},"end":{"line":3,"column":29}},"name":"window"},"property":{"type":"Identifier","start":142,"end":157,"loc":{"start":{"line":3,"column":30},"end":{"line":3,"column":45}},"name":"webkitIndexedDB"},"computed":false}},"operator":"||","right":{"type":"MemberExpression","start":161,"end":180,"loc":{"start":{"line":3,"column":49},"end":{"line":3,"column":68}},"object":{"type":"Identifier","start":161,"end":167,"loc":{"start":{"line":3,"column":49},"end":{"line":3,"column":55}},"name":"window"},"property":{"type":"Identifier","start":168,"end":180,"loc":{"start":{"line":3,"column":56},"end":{"line":3,"column":68}},"name":"mozIndexedDB"},"computed":false}},"operator":"||","right":{"type":"MemberExpression","start":184,"end":201,"loc":{"start":{"line":3,"column":72},"end":{"line":3,"column":89}},"object":{"type":"Identifier","start":184,"end":190,"loc":{"start":{"line":3,"column":72},"end":{"line":3,"column":78}},"name":"window"},"property":{"type":"Identifier","start":191,"end":201,"loc":{"start":{"line":3,"column":79},"end":{"line":3,"column":89}},"name":"OIndexedDB"},"computed":false}},"operator":"||","right":{"type":"MemberExpression","start":205,"end":223,"loc":{"start":{"line":3,"column":93},"end":{"line":3,"column":111}},"object":{"type":"Identifier","start":205,"end":211,"loc":{"start":{"line":3,"column":93},"end":{"line":3,"column":99}},"name":"window"},"property":{"type":"Identifier","start":212,"end":223,"loc":{"start":{"line":3,"column":100},"end":{"line":3,"column":111}},"name":"msIndexedDB"},"computed":false}}}}],"kind":"const"},{"type":"VariableDeclaration","start":226,"end":257,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"declarations":[{"type":"VariableDeclarator","start":232,"end":257,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":31}},"id":{"type":"Identifier","start":232,"end":243,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":17}},"name":"isSupported"},"init":{"type":"UnaryExpression","start":246,"end":257,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":31}},"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":247,"end":257,"loc":{"start":{"line":5,"column":21},"end":{"line":5,"column":31}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":248,"end":257,"loc":{"start":{"line":5,"column":22},"end":{"line":5,"column":31}},"name":"indexedDB"}}}}],"kind":"const"},{"type":"VariableDeclaration","start":259,"end":287,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"declarations":[{"type":"VariableDeclarator","start":265,"end":287,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":28}},"id":{"type":"Identifier","start":265,"end":272,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":13}},"name":"DB_NAME"},"init":{"type":"Literal","start":275,"end":287,"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":28}},"value":"uppy-blobs","raw":"'uppy-blobs'"}}],"kind":"const"},{"type":"VariableDeclaration","start":288,"end":314,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":26}},"declarations":[{"type":"VariableDeclarator","start":294,"end":314,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":26}},"id":{"type":"Identifier","start":294,"end":304,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":16}},"name":"STORE_NAME"},"init":{"type":"Literal","start":307,"end":314,"loc":{"start":{"line":8,"column":19},"end":{"line":8,"column":26}},"value":"files","raw":"'files'"}}],"kind":"const"},{"type":"VariableDeclaration","start":361,"end":403,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":42}},"declarations":[{"type":"VariableDeclarator","start":367,"end":403,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":42}},"id":{"type":"Identifier","start":367,"end":381,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":20}},"name":"DEFAULT_EXPIRY"},"init":{"type":"BinaryExpression","start":384,"end":403,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":42}},"left":{"type":"BinaryExpression","start":384,"end":396,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":35}},"left":{"type":"BinaryExpression","start":384,"end":391,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":30}},"left":{"type":"Literal","start":384,"end":386,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":25}},"value":24,"raw":"24"},"operator":"*","right":{"type":"Literal","start":389,"end":391,"loc":{"start":{"line":9,"column":28},"end":{"line":9,"column":30}},"value":60,"raw":"60"}},"operator":"*","right":{"type":"Literal","start":394,"end":396,"loc":{"start":{"line":9,"column":33},"end":{"line":9,"column":35}},"value":60,"raw":"60"}},"operator":"*","right":{"type":"Literal","start":399,"end":403,"loc":{"start":{"line":9,"column":38},"end":{"line":9,"column":42}},"value":1000,"raw":"1000"}}}],"kind":"const"},{"type":"VariableDeclaration","start":416,"end":436,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":20}},"declarations":[{"type":"VariableDeclarator","start":422,"end":436,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":20}},"id":{"type":"Identifier","start":422,"end":432,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":16}},"name":"DB_VERSION"},"init":{"type":"Literal","start":435,"end":436,"loc":{"start":{"line":10,"column":19},"end":{"line":10,"column":20}},"value":3,"raw":"3"}}],"kind":"const"},{"type":"FunctionDeclaration","start":495,"end":790,"loc":{"start":{"line":13,"column":0},"end":{"line":24,"column":1}},"id":{"type":"Identifier","start":504,"end":521,"loc":{"start":{"line":13,"column":9},"end":{"line":13,"column":26}},"name":"migrateExpiration"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":523,"end":528,"loc":{"start":{"line":13,"column":28},"end":{"line":13,"column":33}},"name":"store"}],"body":{"type":"BlockStatement","start":530,"end":790,"loc":{"start":{"line":13,"column":35},"end":{"line":24,"column":1}},"body":[{"type":"VariableDeclaration","start":534,"end":568,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":36}},"declarations":[{"type":"VariableDeclarator","start":540,"end":568,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":36}},"id":{"type":"Identifier","start":540,"end":547,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":15}},"name":"request"},"init":{"type":"CallExpression","start":550,"end":568,"loc":{"start":{"line":14,"column":18},"end":{"line":14,"column":36}},"callee":{"type":"MemberExpression","start":550,"end":566,"loc":{"start":{"line":14,"column":18},"end":{"line":14,"column":34}},"object":{"type":"Identifier","start":550,"end":555,"loc":{"start":{"line":14,"column":18},"end":{"line":14,"column":23}},"name":"store"},"property":{"type":"Identifier","start":556,"end":566,"loc":{"start":{"line":14,"column":24},"end":{"line":14,"column":34}},"name":"openCursor"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":571,"end":788,"loc":{"start":{"line":15,"column":2},"end":{"line":23,"column":3}},"expression":{"type":"AssignmentExpression","start":571,"end":788,"loc":{"start":{"line":15,"column":2},"end":{"line":23,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":571,"end":588,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":19}},"object":{"type":"Identifier","start":571,"end":578,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":9}},"name":"request"},"property":{"type":"Identifier","start":579,"end":588,"loc":{"start":{"line":15,"column":10},"end":{"line":15,"column":19}},"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":591,"end":788,"loc":{"start":{"line":15,"column":22},"end":{"line":23,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":592,"end":597,"loc":{"start":{"line":15,"column":23},"end":{"line":15,"column":28}},"name":"event"}],"body":{"type":"BlockStatement","start":602,"end":788,"loc":{"start":{"line":15,"column":33},"end":{"line":23,"column":3}},"body":[{"type":"VariableDeclaration","start":608,"end":642,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":38}},"declarations":[{"type":"VariableDeclarator","start":614,"end":642,"loc":{"start":{"line":16,"column":10},"end":{"line":16,"column":38}},"id":{"type":"Identifier","start":614,"end":620,"loc":{"start":{"line":16,"column":10},"end":{"line":16,"column":16}},"name":"cursor"},"init":{"type":"MemberExpression","start":623,"end":642,"loc":{"start":{"line":16,"column":19},"end":{"line":16,"column":38}},"object":{"type":"MemberExpression","start":623,"end":635,"loc":{"start":{"line":16,"column":19},"end":{"line":16,"column":31}},"object":{"type":"Identifier","start":623,"end":628,"loc":{"start":{"line":16,"column":19},"end":{"line":16,"column":24}},"name":"event"},"property":{"type":"Identifier","start":629,"end":635,"loc":{"start":{"line":16,"column":25},"end":{"line":16,"column":31}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":636,"end":642,"loc":{"start":{"line":16,"column":32},"end":{"line":16,"column":38}},"name":"result"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":647,"end":680,"loc":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"test":{"type":"UnaryExpression","start":651,"end":658,"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":15}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":652,"end":658,"loc":{"start":{"line":17,"column":9},"end":{"line":17,"column":15}},"name":"cursor"}},"consequent":{"type":"BlockStatement","start":660,"end":680,"loc":{"start":{"line":17,"column":17},"end":{"line":19,"column":5}},"body":[{"type":"ReturnStatement","start":668,"end":674,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":12}},"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":685,"end":711,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":30}},"declarations":[{"type":"VariableDeclarator","start":691,"end":711,"loc":{"start":{"line":20,"column":10},"end":{"line":20,"column":30}},"id":{"type":"Identifier","start":691,"end":696,"loc":{"start":{"line":20,"column":10},"end":{"line":20,"column":15}},"name":"entry"},"init":{"type":"MemberExpression","start":699,"end":711,"loc":{"start":{"line":20,"column":18},"end":{"line":20,"column":30}},"object":{"type":"Identifier","start":699,"end":705,"loc":{"start":{"line":20,"column":18},"end":{"line":20,"column":24}},"name":"cursor"},"property":{"type":"Identifier","start":706,"end":711,"loc":{"start":{"line":20,"column":25},"end":{"line":20,"column":30}},"name":"value"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":716,"end":759,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":47}},"expression":{"type":"AssignmentExpression","start":716,"end":759,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":47}},"operator":"=","left":{"type":"MemberExpression","start":716,"end":729,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":17}},"object":{"type":"Identifier","start":716,"end":721,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":9}},"name":"entry"},"property":{"type":"Identifier","start":722,"end":729,"loc":{"start":{"line":21,"column":10},"end":{"line":21,"column":17}},"name":"expires"},"computed":false},"right":{"type":"BinaryExpression","start":732,"end":759,"loc":{"start":{"line":21,"column":20},"end":{"line":21,"column":47}},"left":{"type":"CallExpression","start":732,"end":742,"loc":{"start":{"line":21,"column":20},"end":{"line":21,"column":30}},"callee":{"type":"MemberExpression","start":732,"end":740,"loc":{"start":{"line":21,"column":20},"end":{"line":21,"column":28}},"object":{"type":"Identifier","start":732,"end":736,"loc":{"start":{"line":21,"column":20},"end":{"line":21,"column":24}},"name":"Date"},"property":{"type":"Identifier","start":737,"end":740,"loc":{"start":{"line":21,"column":25},"end":{"line":21,"column":28}},"name":"now"},"computed":false},"arguments":[]},"operator":"+","right":{"type":"Identifier","start":745,"end":759,"loc":{"start":{"line":21,"column":33},"end":{"line":21,"column":47}},"name":"DEFAULT_EXPIRY"}}}},{"type":"ExpressionStatement","start":764,"end":784,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":24}},"expression":{"type":"CallExpression","start":764,"end":784,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":24}},"callee":{"type":"MemberExpression","start":764,"end":777,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":17}},"object":{"type":"Identifier","start":764,"end":770,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":10}},"name":"cursor"},"property":{"type":"Identifier","start":771,"end":777,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":17}},"name":"update"},"computed":false},"arguments":[{"type":"Identifier","start":778,"end":783,"loc":{"start":{"line":22,"column":18},"end":{"line":22,"column":23}},"name":"entry"}]}}]}}}}]}},{"type":"FunctionDeclaration","start":792,"end":1724,"loc":{"start":{"line":26,"column":0},"end":{"line":56,"column":1}},"id":{"type":"Identifier","start":801,"end":808,"loc":{"start":{"line":26,"column":9},"end":{"line":26,"column":16}},"name":"connect"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":810,"end":816,"loc":{"start":{"line":26,"column":18},"end":{"line":26,"column":24}},"name":"dbName"}],"body":{"type":"BlockStatement","start":818,"end":1724,"loc":{"start":{"line":26,"column":26},"end":{"line":56,"column":1}},"body":[{"type":"VariableDeclaration","start":822,"end":872,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":52}},"declarations":[{"type":"VariableDeclarator","start":828,"end":872,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":52}},"id":{"type":"Identifier","start":828,"end":835,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":15}},"name":"request"},"init":{"type":"CallExpression","start":838,"end":872,"loc":{"start":{"line":27,"column":18},"end":{"line":27,"column":52}},"callee":{"type":"MemberExpression","start":838,"end":852,"loc":{"start":{"line":27,"column":18},"end":{"line":27,"column":32}},"object":{"type":"Identifier","start":838,"end":847,"loc":{"start":{"line":27,"column":18},"end":{"line":27,"column":27}},"name":"indexedDB"},"property":{"type":"Identifier","start":848,"end":852,"loc":{"start":{"line":27,"column":28},"end":{"line":27,"column":32}},"name":"open"},"computed":false},"arguments":[{"type":"Identifier","start":853,"end":859,"loc":{"start":{"line":27,"column":33},"end":{"line":27,"column":39}},"name":"dbName"},{"type":"Identifier","start":861,"end":871,"loc":{"start":{"line":27,"column":41},"end":{"line":27,"column":51}},"name":"DB_VERSION"}]}}],"kind":"const"},{"type":"ReturnStatement","start":875,"end":1722,"loc":{"start":{"line":28,"column":2},"end":{"line":55,"column":4}},"argument":{"type":"NewExpression","start":882,"end":1722,"loc":{"start":{"line":28,"column":9},"end":{"line":55,"column":4}},"callee":{"type":"Identifier","start":886,"end":893,"loc":{"start":{"line":28,"column":13},"end":{"line":28,"column":20}},"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":894,"end":1721,"loc":{"start":{"line":28,"column":21},"end":{"line":55,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":895,"end":902,"loc":{"start":{"line":28,"column":22},"end":{"line":28,"column":29}},"name":"resolve"},{"type":"Identifier","start":904,"end":910,"loc":{"start":{"line":28,"column":31},"end":{"line":28,"column":37}},"name":"reject"}],"body":{"type":"BlockStatement","start":915,"end":1721,"loc":{"start":{"line":28,"column":42},"end":{"line":55,"column":3}},"body":[{"type":"ExpressionStatement","start":921,"end":1610,"loc":{"start":{"line":29,"column":4},"end":{"line":50,"column":5}},"expression":{"type":"AssignmentExpression","start":921,"end":1610,"loc":{"start":{"line":29,"column":4},"end":{"line":50,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":921,"end":944,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":27}},"object":{"type":"Identifier","start":921,"end":928,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":11}},"name":"request"},"property":{"type":"Identifier","start":929,"end":944,"loc":{"start":{"line":29,"column":12},"end":{"line":29,"column":27}},"name":"onupgradeneeded"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":947,"end":1610,"loc":{"start":{"line":29,"column":30},"end":{"line":50,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":948,"end":953,"loc":{"start":{"line":29,"column":31},"end":{"line":29,"column":36}},"name":"event"}],"body":{"type":"BlockStatement","start":958,"end":1610,"loc":{"start":{"line":29,"column":41},"end":{"line":50,"column":5}},"body":[{"type":"VariableDeclaration","start":966,"end":996,"loc":{"start":{"line":30,"column":6},"end":{"line":30,"column":36}},"declarations":[{"type":"VariableDeclarator","start":972,"end":996,"loc":{"start":{"line":30,"column":12},"end":{"line":30,"column":36}},"id":{"type":"Identifier","start":972,"end":974,"loc":{"start":{"line":30,"column":12},"end":{"line":30,"column":14}},"name":"db"},"init":{"type":"MemberExpression","start":977,"end":996,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":36}},"object":{"type":"MemberExpression","start":977,"end":989,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":29}},"object":{"type":"Identifier","start":977,"end":982,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":22}},"name":"event"},"property":{"type":"Identifier","start":983,"end":989,"loc":{"start":{"line":30,"column":23},"end":{"line":30,"column":29}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":990,"end":996,"loc":{"start":{"line":30,"column":30},"end":{"line":30,"column":36}},"name":"result"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":1003,"end":1054,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":57}},"declarations":[{"type":"VariableDeclarator","start":1009,"end":1054,"loc":{"start":{"line":31,"column":12},"end":{"line":31,"column":57}},"id":{"type":"Identifier","start":1009,"end":1020,"loc":{"start":{"line":31,"column":12},"end":{"line":31,"column":23}},"name":"transaction"},"init":{"type":"MemberExpression","start":1023,"end":1054,"loc":{"start":{"line":31,"column":26},"end":{"line":31,"column":57}},"object":{"type":"MemberExpression","start":1023,"end":1042,"loc":{"start":{"line":31,"column":26},"end":{"line":31,"column":45}},"object":{"type":"Identifier","start":1023,"end":1028,"loc":{"start":{"line":31,"column":26},"end":{"line":31,"column":31}},"name":"event"},"property":{"type":"Identifier","start":1029,"end":1042,"loc":{"start":{"line":31,"column":32},"end":{"line":31,"column":45}},"name":"currentTarget"},"computed":false},"property":{"type":"Identifier","start":1043,"end":1054,"loc":{"start":{"line":31,"column":46},"end":{"line":31,"column":57}},"name":"transaction"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":1062,"end":1311,"loc":{"start":{"line":33,"column":6},"end":{"line":37,"column":7}},"test":{"type":"BinaryExpression","start":1066,"end":1086,"loc":{"start":{"line":33,"column":10},"end":{"line":33,"column":30}},"left":{"type":"MemberExpression","start":1066,"end":1082,"loc":{"start":{"line":33,"column":10},"end":{"line":33,"column":26}},"object":{"type":"Identifier","start":1066,"end":1071,"loc":{"start":{"line":33,"column":10},"end":{"line":33,"column":15}},"name":"event"},"property":{"type":"Identifier","start":1072,"end":1082,"loc":{"start":{"line":33,"column":16},"end":{"line":33,"column":26}},"name":"oldVersion"},"computed":false},"operator":"<","right":{"type":"Literal","start":1085,"end":1086,"loc":{"start":{"line":33,"column":29},"end":{"line":33,"column":30}},"value":2,"raw":"2"}},"consequent":{"type":"BlockStatement","start":1088,"end":1311,"loc":{"start":{"line":33,"column":32},"end":{"line":37,"column":7}},"body":[{"type":"VariableDeclaration","start":1175,"end":1240,"loc":{"start":{"line":35,"column":8},"end":{"line":35,"column":73}},"declarations":[{"type":"VariableDeclarator","start":1181,"end":1240,"loc":{"start":{"line":35,"column":14},"end":{"line":35,"column":73}},"id":{"type":"Identifier","start":1181,"end":1186,"loc":{"start":{"line":35,"column":14},"end":{"line":35,"column":19}},"name":"store"},"init":{"type":"CallExpression","start":1189,"end":1240,"loc":{"start":{"line":35,"column":22},"end":{"line":35,"column":73}},"callee":{"type":"MemberExpression","start":1189,"end":1209,"loc":{"start":{"line":35,"column":22},"end":{"line":35,"column":42}},"object":{"type":"Identifier","start":1189,"end":1191,"loc":{"start":{"line":35,"column":22},"end":{"line":35,"column":24}},"name":"db"},"property":{"type":"Identifier","start":1192,"end":1209,"loc":{"start":{"line":35,"column":25},"end":{"line":35,"column":42}},"name":"createObjectStore"},"computed":false},"arguments":[{"type":"Identifier","start":1210,"end":1220,"loc":{"start":{"line":35,"column":43},"end":{"line":35,"column":53}},"name":"STORE_NAME"},{"type":"ObjectExpression","start":1222,"end":1239,"loc":{"start":{"line":35,"column":55},"end":{"line":35,"column":72}},"properties":[{"type":"Property","start":1224,"end":1237,"loc":{"start":{"line":35,"column":57},"end":{"line":35,"column":70}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1224,"end":1231,"loc":{"start":{"line":35,"column":57},"end":{"line":35,"column":64}},"name":"keyPath"},"value":{"type":"Literal","start":1233,"end":1237,"loc":{"start":{"line":35,"column":66},"end":{"line":35,"column":70}},"value":"id","raw":"'id'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1249,"end":1303,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":62}},"expression":{"type":"CallExpression","start":1249,"end":1303,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":62}},"callee":{"type":"MemberExpression","start":1249,"end":1266,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":25}},"object":{"type":"Identifier","start":1249,"end":1254,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":13}},"name":"store"},"property":{"type":"Identifier","start":1255,"end":1266,"loc":{"start":{"line":36,"column":14},"end":{"line":36,"column":25}},"name":"createIndex"},"computed":false},"arguments":[{"type":"Literal","start":1267,"end":1274,"loc":{"start":{"line":36,"column":26},"end":{"line":36,"column":33}},"value":"store","raw":"'store'"},{"type":"Literal","start":1276,"end":1283,"loc":{"start":{"line":36,"column":35},"end":{"line":36,"column":42}},"value":"store","raw":"'store'"},{"type":"ObjectExpression","start":1285,"end":1302,"loc":{"start":{"line":36,"column":44},"end":{"line":36,"column":61}},"properties":[{"type":"Property","start":1287,"end":1300,"loc":{"start":{"line":36,"column":46},"end":{"line":36,"column":59}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1287,"end":1293,"loc":{"start":{"line":36,"column":46},"end":{"line":36,"column":52}},"name":"unique"},"value":{"type":"Literal","start":1295,"end":1300,"loc":{"start":{"line":36,"column":54},"end":{"line":36,"column":59}},"value":false,"raw":"false"},"kind":"init"}]}]}}]},"alternate":null},{"type":"IfStatement","start":1319,"end":1536,"loc":{"start":{"line":39,"column":6},"end":{"line":45,"column":7}},"test":{"type":"BinaryExpression","start":1323,"end":1343,"loc":{"start":{"line":39,"column":10},"end":{"line":39,"column":30}},"left":{"type":"MemberExpression","start":1323,"end":1339,"loc":{"start":{"line":39,"column":10},"end":{"line":39,"column":26}},"object":{"type":"Identifier","start":1323,"end":1328,"loc":{"start":{"line":39,"column":10},"end":{"line":39,"column":15}},"name":"event"},"property":{"type":"Identifier","start":1329,"end":1339,"loc":{"start":{"line":39,"column":16},"end":{"line":39,"column":26}},"name":"oldVersion"},"computed":false},"operator":"<","right":{"type":"Literal","start":1342,"end":1343,"loc":{"start":{"line":39,"column":29},"end":{"line":39,"column":30}},"value":3,"raw":"3"}},"consequent":{"type":"BlockStatement","start":1345,"end":1536,"loc":{"start":{"line":39,"column":32},"end":{"line":45,"column":7}},"body":[{"type":"VariableDeclaration","start":1378,"end":1427,"loc":{"start":{"line":41,"column":8},"end":{"line":41,"column":57}},"declarations":[{"type":"VariableDeclarator","start":1384,"end":1427,"loc":{"start":{"line":41,"column":14},"end":{"line":41,"column":57}},"id":{"type":"Identifier","start":1384,"end":1389,"loc":{"start":{"line":41,"column":14},"end":{"line":41,"column":19}},"name":"store"},"init":{"type":"CallExpression","start":1392,"end":1427,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":57}},"callee":{"type":"MemberExpression","start":1392,"end":1415,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":45}},"object":{"type":"Identifier","start":1392,"end":1403,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":33}},"name":"transaction"},"property":{"type":"Identifier","start":1404,"end":1415,"loc":{"start":{"line":41,"column":34},"end":{"line":41,"column":45}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":1416,"end":1426,"loc":{"start":{"line":41,"column":46},"end":{"line":41,"column":56}},"name":"STORE_NAME"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1436,"end":1494,"loc":{"start":{"line":42,"column":8},"end":{"line":42,"column":66}},"expression":{"type":"CallExpression","start":1436,"end":1494,"loc":{"start":{"line":42,"column":8},"end":{"line":42,"column":66}},"callee":{"type":"MemberExpression","start":1436,"end":1453,"loc":{"start":{"line":42,"column":8},"end":{"line":42,"column":25}},"object":{"type":"Identifier","start":1436,"end":1441,"loc":{"start":{"line":42,"column":8},"end":{"line":42,"column":13}},"name":"store"},"property":{"type":"Identifier","start":1442,"end":1453,"loc":{"start":{"line":42,"column":14},"end":{"line":42,"column":25}},"name":"createIndex"},"computed":false},"arguments":[{"type":"Literal","start":1454,"end":1463,"loc":{"start":{"line":42,"column":26},"end":{"line":42,"column":35}},"value":"expires","raw":"'expires'"},{"type":"Literal","start":1465,"end":1474,"loc":{"start":{"line":42,"column":37},"end":{"line":42,"column":46}},"value":"expires","raw":"'expires'"},{"type":"ObjectExpression","start":1476,"end":1493,"loc":{"start":{"line":42,"column":48},"end":{"line":42,"column":65}},"properties":[{"type":"Property","start":1478,"end":1491,"loc":{"start":{"line":42,"column":50},"end":{"line":42,"column":63}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1478,"end":1484,"loc":{"start":{"line":42,"column":50},"end":{"line":42,"column":56}},"name":"unique"},"value":{"type":"Literal","start":1486,"end":1491,"loc":{"start":{"line":42,"column":58},"end":{"line":42,"column":63}},"value":false,"raw":"false"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":1504,"end":1528,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":32}},"expression":{"type":"CallExpression","start":1504,"end":1528,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":32}},"callee":{"type":"Identifier","start":1504,"end":1521,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":25}},"name":"migrateExpiration"},"arguments":[{"type":"Identifier","start":1522,"end":1527,"loc":{"start":{"line":44,"column":26},"end":{"line":44,"column":31}},"name":"store"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":1544,"end":1604,"loc":{"start":{"line":47,"column":6},"end":{"line":49,"column":7}},"expression":{"type":"AssignmentExpression","start":1544,"end":1604,"loc":{"start":{"line":47,"column":6},"end":{"line":49,"column":7}},"operator":"=","left":{"type":"MemberExpression","start":1544,"end":1566,"loc":{"start":{"line":47,"column":6},"end":{"line":47,"column":28}},"object":{"type":"Identifier","start":1544,"end":1555,"loc":{"start":{"line":47,"column":6},"end":{"line":47,"column":17}},"name":"transaction"},"property":{"type":"Identifier","start":1556,"end":1566,"loc":{"start":{"line":47,"column":18},"end":{"line":47,"column":28}},"name":"oncomplete"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1569,"end":1604,"loc":{"start":{"line":47,"column":31},"end":{"line":49,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1575,"end":1604,"loc":{"start":{"line":47,"column":37},"end":{"line":49,"column":7}},"body":[{"type":"ExpressionStatement","start":1585,"end":1596,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":19}},"expression":{"type":"CallExpression","start":1585,"end":1596,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":19}},"callee":{"type":"Identifier","start":1585,"end":1592,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":15}},"name":"resolve"},"arguments":[{"type":"Identifier","start":1593,"end":1595,"loc":{"start":{"line":48,"column":16},"end":{"line":48,"column":18}},"name":"db"}]}}]}}}}]}}}},{"type":"ExpressionStatement","start":1615,"end":1688,"loc":{"start":{"line":51,"column":4},"end":{"line":53,"column":5}},"expression":{"type":"AssignmentExpression","start":1615,"end":1688,"loc":{"start":{"line":51,"column":4},"end":{"line":53,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":1615,"end":1632,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":21}},"object":{"type":"Identifier","start":1615,"end":1622,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":11}},"name":"request"},"property":{"type":"Identifier","start":1623,"end":1632,"loc":{"start":{"line":51,"column":12},"end":{"line":51,"column":21}},"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1635,"end":1688,"loc":{"start":{"line":51,"column":24},"end":{"line":53,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1636,"end":1641,"loc":{"start":{"line":51,"column":25},"end":{"line":51,"column":30}},"name":"event"}],"body":{"type":"BlockStatement","start":1646,"end":1688,"loc":{"start":{"line":51,"column":35},"end":{"line":53,"column":5}},"body":[{"type":"ExpressionStatement","start":1654,"end":1682,"loc":{"start":{"line":52,"column":6},"end":{"line":52,"column":34}},"expression":{"type":"CallExpression","start":1654,"end":1682,"loc":{"start":{"line":52,"column":6},"end":{"line":52,"column":34}},"callee":{"type":"Identifier","start":1654,"end":1661,"loc":{"start":{"line":52,"column":6},"end":{"line":52,"column":13}},"name":"resolve"},"arguments":[{"type":"MemberExpression","start":1662,"end":1681,"loc":{"start":{"line":52,"column":14},"end":{"line":52,"column":33}},"object":{"type":"MemberExpression","start":1662,"end":1674,"loc":{"start":{"line":52,"column":14},"end":{"line":52,"column":26}},"object":{"type":"Identifier","start":1662,"end":1667,"loc":{"start":{"line":52,"column":14},"end":{"line":52,"column":19}},"name":"event"},"property":{"type":"Identifier","start":1668,"end":1674,"loc":{"start":{"line":52,"column":20},"end":{"line":52,"column":26}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":1675,"end":1681,"loc":{"start":{"line":52,"column":27},"end":{"line":52,"column":33}},"name":"result"},"computed":false}]}}]}}}},{"type":"ExpressionStatement","start":1693,"end":1717,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":28}},"expression":{"type":"AssignmentExpression","start":1693,"end":1717,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":28}},"operator":"=","left":{"type":"MemberExpression","start":1693,"end":1708,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":19}},"object":{"type":"Identifier","start":1693,"end":1700,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":11}},"name":"request"},"property":{"type":"Identifier","start":1701,"end":1708,"loc":{"start":{"line":54,"column":12},"end":{"line":54,"column":19}},"name":"onerror"},"computed":false},"right":{"type":"Identifier","start":1711,"end":1717,"loc":{"start":{"line":54,"column":22},"end":{"line":54,"column":28}},"name":"reject"}}}]}}]}}]}},{"type":"FunctionDeclaration","start":1726,"end":1919,"loc":{"start":{"line":58,"column":0},"end":{"line":65,"column":1}},"id":{"type":"Identifier","start":1735,"end":1749,"loc":{"start":{"line":58,"column":9},"end":{"line":58,"column":23}},"name":"waitForRequest"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1751,"end":1758,"loc":{"start":{"line":58,"column":25},"end":{"line":58,"column":32}},"name":"request"}],"body":{"type":"BlockStatement","start":1760,"end":1919,"loc":{"start":{"line":58,"column":34},"end":{"line":65,"column":1}},"body":[{"type":"ReturnStatement","start":1764,"end":1917,"loc":{"start":{"line":59,"column":2},"end":{"line":64,"column":4}},"argument":{"type":"NewExpression","start":1771,"end":1917,"loc":{"start":{"line":59,"column":9},"end":{"line":64,"column":4}},"callee":{"type":"Identifier","start":1775,"end":1782,"loc":{"start":{"line":59,"column":13},"end":{"line":59,"column":20}},"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":1783,"end":1916,"loc":{"start":{"line":59,"column":21},"end":{"line":64,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1784,"end":1791,"loc":{"start":{"line":59,"column":22},"end":{"line":59,"column":29}},"name":"resolve"},{"type":"Identifier","start":1793,"end":1799,"loc":{"start":{"line":59,"column":31},"end":{"line":59,"column":37}},"name":"reject"}],"body":{"type":"BlockStatement","start":1804,"end":1916,"loc":{"start":{"line":59,"column":42},"end":{"line":64,"column":3}},"body":[{"type":"ExpressionStatement","start":1810,"end":1883,"loc":{"start":{"line":60,"column":4},"end":{"line":62,"column":5}},"expression":{"type":"AssignmentExpression","start":1810,"end":1883,"loc":{"start":{"line":60,"column":4},"end":{"line":62,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":1810,"end":1827,"loc":{"start":{"line":60,"column":4},"end":{"line":60,"column":21}},"object":{"type":"Identifier","start":1810,"end":1817,"loc":{"start":{"line":60,"column":4},"end":{"line":60,"column":11}},"name":"request"},"property":{"type":"Identifier","start":1818,"end":1827,"loc":{"start":{"line":60,"column":12},"end":{"line":60,"column":21}},"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1830,"end":1883,"loc":{"start":{"line":60,"column":24},"end":{"line":62,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1831,"end":1836,"loc":{"start":{"line":60,"column":25},"end":{"line":60,"column":30}},"name":"event"}],"body":{"type":"BlockStatement","start":1841,"end":1883,"loc":{"start":{"line":60,"column":35},"end":{"line":62,"column":5}},"body":[{"type":"ExpressionStatement","start":1849,"end":1877,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":34}},"expression":{"type":"CallExpression","start":1849,"end":1877,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":34}},"callee":{"type":"Identifier","start":1849,"end":1856,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":13}},"name":"resolve"},"arguments":[{"type":"MemberExpression","start":1857,"end":1876,"loc":{"start":{"line":61,"column":14},"end":{"line":61,"column":33}},"object":{"type":"MemberExpression","start":1857,"end":1869,"loc":{"start":{"line":61,"column":14},"end":{"line":61,"column":26}},"object":{"type":"Identifier","start":1857,"end":1862,"loc":{"start":{"line":61,"column":14},"end":{"line":61,"column":19}},"name":"event"},"property":{"type":"Identifier","start":1863,"end":1869,"loc":{"start":{"line":61,"column":20},"end":{"line":61,"column":26}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":1870,"end":1876,"loc":{"start":{"line":61,"column":27},"end":{"line":61,"column":33}},"name":"result"},"computed":false}]}}]}}}},{"type":"ExpressionStatement","start":1888,"end":1912,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":28}},"expression":{"type":"AssignmentExpression","start":1888,"end":1912,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":28}},"operator":"=","left":{"type":"MemberExpression","start":1888,"end":1903,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":19}},"object":{"type":"Identifier","start":1888,"end":1895,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":11}},"name":"request"},"property":{"type":"Identifier","start":1896,"end":1903,"loc":{"start":{"line":63,"column":12},"end":{"line":63,"column":19}},"name":"onerror"},"computed":false},"right":{"type":"Identifier","start":1906,"end":1912,"loc":{"start":{"line":63,"column":22},"end":{"line":63,"column":28}},"name":"reject"}}}]}}]}}]}},{"type":"VariableDeclaration","start":1921,"end":1942,"loc":{"start":{"line":67,"column":0},"end":{"line":67,"column":21}},"declarations":[{"type":"VariableDeclarator","start":1925,"end":1942,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":21}},"id":{"type":"Identifier","start":1925,"end":1934,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":13}},"name":"cleanedUp"},"init":{"type":"Literal","start":1937,"end":1942,"loc":{"start":{"line":67,"column":16},"end":{"line":67,"column":21}},"value":false,"raw":"false"}}],"kind":"let"},{"type":"ClassDeclaration","start":1943,"end":6508,"loc":{"start":{"line":68,"column":0},"end":{"line":228,"column":1}},"id":{"type":"Identifier","start":1949,"end":1963,"loc":{"start":{"line":68,"column":6},"end":{"line":68,"column":20}},"name":"IndexedDBStore"},"superClass":null,"body":{"type":"ClassBody","start":1964,"end":6508,"loc":{"start":{"line":68,"column":21},"end":{"line":228,"column":1}},"body":[{"type":"MethodDefinition","start":1968,"end":2542,"loc":{"start":{"line":69,"column":2},"end":{"line":91,"column":3}},"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":1968,"end":1979,"loc":{"start":{"line":69,"column":2},"end":{"line":69,"column":13}},"name":"constructor"},"value":{"type":"FunctionExpression","start":1980,"end":2542,"loc":{"start":{"line":69,"column":14},"end":{"line":91,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1981,"end":1985,"loc":{"start":{"line":69,"column":15},"end":{"line":69,"column":19}},"name":"opts"}],"body":{"type":"BlockStatement","start":1987,"end":2542,"loc":{"start":{"line":69,"column":21},"end":{"line":91,"column":3}},"body":[{"type":"ExpressionStatement","start":1993,"end":2221,"loc":{"start":{"line":70,"column":4},"end":{"line":76,"column":12}},"expression":{"type":"AssignmentExpression","start":1993,"end":2221,"loc":{"start":{"line":70,"column":4},"end":{"line":76,"column":12}},"operator":"=","left":{"type":"MemberExpression","start":1993,"end":2002,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":13}},"object":{"type":"ThisExpression","start":1993,"end":1997,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":8}}},"property":{"type":"Identifier","start":1998,"end":2002,"loc":{"start":{"line":70,"column":9},"end":{"line":70,"column":13}},"name":"opts"},"computed":false},"right":{"type":"CallExpression","start":2005,"end":2221,"loc":{"start":{"line":70,"column":16},"end":{"line":76,"column":12}},"callee":{"type":"MemberExpression","start":2005,"end":2018,"loc":{"start":{"line":70,"column":16},"end":{"line":70,"column":29}},"object":{"type":"Identifier","start":2005,"end":2011,"loc":{"start":{"line":70,"column":16},"end":{"line":70,"column":22}},"name":"Object"},"property":{"type":"Identifier","start":2012,"end":2018,"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":29}},"name":"assign"},"computed":false},"arguments":[{"type":"ObjectExpression","start":2019,"end":2214,"loc":{"start":{"line":70,"column":30},"end":{"line":76,"column":5}},"properties":[{"type":"Property","start":2027,"end":2042,"loc":{"start":{"line":71,"column":6},"end":{"line":71,"column":21}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2027,"end":2033,"loc":{"start":{"line":71,"column":6},"end":{"line":71,"column":12}},"name":"dbName"},"value":{"type":"Identifier","start":2035,"end":2042,"loc":{"start":{"line":71,"column":14},"end":{"line":71,"column":21}},"name":"DB_NAME"},"kind":"init"},{"type":"Property","start":2050,"end":2070,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2050,"end":2059,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":15}},"name":"storeName"},"value":{"type":"Literal","start":2061,"end":2070,"loc":{"start":{"line":72,"column":17},"end":{"line":72,"column":26}},"value":"default","raw":"'default'"},"kind":"init"},{"type":"Property","start":2078,"end":2101,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":29}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2078,"end":2085,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":13}},"name":"expires"},"value":{"type":"Identifier","start":2087,"end":2101,"loc":{"start":{"line":73,"column":15},"end":{"line":73,"column":29}},"name":"DEFAULT_EXPIRY"},"kind":"init"},{"type":"Property","start":2121,"end":2150,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":35}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2121,"end":2132,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":17}},"name":"maxFileSize"},"value":{"type":"BinaryExpression","start":2134,"end":2150,"loc":{"start":{"line":74,"column":19},"end":{"line":74,"column":35}},"left":{"type":"BinaryExpression","start":2134,"end":2143,"loc":{"start":{"line":74,"column":19},"end":{"line":74,"column":28}},"left":{"type":"Literal","start":2134,"end":2136,"loc":{"start":{"line":74,"column":19},"end":{"line":74,"column":21}},"value":10,"raw":"10"},"operator":"*","right":{"type":"Literal","start":2139,"end":2143,"loc":{"start":{"line":74,"column":24},"end":{"line":74,"column":28}},"value":1024,"raw":"1024"}},"operator":"*","right":{"type":"Literal","start":2146,"end":2150,"loc":{"start":{"line":74,"column":31},"end":{"line":74,"column":35}},"value":1024,"raw":"1024"}},"kind":"init"},{"type":"Property","start":2167,"end":2198,"loc":{"start":{"line":75,"column":6},"end":{"line":75,"column":37}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2167,"end":2179,"loc":{"start":{"line":75,"column":6},"end":{"line":75,"column":18}},"name":"maxTotalSize"},"value":{"type":"BinaryExpression","start":2181,"end":2198,"loc":{"start":{"line":75,"column":20},"end":{"line":75,"column":37}},"left":{"type":"BinaryExpression","start":2181,"end":2191,"loc":{"start":{"line":75,"column":20},"end":{"line":75,"column":30}},"left":{"type":"Literal","start":2181,"end":2184,"loc":{"start":{"line":75,"column":20},"end":{"line":75,"column":23}},"value":300,"raw":"300"},"operator":"*","right":{"type":"Literal","start":2187,"end":2191,"loc":{"start":{"line":75,"column":26},"end":{"line":75,"column":30}},"value":1024,"raw":"1024"}},"operator":"*","right":{"type":"Literal","start":2194,"end":2198,"loc":{"start":{"line":75,"column":33},"end":{"line":75,"column":37}},"value":1024,"raw":"1024"}},"kind":"init"}]},{"type":"Identifier","start":2216,"end":2220,"loc":{"start":{"line":76,"column":7},"end":{"line":76,"column":11}},"name":"opts"}]}}},{"type":"ExpressionStatement","start":2227,"end":2258,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":35}},"expression":{"type":"AssignmentExpression","start":2227,"end":2258,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":35}},"operator":"=","left":{"type":"MemberExpression","start":2227,"end":2236,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":13}},"object":{"type":"ThisExpression","start":2227,"end":2231,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":8}}},"property":{"type":"Identifier","start":2232,"end":2236,"loc":{"start":{"line":78,"column":9},"end":{"line":78,"column":13}},"name":"name"},"computed":false},"right":{"type":"MemberExpression","start":2239,"end":2258,"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":35}},"object":{"type":"MemberExpression","start":2239,"end":2248,"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":25}},"object":{"type":"ThisExpression","start":2239,"end":2243,"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":20}}},"property":{"type":"Identifier","start":2244,"end":2248,"loc":{"start":{"line":78,"column":21},"end":{"line":78,"column":25}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":2249,"end":2258,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":35}},"name":"storeName"},"computed":false}}},{"type":"VariableDeclaration","start":2264,"end":2341,"loc":{"start":{"line":80,"column":4},"end":{"line":82,"column":5}},"declarations":[{"type":"VariableDeclarator","start":2270,"end":2341,"loc":{"start":{"line":80,"column":10},"end":{"line":82,"column":5}},"id":{"type":"Identifier","start":2270,"end":2286,"loc":{"start":{"line":80,"column":10},"end":{"line":80,"column":26}},"name":"createConnection"},"init":{"type":"ArrowFunctionExpression","start":2289,"end":2341,"loc":{"start":{"line":80,"column":29},"end":{"line":82,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2295,"end":2341,"loc":{"start":{"line":80,"column":35},"end":{"line":82,"column":5}},"body":[{"type":"ReturnStatement","start":2303,"end":2335,"loc":{"start":{"line":81,"column":6},"end":{"line":81,"column":38}},"argument":{"type":"CallExpression","start":2310,"end":2335,"loc":{"start":{"line":81,"column":13},"end":{"line":81,"column":38}},"callee":{"type":"Identifier","start":2310,"end":2317,"loc":{"start":{"line":81,"column":13},"end":{"line":81,"column":20}},"name":"connect"},"arguments":[{"type":"MemberExpression","start":2318,"end":2334,"loc":{"start":{"line":81,"column":21},"end":{"line":81,"column":37}},"object":{"type":"MemberExpression","start":2318,"end":2327,"loc":{"start":{"line":81,"column":21},"end":{"line":81,"column":30}},"object":{"type":"ThisExpression","start":2318,"end":2322,"loc":{"start":{"line":81,"column":21},"end":{"line":81,"column":25}}},"property":{"type":"Identifier","start":2323,"end":2327,"loc":{"start":{"line":81,"column":26},"end":{"line":81,"column":30}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":2328,"end":2334,"loc":{"start":{"line":81,"column":31},"end":{"line":81,"column":37}},"name":"dbName"},"computed":false}]}}]}}}],"kind":"const"},{"type":"IfStatement","start":2347,"end":2538,"loc":{"start":{"line":84,"column":4},"end":{"line":90,"column":5}},"test":{"type":"UnaryExpression","start":2351,"end":2361,"loc":{"start":{"line":84,"column":8},"end":{"line":84,"column":18}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2352,"end":2361,"loc":{"start":{"line":84,"column":9},"end":{"line":84,"column":18}},"name":"cleanedUp"}},"consequent":{"type":"BlockStatement","start":2363,"end":2487,"loc":{"start":{"line":84,"column":20},"end":{"line":88,"column":5}},"body":[{"type":"ExpressionStatement","start":2371,"end":2387,"loc":{"start":{"line":85,"column":6},"end":{"line":85,"column":22}},"expression":{"type":"AssignmentExpression","start":2371,"end":2387,"loc":{"start":{"line":85,"column":6},"end":{"line":85,"column":22}},"operator":"=","left":{"type":"Identifier","start":2371,"end":2380,"loc":{"start":{"line":85,"column":6},"end":{"line":85,"column":15}},"name":"cleanedUp"},"right":{"type":"Literal","start":2383,"end":2387,"loc":{"start":{"line":85,"column":18},"end":{"line":85,"column":22}},"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":2394,"end":2481,"loc":{"start":{"line":86,"column":6},"end":{"line":87,"column":49}},"expression":{"type":"AssignmentExpression","start":2394,"end":2481,"loc":{"start":{"line":86,"column":6},"end":{"line":87,"column":49}},"operator":"=","left":{"type":"MemberExpression","start":2394,"end":2404,"loc":{"start":{"line":86,"column":6},"end":{"line":86,"column":16}},"object":{"type":"ThisExpression","start":2394,"end":2398,"loc":{"start":{"line":86,"column":6},"end":{"line":86,"column":10}}},"property":{"type":"Identifier","start":2399,"end":2404,"loc":{"start":{"line":86,"column":11},"end":{"line":86,"column":16}},"name":"ready"},"computed":false},"right":{"type":"CallExpression","start":2407,"end":2481,"loc":{"start":{"line":86,"column":19},"end":{"line":87,"column":49}},"callee":{"type":"MemberExpression","start":2407,"end":2445,"loc":{"start":{"line":86,"column":19},"end":{"line":87,"column":13}},"object":{"type":"CallExpression","start":2407,"end":2431,"loc":{"start":{"line":86,"column":19},"end":{"line":86,"column":43}},"callee":{"type":"MemberExpression","start":2407,"end":2429,"loc":{"start":{"line":86,"column":19},"end":{"line":86,"column":41}},"object":{"type":"Identifier","start":2407,"end":2421,"loc":{"start":{"line":86,"column":19},"end":{"line":86,"column":33}},"name":"IndexedDBStore"},"property":{"type":"Identifier","start":2422,"end":2429,"loc":{"start":{"line":86,"column":34},"end":{"line":86,"column":41}},"name":"cleanup"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":2441,"end":2445,"loc":{"start":{"line":87,"column":9},"end":{"line":87,"column":13}},"name":"then"},"computed":false},"arguments":[{"type":"Identifier","start":2446,"end":2462,"loc":{"start":{"line":87,"column":14},"end":{"line":87,"column":30}},"name":"createConnection"},{"type":"Identifier","start":2464,"end":2480,"loc":{"start":{"line":87,"column":32},"end":{"line":87,"column":48}},"name":"createConnection"}]}}}]},"alternate":{"type":"BlockStatement","start":2493,"end":2538,"loc":{"start":{"line":88,"column":11},"end":{"line":90,"column":5}},"body":[{"type":"ExpressionStatement","start":2501,"end":2532,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":37}},"expression":{"type":"AssignmentExpression","start":2501,"end":2532,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":37}},"operator":"=","left":{"type":"MemberExpression","start":2501,"end":2511,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":16}},"object":{"type":"ThisExpression","start":2501,"end":2505,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":10}}},"property":{"type":"Identifier","start":2506,"end":2511,"loc":{"start":{"line":89,"column":11},"end":{"line":89,"column":16}},"name":"ready"},"computed":false},"right":{"type":"CallExpression","start":2514,"end":2532,"loc":{"start":{"line":89,"column":19},"end":{"line":89,"column":37}},"callee":{"type":"Identifier","start":2514,"end":2530,"loc":{"start":{"line":89,"column":19},"end":{"line":89,"column":35}},"name":"createConnection"},"arguments":[]}}}]}}]}}},{"type":"MethodDefinition","start":2546,"end":2600,"loc":{"start":{"line":93,"column":2},"end":{"line":95,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":2546,"end":2549,"loc":{"start":{"line":93,"column":2},"end":{"line":93,"column":5}},"name":"key"},"value":{"type":"FunctionExpression","start":2550,"end":2600,"loc":{"start":{"line":93,"column":6},"end":{"line":95,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2551,"end":2557,"loc":{"start":{"line":93,"column":7},"end":{"line":93,"column":13}},"name":"fileID"}],"body":{"type":"BlockStatement","start":2559,"end":2600,"loc":{"start":{"line":93,"column":15},"end":{"line":95,"column":3}},"body":[{"type":"ReturnStatement","start":2565,"end":2596,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":35}},"argument":{"type":"TemplateLiteral","start":2572,"end":2596,"loc":{"start":{"line":94,"column":11},"end":{"line":94,"column":35}},"expressions":[{"type":"MemberExpression","start":2575,"end":2584,"loc":{"start":{"line":94,"column":14},"end":{"line":94,"column":23}},"object":{"type":"ThisExpression","start":2575,"end":2579,"loc":{"start":{"line":94,"column":14},"end":{"line":94,"column":18}}},"property":{"type":"Identifier","start":2580,"end":2584,"loc":{"start":{"line":94,"column":19},"end":{"line":94,"column":23}},"name":"name"},"computed":false},{"type":"Identifier","start":2588,"end":2594,"loc":{"start":{"line":94,"column":27},"end":{"line":94,"column":33}},"name":"fileID"}],"quasis":[{"type":"TemplateElement","start":2573,"end":2573,"loc":{"start":{"line":94,"column":12},"end":{"line":94,"column":12}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":2585,"end":2586,"loc":{"start":{"line":94,"column":24},"end":{"line":94,"column":25}},"value":{"raw":"!","cooked":"!"},"tail":false},{"type":"TemplateElement","start":2595,"end":2595,"loc":{"start":{"line":94,"column":34},"end":{"line":94,"column":34}},"value":{"raw":"","cooked":""},"tail":true}]}}]}}},{"type":"MethodDefinition","start":2665,"end":3120,"loc":{"start":{"line":100,"column":2},"end":{"line":114,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":2665,"end":2669,"loc":{"start":{"line":100,"column":2},"end":{"line":100,"column":6}},"name":"list"},"value":{"type":"FunctionExpression","start":2670,"end":3120,"loc":{"start":{"line":100,"column":7},"end":{"line":114,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2673,"end":3120,"loc":{"start":{"line":100,"column":10},"end":{"line":114,"column":3}},"body":[{"type":"ReturnStatement","start":2679,"end":3116,"loc":{"start":{"line":101,"column":4},"end":{"line":113,"column":6}},"argument":{"type":"CallExpression","start":2686,"end":3116,"loc":{"start":{"line":101,"column":11},"end":{"line":113,"column":6}},"callee":{"type":"MemberExpression","start":2686,"end":2971,"loc":{"start":{"line":101,"column":11},"end":{"line":107,"column":11}},"object":{"type":"CallExpression","start":2686,"end":2966,"loc":{"start":{"line":101,"column":11},"end":{"line":107,"column":6}},"callee":{"type":"MemberExpression","start":2686,"end":2701,"loc":{"start":{"line":101,"column":11},"end":{"line":101,"column":26}},"object":{"type":"MemberExpression","start":2686,"end":2696,"loc":{"start":{"line":101,"column":11},"end":{"line":101,"column":21}},"object":{"type":"ThisExpression","start":2686,"end":2690,"loc":{"start":{"line":101,"column":11},"end":{"line":101,"column":15}}},"property":{"type":"Identifier","start":2691,"end":2696,"loc":{"start":{"line":101,"column":16},"end":{"line":101,"column":21}},"name":"ready"},"computed":false},"property":{"type":"Identifier","start":2697,"end":2701,"loc":{"start":{"line":101,"column":22},"end":{"line":101,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2702,"end":2965,"loc":{"start":{"line":101,"column":27},"end":{"line":107,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2703,"end":2705,"loc":{"start":{"line":101,"column":28},"end":{"line":101,"column":30}},"name":"db"}],"body":{"type":"BlockStatement","start":2710,"end":2965,"loc":{"start":{"line":101,"column":35},"end":{"line":107,"column":5}},"body":[{"type":"VariableDeclaration","start":2718,"end":2778,"loc":{"start":{"line":102,"column":6},"end":{"line":102,"column":66}},"declarations":[{"type":"VariableDeclarator","start":2724,"end":2778,"loc":{"start":{"line":102,"column":12},"end":{"line":102,"column":66}},"id":{"type":"Identifier","start":2724,"end":2735,"loc":{"start":{"line":102,"column":12},"end":{"line":102,"column":23}},"name":"transaction"},"init":{"type":"CallExpression","start":2738,"end":2778,"loc":{"start":{"line":102,"column":26},"end":{"line":102,"column":66}},"callee":{"type":"MemberExpression","start":2738,"end":2752,"loc":{"start":{"line":102,"column":26},"end":{"line":102,"column":40}},"object":{"type":"Identifier","start":2738,"end":2740,"loc":{"start":{"line":102,"column":26},"end":{"line":102,"column":28}},"name":"db"},"property":{"type":"Identifier","start":2741,"end":2752,"loc":{"start":{"line":102,"column":29},"end":{"line":102,"column":40}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":2753,"end":2765,"loc":{"start":{"line":102,"column":41},"end":{"line":102,"column":53}},"elements":[{"type":"Identifier","start":2754,"end":2764,"loc":{"start":{"line":102,"column":42},"end":{"line":102,"column":52}},"name":"STORE_NAME"}]},{"type":"Literal","start":2767,"end":2777,"loc":{"start":{"line":102,"column":55},"end":{"line":102,"column":65}},"value":"readonly","raw":"'readonly'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2785,"end":2834,"loc":{"start":{"line":103,"column":6},"end":{"line":103,"column":55}},"declarations":[{"type":"VariableDeclarator","start":2791,"end":2834,"loc":{"start":{"line":103,"column":12},"end":{"line":103,"column":55}},"id":{"type":"Identifier","start":2791,"end":2796,"loc":{"start":{"line":103,"column":12},"end":{"line":103,"column":17}},"name":"store"},"init":{"type":"CallExpression","start":2799,"end":2834,"loc":{"start":{"line":103,"column":20},"end":{"line":103,"column":55}},"callee":{"type":"MemberExpression","start":2799,"end":2822,"loc":{"start":{"line":103,"column":20},"end":{"line":103,"column":43}},"object":{"type":"Identifier","start":2799,"end":2810,"loc":{"start":{"line":103,"column":20},"end":{"line":103,"column":31}},"name":"transaction"},"property":{"type":"Identifier","start":2811,"end":2822,"loc":{"start":{"line":103,"column":32},"end":{"line":103,"column":43}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":2823,"end":2833,"loc":{"start":{"line":103,"column":44},"end":{"line":103,"column":54}},"name":"STORE_NAME"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2841,"end":2922,"loc":{"start":{"line":104,"column":6},"end":{"line":105,"column":44}},"declarations":[{"type":"VariableDeclarator","start":2847,"end":2922,"loc":{"start":{"line":104,"column":12},"end":{"line":105,"column":44}},"id":{"type":"Identifier","start":2847,"end":2854,"loc":{"start":{"line":104,"column":12},"end":{"line":104,"column":19}},"name":"request"},"init":{"type":"CallExpression","start":2857,"end":2922,"loc":{"start":{"line":104,"column":22},"end":{"line":105,"column":44}},"callee":{"type":"MemberExpression","start":2857,"end":2893,"loc":{"start":{"line":104,"column":22},"end":{"line":105,"column":15}},"object":{"type":"CallExpression","start":2857,"end":2877,"loc":{"start":{"line":104,"column":22},"end":{"line":104,"column":42}},"callee":{"type":"MemberExpression","start":2857,"end":2868,"loc":{"start":{"line":104,"column":22},"end":{"line":104,"column":33}},"object":{"type":"Identifier","start":2857,"end":2862,"loc":{"start":{"line":104,"column":22},"end":{"line":104,"column":27}},"name":"store"},"property":{"type":"Identifier","start":2863,"end":2868,"loc":{"start":{"line":104,"column":28},"end":{"line":104,"column":33}},"name":"index"},"computed":false},"arguments":[{"type":"Literal","start":2869,"end":2876,"loc":{"start":{"line":104,"column":34},"end":{"line":104,"column":41}},"value":"store","raw":"'store'"}]},"property":{"type":"Identifier","start":2887,"end":2893,"loc":{"start":{"line":105,"column":9},"end":{"line":105,"column":15}},"name":"getAll"},"computed":false},"arguments":[{"type":"CallExpression","start":2894,"end":2921,"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":43}},"callee":{"type":"MemberExpression","start":2894,"end":2910,"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":32}},"object":{"type":"Identifier","start":2894,"end":2905,"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":27}},"name":"IDBKeyRange"},"property":{"type":"Identifier","start":2906,"end":2910,"loc":{"start":{"line":105,"column":28},"end":{"line":105,"column":32}},"name":"only"},"computed":false},"arguments":[{"type":"MemberExpression","start":2911,"end":2920,"loc":{"start":{"line":105,"column":33},"end":{"line":105,"column":42}},"object":{"type":"ThisExpression","start":2911,"end":2915,"loc":{"start":{"line":105,"column":33},"end":{"line":105,"column":37}}},"property":{"type":"Identifier","start":2916,"end":2920,"loc":{"start":{"line":105,"column":38},"end":{"line":105,"column":42}},"name":"name"},"computed":false}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":2929,"end":2959,"loc":{"start":{"line":106,"column":6},"end":{"line":106,"column":36}},"argument":{"type":"CallExpression","start":2936,"end":2959,"loc":{"start":{"line":106,"column":13},"end":{"line":106,"column":36}},"callee":{"type":"Identifier","start":2936,"end":2950,"loc":{"start":{"line":106,"column":13},"end":{"line":106,"column":27}},"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":2951,"end":2958,"loc":{"start":{"line":106,"column":28},"end":{"line":106,"column":35}},"name":"request"}]}}]}}]},"property":{"type":"Identifier","start":2967,"end":2971,"loc":{"start":{"line":107,"column":7},"end":{"line":107,"column":11}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2972,"end":3115,"loc":{"start":{"line":107,"column":12},"end":{"line":113,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2973,"end":2978,"loc":{"start":{"line":107,"column":13},"end":{"line":107,"column":18}},"name":"files"}],"body":{"type":"BlockStatement","start":2983,"end":3115,"loc":{"start":{"line":107,"column":23},"end":{"line":113,"column":5}},"body":[{"type":"VariableDeclaration","start":2991,"end":3008,"loc":{"start":{"line":108,"column":6},"end":{"line":108,"column":23}},"declarations":[{"type":"VariableDeclarator","start":2997,"end":3008,"loc":{"start":{"line":108,"column":12},"end":{"line":108,"column":23}},"id":{"type":"Identifier","start":2997,"end":3003,"loc":{"start":{"line":108,"column":12},"end":{"line":108,"column":18}},"name":"result"},"init":{"type":"ObjectExpression","start":3006,"end":3008,"loc":{"start":{"line":108,"column":21},"end":{"line":108,"column":23}},"properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":3015,"end":3089,"loc":{"start":{"line":109,"column":6},"end":{"line":111,"column":8}},"expression":{"type":"CallExpression","start":3015,"end":3089,"loc":{"start":{"line":109,"column":6},"end":{"line":111,"column":8}},"callee":{"type":"MemberExpression","start":3015,"end":3028,"loc":{"start":{"line":109,"column":6},"end":{"line":109,"column":19}},"object":{"type":"Identifier","start":3015,"end":3020,"loc":{"start":{"line":109,"column":6},"end":{"line":109,"column":11}},"name":"files"},"property":{"type":"Identifier","start":3021,"end":3028,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":19}},"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3029,"end":3088,"loc":{"start":{"line":109,"column":20},"end":{"line":111,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3030,"end":3034,"loc":{"start":{"line":109,"column":21},"end":{"line":109,"column":25}},"name":"file"}],"body":{"type":"BlockStatement","start":3039,"end":3088,"loc":{"start":{"line":109,"column":30},"end":{"line":111,"column":7}},"body":[{"type":"ExpressionStatement","start":3049,"end":3080,"loc":{"start":{"line":110,"column":8},"end":{"line":110,"column":39}},"expression":{"type":"AssignmentExpression","start":3049,"end":3080,"loc":{"start":{"line":110,"column":8},"end":{"line":110,"column":39}},"operator":"=","left":{"type":"MemberExpression","start":3049,"end":3068,"loc":{"start":{"line":110,"column":8},"end":{"line":110,"column":27}},"object":{"type":"Identifier","start":3049,"end":3055,"loc":{"start":{"line":110,"column":8},"end":{"line":110,"column":14}},"name":"result"},"property":{"type":"MemberExpression","start":3056,"end":3067,"loc":{"start":{"line":110,"column":15},"end":{"line":110,"column":26}},"object":{"type":"Identifier","start":3056,"end":3060,"loc":{"start":{"line":110,"column":15},"end":{"line":110,"column":19}},"name":"file"},"property":{"type":"Identifier","start":3061,"end":3067,"loc":{"start":{"line":110,"column":20},"end":{"line":110,"column":26}},"name":"fileID"},"computed":false},"computed":true},"right":{"type":"MemberExpression","start":3071,"end":3080,"loc":{"start":{"line":110,"column":30},"end":{"line":110,"column":39}},"object":{"type":"Identifier","start":3071,"end":3075,"loc":{"start":{"line":110,"column":30},"end":{"line":110,"column":34}},"name":"file"},"property":{"type":"Identifier","start":3076,"end":3080,"loc":{"start":{"line":110,"column":35},"end":{"line":110,"column":39}},"name":"data"},"computed":false}}}]}}]}},{"type":"ReturnStatement","start":3096,"end":3109,"loc":{"start":{"line":112,"column":6},"end":{"line":112,"column":19}},"argument":{"type":"Identifier","start":3103,"end":3109,"loc":{"start":{"line":112,"column":13},"end":{"line":112,"column":19}},"name":"result"}}]}}]}}]}}},{"type":"MethodDefinition","start":3175,"end":3517,"loc":{"start":{"line":119,"column":2},"end":{"line":129,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3175,"end":3178,"loc":{"start":{"line":119,"column":2},"end":{"line":119,"column":5}},"name":"get"},"value":{"type":"FunctionExpression","start":3179,"end":3517,"loc":{"start":{"line":119,"column":6},"end":{"line":129,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3180,"end":3186,"loc":{"start":{"line":119,"column":7},"end":{"line":119,"column":13}},"name":"fileID"}],"body":{"type":"BlockStatement","start":3188,"end":3517,"loc":{"start":{"line":119,"column":15},"end":{"line":129,"column":3}},"body":[{"type":"ReturnStatement","start":3194,"end":3513,"loc":{"start":{"line":120,"column":4},"end":{"line":128,"column":7}},"argument":{"type":"CallExpression","start":3201,"end":3513,"loc":{"start":{"line":120,"column":11},"end":{"line":128,"column":7}},"callee":{"type":"MemberExpression","start":3201,"end":3431,"loc":{"start":{"line":120,"column":11},"end":{"line":125,"column":11}},"object":{"type":"CallExpression","start":3201,"end":3426,"loc":{"start":{"line":120,"column":11},"end":{"line":125,"column":6}},"callee":{"type":"MemberExpression","start":3201,"end":3216,"loc":{"start":{"line":120,"column":11},"end":{"line":120,"column":26}},"object":{"type":"MemberExpression","start":3201,"end":3211,"loc":{"start":{"line":120,"column":11},"end":{"line":120,"column":21}},"object":{"type":"ThisExpression","start":3201,"end":3205,"loc":{"start":{"line":120,"column":11},"end":{"line":120,"column":15}}},"property":{"type":"Identifier","start":3206,"end":3211,"loc":{"start":{"line":120,"column":16},"end":{"line":120,"column":21}},"name":"ready"},"computed":false},"property":{"type":"Identifier","start":3212,"end":3216,"loc":{"start":{"line":120,"column":22},"end":{"line":120,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3217,"end":3425,"loc":{"start":{"line":120,"column":27},"end":{"line":125,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3218,"end":3220,"loc":{"start":{"line":120,"column":28},"end":{"line":120,"column":30}},"name":"db"}],"body":{"type":"BlockStatement","start":3225,"end":3425,"loc":{"start":{"line":120,"column":35},"end":{"line":125,"column":5}},"body":[{"type":"VariableDeclaration","start":3233,"end":3293,"loc":{"start":{"line":121,"column":6},"end":{"line":121,"column":66}},"declarations":[{"type":"VariableDeclarator","start":3239,"end":3293,"loc":{"start":{"line":121,"column":12},"end":{"line":121,"column":66}},"id":{"type":"Identifier","start":3239,"end":3250,"loc":{"start":{"line":121,"column":12},"end":{"line":121,"column":23}},"name":"transaction"},"init":{"type":"CallExpression","start":3253,"end":3293,"loc":{"start":{"line":121,"column":26},"end":{"line":121,"column":66}},"callee":{"type":"MemberExpression","start":3253,"end":3267,"loc":{"start":{"line":121,"column":26},"end":{"line":121,"column":40}},"object":{"type":"Identifier","start":3253,"end":3255,"loc":{"start":{"line":121,"column":26},"end":{"line":121,"column":28}},"name":"db"},"property":{"type":"Identifier","start":3256,"end":3267,"loc":{"start":{"line":121,"column":29},"end":{"line":121,"column":40}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":3268,"end":3280,"loc":{"start":{"line":121,"column":41},"end":{"line":121,"column":53}},"elements":[{"type":"Identifier","start":3269,"end":3279,"loc":{"start":{"line":121,"column":42},"end":{"line":121,"column":52}},"name":"STORE_NAME"}]},{"type":"Literal","start":3282,"end":3292,"loc":{"start":{"line":121,"column":55},"end":{"line":121,"column":65}},"value":"readonly","raw":"'readonly'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3300,"end":3382,"loc":{"start":{"line":122,"column":6},"end":{"line":123,"column":30}},"declarations":[{"type":"VariableDeclarator","start":3306,"end":3382,"loc":{"start":{"line":122,"column":12},"end":{"line":123,"column":30}},"id":{"type":"Identifier","start":3306,"end":3313,"loc":{"start":{"line":122,"column":12},"end":{"line":122,"column":19}},"name":"request"},"init":{"type":"CallExpression","start":3316,"end":3382,"loc":{"start":{"line":122,"column":22},"end":{"line":123,"column":30}},"callee":{"type":"MemberExpression","start":3316,"end":3364,"loc":{"start":{"line":122,"column":22},"end":{"line":123,"column":12}},"object":{"type":"CallExpression","start":3316,"end":3351,"loc":{"start":{"line":122,"column":22},"end":{"line":122,"column":57}},"callee":{"type":"MemberExpression","start":3316,"end":3339,"loc":{"start":{"line":122,"column":22},"end":{"line":122,"column":45}},"object":{"type":"Identifier","start":3316,"end":3327,"loc":{"start":{"line":122,"column":22},"end":{"line":122,"column":33}},"name":"transaction"},"property":{"type":"Identifier","start":3328,"end":3339,"loc":{"start":{"line":122,"column":34},"end":{"line":122,"column":45}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":3340,"end":3350,"loc":{"start":{"line":122,"column":46},"end":{"line":122,"column":56}},"name":"STORE_NAME"}]},"property":{"type":"Identifier","start":3361,"end":3364,"loc":{"start":{"line":123,"column":9},"end":{"line":123,"column":12}},"name":"get"},"computed":false},"arguments":[{"type":"CallExpression","start":3365,"end":3381,"loc":{"start":{"line":123,"column":13},"end":{"line":123,"column":29}},"callee":{"type":"MemberExpression","start":3365,"end":3373,"loc":{"start":{"line":123,"column":13},"end":{"line":123,"column":21}},"object":{"type":"ThisExpression","start":3365,"end":3369,"loc":{"start":{"line":123,"column":13},"end":{"line":123,"column":17}}},"property":{"type":"Identifier","start":3370,"end":3373,"loc":{"start":{"line":123,"column":18},"end":{"line":123,"column":21}},"name":"key"},"computed":false},"arguments":[{"type":"Identifier","start":3374,"end":3380,"loc":{"start":{"line":123,"column":22},"end":{"line":123,"column":28}},"name":"fileID"}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":3389,"end":3419,"loc":{"start":{"line":124,"column":6},"end":{"line":124,"column":36}},"argument":{"type":"CallExpression","start":3396,"end":3419,"loc":{"start":{"line":124,"column":13},"end":{"line":124,"column":36}},"callee":{"type":"Identifier","start":3396,"end":3410,"loc":{"start":{"line":124,"column":13},"end":{"line":124,"column":27}},"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":3411,"end":3418,"loc":{"start":{"line":124,"column":28},"end":{"line":124,"column":35}},"name":"request"}]}}]}}]},"property":{"type":"Identifier","start":3427,"end":3431,"loc":{"start":{"line":125,"column":7},"end":{"line":125,"column":11}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3432,"end":3512,"loc":{"start":{"line":125,"column":12},"end":{"line":128,"column":6}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3433,"end":3439,"loc":{"start":{"line":125,"column":13},"end":{"line":125,"column":19}},"name":"result"}],"body":{"type":"ObjectExpression","start":3445,"end":3511,"loc":{"start":{"line":125,"column":25},"end":{"line":128,"column":5}},"properties":[{"type":"Property","start":3453,"end":3475,"loc":{"start":{"line":126,"column":6},"end":{"line":126,"column":28}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3453,"end":3455,"loc":{"start":{"line":126,"column":6},"end":{"line":126,"column":8}},"name":"id"},"value":{"type":"MemberExpression","start":3457,"end":3475,"loc":{"start":{"line":126,"column":10},"end":{"line":126,"column":28}},"object":{"type":"MemberExpression","start":3457,"end":3468,"loc":{"start":{"line":126,"column":10},"end":{"line":126,"column":21}},"object":{"type":"Identifier","start":3457,"end":3463,"loc":{"start":{"line":126,"column":10},"end":{"line":126,"column":16}},"name":"result"},"property":{"type":"Identifier","start":3464,"end":3468,"loc":{"start":{"line":126,"column":17},"end":{"line":126,"column":21}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":3469,"end":3475,"loc":{"start":{"line":126,"column":22},"end":{"line":126,"column":28}},"name":"fileID"},"computed":false},"kind":"init"},{"type":"Property","start":3483,"end":3505,"loc":{"start":{"line":127,"column":6},"end":{"line":127,"column":28}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3483,"end":3487,"loc":{"start":{"line":127,"column":6},"end":{"line":127,"column":10}},"name":"data"},"value":{"type":"MemberExpression","start":3489,"end":3505,"loc":{"start":{"line":127,"column":12},"end":{"line":127,"column":28}},"object":{"type":"MemberExpression","start":3489,"end":3500,"loc":{"start":{"line":127,"column":12},"end":{"line":127,"column":23}},"object":{"type":"Identifier","start":3489,"end":3495,"loc":{"start":{"line":127,"column":12},"end":{"line":127,"column":18}},"name":"result"},"property":{"type":"Identifier","start":3496,"end":3500,"loc":{"start":{"line":127,"column":19},"end":{"line":127,"column":23}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":3501,"end":3505,"loc":{"start":{"line":127,"column":24},"end":{"line":127,"column":28}},"name":"data"},"computed":false},"kind":"init"}]}}]}}]}}},{"type":"MethodDefinition","start":3597,"end":4312,"loc":{"start":{"line":136,"column":2},"end":{"line":158,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3597,"end":3604,"loc":{"start":{"line":136,"column":2},"end":{"line":136,"column":9}},"name":"getSize"},"value":{"type":"FunctionExpression","start":3605,"end":4312,"loc":{"start":{"line":136,"column":10},"end":{"line":158,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3608,"end":4312,"loc":{"start":{"line":136,"column":13},"end":{"line":158,"column":3}},"body":[{"type":"ReturnStatement","start":3614,"end":4308,"loc":{"start":{"line":137,"column":4},"end":{"line":157,"column":6}},"argument":{"type":"CallExpression","start":3621,"end":4308,"loc":{"start":{"line":137,"column":11},"end":{"line":157,"column":6}},"callee":{"type":"MemberExpression","start":3621,"end":3636,"loc":{"start":{"line":137,"column":11},"end":{"line":137,"column":26}},"object":{"type":"MemberExpression","start":3621,"end":3631,"loc":{"start":{"line":137,"column":11},"end":{"line":137,"column":21}},"object":{"type":"ThisExpression","start":3621,"end":3625,"loc":{"start":{"line":137,"column":11},"end":{"line":137,"column":15}}},"property":{"type":"Identifier","start":3626,"end":3631,"loc":{"start":{"line":137,"column":16},"end":{"line":137,"column":21}},"name":"ready"},"computed":false},"property":{"type":"Identifier","start":3632,"end":3636,"loc":{"start":{"line":137,"column":22},"end":{"line":137,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3637,"end":4307,"loc":{"start":{"line":137,"column":27},"end":{"line":157,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3638,"end":3640,"loc":{"start":{"line":137,"column":28},"end":{"line":137,"column":30}},"name":"db"}],"body":{"type":"BlockStatement","start":3645,"end":4307,"loc":{"start":{"line":137,"column":35},"end":{"line":157,"column":5}},"body":[{"type":"VariableDeclaration","start":3653,"end":3713,"loc":{"start":{"line":138,"column":6},"end":{"line":138,"column":66}},"declarations":[{"type":"VariableDeclarator","start":3659,"end":3713,"loc":{"start":{"line":138,"column":12},"end":{"line":138,"column":66}},"id":{"type":"Identifier","start":3659,"end":3670,"loc":{"start":{"line":138,"column":12},"end":{"line":138,"column":23}},"name":"transaction"},"init":{"type":"CallExpression","start":3673,"end":3713,"loc":{"start":{"line":138,"column":26},"end":{"line":138,"column":66}},"callee":{"type":"MemberExpression","start":3673,"end":3687,"loc":{"start":{"line":138,"column":26},"end":{"line":138,"column":40}},"object":{"type":"Identifier","start":3673,"end":3675,"loc":{"start":{"line":138,"column":26},"end":{"line":138,"column":28}},"name":"db"},"property":{"type":"Identifier","start":3676,"end":3687,"loc":{"start":{"line":138,"column":29},"end":{"line":138,"column":40}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":3688,"end":3700,"loc":{"start":{"line":138,"column":41},"end":{"line":138,"column":53}},"elements":[{"type":"Identifier","start":3689,"end":3699,"loc":{"start":{"line":138,"column":42},"end":{"line":138,"column":52}},"name":"STORE_NAME"}]},{"type":"Literal","start":3702,"end":3712,"loc":{"start":{"line":138,"column":55},"end":{"line":138,"column":65}},"value":"readonly","raw":"'readonly'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3720,"end":3769,"loc":{"start":{"line":139,"column":6},"end":{"line":139,"column":55}},"declarations":[{"type":"VariableDeclarator","start":3726,"end":3769,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":55}},"id":{"type":"Identifier","start":3726,"end":3731,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":17}},"name":"store"},"init":{"type":"CallExpression","start":3734,"end":3769,"loc":{"start":{"line":139,"column":20},"end":{"line":139,"column":55}},"callee":{"type":"MemberExpression","start":3734,"end":3757,"loc":{"start":{"line":139,"column":20},"end":{"line":139,"column":43}},"object":{"type":"Identifier","start":3734,"end":3745,"loc":{"start":{"line":139,"column":20},"end":{"line":139,"column":31}},"name":"transaction"},"property":{"type":"Identifier","start":3746,"end":3757,"loc":{"start":{"line":139,"column":32},"end":{"line":139,"column":43}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":3758,"end":3768,"loc":{"start":{"line":139,"column":44},"end":{"line":139,"column":54}},"name":"STORE_NAME"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3776,"end":3861,"loc":{"start":{"line":140,"column":6},"end":{"line":141,"column":48}},"declarations":[{"type":"VariableDeclarator","start":3782,"end":3861,"loc":{"start":{"line":140,"column":12},"end":{"line":141,"column":48}},"id":{"type":"Identifier","start":3782,"end":3789,"loc":{"start":{"line":140,"column":12},"end":{"line":140,"column":19}},"name":"request"},"init":{"type":"CallExpression","start":3792,"end":3861,"loc":{"start":{"line":140,"column":22},"end":{"line":141,"column":48}},"callee":{"type":"MemberExpression","start":3792,"end":3832,"loc":{"start":{"line":140,"column":22},"end":{"line":141,"column":19}},"object":{"type":"CallExpression","start":3792,"end":3812,"loc":{"start":{"line":140,"column":22},"end":{"line":140,"column":42}},"callee":{"type":"MemberExpression","start":3792,"end":3803,"loc":{"start":{"line":140,"column":22},"end":{"line":140,"column":33}},"object":{"type":"Identifier","start":3792,"end":3797,"loc":{"start":{"line":140,"column":22},"end":{"line":140,"column":27}},"name":"store"},"property":{"type":"Identifier","start":3798,"end":3803,"loc":{"start":{"line":140,"column":28},"end":{"line":140,"column":33}},"name":"index"},"computed":false},"arguments":[{"type":"Literal","start":3804,"end":3811,"loc":{"start":{"line":140,"column":34},"end":{"line":140,"column":41}},"value":"store","raw":"'store'"}]},"property":{"type":"Identifier","start":3822,"end":3832,"loc":{"start":{"line":141,"column":9},"end":{"line":141,"column":19}},"name":"openCursor"},"computed":false},"arguments":[{"type":"CallExpression","start":3833,"end":3860,"loc":{"start":{"line":141,"column":20},"end":{"line":141,"column":47}},"callee":{"type":"MemberExpression","start":3833,"end":3849,"loc":{"start":{"line":141,"column":20},"end":{"line":141,"column":36}},"object":{"type":"Identifier","start":3833,"end":3844,"loc":{"start":{"line":141,"column":20},"end":{"line":141,"column":31}},"name":"IDBKeyRange"},"property":{"type":"Identifier","start":3845,"end":3849,"loc":{"start":{"line":141,"column":32},"end":{"line":141,"column":36}},"name":"only"},"computed":false},"arguments":[{"type":"MemberExpression","start":3850,"end":3859,"loc":{"start":{"line":141,"column":37},"end":{"line":141,"column":46}},"object":{"type":"ThisExpression","start":3850,"end":3854,"loc":{"start":{"line":141,"column":37},"end":{"line":141,"column":41}}},"property":{"type":"Identifier","start":3855,"end":3859,"loc":{"start":{"line":141,"column":42},"end":{"line":141,"column":46}},"name":"name"},"computed":false}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":3868,"end":4301,"loc":{"start":{"line":142,"column":6},"end":{"line":156,"column":8}},"argument":{"type":"NewExpression","start":3875,"end":4301,"loc":{"start":{"line":142,"column":13},"end":{"line":156,"column":8}},"callee":{"type":"Identifier","start":3879,"end":3886,"loc":{"start":{"line":142,"column":17},"end":{"line":142,"column":24}},"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":3887,"end":4300,"loc":{"start":{"line":142,"column":25},"end":{"line":156,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3888,"end":3895,"loc":{"start":{"line":142,"column":26},"end":{"line":142,"column":33}},"name":"resolve"},{"type":"Identifier","start":3897,"end":3903,"loc":{"start":{"line":142,"column":35},"end":{"line":142,"column":41}},"name":"reject"}],"body":{"type":"BlockStatement","start":3908,"end":4300,"loc":{"start":{"line":142,"column":46},"end":{"line":156,"column":7}},"body":[{"type":"VariableDeclaration","start":3918,"end":3930,"loc":{"start":{"line":143,"column":8},"end":{"line":143,"column":20}},"declarations":[{"type":"VariableDeclarator","start":3922,"end":3930,"loc":{"start":{"line":143,"column":12},"end":{"line":143,"column":20}},"id":{"type":"Identifier","start":3922,"end":3926,"loc":{"start":{"line":143,"column":12},"end":{"line":143,"column":16}},"name":"size"},"init":{"type":"Literal","start":3929,"end":3930,"loc":{"start":{"line":143,"column":19},"end":{"line":143,"column":20}},"value":0,"raw":"0"}}],"kind":"let"},{"type":"ExpressionStatement","start":3939,"end":4180,"loc":{"start":{"line":144,"column":8},"end":{"line":152,"column":9}},"expression":{"type":"AssignmentExpression","start":3939,"end":4180,"loc":{"start":{"line":144,"column":8},"end":{"line":152,"column":9}},"operator":"=","left":{"type":"MemberExpression","start":3939,"end":3956,"loc":{"start":{"line":144,"column":8},"end":{"line":144,"column":25}},"object":{"type":"Identifier","start":3939,"end":3946,"loc":{"start":{"line":144,"column":8},"end":{"line":144,"column":15}},"name":"request"},"property":{"type":"Identifier","start":3947,"end":3956,"loc":{"start":{"line":144,"column":16},"end":{"line":144,"column":25}},"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":3959,"end":4180,"loc":{"start":{"line":144,"column":28},"end":{"line":152,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3960,"end":3965,"loc":{"start":{"line":144,"column":29},"end":{"line":144,"column":34}},"name":"event"}],"body":{"type":"BlockStatement","start":3970,"end":4180,"loc":{"start":{"line":144,"column":39},"end":{"line":152,"column":9}},"body":[{"type":"VariableDeclaration","start":3982,"end":4016,"loc":{"start":{"line":145,"column":10},"end":{"line":145,"column":44}},"declarations":[{"type":"VariableDeclarator","start":3988,"end":4016,"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":44}},"id":{"type":"Identifier","start":3988,"end":3994,"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":22}},"name":"cursor"},"init":{"type":"MemberExpression","start":3997,"end":4016,"loc":{"start":{"line":145,"column":25},"end":{"line":145,"column":44}},"object":{"type":"MemberExpression","start":3997,"end":4009,"loc":{"start":{"line":145,"column":25},"end":{"line":145,"column":37}},"object":{"type":"Identifier","start":3997,"end":4002,"loc":{"start":{"line":145,"column":25},"end":{"line":145,"column":30}},"name":"event"},"property":{"type":"Identifier","start":4003,"end":4009,"loc":{"start":{"line":145,"column":31},"end":{"line":145,"column":37}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":4010,"end":4016,"loc":{"start":{"line":145,"column":38},"end":{"line":145,"column":44}},"name":"result"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":4027,"end":4170,"loc":{"start":{"line":146,"column":10},"end":{"line":151,"column":11}},"test":{"type":"Identifier","start":4031,"end":4037,"loc":{"start":{"line":146,"column":14},"end":{"line":146,"column":20}},"name":"cursor"},"consequent":{"type":"BlockStatement","start":4039,"end":4125,"loc":{"start":{"line":146,"column":22},"end":{"line":149,"column":11}},"body":[{"type":"ExpressionStatement","start":4053,"end":4083,"loc":{"start":{"line":147,"column":12},"end":{"line":147,"column":42}},"expression":{"type":"AssignmentExpression","start":4053,"end":4083,"loc":{"start":{"line":147,"column":12},"end":{"line":147,"column":42}},"operator":"+=","left":{"type":"Identifier","start":4053,"end":4057,"loc":{"start":{"line":147,"column":12},"end":{"line":147,"column":16}},"name":"size"},"right":{"type":"MemberExpression","start":4061,"end":4083,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":42}},"object":{"type":"MemberExpression","start":4061,"end":4078,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":37}},"object":{"type":"MemberExpression","start":4061,"end":4073,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":32}},"object":{"type":"Identifier","start":4061,"end":4067,"loc":{"start":{"line":147,"column":20},"end":{"line":147,"column":26}},"name":"cursor"},"property":{"type":"Identifier","start":4068,"end":4073,"loc":{"start":{"line":147,"column":27},"end":{"line":147,"column":32}},"name":"value"},"computed":false},"property":{"type":"Identifier","start":4074,"end":4078,"loc":{"start":{"line":147,"column":33},"end":{"line":147,"column":37}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":4079,"end":4083,"loc":{"start":{"line":147,"column":38},"end":{"line":147,"column":42}},"name":"size"},"computed":false}}},{"type":"ExpressionStatement","start":4096,"end":4113,"loc":{"start":{"line":148,"column":12},"end":{"line":148,"column":29}},"expression":{"type":"CallExpression","start":4096,"end":4113,"loc":{"start":{"line":148,"column":12},"end":{"line":148,"column":29}},"callee":{"type":"MemberExpression","start":4096,"end":4111,"loc":{"start":{"line":148,"column":12},"end":{"line":148,"column":27}},"object":{"type":"Identifier","start":4096,"end":4102,"loc":{"start":{"line":148,"column":12},"end":{"line":148,"column":18}},"name":"cursor"},"property":{"type":"Identifier","start":4103,"end":4111,"loc":{"start":{"line":148,"column":19},"end":{"line":148,"column":27}},"name":"continue"},"computed":false},"arguments":[]}}]},"alternate":{"type":"BlockStatement","start":4131,"end":4170,"loc":{"start":{"line":149,"column":17},"end":{"line":151,"column":11}},"body":[{"type":"ExpressionStatement","start":4145,"end":4158,"loc":{"start":{"line":150,"column":12},"end":{"line":150,"column":25}},"expression":{"type":"CallExpression","start":4145,"end":4158,"loc":{"start":{"line":150,"column":12},"end":{"line":150,"column":25}},"callee":{"type":"Identifier","start":4145,"end":4152,"loc":{"start":{"line":150,"column":12},"end":{"line":150,"column":19}},"name":"resolve"},"arguments":[{"type":"Identifier","start":4153,"end":4157,"loc":{"start":{"line":150,"column":20},"end":{"line":150,"column":24}},"name":"size"}]}}]}}]}}}},{"type":"ExpressionStatement","start":4189,"end":4292,"loc":{"start":{"line":153,"column":8},"end":{"line":155,"column":9}},"expression":{"type":"AssignmentExpression","start":4189,"end":4292,"loc":{"start":{"line":153,"column":8},"end":{"line":155,"column":9}},"operator":"=","left":{"type":"MemberExpression","start":4189,"end":4204,"loc":{"start":{"line":153,"column":8},"end":{"line":153,"column":23}},"object":{"type":"Identifier","start":4189,"end":4196,"loc":{"start":{"line":153,"column":8},"end":{"line":153,"column":15}},"name":"request"},"property":{"type":"Identifier","start":4197,"end":4204,"loc":{"start":{"line":153,"column":16},"end":{"line":153,"column":23}},"name":"onerror"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":4207,"end":4292,"loc":{"start":{"line":153,"column":26},"end":{"line":155,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4213,"end":4292,"loc":{"start":{"line":153,"column":32},"end":{"line":155,"column":9}},"body":[{"type":"ExpressionStatement","start":4225,"end":4282,"loc":{"start":{"line":154,"column":10},"end":{"line":154,"column":67}},"expression":{"type":"CallExpression","start":4225,"end":4282,"loc":{"start":{"line":154,"column":10},"end":{"line":154,"column":67}},"callee":{"type":"Identifier","start":4225,"end":4231,"loc":{"start":{"line":154,"column":10},"end":{"line":154,"column":16}},"name":"reject"},"arguments":[{"type":"NewExpression","start":4232,"end":4281,"loc":{"start":{"line":154,"column":17},"end":{"line":154,"column":66}},"callee":{"type":"Identifier","start":4236,"end":4241,"loc":{"start":{"line":154,"column":21},"end":{"line":154,"column":26}},"name":"Error"},"arguments":[{"type":"Literal","start":4242,"end":4280,"loc":{"start":{"line":154,"column":27},"end":{"line":154,"column":65}},"value":"Could not retrieve stored blobs size","raw":"'Could not retrieve stored blobs size'"}]}]}}]}}}}]}}]}}]}}]}}]}}},{"type":"MethodDefinition","start":4359,"end":5037,"loc":{"start":{"line":163,"column":2},"end":{"line":183,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":4359,"end":4362,"loc":{"start":{"line":163,"column":2},"end":{"line":163,"column":5}},"name":"put"},"value":{"type":"FunctionExpression","start":4363,"end":5037,"loc":{"start":{"line":163,"column":6},"end":{"line":183,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4364,"end":4368,"loc":{"start":{"line":163,"column":7},"end":{"line":163,"column":11}},"name":"file"}],"body":{"type":"BlockStatement","start":4370,"end":5037,"loc":{"start":{"line":163,"column":13},"end":{"line":183,"column":3}},"body":[{"type":"IfStatement","start":4376,"end":4495,"loc":{"start":{"line":164,"column":4},"end":{"line":166,"column":5}},"test":{"type":"BinaryExpression","start":4380,"end":4418,"loc":{"start":{"line":164,"column":8},"end":{"line":164,"column":46}},"left":{"type":"MemberExpression","start":4380,"end":4394,"loc":{"start":{"line":164,"column":8},"end":{"line":164,"column":22}},"object":{"type":"MemberExpression","start":4380,"end":4389,"loc":{"start":{"line":164,"column":8},"end":{"line":164,"column":17}},"object":{"type":"Identifier","start":4380,"end":4384,"loc":{"start":{"line":164,"column":8},"end":{"line":164,"column":12}},"name":"file"},"property":{"type":"Identifier","start":4385,"end":4389,"loc":{"start":{"line":164,"column":13},"end":{"line":164,"column":17}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":4390,"end":4394,"loc":{"start":{"line":164,"column":18},"end":{"line":164,"column":22}},"name":"size"},"computed":false},"operator":">","right":{"type":"MemberExpression","start":4397,"end":4418,"loc":{"start":{"line":164,"column":25},"end":{"line":164,"column":46}},"object":{"type":"MemberExpression","start":4397,"end":4406,"loc":{"start":{"line":164,"column":25},"end":{"line":164,"column":34}},"object":{"type":"ThisExpression","start":4397,"end":4401,"loc":{"start":{"line":164,"column":25},"end":{"line":164,"column":29}}},"property":{"type":"Identifier","start":4402,"end":4406,"loc":{"start":{"line":164,"column":30},"end":{"line":164,"column":34}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4407,"end":4418,"loc":{"start":{"line":164,"column":35},"end":{"line":164,"column":46}},"name":"maxFileSize"},"computed":false}},"consequent":{"type":"BlockStatement","start":4420,"end":4495,"loc":{"start":{"line":164,"column":48},"end":{"line":166,"column":5}},"body":[{"type":"ReturnStatement","start":4428,"end":4489,"loc":{"start":{"line":165,"column":6},"end":{"line":165,"column":67}},"argument":{"type":"CallExpression","start":4435,"end":4489,"loc":{"start":{"line":165,"column":13},"end":{"line":165,"column":67}},"callee":{"type":"MemberExpression","start":4435,"end":4449,"loc":{"start":{"line":165,"column":13},"end":{"line":165,"column":27}},"object":{"type":"Identifier","start":4435,"end":4442,"loc":{"start":{"line":165,"column":13},"end":{"line":165,"column":20}},"name":"Promise"},"property":{"type":"Identifier","start":4443,"end":4449,"loc":{"start":{"line":165,"column":21},"end":{"line":165,"column":27}},"name":"reject"},"computed":false},"arguments":[{"type":"NewExpression","start":4450,"end":4488,"loc":{"start":{"line":165,"column":28},"end":{"line":165,"column":66}},"callee":{"type":"Identifier","start":4454,"end":4459,"loc":{"start":{"line":165,"column":32},"end":{"line":165,"column":37}},"name":"Error"},"arguments":[{"type":"Literal","start":4460,"end":4487,"loc":{"start":{"line":165,"column":38},"end":{"line":165,"column":65}},"value":"File is too big to store.","raw":"'File is too big to store.'"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":4500,"end":5033,"loc":{"start":{"line":167,"column":4},"end":{"line":182,"column":6}},"argument":{"type":"CallExpression","start":4507,"end":5033,"loc":{"start":{"line":167,"column":11},"end":{"line":182,"column":6}},"callee":{"type":"MemberExpression","start":4507,"end":4683,"loc":{"start":{"line":167,"column":11},"end":{"line":172,"column":11}},"object":{"type":"CallExpression","start":4507,"end":4678,"loc":{"start":{"line":167,"column":11},"end":{"line":172,"column":6}},"callee":{"type":"MemberExpression","start":4507,"end":4526,"loc":{"start":{"line":167,"column":11},"end":{"line":167,"column":30}},"object":{"type":"CallExpression","start":4507,"end":4521,"loc":{"start":{"line":167,"column":11},"end":{"line":167,"column":25}},"callee":{"type":"MemberExpression","start":4507,"end":4519,"loc":{"start":{"line":167,"column":11},"end":{"line":167,"column":23}},"object":{"type":"ThisExpression","start":4507,"end":4511,"loc":{"start":{"line":167,"column":11},"end":{"line":167,"column":15}}},"property":{"type":"Identifier","start":4512,"end":4519,"loc":{"start":{"line":167,"column":16},"end":{"line":167,"column":23}},"name":"getSize"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":4522,"end":4526,"loc":{"start":{"line":167,"column":26},"end":{"line":167,"column":30}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4527,"end":4677,"loc":{"start":{"line":167,"column":31},"end":{"line":172,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4528,"end":4532,"loc":{"start":{"line":167,"column":32},"end":{"line":167,"column":36}},"name":"size"}],"body":{"type":"BlockStatement","start":4537,"end":4677,"loc":{"start":{"line":167,"column":41},"end":{"line":172,"column":5}},"body":[{"type":"IfStatement","start":4545,"end":4647,"loc":{"start":{"line":168,"column":6},"end":{"line":170,"column":7}},"test":{"type":"BinaryExpression","start":4549,"end":4578,"loc":{"start":{"line":168,"column":10},"end":{"line":168,"column":39}},"left":{"type":"Identifier","start":4549,"end":4553,"loc":{"start":{"line":168,"column":10},"end":{"line":168,"column":14}},"name":"size"},"operator":">","right":{"type":"MemberExpression","start":4556,"end":4578,"loc":{"start":{"line":168,"column":17},"end":{"line":168,"column":39}},"object":{"type":"MemberExpression","start":4556,"end":4565,"loc":{"start":{"line":168,"column":17},"end":{"line":168,"column":26}},"object":{"type":"ThisExpression","start":4556,"end":4560,"loc":{"start":{"line":168,"column":17},"end":{"line":168,"column":21}}},"property":{"type":"Identifier","start":4561,"end":4565,"loc":{"start":{"line":168,"column":22},"end":{"line":168,"column":26}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4566,"end":4578,"loc":{"start":{"line":168,"column":27},"end":{"line":168,"column":39}},"name":"maxTotalSize"},"computed":false}},"consequent":{"type":"BlockStatement","start":4580,"end":4647,"loc":{"start":{"line":168,"column":41},"end":{"line":170,"column":7}},"body":[{"type":"ReturnStatement","start":4590,"end":4639,"loc":{"start":{"line":169,"column":8},"end":{"line":169,"column":57}},"argument":{"type":"CallExpression","start":4597,"end":4639,"loc":{"start":{"line":169,"column":15},"end":{"line":169,"column":57}},"callee":{"type":"MemberExpression","start":4597,"end":4611,"loc":{"start":{"line":169,"column":15},"end":{"line":169,"column":29}},"object":{"type":"Identifier","start":4597,"end":4604,"loc":{"start":{"line":169,"column":15},"end":{"line":169,"column":22}},"name":"Promise"},"property":{"type":"Identifier","start":4605,"end":4611,"loc":{"start":{"line":169,"column":23},"end":{"line":169,"column":29}},"name":"reject"},"computed":false},"arguments":[{"type":"NewExpression","start":4612,"end":4638,"loc":{"start":{"line":169,"column":30},"end":{"line":169,"column":56}},"callee":{"type":"Identifier","start":4616,"end":4621,"loc":{"start":{"line":169,"column":34},"end":{"line":169,"column":39}},"name":"Error"},"arguments":[{"type":"Literal","start":4622,"end":4637,"loc":{"start":{"line":169,"column":40},"end":{"line":169,"column":55}},"value":"No space left","raw":"'No space left'"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":4654,"end":4671,"loc":{"start":{"line":171,"column":6},"end":{"line":171,"column":23}},"argument":{"type":"MemberExpression","start":4661,"end":4671,"loc":{"start":{"line":171,"column":13},"end":{"line":171,"column":23}},"object":{"type":"ThisExpression","start":4661,"end":4665,"loc":{"start":{"line":171,"column":13},"end":{"line":171,"column":17}}},"property":{"type":"Identifier","start":4666,"end":4671,"loc":{"start":{"line":171,"column":18},"end":{"line":171,"column":23}},"name":"ready"},"computed":false}}]}}]},"property":{"type":"Identifier","start":4679,"end":4683,"loc":{"start":{"line":172,"column":7},"end":{"line":172,"column":11}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4684,"end":5032,"loc":{"start":{"line":172,"column":12},"end":{"line":182,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4685,"end":4687,"loc":{"start":{"line":172,"column":13},"end":{"line":172,"column":15}},"name":"db"}],"body":{"type":"BlockStatement","start":4692,"end":5032,"loc":{"start":{"line":172,"column":20},"end":{"line":182,"column":5}},"body":[{"type":"VariableDeclaration","start":4700,"end":4761,"loc":{"start":{"line":173,"column":6},"end":{"line":173,"column":67}},"declarations":[{"type":"VariableDeclarator","start":4706,"end":4761,"loc":{"start":{"line":173,"column":12},"end":{"line":173,"column":67}},"id":{"type":"Identifier","start":4706,"end":4717,"loc":{"start":{"line":173,"column":12},"end":{"line":173,"column":23}},"name":"transaction"},"init":{"type":"CallExpression","start":4720,"end":4761,"loc":{"start":{"line":173,"column":26},"end":{"line":173,"column":67}},"callee":{"type":"MemberExpression","start":4720,"end":4734,"loc":{"start":{"line":173,"column":26},"end":{"line":173,"column":40}},"object":{"type":"Identifier","start":4720,"end":4722,"loc":{"start":{"line":173,"column":26},"end":{"line":173,"column":28}},"name":"db"},"property":{"type":"Identifier","start":4723,"end":4734,"loc":{"start":{"line":173,"column":29},"end":{"line":173,"column":40}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":4735,"end":4747,"loc":{"start":{"line":173,"column":41},"end":{"line":173,"column":53}},"elements":[{"type":"Identifier","start":4736,"end":4746,"loc":{"start":{"line":173,"column":42},"end":{"line":173,"column":52}},"name":"STORE_NAME"}]},{"type":"Literal","start":4749,"end":4760,"loc":{"start":{"line":173,"column":55},"end":{"line":173,"column":66}},"value":"readwrite","raw":"'readwrite'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":4768,"end":4989,"loc":{"start":{"line":174,"column":6},"end":{"line":180,"column":8}},"declarations":[{"type":"VariableDeclarator","start":4774,"end":4989,"loc":{"start":{"line":174,"column":12},"end":{"line":180,"column":8}},"id":{"type":"Identifier","start":4774,"end":4781,"loc":{"start":{"line":174,"column":12},"end":{"line":174,"column":19}},"name":"request"},"init":{"type":"CallExpression","start":4784,"end":4989,"loc":{"start":{"line":174,"column":22},"end":{"line":180,"column":8}},"callee":{"type":"MemberExpression","start":4784,"end":4823,"loc":{"start":{"line":174,"column":22},"end":{"line":174,"column":61}},"object":{"type":"CallExpression","start":4784,"end":4819,"loc":{"start":{"line":174,"column":22},"end":{"line":174,"column":57}},"callee":{"type":"MemberExpression","start":4784,"end":4807,"loc":{"start":{"line":174,"column":22},"end":{"line":174,"column":45}},"object":{"type":"Identifier","start":4784,"end":4795,"loc":{"start":{"line":174,"column":22},"end":{"line":174,"column":33}},"name":"transaction"},"property":{"type":"Identifier","start":4796,"end":4807,"loc":{"start":{"line":174,"column":34},"end":{"line":174,"column":45}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":4808,"end":4818,"loc":{"start":{"line":174,"column":46},"end":{"line":174,"column":56}},"name":"STORE_NAME"}]},"property":{"type":"Identifier","start":4820,"end":4823,"loc":{"start":{"line":174,"column":58},"end":{"line":174,"column":61}},"name":"add"},"computed":false},"arguments":[{"type":"ObjectExpression","start":4824,"end":4988,"loc":{"start":{"line":174,"column":62},"end":{"line":180,"column":7}},"properties":[{"type":"Property","start":4834,"end":4855,"loc":{"start":{"line":175,"column":8},"end":{"line":175,"column":29}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4834,"end":4836,"loc":{"start":{"line":175,"column":8},"end":{"line":175,"column":10}},"name":"id"},"value":{"type":"CallExpression","start":4838,"end":4855,"loc":{"start":{"line":175,"column":12},"end":{"line":175,"column":29}},"callee":{"type":"MemberExpression","start":4838,"end":4846,"loc":{"start":{"line":175,"column":12},"end":{"line":175,"column":20}},"object":{"type":"ThisExpression","start":4838,"end":4842,"loc":{"start":{"line":175,"column":12},"end":{"line":175,"column":16}}},"property":{"type":"Identifier","start":4843,"end":4846,"loc":{"start":{"line":175,"column":17},"end":{"line":175,"column":20}},"name":"key"},"computed":false},"arguments":[{"type":"MemberExpression","start":4847,"end":4854,"loc":{"start":{"line":175,"column":21},"end":{"line":175,"column":28}},"object":{"type":"Identifier","start":4847,"end":4851,"loc":{"start":{"line":175,"column":21},"end":{"line":175,"column":25}},"name":"file"},"property":{"type":"Identifier","start":4852,"end":4854,"loc":{"start":{"line":175,"column":26},"end":{"line":175,"column":28}},"name":"id"},"computed":false}]},"kind":"init"},{"type":"Property","start":4865,"end":4880,"loc":{"start":{"line":176,"column":8},"end":{"line":176,"column":23}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4865,"end":4871,"loc":{"start":{"line":176,"column":8},"end":{"line":176,"column":14}},"name":"fileID"},"value":{"type":"MemberExpression","start":4873,"end":4880,"loc":{"start":{"line":176,"column":16},"end":{"line":176,"column":23}},"object":{"type":"Identifier","start":4873,"end":4877,"loc":{"start":{"line":176,"column":16},"end":{"line":176,"column":20}},"name":"file"},"property":{"type":"Identifier","start":4878,"end":4880,"loc":{"start":{"line":176,"column":21},"end":{"line":176,"column":23}},"name":"id"},"computed":false},"kind":"init"},{"type":"Property","start":4890,"end":4906,"loc":{"start":{"line":177,"column":8},"end":{"line":177,"column":24}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4890,"end":4895,"loc":{"start":{"line":177,"column":8},"end":{"line":177,"column":13}},"name":"store"},"value":{"type":"MemberExpression","start":4897,"end":4906,"loc":{"start":{"line":177,"column":15},"end":{"line":177,"column":24}},"object":{"type":"ThisExpression","start":4897,"end":4901,"loc":{"start":{"line":177,"column":15},"end":{"line":177,"column":19}}},"property":{"type":"Identifier","start":4902,"end":4906,"loc":{"start":{"line":177,"column":20},"end":{"line":177,"column":24}},"name":"name"},"computed":false},"kind":"init"},{"type":"Property","start":4916,"end":4955,"loc":{"start":{"line":178,"column":8},"end":{"line":178,"column":47}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4916,"end":4923,"loc":{"start":{"line":178,"column":8},"end":{"line":178,"column":15}},"name":"expires"},"value":{"type":"BinaryExpression","start":4925,"end":4955,"loc":{"start":{"line":178,"column":17},"end":{"line":178,"column":47}},"left":{"type":"CallExpression","start":4925,"end":4935,"loc":{"start":{"line":178,"column":17},"end":{"line":178,"column":27}},"callee":{"type":"MemberExpression","start":4925,"end":4933,"loc":{"start":{"line":178,"column":17},"end":{"line":178,"column":25}},"object":{"type":"Identifier","start":4925,"end":4929,"loc":{"start":{"line":178,"column":17},"end":{"line":178,"column":21}},"name":"Date"},"property":{"type":"Identifier","start":4930,"end":4933,"loc":{"start":{"line":178,"column":22},"end":{"line":178,"column":25}},"name":"now"},"computed":false},"arguments":[]},"operator":"+","right":{"type":"MemberExpression","start":4938,"end":4955,"loc":{"start":{"line":178,"column":30},"end":{"line":178,"column":47}},"object":{"type":"MemberExpression","start":4938,"end":4947,"loc":{"start":{"line":178,"column":30},"end":{"line":178,"column":39}},"object":{"type":"ThisExpression","start":4938,"end":4942,"loc":{"start":{"line":178,"column":30},"end":{"line":178,"column":34}}},"property":{"type":"Identifier","start":4943,"end":4947,"loc":{"start":{"line":178,"column":35},"end":{"line":178,"column":39}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4948,"end":4955,"loc":{"start":{"line":178,"column":40},"end":{"line":178,"column":47}},"name":"expires"},"computed":false}},"kind":"init"},{"type":"Property","start":4965,"end":4980,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":23}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4965,"end":4969,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":12}},"name":"data"},"value":{"type":"MemberExpression","start":4971,"end":4980,"loc":{"start":{"line":179,"column":14},"end":{"line":179,"column":23}},"object":{"type":"Identifier","start":4971,"end":4975,"loc":{"start":{"line":179,"column":14},"end":{"line":179,"column":18}},"name":"file"},"property":{"type":"Identifier","start":4976,"end":4980,"loc":{"start":{"line":179,"column":19},"end":{"line":179,"column":23}},"name":"data"},"computed":false},"kind":"init"}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":4996,"end":5026,"loc":{"start":{"line":181,"column":6},"end":{"line":181,"column":36}},"argument":{"type":"CallExpression","start":5003,"end":5026,"loc":{"start":{"line":181,"column":13},"end":{"line":181,"column":36}},"callee":{"type":"Identifier","start":5003,"end":5017,"loc":{"start":{"line":181,"column":13},"end":{"line":181,"column":27}},"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":5018,"end":5025,"loc":{"start":{"line":181,"column":28},"end":{"line":181,"column":35}},"name":"request"}]}}]}}]}}]}}},{"type":"MethodDefinition","start":5093,"end":5355,"loc":{"start":{"line":188,"column":2},"end":{"line":195,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":5093,"end":5099,"loc":{"start":{"line":188,"column":2},"end":{"line":188,"column":8}},"name":"delete"},"value":{"type":"FunctionExpression","start":5100,"end":5355,"loc":{"start":{"line":188,"column":9},"end":{"line":195,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5101,"end":5107,"loc":{"start":{"line":188,"column":10},"end":{"line":188,"column":16}},"name":"fileID"}],"body":{"type":"BlockStatement","start":5109,"end":5355,"loc":{"start":{"line":188,"column":18},"end":{"line":195,"column":3}},"body":[{"type":"ReturnStatement","start":5115,"end":5351,"loc":{"start":{"line":189,"column":4},"end":{"line":194,"column":6}},"argument":{"type":"CallExpression","start":5122,"end":5351,"loc":{"start":{"line":189,"column":11},"end":{"line":194,"column":6}},"callee":{"type":"MemberExpression","start":5122,"end":5137,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":26}},"object":{"type":"MemberExpression","start":5122,"end":5132,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":21}},"object":{"type":"ThisExpression","start":5122,"end":5126,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":15}}},"property":{"type":"Identifier","start":5127,"end":5132,"loc":{"start":{"line":189,"column":16},"end":{"line":189,"column":21}},"name":"ready"},"computed":false},"property":{"type":"Identifier","start":5133,"end":5137,"loc":{"start":{"line":189,"column":22},"end":{"line":189,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":5138,"end":5350,"loc":{"start":{"line":189,"column":27},"end":{"line":194,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5139,"end":5141,"loc":{"start":{"line":189,"column":28},"end":{"line":189,"column":30}},"name":"db"}],"body":{"type":"BlockStatement","start":5146,"end":5350,"loc":{"start":{"line":189,"column":35},"end":{"line":194,"column":5}},"body":[{"type":"VariableDeclaration","start":5154,"end":5215,"loc":{"start":{"line":190,"column":6},"end":{"line":190,"column":67}},"declarations":[{"type":"VariableDeclarator","start":5160,"end":5215,"loc":{"start":{"line":190,"column":12},"end":{"line":190,"column":67}},"id":{"type":"Identifier","start":5160,"end":5171,"loc":{"start":{"line":190,"column":12},"end":{"line":190,"column":23}},"name":"transaction"},"init":{"type":"CallExpression","start":5174,"end":5215,"loc":{"start":{"line":190,"column":26},"end":{"line":190,"column":67}},"callee":{"type":"MemberExpression","start":5174,"end":5188,"loc":{"start":{"line":190,"column":26},"end":{"line":190,"column":40}},"object":{"type":"Identifier","start":5174,"end":5176,"loc":{"start":{"line":190,"column":26},"end":{"line":190,"column":28}},"name":"db"},"property":{"type":"Identifier","start":5177,"end":5188,"loc":{"start":{"line":190,"column":29},"end":{"line":190,"column":40}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":5189,"end":5201,"loc":{"start":{"line":190,"column":41},"end":{"line":190,"column":53}},"elements":[{"type":"Identifier","start":5190,"end":5200,"loc":{"start":{"line":190,"column":42},"end":{"line":190,"column":52}},"name":"STORE_NAME"}]},{"type":"Literal","start":5203,"end":5214,"loc":{"start":{"line":190,"column":55},"end":{"line":190,"column":66}},"value":"readwrite","raw":"'readwrite'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5222,"end":5307,"loc":{"start":{"line":191,"column":6},"end":{"line":192,"column":33}},"declarations":[{"type":"VariableDeclarator","start":5228,"end":5307,"loc":{"start":{"line":191,"column":12},"end":{"line":192,"column":33}},"id":{"type":"Identifier","start":5228,"end":5235,"loc":{"start":{"line":191,"column":12},"end":{"line":191,"column":19}},"name":"request"},"init":{"type":"CallExpression","start":5238,"end":5307,"loc":{"start":{"line":191,"column":22},"end":{"line":192,"column":33}},"callee":{"type":"MemberExpression","start":5238,"end":5289,"loc":{"start":{"line":191,"column":22},"end":{"line":192,"column":15}},"object":{"type":"CallExpression","start":5238,"end":5273,"loc":{"start":{"line":191,"column":22},"end":{"line":191,"column":57}},"callee":{"type":"MemberExpression","start":5238,"end":5261,"loc":{"start":{"line":191,"column":22},"end":{"line":191,"column":45}},"object":{"type":"Identifier","start":5238,"end":5249,"loc":{"start":{"line":191,"column":22},"end":{"line":191,"column":33}},"name":"transaction"},"property":{"type":"Identifier","start":5250,"end":5261,"loc":{"start":{"line":191,"column":34},"end":{"line":191,"column":45}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":5262,"end":5272,"loc":{"start":{"line":191,"column":46},"end":{"line":191,"column":56}},"name":"STORE_NAME"}]},"property":{"type":"Identifier","start":5283,"end":5289,"loc":{"start":{"line":192,"column":9},"end":{"line":192,"column":15}},"name":"delete"},"computed":false},"arguments":[{"type":"CallExpression","start":5290,"end":5306,"loc":{"start":{"line":192,"column":16},"end":{"line":192,"column":32}},"callee":{"type":"MemberExpression","start":5290,"end":5298,"loc":{"start":{"line":192,"column":16},"end":{"line":192,"column":24}},"object":{"type":"ThisExpression","start":5290,"end":5294,"loc":{"start":{"line":192,"column":16},"end":{"line":192,"column":20}}},"property":{"type":"Identifier","start":5295,"end":5298,"loc":{"start":{"line":192,"column":21},"end":{"line":192,"column":24}},"name":"key"},"computed":false},"arguments":[{"type":"Identifier","start":5299,"end":5305,"loc":{"start":{"line":192,"column":25},"end":{"line":192,"column":31}},"name":"fileID"}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":5314,"end":5344,"loc":{"start":{"line":193,"column":6},"end":{"line":193,"column":36}},"argument":{"type":"CallExpression","start":5321,"end":5344,"loc":{"start":{"line":193,"column":13},"end":{"line":193,"column":36}},"callee":{"type":"Identifier","start":5321,"end":5335,"loc":{"start":{"line":193,"column":13},"end":{"line":193,"column":27}},"name":"waitForRequest"},"arguments":[{"type":"Identifier","start":5336,"end":5343,"loc":{"start":{"line":193,"column":28},"end":{"line":193,"column":35}},"name":"request"}]}}]}}]}}]}}},{"type":"MethodDefinition","start":5541,"end":6506,"loc":{"start":{"line":201,"column":2},"end":{"line":227,"column":3}},"kind":"method","static":true,"computed":false,"key":{"type":"Identifier","start":5548,"end":5555,"loc":{"start":{"line":201,"column":9},"end":{"line":201,"column":16}},"name":"cleanup"},"value":{"type":"FunctionExpression","start":5556,"end":6506,"loc":{"start":{"line":201,"column":17},"end":{"line":227,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":5559,"end":6506,"loc":{"start":{"line":201,"column":20},"end":{"line":227,"column":3}},"body":[{"type":"ReturnStatement","start":5565,"end":6502,"loc":{"start":{"line":202,"column":4},"end":{"line":226,"column":6}},"argument":{"type":"CallExpression","start":5572,"end":6502,"loc":{"start":{"line":202,"column":11},"end":{"line":226,"column":6}},"callee":{"type":"MemberExpression","start":5572,"end":6468,"loc":{"start":{"line":202,"column":11},"end":{"line":224,"column":11}},"object":{"type":"CallExpression","start":5572,"end":6463,"loc":{"start":{"line":202,"column":11},"end":{"line":224,"column":6}},"callee":{"type":"MemberExpression","start":5572,"end":5593,"loc":{"start":{"line":202,"column":11},"end":{"line":202,"column":32}},"object":{"type":"CallExpression","start":5572,"end":5588,"loc":{"start":{"line":202,"column":11},"end":{"line":202,"column":27}},"callee":{"type":"Identifier","start":5572,"end":5579,"loc":{"start":{"line":202,"column":11},"end":{"line":202,"column":18}},"name":"connect"},"arguments":[{"type":"Identifier","start":5580,"end":5587,"loc":{"start":{"line":202,"column":19},"end":{"line":202,"column":26}},"name":"DB_NAME"}]},"property":{"type":"Identifier","start":5589,"end":5593,"loc":{"start":{"line":202,"column":28},"end":{"line":202,"column":32}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":5594,"end":6462,"loc":{"start":{"line":202,"column":33},"end":{"line":224,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5595,"end":5597,"loc":{"start":{"line":202,"column":34},"end":{"line":202,"column":36}},"name":"db"}],"body":{"type":"BlockStatement","start":5602,"end":6462,"loc":{"start":{"line":202,"column":41},"end":{"line":224,"column":5}},"body":[{"type":"VariableDeclaration","start":5610,"end":5671,"loc":{"start":{"line":203,"column":6},"end":{"line":203,"column":67}},"declarations":[{"type":"VariableDeclarator","start":5616,"end":5671,"loc":{"start":{"line":203,"column":12},"end":{"line":203,"column":67}},"id":{"type":"Identifier","start":5616,"end":5627,"loc":{"start":{"line":203,"column":12},"end":{"line":203,"column":23}},"name":"transaction"},"init":{"type":"CallExpression","start":5630,"end":5671,"loc":{"start":{"line":203,"column":26},"end":{"line":203,"column":67}},"callee":{"type":"MemberExpression","start":5630,"end":5644,"loc":{"start":{"line":203,"column":26},"end":{"line":203,"column":40}},"object":{"type":"Identifier","start":5630,"end":5632,"loc":{"start":{"line":203,"column":26},"end":{"line":203,"column":28}},"name":"db"},"property":{"type":"Identifier","start":5633,"end":5644,"loc":{"start":{"line":203,"column":29},"end":{"line":203,"column":40}},"name":"transaction"},"computed":false},"arguments":[{"type":"ArrayExpression","start":5645,"end":5657,"loc":{"start":{"line":203,"column":41},"end":{"line":203,"column":53}},"elements":[{"type":"Identifier","start":5646,"end":5656,"loc":{"start":{"line":203,"column":42},"end":{"line":203,"column":52}},"name":"STORE_NAME"}]},{"type":"Literal","start":5659,"end":5670,"loc":{"start":{"line":203,"column":55},"end":{"line":203,"column":66}},"value":"readwrite","raw":"'readwrite'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5678,"end":5727,"loc":{"start":{"line":204,"column":6},"end":{"line":204,"column":55}},"declarations":[{"type":"VariableDeclarator","start":5684,"end":5727,"loc":{"start":{"line":204,"column":12},"end":{"line":204,"column":55}},"id":{"type":"Identifier","start":5684,"end":5689,"loc":{"start":{"line":204,"column":12},"end":{"line":204,"column":17}},"name":"store"},"init":{"type":"CallExpression","start":5692,"end":5727,"loc":{"start":{"line":204,"column":20},"end":{"line":204,"column":55}},"callee":{"type":"MemberExpression","start":5692,"end":5715,"loc":{"start":{"line":204,"column":20},"end":{"line":204,"column":43}},"object":{"type":"Identifier","start":5692,"end":5703,"loc":{"start":{"line":204,"column":20},"end":{"line":204,"column":31}},"name":"transaction"},"property":{"type":"Identifier","start":5704,"end":5715,"loc":{"start":{"line":204,"column":32},"end":{"line":204,"column":43}},"name":"objectStore"},"computed":false},"arguments":[{"type":"Identifier","start":5716,"end":5726,"loc":{"start":{"line":204,"column":44},"end":{"line":204,"column":54}},"name":"STORE_NAME"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5734,"end":5828,"loc":{"start":{"line":205,"column":6},"end":{"line":206,"column":55}},"declarations":[{"type":"VariableDeclarator","start":5740,"end":5828,"loc":{"start":{"line":205,"column":12},"end":{"line":206,"column":55}},"id":{"type":"Identifier","start":5740,"end":5747,"loc":{"start":{"line":205,"column":12},"end":{"line":205,"column":19}},"name":"request"},"init":{"type":"CallExpression","start":5750,"end":5828,"loc":{"start":{"line":205,"column":22},"end":{"line":206,"column":55}},"callee":{"type":"MemberExpression","start":5750,"end":5792,"loc":{"start":{"line":205,"column":22},"end":{"line":206,"column":19}},"object":{"type":"CallExpression","start":5750,"end":5772,"loc":{"start":{"line":205,"column":22},"end":{"line":205,"column":44}},"callee":{"type":"MemberExpression","start":5750,"end":5761,"loc":{"start":{"line":205,"column":22},"end":{"line":205,"column":33}},"object":{"type":"Identifier","start":5750,"end":5755,"loc":{"start":{"line":205,"column":22},"end":{"line":205,"column":27}},"name":"store"},"property":{"type":"Identifier","start":5756,"end":5761,"loc":{"start":{"line":205,"column":28},"end":{"line":205,"column":33}},"name":"index"},"computed":false},"arguments":[{"type":"Literal","start":5762,"end":5771,"loc":{"start":{"line":205,"column":34},"end":{"line":205,"column":43}},"value":"expires","raw":"'expires'"}]},"property":{"type":"Identifier","start":5782,"end":5792,"loc":{"start":{"line":206,"column":9},"end":{"line":206,"column":19}},"name":"openCursor"},"computed":false},"arguments":[{"type":"CallExpression","start":5793,"end":5827,"loc":{"start":{"line":206,"column":20},"end":{"line":206,"column":54}},"callee":{"type":"MemberExpression","start":5793,"end":5815,"loc":{"start":{"line":206,"column":20},"end":{"line":206,"column":42}},"object":{"type":"Identifier","start":5793,"end":5804,"loc":{"start":{"line":206,"column":20},"end":{"line":206,"column":31}},"name":"IDBKeyRange"},"property":{"type":"Identifier","start":5805,"end":5815,"loc":{"start":{"line":206,"column":32},"end":{"line":206,"column":42}},"name":"upperBound"},"computed":false},"arguments":[{"type":"CallExpression","start":5816,"end":5826,"loc":{"start":{"line":206,"column":43},"end":{"line":206,"column":53}},"callee":{"type":"MemberExpression","start":5816,"end":5824,"loc":{"start":{"line":206,"column":43},"end":{"line":206,"column":51}},"object":{"type":"Identifier","start":5816,"end":5820,"loc":{"start":{"line":206,"column":43},"end":{"line":206,"column":47}},"name":"Date"},"property":{"type":"Identifier","start":5821,"end":5824,"loc":{"start":{"line":206,"column":48},"end":{"line":206,"column":51}},"name":"now"},"computed":false},"arguments":[]}]}]}}],"kind":"const"},{"type":"ReturnStatement","start":5835,"end":6456,"loc":{"start":{"line":207,"column":6},"end":{"line":223,"column":8}},"argument":{"type":"NewExpression","start":5842,"end":6456,"loc":{"start":{"line":207,"column":13},"end":{"line":223,"column":8}},"callee":{"type":"Identifier","start":5846,"end":5853,"loc":{"start":{"line":207,"column":17},"end":{"line":207,"column":24}},"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":5854,"end":6455,"loc":{"start":{"line":207,"column":25},"end":{"line":223,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5855,"end":5862,"loc":{"start":{"line":207,"column":26},"end":{"line":207,"column":33}},"name":"resolve"},{"type":"Identifier","start":5864,"end":5870,"loc":{"start":{"line":207,"column":35},"end":{"line":207,"column":41}},"name":"reject"}],"body":{"type":"BlockStatement","start":5875,"end":6455,"loc":{"start":{"line":207,"column":46},"end":{"line":223,"column":7}},"body":[{"type":"ExpressionStatement","start":5885,"end":6414,"loc":{"start":{"line":208,"column":8},"end":{"line":221,"column":9}},"expression":{"type":"AssignmentExpression","start":5885,"end":6414,"loc":{"start":{"line":208,"column":8},"end":{"line":221,"column":9}},"operator":"=","left":{"type":"MemberExpression","start":5885,"end":5902,"loc":{"start":{"line":208,"column":8},"end":{"line":208,"column":25}},"object":{"type":"Identifier","start":5885,"end":5892,"loc":{"start":{"line":208,"column":8},"end":{"line":208,"column":15}},"name":"request"},"property":{"type":"Identifier","start":5893,"end":5902,"loc":{"start":{"line":208,"column":16},"end":{"line":208,"column":25}},"name":"onsuccess"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":5905,"end":6414,"loc":{"start":{"line":208,"column":28},"end":{"line":221,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5906,"end":5911,"loc":{"start":{"line":208,"column":29},"end":{"line":208,"column":34}},"name":"event"}],"body":{"type":"BlockStatement","start":5916,"end":6414,"loc":{"start":{"line":208,"column":39},"end":{"line":221,"column":9}},"body":[{"type":"VariableDeclaration","start":5928,"end":5962,"loc":{"start":{"line":209,"column":10},"end":{"line":209,"column":44}},"declarations":[{"type":"VariableDeclarator","start":5934,"end":5962,"loc":{"start":{"line":209,"column":16},"end":{"line":209,"column":44}},"id":{"type":"Identifier","start":5934,"end":5940,"loc":{"start":{"line":209,"column":16},"end":{"line":209,"column":22}},"name":"cursor"},"init":{"type":"MemberExpression","start":5943,"end":5962,"loc":{"start":{"line":209,"column":25},"end":{"line":209,"column":44}},"object":{"type":"MemberExpression","start":5943,"end":5955,"loc":{"start":{"line":209,"column":25},"end":{"line":209,"column":37}},"object":{"type":"Identifier","start":5943,"end":5948,"loc":{"start":{"line":209,"column":25},"end":{"line":209,"column":30}},"name":"event"},"property":{"type":"Identifier","start":5949,"end":5955,"loc":{"start":{"line":209,"column":31},"end":{"line":209,"column":37}},"name":"target"},"computed":false},"property":{"type":"Identifier","start":5956,"end":5962,"loc":{"start":{"line":209,"column":38},"end":{"line":209,"column":44}},"name":"result"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":5973,"end":6404,"loc":{"start":{"line":210,"column":10},"end":{"line":220,"column":11}},"test":{"type":"Identifier","start":5977,"end":5983,"loc":{"start":{"line":210,"column":14},"end":{"line":210,"column":20}},"name":"cursor"},"consequent":{"type":"BlockStatement","start":5985,"end":6361,"loc":{"start":{"line":210,"column":22},"end":{"line":218,"column":11}},"body":[{"type":"VariableDeclaration","start":5999,"end":6025,"loc":{"start":{"line":211,"column":12},"end":{"line":211,"column":38}},"declarations":[{"type":"VariableDeclarator","start":6005,"end":6025,"loc":{"start":{"line":211,"column":18},"end":{"line":211,"column":38}},"id":{"type":"Identifier","start":6005,"end":6010,"loc":{"start":{"line":211,"column":18},"end":{"line":211,"column":23}},"name":"entry"},"init":{"type":"MemberExpression","start":6013,"end":6025,"loc":{"start":{"line":211,"column":26},"end":{"line":211,"column":38}},"object":{"type":"Identifier","start":6013,"end":6019,"loc":{"start":{"line":211,"column":26},"end":{"line":211,"column":32}},"name":"cursor"},"property":{"type":"Identifier","start":6020,"end":6025,"loc":{"start":{"line":211,"column":33},"end":{"line":211,"column":38}},"name":"value"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":6038,"end":6226,"loc":{"start":{"line":212,"column":12},"end":{"line":215,"column":54}},"expression":{"type":"CallExpression","start":6038,"end":6226,"loc":{"start":{"line":212,"column":12},"end":{"line":215,"column":54}},"callee":{"type":"MemberExpression","start":6038,"end":6049,"loc":{"start":{"line":212,"column":12},"end":{"line":212,"column":23}},"object":{"type":"Identifier","start":6038,"end":6045,"loc":{"start":{"line":212,"column":12},"end":{"line":212,"column":19}},"name":"console"},"property":{"type":"Identifier","start":6046,"end":6049,"loc":{"start":{"line":212,"column":20},"end":{"line":212,"column":23}},"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":6065,"end":6099,"loc":{"start":{"line":213,"column":14},"end":{"line":213,"column":48}},"value":"[IndexedDBStore] Deleting record","raw":"'[IndexedDBStore] Deleting record'"},{"type":"MemberExpression","start":6101,"end":6113,"loc":{"start":{"line":213,"column":50},"end":{"line":213,"column":62}},"object":{"type":"Identifier","start":6101,"end":6106,"loc":{"start":{"line":213,"column":50},"end":{"line":213,"column":55}},"name":"entry"},"property":{"type":"Identifier","start":6107,"end":6113,"loc":{"start":{"line":213,"column":56},"end":{"line":213,"column":62}},"name":"fileID"},"computed":false},{"type":"Literal","start":6129,"end":6138,"loc":{"start":{"line":214,"column":14},"end":{"line":214,"column":23}},"value":"of size","raw":"'of size'"},{"type":"CallExpression","start":6140,"end":6170,"loc":{"start":{"line":214,"column":25},"end":{"line":214,"column":55}},"callee":{"type":"Identifier","start":6140,"end":6153,"loc":{"start":{"line":214,"column":25},"end":{"line":214,"column":38}},"name":"prettierBytes"},"arguments":[{"type":"MemberExpression","start":6154,"end":6169,"loc":{"start":{"line":214,"column":39},"end":{"line":214,"column":54}},"object":{"type":"MemberExpression","start":6154,"end":6164,"loc":{"start":{"line":214,"column":39},"end":{"line":214,"column":49}},"object":{"type":"Identifier","start":6154,"end":6159,"loc":{"start":{"line":214,"column":39},"end":{"line":214,"column":44}},"name":"entry"},"property":{"type":"Identifier","start":6160,"end":6164,"loc":{"start":{"line":214,"column":45},"end":{"line":214,"column":49}},"name":"data"},"computed":false},"property":{"type":"Identifier","start":6165,"end":6169,"loc":{"start":{"line":214,"column":50},"end":{"line":214,"column":54}},"name":"size"},"computed":false}]},{"type":"Literal","start":6186,"end":6200,"loc":{"start":{"line":215,"column":14},"end":{"line":215,"column":28}},"value":"- expired on","raw":"'- expired on'"},{"type":"NewExpression","start":6202,"end":6225,"loc":{"start":{"line":215,"column":30},"end":{"line":215,"column":53}},"callee":{"type":"Identifier","start":6206,"end":6210,"loc":{"start":{"line":215,"column":34},"end":{"line":215,"column":38}},"name":"Date"},"arguments":[{"type":"MemberExpression","start":6211,"end":6224,"loc":{"start":{"line":215,"column":39},"end":{"line":215,"column":52}},"object":{"type":"Identifier","start":6211,"end":6216,"loc":{"start":{"line":215,"column":39},"end":{"line":215,"column":44}},"name":"entry"},"property":{"type":"Identifier","start":6217,"end":6224,"loc":{"start":{"line":215,"column":45},"end":{"line":215,"column":52}},"name":"expires"},"computed":false}]}]}},{"type":"ExpressionStatement","start":6239,"end":6254,"loc":{"start":{"line":216,"column":12},"end":{"line":216,"column":27}},"expression":{"type":"CallExpression","start":6239,"end":6254,"loc":{"start":{"line":216,"column":12},"end":{"line":216,"column":27}},"callee":{"type":"MemberExpression","start":6239,"end":6252,"loc":{"start":{"line":216,"column":12},"end":{"line":216,"column":25}},"object":{"type":"Identifier","start":6239,"end":6245,"loc":{"start":{"line":216,"column":12},"end":{"line":216,"column":18}},"name":"cursor"},"property":{"type":"Identifier","start":6246,"end":6252,"loc":{"start":{"line":216,"column":19},"end":{"line":216,"column":25}},"name":"delete"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":6332,"end":6349,"loc":{"start":{"line":217,"column":12},"end":{"line":217,"column":29}},"expression":{"type":"CallExpression","start":6332,"end":6349,"loc":{"start":{"line":217,"column":12},"end":{"line":217,"column":29}},"callee":{"type":"MemberExpression","start":6332,"end":6347,"loc":{"start":{"line":217,"column":12},"end":{"line":217,"column":27}},"object":{"type":"Identifier","start":6332,"end":6338,"loc":{"start":{"line":217,"column":12},"end":{"line":217,"column":18}},"name":"cursor"},"property":{"type":"Identifier","start":6339,"end":6347,"loc":{"start":{"line":217,"column":19},"end":{"line":217,"column":27}},"name":"continue"},"computed":false},"arguments":[]}}]},"alternate":{"type":"BlockStatement","start":6367,"end":6404,"loc":{"start":{"line":218,"column":17},"end":{"line":220,"column":11}},"body":[{"type":"ExpressionStatement","start":6381,"end":6392,"loc":{"start":{"line":219,"column":12},"end":{"line":219,"column":23}},"expression":{"type":"CallExpression","start":6381,"end":6392,"loc":{"start":{"line":219,"column":12},"end":{"line":219,"column":23}},"callee":{"type":"Identifier","start":6381,"end":6388,"loc":{"start":{"line":219,"column":12},"end":{"line":219,"column":19}},"name":"resolve"},"arguments":[{"type":"Identifier","start":6389,"end":6391,"loc":{"start":{"line":219,"column":20},"end":{"line":219,"column":22}},"name":"db"}]}}]}}]}}}},{"type":"ExpressionStatement","start":6423,"end":6447,"loc":{"start":{"line":222,"column":8},"end":{"line":222,"column":32}},"expression":{"type":"AssignmentExpression","start":6423,"end":6447,"loc":{"start":{"line":222,"column":8},"end":{"line":222,"column":32}},"operator":"=","left":{"type":"MemberExpression","start":6423,"end":6438,"loc":{"start":{"line":222,"column":8},"end":{"line":222,"column":23}},"object":{"type":"Identifier","start":6423,"end":6430,"loc":{"start":{"line":222,"column":8},"end":{"line":222,"column":15}},"name":"request"},"property":{"type":"Identifier","start":6431,"end":6438,"loc":{"start":{"line":222,"column":16},"end":{"line":222,"column":23}},"name":"onerror"},"computed":false},"right":{"type":"Identifier","start":6441,"end":6447,"loc":{"start":{"line":222,"column":26},"end":{"line":222,"column":32}},"name":"reject"}}}]}}]}}]}}]},"property":{"type":"Identifier","start":6464,"end":6468,"loc":{"start":{"line":224,"column":7},"end":{"line":224,"column":11}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":6469,"end":6501,"loc":{"start":{"line":224,"column":12},"end":{"line":226,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6470,"end":6472,"loc":{"start":{"line":224,"column":13},"end":{"line":224,"column":15}},"name":"db"}],"body":{"type":"BlockStatement","start":6477,"end":6501,"loc":{"start":{"line":224,"column":20},"end":{"line":226,"column":5}},"body":[{"type":"ExpressionStatement","start":6485,"end":6495,"loc":{"start":{"line":225,"column":6},"end":{"line":225,"column":16}},"expression":{"type":"CallExpression","start":6485,"end":6495,"loc":{"start":{"line":225,"column":6},"end":{"line":225,"column":16}},"callee":{"type":"MemberExpression","start":6485,"end":6493,"loc":{"start":{"line":225,"column":6},"end":{"line":225,"column":14}},"object":{"type":"Identifier","start":6485,"end":6487,"loc":{"start":{"line":225,"column":6},"end":{"line":225,"column":8}},"name":"db"},"property":{"type":"Identifier","start":6488,"end":6493,"loc":{"start":{"line":225,"column":9},"end":{"line":225,"column":14}},"name":"close"},"computed":false},"arguments":[]}}]}}]}}]}}}]}},{"type":"ExpressionStatement","start":6510,"end":6550,"loc":{"start":{"line":230,"column":0},"end":{"line":230,"column":40}},"expression":{"type":"AssignmentExpression","start":6510,"end":6550,"loc":{"start":{"line":230,"column":0},"end":{"line":230,"column":40}},"operator":"=","left":{"type":"MemberExpression","start":6510,"end":6536,"loc":{"start":{"line":230,"column":0},"end":{"line":230,"column":26}},"object":{"type":"Identifier","start":6510,"end":6524,"loc":{"start":{"line":230,"column":0},"end":{"line":230,"column":14}},"name":"IndexedDBStore"},"property":{"type":"Identifier","start":6525,"end":6536,"loc":{"start":{"line":230,"column":15},"end":{"line":230,"column":26}},"name":"isSupported"},"computed":false},"right":{"type":"Identifier","start":6539,"end":6550,"loc":{"start":{"line":230,"column":29},"end":{"line":230,"column":40}},"name":"isSupported"}}},{"type":"ExpressionStatement","start":6552,"end":6583,"loc":{"start":{"line":232,"column":0},"end":{"line":232,"column":31}},"expression":{"type":"AssignmentExpression","start":6552,"end":6583,"loc":{"start":{"line":232,"column":0},"end":{"line":232,"column":31}},"operator":"=","left":{"type":"MemberExpression","start":6552,"end":6566,"loc":{"start":{"line":232,"column":0},"end":{"line":232,"column":14}},"object":{"type":"Identifier","start":6552,"end":6558,"loc":{"start":{"line":232,"column":0},"end":{"line":232,"column":6}},"name":"module"},"property":{"type":"Identifier","start":6559,"end":6566,"loc":{"start":{"line":232,"column":7},"end":{"line":232,"column":14}},"name":"exports"},"computed":false},"right":{"type":"Identifier","start":6569,"end":6583,"loc":{"start":{"line":232,"column":17},"end":{"line":232,"column":31}},"name":"IndexedDBStore"}}}],"sourceType":"module"}