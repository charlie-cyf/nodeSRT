{"type":"Program","start":0,"end":1377,"body":[{"type":"VariableDeclaration","start":23,"end":60,"declarations":[{"type":"VariableDeclarator","start":29,"end":60,"id":{"type":"Identifier","start":29,"end":38,"name":"fileCache"},"init":{"type":"CallExpression","start":41,"end":60,"callee":{"type":"MemberExpression","start":41,"end":54,"object":{"type":"Identifier","start":41,"end":47,"name":"Object"},"property":{"type":"Identifier","start":48,"end":54,"name":"create"},"computed":false},"arguments":[{"type":"Literal","start":55,"end":59,"value":null,"raw":"null"}]}}],"kind":"const"},{"type":"FunctionDeclaration","start":62,"end":187,"id":{"type":"Identifier","start":71,"end":79,"name":"getCache"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":81,"end":85,"name":"name"}],"body":{"type":"BlockStatement","start":87,"end":187,"body":[{"type":"IfStatement","start":91,"end":160,"test":{"type":"UnaryExpression","start":95,"end":111,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":96,"end":111,"object":{"type":"Identifier","start":96,"end":105,"name":"fileCache"},"property":{"type":"Identifier","start":106,"end":110,"name":"name"},"computed":true}},"consequent":{"type":"BlockStatement","start":113,"end":160,"body":[{"type":"ExpressionStatement","start":119,"end":156,"expression":{"type":"AssignmentExpression","start":119,"end":156,"operator":"=","left":{"type":"MemberExpression","start":119,"end":134,"object":{"type":"Identifier","start":119,"end":128,"name":"fileCache"},"property":{"type":"Identifier","start":129,"end":133,"name":"name"},"computed":true},"right":{"type":"CallExpression","start":137,"end":156,"callee":{"type":"MemberExpression","start":137,"end":150,"object":{"type":"Identifier","start":137,"end":143,"name":"Object"},"property":{"type":"Identifier","start":144,"end":150,"name":"create"},"computed":false},"arguments":[{"type":"Literal","start":151,"end":155,"value":null,"raw":"null"}]}}}]},"alternate":null},{"type":"ReturnStatement","start":163,"end":185,"argument":{"type":"MemberExpression","start":170,"end":185,"object":{"type":"Identifier","start":170,"end":179,"name":"fileCache"},"property":{"type":"Identifier","start":180,"end":184,"name":"name"},"computed":true}}]}},{"type":"ExpressionStatement","start":189,"end":362,"expression":{"type":"CallExpression","start":189,"end":362,"callee":{"type":"MemberExpression","start":189,"end":210,"object":{"type":"Identifier","start":189,"end":193,"name":"self"},"property":{"type":"Identifier","start":194,"end":210,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":211,"end":220,"value":"install","raw":"'install'"},{"type":"ArrowFunctionExpression","start":222,"end":361,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":223,"end":228,"name":"event"}],"body":{"type":"BlockStatement","start":233,"end":361,"body":[{"type":"ExpressionStatement","start":237,"end":285,"expression":{"type":"CallExpression","start":237,"end":285,"callee":{"type":"MemberExpression","start":237,"end":248,"object":{"type":"Identifier","start":237,"end":244,"name":"console"},"property":{"type":"Identifier","start":245,"end":248,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":249,"end":284,"value":"Installing Uppy Service Worker...","raw":"'Installing Uppy Service Worker...'"}]}},{"type":"ExpressionStatement","start":289,"end":359,"expression":{"type":"CallExpression","start":289,"end":359,"callee":{"type":"MemberExpression","start":289,"end":304,"object":{"type":"Identifier","start":289,"end":294,"name":"event"},"property":{"type":"Identifier","start":295,"end":304,"name":"waitUntil"},"computed":false},"arguments":[{"type":"CallExpression","start":305,"end":358,"callee":{"type":"MemberExpression","start":305,"end":332,"object":{"type":"CallExpression","start":305,"end":322,"callee":{"type":"MemberExpression","start":305,"end":320,"object":{"type":"Identifier","start":305,"end":312,"name":"Promise"},"property":{"type":"Identifier","start":313,"end":320,"name":"resolve"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":328,"end":332,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":333,"end":357,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":339,"end":357,"callee":{"type":"MemberExpression","start":339,"end":355,"object":{"type":"Identifier","start":339,"end":343,"name":"self"},"property":{"type":"Identifier","start":344,"end":355,"name":"skipWaiting"},"computed":false},"arguments":[]}}]}]}}]}}]}},{"type":"ExpressionStatement","start":364,"end":453,"expression":{"type":"CallExpression","start":364,"end":453,"callee":{"type":"MemberExpression","start":364,"end":385,"object":{"type":"Identifier","start":364,"end":368,"name":"self"},"property":{"type":"Identifier","start":369,"end":385,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":386,"end":396,"value":"activate","raw":"'activate'"},{"type":"ArrowFunctionExpression","start":398,"end":452,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":399,"end":404,"name":"event"}],"body":{"type":"BlockStatement","start":409,"end":452,"body":[{"type":"ExpressionStatement","start":413,"end":450,"expression":{"type":"CallExpression","start":413,"end":450,"callee":{"type":"MemberExpression","start":413,"end":428,"object":{"type":"Identifier","start":413,"end":418,"name":"event"},"property":{"type":"Identifier","start":419,"end":428,"name":"waitUntil"},"computed":false},"arguments":[{"type":"CallExpression","start":429,"end":449,"callee":{"type":"MemberExpression","start":429,"end":447,"object":{"type":"MemberExpression","start":429,"end":441,"object":{"type":"Identifier","start":429,"end":433,"name":"self"},"property":{"type":"Identifier","start":434,"end":441,"name":"clients"},"computed":false},"property":{"type":"Identifier","start":442,"end":447,"name":"claim"},"computed":false},"arguments":[]}]}}]}}]}},{"type":"FunctionDeclaration","start":455,"end":614,"id":{"type":"Identifier","start":464,"end":487,"name":"sendMessageToAllClients"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":489,"end":492,"name":"msg"}],"body":{"type":"BlockStatement","start":494,"end":614,"body":[{"type":"ExpressionStatement","start":498,"end":612,"expression":{"type":"CallExpression","start":498,"end":612,"callee":{"type":"MemberExpression","start":498,"end":521,"object":{"type":"CallExpression","start":498,"end":516,"callee":{"type":"MemberExpression","start":498,"end":514,"object":{"type":"Identifier","start":498,"end":505,"name":"clients"},"property":{"type":"Identifier","start":506,"end":514,"name":"matchAll"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":517,"end":521,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":522,"end":611,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":523,"end":530,"name":"clients"}],"body":{"type":"BlockStatement","start":535,"end":611,"body":[{"type":"ExpressionStatement","start":541,"end":607,"expression":{"type":"CallExpression","start":541,"end":607,"callee":{"type":"MemberExpression","start":541,"end":556,"object":{"type":"Identifier","start":541,"end":548,"name":"clients"},"property":{"type":"Identifier","start":549,"end":556,"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":557,"end":606,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":558,"end":564,"name":"client"}],"body":{"type":"BlockStatement","start":569,"end":606,"body":[{"type":"ExpressionStatement","start":577,"end":600,"expression":{"type":"CallExpression","start":577,"end":600,"callee":{"type":"MemberExpression","start":577,"end":595,"object":{"type":"Identifier","start":577,"end":583,"name":"client"},"property":{"type":"Identifier","start":584,"end":595,"name":"postMessage"},"computed":false},"arguments":[{"type":"Identifier","start":596,"end":599,"name":"msg"}]}}]}}]}}]}}]}}]}},{"type":"FunctionDeclaration","start":616,"end":758,"id":{"type":"Identifier","start":625,"end":632,"name":"addFile"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":634,"end":639,"name":"store"},{"type":"Identifier","start":641,"end":645,"name":"file"}],"body":{"type":"BlockStatement","start":647,"end":758,"body":[{"type":"ExpressionStatement","start":651,"end":687,"expression":{"type":"AssignmentExpression","start":651,"end":687,"operator":"=","left":{"type":"MemberExpression","start":651,"end":675,"object":{"type":"CallExpression","start":651,"end":666,"callee":{"type":"Identifier","start":651,"end":659,"name":"getCache"},"arguments":[{"type":"Identifier","start":660,"end":665,"name":"store"}]},"property":{"type":"MemberExpression","start":667,"end":674,"object":{"type":"Identifier","start":667,"end":671,"name":"file"},"property":{"type":"Identifier","start":672,"end":674,"name":"id"},"computed":false},"computed":true},"right":{"type":"MemberExpression","start":678,"end":687,"object":{"type":"Identifier","start":678,"end":682,"name":"file"},"property":{"type":"Identifier","start":683,"end":687,"name":"data"},"computed":false}}},{"type":"ExpressionStatement","start":690,"end":756,"expression":{"type":"CallExpression","start":690,"end":756,"callee":{"type":"MemberExpression","start":690,"end":701,"object":{"type":"Identifier","start":690,"end":697,"name":"console"},"property":{"type":"Identifier","start":698,"end":701,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":702,"end":744,"value":"Added file blob to service worker cache:","raw":"'Added file blob to service worker cache:'"},{"type":"MemberExpression","start":746,"end":755,"object":{"type":"Identifier","start":746,"end":750,"name":"file"},"property":{"type":"Identifier","start":751,"end":755,"name":"data"},"computed":false}]}}]}},{"type":"FunctionDeclaration","start":760,"end":902,"id":{"type":"Identifier","start":769,"end":779,"name":"removeFile"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":781,"end":786,"name":"store"},{"type":"Identifier","start":788,"end":794,"name":"fileID"}],"body":{"type":"BlockStatement","start":796,"end":902,"body":[{"type":"ExpressionStatement","start":800,"end":830,"expression":{"type":"UnaryExpression","start":800,"end":830,"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":807,"end":830,"object":{"type":"CallExpression","start":807,"end":822,"callee":{"type":"Identifier","start":807,"end":815,"name":"getCache"},"arguments":[{"type":"Identifier","start":816,"end":821,"name":"store"}]},"property":{"type":"Identifier","start":823,"end":829,"name":"fileID"},"computed":true}}},{"type":"ExpressionStatement","start":833,"end":900,"expression":{"type":"CallExpression","start":833,"end":900,"callee":{"type":"MemberExpression","start":833,"end":844,"object":{"type":"Identifier","start":833,"end":840,"name":"console"},"property":{"type":"Identifier","start":841,"end":844,"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":845,"end":891,"value":"Removed file blob from service worker cache:","raw":"'Removed file blob from service worker cache:'"},{"type":"Identifier","start":893,"end":899,"name":"fileID"}]}}]}},{"type":"FunctionDeclaration","start":904,"end":1039,"id":{"type":"Identifier","start":913,"end":921,"name":"getFiles"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":923,"end":928,"name":"store"}],"body":{"type":"BlockStatement","start":930,"end":1039,"body":[{"type":"ExpressionStatement","start":934,"end":1037,"expression":{"type":"CallExpression","start":934,"end":1037,"callee":{"type":"Identifier","start":934,"end":957,"name":"sendMessageToAllClients"},"arguments":[{"type":"ObjectExpression","start":958,"end":1036,"properties":[{"type":"Property","start":964,"end":986,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":964,"end":968,"name":"type"},"value":{"type":"Literal","start":970,"end":986,"value":"uppy/ALL_FILES","raw":"'uppy/ALL_FILES'"},"kind":"init"},{"type":"Property","start":992,"end":1004,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":992,"end":997,"name":"store"},"value":{"type":"Identifier","start":999,"end":1004,"name":"store"},"kind":"init"},{"type":"Property","start":1010,"end":1032,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1010,"end":1015,"name":"files"},"value":{"type":"CallExpression","start":1017,"end":1032,"callee":{"type":"Identifier","start":1017,"end":1025,"name":"getCache"},"arguments":[{"type":"Identifier","start":1026,"end":1031,"name":"store"}]},"kind":"init"}]}]}}]}},{"type":"ExpressionStatement","start":1041,"end":1376,"expression":{"type":"CallExpression","start":1041,"end":1376,"callee":{"type":"MemberExpression","start":1041,"end":1062,"object":{"type":"Identifier","start":1041,"end":1045,"name":"self"},"property":{"type":"Identifier","start":1046,"end":1062,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":1063,"end":1072,"value":"message","raw":"'message'"},{"type":"ArrowFunctionExpression","start":1074,"end":1375,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1075,"end":1080,"name":"event"}],"body":{"type":"BlockStatement","start":1085,"end":1375,"body":[{"type":"SwitchStatement","start":1089,"end":1373,"discriminant":{"type":"MemberExpression","start":1097,"end":1112,"object":{"type":"MemberExpression","start":1097,"end":1107,"object":{"type":"Identifier","start":1097,"end":1102,"name":"event"},"property":{"type":"Identifier","start":1103,"end":1107,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1108,"end":1112,"name":"type"},"computed":false},"cases":[{"type":"SwitchCase","start":1120,"end":1202,"consequent":[{"type":"ExpressionStatement","start":1148,"end":1190,"expression":{"type":"CallExpression","start":1148,"end":1190,"callee":{"type":"Identifier","start":1148,"end":1155,"name":"addFile"},"arguments":[{"type":"MemberExpression","start":1156,"end":1172,"object":{"type":"MemberExpression","start":1156,"end":1166,"object":{"type":"Identifier","start":1156,"end":1161,"name":"event"},"property":{"type":"Identifier","start":1162,"end":1166,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1167,"end":1172,"name":"store"},"computed":false},{"type":"MemberExpression","start":1174,"end":1189,"object":{"type":"MemberExpression","start":1174,"end":1184,"object":{"type":"Identifier","start":1174,"end":1179,"name":"event"},"property":{"type":"Identifier","start":1180,"end":1184,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1185,"end":1189,"name":"file"},"computed":false}]}},{"type":"BreakStatement","start":1197,"end":1202,"label":null}],"test":{"type":"Literal","start":1125,"end":1140,"value":"uppy/ADD_FILE","raw":"'uppy/ADD_FILE'"}},{"type":"SwitchCase","start":1207,"end":1297,"consequent":[{"type":"ExpressionStatement","start":1238,"end":1285,"expression":{"type":"CallExpression","start":1238,"end":1285,"callee":{"type":"Identifier","start":1238,"end":1248,"name":"removeFile"},"arguments":[{"type":"MemberExpression","start":1249,"end":1265,"object":{"type":"MemberExpression","start":1249,"end":1259,"object":{"type":"Identifier","start":1249,"end":1254,"name":"event"},"property":{"type":"Identifier","start":1255,"end":1259,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1260,"end":1265,"name":"store"},"computed":false},{"type":"MemberExpression","start":1267,"end":1284,"object":{"type":"MemberExpression","start":1267,"end":1277,"object":{"type":"Identifier","start":1267,"end":1272,"name":"event"},"property":{"type":"Identifier","start":1273,"end":1277,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1278,"end":1284,"name":"fileID"},"computed":false}]}},{"type":"BreakStatement","start":1292,"end":1297,"label":null}],"test":{"type":"Literal","start":1212,"end":1230,"value":"uppy/REMOVE_FILE","raw":"'uppy/REMOVE_FILE'"}},{"type":"SwitchCase","start":1302,"end":1369,"consequent":[{"type":"ExpressionStatement","start":1331,"end":1357,"expression":{"type":"CallExpression","start":1331,"end":1357,"callee":{"type":"Identifier","start":1331,"end":1339,"name":"getFiles"},"arguments":[{"type":"MemberExpression","start":1340,"end":1356,"object":{"type":"MemberExpression","start":1340,"end":1350,"object":{"type":"Identifier","start":1340,"end":1345,"name":"event"},"property":{"type":"Identifier","start":1346,"end":1350,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1351,"end":1356,"name":"store"},"computed":false}]}},{"type":"BreakStatement","start":1364,"end":1369,"label":null}],"test":{"type":"Literal","start":1307,"end":1323,"value":"uppy/GET_FILES","raw":"'uppy/GET_FILES'"}}]}]}}]}}],"sourceType":"script"}