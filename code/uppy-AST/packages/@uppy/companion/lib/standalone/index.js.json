{"type":"Program","start":0,"end":7882,"loc":{"start":{"line":1,"column":0},"end":{"line":197,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":35,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"declarations":[{"type":"VariableDeclarator","start":6,"end":34,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":34}},"id":{"type":"Identifier","start":6,"end":13,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":13}},"name":"express"},"init":{"type":"CallExpression","start":16,"end":34,"loc":{"start":{"line":1,"column":16},"end":{"line":1,"column":34}},"callee":{"type":"Identifier","start":16,"end":23,"loc":{"start":{"line":1,"column":16},"end":{"line":1,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":24,"end":33,"loc":{"start":{"line":1,"column":24},"end":{"line":1,"column":33}},"value":"express","raw":"'express'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":36,"end":70,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":34}},"declarations":[{"type":"VariableDeclarator","start":42,"end":69,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":33}},"id":{"type":"Identifier","start":42,"end":44,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":8}},"name":"qs"},"init":{"type":"CallExpression","start":47,"end":69,"loc":{"start":{"line":2,"column":11},"end":{"line":2,"column":33}},"callee":{"type":"Identifier","start":47,"end":54,"loc":{"start":{"line":2,"column":11},"end":{"line":2,"column":18}},"name":"require"},"arguments":[{"type":"Literal","start":55,"end":68,"loc":{"start":{"line":2,"column":19},"end":{"line":2,"column":32}},"value":"querystring","raw":"'querystring'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":71,"end":113,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":42}},"declarations":[{"type":"VariableDeclarator","start":77,"end":112,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":41}},"id":{"type":"Identifier","start":77,"end":86,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":15}},"name":"companion"},"init":{"type":"CallExpression","start":89,"end":112,"loc":{"start":{"line":3,"column":18},"end":{"line":3,"column":41}},"callee":{"type":"Identifier","start":89,"end":96,"loc":{"start":{"line":3,"column":18},"end":{"line":3,"column":25}},"name":"require"},"arguments":[{"type":"Literal","start":97,"end":111,"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":40}},"value":"../companion","raw":"'../companion'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":114,"end":147,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"declarations":[{"type":"VariableDeclarator","start":120,"end":146,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":32}},"id":{"type":"Identifier","start":120,"end":126,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":12}},"name":"helmet"},"init":{"type":"CallExpression","start":129,"end":146,"loc":{"start":{"line":4,"column":15},"end":{"line":4,"column":32}},"callee":{"type":"Identifier","start":129,"end":136,"loc":{"start":{"line":4,"column":15},"end":{"line":4,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":137,"end":145,"loc":{"start":{"line":4,"column":23},"end":{"line":4,"column":31}},"value":"helmet","raw":"'helmet'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":148,"end":181,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}},"declarations":[{"type":"VariableDeclarator","start":154,"end":180,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":32}},"id":{"type":"Identifier","start":154,"end":160,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":12}},"name":"morgan"},"init":{"type":"CallExpression","start":163,"end":180,"loc":{"start":{"line":5,"column":15},"end":{"line":5,"column":32}},"callee":{"type":"Identifier","start":163,"end":170,"loc":{"start":{"line":5,"column":15},"end":{"line":5,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":171,"end":179,"loc":{"start":{"line":5,"column":23},"end":{"line":5,"column":31}},"value":"morgan","raw":"'morgan'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":182,"end":224,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":42}},"declarations":[{"type":"VariableDeclarator","start":188,"end":223,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":41}},"id":{"type":"Identifier","start":188,"end":198,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":16}},"name":"bodyParser"},"init":{"type":"CallExpression","start":201,"end":223,"loc":{"start":{"line":6,"column":19},"end":{"line":6,"column":41}},"callee":{"type":"Identifier","start":201,"end":208,"loc":{"start":{"line":6,"column":19},"end":{"line":6,"column":26}},"name":"require"},"arguments":[{"type":"Literal","start":209,"end":222,"loc":{"start":{"line":6,"column":27},"end":{"line":6,"column":40}},"value":"body-parser","raw":"'body-parser'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":225,"end":266,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":41}},"declarations":[{"type":"VariableDeclarator","start":231,"end":265,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":40}},"id":{"type":"Identifier","start":231,"end":236,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":11}},"name":"redis"},"init":{"type":"CallExpression","start":239,"end":265,"loc":{"start":{"line":7,"column":14},"end":{"line":7,"column":40}},"callee":{"type":"Identifier","start":239,"end":246,"loc":{"start":{"line":7,"column":14},"end":{"line":7,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":247,"end":264,"loc":{"start":{"line":7,"column":22},"end":{"line":7,"column":39}},"value":"../server/redis","raw":"'../server/redis'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":267,"end":310,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":43}},"declarations":[{"type":"VariableDeclarator","start":273,"end":309,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":42}},"id":{"type":"Identifier","start":273,"end":279,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":12}},"name":"logger"},"init":{"type":"CallExpression","start":282,"end":309,"loc":{"start":{"line":8,"column":15},"end":{"line":8,"column":42}},"callee":{"type":"Identifier","start":282,"end":289,"loc":{"start":{"line":8,"column":15},"end":{"line":8,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":290,"end":308,"loc":{"start":{"line":8,"column":23},"end":{"line":8,"column":41}},"value":"../server/logger","raw":"'../server/logger'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":311,"end":367,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":56}},"declarations":[{"type":"VariableDeclarator","start":317,"end":366,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":55}},"id":{"type":"ObjectPattern","start":317,"end":329,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":18}},"properties":[{"type":"Property","start":319,"end":327,"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":16}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":319,"end":327,"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":16}},"name":"parseURL"},"kind":"init","value":{"type":"Identifier","start":319,"end":327,"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":16}},"name":"parseURL"}}]},"init":{"type":"CallExpression","start":332,"end":366,"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":55}},"callee":{"type":"Identifier","start":332,"end":339,"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":28}},"name":"require"},"arguments":[{"type":"Literal","start":340,"end":365,"loc":{"start":{"line":9,"column":29},"end":{"line":9,"column":54}},"value":"../server/helpers/utils","raw":"'../server/helpers/utils'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":368,"end":406,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":38}},"declarations":[{"type":"VariableDeclarator","start":374,"end":405,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":37}},"id":{"type":"Identifier","start":374,"end":379,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":11}},"name":"merge"},"init":{"type":"CallExpression","start":382,"end":405,"loc":{"start":{"line":10,"column":14},"end":{"line":10,"column":37}},"callee":{"type":"Identifier","start":382,"end":389,"loc":{"start":{"line":10,"column":14},"end":{"line":10,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":390,"end":404,"loc":{"start":{"line":10,"column":22},"end":{"line":10,"column":36}},"value":"lodash.merge","raw":"'lodash.merge'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":421,"end":471,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":50}},"declarations":[{"type":"VariableDeclarator","start":427,"end":470,"loc":{"start":{"line":12,"column":6},"end":{"line":12,"column":49}},"id":{"type":"Identifier","start":427,"end":437,"loc":{"start":{"line":12,"column":6},"end":{"line":12,"column":16}},"name":"promBundle"},"init":{"type":"CallExpression","start":440,"end":470,"loc":{"start":{"line":12,"column":19},"end":{"line":12,"column":49}},"callee":{"type":"Identifier","start":440,"end":447,"loc":{"start":{"line":12,"column":19},"end":{"line":12,"column":26}},"name":"require"},"arguments":[{"type":"Literal","start":448,"end":469,"loc":{"start":{"line":12,"column":27},"end":{"line":12,"column":48}},"value":"express-prom-bundle","raw":"'express-prom-bundle'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":472,"end":515,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":43}},"declarations":[{"type":"VariableDeclarator","start":478,"end":514,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":42}},"id":{"type":"Identifier","start":478,"end":485,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":13}},"name":"session"},"init":{"type":"CallExpression","start":488,"end":514,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":42}},"callee":{"type":"Identifier","start":488,"end":495,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":496,"end":513,"loc":{"start":{"line":13,"column":24},"end":{"line":13,"column":41}},"value":"express-session","raw":"'express-session'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":516,"end":569,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":53}},"declarations":[{"type":"VariableDeclarator","start":522,"end":568,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":52}},"id":{"type":"Identifier","start":522,"end":534,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":18}},"name":"addRequestId"},"init":{"type":"CallExpression","start":537,"end":568,"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":52}},"callee":{"type":"CallExpression","start":537,"end":566,"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":50}},"callee":{"type":"Identifier","start":537,"end":544,"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":28}},"name":"require"},"arguments":[{"type":"Literal","start":545,"end":565,"loc":{"start":{"line":14,"column":29},"end":{"line":14,"column":49}},"value":"express-request-id","raw":"'express-request-id'"}]},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":570,"end":605,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":35}},"declarations":[{"type":"VariableDeclarator","start":576,"end":604,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":34}},"id":{"type":"Identifier","start":576,"end":582,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":12}},"name":"helper"},"init":{"type":"CallExpression","start":585,"end":604,"loc":{"start":{"line":15,"column":15},"end":{"line":15,"column":34}},"callee":{"type":"Identifier","start":585,"end":592,"loc":{"start":{"line":15,"column":15},"end":{"line":15,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":593,"end":603,"loc":{"start":{"line":15,"column":23},"end":{"line":15,"column":33}},"value":"./helper","raw":"'./helper'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":620,"end":670,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":50}},"declarations":[{"type":"VariableDeclarator","start":626,"end":669,"loc":{"start":{"line":17,"column":6},"end":{"line":17,"column":49}},"id":{"type":"ObjectPattern","start":626,"end":637,"loc":{"start":{"line":17,"column":6},"end":{"line":17,"column":17}},"properties":[{"type":"Property","start":628,"end":635,"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":15}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":628,"end":635,"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":15}},"name":"version"},"kind":"init","value":{"type":"Identifier","start":628,"end":635,"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":15}},"name":"version"}}]},"init":{"type":"CallExpression","start":640,"end":669,"loc":{"start":{"line":17,"column":20},"end":{"line":17,"column":49}},"callee":{"type":"Identifier","start":640,"end":647,"loc":{"start":{"line":17,"column":20},"end":{"line":17,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":648,"end":668,"loc":{"start":{"line":17,"column":28},"end":{"line":17,"column":48}},"value":"../../package.json","raw":"'../../package.json'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":671,"end":693,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":22}},"declarations":[{"type":"VariableDeclarator","start":677,"end":692,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":21}},"id":{"type":"Identifier","start":677,"end":680,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":9}},"name":"app"},"init":{"type":"CallExpression","start":683,"end":692,"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":21}},"callee":{"type":"Identifier","start":683,"end":690,"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":19}},"name":"express"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":726,"end":788,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":62}},"declarations":[{"type":"VariableDeclarator","start":732,"end":787,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":61}},"id":{"type":"Identifier","start":732,"end":749,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":23}},"name":"metricsMiddleware"},"init":{"type":"CallExpression","start":752,"end":787,"loc":{"start":{"line":20,"column":26},"end":{"line":20,"column":61}},"callee":{"type":"Identifier","start":752,"end":762,"loc":{"start":{"line":20,"column":26},"end":{"line":20,"column":36}},"name":"promBundle"},"arguments":[{"type":"ObjectExpression","start":763,"end":786,"loc":{"start":{"line":20,"column":37},"end":{"line":20,"column":60}},"properties":[{"type":"Property","start":765,"end":784,"loc":{"start":{"line":20,"column":39},"end":{"line":20,"column":58}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":765,"end":778,"loc":{"start":{"line":20,"column":39},"end":{"line":20,"column":52}},"name":"includeMethod"},"value":{"type":"Literal","start":780,"end":784,"loc":{"start":{"line":20,"column":54},"end":{"line":20,"column":58}},"value":true,"raw":"true"},"kind":"init"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":789,"end":837,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":48}},"declarations":[{"type":"VariableDeclarator","start":795,"end":836,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":47}},"id":{"type":"Identifier","start":795,"end":805,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":16}},"name":"promClient"},"init":{"type":"MemberExpression","start":808,"end":836,"loc":{"start":{"line":21,"column":19},"end":{"line":21,"column":47}},"object":{"type":"Identifier","start":808,"end":825,"loc":{"start":{"line":21,"column":19},"end":{"line":21,"column":36}},"name":"metricsMiddleware"},"property":{"type":"Identifier","start":826,"end":836,"loc":{"start":{"line":21,"column":37},"end":{"line":21,"column":47}},"name":"promClient"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":838,"end":901,"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":63}},"declarations":[{"type":"VariableDeclarator","start":844,"end":900,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":62}},"id":{"type":"Identifier","start":844,"end":865,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":27}},"name":"collectDefaultMetrics"},"init":{"type":"MemberExpression","start":868,"end":900,"loc":{"start":{"line":22,"column":30},"end":{"line":22,"column":62}},"object":{"type":"Identifier","start":868,"end":878,"loc":{"start":{"line":22,"column":30},"end":{"line":22,"column":40}},"name":"promClient"},"property":{"type":"Identifier","start":879,"end":900,"loc":{"start":{"line":22,"column":41},"end":{"line":22,"column":62}},"name":"collectDefaultMetrics"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":902,"end":995,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":93}},"declarations":[{"type":"VariableDeclarator","start":908,"end":994,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":92}},"id":{"type":"Identifier","start":908,"end":920,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":18}},"name":"promInterval"},"init":{"type":"CallExpression","start":923,"end":994,"loc":{"start":{"line":23,"column":21},"end":{"line":23,"column":92}},"callee":{"type":"Identifier","start":923,"end":944,"loc":{"start":{"line":23,"column":21},"end":{"line":23,"column":42}},"name":"collectDefaultMetrics"},"arguments":[{"type":"ObjectExpression","start":945,"end":993,"loc":{"start":{"line":23,"column":43},"end":{"line":23,"column":91}},"properties":[{"type":"Property","start":947,"end":976,"loc":{"start":{"line":23,"column":45},"end":{"line":23,"column":74}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":947,"end":955,"loc":{"start":{"line":23,"column":45},"end":{"line":23,"column":53}},"name":"register"},"value":{"type":"MemberExpression","start":957,"end":976,"loc":{"start":{"line":23,"column":55},"end":{"line":23,"column":74}},"object":{"type":"Identifier","start":957,"end":967,"loc":{"start":{"line":23,"column":55},"end":{"line":23,"column":65}},"name":"promClient"},"property":{"type":"Identifier","start":968,"end":976,"loc":{"start":{"line":23,"column":66},"end":{"line":23,"column":74}},"name":"register"},"computed":false},"kind":"init"},{"type":"Property","start":978,"end":991,"loc":{"start":{"line":23,"column":76},"end":{"line":23,"column":89}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":978,"end":985,"loc":{"start":{"line":23,"column":76},"end":{"line":23,"column":83}},"name":"timeout"},"value":{"type":"Literal","start":987,"end":991,"loc":{"start":{"line":23,"column":85},"end":{"line":23,"column":89}},"value":5000,"raw":"5000"},"kind":"init"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":1033,"end":1141,"loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":108}},"declarations":[{"type":"VariableDeclarator","start":1039,"end":1140,"loc":{"start":{"line":25,"column":6},"end":{"line":25,"column":107}},"id":{"type":"Identifier","start":1039,"end":1051,"loc":{"start":{"line":25,"column":6},"end":{"line":25,"column":18}},"name":"versionGauge"},"init":{"type":"NewExpression","start":1054,"end":1140,"loc":{"start":{"line":25,"column":21},"end":{"line":25,"column":107}},"callee":{"type":"MemberExpression","start":1058,"end":1074,"loc":{"start":{"line":25,"column":25},"end":{"line":25,"column":41}},"object":{"type":"Identifier","start":1058,"end":1068,"loc":{"start":{"line":25,"column":25},"end":{"line":25,"column":35}},"name":"promClient"},"property":{"type":"Identifier","start":1069,"end":1074,"loc":{"start":{"line":25,"column":36},"end":{"line":25,"column":41}},"name":"Gauge"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1075,"end":1139,"loc":{"start":{"line":25,"column":42},"end":{"line":25,"column":106}},"properties":[{"type":"Property","start":1077,"end":1102,"loc":{"start":{"line":25,"column":44},"end":{"line":25,"column":69}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1077,"end":1081,"loc":{"start":{"line":25,"column":44},"end":{"line":25,"column":48}},"name":"name"},"value":{"type":"Literal","start":1083,"end":1102,"loc":{"start":{"line":25,"column":50},"end":{"line":25,"column":69}},"value":"companion_version","raw":"'companion_version'"},"kind":"init"},{"type":"Property","start":1104,"end":1137,"loc":{"start":{"line":25,"column":71},"end":{"line":25,"column":104}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1104,"end":1108,"loc":{"start":{"line":25,"column":71},"end":{"line":25,"column":75}},"name":"help"},"value":{"type":"Literal","start":1110,"end":1137,"loc":{"start":{"line":25,"column":77},"end":{"line":25,"column":104}},"value":"npm version as an integer","raw":"'npm version as an integer'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":1156,"end":1209,"loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":53}},"declarations":[{"type":"VariableDeclarator","start":1162,"end":1208,"loc":{"start":{"line":27,"column":6},"end":{"line":27,"column":52}},"id":{"type":"Identifier","start":1162,"end":1175,"loc":{"start":{"line":27,"column":6},"end":{"line":27,"column":19}},"name":"numberVersion"},"init":{"type":"BinaryExpression","start":1178,"end":1208,"loc":{"start":{"line":27,"column":22},"end":{"line":27,"column":52}},"left":{"type":"CallExpression","start":1178,"end":1204,"loc":{"start":{"line":27,"column":22},"end":{"line":27,"column":48}},"callee":{"type":"MemberExpression","start":1178,"end":1193,"loc":{"start":{"line":27,"column":22},"end":{"line":27,"column":37}},"object":{"type":"Identifier","start":1178,"end":1185,"loc":{"start":{"line":27,"column":22},"end":{"line":27,"column":29}},"name":"version"},"property":{"type":"Identifier","start":1186,"end":1193,"loc":{"start":{"line":27,"column":30},"end":{"line":27,"column":37}},"name":"replace"},"computed":false},"arguments":[{"type":"Literal","start":1194,"end":1199,"loc":{"start":{"line":27,"column":38},"end":{"line":27,"column":43}},"value":{},"raw":"/\\D/g","regex":{"pattern":"\\D","flags":"g"}},{"type":"Literal","start":1201,"end":1203,"loc":{"start":{"line":27,"column":45},"end":{"line":27,"column":47}},"value":"","raw":"''"}]},"operator":"*","right":{"type":"Literal","start":1207,"end":1208,"loc":{"start":{"line":27,"column":51},"end":{"line":27,"column":52}},"value":1,"raw":"1"}}}],"kind":"const"},{"type":"ExpressionStatement","start":1210,"end":1242,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":32}},"expression":{"type":"CallExpression","start":1210,"end":1241,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":31}},"callee":{"type":"MemberExpression","start":1210,"end":1226,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":16}},"object":{"type":"Identifier","start":1210,"end":1222,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":12}},"name":"versionGauge"},"property":{"type":"Identifier","start":1223,"end":1226,"loc":{"start":{"line":28,"column":13},"end":{"line":28,"column":16}},"name":"set"},"computed":false},"arguments":[{"type":"Identifier","start":1227,"end":1240,"loc":{"start":{"line":28,"column":17},"end":{"line":28,"column":30}},"name":"numberVersion"}]}},{"type":"IfStatement","start":1243,"end":1310,"loc":{"start":{"line":29,"column":0},"end":{"line":31,"column":1}},"test":{"type":"BinaryExpression","start":1247,"end":1272,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":29}},"left":{"type":"CallExpression","start":1247,"end":1261,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":18}},"callee":{"type":"MemberExpression","start":1247,"end":1254,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":11}},"object":{"type":"Identifier","start":1247,"end":1250,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":7}},"name":"app"},"property":{"type":"Identifier","start":1251,"end":1254,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":11}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":1255,"end":1260,"loc":{"start":{"line":29,"column":12},"end":{"line":29,"column":17}},"value":"env","raw":"'env'"}]},"operator":"!==","right":{"type":"Literal","start":1266,"end":1272,"loc":{"start":{"line":29,"column":23},"end":{"line":29,"column":29}},"value":"test","raw":"'test'"}},"consequent":{"type":"BlockStatement","start":1274,"end":1310,"loc":{"start":{"line":29,"column":31},"end":{"line":31,"column":1}},"body":[{"type":"ExpressionStatement","start":1280,"end":1308,"loc":{"start":{"line":30,"column":4},"end":{"line":30,"column":32}},"expression":{"type":"CallExpression","start":1280,"end":1307,"loc":{"start":{"line":30,"column":4},"end":{"line":30,"column":31}},"callee":{"type":"Identifier","start":1280,"end":1293,"loc":{"start":{"line":30,"column":4},"end":{"line":30,"column":17}},"name":"clearInterval"},"arguments":[{"type":"Identifier","start":1294,"end":1306,"loc":{"start":{"line":30,"column":18},"end":{"line":30,"column":30}},"name":"promInterval"}]}}]},"alternate":null},{"type":"VariableDeclaration","start":1382,"end":1447,"loc":{"start":{"line":33,"column":0},"end":{"line":33,"column":65}},"declarations":[{"type":"VariableDeclarator","start":1388,"end":1446,"loc":{"start":{"line":33,"column":6},"end":{"line":33,"column":64}},"id":{"type":"Identifier","start":1388,"end":1401,"loc":{"start":{"line":33,"column":6},"end":{"line":33,"column":19}},"name":"sensitiveKeys"},"init":{"type":"NewExpression","start":1404,"end":1446,"loc":{"start":{"line":33,"column":22},"end":{"line":33,"column":64}},"callee":{"type":"Identifier","start":1408,"end":1411,"loc":{"start":{"line":33,"column":26},"end":{"line":33,"column":29}},"name":"Set"},"arguments":[{"type":"ArrayExpression","start":1412,"end":1445,"loc":{"start":{"line":33,"column":30},"end":{"line":33,"column":63}},"elements":[{"type":"Literal","start":1413,"end":1427,"loc":{"start":{"line":33,"column":31},"end":{"line":33,"column":45}},"value":"access_token","raw":"'access_token'"},{"type":"Literal","start":1429,"end":1444,"loc":{"start":{"line":33,"column":47},"end":{"line":33,"column":62}},"value":"uppyAuthToken","raw":"'uppyAuthToken'"}]}]}}],"kind":"const"},{"type":"FunctionDeclaration","start":1903,"end":2416,"loc":{"start":{"line":47,"column":0},"end":{"line":65,"column":1}},"id":{"type":"Identifier","start":1912,"end":1923,"loc":{"start":{"line":47,"column":9},"end":{"line":47,"column":20}},"name":"censorQuery"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1924,"end":1932,"loc":{"start":{"line":47,"column":21},"end":{"line":47,"column":29}},"name":"rawQuery"}],"body":{"type":"BlockStatement","start":1934,"end":2416,"loc":{"start":{"line":47,"column":31},"end":{"line":65,"column":1}},"body":[{"type":"VariableDeclaration","start":1985,"end":2002,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":21}},"declarations":[{"type":"VariableDeclarator","start":1991,"end":2001,"loc":{"start":{"line":49,"column":10},"end":{"line":49,"column":20}},"id":{"type":"Identifier","start":1991,"end":1996,"loc":{"start":{"line":49,"column":10},"end":{"line":49,"column":15}},"name":"query"},"init":{"type":"ObjectExpression","start":1999,"end":2001,"loc":{"start":{"line":49,"column":18},"end":{"line":49,"column":20}},"properties":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":2007,"end":2028,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":25}},"declarations":[{"type":"VariableDeclarator","start":2011,"end":2027,"loc":{"start":{"line":50,"column":8},"end":{"line":50,"column":24}},"id":{"type":"Identifier","start":2011,"end":2019,"loc":{"start":{"line":50,"column":8},"end":{"line":50,"column":16}},"name":"censored"},"init":{"type":"Literal","start":2022,"end":2027,"loc":{"start":{"line":50,"column":19},"end":{"line":50,"column":24}},"value":false,"raw":"false"}}],"kind":"let"},{"type":"ExpressionStatement","start":2033,"end":2382,"loc":{"start":{"line":51,"column":4},"end":{"line":63,"column":7}},"expression":{"type":"CallExpression","start":2033,"end":2381,"loc":{"start":{"line":51,"column":4},"end":{"line":63,"column":6}},"callee":{"type":"MemberExpression","start":2033,"end":2062,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":33}},"object":{"type":"CallExpression","start":2033,"end":2054,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":25}},"callee":{"type":"MemberExpression","start":2033,"end":2044,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":15}},"object":{"type":"Identifier","start":2033,"end":2039,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":10}},"name":"Object"},"property":{"type":"Identifier","start":2040,"end":2044,"loc":{"start":{"line":51,"column":11},"end":{"line":51,"column":15}},"name":"keys"},"computed":false},"arguments":[{"type":"Identifier","start":2045,"end":2053,"loc":{"start":{"line":51,"column":16},"end":{"line":51,"column":24}},"name":"rawQuery"}]},"property":{"type":"Identifier","start":2055,"end":2062,"loc":{"start":{"line":51,"column":26},"end":{"line":51,"column":33}},"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2063,"end":2380,"loc":{"start":{"line":51,"column":34},"end":{"line":63,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2064,"end":2067,"loc":{"start":{"line":51,"column":35},"end":{"line":51,"column":38}},"name":"key"}],"body":{"type":"BlockStatement","start":2072,"end":2380,"loc":{"start":{"line":51,"column":43},"end":{"line":63,"column":5}},"body":[{"type":"IfStatement","start":2082,"end":2152,"loc":{"start":{"line":52,"column":8},"end":{"line":54,"column":9}},"test":{"type":"BinaryExpression","start":2086,"end":2119,"loc":{"start":{"line":52,"column":12},"end":{"line":52,"column":45}},"left":{"type":"UnaryExpression","start":2086,"end":2106,"loc":{"start":{"line":52,"column":12},"end":{"line":52,"column":32}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":2093,"end":2106,"loc":{"start":{"line":52,"column":19},"end":{"line":52,"column":32}},"object":{"type":"Identifier","start":2093,"end":2101,"loc":{"start":{"line":52,"column":19},"end":{"line":52,"column":27}},"name":"rawQuery"},"property":{"type":"Identifier","start":2102,"end":2105,"loc":{"start":{"line":52,"column":28},"end":{"line":52,"column":31}},"name":"key"},"computed":true}},"operator":"!==","right":{"type":"Literal","start":2111,"end":2119,"loc":{"start":{"line":52,"column":37},"end":{"line":52,"column":45}},"value":"string","raw":"'string'"}},"consequent":{"type":"BlockStatement","start":2121,"end":2152,"loc":{"start":{"line":52,"column":47},"end":{"line":54,"column":9}},"body":[{"type":"ReturnStatement","start":2135,"end":2142,"loc":{"start":{"line":53,"column":12},"end":{"line":53,"column":19}},"argument":null}]},"alternate":null},{"type":"IfStatement","start":2161,"end":2374,"loc":{"start":{"line":55,"column":8},"end":{"line":62,"column":9}},"test":{"type":"CallExpression","start":2165,"end":2187,"loc":{"start":{"line":55,"column":12},"end":{"line":55,"column":34}},"callee":{"type":"MemberExpression","start":2165,"end":2182,"loc":{"start":{"line":55,"column":12},"end":{"line":55,"column":29}},"object":{"type":"Identifier","start":2165,"end":2178,"loc":{"start":{"line":55,"column":12},"end":{"line":55,"column":25}},"name":"sensitiveKeys"},"property":{"type":"Identifier","start":2179,"end":2182,"loc":{"start":{"line":55,"column":26},"end":{"line":55,"column":29}},"name":"has"},"computed":false},"arguments":[{"type":"Identifier","start":2183,"end":2186,"loc":{"start":{"line":55,"column":30},"end":{"line":55,"column":33}},"name":"key"}]},"consequent":{"type":"BlockStatement","start":2189,"end":2309,"loc":{"start":{"line":55,"column":36},"end":{"line":59,"column":9}},"body":[{"type":"ExpressionStatement","start":2246,"end":2270,"loc":{"start":{"line":57,"column":12},"end":{"line":57,"column":36}},"expression":{"type":"AssignmentExpression","start":2246,"end":2269,"loc":{"start":{"line":57,"column":12},"end":{"line":57,"column":35}},"operator":"=","left":{"type":"MemberExpression","start":2246,"end":2256,"loc":{"start":{"line":57,"column":12},"end":{"line":57,"column":22}},"object":{"type":"Identifier","start":2246,"end":2251,"loc":{"start":{"line":57,"column":12},"end":{"line":57,"column":17}},"name":"query"},"property":{"type":"Identifier","start":2252,"end":2255,"loc":{"start":{"line":57,"column":18},"end":{"line":57,"column":21}},"name":"key"},"computed":true},"right":{"type":"Literal","start":2259,"end":2269,"loc":{"start":{"line":57,"column":25},"end":{"line":57,"column":35}},"value":"********","raw":"'********'"}}},{"type":"ExpressionStatement","start":2283,"end":2299,"loc":{"start":{"line":58,"column":12},"end":{"line":58,"column":28}},"expression":{"type":"AssignmentExpression","start":2283,"end":2298,"loc":{"start":{"line":58,"column":12},"end":{"line":58,"column":27}},"operator":"=","left":{"type":"Identifier","start":2283,"end":2291,"loc":{"start":{"line":58,"column":12},"end":{"line":58,"column":20}},"name":"censored"},"right":{"type":"Literal","start":2294,"end":2298,"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":27}},"value":true,"raw":"true"}}}]},"alternate":{"type":"BlockStatement","start":2323,"end":2374,"loc":{"start":{"line":60,"column":13},"end":{"line":62,"column":9}},"body":[{"type":"ExpressionStatement","start":2337,"end":2364,"loc":{"start":{"line":61,"column":12},"end":{"line":61,"column":39}},"expression":{"type":"AssignmentExpression","start":2337,"end":2363,"loc":{"start":{"line":61,"column":12},"end":{"line":61,"column":38}},"operator":"=","left":{"type":"MemberExpression","start":2337,"end":2347,"loc":{"start":{"line":61,"column":12},"end":{"line":61,"column":22}},"object":{"type":"Identifier","start":2337,"end":2342,"loc":{"start":{"line":61,"column":12},"end":{"line":61,"column":17}},"name":"query"},"property":{"type":"Identifier","start":2343,"end":2346,"loc":{"start":{"line":61,"column":18},"end":{"line":61,"column":21}},"name":"key"},"computed":true},"right":{"type":"MemberExpression","start":2350,"end":2363,"loc":{"start":{"line":61,"column":25},"end":{"line":61,"column":38}},"object":{"type":"Identifier","start":2350,"end":2358,"loc":{"start":{"line":61,"column":25},"end":{"line":61,"column":33}},"name":"rawQuery"},"property":{"type":"Identifier","start":2359,"end":2362,"loc":{"start":{"line":61,"column":34},"end":{"line":61,"column":37}},"name":"key"},"computed":true}}}]}}]}}]}},{"type":"ReturnStatement","start":2387,"end":2414,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":31}},"argument":{"type":"ObjectExpression","start":2394,"end":2413,"loc":{"start":{"line":64,"column":11},"end":{"line":64,"column":30}},"properties":[{"type":"Property","start":2396,"end":2401,"loc":{"start":{"line":64,"column":13},"end":{"line":64,"column":18}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2396,"end":2401,"loc":{"start":{"line":64,"column":13},"end":{"line":64,"column":18}},"name":"query"},"kind":"init","value":{"type":"Identifier","start":2396,"end":2401,"loc":{"start":{"line":64,"column":13},"end":{"line":64,"column":18}},"name":"query"}},{"type":"Property","start":2403,"end":2411,"loc":{"start":{"line":64,"column":20},"end":{"line":64,"column":28}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2403,"end":2411,"loc":{"start":{"line":64,"column":20},"end":{"line":64,"column":28}},"name":"censored"},"kind":"init","value":{"type":"Identifier","start":2403,"end":2411,"loc":{"start":{"line":64,"column":20},"end":{"line":64,"column":28}},"name":"censored"}}]}}]}},{"type":"ExpressionStatement","start":2417,"end":2439,"loc":{"start":{"line":66,"column":0},"end":{"line":66,"column":22}},"expression":{"type":"CallExpression","start":2417,"end":2438,"loc":{"start":{"line":66,"column":0},"end":{"line":66,"column":21}},"callee":{"type":"MemberExpression","start":2417,"end":2424,"loc":{"start":{"line":66,"column":0},"end":{"line":66,"column":7}},"object":{"type":"Identifier","start":2417,"end":2420,"loc":{"start":{"line":66,"column":0},"end":{"line":66,"column":3}},"name":"app"},"property":{"type":"Identifier","start":2421,"end":2424,"loc":{"start":{"line":66,"column":4},"end":{"line":66,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"Identifier","start":2425,"end":2437,"loc":{"start":{"line":66,"column":8},"end":{"line":66,"column":20}},"name":"addRequestId"}]}},{"type":"ExpressionStatement","start":2464,"end":2492,"loc":{"start":{"line":68,"column":0},"end":{"line":68,"column":28}},"expression":{"type":"CallExpression","start":2464,"end":2491,"loc":{"start":{"line":68,"column":0},"end":{"line":68,"column":27}},"callee":{"type":"MemberExpression","start":2464,"end":2471,"loc":{"start":{"line":68,"column":0},"end":{"line":68,"column":7}},"object":{"type":"Identifier","start":2464,"end":2467,"loc":{"start":{"line":68,"column":0},"end":{"line":68,"column":3}},"name":"app"},"property":{"type":"Identifier","start":2468,"end":2471,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":2472,"end":2490,"loc":{"start":{"line":68,"column":8},"end":{"line":68,"column":26}},"callee":{"type":"Identifier","start":2472,"end":2478,"loc":{"start":{"line":68,"column":8},"end":{"line":68,"column":14}},"name":"morgan"},"arguments":[{"type":"Literal","start":2479,"end":2489,"loc":{"start":{"line":68,"column":15},"end":{"line":68,"column":25}},"value":"combined","raw":"'combined'"}]}]}},{"type":"ExpressionStatement","start":2493,"end":2677,"loc":{"start":{"line":69,"column":0},"end":{"line":72,"column":3}},"expression":{"type":"CallExpression","start":2493,"end":2676,"loc":{"start":{"line":69,"column":0},"end":{"line":72,"column":2}},"callee":{"type":"MemberExpression","start":2493,"end":2505,"loc":{"start":{"line":69,"column":0},"end":{"line":69,"column":12}},"object":{"type":"Identifier","start":2493,"end":2499,"loc":{"start":{"line":69,"column":0},"end":{"line":69,"column":6}},"name":"morgan"},"property":{"type":"Identifier","start":2500,"end":2505,"loc":{"start":{"line":69,"column":7},"end":{"line":69,"column":12}},"name":"token"},"computed":false},"arguments":[{"type":"Literal","start":2506,"end":2511,"loc":{"start":{"line":69,"column":13},"end":{"line":69,"column":18}},"value":"url","raw":"'url'"},{"type":"ArrowFunctionExpression","start":2513,"end":2675,"loc":{"start":{"line":69,"column":20},"end":{"line":72,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2514,"end":2517,"loc":{"start":{"line":69,"column":21},"end":{"line":69,"column":24}},"name":"req"},{"type":"Identifier","start":2519,"end":2522,"loc":{"start":{"line":69,"column":26},"end":{"line":69,"column":29}},"name":"res"}],"body":{"type":"BlockStatement","start":2527,"end":2675,"loc":{"start":{"line":69,"column":34},"end":{"line":72,"column":1}},"body":[{"type":"VariableDeclaration","start":2533,"end":2584,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":55}},"declarations":[{"type":"VariableDeclarator","start":2539,"end":2583,"loc":{"start":{"line":70,"column":10},"end":{"line":70,"column":54}},"id":{"type":"ObjectPattern","start":2539,"end":2558,"loc":{"start":{"line":70,"column":10},"end":{"line":70,"column":29}},"properties":[{"type":"Property","start":2541,"end":2546,"loc":{"start":{"line":70,"column":12},"end":{"line":70,"column":17}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2541,"end":2546,"loc":{"start":{"line":70,"column":12},"end":{"line":70,"column":17}},"name":"query"},"kind":"init","value":{"type":"Identifier","start":2541,"end":2546,"loc":{"start":{"line":70,"column":12},"end":{"line":70,"column":17}},"name":"query"}},{"type":"Property","start":2548,"end":2556,"loc":{"start":{"line":70,"column":19},"end":{"line":70,"column":27}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2548,"end":2556,"loc":{"start":{"line":70,"column":19},"end":{"line":70,"column":27}},"name":"censored"},"kind":"init","value":{"type":"Identifier","start":2548,"end":2556,"loc":{"start":{"line":70,"column":19},"end":{"line":70,"column":27}},"name":"censored"}}]},"init":{"type":"CallExpression","start":2561,"end":2583,"loc":{"start":{"line":70,"column":32},"end":{"line":70,"column":54}},"callee":{"type":"Identifier","start":2561,"end":2572,"loc":{"start":{"line":70,"column":32},"end":{"line":70,"column":43}},"name":"censorQuery"},"arguments":[{"type":"MemberExpression","start":2573,"end":2582,"loc":{"start":{"line":70,"column":44},"end":{"line":70,"column":53}},"object":{"type":"Identifier","start":2573,"end":2576,"loc":{"start":{"line":70,"column":44},"end":{"line":70,"column":47}},"name":"req"},"property":{"type":"Identifier","start":2577,"end":2582,"loc":{"start":{"line":70,"column":48},"end":{"line":70,"column":53}},"name":"query"},"computed":false}]}}],"kind":"const"},{"type":"ReturnStatement","start":2589,"end":2673,"loc":{"start":{"line":71,"column":4},"end":{"line":71,"column":88}},"argument":{"type":"ConditionalExpression","start":2596,"end":2672,"loc":{"start":{"line":71,"column":11},"end":{"line":71,"column":87}},"test":{"type":"Identifier","start":2596,"end":2604,"loc":{"start":{"line":71,"column":11},"end":{"line":71,"column":19}},"name":"censored"},"consequent":{"type":"TemplateLiteral","start":2607,"end":2643,"loc":{"start":{"line":71,"column":22},"end":{"line":71,"column":58}},"expressions":[{"type":"MemberExpression","start":2610,"end":2618,"loc":{"start":{"line":71,"column":25},"end":{"line":71,"column":33}},"object":{"type":"Identifier","start":2610,"end":2613,"loc":{"start":{"line":71,"column":25},"end":{"line":71,"column":28}},"name":"req"},"property":{"type":"Identifier","start":2614,"end":2618,"loc":{"start":{"line":71,"column":29},"end":{"line":71,"column":33}},"name":"path"},"computed":false},{"type":"CallExpression","start":2622,"end":2641,"loc":{"start":{"line":71,"column":37},"end":{"line":71,"column":56}},"callee":{"type":"MemberExpression","start":2622,"end":2634,"loc":{"start":{"line":71,"column":37},"end":{"line":71,"column":49}},"object":{"type":"Identifier","start":2622,"end":2624,"loc":{"start":{"line":71,"column":37},"end":{"line":71,"column":39}},"name":"qs"},"property":{"type":"Identifier","start":2625,"end":2634,"loc":{"start":{"line":71,"column":40},"end":{"line":71,"column":49}},"name":"stringify"},"computed":false},"arguments":[{"type":"Identifier","start":2635,"end":2640,"loc":{"start":{"line":71,"column":50},"end":{"line":71,"column":55}},"name":"query"}]}],"quasis":[{"type":"TemplateElement","start":2608,"end":2608,"loc":{"start":{"line":71,"column":23},"end":{"line":71,"column":23}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":2619,"end":2620,"loc":{"start":{"line":71,"column":34},"end":{"line":71,"column":35}},"value":{"raw":"?","cooked":"?"},"tail":false},{"type":"TemplateElement","start":2642,"end":2642,"loc":{"start":{"line":71,"column":57},"end":{"line":71,"column":57}},"value":{"raw":"","cooked":""},"tail":true}]},"alternate":{"type":"LogicalExpression","start":2646,"end":2672,"loc":{"start":{"line":71,"column":61},"end":{"line":71,"column":87}},"left":{"type":"MemberExpression","start":2646,"end":2661,"loc":{"start":{"line":71,"column":61},"end":{"line":71,"column":76}},"object":{"type":"Identifier","start":2646,"end":2649,"loc":{"start":{"line":71,"column":61},"end":{"line":71,"column":64}},"name":"req"},"property":{"type":"Identifier","start":2650,"end":2661,"loc":{"start":{"line":71,"column":65},"end":{"line":71,"column":76}},"name":"originalUrl"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":2665,"end":2672,"loc":{"start":{"line":71,"column":80},"end":{"line":71,"column":87}},"object":{"type":"Identifier","start":2665,"end":2668,"loc":{"start":{"line":71,"column":80},"end":{"line":71,"column":83}},"name":"req"},"property":{"type":"Identifier","start":2669,"end":2672,"loc":{"start":{"line":71,"column":84},"end":{"line":71,"column":87}},"name":"url"},"computed":false}}}}]}}]}},{"type":"ExpressionStatement","start":2678,"end":3083,"loc":{"start":{"line":73,"column":0},"end":{"line":81,"column":3}},"expression":{"type":"CallExpression","start":2678,"end":3082,"loc":{"start":{"line":73,"column":0},"end":{"line":81,"column":2}},"callee":{"type":"MemberExpression","start":2678,"end":2690,"loc":{"start":{"line":73,"column":0},"end":{"line":73,"column":12}},"object":{"type":"Identifier","start":2678,"end":2684,"loc":{"start":{"line":73,"column":0},"end":{"line":73,"column":6}},"name":"morgan"},"property":{"type":"Identifier","start":2685,"end":2690,"loc":{"start":{"line":73,"column":7},"end":{"line":73,"column":12}},"name":"token"},"computed":false},"arguments":[{"type":"Literal","start":2691,"end":2701,"loc":{"start":{"line":73,"column":13},"end":{"line":73,"column":23}},"value":"referrer","raw":"'referrer'"},{"type":"ArrowFunctionExpression","start":2703,"end":3081,"loc":{"start":{"line":73,"column":25},"end":{"line":81,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2704,"end":2707,"loc":{"start":{"line":73,"column":26},"end":{"line":73,"column":29}},"name":"req"},{"type":"Identifier","start":2709,"end":2712,"loc":{"start":{"line":73,"column":31},"end":{"line":73,"column":34}},"name":"res"}],"body":{"type":"BlockStatement","start":2717,"end":3081,"loc":{"start":{"line":73,"column":39},"end":{"line":81,"column":1}},"body":[{"type":"VariableDeclaration","start":2723,"end":2779,"loc":{"start":{"line":74,"column":4},"end":{"line":74,"column":60}},"declarations":[{"type":"VariableDeclarator","start":2729,"end":2778,"loc":{"start":{"line":74,"column":10},"end":{"line":74,"column":59}},"id":{"type":"Identifier","start":2729,"end":2732,"loc":{"start":{"line":74,"column":10},"end":{"line":74,"column":13}},"name":"ref"},"init":{"type":"LogicalExpression","start":2735,"end":2778,"loc":{"start":{"line":74,"column":16},"end":{"line":74,"column":59}},"left":{"type":"MemberExpression","start":2735,"end":2754,"loc":{"start":{"line":74,"column":16},"end":{"line":74,"column":35}},"object":{"type":"MemberExpression","start":2735,"end":2746,"loc":{"start":{"line":74,"column":16},"end":{"line":74,"column":27}},"object":{"type":"Identifier","start":2735,"end":2738,"loc":{"start":{"line":74,"column":16},"end":{"line":74,"column":19}},"name":"req"},"property":{"type":"Identifier","start":2739,"end":2746,"loc":{"start":{"line":74,"column":20},"end":{"line":74,"column":27}},"name":"headers"},"computed":false},"property":{"type":"Identifier","start":2747,"end":2754,"loc":{"start":{"line":74,"column":28},"end":{"line":74,"column":35}},"name":"referer"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":2758,"end":2778,"loc":{"start":{"line":74,"column":39},"end":{"line":74,"column":59}},"object":{"type":"MemberExpression","start":2758,"end":2769,"loc":{"start":{"line":74,"column":39},"end":{"line":74,"column":50}},"object":{"type":"Identifier","start":2758,"end":2761,"loc":{"start":{"line":74,"column":39},"end":{"line":74,"column":42}},"name":"req"},"property":{"type":"Identifier","start":2762,"end":2769,"loc":{"start":{"line":74,"column":43},"end":{"line":74,"column":50}},"name":"headers"},"computed":false},"property":{"type":"Identifier","start":2770,"end":2778,"loc":{"start":{"line":74,"column":51},"end":{"line":74,"column":59}},"name":"referrer"},"computed":false}}}],"kind":"const"},{"type":"IfStatement","start":2784,"end":3079,"loc":{"start":{"line":75,"column":4},"end":{"line":80,"column":5}},"test":{"type":"BinaryExpression","start":2788,"end":2811,"loc":{"start":{"line":75,"column":8},"end":{"line":75,"column":31}},"left":{"type":"UnaryExpression","start":2788,"end":2798,"loc":{"start":{"line":75,"column":8},"end":{"line":75,"column":18}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":2795,"end":2798,"loc":{"start":{"line":75,"column":15},"end":{"line":75,"column":18}},"name":"ref"}},"operator":"===","right":{"type":"Literal","start":2803,"end":2811,"loc":{"start":{"line":75,"column":23},"end":{"line":75,"column":31}},"value":"string","raw":"'string'"}},"consequent":{"type":"BlockStatement","start":2813,"end":3079,"loc":{"start":{"line":75,"column":33},"end":{"line":80,"column":5}},"body":[{"type":"VariableDeclaration","start":2823,"end":2852,"loc":{"start":{"line":76,"column":8},"end":{"line":76,"column":37}},"declarations":[{"type":"VariableDeclarator","start":2829,"end":2851,"loc":{"start":{"line":76,"column":14},"end":{"line":76,"column":36}},"id":{"type":"Identifier","start":2829,"end":2835,"loc":{"start":{"line":76,"column":14},"end":{"line":76,"column":20}},"name":"parsed"},"init":{"type":"CallExpression","start":2838,"end":2851,"loc":{"start":{"line":76,"column":23},"end":{"line":76,"column":36}},"callee":{"type":"Identifier","start":2838,"end":2846,"loc":{"start":{"line":76,"column":23},"end":{"line":76,"column":31}},"name":"parseURL"},"arguments":[{"type":"Identifier","start":2847,"end":2850,"loc":{"start":{"line":76,"column":32},"end":{"line":76,"column":35}},"name":"ref"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2861,"end":2919,"loc":{"start":{"line":77,"column":8},"end":{"line":77,"column":66}},"declarations":[{"type":"VariableDeclarator","start":2867,"end":2918,"loc":{"start":{"line":77,"column":14},"end":{"line":77,"column":65}},"id":{"type":"Identifier","start":2867,"end":2875,"loc":{"start":{"line":77,"column":14},"end":{"line":77,"column":22}},"name":"rawQuery"},"init":{"type":"CallExpression","start":2878,"end":2918,"loc":{"start":{"line":77,"column":25},"end":{"line":77,"column":65}},"callee":{"type":"MemberExpression","start":2878,"end":2886,"loc":{"start":{"line":77,"column":25},"end":{"line":77,"column":33}},"object":{"type":"Identifier","start":2878,"end":2880,"loc":{"start":{"line":77,"column":25},"end":{"line":77,"column":27}},"name":"qs"},"property":{"type":"Identifier","start":2881,"end":2886,"loc":{"start":{"line":77,"column":28},"end":{"line":77,"column":33}},"name":"parse"},"computed":false},"arguments":[{"type":"CallExpression","start":2887,"end":2917,"loc":{"start":{"line":77,"column":34},"end":{"line":77,"column":64}},"callee":{"type":"MemberExpression","start":2887,"end":2908,"loc":{"start":{"line":77,"column":34},"end":{"line":77,"column":55}},"object":{"type":"MemberExpression","start":2887,"end":2900,"loc":{"start":{"line":77,"column":34},"end":{"line":77,"column":47}},"object":{"type":"Identifier","start":2887,"end":2893,"loc":{"start":{"line":77,"column":34},"end":{"line":77,"column":40}},"name":"parsed"},"property":{"type":"Identifier","start":2894,"end":2900,"loc":{"start":{"line":77,"column":41},"end":{"line":77,"column":47}},"name":"search"},"computed":false},"property":{"type":"Identifier","start":2901,"end":2908,"loc":{"start":{"line":77,"column":48},"end":{"line":77,"column":55}},"name":"replace"},"computed":false},"arguments":[{"type":"Literal","start":2909,"end":2912,"loc":{"start":{"line":77,"column":56},"end":{"line":77,"column":59}},"value":"?","raw":"'?'"},{"type":"Literal","start":2914,"end":2916,"loc":{"start":{"line":77,"column":61},"end":{"line":77,"column":63}},"value":"","raw":"''"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2928,"end":2978,"loc":{"start":{"line":78,"column":8},"end":{"line":78,"column":58}},"declarations":[{"type":"VariableDeclarator","start":2934,"end":2977,"loc":{"start":{"line":78,"column":14},"end":{"line":78,"column":57}},"id":{"type":"ObjectPattern","start":2934,"end":2953,"loc":{"start":{"line":78,"column":14},"end":{"line":78,"column":33}},"properties":[{"type":"Property","start":2936,"end":2941,"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":21}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2936,"end":2941,"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":21}},"name":"query"},"kind":"init","value":{"type":"Identifier","start":2936,"end":2941,"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":21}},"name":"query"}},{"type":"Property","start":2943,"end":2951,"loc":{"start":{"line":78,"column":23},"end":{"line":78,"column":31}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2943,"end":2951,"loc":{"start":{"line":78,"column":23},"end":{"line":78,"column":31}},"name":"censored"},"kind":"init","value":{"type":"Identifier","start":2943,"end":2951,"loc":{"start":{"line":78,"column":23},"end":{"line":78,"column":31}},"name":"censored"}}]},"init":{"type":"CallExpression","start":2956,"end":2977,"loc":{"start":{"line":78,"column":36},"end":{"line":78,"column":57}},"callee":{"type":"Identifier","start":2956,"end":2967,"loc":{"start":{"line":78,"column":36},"end":{"line":78,"column":47}},"name":"censorQuery"},"arguments":[{"type":"Identifier","start":2968,"end":2976,"loc":{"start":{"line":78,"column":48},"end":{"line":78,"column":56}},"name":"rawQuery"}]}}],"kind":"const"},{"type":"ReturnStatement","start":2987,"end":3073,"loc":{"start":{"line":79,"column":8},"end":{"line":79,"column":94}},"argument":{"type":"ConditionalExpression","start":2994,"end":3072,"loc":{"start":{"line":79,"column":15},"end":{"line":79,"column":93}},"test":{"type":"Identifier","start":2994,"end":3002,"loc":{"start":{"line":79,"column":15},"end":{"line":79,"column":23}},"name":"censored"},"consequent":{"type":"TemplateLiteral","start":3005,"end":3058,"loc":{"start":{"line":79,"column":26},"end":{"line":79,"column":79}},"expressions":[{"type":"MemberExpression","start":3008,"end":3033,"loc":{"start":{"line":79,"column":29},"end":{"line":79,"column":54}},"object":{"type":"CallExpression","start":3008,"end":3030,"loc":{"start":{"line":79,"column":29},"end":{"line":79,"column":51}},"callee":{"type":"MemberExpression","start":3008,"end":3025,"loc":{"start":{"line":79,"column":29},"end":{"line":79,"column":46}},"object":{"type":"MemberExpression","start":3008,"end":3019,"loc":{"start":{"line":79,"column":29},"end":{"line":79,"column":40}},"object":{"type":"Identifier","start":3008,"end":3014,"loc":{"start":{"line":79,"column":29},"end":{"line":79,"column":35}},"name":"parsed"},"property":{"type":"Identifier","start":3015,"end":3019,"loc":{"start":{"line":79,"column":36},"end":{"line":79,"column":40}},"name":"href"},"computed":false},"property":{"type":"Identifier","start":3020,"end":3025,"loc":{"start":{"line":79,"column":41},"end":{"line":79,"column":46}},"name":"split"},"computed":false},"arguments":[{"type":"Literal","start":3026,"end":3029,"loc":{"start":{"line":79,"column":47},"end":{"line":79,"column":50}},"value":"?","raw":"'?'"}]},"property":{"type":"Literal","start":3031,"end":3032,"loc":{"start":{"line":79,"column":52},"end":{"line":79,"column":53}},"value":0,"raw":"0"},"computed":true},{"type":"CallExpression","start":3037,"end":3056,"loc":{"start":{"line":79,"column":58},"end":{"line":79,"column":77}},"callee":{"type":"MemberExpression","start":3037,"end":3049,"loc":{"start":{"line":79,"column":58},"end":{"line":79,"column":70}},"object":{"type":"Identifier","start":3037,"end":3039,"loc":{"start":{"line":79,"column":58},"end":{"line":79,"column":60}},"name":"qs"},"property":{"type":"Identifier","start":3040,"end":3049,"loc":{"start":{"line":79,"column":61},"end":{"line":79,"column":70}},"name":"stringify"},"computed":false},"arguments":[{"type":"Identifier","start":3050,"end":3055,"loc":{"start":{"line":79,"column":71},"end":{"line":79,"column":76}},"name":"query"}]}],"quasis":[{"type":"TemplateElement","start":3006,"end":3006,"loc":{"start":{"line":79,"column":27},"end":{"line":79,"column":27}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":3034,"end":3035,"loc":{"start":{"line":79,"column":55},"end":{"line":79,"column":56}},"value":{"raw":"?","cooked":"?"},"tail":false},{"type":"TemplateElement","start":3057,"end":3057,"loc":{"start":{"line":79,"column":78},"end":{"line":79,"column":78}},"value":{"raw":"","cooked":""},"tail":true}]},"alternate":{"type":"MemberExpression","start":3061,"end":3072,"loc":{"start":{"line":79,"column":82},"end":{"line":79,"column":93}},"object":{"type":"Identifier","start":3061,"end":3067,"loc":{"start":{"line":79,"column":82},"end":{"line":79,"column":88}},"name":"parsed"},"property":{"type":"Identifier","start":3068,"end":3072,"loc":{"start":{"line":79,"column":89},"end":{"line":79,"column":93}},"name":"href"},"computed":false}}}]},"alternate":null}]}}]}},{"type":"ExpressionStatement","start":3129,"end":3156,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":27}},"expression":{"type":"CallExpression","start":3129,"end":3155,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":26}},"callee":{"type":"MemberExpression","start":3129,"end":3136,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":7}},"object":{"type":"Identifier","start":3129,"end":3132,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":3}},"name":"app"},"property":{"type":"Identifier","start":3133,"end":3136,"loc":{"start":{"line":83,"column":4},"end":{"line":83,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"Identifier","start":3137,"end":3154,"loc":{"start":{"line":83,"column":8},"end":{"line":83,"column":25}},"name":"metricsMiddleware"}]}},{"type":"ExpressionStatement","start":3157,"end":3184,"loc":{"start":{"line":84,"column":0},"end":{"line":84,"column":27}},"expression":{"type":"CallExpression","start":3157,"end":3183,"loc":{"start":{"line":84,"column":0},"end":{"line":84,"column":26}},"callee":{"type":"MemberExpression","start":3157,"end":3164,"loc":{"start":{"line":84,"column":0},"end":{"line":84,"column":7}},"object":{"type":"Identifier","start":3157,"end":3160,"loc":{"start":{"line":84,"column":0},"end":{"line":84,"column":3}},"name":"app"},"property":{"type":"Identifier","start":3161,"end":3164,"loc":{"start":{"line":84,"column":4},"end":{"line":84,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":3165,"end":3182,"loc":{"start":{"line":84,"column":8},"end":{"line":84,"column":25}},"callee":{"type":"MemberExpression","start":3165,"end":3180,"loc":{"start":{"line":84,"column":8},"end":{"line":84,"column":23}},"object":{"type":"Identifier","start":3165,"end":3175,"loc":{"start":{"line":84,"column":8},"end":{"line":84,"column":18}},"name":"bodyParser"},"property":{"type":"Identifier","start":3176,"end":3180,"loc":{"start":{"line":84,"column":19},"end":{"line":84,"column":23}},"name":"json"},"computed":false},"arguments":[]}]}},{"type":"ExpressionStatement","start":3185,"end":3237,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":52}},"expression":{"type":"CallExpression","start":3185,"end":3236,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":51}},"callee":{"type":"MemberExpression","start":3185,"end":3192,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":7}},"object":{"type":"Identifier","start":3185,"end":3188,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":3}},"name":"app"},"property":{"type":"Identifier","start":3189,"end":3192,"loc":{"start":{"line":85,"column":4},"end":{"line":85,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":3193,"end":3235,"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":50}},"callee":{"type":"MemberExpression","start":3193,"end":3214,"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":29}},"object":{"type":"Identifier","start":3193,"end":3203,"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":18}},"name":"bodyParser"},"property":{"type":"Identifier","start":3204,"end":3214,"loc":{"start":{"line":85,"column":19},"end":{"line":85,"column":29}},"name":"urlencoded"},"computed":false},"arguments":[{"type":"ObjectExpression","start":3215,"end":3234,"loc":{"start":{"line":85,"column":30},"end":{"line":85,"column":49}},"properties":[{"type":"Property","start":3217,"end":3232,"loc":{"start":{"line":85,"column":32},"end":{"line":85,"column":47}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3217,"end":3225,"loc":{"start":{"line":85,"column":32},"end":{"line":85,"column":40}},"name":"extended"},"value":{"type":"Literal","start":3227,"end":3232,"loc":{"start":{"line":85,"column":42},"end":{"line":85,"column":47}},"value":false,"raw":"false"},"kind":"init"}]}]}]}},{"type":"ExpressionStatement","start":3278,"end":3307,"loc":{"start":{"line":87,"column":0},"end":{"line":87,"column":29}},"expression":{"type":"CallExpression","start":3278,"end":3306,"loc":{"start":{"line":87,"column":0},"end":{"line":87,"column":28}},"callee":{"type":"MemberExpression","start":3278,"end":3285,"loc":{"start":{"line":87,"column":0},"end":{"line":87,"column":7}},"object":{"type":"Identifier","start":3278,"end":3281,"loc":{"start":{"line":87,"column":0},"end":{"line":87,"column":3}},"name":"app"},"property":{"type":"Identifier","start":3282,"end":3285,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":3286,"end":3305,"loc":{"start":{"line":87,"column":8},"end":{"line":87,"column":27}},"callee":{"type":"MemberExpression","start":3286,"end":3303,"loc":{"start":{"line":87,"column":8},"end":{"line":87,"column":25}},"object":{"type":"Identifier","start":3286,"end":3292,"loc":{"start":{"line":87,"column":8},"end":{"line":87,"column":14}},"name":"helmet"},"property":{"type":"Identifier","start":3293,"end":3303,"loc":{"start":{"line":87,"column":15},"end":{"line":87,"column":25}},"name":"frameguard"},"computed":false},"arguments":[]}]}},{"type":"ExpressionStatement","start":3308,"end":3336,"loc":{"start":{"line":88,"column":0},"end":{"line":88,"column":28}},"expression":{"type":"CallExpression","start":3308,"end":3335,"loc":{"start":{"line":88,"column":0},"end":{"line":88,"column":27}},"callee":{"type":"MemberExpression","start":3308,"end":3315,"loc":{"start":{"line":88,"column":0},"end":{"line":88,"column":7}},"object":{"type":"Identifier","start":3308,"end":3311,"loc":{"start":{"line":88,"column":0},"end":{"line":88,"column":3}},"name":"app"},"property":{"type":"Identifier","start":3312,"end":3315,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":3316,"end":3334,"loc":{"start":{"line":88,"column":8},"end":{"line":88,"column":26}},"callee":{"type":"MemberExpression","start":3316,"end":3332,"loc":{"start":{"line":88,"column":8},"end":{"line":88,"column":24}},"object":{"type":"Identifier","start":3316,"end":3322,"loc":{"start":{"line":88,"column":8},"end":{"line":88,"column":14}},"name":"helmet"},"property":{"type":"Identifier","start":3323,"end":3332,"loc":{"start":{"line":88,"column":15},"end":{"line":88,"column":24}},"name":"xssFilter"},"computed":false},"arguments":[]}]}},{"type":"ExpressionStatement","start":3337,"end":3363,"loc":{"start":{"line":89,"column":0},"end":{"line":89,"column":26}},"expression":{"type":"CallExpression","start":3337,"end":3362,"loc":{"start":{"line":89,"column":0},"end":{"line":89,"column":25}},"callee":{"type":"MemberExpression","start":3337,"end":3344,"loc":{"start":{"line":89,"column":0},"end":{"line":89,"column":7}},"object":{"type":"Identifier","start":3337,"end":3340,"loc":{"start":{"line":89,"column":0},"end":{"line":89,"column":3}},"name":"app"},"property":{"type":"Identifier","start":3341,"end":3344,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":3345,"end":3361,"loc":{"start":{"line":89,"column":8},"end":{"line":89,"column":24}},"callee":{"type":"MemberExpression","start":3345,"end":3359,"loc":{"start":{"line":89,"column":8},"end":{"line":89,"column":22}},"object":{"type":"Identifier","start":3345,"end":3351,"loc":{"start":{"line":89,"column":8},"end":{"line":89,"column":14}},"name":"helmet"},"property":{"type":"Identifier","start":3352,"end":3359,"loc":{"start":{"line":89,"column":15},"end":{"line":89,"column":22}},"name":"noSniff"},"computed":false},"arguments":[]}]}},{"type":"ExpressionStatement","start":3364,"end":3391,"loc":{"start":{"line":90,"column":0},"end":{"line":90,"column":27}},"expression":{"type":"CallExpression","start":3364,"end":3390,"loc":{"start":{"line":90,"column":0},"end":{"line":90,"column":26}},"callee":{"type":"MemberExpression","start":3364,"end":3371,"loc":{"start":{"line":90,"column":0},"end":{"line":90,"column":7}},"object":{"type":"Identifier","start":3364,"end":3367,"loc":{"start":{"line":90,"column":0},"end":{"line":90,"column":3}},"name":"app"},"property":{"type":"Identifier","start":3368,"end":3371,"loc":{"start":{"line":90,"column":4},"end":{"line":90,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":3372,"end":3389,"loc":{"start":{"line":90,"column":8},"end":{"line":90,"column":25}},"callee":{"type":"MemberExpression","start":3372,"end":3387,"loc":{"start":{"line":90,"column":8},"end":{"line":90,"column":23}},"object":{"type":"Identifier","start":3372,"end":3378,"loc":{"start":{"line":90,"column":8},"end":{"line":90,"column":14}},"name":"helmet"},"property":{"type":"Identifier","start":3379,"end":3387,"loc":{"start":{"line":90,"column":15},"end":{"line":90,"column":23}},"name":"ieNoOpen"},"computed":false},"arguments":[]}]}},{"type":"ExpressionStatement","start":3392,"end":3420,"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":28}},"expression":{"type":"CallExpression","start":3392,"end":3419,"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":27}},"callee":{"type":"MemberExpression","start":3392,"end":3403,"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":11}},"object":{"type":"Identifier","start":3392,"end":3395,"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":3}},"name":"app"},"property":{"type":"Identifier","start":3396,"end":3403,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":11}},"name":"disable"},"computed":false},"arguments":[{"type":"Literal","start":3404,"end":3418,"loc":{"start":{"line":91,"column":12},"end":{"line":91,"column":26}},"value":"x-powered-by","raw":"'x-powered-by'"}]}},{"type":"VariableDeclaration","start":3421,"end":3475,"loc":{"start":{"line":92,"column":0},"end":{"line":92,"column":54}},"declarations":[{"type":"VariableDeclarator","start":3427,"end":3474,"loc":{"start":{"line":92,"column":6},"end":{"line":92,"column":53}},"id":{"type":"Identifier","start":3427,"end":3443,"loc":{"start":{"line":92,"column":6},"end":{"line":92,"column":22}},"name":"companionOptions"},"init":{"type":"CallExpression","start":3446,"end":3474,"loc":{"start":{"line":92,"column":25},"end":{"line":92,"column":53}},"callee":{"type":"MemberExpression","start":3446,"end":3472,"loc":{"start":{"line":92,"column":25},"end":{"line":92,"column":51}},"object":{"type":"Identifier","start":3446,"end":3452,"loc":{"start":{"line":92,"column":25},"end":{"line":92,"column":31}},"name":"helper"},"property":{"type":"Identifier","start":3453,"end":3472,"loc":{"start":{"line":92,"column":32},"end":{"line":92,"column":51}},"name":"getCompanionOptions"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":3476,"end":3586,"loc":{"start":{"line":93,"column":0},"end":{"line":97,"column":2}},"declarations":[{"type":"VariableDeclarator","start":3482,"end":3585,"loc":{"start":{"line":93,"column":6},"end":{"line":97,"column":1}},"id":{"type":"Identifier","start":3482,"end":3496,"loc":{"start":{"line":93,"column":6},"end":{"line":93,"column":20}},"name":"sessionOptions"},"init":{"type":"ObjectExpression","start":3499,"end":3585,"loc":{"start":{"line":93,"column":23},"end":{"line":97,"column":1}},"properties":[{"type":"Property","start":3505,"end":3536,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":35}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3505,"end":3511,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":10}},"name":"secret"},"value":{"type":"MemberExpression","start":3513,"end":3536,"loc":{"start":{"line":94,"column":12},"end":{"line":94,"column":35}},"object":{"type":"Identifier","start":3513,"end":3529,"loc":{"start":{"line":94,"column":12},"end":{"line":94,"column":28}},"name":"companionOptions"},"property":{"type":"Identifier","start":3530,"end":3536,"loc":{"start":{"line":94,"column":29},"end":{"line":94,"column":35}},"name":"secret"},"computed":false},"kind":"init"},{"type":"Property","start":3542,"end":3554,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":16}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3542,"end":3548,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":10}},"name":"resave"},"value":{"type":"Literal","start":3550,"end":3554,"loc":{"start":{"line":95,"column":12},"end":{"line":95,"column":16}},"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":3560,"end":3583,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":27}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3560,"end":3577,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":21}},"name":"saveUninitialized"},"value":{"type":"Literal","start":3579,"end":3583,"loc":{"start":{"line":96,"column":23},"end":{"line":96,"column":27}},"value":true,"raw":"true"},"kind":"init"}]}}],"kind":"const"},{"type":"IfStatement","start":3587,"end":3859,"loc":{"start":{"line":98,"column":0},"end":{"line":102,"column":1}},"test":{"type":"MemberExpression","start":3591,"end":3616,"loc":{"start":{"line":98,"column":4},"end":{"line":98,"column":29}},"object":{"type":"Identifier","start":3591,"end":3607,"loc":{"start":{"line":98,"column":4},"end":{"line":98,"column":20}},"name":"companionOptions"},"property":{"type":"Identifier","start":3608,"end":3616,"loc":{"start":{"line":98,"column":21},"end":{"line":98,"column":29}},"name":"redisUrl"},"computed":false},"consequent":{"type":"BlockStatement","start":3618,"end":3859,"loc":{"start":{"line":98,"column":31},"end":{"line":102,"column":1}},"body":[{"type":"VariableDeclaration","start":3624,"end":3677,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":57}},"declarations":[{"type":"VariableDeclarator","start":3630,"end":3676,"loc":{"start":{"line":99,"column":10},"end":{"line":99,"column":56}},"id":{"type":"Identifier","start":3630,"end":3640,"loc":{"start":{"line":99,"column":10},"end":{"line":99,"column":20}},"name":"RedisStore"},"init":{"type":"CallExpression","start":3643,"end":3676,"loc":{"start":{"line":99,"column":23},"end":{"line":99,"column":56}},"callee":{"type":"CallExpression","start":3643,"end":3667,"loc":{"start":{"line":99,"column":23},"end":{"line":99,"column":47}},"callee":{"type":"Identifier","start":3643,"end":3650,"loc":{"start":{"line":99,"column":23},"end":{"line":99,"column":30}},"name":"require"},"arguments":[{"type":"Literal","start":3651,"end":3666,"loc":{"start":{"line":99,"column":31},"end":{"line":99,"column":46}},"value":"connect-redis","raw":"'connect-redis'"}]},"arguments":[{"type":"Identifier","start":3668,"end":3675,"loc":{"start":{"line":99,"column":48},"end":{"line":99,"column":55}},"name":"session"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3682,"end":3789,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":111}},"declarations":[{"type":"VariableDeclarator","start":3688,"end":3788,"loc":{"start":{"line":100,"column":10},"end":{"line":100,"column":110}},"id":{"type":"Identifier","start":3688,"end":3699,"loc":{"start":{"line":100,"column":10},"end":{"line":100,"column":21}},"name":"redisClient"},"init":{"type":"CallExpression","start":3702,"end":3788,"loc":{"start":{"line":100,"column":24},"end":{"line":100,"column":110}},"callee":{"type":"MemberExpression","start":3702,"end":3714,"loc":{"start":{"line":100,"column":24},"end":{"line":100,"column":36}},"object":{"type":"Identifier","start":3702,"end":3707,"loc":{"start":{"line":100,"column":24},"end":{"line":100,"column":29}},"name":"redis"},"property":{"type":"Identifier","start":3708,"end":3714,"loc":{"start":{"line":100,"column":30},"end":{"line":100,"column":36}},"name":"client"},"computed":false},"arguments":[{"type":"CallExpression","start":3715,"end":3787,"loc":{"start":{"line":100,"column":37},"end":{"line":100,"column":109}},"callee":{"type":"Identifier","start":3715,"end":3720,"loc":{"start":{"line":100,"column":37},"end":{"line":100,"column":42}},"name":"merge"},"arguments":[{"type":"ObjectExpression","start":3721,"end":3755,"loc":{"start":{"line":100,"column":43},"end":{"line":100,"column":77}},"properties":[{"type":"Property","start":3723,"end":3753,"loc":{"start":{"line":100,"column":45},"end":{"line":100,"column":75}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3723,"end":3726,"loc":{"start":{"line":100,"column":45},"end":{"line":100,"column":48}},"name":"url"},"value":{"type":"MemberExpression","start":3728,"end":3753,"loc":{"start":{"line":100,"column":50},"end":{"line":100,"column":75}},"object":{"type":"Identifier","start":3728,"end":3744,"loc":{"start":{"line":100,"column":50},"end":{"line":100,"column":66}},"name":"companionOptions"},"property":{"type":"Identifier","start":3745,"end":3753,"loc":{"start":{"line":100,"column":67},"end":{"line":100,"column":75}},"name":"redisUrl"},"computed":false},"kind":"init"}]},{"type":"MemberExpression","start":3757,"end":3786,"loc":{"start":{"line":100,"column":79},"end":{"line":100,"column":108}},"object":{"type":"Identifier","start":3757,"end":3773,"loc":{"start":{"line":100,"column":79},"end":{"line":100,"column":95}},"name":"companionOptions"},"property":{"type":"Identifier","start":3774,"end":3786,"loc":{"start":{"line":100,"column":96},"end":{"line":100,"column":108}},"name":"redisOptions"},"computed":false}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":3794,"end":3857,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":67}},"expression":{"type":"AssignmentExpression","start":3794,"end":3856,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":66}},"operator":"=","left":{"type":"MemberExpression","start":3794,"end":3814,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":24}},"object":{"type":"Identifier","start":3794,"end":3808,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":18}},"name":"sessionOptions"},"property":{"type":"Identifier","start":3809,"end":3814,"loc":{"start":{"line":101,"column":19},"end":{"line":101,"column":24}},"name":"store"},"computed":false},"right":{"type":"NewExpression","start":3817,"end":3856,"loc":{"start":{"line":101,"column":27},"end":{"line":101,"column":66}},"callee":{"type":"Identifier","start":3821,"end":3831,"loc":{"start":{"line":101,"column":31},"end":{"line":101,"column":41}},"name":"RedisStore"},"arguments":[{"type":"ObjectExpression","start":3832,"end":3855,"loc":{"start":{"line":101,"column":42},"end":{"line":101,"column":65}},"properties":[{"type":"Property","start":3834,"end":3853,"loc":{"start":{"line":101,"column":44},"end":{"line":101,"column":63}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3834,"end":3840,"loc":{"start":{"line":101,"column":44},"end":{"line":101,"column":50}},"name":"client"},"value":{"type":"Identifier","start":3842,"end":3853,"loc":{"start":{"line":101,"column":52},"end":{"line":101,"column":63}},"name":"redisClient"},"kind":"init"}]}]}}}]},"alternate":null},{"type":"IfStatement","start":3860,"end":4039,"loc":{"start":{"line":103,"column":0},"end":{"line":108,"column":1}},"test":{"type":"MemberExpression","start":3864,"end":3899,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":39}},"object":{"type":"MemberExpression","start":3864,"end":3875,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":15}},"object":{"type":"Identifier","start":3864,"end":3871,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":11}},"name":"process"},"property":{"type":"Identifier","start":3872,"end":3875,"loc":{"start":{"line":103,"column":12},"end":{"line":103,"column":15}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":3876,"end":3899,"loc":{"start":{"line":103,"column":16},"end":{"line":103,"column":39}},"name":"COMPANION_COOKIE_DOMAIN"},"computed":false},"consequent":{"type":"BlockStatement","start":3901,"end":4039,"loc":{"start":{"line":103,"column":41},"end":{"line":108,"column":1}},"body":[{"type":"ExpressionStatement","start":3907,"end":4037,"loc":{"start":{"line":104,"column":4},"end":{"line":107,"column":6}},"expression":{"type":"AssignmentExpression","start":3907,"end":4036,"loc":{"start":{"line":104,"column":4},"end":{"line":107,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":3907,"end":3928,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":25}},"object":{"type":"Identifier","start":3907,"end":3921,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":18}},"name":"sessionOptions"},"property":{"type":"Identifier","start":3922,"end":3928,"loc":{"start":{"line":104,"column":19},"end":{"line":104,"column":25}},"name":"cookie"},"computed":false},"right":{"type":"ObjectExpression","start":3931,"end":4036,"loc":{"start":{"line":104,"column":28},"end":{"line":107,"column":5}},"properties":[{"type":"Property","start":3941,"end":3984,"loc":{"start":{"line":105,"column":8},"end":{"line":105,"column":51}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3941,"end":3947,"loc":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"name":"domain"},"value":{"type":"MemberExpression","start":3949,"end":3984,"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":51}},"object":{"type":"MemberExpression","start":3949,"end":3960,"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":27}},"object":{"type":"Identifier","start":3949,"end":3956,"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":23}},"name":"process"},"property":{"type":"Identifier","start":3957,"end":3960,"loc":{"start":{"line":105,"column":24},"end":{"line":105,"column":27}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":3961,"end":3984,"loc":{"start":{"line":105,"column":28},"end":{"line":105,"column":51}},"name":"COMPANION_COOKIE_DOMAIN"},"computed":false},"kind":"init"},{"type":"Property","start":3994,"end":4021,"loc":{"start":{"line":106,"column":8},"end":{"line":106,"column":35}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3994,"end":4000,"loc":{"start":{"line":106,"column":8},"end":{"line":106,"column":14}},"name":"maxAge"},"value":{"type":"BinaryExpression","start":4002,"end":4021,"loc":{"start":{"line":106,"column":16},"end":{"line":106,"column":35}},"left":{"type":"BinaryExpression","start":4002,"end":4014,"loc":{"start":{"line":106,"column":16},"end":{"line":106,"column":28}},"left":{"type":"BinaryExpression","start":4002,"end":4009,"loc":{"start":{"line":106,"column":16},"end":{"line":106,"column":23}},"left":{"type":"Literal","start":4002,"end":4004,"loc":{"start":{"line":106,"column":16},"end":{"line":106,"column":18}},"value":24,"raw":"24"},"operator":"*","right":{"type":"Literal","start":4007,"end":4009,"loc":{"start":{"line":106,"column":21},"end":{"line":106,"column":23}},"value":60,"raw":"60"}},"operator":"*","right":{"type":"Literal","start":4012,"end":4014,"loc":{"start":{"line":106,"column":26},"end":{"line":106,"column":28}},"value":60,"raw":"60"}},"operator":"*","right":{"type":"Literal","start":4017,"end":4021,"loc":{"start":{"line":106,"column":31},"end":{"line":106,"column":35}},"value":1000,"raw":"1000"}},"kind":"init"}]}}}]},"alternate":null},{"type":"ExpressionStatement","start":4040,"end":4073,"loc":{"start":{"line":109,"column":0},"end":{"line":109,"column":33}},"expression":{"type":"CallExpression","start":4040,"end":4072,"loc":{"start":{"line":109,"column":0},"end":{"line":109,"column":32}},"callee":{"type":"MemberExpression","start":4040,"end":4047,"loc":{"start":{"line":109,"column":0},"end":{"line":109,"column":7}},"object":{"type":"Identifier","start":4040,"end":4043,"loc":{"start":{"line":109,"column":0},"end":{"line":109,"column":3}},"name":"app"},"property":{"type":"Identifier","start":4044,"end":4047,"loc":{"start":{"line":109,"column":4},"end":{"line":109,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":4048,"end":4071,"loc":{"start":{"line":109,"column":8},"end":{"line":109,"column":31}},"callee":{"type":"Identifier","start":4048,"end":4055,"loc":{"start":{"line":109,"column":8},"end":{"line":109,"column":15}},"name":"session"},"arguments":[{"type":"Identifier","start":4056,"end":4070,"loc":{"start":{"line":109,"column":16},"end":{"line":109,"column":30}},"name":"sessionOptions"}]}]}},{"type":"ExpressionStatement","start":4074,"end":5239,"loc":{"start":{"line":110,"column":0},"end":{"line":132,"column":3}},"expression":{"type":"CallExpression","start":4074,"end":5238,"loc":{"start":{"line":110,"column":0},"end":{"line":132,"column":2}},"callee":{"type":"MemberExpression","start":4074,"end":4081,"loc":{"start":{"line":110,"column":0},"end":{"line":110,"column":7}},"object":{"type":"Identifier","start":4074,"end":4077,"loc":{"start":{"line":110,"column":0},"end":{"line":110,"column":3}},"name":"app"},"property":{"type":"Identifier","start":4078,"end":4081,"loc":{"start":{"line":110,"column":4},"end":{"line":110,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4082,"end":5237,"loc":{"start":{"line":110,"column":8},"end":{"line":132,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4083,"end":4086,"loc":{"start":{"line":110,"column":9},"end":{"line":110,"column":12}},"name":"req"},{"type":"Identifier","start":4088,"end":4091,"loc":{"start":{"line":110,"column":14},"end":{"line":110,"column":17}},"name":"res"},{"type":"Identifier","start":4093,"end":4097,"loc":{"start":{"line":110,"column":19},"end":{"line":110,"column":23}},"name":"next"}],"body":{"type":"BlockStatement","start":4102,"end":5237,"loc":{"start":{"line":110,"column":28},"end":{"line":132,"column":1}},"body":[{"type":"VariableDeclaration","start":4108,"end":4166,"loc":{"start":{"line":111,"column":4},"end":{"line":111,"column":62}},"declarations":[{"type":"VariableDeclarator","start":4114,"end":4165,"loc":{"start":{"line":111,"column":10},"end":{"line":111,"column":61}},"id":{"type":"Identifier","start":4114,"end":4122,"loc":{"start":{"line":111,"column":10},"end":{"line":111,"column":18}},"name":"protocol"},"init":{"type":"LogicalExpression","start":4125,"end":4165,"loc":{"start":{"line":111,"column":21},"end":{"line":111,"column":61}},"left":{"type":"MemberExpression","start":4125,"end":4155,"loc":{"start":{"line":111,"column":21},"end":{"line":111,"column":51}},"object":{"type":"MemberExpression","start":4125,"end":4136,"loc":{"start":{"line":111,"column":21},"end":{"line":111,"column":32}},"object":{"type":"Identifier","start":4125,"end":4132,"loc":{"start":{"line":111,"column":21},"end":{"line":111,"column":28}},"name":"process"},"property":{"type":"Identifier","start":4133,"end":4136,"loc":{"start":{"line":111,"column":29},"end":{"line":111,"column":32}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":4137,"end":4155,"loc":{"start":{"line":111,"column":33},"end":{"line":111,"column":51}},"name":"COMPANION_PROTOCOL"},"computed":false},"operator":"||","right":{"type":"Literal","start":4159,"end":4165,"loc":{"start":{"line":111,"column":55},"end":{"line":111,"column":61}},"value":"http","raw":"'http'"}}}],"kind":"const"},{"type":"IfStatement","start":4389,"end":5032,"loc":{"start":{"line":115,"column":4},"end":{"line":128,"column":5}},"test":{"type":"MemberExpression","start":4393,"end":4429,"loc":{"start":{"line":115,"column":8},"end":{"line":115,"column":44}},"object":{"type":"MemberExpression","start":4393,"end":4404,"loc":{"start":{"line":115,"column":8},"end":{"line":115,"column":19}},"object":{"type":"Identifier","start":4393,"end":4400,"loc":{"start":{"line":115,"column":8},"end":{"line":115,"column":15}},"name":"process"},"property":{"type":"Identifier","start":4401,"end":4404,"loc":{"start":{"line":115,"column":16},"end":{"line":115,"column":19}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":4405,"end":4429,"loc":{"start":{"line":115,"column":20},"end":{"line":115,"column":44}},"name":"COMPANION_CLIENT_ORIGINS"},"computed":false},"consequent":{"type":"BlockStatement","start":4431,"end":4934,"loc":{"start":{"line":115,"column":46},"end":{"line":125,"column":5}},"body":[{"type":"VariableDeclaration","start":4441,"end":4602,"loc":{"start":{"line":116,"column":8},"end":{"line":118,"column":82}},"declarations":[{"type":"VariableDeclarator","start":4447,"end":4601,"loc":{"start":{"line":116,"column":14},"end":{"line":118,"column":81}},"id":{"type":"Identifier","start":4447,"end":4456,"loc":{"start":{"line":116,"column":14},"end":{"line":116,"column":23}},"name":"whitelist"},"init":{"type":"CallExpression","start":4459,"end":4601,"loc":{"start":{"line":116,"column":26},"end":{"line":118,"column":81}},"callee":{"type":"MemberExpression","start":4459,"end":4536,"loc":{"start":{"line":116,"column":26},"end":{"line":118,"column":16}},"object":{"type":"CallExpression","start":4459,"end":4519,"loc":{"start":{"line":116,"column":26},"end":{"line":117,"column":23}},"callee":{"type":"MemberExpression","start":4459,"end":4514,"loc":{"start":{"line":116,"column":26},"end":{"line":117,"column":18}},"object":{"type":"MemberExpression","start":4459,"end":4495,"loc":{"start":{"line":116,"column":26},"end":{"line":116,"column":62}},"object":{"type":"MemberExpression","start":4459,"end":4470,"loc":{"start":{"line":116,"column":26},"end":{"line":116,"column":37}},"object":{"type":"Identifier","start":4459,"end":4466,"loc":{"start":{"line":116,"column":26},"end":{"line":116,"column":33}},"name":"process"},"property":{"type":"Identifier","start":4467,"end":4470,"loc":{"start":{"line":116,"column":34},"end":{"line":116,"column":37}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":4471,"end":4495,"loc":{"start":{"line":116,"column":38},"end":{"line":116,"column":62}},"name":"COMPANION_CLIENT_ORIGINS"},"computed":false},"property":{"type":"Identifier","start":4509,"end":4514,"loc":{"start":{"line":117,"column":13},"end":{"line":117,"column":18}},"name":"split"},"computed":false},"arguments":[{"type":"Literal","start":4515,"end":4518,"loc":{"start":{"line":117,"column":19},"end":{"line":117,"column":22}},"value":",","raw":"','"}]},"property":{"type":"Identifier","start":4533,"end":4536,"loc":{"start":{"line":118,"column":13},"end":{"line":118,"column":16}},"name":"map"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4537,"end":4600,"loc":{"start":{"line":118,"column":17},"end":{"line":118,"column":80}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4538,"end":4541,"loc":{"start":{"line":118,"column":18},"end":{"line":118,"column":21}},"name":"url"}],"body":{"type":"ConditionalExpression","start":4546,"end":4600,"loc":{"start":{"line":118,"column":26},"end":{"line":118,"column":80}},"test":{"type":"CallExpression","start":4546,"end":4569,"loc":{"start":{"line":118,"column":26},"end":{"line":118,"column":49}},"callee":{"type":"MemberExpression","start":4546,"end":4564,"loc":{"start":{"line":118,"column":26},"end":{"line":118,"column":44}},"object":{"type":"Identifier","start":4546,"end":4552,"loc":{"start":{"line":118,"column":26},"end":{"line":118,"column":32}},"name":"helper"},"property":{"type":"Identifier","start":4553,"end":4564,"loc":{"start":{"line":118,"column":33},"end":{"line":118,"column":44}},"name":"hasProtocol"},"computed":false},"arguments":[{"type":"Identifier","start":4565,"end":4568,"loc":{"start":{"line":118,"column":45},"end":{"line":118,"column":48}},"name":"url"}]},"consequent":{"type":"Identifier","start":4572,"end":4575,"loc":{"start":{"line":118,"column":52},"end":{"line":118,"column":55}},"name":"url"},"alternate":{"type":"TemplateLiteral","start":4578,"end":4600,"loc":{"start":{"line":118,"column":58},"end":{"line":118,"column":80}},"expressions":[{"type":"Identifier","start":4581,"end":4589,"loc":{"start":{"line":118,"column":61},"end":{"line":118,"column":69}},"name":"protocol"},{"type":"Identifier","start":4595,"end":4598,"loc":{"start":{"line":118,"column":75},"end":{"line":118,"column":78}},"name":"url"}],"quasis":[{"type":"TemplateElement","start":4579,"end":4579,"loc":{"start":{"line":118,"column":59},"end":{"line":118,"column":59}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":4590,"end":4593,"loc":{"start":{"line":118,"column":70},"end":{"line":118,"column":73}},"value":{"raw":"://","cooked":"://"},"tail":false},{"type":"TemplateElement","start":4599,"end":4599,"loc":{"start":{"line":118,"column":79},"end":{"line":118,"column":79}},"value":{"raw":"","cooked":""},"tail":true}]}}}]}}],"kind":"const"},{"type":"IfStatement","start":4633,"end":4928,"loc":{"start":{"line":120,"column":8},"end":{"line":124,"column":9}},"test":{"type":"LogicalExpression","start":4637,"end":4701,"loc":{"start":{"line":120,"column":12},"end":{"line":120,"column":76}},"left":{"type":"MemberExpression","start":4637,"end":4655,"loc":{"start":{"line":120,"column":12},"end":{"line":120,"column":30}},"object":{"type":"MemberExpression","start":4637,"end":4648,"loc":{"start":{"line":120,"column":12},"end":{"line":120,"column":23}},"object":{"type":"Identifier","start":4637,"end":4640,"loc":{"start":{"line":120,"column":12},"end":{"line":120,"column":15}},"name":"req"},"property":{"type":"Identifier","start":4641,"end":4648,"loc":{"start":{"line":120,"column":16},"end":{"line":120,"column":23}},"name":"headers"},"computed":false},"property":{"type":"Identifier","start":4649,"end":4655,"loc":{"start":{"line":120,"column":24},"end":{"line":120,"column":30}},"name":"origin"},"computed":false},"operator":"&&","right":{"type":"BinaryExpression","start":4659,"end":4701,"loc":{"start":{"line":120,"column":34},"end":{"line":120,"column":76}},"left":{"type":"CallExpression","start":4659,"end":4696,"loc":{"start":{"line":120,"column":34},"end":{"line":120,"column":71}},"callee":{"type":"MemberExpression","start":4659,"end":4676,"loc":{"start":{"line":120,"column":34},"end":{"line":120,"column":51}},"object":{"type":"Identifier","start":4659,"end":4668,"loc":{"start":{"line":120,"column":34},"end":{"line":120,"column":43}},"name":"whitelist"},"property":{"type":"Identifier","start":4669,"end":4676,"loc":{"start":{"line":120,"column":44},"end":{"line":120,"column":51}},"name":"indexOf"},"computed":false},"arguments":[{"type":"MemberExpression","start":4677,"end":4695,"loc":{"start":{"line":120,"column":52},"end":{"line":120,"column":70}},"object":{"type":"MemberExpression","start":4677,"end":4688,"loc":{"start":{"line":120,"column":52},"end":{"line":120,"column":63}},"object":{"type":"Identifier","start":4677,"end":4680,"loc":{"start":{"line":120,"column":52},"end":{"line":120,"column":55}},"name":"req"},"property":{"type":"Identifier","start":4681,"end":4688,"loc":{"start":{"line":120,"column":56},"end":{"line":120,"column":63}},"name":"headers"},"computed":false},"property":{"type":"Identifier","start":4689,"end":4695,"loc":{"start":{"line":120,"column":64},"end":{"line":120,"column":70}},"name":"origin"},"computed":false}]},"operator":">","right":{"type":"UnaryExpression","start":4699,"end":4701,"loc":{"start":{"line":120,"column":74},"end":{"line":120,"column":76}},"operator":"-","prefix":true,"argument":{"type":"Literal","start":4700,"end":4701,"loc":{"start":{"line":120,"column":75},"end":{"line":120,"column":76}},"value":1,"raw":"1"}}}},"consequent":{"type":"BlockStatement","start":4703,"end":4928,"loc":{"start":{"line":120,"column":78},"end":{"line":124,"column":9}},"body":[{"type":"ExpressionStatement","start":4717,"end":4782,"loc":{"start":{"line":121,"column":12},"end":{"line":121,"column":77}},"expression":{"type":"CallExpression","start":4717,"end":4781,"loc":{"start":{"line":121,"column":12},"end":{"line":121,"column":76}},"callee":{"type":"MemberExpression","start":4717,"end":4730,"loc":{"start":{"line":121,"column":12},"end":{"line":121,"column":25}},"object":{"type":"Identifier","start":4717,"end":4720,"loc":{"start":{"line":121,"column":12},"end":{"line":121,"column":15}},"name":"res"},"property":{"type":"Identifier","start":4721,"end":4730,"loc":{"start":{"line":121,"column":16},"end":{"line":121,"column":25}},"name":"setHeader"},"computed":false},"arguments":[{"type":"Literal","start":4731,"end":4760,"loc":{"start":{"line":121,"column":26},"end":{"line":121,"column":55}},"value":"Access-Control-Allow-Origin","raw":"'Access-Control-Allow-Origin'"},{"type":"MemberExpression","start":4762,"end":4780,"loc":{"start":{"line":121,"column":57},"end":{"line":121,"column":75}},"object":{"type":"MemberExpression","start":4762,"end":4773,"loc":{"start":{"line":121,"column":57},"end":{"line":121,"column":68}},"object":{"type":"Identifier","start":4762,"end":4765,"loc":{"start":{"line":121,"column":57},"end":{"line":121,"column":60}},"name":"req"},"property":{"type":"Identifier","start":4766,"end":4773,"loc":{"start":{"line":121,"column":61},"end":{"line":121,"column":68}},"name":"headers"},"computed":false},"property":{"type":"Identifier","start":4774,"end":4780,"loc":{"start":{"line":121,"column":69},"end":{"line":121,"column":75}},"name":"origin"},"computed":false}]}},{"type":"ExpressionStatement","start":4860,"end":4918,"loc":{"start":{"line":123,"column":12},"end":{"line":123,"column":70}},"expression":{"type":"CallExpression","start":4860,"end":4917,"loc":{"start":{"line":123,"column":12},"end":{"line":123,"column":69}},"callee":{"type":"MemberExpression","start":4860,"end":4873,"loc":{"start":{"line":123,"column":12},"end":{"line":123,"column":25}},"object":{"type":"Identifier","start":4860,"end":4863,"loc":{"start":{"line":123,"column":12},"end":{"line":123,"column":15}},"name":"res"},"property":{"type":"Identifier","start":4864,"end":4873,"loc":{"start":{"line":123,"column":16},"end":{"line":123,"column":25}},"name":"setHeader"},"computed":false},"arguments":[{"type":"Literal","start":4874,"end":4908,"loc":{"start":{"line":123,"column":26},"end":{"line":123,"column":60}},"value":"Access-Control-Allow-Credentials","raw":"'Access-Control-Allow-Credentials'"},{"type":"Literal","start":4910,"end":4916,"loc":{"start":{"line":123,"column":62},"end":{"line":123,"column":68}},"value":"true","raw":"'true'"}]}}]},"alternate":null}]},"alternate":{"type":"BlockStatement","start":4944,"end":5032,"loc":{"start":{"line":126,"column":9},"end":{"line":128,"column":5}},"body":[{"type":"ExpressionStatement","start":4954,"end":5026,"loc":{"start":{"line":127,"column":8},"end":{"line":127,"column":80}},"expression":{"type":"CallExpression","start":4954,"end":5025,"loc":{"start":{"line":127,"column":8},"end":{"line":127,"column":79}},"callee":{"type":"MemberExpression","start":4954,"end":4967,"loc":{"start":{"line":127,"column":8},"end":{"line":127,"column":21}},"object":{"type":"Identifier","start":4954,"end":4957,"loc":{"start":{"line":127,"column":8},"end":{"line":127,"column":11}},"name":"res"},"property":{"type":"Identifier","start":4958,"end":4967,"loc":{"start":{"line":127,"column":12},"end":{"line":127,"column":21}},"name":"setHeader"},"computed":false},"arguments":[{"type":"Literal","start":4968,"end":4997,"loc":{"start":{"line":127,"column":22},"end":{"line":127,"column":51}},"value":"Access-Control-Allow-Origin","raw":"'Access-Control-Allow-Origin'"},{"type":"LogicalExpression","start":4999,"end":5024,"loc":{"start":{"line":127,"column":53},"end":{"line":127,"column":78}},"left":{"type":"MemberExpression","start":4999,"end":5017,"loc":{"start":{"line":127,"column":53},"end":{"line":127,"column":71}},"object":{"type":"MemberExpression","start":4999,"end":5010,"loc":{"start":{"line":127,"column":53},"end":{"line":127,"column":64}},"object":{"type":"Identifier","start":4999,"end":5002,"loc":{"start":{"line":127,"column":53},"end":{"line":127,"column":56}},"name":"req"},"property":{"type":"Identifier","start":5003,"end":5010,"loc":{"start":{"line":127,"column":57},"end":{"line":127,"column":64}},"name":"headers"},"computed":false},"property":{"type":"Identifier","start":5011,"end":5017,"loc":{"start":{"line":127,"column":65},"end":{"line":127,"column":71}},"name":"origin"},"computed":false},"operator":"||","right":{"type":"Literal","start":5021,"end":5024,"loc":{"start":{"line":127,"column":75},"end":{"line":127,"column":78}},"value":"*","raw":"'*'"}}]}}]}},{"type":"ExpressionStatement","start":5037,"end":5125,"loc":{"start":{"line":129,"column":4},"end":{"line":129,"column":92}},"expression":{"type":"CallExpression","start":5037,"end":5124,"loc":{"start":{"line":129,"column":4},"end":{"line":129,"column":91}},"callee":{"type":"MemberExpression","start":5037,"end":5050,"loc":{"start":{"line":129,"column":4},"end":{"line":129,"column":17}},"object":{"type":"Identifier","start":5037,"end":5040,"loc":{"start":{"line":129,"column":4},"end":{"line":129,"column":7}},"name":"res"},"property":{"type":"Identifier","start":5041,"end":5050,"loc":{"start":{"line":129,"column":8},"end":{"line":129,"column":17}},"name":"setHeader"},"computed":false},"arguments":[{"type":"Literal","start":5051,"end":5081,"loc":{"start":{"line":129,"column":18},"end":{"line":129,"column":48}},"value":"Access-Control-Allow-Methods","raw":"'Access-Control-Allow-Methods'"},{"type":"Literal","start":5083,"end":5123,"loc":{"start":{"line":129,"column":50},"end":{"line":129,"column":90}},"value":"GET, POST, OPTIONS, PUT, PATCH, DELETE","raw":"'GET, POST, OPTIONS, PUT, PATCH, DELETE'"}]}},{"type":"ExpressionStatement","start":5130,"end":5223,"loc":{"start":{"line":130,"column":4},"end":{"line":130,"column":97}},"expression":{"type":"CallExpression","start":5130,"end":5222,"loc":{"start":{"line":130,"column":4},"end":{"line":130,"column":96}},"callee":{"type":"MemberExpression","start":5130,"end":5143,"loc":{"start":{"line":130,"column":4},"end":{"line":130,"column":17}},"object":{"type":"Identifier","start":5130,"end":5133,"loc":{"start":{"line":130,"column":4},"end":{"line":130,"column":7}},"name":"res"},"property":{"type":"Identifier","start":5134,"end":5143,"loc":{"start":{"line":130,"column":8},"end":{"line":130,"column":17}},"name":"setHeader"},"computed":false},"arguments":[{"type":"Literal","start":5144,"end":5174,"loc":{"start":{"line":130,"column":18},"end":{"line":130,"column":48}},"value":"Access-Control-Allow-Headers","raw":"'Access-Control-Allow-Headers'"},{"type":"Literal","start":5176,"end":5221,"loc":{"start":{"line":130,"column":50},"end":{"line":130,"column":95}},"value":"Authorization, Origin, Content-Type, Accept","raw":"'Authorization, Origin, Content-Type, Accept'"}]}},{"type":"ExpressionStatement","start":5228,"end":5235,"loc":{"start":{"line":131,"column":4},"end":{"line":131,"column":11}},"expression":{"type":"CallExpression","start":5228,"end":5234,"loc":{"start":{"line":131,"column":4},"end":{"line":131,"column":10}},"callee":{"type":"Identifier","start":5228,"end":5232,"loc":{"start":{"line":131,"column":4},"end":{"line":131,"column":8}},"name":"next"},"arguments":[]}}]}}]}},{"type":"ExpressionStatement","start":5250,"end":5398,"loc":{"start":{"line":134,"column":0},"end":{"line":137,"column":3}},"expression":{"type":"CallExpression","start":5250,"end":5397,"loc":{"start":{"line":134,"column":0},"end":{"line":137,"column":2}},"callee":{"type":"MemberExpression","start":5250,"end":5257,"loc":{"start":{"line":134,"column":0},"end":{"line":134,"column":7}},"object":{"type":"Identifier","start":5250,"end":5253,"loc":{"start":{"line":134,"column":0},"end":{"line":134,"column":3}},"name":"app"},"property":{"type":"Identifier","start":5254,"end":5257,"loc":{"start":{"line":134,"column":4},"end":{"line":134,"column":7}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":5258,"end":5261,"loc":{"start":{"line":134,"column":8},"end":{"line":134,"column":11}},"value":"/","raw":"'/'"},{"type":"ArrowFunctionExpression","start":5263,"end":5396,"loc":{"start":{"line":134,"column":13},"end":{"line":137,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5264,"end":5267,"loc":{"start":{"line":134,"column":14},"end":{"line":134,"column":17}},"name":"req"},{"type":"Identifier","start":5269,"end":5272,"loc":{"start":{"line":134,"column":19},"end":{"line":134,"column":22}},"name":"res"}],"body":{"type":"BlockStatement","start":5277,"end":5396,"loc":{"start":{"line":134,"column":27},"end":{"line":137,"column":1}},"body":[{"type":"ExpressionStatement","start":5283,"end":5327,"loc":{"start":{"line":135,"column":4},"end":{"line":135,"column":48}},"expression":{"type":"CallExpression","start":5283,"end":5326,"loc":{"start":{"line":135,"column":4},"end":{"line":135,"column":47}},"callee":{"type":"MemberExpression","start":5283,"end":5296,"loc":{"start":{"line":135,"column":4},"end":{"line":135,"column":17}},"object":{"type":"Identifier","start":5283,"end":5286,"loc":{"start":{"line":135,"column":4},"end":{"line":135,"column":7}},"name":"res"},"property":{"type":"Identifier","start":5287,"end":5296,"loc":{"start":{"line":135,"column":8},"end":{"line":135,"column":17}},"name":"setHeader"},"computed":false},"arguments":[{"type":"Literal","start":5297,"end":5311,"loc":{"start":{"line":135,"column":18},"end":{"line":135,"column":32}},"value":"Content-Type","raw":"'Content-Type'"},{"type":"Literal","start":5313,"end":5325,"loc":{"start":{"line":135,"column":34},"end":{"line":135,"column":46}},"value":"text/plain","raw":"'text/plain'"}]}},{"type":"ExpressionStatement","start":5332,"end":5394,"loc":{"start":{"line":136,"column":4},"end":{"line":136,"column":66}},"expression":{"type":"CallExpression","start":5332,"end":5393,"loc":{"start":{"line":136,"column":4},"end":{"line":136,"column":65}},"callee":{"type":"MemberExpression","start":5332,"end":5340,"loc":{"start":{"line":136,"column":4},"end":{"line":136,"column":12}},"object":{"type":"Identifier","start":5332,"end":5335,"loc":{"start":{"line":136,"column":4},"end":{"line":136,"column":7}},"name":"res"},"property":{"type":"Identifier","start":5336,"end":5340,"loc":{"start":{"line":136,"column":8},"end":{"line":136,"column":12}},"name":"send"},"computed":false},"arguments":[{"type":"CallExpression","start":5341,"end":5392,"loc":{"start":{"line":136,"column":13},"end":{"line":136,"column":64}},"callee":{"type":"MemberExpression","start":5341,"end":5374,"loc":{"start":{"line":136,"column":13},"end":{"line":136,"column":46}},"object":{"type":"Identifier","start":5341,"end":5347,"loc":{"start":{"line":136,"column":13},"end":{"line":136,"column":19}},"name":"helper"},"property":{"type":"Identifier","start":5348,"end":5374,"loc":{"start":{"line":136,"column":20},"end":{"line":136,"column":46}},"name":"buildHelpfulStartupMessage"},"computed":false},"arguments":[{"type":"Identifier","start":5375,"end":5391,"loc":{"start":{"line":136,"column":47},"end":{"line":136,"column":63}},"name":"companionOptions"}]}]}}]}}]}},{"type":"VariableDeclaration","start":5399,"end":5416,"loc":{"start":{"line":138,"column":0},"end":{"line":138,"column":17}},"declarations":[{"type":"VariableDeclarator","start":5403,"end":5415,"loc":{"start":{"line":138,"column":4},"end":{"line":138,"column":16}},"id":{"type":"Identifier","start":5403,"end":5415,"loc":{"start":{"line":138,"column":4},"end":{"line":138,"column":16}},"name":"companionApp"},"init":null}],"kind":"let"},{"type":"TryStatement","start":5417,"end":5600,"loc":{"start":{"line":139,"column":0},"end":{"line":146,"column":1}},"block":{"type":"BlockStatement","start":5421,"end":5504,"loc":{"start":{"line":139,"column":4},"end":{"line":142,"column":1}},"body":[{"type":"ExpressionStatement","start":5455,"end":5502,"loc":{"start":{"line":141,"column":4},"end":{"line":141,"column":51}},"expression":{"type":"AssignmentExpression","start":5455,"end":5501,"loc":{"start":{"line":141,"column":4},"end":{"line":141,"column":50}},"operator":"=","left":{"type":"Identifier","start":5455,"end":5467,"loc":{"start":{"line":141,"column":4},"end":{"line":141,"column":16}},"name":"companionApp"},"right":{"type":"CallExpression","start":5470,"end":5501,"loc":{"start":{"line":141,"column":19},"end":{"line":141,"column":50}},"callee":{"type":"MemberExpression","start":5470,"end":5483,"loc":{"start":{"line":141,"column":19},"end":{"line":141,"column":32}},"object":{"type":"Identifier","start":5470,"end":5479,"loc":{"start":{"line":141,"column":19},"end":{"line":141,"column":28}},"name":"companion"},"property":{"type":"Identifier","start":5480,"end":5483,"loc":{"start":{"line":141,"column":29},"end":{"line":141,"column":32}},"name":"app"},"computed":false},"arguments":[{"type":"Identifier","start":5484,"end":5500,"loc":{"start":{"line":141,"column":33},"end":{"line":141,"column":49}},"name":"companionOptions"}]}}}]},"handler":{"type":"CatchClause","start":5505,"end":5600,"loc":{"start":{"line":143,"column":0},"end":{"line":146,"column":1}},"param":{"type":"Identifier","start":5512,"end":5517,"loc":{"start":{"line":143,"column":7},"end":{"line":143,"column":12}},"name":"error"},"body":{"type":"BlockStatement","start":5519,"end":5600,"loc":{"start":{"line":143,"column":14},"end":{"line":146,"column":1}},"body":[{"type":"ExpressionStatement","start":5525,"end":5577,"loc":{"start":{"line":144,"column":4},"end":{"line":144,"column":56}},"expression":{"type":"CallExpression","start":5525,"end":5576,"loc":{"start":{"line":144,"column":4},"end":{"line":144,"column":55}},"callee":{"type":"MemberExpression","start":5525,"end":5538,"loc":{"start":{"line":144,"column":4},"end":{"line":144,"column":17}},"object":{"type":"Identifier","start":5525,"end":5532,"loc":{"start":{"line":144,"column":4},"end":{"line":144,"column":11}},"name":"console"},"property":{"type":"Identifier","start":5533,"end":5538,"loc":{"start":{"line":144,"column":12},"end":{"line":144,"column":17}},"name":"error"},"computed":false},"arguments":[{"type":"Literal","start":5539,"end":5549,"loc":{"start":{"line":144,"column":18},"end":{"line":144,"column":28}},"value":"\u001b[31m","raw":"'\\x1b[31m'"},{"type":"MemberExpression","start":5551,"end":5564,"loc":{"start":{"line":144,"column":30},"end":{"line":144,"column":43}},"object":{"type":"Identifier","start":5551,"end":5556,"loc":{"start":{"line":144,"column":30},"end":{"line":144,"column":35}},"name":"error"},"property":{"type":"Identifier","start":5557,"end":5564,"loc":{"start":{"line":144,"column":36},"end":{"line":144,"column":43}},"name":"message"},"computed":false},{"type":"Literal","start":5566,"end":5575,"loc":{"start":{"line":144,"column":45},"end":{"line":144,"column":54}},"value":"\u001b[0m","raw":"'\\x1b[0m'"}]}},{"type":"ExpressionStatement","start":5582,"end":5598,"loc":{"start":{"line":145,"column":4},"end":{"line":145,"column":20}},"expression":{"type":"CallExpression","start":5582,"end":5597,"loc":{"start":{"line":145,"column":4},"end":{"line":145,"column":19}},"callee":{"type":"MemberExpression","start":5582,"end":5594,"loc":{"start":{"line":145,"column":4},"end":{"line":145,"column":16}},"object":{"type":"Identifier","start":5582,"end":5589,"loc":{"start":{"line":145,"column":4},"end":{"line":145,"column":11}},"name":"process"},"property":{"type":"Identifier","start":5590,"end":5594,"loc":{"start":{"line":145,"column":12},"end":{"line":145,"column":16}},"name":"exit"},"computed":false},"arguments":[{"type":"Literal","start":5595,"end":5596,"loc":{"start":{"line":145,"column":17},"end":{"line":145,"column":18}},"value":1,"raw":"1"}]}}]}},"finalizer":null},{"type":"IfStatement","start":5639,"end":5765,"loc":{"start":{"line":148,"column":0},"end":{"line":153,"column":1}},"test":{"type":"MemberExpression","start":5643,"end":5669,"loc":{"start":{"line":148,"column":4},"end":{"line":148,"column":30}},"object":{"type":"MemberExpression","start":5643,"end":5654,"loc":{"start":{"line":148,"column":4},"end":{"line":148,"column":15}},"object":{"type":"Identifier","start":5643,"end":5650,"loc":{"start":{"line":148,"column":4},"end":{"line":148,"column":11}},"name":"process"},"property":{"type":"Identifier","start":5651,"end":5654,"loc":{"start":{"line":148,"column":12},"end":{"line":148,"column":15}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":5655,"end":5669,"loc":{"start":{"line":148,"column":16},"end":{"line":148,"column":30}},"name":"COMPANION_PATH"},"computed":false},"consequent":{"type":"BlockStatement","start":5671,"end":5729,"loc":{"start":{"line":148,"column":32},"end":{"line":150,"column":1}},"body":[{"type":"ExpressionStatement","start":5677,"end":5727,"loc":{"start":{"line":149,"column":4},"end":{"line":149,"column":54}},"expression":{"type":"CallExpression","start":5677,"end":5726,"loc":{"start":{"line":149,"column":4},"end":{"line":149,"column":53}},"callee":{"type":"MemberExpression","start":5677,"end":5684,"loc":{"start":{"line":149,"column":4},"end":{"line":149,"column":11}},"object":{"type":"Identifier","start":5677,"end":5680,"loc":{"start":{"line":149,"column":4},"end":{"line":149,"column":7}},"name":"app"},"property":{"type":"Identifier","start":5681,"end":5684,"loc":{"start":{"line":149,"column":8},"end":{"line":149,"column":11}},"name":"use"},"computed":false},"arguments":[{"type":"MemberExpression","start":5685,"end":5711,"loc":{"start":{"line":149,"column":12},"end":{"line":149,"column":38}},"object":{"type":"MemberExpression","start":5685,"end":5696,"loc":{"start":{"line":149,"column":12},"end":{"line":149,"column":23}},"object":{"type":"Identifier","start":5685,"end":5692,"loc":{"start":{"line":149,"column":12},"end":{"line":149,"column":19}},"name":"process"},"property":{"type":"Identifier","start":5693,"end":5696,"loc":{"start":{"line":149,"column":20},"end":{"line":149,"column":23}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":5697,"end":5711,"loc":{"start":{"line":149,"column":24},"end":{"line":149,"column":38}},"name":"COMPANION_PATH"},"computed":false},{"type":"Identifier","start":5713,"end":5725,"loc":{"start":{"line":149,"column":40},"end":{"line":149,"column":52}},"name":"companionApp"}]}}]},"alternate":{"type":"BlockStatement","start":5735,"end":5765,"loc":{"start":{"line":151,"column":5},"end":{"line":153,"column":1}},"body":[{"type":"ExpressionStatement","start":5741,"end":5763,"loc":{"start":{"line":152,"column":4},"end":{"line":152,"column":26}},"expression":{"type":"CallExpression","start":5741,"end":5762,"loc":{"start":{"line":152,"column":4},"end":{"line":152,"column":25}},"callee":{"type":"MemberExpression","start":5741,"end":5748,"loc":{"start":{"line":152,"column":4},"end":{"line":152,"column":11}},"object":{"type":"Identifier","start":5741,"end":5744,"loc":{"start":{"line":152,"column":4},"end":{"line":152,"column":7}},"name":"app"},"property":{"type":"Identifier","start":5745,"end":5748,"loc":{"start":{"line":152,"column":8},"end":{"line":152,"column":11}},"name":"use"},"computed":false},"arguments":[{"type":"Identifier","start":5749,"end":5761,"loc":{"start":{"line":152,"column":12},"end":{"line":152,"column":24}},"name":"companionApp"}]}}]}},{"type":"IfStatement","start":6202,"end":6967,"loc":{"start":{"line":159,"column":0},"end":{"line":173,"column":1}},"test":{"type":"LogicalExpression","start":6206,"end":6303,"loc":{"start":{"line":159,"column":4},"end":{"line":159,"column":101}},"left":{"type":"BinaryExpression","start":6206,"end":6265,"loc":{"start":{"line":159,"column":4},"end":{"line":159,"column":63}},"left":{"type":"MemberExpression","start":6206,"end":6254,"loc":{"start":{"line":159,"column":4},"end":{"line":159,"column":52}},"object":{"type":"MemberExpression","start":6206,"end":6217,"loc":{"start":{"line":159,"column":4},"end":{"line":159,"column":15}},"object":{"type":"Identifier","start":6206,"end":6213,"loc":{"start":{"line":159,"column":4},"end":{"line":159,"column":11}},"name":"process"},"property":{"type":"Identifier","start":6214,"end":6217,"loc":{"start":{"line":159,"column":12},"end":{"line":159,"column":15}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":6218,"end":6254,"loc":{"start":{"line":159,"column":16},"end":{"line":159,"column":52}},"name":"COMPANION_ONEDRIVE_DOMAIN_VALIDATION"},"computed":false},"operator":"===","right":{"type":"Literal","start":6259,"end":6265,"loc":{"start":{"line":159,"column":57},"end":{"line":159,"column":63}},"value":"true","raw":"'true'"}},"operator":"&&","right":{"type":"MemberExpression","start":6269,"end":6303,"loc":{"start":{"line":159,"column":67},"end":{"line":159,"column":101}},"object":{"type":"MemberExpression","start":6269,"end":6280,"loc":{"start":{"line":159,"column":67},"end":{"line":159,"column":78}},"object":{"type":"Identifier","start":6269,"end":6276,"loc":{"start":{"line":159,"column":67},"end":{"line":159,"column":74}},"name":"process"},"property":{"type":"Identifier","start":6277,"end":6280,"loc":{"start":{"line":159,"column":75},"end":{"line":159,"column":78}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":6281,"end":6303,"loc":{"start":{"line":159,"column":79},"end":{"line":159,"column":101}},"name":"COMPANION_ONEDRIVE_KEY"},"computed":false}},"consequent":{"type":"BlockStatement","start":6305,"end":6967,"loc":{"start":{"line":159,"column":103},"end":{"line":173,"column":1}},"body":[{"type":"ExpressionStatement","start":6311,"end":6965,"loc":{"start":{"line":160,"column":4},"end":{"line":172,"column":7}},"expression":{"type":"CallExpression","start":6311,"end":6964,"loc":{"start":{"line":160,"column":4},"end":{"line":172,"column":6}},"callee":{"type":"MemberExpression","start":6311,"end":6318,"loc":{"start":{"line":160,"column":4},"end":{"line":160,"column":11}},"object":{"type":"Identifier","start":6311,"end":6314,"loc":{"start":{"line":160,"column":4},"end":{"line":160,"column":7}},"name":"app"},"property":{"type":"Identifier","start":6315,"end":6318,"loc":{"start":{"line":160,"column":8},"end":{"line":160,"column":11}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":6319,"end":6369,"loc":{"start":{"line":160,"column":12},"end":{"line":160,"column":62}},"value":"/.well-known/microsoft-identity-association.json","raw":"'/.well-known/microsoft-identity-association.json'"},{"type":"ArrowFunctionExpression","start":6371,"end":6963,"loc":{"start":{"line":160,"column":64},"end":{"line":172,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6372,"end":6375,"loc":{"start":{"line":160,"column":65},"end":{"line":160,"column":68}},"name":"req"},{"type":"Identifier","start":6377,"end":6380,"loc":{"start":{"line":160,"column":70},"end":{"line":160,"column":73}},"name":"res"}],"body":{"type":"BlockStatement","start":6385,"end":6963,"loc":{"start":{"line":160,"column":78},"end":{"line":172,"column":5}},"body":[{"type":"VariableDeclaration","start":6395,"end":6561,"loc":{"start":{"line":161,"column":8},"end":{"line":165,"column":11}},"declarations":[{"type":"VariableDeclarator","start":6401,"end":6560,"loc":{"start":{"line":161,"column":14},"end":{"line":165,"column":10}},"id":{"type":"Identifier","start":6401,"end":6408,"loc":{"start":{"line":161,"column":14},"end":{"line":161,"column":21}},"name":"content"},"init":{"type":"CallExpression","start":6411,"end":6560,"loc":{"start":{"line":161,"column":24},"end":{"line":165,"column":10}},"callee":{"type":"MemberExpression","start":6411,"end":6425,"loc":{"start":{"line":161,"column":24},"end":{"line":161,"column":38}},"object":{"type":"Identifier","start":6411,"end":6415,"loc":{"start":{"line":161,"column":24},"end":{"line":161,"column":28}},"name":"JSON"},"property":{"type":"Identifier","start":6416,"end":6425,"loc":{"start":{"line":161,"column":29},"end":{"line":161,"column":38}},"name":"stringify"},"computed":false},"arguments":[{"type":"ObjectExpression","start":6426,"end":6559,"loc":{"start":{"line":161,"column":39},"end":{"line":165,"column":9}},"properties":[{"type":"Property","start":6440,"end":6549,"loc":{"start":{"line":162,"column":12},"end":{"line":164,"column":13}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6440,"end":6462,"loc":{"start":{"line":162,"column":12},"end":{"line":162,"column":34}},"name":"associatedApplications"},"value":{"type":"ArrayExpression","start":6464,"end":6549,"loc":{"start":{"line":162,"column":36},"end":{"line":164,"column":13}},"elements":[{"type":"ObjectExpression","start":6482,"end":6535,"loc":{"start":{"line":163,"column":16},"end":{"line":163,"column":69}},"properties":[{"type":"Property","start":6484,"end":6533,"loc":{"start":{"line":163,"column":18},"end":{"line":163,"column":67}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6484,"end":6497,"loc":{"start":{"line":163,"column":18},"end":{"line":163,"column":31}},"name":"applicationId"},"value":{"type":"MemberExpression","start":6499,"end":6533,"loc":{"start":{"line":163,"column":33},"end":{"line":163,"column":67}},"object":{"type":"MemberExpression","start":6499,"end":6510,"loc":{"start":{"line":163,"column":33},"end":{"line":163,"column":44}},"object":{"type":"Identifier","start":6499,"end":6506,"loc":{"start":{"line":163,"column":33},"end":{"line":163,"column":40}},"name":"process"},"property":{"type":"Identifier","start":6507,"end":6510,"loc":{"start":{"line":163,"column":41},"end":{"line":163,"column":44}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":6511,"end":6533,"loc":{"start":{"line":163,"column":45},"end":{"line":163,"column":67}},"name":"COMPANION_ONEDRIVE_KEY"},"computed":false},"kind":"init"}]}]},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":6570,"end":6640,"loc":{"start":{"line":166,"column":8},"end":{"line":166,"column":78}},"expression":{"type":"CallExpression","start":6570,"end":6639,"loc":{"start":{"line":166,"column":8},"end":{"line":166,"column":77}},"callee":{"type":"MemberExpression","start":6570,"end":6580,"loc":{"start":{"line":166,"column":8},"end":{"line":166,"column":18}},"object":{"type":"Identifier","start":6570,"end":6573,"loc":{"start":{"line":166,"column":8},"end":{"line":166,"column":11}},"name":"res"},"property":{"type":"Identifier","start":6574,"end":6580,"loc":{"start":{"line":166,"column":12},"end":{"line":166,"column":18}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":6581,"end":6597,"loc":{"start":{"line":166,"column":19},"end":{"line":166,"column":35}},"value":"Content-Length","raw":"'Content-Length'"},{"type":"TemplateLiteral","start":6599,"end":6638,"loc":{"start":{"line":166,"column":37},"end":{"line":166,"column":76}},"expressions":[{"type":"CallExpression","start":6602,"end":6636,"loc":{"start":{"line":166,"column":40},"end":{"line":166,"column":74}},"callee":{"type":"MemberExpression","start":6602,"end":6619,"loc":{"start":{"line":166,"column":40},"end":{"line":166,"column":57}},"object":{"type":"Identifier","start":6602,"end":6608,"loc":{"start":{"line":166,"column":40},"end":{"line":166,"column":46}},"name":"Buffer"},"property":{"type":"Identifier","start":6609,"end":6619,"loc":{"start":{"line":166,"column":47},"end":{"line":166,"column":57}},"name":"byteLength"},"computed":false},"arguments":[{"type":"Identifier","start":6620,"end":6627,"loc":{"start":{"line":166,"column":58},"end":{"line":166,"column":65}},"name":"content"},{"type":"Literal","start":6629,"end":6635,"loc":{"start":{"line":166,"column":67},"end":{"line":166,"column":73}},"value":"utf8","raw":"'utf8'"}]}],"quasis":[{"type":"TemplateElement","start":6600,"end":6600,"loc":{"start":{"line":166,"column":38},"end":{"line":166,"column":38}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":6637,"end":6637,"loc":{"start":{"line":166,"column":75},"end":{"line":166,"column":75}},"value":{"raw":"","cooked":""},"tail":true}]}]}},{"type":"ExpressionStatement","start":6851,"end":6910,"loc":{"start":{"line":169,"column":8},"end":{"line":169,"column":67}},"expression":{"type":"CallExpression","start":6851,"end":6909,"loc":{"start":{"line":169,"column":8},"end":{"line":169,"column":66}},"callee":{"type":"MemberExpression","start":6851,"end":6864,"loc":{"start":{"line":169,"column":8},"end":{"line":169,"column":21}},"object":{"type":"Identifier","start":6851,"end":6854,"loc":{"start":{"line":169,"column":8},"end":{"line":169,"column":11}},"name":"res"},"property":{"type":"Identifier","start":6855,"end":6864,"loc":{"start":{"line":169,"column":12},"end":{"line":169,"column":21}},"name":"writeHead"},"computed":false},"arguments":[{"type":"Literal","start":6865,"end":6868,"loc":{"start":{"line":169,"column":22},"end":{"line":169,"column":25}},"value":200,"raw":"200"},{"type":"ObjectExpression","start":6870,"end":6908,"loc":{"start":{"line":169,"column":27},"end":{"line":169,"column":65}},"properties":[{"type":"Property","start":6872,"end":6906,"loc":{"start":{"line":169,"column":29},"end":{"line":169,"column":63}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":6872,"end":6886,"loc":{"start":{"line":169,"column":29},"end":{"line":169,"column":43}},"value":"Content-Type","raw":"'Content-Type'"},"value":{"type":"Literal","start":6888,"end":6906,"loc":{"start":{"line":169,"column":45},"end":{"line":169,"column":63}},"value":"application/json","raw":"'application/json'"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":6919,"end":6938,"loc":{"start":{"line":170,"column":8},"end":{"line":170,"column":27}},"expression":{"type":"CallExpression","start":6919,"end":6937,"loc":{"start":{"line":170,"column":8},"end":{"line":170,"column":26}},"callee":{"type":"MemberExpression","start":6919,"end":6928,"loc":{"start":{"line":170,"column":8},"end":{"line":170,"column":17}},"object":{"type":"Identifier","start":6919,"end":6922,"loc":{"start":{"line":170,"column":8},"end":{"line":170,"column":11}},"name":"res"},"property":{"type":"Identifier","start":6923,"end":6928,"loc":{"start":{"line":170,"column":12},"end":{"line":170,"column":17}},"name":"write"},"computed":false},"arguments":[{"type":"Identifier","start":6929,"end":6936,"loc":{"start":{"line":170,"column":18},"end":{"line":170,"column":25}},"name":"content"}]}},{"type":"ExpressionStatement","start":6947,"end":6957,"loc":{"start":{"line":171,"column":8},"end":{"line":171,"column":18}},"expression":{"type":"CallExpression","start":6947,"end":6956,"loc":{"start":{"line":171,"column":8},"end":{"line":171,"column":17}},"callee":{"type":"MemberExpression","start":6947,"end":6954,"loc":{"start":{"line":171,"column":8},"end":{"line":171,"column":15}},"object":{"type":"Identifier","start":6947,"end":6950,"loc":{"start":{"line":171,"column":8},"end":{"line":171,"column":11}},"name":"res"},"property":{"type":"Identifier","start":6951,"end":6954,"loc":{"start":{"line":171,"column":12},"end":{"line":171,"column":15}},"name":"end"},"computed":false},"arguments":[]}}]}}]}}]},"alternate":null},{"type":"ExpressionStatement","start":6968,"end":7060,"loc":{"start":{"line":174,"column":0},"end":{"line":176,"column":3}},"expression":{"type":"CallExpression","start":6968,"end":7059,"loc":{"start":{"line":174,"column":0},"end":{"line":176,"column":2}},"callee":{"type":"MemberExpression","start":6968,"end":6975,"loc":{"start":{"line":174,"column":0},"end":{"line":174,"column":7}},"object":{"type":"Identifier","start":6968,"end":6971,"loc":{"start":{"line":174,"column":0},"end":{"line":174,"column":3}},"name":"app"},"property":{"type":"Identifier","start":6972,"end":6975,"loc":{"start":{"line":174,"column":4},"end":{"line":174,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":6976,"end":7058,"loc":{"start":{"line":174,"column":8},"end":{"line":176,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6977,"end":6980,"loc":{"start":{"line":174,"column":9},"end":{"line":174,"column":12}},"name":"req"},{"type":"Identifier","start":6982,"end":6985,"loc":{"start":{"line":174,"column":14},"end":{"line":174,"column":17}},"name":"res"},{"type":"Identifier","start":6987,"end":6991,"loc":{"start":{"line":174,"column":19},"end":{"line":174,"column":23}},"name":"next"}],"body":{"type":"BlockStatement","start":6996,"end":7058,"loc":{"start":{"line":174,"column":28},"end":{"line":176,"column":1}},"body":[{"type":"ReturnStatement","start":7002,"end":7056,"loc":{"start":{"line":175,"column":4},"end":{"line":175,"column":58}},"argument":{"type":"CallExpression","start":7009,"end":7055,"loc":{"start":{"line":175,"column":11},"end":{"line":175,"column":57}},"callee":{"type":"MemberExpression","start":7009,"end":7029,"loc":{"start":{"line":175,"column":11},"end":{"line":175,"column":31}},"object":{"type":"CallExpression","start":7009,"end":7024,"loc":{"start":{"line":175,"column":11},"end":{"line":175,"column":26}},"callee":{"type":"MemberExpression","start":7009,"end":7019,"loc":{"start":{"line":175,"column":11},"end":{"line":175,"column":21}},"object":{"type":"Identifier","start":7009,"end":7012,"loc":{"start":{"line":175,"column":11},"end":{"line":175,"column":14}},"name":"res"},"property":{"type":"Identifier","start":7013,"end":7019,"loc":{"start":{"line":175,"column":15},"end":{"line":175,"column":21}},"name":"status"},"computed":false},"arguments":[{"type":"Literal","start":7020,"end":7023,"loc":{"start":{"line":175,"column":22},"end":{"line":175,"column":25}},"value":404,"raw":"404"}]},"property":{"type":"Identifier","start":7025,"end":7029,"loc":{"start":{"line":175,"column":27},"end":{"line":175,"column":31}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":7030,"end":7054,"loc":{"start":{"line":175,"column":32},"end":{"line":175,"column":56}},"properties":[{"type":"Property","start":7032,"end":7052,"loc":{"start":{"line":175,"column":34},"end":{"line":175,"column":54}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7032,"end":7039,"loc":{"start":{"line":175,"column":34},"end":{"line":175,"column":41}},"name":"message"},"value":{"type":"Literal","start":7041,"end":7052,"loc":{"start":{"line":175,"column":43},"end":{"line":175,"column":54}},"value":"Not Found","raw":"'Not Found'"},"kind":"init"}]}]}}]}}]}},{"type":"ExpressionStatement","start":7075,"end":7837,"loc":{"start":{"line":178,"column":0},"end":{"line":195,"column":3}},"expression":{"type":"CallExpression","start":7075,"end":7836,"loc":{"start":{"line":178,"column":0},"end":{"line":195,"column":2}},"callee":{"type":"MemberExpression","start":7075,"end":7082,"loc":{"start":{"line":178,"column":0},"end":{"line":178,"column":7}},"object":{"type":"Identifier","start":7075,"end":7078,"loc":{"start":{"line":178,"column":0},"end":{"line":178,"column":3}},"name":"app"},"property":{"type":"Identifier","start":7079,"end":7082,"loc":{"start":{"line":178,"column":4},"end":{"line":178,"column":7}},"name":"use"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":7083,"end":7835,"loc":{"start":{"line":178,"column":8},"end":{"line":195,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7084,"end":7087,"loc":{"start":{"line":178,"column":9},"end":{"line":178,"column":12}},"name":"err"},{"type":"Identifier","start":7089,"end":7092,"loc":{"start":{"line":178,"column":14},"end":{"line":178,"column":17}},"name":"req"},{"type":"Identifier","start":7094,"end":7097,"loc":{"start":{"line":178,"column":19},"end":{"line":178,"column":22}},"name":"res"},{"type":"Identifier","start":7099,"end":7103,"loc":{"start":{"line":178,"column":24},"end":{"line":178,"column":28}},"name":"next"}],"body":{"type":"BlockStatement","start":7108,"end":7835,"loc":{"start":{"line":178,"column":33},"end":{"line":195,"column":1}},"body":[{"type":"VariableDeclaration","start":7114,"end":7141,"loc":{"start":{"line":179,"column":4},"end":{"line":179,"column":31}},"declarations":[{"type":"VariableDeclarator","start":7120,"end":7140,"loc":{"start":{"line":179,"column":10},"end":{"line":179,"column":30}},"id":{"type":"Identifier","start":7120,"end":7133,"loc":{"start":{"line":179,"column":10},"end":{"line":179,"column":23}},"name":"logStackTrace"},"init":{"type":"Literal","start":7136,"end":7140,"loc":{"start":{"line":179,"column":26},"end":{"line":179,"column":30}},"value":true,"raw":"true"}}],"kind":"const"},{"type":"IfStatement","start":7146,"end":7833,"loc":{"start":{"line":180,"column":4},"end":{"line":194,"column":5}},"test":{"type":"BinaryExpression","start":7150,"end":7181,"loc":{"start":{"line":180,"column":8},"end":{"line":180,"column":39}},"left":{"type":"CallExpression","start":7150,"end":7164,"loc":{"start":{"line":180,"column":8},"end":{"line":180,"column":22}},"callee":{"type":"MemberExpression","start":7150,"end":7157,"loc":{"start":{"line":180,"column":8},"end":{"line":180,"column":15}},"object":{"type":"Identifier","start":7150,"end":7153,"loc":{"start":{"line":180,"column":8},"end":{"line":180,"column":11}},"name":"app"},"property":{"type":"Identifier","start":7154,"end":7157,"loc":{"start":{"line":180,"column":12},"end":{"line":180,"column":15}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":7158,"end":7163,"loc":{"start":{"line":180,"column":16},"end":{"line":180,"column":21}},"value":"env","raw":"'env'"}]},"operator":"===","right":{"type":"Literal","start":7169,"end":7181,"loc":{"start":{"line":180,"column":27},"end":{"line":180,"column":39}},"value":"production","raw":"'production'"}},"consequent":{"type":"BlockStatement","start":7183,"end":7651,"loc":{"start":{"line":180,"column":41},"end":{"line":190,"column":5}},"body":[{"type":"IfStatement","start":7329,"end":7545,"loc":{"start":{"line":183,"column":8},"end":{"line":188,"column":9}},"test":{"type":"LogicalExpression","start":7333,"end":7378,"loc":{"start":{"line":183,"column":12},"end":{"line":183,"column":57}},"left":{"type":"BinaryExpression","start":7333,"end":7351,"loc":{"start":{"line":183,"column":12},"end":{"line":183,"column":30}},"left":{"type":"MemberExpression","start":7333,"end":7343,"loc":{"start":{"line":183,"column":12},"end":{"line":183,"column":22}},"object":{"type":"Identifier","start":7333,"end":7336,"loc":{"start":{"line":183,"column":12},"end":{"line":183,"column":15}},"name":"err"},"property":{"type":"Identifier","start":7337,"end":7343,"loc":{"start":{"line":183,"column":16},"end":{"line":183,"column":22}},"name":"status"},"computed":false},"operator":"===","right":{"type":"Literal","start":7348,"end":7351,"loc":{"start":{"line":183,"column":27},"end":{"line":183,"column":30}},"value":400,"raw":"400"}},"operator":"&&","right":{"type":"BinaryExpression","start":7355,"end":7378,"loc":{"start":{"line":183,"column":34},"end":{"line":183,"column":57}},"left":{"type":"Identifier","start":7355,"end":7358,"loc":{"start":{"line":183,"column":34},"end":{"line":183,"column":37}},"name":"err"},"operator":"instanceof","right":{"type":"Identifier","start":7370,"end":7378,"loc":{"start":{"line":183,"column":49},"end":{"line":183,"column":57}},"name":"URIError"}}},"consequent":{"type":"BlockStatement","start":7380,"end":7452,"loc":{"start":{"line":183,"column":59},"end":{"line":185,"column":9}},"body":[{"type":"ExpressionStatement","start":7394,"end":7442,"loc":{"start":{"line":184,"column":12},"end":{"line":184,"column":60}},"expression":{"type":"CallExpression","start":7394,"end":7441,"loc":{"start":{"line":184,"column":12},"end":{"line":184,"column":59}},"callee":{"type":"MemberExpression","start":7394,"end":7406,"loc":{"start":{"line":184,"column":12},"end":{"line":184,"column":24}},"object":{"type":"Identifier","start":7394,"end":7400,"loc":{"start":{"line":184,"column":12},"end":{"line":184,"column":18}},"name":"logger"},"property":{"type":"Identifier","start":7401,"end":7406,"loc":{"start":{"line":184,"column":19},"end":{"line":184,"column":24}},"name":"error"},"computed":false},"arguments":[{"type":"MemberExpression","start":7407,"end":7418,"loc":{"start":{"line":184,"column":25},"end":{"line":184,"column":36}},"object":{"type":"Identifier","start":7407,"end":7410,"loc":{"start":{"line":184,"column":25},"end":{"line":184,"column":28}},"name":"err"},"property":{"type":"Identifier","start":7411,"end":7418,"loc":{"start":{"line":184,"column":29},"end":{"line":184,"column":36}},"name":"message"},"computed":false},{"type":"Literal","start":7420,"end":7432,"loc":{"start":{"line":184,"column":38},"end":{"line":184,"column":50}},"value":"root.error","raw":"'root.error'"},{"type":"MemberExpression","start":7434,"end":7440,"loc":{"start":{"line":184,"column":52},"end":{"line":184,"column":58}},"object":{"type":"Identifier","start":7434,"end":7437,"loc":{"start":{"line":184,"column":52},"end":{"line":184,"column":55}},"name":"req"},"property":{"type":"Identifier","start":7438,"end":7440,"loc":{"start":{"line":184,"column":56},"end":{"line":184,"column":58}},"name":"id"},"computed":false}]}}]},"alternate":{"type":"BlockStatement","start":7466,"end":7545,"loc":{"start":{"line":186,"column":13},"end":{"line":188,"column":9}},"body":[{"type":"ExpressionStatement","start":7480,"end":7535,"loc":{"start":{"line":187,"column":12},"end":{"line":187,"column":67}},"expression":{"type":"CallExpression","start":7480,"end":7534,"loc":{"start":{"line":187,"column":12},"end":{"line":187,"column":66}},"callee":{"type":"MemberExpression","start":7480,"end":7492,"loc":{"start":{"line":187,"column":12},"end":{"line":187,"column":24}},"object":{"type":"Identifier","start":7480,"end":7486,"loc":{"start":{"line":187,"column":12},"end":{"line":187,"column":18}},"name":"logger"},"property":{"type":"Identifier","start":7487,"end":7492,"loc":{"start":{"line":187,"column":19},"end":{"line":187,"column":24}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":7493,"end":7496,"loc":{"start":{"line":187,"column":25},"end":{"line":187,"column":28}},"name":"err"},{"type":"Literal","start":7498,"end":7510,"loc":{"start":{"line":187,"column":30},"end":{"line":187,"column":42}},"value":"root.error","raw":"'root.error'"},{"type":"MemberExpression","start":7512,"end":7518,"loc":{"start":{"line":187,"column":44},"end":{"line":187,"column":50}},"object":{"type":"Identifier","start":7512,"end":7515,"loc":{"start":{"line":187,"column":44},"end":{"line":187,"column":47}},"name":"req"},"property":{"type":"Identifier","start":7516,"end":7518,"loc":{"start":{"line":187,"column":48},"end":{"line":187,"column":50}},"name":"id"},"computed":false},{"type":"Identifier","start":7520,"end":7533,"loc":{"start":{"line":187,"column":52},"end":{"line":187,"column":65}},"name":"logStackTrace"}]}}]}},{"type":"ExpressionStatement","start":7554,"end":7645,"loc":{"start":{"line":189,"column":8},"end":{"line":189,"column":99}},"expression":{"type":"CallExpression","start":7554,"end":7644,"loc":{"start":{"line":189,"column":8},"end":{"line":189,"column":98}},"callee":{"type":"MemberExpression","start":7554,"end":7588,"loc":{"start":{"line":189,"column":8},"end":{"line":189,"column":42}},"object":{"type":"CallExpression","start":7554,"end":7583,"loc":{"start":{"line":189,"column":8},"end":{"line":189,"column":37}},"callee":{"type":"MemberExpression","start":7554,"end":7564,"loc":{"start":{"line":189,"column":8},"end":{"line":189,"column":18}},"object":{"type":"Identifier","start":7554,"end":7557,"loc":{"start":{"line":189,"column":8},"end":{"line":189,"column":11}},"name":"res"},"property":{"type":"Identifier","start":7558,"end":7564,"loc":{"start":{"line":189,"column":12},"end":{"line":189,"column":18}},"name":"status"},"computed":false},"arguments":[{"type":"LogicalExpression","start":7565,"end":7582,"loc":{"start":{"line":189,"column":19},"end":{"line":189,"column":36}},"left":{"type":"MemberExpression","start":7565,"end":7575,"loc":{"start":{"line":189,"column":19},"end":{"line":189,"column":29}},"object":{"type":"Identifier","start":7565,"end":7568,"loc":{"start":{"line":189,"column":19},"end":{"line":189,"column":22}},"name":"err"},"property":{"type":"Identifier","start":7569,"end":7575,"loc":{"start":{"line":189,"column":23},"end":{"line":189,"column":29}},"name":"status"},"computed":false},"operator":"||","right":{"type":"Literal","start":7579,"end":7582,"loc":{"start":{"line":189,"column":33},"end":{"line":189,"column":36}},"value":500,"raw":"500"}}]},"property":{"type":"Identifier","start":7584,"end":7588,"loc":{"start":{"line":189,"column":38},"end":{"line":189,"column":42}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":7589,"end":7643,"loc":{"start":{"line":189,"column":43},"end":{"line":189,"column":97}},"properties":[{"type":"Property","start":7591,"end":7622,"loc":{"start":{"line":189,"column":45},"end":{"line":189,"column":76}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7591,"end":7598,"loc":{"start":{"line":189,"column":45},"end":{"line":189,"column":52}},"name":"message"},"value":{"type":"Literal","start":7600,"end":7622,"loc":{"start":{"line":189,"column":54},"end":{"line":189,"column":76}},"value":"Something went wrong","raw":"'Something went wrong'"},"kind":"init"},{"type":"Property","start":7624,"end":7641,"loc":{"start":{"line":189,"column":78},"end":{"line":189,"column":95}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7624,"end":7633,"loc":{"start":{"line":189,"column":78},"end":{"line":189,"column":87}},"name":"requestId"},"value":{"type":"MemberExpression","start":7635,"end":7641,"loc":{"start":{"line":189,"column":89},"end":{"line":189,"column":95}},"object":{"type":"Identifier","start":7635,"end":7638,"loc":{"start":{"line":189,"column":89},"end":{"line":189,"column":92}},"name":"req"},"property":{"type":"Identifier","start":7639,"end":7641,"loc":{"start":{"line":189,"column":93},"end":{"line":189,"column":95}},"name":"id"},"computed":false},"kind":"init"}]}]}}]},"alternate":{"type":"BlockStatement","start":7661,"end":7833,"loc":{"start":{"line":191,"column":9},"end":{"line":194,"column":5}},"body":[{"type":"ExpressionStatement","start":7671,"end":7726,"loc":{"start":{"line":192,"column":8},"end":{"line":192,"column":63}},"expression":{"type":"CallExpression","start":7671,"end":7725,"loc":{"start":{"line":192,"column":8},"end":{"line":192,"column":62}},"callee":{"type":"MemberExpression","start":7671,"end":7683,"loc":{"start":{"line":192,"column":8},"end":{"line":192,"column":20}},"object":{"type":"Identifier","start":7671,"end":7677,"loc":{"start":{"line":192,"column":8},"end":{"line":192,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":7678,"end":7683,"loc":{"start":{"line":192,"column":15},"end":{"line":192,"column":20}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":7684,"end":7687,"loc":{"start":{"line":192,"column":21},"end":{"line":192,"column":24}},"name":"err"},{"type":"Literal","start":7689,"end":7701,"loc":{"start":{"line":192,"column":26},"end":{"line":192,"column":38}},"value":"root.error","raw":"'root.error'"},{"type":"MemberExpression","start":7703,"end":7709,"loc":{"start":{"line":192,"column":40},"end":{"line":192,"column":46}},"object":{"type":"Identifier","start":7703,"end":7706,"loc":{"start":{"line":192,"column":40},"end":{"line":192,"column":43}},"name":"req"},"property":{"type":"Identifier","start":7707,"end":7709,"loc":{"start":{"line":192,"column":44},"end":{"line":192,"column":46}},"name":"id"},"computed":false},{"type":"Identifier","start":7711,"end":7724,"loc":{"start":{"line":192,"column":48},"end":{"line":192,"column":61}},"name":"logStackTrace"}]}},{"type":"ExpressionStatement","start":7735,"end":7827,"loc":{"start":{"line":193,"column":8},"end":{"line":193,"column":100}},"expression":{"type":"CallExpression","start":7735,"end":7826,"loc":{"start":{"line":193,"column":8},"end":{"line":193,"column":99}},"callee":{"type":"MemberExpression","start":7735,"end":7769,"loc":{"start":{"line":193,"column":8},"end":{"line":193,"column":42}},"object":{"type":"CallExpression","start":7735,"end":7764,"loc":{"start":{"line":193,"column":8},"end":{"line":193,"column":37}},"callee":{"type":"MemberExpression","start":7735,"end":7745,"loc":{"start":{"line":193,"column":8},"end":{"line":193,"column":18}},"object":{"type":"Identifier","start":7735,"end":7738,"loc":{"start":{"line":193,"column":8},"end":{"line":193,"column":11}},"name":"res"},"property":{"type":"Identifier","start":7739,"end":7745,"loc":{"start":{"line":193,"column":12},"end":{"line":193,"column":18}},"name":"status"},"computed":false},"arguments":[{"type":"LogicalExpression","start":7746,"end":7763,"loc":{"start":{"line":193,"column":19},"end":{"line":193,"column":36}},"left":{"type":"MemberExpression","start":7746,"end":7756,"loc":{"start":{"line":193,"column":19},"end":{"line":193,"column":29}},"object":{"type":"Identifier","start":7746,"end":7749,"loc":{"start":{"line":193,"column":19},"end":{"line":193,"column":22}},"name":"err"},"property":{"type":"Identifier","start":7750,"end":7756,"loc":{"start":{"line":193,"column":23},"end":{"line":193,"column":29}},"name":"status"},"computed":false},"operator":"||","right":{"type":"Literal","start":7760,"end":7763,"loc":{"start":{"line":193,"column":33},"end":{"line":193,"column":36}},"value":500,"raw":"500"}}]},"property":{"type":"Identifier","start":7765,"end":7769,"loc":{"start":{"line":193,"column":38},"end":{"line":193,"column":42}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":7770,"end":7825,"loc":{"start":{"line":193,"column":43},"end":{"line":193,"column":98}},"properties":[{"type":"Property","start":7772,"end":7792,"loc":{"start":{"line":193,"column":45},"end":{"line":193,"column":65}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7772,"end":7779,"loc":{"start":{"line":193,"column":45},"end":{"line":193,"column":52}},"name":"message"},"value":{"type":"MemberExpression","start":7781,"end":7792,"loc":{"start":{"line":193,"column":54},"end":{"line":193,"column":65}},"object":{"type":"Identifier","start":7781,"end":7784,"loc":{"start":{"line":193,"column":54},"end":{"line":193,"column":57}},"name":"err"},"property":{"type":"Identifier","start":7785,"end":7792,"loc":{"start":{"line":193,"column":58},"end":{"line":193,"column":65}},"name":"message"},"computed":false},"kind":"init"},{"type":"Property","start":7794,"end":7804,"loc":{"start":{"line":193,"column":67},"end":{"line":193,"column":77}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7794,"end":7799,"loc":{"start":{"line":193,"column":67},"end":{"line":193,"column":72}},"name":"error"},"value":{"type":"Identifier","start":7801,"end":7804,"loc":{"start":{"line":193,"column":74},"end":{"line":193,"column":77}},"name":"err"},"kind":"init"},{"type":"Property","start":7806,"end":7823,"loc":{"start":{"line":193,"column":79},"end":{"line":193,"column":96}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7806,"end":7815,"loc":{"start":{"line":193,"column":79},"end":{"line":193,"column":88}},"name":"requestId"},"value":{"type":"MemberExpression","start":7817,"end":7823,"loc":{"start":{"line":193,"column":90},"end":{"line":193,"column":96}},"object":{"type":"Identifier","start":7817,"end":7820,"loc":{"start":{"line":193,"column":90},"end":{"line":193,"column":93}},"name":"req"},"property":{"type":"Identifier","start":7821,"end":7823,"loc":{"start":{"line":193,"column":94},"end":{"line":193,"column":96}},"name":"id"},"computed":false},"kind":"init"}]}]}}]}}]}}]}},{"type":"ExpressionStatement","start":7838,"end":7881,"loc":{"start":{"line":196,"column":0},"end":{"line":196,"column":43}},"expression":{"type":"AssignmentExpression","start":7838,"end":7880,"loc":{"start":{"line":196,"column":0},"end":{"line":196,"column":42}},"operator":"=","left":{"type":"MemberExpression","start":7838,"end":7852,"loc":{"start":{"line":196,"column":0},"end":{"line":196,"column":14}},"object":{"type":"Identifier","start":7838,"end":7844,"loc":{"start":{"line":196,"column":0},"end":{"line":196,"column":6}},"name":"module"},"property":{"type":"Identifier","start":7845,"end":7852,"loc":{"start":{"line":196,"column":7},"end":{"line":196,"column":14}},"name":"exports"},"computed":false},"right":{"type":"ObjectExpression","start":7855,"end":7880,"loc":{"start":{"line":196,"column":17},"end":{"line":196,"column":42}},"properties":[{"type":"Property","start":7857,"end":7860,"loc":{"start":{"line":196,"column":19},"end":{"line":196,"column":22}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7857,"end":7860,"loc":{"start":{"line":196,"column":19},"end":{"line":196,"column":22}},"name":"app"},"kind":"init","value":{"type":"Identifier","start":7857,"end":7860,"loc":{"start":{"line":196,"column":19},"end":{"line":196,"column":22}},"name":"app"}},{"type":"Property","start":7862,"end":7878,"loc":{"start":{"line":196,"column":24},"end":{"line":196,"column":40}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":7862,"end":7878,"loc":{"start":{"line":196,"column":24},"end":{"line":196,"column":40}},"name":"companionOptions"},"kind":"init","value":{"type":"Identifier","start":7862,"end":7878,"loc":{"start":{"line":196,"column":24},"end":{"line":196,"column":40}},"name":"companionOptions"}}]}}}],"sourceType":"module"}