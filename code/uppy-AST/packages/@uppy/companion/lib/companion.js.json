{"type":"Program","start":0,"end":12957,"loc":{"start":{"line":1,"column":0},"end":{"line":296,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":25,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"declarations":[{"type":"VariableDeclarator","start":6,"end":24,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":24}},"id":{"type":"Identifier","start":6,"end":8,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":8}},"name":"fs"},"init":{"type":"CallExpression","start":11,"end":24,"loc":{"start":{"line":1,"column":11},"end":{"line":1,"column":24}},"callee":{"type":"Identifier","start":11,"end":18,"loc":{"start":{"line":1,"column":11},"end":{"line":1,"column":18}},"name":"require"},"arguments":[{"type":"Literal","start":19,"end":23,"loc":{"start":{"line":1,"column":19},"end":{"line":1,"column":23}},"value":"fs","raw":"'fs'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":26,"end":61,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"declarations":[{"type":"VariableDeclarator","start":32,"end":60,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":34}},"id":{"type":"Identifier","start":32,"end":39,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":13}},"name":"express"},"init":{"type":"CallExpression","start":42,"end":60,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":34}},"callee":{"type":"Identifier","start":42,"end":49,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":50,"end":59,"loc":{"start":{"line":2,"column":24},"end":{"line":2,"column":33}},"value":"express","raw":"'express'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":76,"end":117,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"declarations":[{"type":"VariableDeclarator","start":82,"end":116,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":40}},"id":{"type":"Identifier","start":82,"end":87,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":11}},"name":"Grant"},"init":{"type":"CallExpression","start":90,"end":116,"loc":{"start":{"line":4,"column":14},"end":{"line":4,"column":40}},"callee":{"type":"MemberExpression","start":90,"end":114,"loc":{"start":{"line":4,"column":14},"end":{"line":4,"column":38}},"object":{"type":"CallExpression","start":90,"end":106,"loc":{"start":{"line":4,"column":14},"end":{"line":4,"column":30}},"callee":{"type":"Identifier","start":90,"end":97,"loc":{"start":{"line":4,"column":14},"end":{"line":4,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":98,"end":105,"loc":{"start":{"line":4,"column":22},"end":{"line":4,"column":29}},"value":"grant","raw":"'grant'"}]},"property":{"type":"Identifier","start":107,"end":114,"loc":{"start":{"line":4,"column":31},"end":{"line":4,"column":38}},"name":"express"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":118,"end":166,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":48}},"declarations":[{"type":"VariableDeclarator","start":124,"end":165,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":47}},"id":{"type":"Identifier","start":124,"end":135,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":17}},"name":"grantConfig"},"init":{"type":"CallExpression","start":138,"end":165,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":47}},"callee":{"type":"CallExpression","start":138,"end":163,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":45}},"callee":{"type":"Identifier","start":138,"end":145,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":146,"end":162,"loc":{"start":{"line":5,"column":28},"end":{"line":5,"column":44}},"value":"./config/grant","raw":"'./config/grant'"}]},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":167,"end":220,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":53}},"declarations":[{"type":"VariableDeclarator","start":173,"end":219,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":52}},"id":{"type":"Identifier","start":173,"end":188,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":21}},"name":"providerManager"},"init":{"type":"CallExpression","start":191,"end":219,"loc":{"start":{"line":6,"column":24},"end":{"line":6,"column":52}},"callee":{"type":"Identifier","start":191,"end":198,"loc":{"start":{"line":6,"column":24},"end":{"line":6,"column":31}},"name":"require"},"arguments":[{"type":"Literal","start":199,"end":218,"loc":{"start":{"line":6,"column":32},"end":{"line":6,"column":51}},"value":"./server/provider","raw":"'./server/provider'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":221,"end":273,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":52}},"declarations":[{"type":"VariableDeclarator","start":227,"end":272,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":51}},"id":{"type":"Identifier","start":227,"end":238,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":17}},"name":"controllers"},"init":{"type":"CallExpression","start":241,"end":272,"loc":{"start":{"line":7,"column":20},"end":{"line":7,"column":51}},"callee":{"type":"Identifier","start":241,"end":248,"loc":{"start":{"line":7,"column":20},"end":{"line":7,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":249,"end":271,"loc":{"start":{"line":7,"column":28},"end":{"line":7,"column":50}},"value":"./server/controllers","raw":"'./server/controllers'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":274,"end":320,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":46}},"declarations":[{"type":"VariableDeclarator","start":280,"end":319,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":45}},"id":{"type":"Identifier","start":280,"end":282,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":8}},"name":"s3"},"init":{"type":"CallExpression","start":285,"end":319,"loc":{"start":{"line":8,"column":11},"end":{"line":8,"column":45}},"callee":{"type":"Identifier","start":285,"end":292,"loc":{"start":{"line":8,"column":11},"end":{"line":8,"column":18}},"name":"require"},"arguments":[{"type":"Literal","start":293,"end":318,"loc":{"start":{"line":8,"column":19},"end":{"line":8,"column":44}},"value":"./server/controllers/s3","raw":"'./server/controllers/s3'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":321,"end":369,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":48}},"declarations":[{"type":"VariableDeclarator","start":327,"end":368,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":47}},"id":{"type":"Identifier","start":327,"end":330,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":9}},"name":"url"},"init":{"type":"CallExpression","start":333,"end":368,"loc":{"start":{"line":9,"column":12},"end":{"line":9,"column":47}},"callee":{"type":"Identifier","start":333,"end":340,"loc":{"start":{"line":9,"column":12},"end":{"line":9,"column":19}},"name":"require"},"arguments":[{"type":"Literal","start":341,"end":367,"loc":{"start":{"line":9,"column":20},"end":{"line":9,"column":46}},"value":"./server/controllers/url","raw":"'./server/controllers/url'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":370,"end":412,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":42}},"declarations":[{"type":"VariableDeclarator","start":376,"end":411,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":41}},"id":{"type":"Identifier","start":376,"end":388,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":18}},"name":"SocketServer"},"init":{"type":"MemberExpression","start":391,"end":411,"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":41}},"object":{"type":"CallExpression","start":391,"end":404,"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":34}},"callee":{"type":"Identifier","start":391,"end":398,"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":28}},"name":"require"},"arguments":[{"type":"Literal","start":399,"end":403,"loc":{"start":{"line":10,"column":29},"end":{"line":10,"column":33}},"value":"ws","raw":"'ws'"}]},"property":{"type":"Identifier","start":405,"end":411,"loc":{"start":{"line":10,"column":35},"end":{"line":10,"column":41}},"name":"Server"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":413,"end":457,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":44}},"declarations":[{"type":"VariableDeclarator","start":419,"end":456,"loc":{"start":{"line":11,"column":6},"end":{"line":11,"column":43}},"id":{"type":"Identifier","start":419,"end":426,"loc":{"start":{"line":11,"column":6},"end":{"line":11,"column":13}},"name":"emitter"},"init":{"type":"CallExpression","start":429,"end":456,"loc":{"start":{"line":11,"column":16},"end":{"line":11,"column":43}},"callee":{"type":"Identifier","start":429,"end":436,"loc":{"start":{"line":11,"column":16},"end":{"line":11,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":437,"end":455,"loc":{"start":{"line":11,"column":24},"end":{"line":11,"column":42}},"value":"./server/emitter","raw":"'./server/emitter'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":458,"end":496,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":38}},"declarations":[{"type":"VariableDeclarator","start":464,"end":495,"loc":{"start":{"line":12,"column":6},"end":{"line":12,"column":37}},"id":{"type":"Identifier","start":464,"end":469,"loc":{"start":{"line":12,"column":6},"end":{"line":12,"column":11}},"name":"merge"},"init":{"type":"CallExpression","start":472,"end":495,"loc":{"start":{"line":12,"column":14},"end":{"line":12,"column":37}},"callee":{"type":"Identifier","start":472,"end":479,"loc":{"start":{"line":12,"column":14},"end":{"line":12,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":480,"end":494,"loc":{"start":{"line":12,"column":22},"end":{"line":12,"column":36}},"value":"lodash.merge","raw":"'lodash.merge'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":497,"end":537,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":40}},"declarations":[{"type":"VariableDeclarator","start":503,"end":536,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":39}},"id":{"type":"Identifier","start":503,"end":508,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":11}},"name":"redis"},"init":{"type":"CallExpression","start":511,"end":536,"loc":{"start":{"line":13,"column":14},"end":{"line":13,"column":39}},"callee":{"type":"Identifier","start":511,"end":518,"loc":{"start":{"line":13,"column":14},"end":{"line":13,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":519,"end":535,"loc":{"start":{"line":13,"column":22},"end":{"line":13,"column":38}},"value":"./server/redis","raw":"'./server/redis'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":538,"end":584,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":46}},"declarations":[{"type":"VariableDeclarator","start":544,"end":583,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":45}},"id":{"type":"Identifier","start":544,"end":556,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":18}},"name":"cookieParser"},"init":{"type":"CallExpression","start":559,"end":583,"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":45}},"callee":{"type":"Identifier","start":559,"end":566,"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":28}},"name":"require"},"arguments":[{"type":"Literal","start":567,"end":582,"loc":{"start":{"line":14,"column":29},"end":{"line":14,"column":44}},"value":"cookie-parser","raw":"'cookie-parser'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":585,"end":660,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":75}},"declarations":[{"type":"VariableDeclarator","start":591,"end":659,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":74}},"id":{"type":"ObjectPattern","start":591,"end":623,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":38}},"properties":[{"type":"Property","start":593,"end":606,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":21}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":593,"end":606,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":21}},"name":"jsonStringify"},"kind":"init","value":{"type":"Identifier","start":593,"end":606,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":21}},"name":"jsonStringify"}},{"type":"Property","start":608,"end":621,"loc":{"start":{"line":15,"column":23},"end":{"line":15,"column":36}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":608,"end":621,"loc":{"start":{"line":15,"column":23},"end":{"line":15,"column":36}},"name":"getURLBuilder"},"kind":"init","value":{"type":"Identifier","start":608,"end":621,"loc":{"start":{"line":15,"column":23},"end":{"line":15,"column":36}},"name":"getURLBuilder"}}]},"init":{"type":"CallExpression","start":626,"end":659,"loc":{"start":{"line":15,"column":41},"end":{"line":15,"column":74}},"callee":{"type":"Identifier","start":626,"end":633,"loc":{"start":{"line":15,"column":41},"end":{"line":15,"column":48}},"name":"require"},"arguments":[{"type":"Literal","start":634,"end":658,"loc":{"start":{"line":15,"column":49},"end":{"line":15,"column":73}},"value":"./server/helpers/utils","raw":"'./server/helpers/utils'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":661,"end":699,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":38}},"declarations":[{"type":"VariableDeclarator","start":667,"end":698,"loc":{"start":{"line":16,"column":6},"end":{"line":16,"column":37}},"id":{"type":"Identifier","start":667,"end":671,"loc":{"start":{"line":16,"column":6},"end":{"line":16,"column":10}},"name":"jobs"},"init":{"type":"CallExpression","start":674,"end":698,"loc":{"start":{"line":16,"column":13},"end":{"line":16,"column":37}},"callee":{"type":"Identifier","start":674,"end":681,"loc":{"start":{"line":16,"column":13},"end":{"line":16,"column":20}},"name":"require"},"arguments":[{"type":"Literal","start":682,"end":697,"loc":{"start":{"line":16,"column":21},"end":{"line":16,"column":36}},"value":"./server/jobs","raw":"'./server/jobs'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":700,"end":751,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":51}},"declarations":[{"type":"VariableDeclarator","start":706,"end":750,"loc":{"start":{"line":17,"column":6},"end":{"line":17,"column":50}},"id":{"type":"Identifier","start":706,"end":717,"loc":{"start":{"line":17,"column":6},"end":{"line":17,"column":17}},"name":"interceptor"},"init":{"type":"CallExpression","start":720,"end":750,"loc":{"start":{"line":17,"column":20},"end":{"line":17,"column":50}},"callee":{"type":"Identifier","start":720,"end":727,"loc":{"start":{"line":17,"column":20},"end":{"line":17,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":728,"end":749,"loc":{"start":{"line":17,"column":28},"end":{"line":17,"column":49}},"value":"express-interceptor","raw":"'express-interceptor'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":752,"end":794,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":42}},"declarations":[{"type":"VariableDeclarator","start":758,"end":793,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":41}},"id":{"type":"Identifier","start":758,"end":764,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":12}},"name":"logger"},"init":{"type":"CallExpression","start":767,"end":793,"loc":{"start":{"line":18,"column":15},"end":{"line":18,"column":41}},"callee":{"type":"Identifier","start":767,"end":774,"loc":{"start":{"line":18,"column":15},"end":{"line":18,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":775,"end":792,"loc":{"start":{"line":18,"column":23},"end":{"line":18,"column":40}},"value":"./server/logger","raw":"'./server/logger'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":795,"end":851,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":56}},"declarations":[{"type":"VariableDeclarator","start":801,"end":850,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":55}},"id":{"type":"ObjectPattern","start":801,"end":819,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":24}},"properties":[{"type":"Property","start":803,"end":817,"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":22}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":803,"end":817,"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":22}},"name":"STORAGE_PREFIX"},"kind":"init","value":{"type":"Identifier","start":803,"end":817,"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":22}},"name":"STORAGE_PREFIX"}}]},"init":{"type":"CallExpression","start":822,"end":850,"loc":{"start":{"line":19,"column":27},"end":{"line":19,"column":55}},"callee":{"type":"Identifier","start":822,"end":829,"loc":{"start":{"line":19,"column":27},"end":{"line":19,"column":34}},"name":"require"},"arguments":[{"type":"Literal","start":830,"end":849,"loc":{"start":{"line":19,"column":35},"end":{"line":19,"column":54}},"value":"./server/Uploader","raw":"'./server/Uploader'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":852,"end":904,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":52}},"declarations":[{"type":"VariableDeclarator","start":858,"end":903,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":51}},"id":{"type":"Identifier","start":858,"end":869,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":17}},"name":"middlewares"},"init":{"type":"CallExpression","start":872,"end":903,"loc":{"start":{"line":20,"column":20},"end":{"line":20,"column":51}},"callee":{"type":"Identifier","start":872,"end":879,"loc":{"start":{"line":20,"column":20},"end":{"line":20,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":880,"end":902,"loc":{"start":{"line":20,"column":28},"end":{"line":20,"column":50}},"value":"./server/middlewares","raw":"'./server/middlewares'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":905,"end":959,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":54}},"declarations":[{"type":"VariableDeclarator","start":911,"end":958,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":53}},"id":{"type":"ObjectPattern","start":911,"end":927,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":22}},"properties":[{"type":"Property","start":913,"end":925,"loc":{"start":{"line":21,"column":8},"end":{"line":21,"column":20}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":913,"end":925,"loc":{"start":{"line":21,"column":8},"end":{"line":21,"column":20}},"name":"shortenToken"},"kind":"init","value":{"type":"Identifier","start":913,"end":925,"loc":{"start":{"line":21,"column":8},"end":{"line":21,"column":20}},"name":"shortenToken"}}]},"init":{"type":"CallExpression","start":930,"end":958,"loc":{"start":{"line":21,"column":25},"end":{"line":21,"column":53}},"callee":{"type":"Identifier","start":930,"end":937,"loc":{"start":{"line":21,"column":25},"end":{"line":21,"column":32}},"name":"require"},"arguments":[{"type":"Literal","start":938,"end":957,"loc":{"start":{"line":21,"column":33},"end":{"line":21,"column":52}},"value":"./server/Uploader","raw":"'./server/Uploader'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":960,"end":1043,"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":83}},"declarations":[{"type":"VariableDeclarator","start":966,"end":1042,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":82}},"id":{"type":"ObjectPattern","start":966,"end":1005,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":45}},"properties":[{"type":"Property","start":968,"end":984,"loc":{"start":{"line":22,"column":8},"end":{"line":22,"column":24}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":968,"end":984,"loc":{"start":{"line":22,"column":8},"end":{"line":22,"column":24}},"name":"ProviderApiError"},"kind":"init","value":{"type":"Identifier","start":968,"end":984,"loc":{"start":{"line":22,"column":8},"end":{"line":22,"column":24}},"name":"ProviderApiError"}},{"type":"Property","start":986,"end":1003,"loc":{"start":{"line":22,"column":26},"end":{"line":22,"column":43}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":986,"end":1003,"loc":{"start":{"line":22,"column":26},"end":{"line":22,"column":43}},"name":"ProviderAuthError"},"kind":"init","value":{"type":"Identifier","start":986,"end":1003,"loc":{"start":{"line":22,"column":26},"end":{"line":22,"column":43}},"name":"ProviderAuthError"}}]},"init":{"type":"CallExpression","start":1008,"end":1042,"loc":{"start":{"line":22,"column":48},"end":{"line":22,"column":82}},"callee":{"type":"Identifier","start":1008,"end":1015,"loc":{"start":{"line":22,"column":48},"end":{"line":22,"column":55}},"name":"require"},"arguments":[{"type":"Literal","start":1016,"end":1041,"loc":{"start":{"line":22,"column":56},"end":{"line":22,"column":81}},"value":"./server/provider/error","raw":"'./server/provider/error'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":1044,"end":1069,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":25}},"declarations":[{"type":"VariableDeclarator","start":1050,"end":1068,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":24}},"id":{"type":"Identifier","start":1050,"end":1052,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":8}},"name":"ms"},"init":{"type":"CallExpression","start":1055,"end":1068,"loc":{"start":{"line":23,"column":11},"end":{"line":23,"column":24}},"callee":{"type":"Identifier","start":1055,"end":1062,"loc":{"start":{"line":23,"column":11},"end":{"line":23,"column":18}},"name":"require"},"arguments":[{"type":"Literal","start":1063,"end":1067,"loc":{"start":{"line":23,"column":19},"end":{"line":23,"column":23}},"value":"ms","raw":"'ms'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":1070,"end":1492,"loc":{"start":{"line":24,"column":0},"end":{"line":40,"column":2}},"declarations":[{"type":"VariableDeclarator","start":1076,"end":1491,"loc":{"start":{"line":24,"column":6},"end":{"line":40,"column":1}},"id":{"type":"Identifier","start":1076,"end":1090,"loc":{"start":{"line":24,"column":6},"end":{"line":24,"column":20}},"name":"defaultOptions"},"init":{"type":"ObjectExpression","start":1093,"end":1491,"loc":{"start":{"line":24,"column":23},"end":{"line":40,"column":1}},"properties":[{"type":"Property","start":1099,"end":1157,"loc":{"start":{"line":25,"column":4},"end":{"line":28,"column":5}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1099,"end":1105,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":10}},"name":"server"},"value":{"type":"ObjectExpression","start":1107,"end":1157,"loc":{"start":{"line":25,"column":12},"end":{"line":28,"column":5}},"properties":[{"type":"Property","start":1117,"end":1133,"loc":{"start":{"line":26,"column":8},"end":{"line":26,"column":24}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1117,"end":1125,"loc":{"start":{"line":26,"column":8},"end":{"line":26,"column":16}},"name":"protocol"},"value":{"type":"Literal","start":1127,"end":1133,"loc":{"start":{"line":26,"column":18},"end":{"line":26,"column":24}},"value":"http","raw":"'http'"},"kind":"init"},{"type":"Property","start":1143,"end":1151,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":16}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1143,"end":1147,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":12}},"name":"path"},"value":{"type":"Literal","start":1149,"end":1151,"loc":{"start":{"line":27,"column":14},"end":{"line":27,"column":16}},"value":"","raw":"''"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":1163,"end":1472,"loc":{"start":{"line":29,"column":4},"end":{"line":38,"column":5}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1163,"end":1178,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":19}},"name":"providerOptions"},"value":{"type":"ObjectExpression","start":1180,"end":1472,"loc":{"start":{"line":29,"column":21},"end":{"line":38,"column":5}},"properties":[{"type":"Property","start":1190,"end":1466,"loc":{"start":{"line":30,"column":8},"end":{"line":37,"column":9}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1190,"end":1192,"loc":{"start":{"line":30,"column":8},"end":{"line":30,"column":10}},"name":"s3"},"value":{"type":"ObjectExpression","start":1194,"end":1466,"loc":{"start":{"line":30,"column":12},"end":{"line":37,"column":9}},"properties":[{"type":"Property","start":1208,"end":1226,"loc":{"start":{"line":31,"column":12},"end":{"line":31,"column":30}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1208,"end":1211,"loc":{"start":{"line":31,"column":12},"end":{"line":31,"column":15}},"name":"acl"},"value":{"type":"Literal","start":1213,"end":1226,"loc":{"start":{"line":31,"column":17},"end":{"line":31,"column":30}},"value":"public-read","raw":"'public-read'"},"kind":"init"},{"type":"Property","start":1240,"end":1292,"loc":{"start":{"line":32,"column":12},"end":{"line":32,"column":64}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1240,"end":1248,"loc":{"start":{"line":32,"column":12},"end":{"line":32,"column":20}},"name":"endpoint"},"value":{"type":"Literal","start":1250,"end":1292,"loc":{"start":{"line":32,"column":22},"end":{"line":32,"column":64}},"value":"https://{service}.{region}.amazonaws.com","raw":"'https://{service}.{region}.amazonaws.com'"},"kind":"init"},{"type":"Property","start":1306,"end":1320,"loc":{"start":{"line":33,"column":12},"end":{"line":33,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1306,"end":1316,"loc":{"start":{"line":33,"column":12},"end":{"line":33,"column":22}},"name":"conditions"},"value":{"type":"ArrayExpression","start":1318,"end":1320,"loc":{"start":{"line":33,"column":24},"end":{"line":33,"column":26}},"elements":[]},"kind":"init"},{"type":"Property","start":1334,"end":1362,"loc":{"start":{"line":34,"column":12},"end":{"line":34,"column":40}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1334,"end":1355,"loc":{"start":{"line":34,"column":12},"end":{"line":34,"column":33}},"name":"useAccelerateEndpoint"},"value":{"type":"Literal","start":1357,"end":1362,"loc":{"start":{"line":34,"column":35},"end":{"line":34,"column":40}},"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":1376,"end":1411,"loc":{"start":{"line":35,"column":12},"end":{"line":35,"column":47}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1376,"end":1382,"loc":{"start":{"line":35,"column":12},"end":{"line":35,"column":18}},"name":"getKey"},"value":{"type":"ArrowFunctionExpression","start":1384,"end":1411,"loc":{"start":{"line":35,"column":20},"end":{"line":35,"column":47}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1385,"end":1388,"loc":{"start":{"line":35,"column":21},"end":{"line":35,"column":24}},"name":"req"},{"type":"Identifier","start":1390,"end":1398,"loc":{"start":{"line":35,"column":26},"end":{"line":35,"column":34}},"name":"filename"}],"body":{"type":"Identifier","start":1403,"end":1411,"loc":{"start":{"line":35,"column":39},"end":{"line":35,"column":47}},"name":"filename"}},"kind":"init"},{"type":"Property","start":1425,"end":1456,"loc":{"start":{"line":36,"column":12},"end":{"line":36,"column":43}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1425,"end":1432,"loc":{"start":{"line":36,"column":12},"end":{"line":36,"column":19}},"name":"expires"},"value":{"type":"BinaryExpression","start":1434,"end":1456,"loc":{"start":{"line":36,"column":21},"end":{"line":36,"column":43}},"left":{"type":"CallExpression","start":1434,"end":1449,"loc":{"start":{"line":36,"column":21},"end":{"line":36,"column":36}},"callee":{"type":"Identifier","start":1434,"end":1436,"loc":{"start":{"line":36,"column":21},"end":{"line":36,"column":23}},"name":"ms"},"arguments":[{"type":"Literal","start":1437,"end":1448,"loc":{"start":{"line":36,"column":24},"end":{"line":36,"column":35}},"value":"5 minutes","raw":"'5 minutes'"}]},"operator":"/","right":{"type":"Literal","start":1452,"end":1456,"loc":{"start":{"line":36,"column":39},"end":{"line":36,"column":43}},"value":1000,"raw":"1000"}},"kind":"init"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":1478,"end":1489,"loc":{"start":{"line":39,"column":4},"end":{"line":39,"column":15}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1478,"end":1483,"loc":{"start":{"line":39,"column":4},"end":{"line":39,"column":9}},"name":"debug"},"value":{"type":"Literal","start":1485,"end":1489,"loc":{"start":{"line":39,"column":11},"end":{"line":39,"column":15}},"value":true,"raw":"true"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1552,"end":1616,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":64}},"expression":{"type":"AssignmentExpression","start":1552,"end":1615,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":63}},"operator":"=","left":{"type":"MemberExpression","start":1552,"end":1573,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":21}},"object":{"type":"MemberExpression","start":1552,"end":1566,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":14}},"object":{"type":"Identifier","start":1552,"end":1558,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":6}},"name":"module"},"property":{"type":"Identifier","start":1559,"end":1566,"loc":{"start":{"line":42,"column":7},"end":{"line":42,"column":14}},"name":"exports"},"computed":false},"property":{"type":"Identifier","start":1567,"end":1573,"loc":{"start":{"line":42,"column":15},"end":{"line":42,"column":21}},"name":"errors"},"computed":false},"right":{"type":"ObjectExpression","start":1576,"end":1615,"loc":{"start":{"line":42,"column":24},"end":{"line":42,"column":63}},"properties":[{"type":"Property","start":1578,"end":1594,"loc":{"start":{"line":42,"column":26},"end":{"line":42,"column":42}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1578,"end":1594,"loc":{"start":{"line":42,"column":26},"end":{"line":42,"column":42}},"name":"ProviderApiError"},"kind":"init","value":{"type":"Identifier","start":1578,"end":1594,"loc":{"start":{"line":42,"column":26},"end":{"line":42,"column":42}},"name":"ProviderApiError"}},{"type":"Property","start":1596,"end":1613,"loc":{"start":{"line":42,"column":44},"end":{"line":42,"column":61}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1596,"end":1613,"loc":{"start":{"line":42,"column":44},"end":{"line":42,"column":61}},"name":"ProviderAuthError"},"kind":"init","value":{"type":"Identifier","start":1596,"end":1613,"loc":{"start":{"line":42,"column":44},"end":{"line":42,"column":61}},"name":"ProviderAuthError"}}]}}},{"type":"ExpressionStatement","start":1707,"end":4983,"loc":{"start":{"line":48,"column":0},"end":{"line":109,"column":2}},"expression":{"type":"AssignmentExpression","start":1707,"end":4982,"loc":{"start":{"line":48,"column":0},"end":{"line":109,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":1707,"end":1725,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":18}},"object":{"type":"MemberExpression","start":1707,"end":1721,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":14}},"object":{"type":"Identifier","start":1707,"end":1713,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":6}},"name":"module"},"property":{"type":"Identifier","start":1714,"end":1721,"loc":{"start":{"line":48,"column":7},"end":{"line":48,"column":14}},"name":"exports"},"computed":false},"property":{"type":"Identifier","start":1722,"end":1725,"loc":{"start":{"line":48,"column":15},"end":{"line":48,"column":18}},"name":"app"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1728,"end":4982,"loc":{"start":{"line":48,"column":21},"end":{"line":109,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":1729,"end":1741,"loc":{"start":{"line":48,"column":22},"end":{"line":48,"column":34}},"left":{"type":"Identifier","start":1729,"end":1736,"loc":{"start":{"line":48,"column":22},"end":{"line":48,"column":29}},"name":"options"},"right":{"type":"ObjectExpression","start":1739,"end":1741,"loc":{"start":{"line":48,"column":32},"end":{"line":48,"column":34}},"properties":[]}}],"body":{"type":"BlockStatement","start":1746,"end":4982,"loc":{"start":{"line":48,"column":39},"end":{"line":109,"column":1}},"body":[{"type":"ExpressionStatement","start":1752,"end":1776,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":28}},"expression":{"type":"CallExpression","start":1752,"end":1775,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":27}},"callee":{"type":"Identifier","start":1752,"end":1766,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":18}},"name":"validateConfig"},"arguments":[{"type":"Identifier","start":1767,"end":1774,"loc":{"start":{"line":49,"column":19},"end":{"line":49,"column":26}},"name":"options"}]}},{"type":"ExpressionStatement","start":1781,"end":1826,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":49}},"expression":{"type":"AssignmentExpression","start":1781,"end":1825,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":48}},"operator":"=","left":{"type":"Identifier","start":1781,"end":1788,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":11}},"name":"options"},"right":{"type":"CallExpression","start":1791,"end":1825,"loc":{"start":{"line":50,"column":14},"end":{"line":50,"column":48}},"callee":{"type":"Identifier","start":1791,"end":1796,"loc":{"start":{"line":50,"column":14},"end":{"line":50,"column":19}},"name":"merge"},"arguments":[{"type":"ObjectExpression","start":1797,"end":1799,"loc":{"start":{"line":50,"column":20},"end":{"line":50,"column":22}},"properties":[]},{"type":"Identifier","start":1801,"end":1815,"loc":{"start":{"line":50,"column":24},"end":{"line":50,"column":38}},"name":"defaultOptions"},{"type":"Identifier","start":1817,"end":1824,"loc":{"start":{"line":50,"column":40},"end":{"line":50,"column":47}},"name":"options"}]}}},{"type":"VariableDeclaration","start":1831,"end":1894,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":67}},"declarations":[{"type":"VariableDeclarator","start":1837,"end":1893,"loc":{"start":{"line":51,"column":10},"end":{"line":51,"column":66}},"id":{"type":"Identifier","start":1837,"end":1846,"loc":{"start":{"line":51,"column":10},"end":{"line":51,"column":19}},"name":"providers"},"init":{"type":"CallExpression","start":1849,"end":1893,"loc":{"start":{"line":51,"column":22},"end":{"line":51,"column":66}},"callee":{"type":"MemberExpression","start":1849,"end":1884,"loc":{"start":{"line":51,"column":22},"end":{"line":51,"column":57}},"object":{"type":"Identifier","start":1849,"end":1864,"loc":{"start":{"line":51,"column":22},"end":{"line":51,"column":37}},"name":"providerManager"},"property":{"type":"Identifier","start":1865,"end":1884,"loc":{"start":{"line":51,"column":38},"end":{"line":51,"column":57}},"name":"getDefaultProviders"},"computed":false},"arguments":[{"type":"Identifier","start":1885,"end":1892,"loc":{"start":{"line":51,"column":58},"end":{"line":51,"column":65}},"name":"options"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1899,"end":1956,"loc":{"start":{"line":52,"column":4},"end":{"line":52,"column":61}},"expression":{"type":"CallExpression","start":1899,"end":1955,"loc":{"start":{"line":52,"column":4},"end":{"line":52,"column":60}},"callee":{"type":"MemberExpression","start":1899,"end":1933,"loc":{"start":{"line":52,"column":4},"end":{"line":52,"column":38}},"object":{"type":"Identifier","start":1899,"end":1914,"loc":{"start":{"line":52,"column":4},"end":{"line":52,"column":19}},"name":"providerManager"},"property":{"type":"Identifier","start":1915,"end":1933,"loc":{"start":{"line":52,"column":20},"end":{"line":52,"column":38}},"name":"addProviderOptions"},"computed":false},"arguments":[{"type":"Identifier","start":1934,"end":1941,"loc":{"start":{"line":52,"column":39},"end":{"line":52,"column":46}},"name":"options"},{"type":"Identifier","start":1943,"end":1954,"loc":{"start":{"line":52,"column":48},"end":{"line":52,"column":59}},"name":"grantConfig"}]}},{"type":"VariableDeclaration","start":1961,"end":2009,"loc":{"start":{"line":53,"column":4},"end":{"line":53,"column":52}},"declarations":[{"type":"VariableDeclarator","start":1967,"end":2008,"loc":{"start":{"line":53,"column":10},"end":{"line":53,"column":51}},"id":{"type":"Identifier","start":1967,"end":1982,"loc":{"start":{"line":53,"column":10},"end":{"line":53,"column":25}},"name":"customProviders"},"init":{"type":"MemberExpression","start":1985,"end":2008,"loc":{"start":{"line":53,"column":28},"end":{"line":53,"column":51}},"object":{"type":"Identifier","start":1985,"end":1992,"loc":{"start":{"line":53,"column":28},"end":{"line":53,"column":35}},"name":"options"},"property":{"type":"Identifier","start":1993,"end":2008,"loc":{"start":{"line":53,"column":36},"end":{"line":53,"column":51}},"name":"customProviders"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":2014,"end":2127,"loc":{"start":{"line":54,"column":4},"end":{"line":56,"column":5}},"test":{"type":"Identifier","start":2018,"end":2033,"loc":{"start":{"line":54,"column":8},"end":{"line":54,"column":23}},"name":"customProviders"},"consequent":{"type":"BlockStatement","start":2035,"end":2127,"loc":{"start":{"line":54,"column":25},"end":{"line":56,"column":5}},"body":[{"type":"ExpressionStatement","start":2045,"end":2121,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":84}},"expression":{"type":"CallExpression","start":2045,"end":2120,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":83}},"callee":{"type":"MemberExpression","start":2045,"end":2079,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":42}},"object":{"type":"Identifier","start":2045,"end":2060,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":23}},"name":"providerManager"},"property":{"type":"Identifier","start":2061,"end":2079,"loc":{"start":{"line":55,"column":24},"end":{"line":55,"column":42}},"name":"addCustomProviders"},"computed":false},"arguments":[{"type":"Identifier","start":2080,"end":2095,"loc":{"start":{"line":55,"column":43},"end":{"line":55,"column":58}},"name":"customProviders"},{"type":"Identifier","start":2097,"end":2106,"loc":{"start":{"line":55,"column":60},"end":{"line":55,"column":69}},"name":"providers"},{"type":"Identifier","start":2108,"end":2119,"loc":{"start":{"line":55,"column":71},"end":{"line":55,"column":82}},"name":"grantConfig"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":2179,"end":2199,"loc":{"start":{"line":58,"column":4},"end":{"line":58,"column":24}},"expression":{"type":"CallExpression","start":2179,"end":2198,"loc":{"start":{"line":58,"column":4},"end":{"line":58,"column":23}},"callee":{"type":"Identifier","start":2179,"end":2189,"loc":{"start":{"line":58,"column":4},"end":{"line":58,"column":14}},"name":"maskLogger"},"arguments":[{"type":"Identifier","start":2190,"end":2197,"loc":{"start":{"line":58,"column":15},"end":{"line":58,"column":22}},"name":"options"}]}},{"type":"IfStatement","start":2241,"end":2354,"loc":{"start":{"line":60,"column":4},"end":{"line":62,"column":5}},"test":{"type":"MemberExpression","start":2245,"end":2261,"loc":{"start":{"line":60,"column":8},"end":{"line":60,"column":24}},"object":{"type":"Identifier","start":2245,"end":2252,"loc":{"start":{"line":60,"column":8},"end":{"line":60,"column":15}},"name":"options"},"property":{"type":"Identifier","start":2253,"end":2261,"loc":{"start":{"line":60,"column":16},"end":{"line":60,"column":24}},"name":"redisUrl"},"computed":false},"consequent":{"type":"BlockStatement","start":2263,"end":2354,"loc":{"start":{"line":60,"column":26},"end":{"line":62,"column":5}},"body":[{"type":"ExpressionStatement","start":2273,"end":2348,"loc":{"start":{"line":61,"column":8},"end":{"line":61,"column":83}},"expression":{"type":"CallExpression","start":2273,"end":2347,"loc":{"start":{"line":61,"column":8},"end":{"line":61,"column":82}},"callee":{"type":"MemberExpression","start":2273,"end":2285,"loc":{"start":{"line":61,"column":8},"end":{"line":61,"column":20}},"object":{"type":"Identifier","start":2273,"end":2278,"loc":{"start":{"line":61,"column":8},"end":{"line":61,"column":13}},"name":"redis"},"property":{"type":"Identifier","start":2279,"end":2285,"loc":{"start":{"line":61,"column":14},"end":{"line":61,"column":20}},"name":"client"},"computed":false},"arguments":[{"type":"CallExpression","start":2286,"end":2346,"loc":{"start":{"line":61,"column":21},"end":{"line":61,"column":81}},"callee":{"type":"Identifier","start":2286,"end":2291,"loc":{"start":{"line":61,"column":21},"end":{"line":61,"column":26}},"name":"merge"},"arguments":[{"type":"ObjectExpression","start":2292,"end":2317,"loc":{"start":{"line":61,"column":27},"end":{"line":61,"column":52}},"properties":[{"type":"Property","start":2294,"end":2315,"loc":{"start":{"line":61,"column":29},"end":{"line":61,"column":50}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2294,"end":2297,"loc":{"start":{"line":61,"column":29},"end":{"line":61,"column":32}},"name":"url"},"value":{"type":"MemberExpression","start":2299,"end":2315,"loc":{"start":{"line":61,"column":34},"end":{"line":61,"column":50}},"object":{"type":"Identifier","start":2299,"end":2306,"loc":{"start":{"line":61,"column":34},"end":{"line":61,"column":41}},"name":"options"},"property":{"type":"Identifier","start":2307,"end":2315,"loc":{"start":{"line":61,"column":42},"end":{"line":61,"column":50}},"name":"redisUrl"},"computed":false},"kind":"init"}]},{"type":"LogicalExpression","start":2319,"end":2345,"loc":{"start":{"line":61,"column":54},"end":{"line":61,"column":80}},"left":{"type":"MemberExpression","start":2319,"end":2339,"loc":{"start":{"line":61,"column":54},"end":{"line":61,"column":74}},"object":{"type":"Identifier","start":2319,"end":2326,"loc":{"start":{"line":61,"column":54},"end":{"line":61,"column":61}},"name":"options"},"property":{"type":"Identifier","start":2327,"end":2339,"loc":{"start":{"line":61,"column":62},"end":{"line":61,"column":74}},"name":"redisOptions"},"computed":false},"operator":"||","right":{"type":"ObjectExpression","start":2343,"end":2345,"loc":{"start":{"line":61,"column":78},"end":{"line":61,"column":80}},"properties":[]}}]}]}}]},"alternate":null},{"type":"ExpressionStatement","start":2359,"end":2414,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":59}},"expression":{"type":"CallExpression","start":2359,"end":2413,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":58}},"callee":{"type":"Identifier","start":2359,"end":2366,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":11}},"name":"emitter"},"arguments":[{"type":"LogicalExpression","start":2367,"end":2412,"loc":{"start":{"line":63,"column":12},"end":{"line":63,"column":57}},"left":{"type":"MemberExpression","start":2367,"end":2392,"loc":{"start":{"line":63,"column":12},"end":{"line":63,"column":37}},"object":{"type":"Identifier","start":2367,"end":2374,"loc":{"start":{"line":63,"column":12},"end":{"line":63,"column":19}},"name":"options"},"property":{"type":"Identifier","start":2375,"end":2392,"loc":{"start":{"line":63,"column":20},"end":{"line":63,"column":37}},"name":"multipleInstances"},"computed":false},"operator":"&&","right":{"type":"MemberExpression","start":2396,"end":2412,"loc":{"start":{"line":63,"column":41},"end":{"line":63,"column":57}},"object":{"type":"Identifier","start":2396,"end":2403,"loc":{"start":{"line":63,"column":41},"end":{"line":63,"column":48}},"name":"options"},"property":{"type":"Identifier","start":2404,"end":2412,"loc":{"start":{"line":63,"column":49},"end":{"line":63,"column":57}},"name":"redisUrl"},"computed":false}}]}},{"type":"VariableDeclaration","start":2419,"end":2441,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":26}},"declarations":[{"type":"VariableDeclarator","start":2425,"end":2440,"loc":{"start":{"line":64,"column":10},"end":{"line":64,"column":25}},"id":{"type":"Identifier","start":2425,"end":2428,"loc":{"start":{"line":64,"column":10},"end":{"line":64,"column":13}},"name":"app"},"init":{"type":"CallExpression","start":2431,"end":2440,"loc":{"start":{"line":64,"column":16},"end":{"line":64,"column":25}},"callee":{"type":"Identifier","start":2431,"end":2438,"loc":{"start":{"line":64,"column":16},"end":{"line":64,"column":23}},"name":"express"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":2446,"end":2470,"loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":28}},"expression":{"type":"CallExpression","start":2446,"end":2469,"loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":27}},"callee":{"type":"MemberExpression","start":2446,"end":2453,"loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":11}},"object":{"type":"Identifier","start":2446,"end":2449,"loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":7}},"name":"app"},"property":{"type":"Identifier","start":2450,"end":2453,"loc":{"start":{"line":65,"column":8},"end":{"line":65,"column":11}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":2454,"end":2468,"loc":{"start":{"line":65,"column":12},"end":{"line":65,"column":26}},"callee":{"type":"Identifier","start":2454,"end":2466,"loc":{"start":{"line":65,"column":12},"end":{"line":65,"column":24}},"name":"cookieParser"},"arguments":[]}]}},{"type":"ExpressionStatement","start":2513,"end":2550,"loc":{"start":{"line":66,"column":4},"end":{"line":66,"column":41}},"expression":{"type":"CallExpression","start":2513,"end":2549,"loc":{"start":{"line":66,"column":4},"end":{"line":66,"column":40}},"callee":{"type":"MemberExpression","start":2513,"end":2520,"loc":{"start":{"line":66,"column":4},"end":{"line":66,"column":11}},"object":{"type":"Identifier","start":2513,"end":2516,"loc":{"start":{"line":66,"column":4},"end":{"line":66,"column":7}},"name":"app"},"property":{"type":"Identifier","start":2517,"end":2520,"loc":{"start":{"line":66,"column":8},"end":{"line":66,"column":11}},"name":"use"},"computed":false},"arguments":[{"type":"Identifier","start":2521,"end":2548,"loc":{"start":{"line":66,"column":12},"end":{"line":66,"column":39}},"name":"interceptGrantErrorResponse"}]}},{"type":"ExpressionStatement","start":2555,"end":2583,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":32}},"expression":{"type":"CallExpression","start":2555,"end":2582,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":31}},"callee":{"type":"MemberExpression","start":2555,"end":2562,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":11}},"object":{"type":"Identifier","start":2555,"end":2558,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":7}},"name":"app"},"property":{"type":"Identifier","start":2559,"end":2562,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":11}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":2563,"end":2581,"loc":{"start":{"line":67,"column":12},"end":{"line":67,"column":30}},"callee":{"type":"Identifier","start":2563,"end":2568,"loc":{"start":{"line":67,"column":12},"end":{"line":67,"column":17}},"name":"Grant"},"arguments":[{"type":"Identifier","start":2569,"end":2580,"loc":{"start":{"line":67,"column":18},"end":{"line":67,"column":29}},"name":"grantConfig"}]}]}},{"type":"ExpressionStatement","start":2588,"end":3640,"loc":{"start":{"line":68,"column":4},"end":{"line":91,"column":7}},"expression":{"type":"CallExpression","start":2588,"end":3639,"loc":{"start":{"line":68,"column":4},"end":{"line":91,"column":6}},"callee":{"type":"MemberExpression","start":2588,"end":2595,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":11}},"object":{"type":"Identifier","start":2588,"end":2591,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":7}},"name":"app"},"property":{"type":"Identifier","start":2592,"end":2595,"loc":{"start":{"line":68,"column":8},"end":{"line":68,"column":11}},"name":"use"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2596,"end":3638,"loc":{"start":{"line":68,"column":12},"end":{"line":91,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2597,"end":2600,"loc":{"start":{"line":68,"column":13},"end":{"line":68,"column":16}},"name":"req"},{"type":"Identifier","start":2602,"end":2605,"loc":{"start":{"line":68,"column":18},"end":{"line":68,"column":21}},"name":"res"},{"type":"Identifier","start":2607,"end":2611,"loc":{"start":{"line":68,"column":23},"end":{"line":68,"column":27}},"name":"next"}],"body":{"type":"BlockStatement","start":2616,"end":3638,"loc":{"start":{"line":68,"column":32},"end":{"line":91,"column":5}},"body":[{"type":"ExpressionStatement","start":2626,"end":2699,"loc":{"start":{"line":69,"column":8},"end":{"line":69,"column":81}},"expression":{"type":"CallExpression","start":2626,"end":2698,"loc":{"start":{"line":69,"column":8},"end":{"line":69,"column":80}},"callee":{"type":"MemberExpression","start":2626,"end":2636,"loc":{"start":{"line":69,"column":8},"end":{"line":69,"column":18}},"object":{"type":"Identifier","start":2626,"end":2629,"loc":{"start":{"line":69,"column":8},"end":{"line":69,"column":11}},"name":"res"},"property":{"type":"Identifier","start":2630,"end":2636,"loc":{"start":{"line":69,"column":12},"end":{"line":69,"column":18}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":2637,"end":2667,"loc":{"start":{"line":69,"column":19},"end":{"line":69,"column":49}},"value":"Access-Control-Allow-Methods","raw":"'Access-Control-Allow-Methods'"},{"type":"Literal","start":2669,"end":2697,"loc":{"start":{"line":69,"column":51},"end":{"line":69,"column":79}},"value":"GET, POST, OPTIONS, DELETE","raw":"'GET, POST, OPTIONS, DELETE'"}]}},{"type":"ExpressionStatement","start":2708,"end":2886,"loc":{"start":{"line":70,"column":8},"end":{"line":74,"column":21}},"expression":{"type":"CallExpression","start":2708,"end":2885,"loc":{"start":{"line":70,"column":8},"end":{"line":74,"column":20}},"callee":{"type":"MemberExpression","start":2708,"end":2718,"loc":{"start":{"line":70,"column":8},"end":{"line":70,"column":18}},"object":{"type":"Identifier","start":2708,"end":2711,"loc":{"start":{"line":70,"column":8},"end":{"line":70,"column":11}},"name":"res"},"property":{"type":"Identifier","start":2712,"end":2718,"loc":{"start":{"line":70,"column":12},"end":{"line":70,"column":18}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":2719,"end":2749,"loc":{"start":{"line":70,"column":19},"end":{"line":70,"column":49}},"value":"Access-Control-Allow-Headers","raw":"'Access-Control-Allow-Headers'"},{"type":"CallExpression","start":2751,"end":2884,"loc":{"start":{"line":70,"column":51},"end":{"line":74,"column":19}},"callee":{"type":"MemberExpression","start":2751,"end":2879,"loc":{"start":{"line":70,"column":51},"end":{"line":74,"column":14}},"object":{"type":"ArrayExpression","start":2751,"end":2874,"loc":{"start":{"line":70,"column":51},"end":{"line":74,"column":9}},"elements":[{"type":"Literal","start":2765,"end":2782,"loc":{"start":{"line":71,"column":12},"end":{"line":71,"column":29}},"value":"uppy-auth-token","raw":"'uppy-auth-token'"},{"type":"Literal","start":2796,"end":2811,"loc":{"start":{"line":72,"column":12},"end":{"line":72,"column":27}},"value":"uppy-versions","raw":"'uppy-versions'"},{"type":"CallExpression","start":2825,"end":2864,"loc":{"start":{"line":73,"column":12},"end":{"line":73,"column":51}},"callee":{"type":"MemberExpression","start":2825,"end":2832,"loc":{"start":{"line":73,"column":12},"end":{"line":73,"column":19}},"object":{"type":"Identifier","start":2825,"end":2828,"loc":{"start":{"line":73,"column":12},"end":{"line":73,"column":15}},"name":"res"},"property":{"type":"Identifier","start":2829,"end":2832,"loc":{"start":{"line":73,"column":16},"end":{"line":73,"column":19}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":2833,"end":2863,"loc":{"start":{"line":73,"column":20},"end":{"line":73,"column":50}},"value":"Access-Control-Allow-Headers","raw":"'Access-Control-Allow-Headers'"}]}]},"property":{"type":"Identifier","start":2875,"end":2879,"loc":{"start":{"line":74,"column":10},"end":{"line":74,"column":14}},"name":"join"},"computed":false},"arguments":[{"type":"Literal","start":2880,"end":2883,"loc":{"start":{"line":74,"column":15},"end":{"line":74,"column":18}},"value":",","raw":"','"}]}]}},{"type":"VariableDeclaration","start":2895,"end":3048,"loc":{"start":{"line":75,"column":8},"end":{"line":78,"column":10}},"declarations":[{"type":"VariableDeclarator","start":2901,"end":3047,"loc":{"start":{"line":75,"column":14},"end":{"line":78,"column":9}},"id":{"type":"Identifier","start":2901,"end":2915,"loc":{"start":{"line":75,"column":14},"end":{"line":75,"column":28}},"name":"exposedHeaders"},"init":{"type":"ArrayExpression","start":2918,"end":3047,"loc":{"start":{"line":75,"column":31},"end":{"line":78,"column":9}},"elements":[{"type":"Literal","start":3007,"end":3037,"loc":{"start":{"line":77,"column":12},"end":{"line":77,"column":42}},"value":"Access-Control-Allow-Headers","raw":"'Access-Control-Allow-Headers'"}]}}],"kind":"const"},{"type":"IfStatement","start":3057,"end":3311,"loc":{"start":{"line":79,"column":8},"end":{"line":84,"column":9}},"test":{"type":"MemberExpression","start":3061,"end":3085,"loc":{"start":{"line":79,"column":12},"end":{"line":79,"column":36}},"object":{"type":"Identifier","start":3061,"end":3068,"loc":{"start":{"line":79,"column":12},"end":{"line":79,"column":19}},"name":"options"},"property":{"type":"Identifier","start":3069,"end":3085,"loc":{"start":{"line":79,"column":20},"end":{"line":79,"column":36}},"name":"sendSelfEndpoint"},"computed":false},"consequent":{"type":"BlockStatement","start":3087,"end":3311,"loc":{"start":{"line":79,"column":38},"end":{"line":84,"column":9}},"body":[{"type":"ExpressionStatement","start":3147,"end":3175,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":40}},"expression":{"type":"CallExpression","start":3147,"end":3174,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":39}},"callee":{"type":"MemberExpression","start":3147,"end":3166,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":31}},"object":{"type":"Identifier","start":3147,"end":3161,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":26}},"name":"exposedHeaders"},"property":{"type":"Identifier","start":3162,"end":3166,"loc":{"start":{"line":81,"column":27},"end":{"line":81,"column":31}},"name":"push"},"computed":false},"arguments":[{"type":"Literal","start":3167,"end":3173,"loc":{"start":{"line":81,"column":32},"end":{"line":81,"column":38}},"value":"i-am","raw":"'i-am'"}]}},{"type":"VariableDeclaration","start":3188,"end":3224,"loc":{"start":{"line":82,"column":12},"end":{"line":82,"column":48}},"declarations":[{"type":"VariableDeclarator","start":3194,"end":3223,"loc":{"start":{"line":82,"column":18},"end":{"line":82,"column":47}},"id":{"type":"ObjectPattern","start":3194,"end":3206,"loc":{"start":{"line":82,"column":18},"end":{"line":82,"column":30}},"properties":[{"type":"Property","start":3196,"end":3204,"loc":{"start":{"line":82,"column":20},"end":{"line":82,"column":28}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3196,"end":3204,"loc":{"start":{"line":82,"column":20},"end":{"line":82,"column":28}},"name":"protocol"},"kind":"init","value":{"type":"Identifier","start":3196,"end":3204,"loc":{"start":{"line":82,"column":20},"end":{"line":82,"column":28}},"name":"protocol"}}]},"init":{"type":"MemberExpression","start":3209,"end":3223,"loc":{"start":{"line":82,"column":33},"end":{"line":82,"column":47}},"object":{"type":"Identifier","start":3209,"end":3216,"loc":{"start":{"line":82,"column":33},"end":{"line":82,"column":40}},"name":"options"},"property":{"type":"Identifier","start":3217,"end":3223,"loc":{"start":{"line":82,"column":41},"end":{"line":82,"column":47}},"name":"server"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":3237,"end":3301,"loc":{"start":{"line":83,"column":12},"end":{"line":83,"column":76}},"expression":{"type":"CallExpression","start":3237,"end":3300,"loc":{"start":{"line":83,"column":12},"end":{"line":83,"column":75}},"callee":{"type":"MemberExpression","start":3237,"end":3247,"loc":{"start":{"line":83,"column":12},"end":{"line":83,"column":22}},"object":{"type":"Identifier","start":3237,"end":3240,"loc":{"start":{"line":83,"column":12},"end":{"line":83,"column":15}},"name":"res"},"property":{"type":"Identifier","start":3241,"end":3247,"loc":{"start":{"line":83,"column":16},"end":{"line":83,"column":22}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":3248,"end":3254,"loc":{"start":{"line":83,"column":23},"end":{"line":83,"column":29}},"value":"i-am","raw":"'i-am'"},{"type":"TemplateLiteral","start":3256,"end":3299,"loc":{"start":{"line":83,"column":31},"end":{"line":83,"column":74}},"expressions":[{"type":"Identifier","start":3259,"end":3267,"loc":{"start":{"line":83,"column":34},"end":{"line":83,"column":42}},"name":"protocol"},{"type":"MemberExpression","start":3273,"end":3297,"loc":{"start":{"line":83,"column":48},"end":{"line":83,"column":72}},"object":{"type":"Identifier","start":3273,"end":3280,"loc":{"start":{"line":83,"column":48},"end":{"line":83,"column":55}},"name":"options"},"property":{"type":"Identifier","start":3281,"end":3297,"loc":{"start":{"line":83,"column":56},"end":{"line":83,"column":72}},"name":"sendSelfEndpoint"},"computed":false}],"quasis":[{"type":"TemplateElement","start":3257,"end":3257,"loc":{"start":{"line":83,"column":32},"end":{"line":83,"column":32}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":3268,"end":3271,"loc":{"start":{"line":83,"column":43},"end":{"line":83,"column":46}},"value":{"raw":"://","cooked":"://"},"tail":false},{"type":"TemplateElement","start":3298,"end":3298,"loc":{"start":{"line":83,"column":73},"end":{"line":83,"column":73}},"value":{"raw":"","cooked":""},"tail":true}]}]}}]},"alternate":null},{"type":"IfStatement","start":3320,"end":3537,"loc":{"start":{"line":85,"column":8},"end":{"line":88,"column":9}},"test":{"type":"CallExpression","start":3324,"end":3364,"loc":{"start":{"line":85,"column":12},"end":{"line":85,"column":52}},"callee":{"type":"MemberExpression","start":3324,"end":3331,"loc":{"start":{"line":85,"column":12},"end":{"line":85,"column":19}},"object":{"type":"Identifier","start":3324,"end":3327,"loc":{"start":{"line":85,"column":12},"end":{"line":85,"column":15}},"name":"res"},"property":{"type":"Identifier","start":3328,"end":3331,"loc":{"start":{"line":85,"column":16},"end":{"line":85,"column":19}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":3332,"end":3363,"loc":{"start":{"line":85,"column":20},"end":{"line":85,"column":51}},"value":"Access-Control-Expose-Headers","raw":"'Access-Control-Expose-Headers'"}]},"consequent":{"type":"BlockStatement","start":3366,"end":3537,"loc":{"start":{"line":85,"column":54},"end":{"line":88,"column":9}},"body":[{"type":"ExpressionStatement","start":3465,"end":3527,"loc":{"start":{"line":87,"column":12},"end":{"line":87,"column":74}},"expression":{"type":"CallExpression","start":3465,"end":3526,"loc":{"start":{"line":87,"column":12},"end":{"line":87,"column":73}},"callee":{"type":"MemberExpression","start":3465,"end":3484,"loc":{"start":{"line":87,"column":12},"end":{"line":87,"column":31}},"object":{"type":"Identifier","start":3465,"end":3479,"loc":{"start":{"line":87,"column":12},"end":{"line":87,"column":26}},"name":"exposedHeaders"},"property":{"type":"Identifier","start":3480,"end":3484,"loc":{"start":{"line":87,"column":27},"end":{"line":87,"column":31}},"name":"push"},"computed":false},"arguments":[{"type":"CallExpression","start":3485,"end":3525,"loc":{"start":{"line":87,"column":32},"end":{"line":87,"column":72}},"callee":{"type":"MemberExpression","start":3485,"end":3492,"loc":{"start":{"line":87,"column":32},"end":{"line":87,"column":39}},"object":{"type":"Identifier","start":3485,"end":3488,"loc":{"start":{"line":87,"column":32},"end":{"line":87,"column":35}},"name":"res"},"property":{"type":"Identifier","start":3489,"end":3492,"loc":{"start":{"line":87,"column":36},"end":{"line":87,"column":39}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":3493,"end":3524,"loc":{"start":{"line":87,"column":40},"end":{"line":87,"column":71}},"value":"Access-Control-Expose-Headers","raw":"'Access-Control-Expose-Headers'"}]}]}}]},"alternate":null},{"type":"ExpressionStatement","start":3546,"end":3616,"loc":{"start":{"line":89,"column":8},"end":{"line":89,"column":78}},"expression":{"type":"CallExpression","start":3546,"end":3615,"loc":{"start":{"line":89,"column":8},"end":{"line":89,"column":77}},"callee":{"type":"MemberExpression","start":3546,"end":3556,"loc":{"start":{"line":89,"column":8},"end":{"line":89,"column":18}},"object":{"type":"Identifier","start":3546,"end":3549,"loc":{"start":{"line":89,"column":8},"end":{"line":89,"column":11}},"name":"res"},"property":{"type":"Identifier","start":3550,"end":3556,"loc":{"start":{"line":89,"column":12},"end":{"line":89,"column":18}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":3557,"end":3588,"loc":{"start":{"line":89,"column":19},"end":{"line":89,"column":50}},"value":"Access-Control-Expose-Headers","raw":"'Access-Control-Expose-Headers'"},{"type":"CallExpression","start":3590,"end":3614,"loc":{"start":{"line":89,"column":52},"end":{"line":89,"column":76}},"callee":{"type":"MemberExpression","start":3590,"end":3609,"loc":{"start":{"line":89,"column":52},"end":{"line":89,"column":71}},"object":{"type":"Identifier","start":3590,"end":3604,"loc":{"start":{"line":89,"column":52},"end":{"line":89,"column":66}},"name":"exposedHeaders"},"property":{"type":"Identifier","start":3605,"end":3609,"loc":{"start":{"line":89,"column":67},"end":{"line":89,"column":71}},"name":"join"},"computed":false},"arguments":[{"type":"Literal","start":3610,"end":3613,"loc":{"start":{"line":89,"column":72},"end":{"line":89,"column":75}},"value":",","raw":"','"}]}]}},{"type":"ExpressionStatement","start":3625,"end":3632,"loc":{"start":{"line":90,"column":8},"end":{"line":90,"column":15}},"expression":{"type":"CallExpression","start":3625,"end":3631,"loc":{"start":{"line":90,"column":8},"end":{"line":90,"column":14}},"callee":{"type":"Identifier","start":3625,"end":3629,"loc":{"start":{"line":90,"column":8},"end":{"line":90,"column":12}},"name":"next"},"arguments":[]}}]}}]}},{"type":"ExpressionStatement","start":3737,"end":3781,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":48}},"expression":{"type":"CallExpression","start":3737,"end":3780,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":47}},"callee":{"type":"MemberExpression","start":3737,"end":3744,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":11}},"object":{"type":"Identifier","start":3737,"end":3740,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":7}},"name":"app"},"property":{"type":"Identifier","start":3741,"end":3744,"loc":{"start":{"line":93,"column":8},"end":{"line":93,"column":11}},"name":"use"},"computed":false},"arguments":[{"type":"Literal","start":3745,"end":3748,"loc":{"start":{"line":93,"column":12},"end":{"line":93,"column":15}},"value":"*","raw":"'*'"},{"type":"CallExpression","start":3750,"end":3779,"loc":{"start":{"line":93,"column":17},"end":{"line":93,"column":46}},"callee":{"type":"Identifier","start":3750,"end":3770,"loc":{"start":{"line":93,"column":17},"end":{"line":93,"column":37}},"name":"getOptionsMiddleware"},"arguments":[{"type":"Identifier","start":3771,"end":3778,"loc":{"start":{"line":93,"column":38},"end":{"line":93,"column":45}},"name":"options"}]}]}},{"type":"ExpressionStatement","start":3786,"end":3833,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":51}},"expression":{"type":"CallExpression","start":3786,"end":3832,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":50}},"callee":{"type":"MemberExpression","start":3786,"end":3793,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":11}},"object":{"type":"Identifier","start":3786,"end":3789,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":7}},"name":"app"},"property":{"type":"Identifier","start":3790,"end":3793,"loc":{"start":{"line":94,"column":8},"end":{"line":94,"column":11}},"name":"use"},"computed":false},"arguments":[{"type":"Literal","start":3794,"end":3799,"loc":{"start":{"line":94,"column":12},"end":{"line":94,"column":17}},"value":"/s3","raw":"'/s3'"},{"type":"CallExpression","start":3801,"end":3831,"loc":{"start":{"line":94,"column":19},"end":{"line":94,"column":49}},"callee":{"type":"Identifier","start":3801,"end":3803,"loc":{"start":{"line":94,"column":19},"end":{"line":94,"column":21}},"name":"s3"},"arguments":[{"type":"MemberExpression","start":3804,"end":3830,"loc":{"start":{"line":94,"column":22},"end":{"line":94,"column":48}},"object":{"type":"MemberExpression","start":3804,"end":3827,"loc":{"start":{"line":94,"column":22},"end":{"line":94,"column":45}},"object":{"type":"Identifier","start":3804,"end":3811,"loc":{"start":{"line":94,"column":22},"end":{"line":94,"column":29}},"name":"options"},"property":{"type":"Identifier","start":3812,"end":3827,"loc":{"start":{"line":94,"column":30},"end":{"line":94,"column":45}},"name":"providerOptions"},"computed":false},"property":{"type":"Identifier","start":3828,"end":3830,"loc":{"start":{"line":94,"column":46},"end":{"line":94,"column":48}},"name":"s3"},"computed":false}]}]}},{"type":"ExpressionStatement","start":3838,"end":3861,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":27}},"expression":{"type":"CallExpression","start":3838,"end":3860,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":26}},"callee":{"type":"MemberExpression","start":3838,"end":3845,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":11}},"object":{"type":"Identifier","start":3838,"end":3841,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":7}},"name":"app"},"property":{"type":"Identifier","start":3842,"end":3845,"loc":{"start":{"line":95,"column":8},"end":{"line":95,"column":11}},"name":"use"},"computed":false},"arguments":[{"type":"Literal","start":3846,"end":3852,"loc":{"start":{"line":95,"column":12},"end":{"line":95,"column":18}},"value":"/url","raw":"'/url'"},{"type":"CallExpression","start":3854,"end":3859,"loc":{"start":{"line":95,"column":20},"end":{"line":95,"column":25}},"callee":{"type":"Identifier","start":3854,"end":3857,"loc":{"start":{"line":95,"column":20},"end":{"line":95,"column":23}},"name":"url"},"arguments":[]}]}},{"type":"ExpressionStatement","start":3866,"end":3958,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":96}},"expression":{"type":"CallExpression","start":3866,"end":3957,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":95}},"callee":{"type":"MemberExpression","start":3866,"end":3873,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":11}},"object":{"type":"Identifier","start":3866,"end":3869,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":7}},"name":"app"},"property":{"type":"Identifier","start":3870,"end":3873,"loc":{"start":{"line":96,"column":8},"end":{"line":96,"column":11}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":3874,"end":3899,"loc":{"start":{"line":96,"column":12},"end":{"line":96,"column":37}},"value":"/:providerName/callback","raw":"'/:providerName/callback'"},{"type":"MemberExpression","start":3901,"end":3934,"loc":{"start":{"line":96,"column":39},"end":{"line":96,"column":72}},"object":{"type":"Identifier","start":3901,"end":3912,"loc":{"start":{"line":96,"column":39},"end":{"line":96,"column":50}},"name":"middlewares"},"property":{"type":"Identifier","start":3913,"end":3934,"loc":{"start":{"line":96,"column":51},"end":{"line":96,"column":72}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":3936,"end":3956,"loc":{"start":{"line":96,"column":74},"end":{"line":96,"column":94}},"object":{"type":"Identifier","start":3936,"end":3947,"loc":{"start":{"line":96,"column":74},"end":{"line":96,"column":85}},"name":"controllers"},"property":{"type":"Identifier","start":3948,"end":3956,"loc":{"start":{"line":96,"column":86},"end":{"line":96,"column":94}},"name":"callback"},"computed":false}]}},{"type":"ExpressionStatement","start":3963,"end":4053,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":94}},"expression":{"type":"CallExpression","start":3963,"end":4052,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":93}},"callee":{"type":"MemberExpression","start":3963,"end":3970,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":11}},"object":{"type":"Identifier","start":3963,"end":3966,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":7}},"name":"app"},"property":{"type":"Identifier","start":3967,"end":3970,"loc":{"start":{"line":97,"column":8},"end":{"line":97,"column":11}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":3971,"end":3995,"loc":{"start":{"line":97,"column":12},"end":{"line":97,"column":36}},"value":"/:providerName/connect","raw":"'/:providerName/connect'"},{"type":"MemberExpression","start":3997,"end":4030,"loc":{"start":{"line":97,"column":38},"end":{"line":97,"column":71}},"object":{"type":"Identifier","start":3997,"end":4008,"loc":{"start":{"line":97,"column":38},"end":{"line":97,"column":49}},"name":"middlewares"},"property":{"type":"Identifier","start":4009,"end":4030,"loc":{"start":{"line":97,"column":50},"end":{"line":97,"column":71}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":4032,"end":4051,"loc":{"start":{"line":97,"column":73},"end":{"line":97,"column":92}},"object":{"type":"Identifier","start":4032,"end":4043,"loc":{"start":{"line":97,"column":73},"end":{"line":97,"column":84}},"name":"controllers"},"property":{"type":"Identifier","start":4044,"end":4051,"loc":{"start":{"line":97,"column":85},"end":{"line":97,"column":92}},"name":"connect"},"computed":false}]}},{"type":"ExpressionStatement","start":4058,"end":4150,"loc":{"start":{"line":98,"column":4},"end":{"line":98,"column":96}},"expression":{"type":"CallExpression","start":4058,"end":4149,"loc":{"start":{"line":98,"column":4},"end":{"line":98,"column":95}},"callee":{"type":"MemberExpression","start":4058,"end":4065,"loc":{"start":{"line":98,"column":4},"end":{"line":98,"column":11}},"object":{"type":"Identifier","start":4058,"end":4061,"loc":{"start":{"line":98,"column":4},"end":{"line":98,"column":7}},"name":"app"},"property":{"type":"Identifier","start":4062,"end":4065,"loc":{"start":{"line":98,"column":8},"end":{"line":98,"column":11}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":4066,"end":4091,"loc":{"start":{"line":98,"column":12},"end":{"line":98,"column":37}},"value":"/:providerName/redirect","raw":"'/:providerName/redirect'"},{"type":"MemberExpression","start":4093,"end":4126,"loc":{"start":{"line":98,"column":39},"end":{"line":98,"column":72}},"object":{"type":"Identifier","start":4093,"end":4104,"loc":{"start":{"line":98,"column":39},"end":{"line":98,"column":50}},"name":"middlewares"},"property":{"type":"Identifier","start":4105,"end":4126,"loc":{"start":{"line":98,"column":51},"end":{"line":98,"column":72}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":4128,"end":4148,"loc":{"start":{"line":98,"column":74},"end":{"line":98,"column":94}},"object":{"type":"Identifier","start":4128,"end":4139,"loc":{"start":{"line":98,"column":74},"end":{"line":98,"column":85}},"name":"controllers"},"property":{"type":"Identifier","start":4140,"end":4148,"loc":{"start":{"line":98,"column":86},"end":{"line":98,"column":94}},"name":"redirect"},"computed":false}]}},{"type":"ExpressionStatement","start":4155,"end":4274,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":123}},"expression":{"type":"CallExpression","start":4155,"end":4273,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":122}},"callee":{"type":"MemberExpression","start":4155,"end":4162,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":11}},"object":{"type":"Identifier","start":4155,"end":4158,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":7}},"name":"app"},"property":{"type":"Identifier","start":4159,"end":4162,"loc":{"start":{"line":99,"column":8},"end":{"line":99,"column":11}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":4163,"end":4186,"loc":{"start":{"line":99,"column":12},"end":{"line":99,"column":35}},"value":"/:providerName/logout","raw":"'/:providerName/logout'"},{"type":"MemberExpression","start":4188,"end":4221,"loc":{"start":{"line":99,"column":37},"end":{"line":99,"column":70}},"object":{"type":"Identifier","start":4188,"end":4199,"loc":{"start":{"line":99,"column":37},"end":{"line":99,"column":48}},"name":"middlewares"},"property":{"type":"Identifier","start":4200,"end":4221,"loc":{"start":{"line":99,"column":49},"end":{"line":99,"column":70}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":4223,"end":4252,"loc":{"start":{"line":99,"column":72},"end":{"line":99,"column":101}},"object":{"type":"Identifier","start":4223,"end":4234,"loc":{"start":{"line":99,"column":72},"end":{"line":99,"column":83}},"name":"middlewares"},"property":{"type":"Identifier","start":4235,"end":4252,"loc":{"start":{"line":99,"column":84},"end":{"line":99,"column":101}},"name":"gentleVerifyToken"},"computed":false},{"type":"MemberExpression","start":4254,"end":4272,"loc":{"start":{"line":99,"column":103},"end":{"line":99,"column":121}},"object":{"type":"Identifier","start":4254,"end":4265,"loc":{"start":{"line":99,"column":103},"end":{"line":99,"column":114}},"name":"controllers"},"property":{"type":"Identifier","start":4266,"end":4272,"loc":{"start":{"line":99,"column":115},"end":{"line":99,"column":121}},"name":"logout"},"computed":false}]}},{"type":"ExpressionStatement","start":4279,"end":4399,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":124}},"expression":{"type":"CallExpression","start":4279,"end":4398,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":123}},"callee":{"type":"MemberExpression","start":4279,"end":4286,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":11}},"object":{"type":"Identifier","start":4279,"end":4282,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":7}},"name":"app"},"property":{"type":"Identifier","start":4283,"end":4286,"loc":{"start":{"line":100,"column":8},"end":{"line":100,"column":11}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":4287,"end":4314,"loc":{"start":{"line":100,"column":12},"end":{"line":100,"column":39}},"value":"/:providerName/send-token","raw":"'/:providerName/send-token'"},{"type":"MemberExpression","start":4316,"end":4349,"loc":{"start":{"line":100,"column":41},"end":{"line":100,"column":74}},"object":{"type":"Identifier","start":4316,"end":4327,"loc":{"start":{"line":100,"column":41},"end":{"line":100,"column":52}},"name":"middlewares"},"property":{"type":"Identifier","start":4328,"end":4349,"loc":{"start":{"line":100,"column":53},"end":{"line":100,"column":74}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":4351,"end":4374,"loc":{"start":{"line":100,"column":76},"end":{"line":100,"column":99}},"object":{"type":"Identifier","start":4351,"end":4362,"loc":{"start":{"line":100,"column":76},"end":{"line":100,"column":87}},"name":"middlewares"},"property":{"type":"Identifier","start":4363,"end":4374,"loc":{"start":{"line":100,"column":88},"end":{"line":100,"column":99}},"name":"verifyToken"},"computed":false},{"type":"MemberExpression","start":4376,"end":4397,"loc":{"start":{"line":100,"column":101},"end":{"line":100,"column":122}},"object":{"type":"Identifier","start":4376,"end":4387,"loc":{"start":{"line":100,"column":101},"end":{"line":100,"column":112}},"name":"controllers"},"property":{"type":"Identifier","start":4388,"end":4397,"loc":{"start":{"line":100,"column":113},"end":{"line":100,"column":122}},"name":"sendToken"},"computed":false}]}},{"type":"ExpressionStatement","start":4404,"end":4518,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":118}},"expression":{"type":"CallExpression","start":4404,"end":4517,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":117}},"callee":{"type":"MemberExpression","start":4404,"end":4411,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":11}},"object":{"type":"Identifier","start":4404,"end":4407,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":7}},"name":"app"},"property":{"type":"Identifier","start":4408,"end":4411,"loc":{"start":{"line":101,"column":8},"end":{"line":101,"column":11}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":4412,"end":4438,"loc":{"start":{"line":101,"column":12},"end":{"line":101,"column":38}},"value":"/:providerName/list/:id?","raw":"'/:providerName/list/:id?'"},{"type":"MemberExpression","start":4440,"end":4473,"loc":{"start":{"line":101,"column":40},"end":{"line":101,"column":73}},"object":{"type":"Identifier","start":4440,"end":4451,"loc":{"start":{"line":101,"column":40},"end":{"line":101,"column":51}},"name":"middlewares"},"property":{"type":"Identifier","start":4452,"end":4473,"loc":{"start":{"line":101,"column":52},"end":{"line":101,"column":73}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":4475,"end":4498,"loc":{"start":{"line":101,"column":75},"end":{"line":101,"column":98}},"object":{"type":"Identifier","start":4475,"end":4486,"loc":{"start":{"line":101,"column":75},"end":{"line":101,"column":86}},"name":"middlewares"},"property":{"type":"Identifier","start":4487,"end":4498,"loc":{"start":{"line":101,"column":87},"end":{"line":101,"column":98}},"name":"verifyToken"},"computed":false},{"type":"MemberExpression","start":4500,"end":4516,"loc":{"start":{"line":101,"column":100},"end":{"line":101,"column":116}},"object":{"type":"Identifier","start":4500,"end":4511,"loc":{"start":{"line":101,"column":100},"end":{"line":101,"column":111}},"name":"controllers"},"property":{"type":"Identifier","start":4512,"end":4516,"loc":{"start":{"line":101,"column":112},"end":{"line":101,"column":116}},"name":"list"},"computed":false}]}},{"type":"ExpressionStatement","start":4523,"end":4635,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":116}},"expression":{"type":"CallExpression","start":4523,"end":4634,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":115}},"callee":{"type":"MemberExpression","start":4523,"end":4531,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":12}},"object":{"type":"Identifier","start":4523,"end":4526,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":7}},"name":"app"},"property":{"type":"Identifier","start":4527,"end":4531,"loc":{"start":{"line":102,"column":8},"end":{"line":102,"column":12}},"name":"post"},"computed":false},"arguments":[{"type":"Literal","start":4532,"end":4556,"loc":{"start":{"line":102,"column":13},"end":{"line":102,"column":37}},"value":"/:providerName/get/:id","raw":"'/:providerName/get/:id'"},{"type":"MemberExpression","start":4558,"end":4591,"loc":{"start":{"line":102,"column":39},"end":{"line":102,"column":72}},"object":{"type":"Identifier","start":4558,"end":4569,"loc":{"start":{"line":102,"column":39},"end":{"line":102,"column":50}},"name":"middlewares"},"property":{"type":"Identifier","start":4570,"end":4591,"loc":{"start":{"line":102,"column":51},"end":{"line":102,"column":72}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":4593,"end":4616,"loc":{"start":{"line":102,"column":74},"end":{"line":102,"column":97}},"object":{"type":"Identifier","start":4593,"end":4604,"loc":{"start":{"line":102,"column":74},"end":{"line":102,"column":85}},"name":"middlewares"},"property":{"type":"Identifier","start":4605,"end":4616,"loc":{"start":{"line":102,"column":86},"end":{"line":102,"column":97}},"name":"verifyToken"},"computed":false},{"type":"MemberExpression","start":4618,"end":4633,"loc":{"start":{"line":102,"column":99},"end":{"line":102,"column":114}},"object":{"type":"Identifier","start":4618,"end":4629,"loc":{"start":{"line":102,"column":99},"end":{"line":102,"column":110}},"name":"controllers"},"property":{"type":"Identifier","start":4630,"end":4633,"loc":{"start":{"line":102,"column":111},"end":{"line":102,"column":114}},"name":"get"},"computed":false}]}},{"type":"ExpressionStatement","start":4640,"end":4792,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":156}},"expression":{"type":"CallExpression","start":4640,"end":4791,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":155}},"callee":{"type":"MemberExpression","start":4640,"end":4647,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":11}},"object":{"type":"Identifier","start":4640,"end":4643,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":7}},"name":"app"},"property":{"type":"Identifier","start":4644,"end":4647,"loc":{"start":{"line":103,"column":8},"end":{"line":103,"column":11}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":4648,"end":4678,"loc":{"start":{"line":103,"column":12},"end":{"line":103,"column":42}},"value":"/:providerName/thumbnail/:id","raw":"'/:providerName/thumbnail/:id'"},{"type":"MemberExpression","start":4680,"end":4713,"loc":{"start":{"line":103,"column":44},"end":{"line":103,"column":77}},"object":{"type":"Identifier","start":4680,"end":4691,"loc":{"start":{"line":103,"column":44},"end":{"line":103,"column":55}},"name":"middlewares"},"property":{"type":"Identifier","start":4692,"end":4713,"loc":{"start":{"line":103,"column":56},"end":{"line":103,"column":77}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":4715,"end":4742,"loc":{"start":{"line":103,"column":79},"end":{"line":103,"column":106}},"object":{"type":"Identifier","start":4715,"end":4726,"loc":{"start":{"line":103,"column":79},"end":{"line":103,"column":90}},"name":"middlewares"},"property":{"type":"Identifier","start":4727,"end":4742,"loc":{"start":{"line":103,"column":91},"end":{"line":103,"column":106}},"name":"cookieAuthToken"},"computed":false},{"type":"MemberExpression","start":4744,"end":4767,"loc":{"start":{"line":103,"column":108},"end":{"line":103,"column":131}},"object":{"type":"Identifier","start":4744,"end":4755,"loc":{"start":{"line":103,"column":108},"end":{"line":103,"column":119}},"name":"middlewares"},"property":{"type":"Identifier","start":4756,"end":4767,"loc":{"start":{"line":103,"column":120},"end":{"line":103,"column":131}},"name":"verifyToken"},"computed":false},{"type":"MemberExpression","start":4769,"end":4790,"loc":{"start":{"line":103,"column":133},"end":{"line":103,"column":154}},"object":{"type":"Identifier","start":4769,"end":4780,"loc":{"start":{"line":103,"column":133},"end":{"line":103,"column":144}},"name":"controllers"},"property":{"type":"Identifier","start":4781,"end":4790,"loc":{"start":{"line":103,"column":145},"end":{"line":103,"column":154}},"name":"thumbnail"},"computed":false}]}},{"type":"ExpressionStatement","start":4797,"end":4873,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":80}},"expression":{"type":"CallExpression","start":4797,"end":4872,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":79}},"callee":{"type":"MemberExpression","start":4797,"end":4806,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":13}},"object":{"type":"Identifier","start":4797,"end":4800,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":7}},"name":"app"},"property":{"type":"Identifier","start":4801,"end":4806,"loc":{"start":{"line":104,"column":8},"end":{"line":104,"column":13}},"name":"param"},"computed":false},"arguments":[{"type":"Literal","start":4807,"end":4821,"loc":{"start":{"line":104,"column":14},"end":{"line":104,"column":28}},"value":"providerName","raw":"'providerName'"},{"type":"CallExpression","start":4823,"end":4871,"loc":{"start":{"line":104,"column":30},"end":{"line":104,"column":78}},"callee":{"type":"MemberExpression","start":4823,"end":4860,"loc":{"start":{"line":104,"column":30},"end":{"line":104,"column":67}},"object":{"type":"Identifier","start":4823,"end":4838,"loc":{"start":{"line":104,"column":30},"end":{"line":104,"column":45}},"name":"providerManager"},"property":{"type":"Identifier","start":4839,"end":4860,"loc":{"start":{"line":104,"column":46},"end":{"line":104,"column":67}},"name":"getProviderMiddleware"},"computed":false},"arguments":[{"type":"Identifier","start":4861,"end":4870,"loc":{"start":{"line":104,"column":68},"end":{"line":104,"column":77}},"name":"providers"}]}]}},{"type":"IfStatement","start":4878,"end":4964,"loc":{"start":{"line":105,"column":4},"end":{"line":107,"column":5}},"test":{"type":"BinaryExpression","start":4882,"end":4907,"loc":{"start":{"line":105,"column":8},"end":{"line":105,"column":33}},"left":{"type":"CallExpression","start":4882,"end":4896,"loc":{"start":{"line":105,"column":8},"end":{"line":105,"column":22}},"callee":{"type":"MemberExpression","start":4882,"end":4889,"loc":{"start":{"line":105,"column":8},"end":{"line":105,"column":15}},"object":{"type":"Identifier","start":4882,"end":4885,"loc":{"start":{"line":105,"column":8},"end":{"line":105,"column":11}},"name":"app"},"property":{"type":"Identifier","start":4886,"end":4889,"loc":{"start":{"line":105,"column":12},"end":{"line":105,"column":15}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":4890,"end":4895,"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":21}},"value":"env","raw":"'env'"}]},"operator":"!==","right":{"type":"Literal","start":4901,"end":4907,"loc":{"start":{"line":105,"column":27},"end":{"line":105,"column":33}},"value":"test","raw":"'test'"}},"consequent":{"type":"BlockStatement","start":4909,"end":4964,"loc":{"start":{"line":105,"column":35},"end":{"line":107,"column":5}},"body":[{"type":"ExpressionStatement","start":4919,"end":4958,"loc":{"start":{"line":106,"column":8},"end":{"line":106,"column":47}},"expression":{"type":"CallExpression","start":4919,"end":4957,"loc":{"start":{"line":106,"column":8},"end":{"line":106,"column":46}},"callee":{"type":"MemberExpression","start":4919,"end":4939,"loc":{"start":{"line":106,"column":8},"end":{"line":106,"column":28}},"object":{"type":"Identifier","start":4919,"end":4923,"loc":{"start":{"line":106,"column":8},"end":{"line":106,"column":12}},"name":"jobs"},"property":{"type":"Identifier","start":4924,"end":4939,"loc":{"start":{"line":106,"column":13},"end":{"line":106,"column":28}},"name":"startCleanUpJob"},"computed":false},"arguments":[{"type":"MemberExpression","start":4940,"end":4956,"loc":{"start":{"line":106,"column":29},"end":{"line":106,"column":45}},"object":{"type":"Identifier","start":4940,"end":4947,"loc":{"start":{"line":106,"column":29},"end":{"line":106,"column":36}},"name":"options"},"property":{"type":"Identifier","start":4948,"end":4956,"loc":{"start":{"line":106,"column":37},"end":{"line":106,"column":45}},"name":"filePath"},"computed":false}]}}]},"alternate":null},{"type":"ReturnStatement","start":4969,"end":4980,"loc":{"start":{"line":108,"column":4},"end":{"line":108,"column":15}},"argument":{"type":"Identifier","start":4976,"end":4979,"loc":{"start":{"line":108,"column":11},"end":{"line":108,"column":14}},"name":"app"}}]}}}},{"type":"ExpressionStatement","start":5084,"end":7129,"loc":{"start":{"line":115,"column":0},"end":{"line":164,"column":2}},"expression":{"type":"AssignmentExpression","start":5084,"end":7128,"loc":{"start":{"line":115,"column":0},"end":{"line":164,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":5084,"end":5105,"loc":{"start":{"line":115,"column":0},"end":{"line":115,"column":21}},"object":{"type":"MemberExpression","start":5084,"end":5098,"loc":{"start":{"line":115,"column":0},"end":{"line":115,"column":14}},"object":{"type":"Identifier","start":5084,"end":5090,"loc":{"start":{"line":115,"column":0},"end":{"line":115,"column":6}},"name":"module"},"property":{"type":"Identifier","start":5091,"end":5098,"loc":{"start":{"line":115,"column":7},"end":{"line":115,"column":14}},"name":"exports"},"computed":false},"property":{"type":"Identifier","start":5099,"end":5105,"loc":{"start":{"line":115,"column":15},"end":{"line":115,"column":21}},"name":"socket"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":5108,"end":7128,"loc":{"start":{"line":115,"column":24},"end":{"line":164,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5109,"end":5115,"loc":{"start":{"line":115,"column":25},"end":{"line":115,"column":31}},"name":"server"}],"body":{"type":"BlockStatement","start":5120,"end":7128,"loc":{"start":{"line":115,"column":36},"end":{"line":164,"column":1}},"body":[{"type":"VariableDeclaration","start":5126,"end":5167,"loc":{"start":{"line":116,"column":4},"end":{"line":116,"column":45}},"declarations":[{"type":"VariableDeclarator","start":5132,"end":5166,"loc":{"start":{"line":116,"column":10},"end":{"line":116,"column":44}},"id":{"type":"Identifier","start":5132,"end":5135,"loc":{"start":{"line":116,"column":10},"end":{"line":116,"column":13}},"name":"wss"},"init":{"type":"NewExpression","start":5138,"end":5166,"loc":{"start":{"line":116,"column":16},"end":{"line":116,"column":44}},"callee":{"type":"Identifier","start":5142,"end":5154,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":32}},"name":"SocketServer"},"arguments":[{"type":"ObjectExpression","start":5155,"end":5165,"loc":{"start":{"line":116,"column":33},"end":{"line":116,"column":43}},"properties":[{"type":"Property","start":5157,"end":5163,"loc":{"start":{"line":116,"column":35},"end":{"line":116,"column":41}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5157,"end":5163,"loc":{"start":{"line":116,"column":35},"end":{"line":116,"column":41}},"name":"server"},"kind":"init","value":{"type":"Identifier","start":5157,"end":5163,"loc":{"start":{"line":116,"column":35},"end":{"line":116,"column":41}},"name":"server"}}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5172,"end":5207,"loc":{"start":{"line":117,"column":4},"end":{"line":117,"column":39}},"declarations":[{"type":"VariableDeclarator","start":5178,"end":5206,"loc":{"start":{"line":117,"column":10},"end":{"line":117,"column":38}},"id":{"type":"Identifier","start":5178,"end":5189,"loc":{"start":{"line":117,"column":10},"end":{"line":117,"column":21}},"name":"redisClient"},"init":{"type":"CallExpression","start":5192,"end":5206,"loc":{"start":{"line":117,"column":24},"end":{"line":117,"column":38}},"callee":{"type":"MemberExpression","start":5192,"end":5204,"loc":{"start":{"line":117,"column":24},"end":{"line":117,"column":36}},"object":{"type":"Identifier","start":5192,"end":5197,"loc":{"start":{"line":117,"column":24},"end":{"line":117,"column":29}},"name":"redis"},"property":{"type":"Identifier","start":5198,"end":5204,"loc":{"start":{"line":117,"column":30},"end":{"line":117,"column":36}},"name":"client"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":5380,"end":7126,"loc":{"start":{"line":121,"column":4},"end":{"line":163,"column":7}},"expression":{"type":"CallExpression","start":5380,"end":7125,"loc":{"start":{"line":121,"column":4},"end":{"line":163,"column":6}},"callee":{"type":"MemberExpression","start":5380,"end":5386,"loc":{"start":{"line":121,"column":4},"end":{"line":121,"column":10}},"object":{"type":"Identifier","start":5380,"end":5383,"loc":{"start":{"line":121,"column":4},"end":{"line":121,"column":7}},"name":"wss"},"property":{"type":"Identifier","start":5384,"end":5386,"loc":{"start":{"line":121,"column":8},"end":{"line":121,"column":10}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":5387,"end":5399,"loc":{"start":{"line":121,"column":11},"end":{"line":121,"column":23}},"value":"connection","raw":"'connection'"},{"type":"ArrowFunctionExpression","start":5401,"end":7124,"loc":{"start":{"line":121,"column":25},"end":{"line":163,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5402,"end":5404,"loc":{"start":{"line":121,"column":26},"end":{"line":121,"column":28}},"name":"ws"},{"type":"Identifier","start":5406,"end":5409,"loc":{"start":{"line":121,"column":30},"end":{"line":121,"column":33}},"name":"req"}],"body":{"type":"BlockStatement","start":5414,"end":7124,"loc":{"start":{"line":121,"column":38},"end":{"line":163,"column":5}},"body":[{"type":"VariableDeclaration","start":5446,"end":5471,"loc":{"start":{"line":123,"column":8},"end":{"line":123,"column":33}},"declarations":[{"type":"VariableDeclarator","start":5452,"end":5470,"loc":{"start":{"line":123,"column":14},"end":{"line":123,"column":32}},"id":{"type":"Identifier","start":5452,"end":5460,"loc":{"start":{"line":123,"column":14},"end":{"line":123,"column":22}},"name":"fullPath"},"init":{"type":"MemberExpression","start":5463,"end":5470,"loc":{"start":{"line":123,"column":25},"end":{"line":123,"column":32}},"object":{"type":"Identifier","start":5463,"end":5466,"loc":{"start":{"line":123,"column":25},"end":{"line":123,"column":28}},"name":"req"},"property":{"type":"Identifier","start":5467,"end":5470,"loc":{"start":{"line":123,"column":29},"end":{"line":123,"column":32}},"name":"url"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":5599,"end":5648,"loc":{"start":{"line":126,"column":8},"end":{"line":126,"column":57}},"declarations":[{"type":"VariableDeclarator","start":5605,"end":5647,"loc":{"start":{"line":126,"column":14},"end":{"line":126,"column":56}},"id":{"type":"Identifier","start":5605,"end":5610,"loc":{"start":{"line":126,"column":14},"end":{"line":126,"column":19}},"name":"token"},"init":{"type":"CallExpression","start":5613,"end":5647,"loc":{"start":{"line":126,"column":22},"end":{"line":126,"column":56}},"callee":{"type":"MemberExpression","start":5613,"end":5629,"loc":{"start":{"line":126,"column":22},"end":{"line":126,"column":38}},"object":{"type":"Identifier","start":5613,"end":5621,"loc":{"start":{"line":126,"column":22},"end":{"line":126,"column":30}},"name":"fullPath"},"property":{"type":"Identifier","start":5622,"end":5629,"loc":{"start":{"line":126,"column":31},"end":{"line":126,"column":38}},"name":"replace"},"computed":false},"arguments":[{"type":"Literal","start":5630,"end":5642,"loc":{"start":{"line":126,"column":39},"end":{"line":126,"column":51}},"value":{},"raw":"/^.*\\/api\\//","regex":{"pattern":"^.*\\/api\\/","flags":""}},{"type":"Literal","start":5644,"end":5646,"loc":{"start":{"line":126,"column":53},"end":{"line":126,"column":55}},"value":"","raw":"''"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":5657,"end":5724,"loc":{"start":{"line":127,"column":8},"end":{"line":127,"column":75}},"expression":{"type":"CallExpression","start":5657,"end":5723,"loc":{"start":{"line":127,"column":8},"end":{"line":127,"column":74}},"callee":{"type":"MemberExpression","start":5657,"end":5668,"loc":{"start":{"line":127,"column":8},"end":{"line":127,"column":19}},"object":{"type":"Identifier","start":5657,"end":5663,"loc":{"start":{"line":127,"column":8},"end":{"line":127,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":5664,"end":5668,"loc":{"start":{"line":127,"column":15},"end":{"line":127,"column":19}},"name":"info"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":5669,"end":5704,"loc":{"start":{"line":127,"column":20},"end":{"line":127,"column":55}},"expressions":[{"type":"Identifier","start":5697,"end":5702,"loc":{"start":{"line":127,"column":48},"end":{"line":127,"column":53}},"name":"token"}],"quasis":[{"type":"TemplateElement","start":5670,"end":5695,"loc":{"start":{"line":127,"column":21},"end":{"line":127,"column":46}},"value":{"raw":"connection received from ","cooked":"connection received from "},"tail":false},{"type":"TemplateElement","start":5703,"end":5703,"loc":{"start":{"line":127,"column":54},"end":{"line":127,"column":54}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"Literal","start":5706,"end":5722,"loc":{"start":{"line":127,"column":57},"end":{"line":127,"column":73}},"value":"socket.connect","raw":"'socket.connect'"}]}},{"type":"FunctionDeclaration","start":5827,"end":6044,"loc":{"start":{"line":132,"column":8},"end":{"line":137,"column":9}},"id":{"type":"Identifier","start":5836,"end":5848,"loc":{"start":{"line":132,"column":17},"end":{"line":132,"column":29}},"name":"sendProgress"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5849,"end":5853,"loc":{"start":{"line":132,"column":30},"end":{"line":132,"column":34}},"name":"data"}],"body":{"type":"BlockStatement","start":5855,"end":6044,"loc":{"start":{"line":132,"column":36},"end":{"line":137,"column":9}},"body":[{"type":"ExpressionStatement","start":5869,"end":6034,"loc":{"start":{"line":133,"column":12},"end":{"line":136,"column":15}},"expression":{"type":"CallExpression","start":5869,"end":6033,"loc":{"start":{"line":133,"column":12},"end":{"line":136,"column":14}},"callee":{"type":"MemberExpression","start":5869,"end":5876,"loc":{"start":{"line":133,"column":12},"end":{"line":133,"column":19}},"object":{"type":"Identifier","start":5869,"end":5871,"loc":{"start":{"line":133,"column":12},"end":{"line":133,"column":14}},"name":"ws"},"property":{"type":"Identifier","start":5872,"end":5876,"loc":{"start":{"line":133,"column":15},"end":{"line":133,"column":19}},"name":"send"},"computed":false},"arguments":[{"type":"CallExpression","start":5877,"end":5896,"loc":{"start":{"line":133,"column":20},"end":{"line":133,"column":39}},"callee":{"type":"Identifier","start":5877,"end":5890,"loc":{"start":{"line":133,"column":20},"end":{"line":133,"column":33}},"name":"jsonStringify"},"arguments":[{"type":"Identifier","start":5891,"end":5895,"loc":{"start":{"line":133,"column":34},"end":{"line":133,"column":38}},"name":"data"}]},{"type":"ArrowFunctionExpression","start":5898,"end":6032,"loc":{"start":{"line":133,"column":41},"end":{"line":136,"column":13}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5899,"end":5902,"loc":{"start":{"line":133,"column":42},"end":{"line":133,"column":45}},"name":"err"}],"body":{"type":"BlockStatement","start":5907,"end":6032,"loc":{"start":{"line":133,"column":50},"end":{"line":136,"column":13}},"body":[{"type":"IfStatement","start":5925,"end":6018,"loc":{"start":{"line":134,"column":16},"end":{"line":135,"column":84}},"test":{"type":"Identifier","start":5929,"end":5932,"loc":{"start":{"line":134,"column":20},"end":{"line":134,"column":23}},"name":"err"},"consequent":{"type":"ExpressionStatement","start":5954,"end":6018,"loc":{"start":{"line":135,"column":20},"end":{"line":135,"column":84}},"expression":{"type":"CallExpression","start":5954,"end":6017,"loc":{"start":{"line":135,"column":20},"end":{"line":135,"column":83}},"callee":{"type":"MemberExpression","start":5954,"end":5966,"loc":{"start":{"line":135,"column":20},"end":{"line":135,"column":32}},"object":{"type":"Identifier","start":5954,"end":5960,"loc":{"start":{"line":135,"column":20},"end":{"line":135,"column":26}},"name":"logger"},"property":{"type":"Identifier","start":5961,"end":5966,"loc":{"start":{"line":135,"column":27},"end":{"line":135,"column":32}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":5967,"end":5970,"loc":{"start":{"line":135,"column":33},"end":{"line":135,"column":36}},"name":"err"},{"type":"Literal","start":5972,"end":5995,"loc":{"start":{"line":135,"column":38},"end":{"line":135,"column":61}},"value":"socket.progress.error","raw":"'socket.progress.error'"},{"type":"CallExpression","start":5997,"end":6016,"loc":{"start":{"line":135,"column":63},"end":{"line":135,"column":82}},"callee":{"type":"Identifier","start":5997,"end":6009,"loc":{"start":{"line":135,"column":63},"end":{"line":135,"column":75}},"name":"shortenToken"},"arguments":[{"type":"Identifier","start":6010,"end":6015,"loc":{"start":{"line":135,"column":76},"end":{"line":135,"column":81}},"name":"token"}]}]}},"alternate":null}]}}]}}]}},{"type":"IfStatement","start":6204,"end":6628,"loc":{"start":{"line":140,"column":8},"end":{"line":150,"column":9}},"test":{"type":"Identifier","start":6208,"end":6219,"loc":{"start":{"line":140,"column":12},"end":{"line":140,"column":23}},"name":"redisClient"},"consequent":{"type":"BlockStatement","start":6221,"end":6628,"loc":{"start":{"line":140,"column":25},"end":{"line":150,"column":9}},"body":[{"type":"ExpressionStatement","start":6235,"end":6618,"loc":{"start":{"line":141,"column":12},"end":{"line":149,"column":15}},"expression":{"type":"CallExpression","start":6235,"end":6617,"loc":{"start":{"line":141,"column":12},"end":{"line":149,"column":14}},"callee":{"type":"MemberExpression","start":6235,"end":6250,"loc":{"start":{"line":141,"column":12},"end":{"line":141,"column":27}},"object":{"type":"Identifier","start":6235,"end":6246,"loc":{"start":{"line":141,"column":12},"end":{"line":141,"column":23}},"name":"redisClient"},"property":{"type":"Identifier","start":6247,"end":6250,"loc":{"start":{"line":141,"column":24},"end":{"line":141,"column":27}},"name":"get"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":6251,"end":6279,"loc":{"start":{"line":141,"column":28},"end":{"line":141,"column":56}},"expressions":[{"type":"Identifier","start":6254,"end":6268,"loc":{"start":{"line":141,"column":31},"end":{"line":141,"column":45}},"name":"STORAGE_PREFIX"},{"type":"Identifier","start":6272,"end":6277,"loc":{"start":{"line":141,"column":49},"end":{"line":141,"column":54}},"name":"token"}],"quasis":[{"type":"TemplateElement","start":6252,"end":6252,"loc":{"start":{"line":141,"column":29},"end":{"line":141,"column":29}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":6269,"end":6270,"loc":{"start":{"line":141,"column":46},"end":{"line":141,"column":47}},"value":{"raw":":","cooked":":"},"tail":false},{"type":"TemplateElement","start":6278,"end":6278,"loc":{"start":{"line":141,"column":55},"end":{"line":141,"column":55}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"ArrowFunctionExpression","start":6281,"end":6616,"loc":{"start":{"line":141,"column":58},"end":{"line":149,"column":13}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6282,"end":6285,"loc":{"start":{"line":141,"column":59},"end":{"line":141,"column":62}},"name":"err"},{"type":"Identifier","start":6287,"end":6291,"loc":{"start":{"line":141,"column":64},"end":{"line":141,"column":68}},"name":"data"}],"body":{"type":"BlockStatement","start":6296,"end":6616,"loc":{"start":{"line":141,"column":73},"end":{"line":149,"column":13}},"body":[{"type":"IfStatement","start":6314,"end":6404,"loc":{"start":{"line":142,"column":16},"end":{"line":143,"column":81}},"test":{"type":"Identifier","start":6318,"end":6321,"loc":{"start":{"line":142,"column":20},"end":{"line":142,"column":23}},"name":"err"},"consequent":{"type":"ExpressionStatement","start":6343,"end":6404,"loc":{"start":{"line":143,"column":20},"end":{"line":143,"column":81}},"expression":{"type":"CallExpression","start":6343,"end":6403,"loc":{"start":{"line":143,"column":20},"end":{"line":143,"column":80}},"callee":{"type":"MemberExpression","start":6343,"end":6355,"loc":{"start":{"line":143,"column":20},"end":{"line":143,"column":32}},"object":{"type":"Identifier","start":6343,"end":6349,"loc":{"start":{"line":143,"column":20},"end":{"line":143,"column":26}},"name":"logger"},"property":{"type":"Identifier","start":6350,"end":6355,"loc":{"start":{"line":143,"column":27},"end":{"line":143,"column":32}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":6356,"end":6359,"loc":{"start":{"line":143,"column":33},"end":{"line":143,"column":36}},"name":"err"},{"type":"Literal","start":6361,"end":6381,"loc":{"start":{"line":143,"column":38},"end":{"line":143,"column":58}},"value":"socket.redis.error","raw":"'socket.redis.error'"},{"type":"CallExpression","start":6383,"end":6402,"loc":{"start":{"line":143,"column":60},"end":{"line":143,"column":79}},"callee":{"type":"Identifier","start":6383,"end":6395,"loc":{"start":{"line":143,"column":60},"end":{"line":143,"column":72}},"name":"shortenToken"},"arguments":[{"type":"Identifier","start":6396,"end":6401,"loc":{"start":{"line":143,"column":73},"end":{"line":143,"column":78}},"name":"token"}]}]}},"alternate":null},{"type":"IfStatement","start":6421,"end":6602,"loc":{"start":{"line":144,"column":16},"end":{"line":148,"column":17}},"test":{"type":"Identifier","start":6425,"end":6429,"loc":{"start":{"line":144,"column":20},"end":{"line":144,"column":24}},"name":"data"},"consequent":{"type":"BlockStatement","start":6431,"end":6602,"loc":{"start":{"line":144,"column":26},"end":{"line":148,"column":17}},"body":[{"type":"VariableDeclaration","start":6453,"end":6497,"loc":{"start":{"line":145,"column":20},"end":{"line":145,"column":64}},"declarations":[{"type":"VariableDeclarator","start":6459,"end":6496,"loc":{"start":{"line":145,"column":26},"end":{"line":145,"column":63}},"id":{"type":"Identifier","start":6459,"end":6466,"loc":{"start":{"line":145,"column":26},"end":{"line":145,"column":33}},"name":"dataObj"},"init":{"type":"CallExpression","start":6469,"end":6496,"loc":{"start":{"line":145,"column":36},"end":{"line":145,"column":63}},"callee":{"type":"MemberExpression","start":6469,"end":6479,"loc":{"start":{"line":145,"column":36},"end":{"line":145,"column":46}},"object":{"type":"Identifier","start":6469,"end":6473,"loc":{"start":{"line":145,"column":36},"end":{"line":145,"column":40}},"name":"JSON"},"property":{"type":"Identifier","start":6474,"end":6479,"loc":{"start":{"line":145,"column":41},"end":{"line":145,"column":46}},"name":"parse"},"computed":false},"arguments":[{"type":"CallExpression","start":6480,"end":6495,"loc":{"start":{"line":145,"column":47},"end":{"line":145,"column":62}},"callee":{"type":"MemberExpression","start":6480,"end":6493,"loc":{"start":{"line":145,"column":47},"end":{"line":145,"column":60}},"object":{"type":"Identifier","start":6480,"end":6484,"loc":{"start":{"line":145,"column":47},"end":{"line":145,"column":51}},"name":"data"},"property":{"type":"Identifier","start":6485,"end":6493,"loc":{"start":{"line":145,"column":52},"end":{"line":145,"column":60}},"name":"toString"},"computed":false},"arguments":[]}]}}],"kind":"const"},{"type":"IfStatement","start":6518,"end":6584,"loc":{"start":{"line":146,"column":20},"end":{"line":147,"column":46}},"test":{"type":"MemberExpression","start":6522,"end":6536,"loc":{"start":{"line":146,"column":24},"end":{"line":146,"column":38}},"object":{"type":"Identifier","start":6522,"end":6529,"loc":{"start":{"line":146,"column":24},"end":{"line":146,"column":31}},"name":"dataObj"},"property":{"type":"Identifier","start":6530,"end":6536,"loc":{"start":{"line":146,"column":32},"end":{"line":146,"column":38}},"name":"action"},"computed":false},"consequent":{"type":"ExpressionStatement","start":6562,"end":6584,"loc":{"start":{"line":147,"column":24},"end":{"line":147,"column":46}},"expression":{"type":"CallExpression","start":6562,"end":6583,"loc":{"start":{"line":147,"column":24},"end":{"line":147,"column":45}},"callee":{"type":"Identifier","start":6562,"end":6574,"loc":{"start":{"line":147,"column":24},"end":{"line":147,"column":36}},"name":"sendProgress"},"arguments":[{"type":"Identifier","start":6575,"end":6582,"loc":{"start":{"line":147,"column":37},"end":{"line":147,"column":44}},"name":"dataObj"}]}},"alternate":null}]},"alternate":null}]}}]}}]},"alternate":null},{"type":"ExpressionStatement","start":6637,"end":6675,"loc":{"start":{"line":151,"column":8},"end":{"line":151,"column":46}},"expression":{"type":"CallExpression","start":6637,"end":6674,"loc":{"start":{"line":151,"column":8},"end":{"line":151,"column":45}},"callee":{"type":"MemberExpression","start":6637,"end":6651,"loc":{"start":{"line":151,"column":8},"end":{"line":151,"column":22}},"object":{"type":"CallExpression","start":6637,"end":6646,"loc":{"start":{"line":151,"column":8},"end":{"line":151,"column":17}},"callee":{"type":"Identifier","start":6637,"end":6644,"loc":{"start":{"line":151,"column":8},"end":{"line":151,"column":15}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":6647,"end":6651,"loc":{"start":{"line":151,"column":18},"end":{"line":151,"column":22}},"name":"emit"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":6652,"end":6673,"loc":{"start":{"line":151,"column":23},"end":{"line":151,"column":44}},"expressions":[{"type":"Identifier","start":6666,"end":6671,"loc":{"start":{"line":151,"column":37},"end":{"line":151,"column":42}},"name":"token"}],"quasis":[{"type":"TemplateElement","start":6653,"end":6664,"loc":{"start":{"line":151,"column":24},"end":{"line":151,"column":35}},"value":{"raw":"connection:","cooked":"connection:"},"tail":false},{"type":"TemplateElement","start":6672,"end":6672,"loc":{"start":{"line":151,"column":43},"end":{"line":151,"column":43}},"value":{"raw":"","cooked":""},"tail":true}]}]}},{"type":"ExpressionStatement","start":6684,"end":6718,"loc":{"start":{"line":152,"column":8},"end":{"line":152,"column":42}},"expression":{"type":"CallExpression","start":6684,"end":6717,"loc":{"start":{"line":152,"column":8},"end":{"line":152,"column":41}},"callee":{"type":"MemberExpression","start":6684,"end":6696,"loc":{"start":{"line":152,"column":8},"end":{"line":152,"column":20}},"object":{"type":"CallExpression","start":6684,"end":6693,"loc":{"start":{"line":152,"column":8},"end":{"line":152,"column":17}},"callee":{"type":"Identifier","start":6684,"end":6691,"loc":{"start":{"line":152,"column":8},"end":{"line":152,"column":15}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":6694,"end":6696,"loc":{"start":{"line":152,"column":18},"end":{"line":152,"column":20}},"name":"on"},"computed":false},"arguments":[{"type":"Identifier","start":6697,"end":6702,"loc":{"start":{"line":152,"column":21},"end":{"line":152,"column":26}},"name":"token"},{"type":"Identifier","start":6704,"end":6716,"loc":{"start":{"line":152,"column":28},"end":{"line":152,"column":40}},"name":"sendProgress"}]}},{"type":"ExpressionStatement","start":6727,"end":7016,"loc":{"start":{"line":153,"column":8},"end":{"line":159,"column":11}},"expression":{"type":"CallExpression","start":6727,"end":7015,"loc":{"start":{"line":153,"column":8},"end":{"line":159,"column":10}},"callee":{"type":"MemberExpression","start":6727,"end":6732,"loc":{"start":{"line":153,"column":8},"end":{"line":153,"column":13}},"object":{"type":"Identifier","start":6727,"end":6729,"loc":{"start":{"line":153,"column":8},"end":{"line":153,"column":10}},"name":"ws"},"property":{"type":"Identifier","start":6730,"end":6732,"loc":{"start":{"line":153,"column":11},"end":{"line":153,"column":13}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":6733,"end":6742,"loc":{"start":{"line":153,"column":14},"end":{"line":153,"column":23}},"value":"message","raw":"'message'"},{"type":"ArrowFunctionExpression","start":6744,"end":7014,"loc":{"start":{"line":153,"column":25},"end":{"line":159,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6745,"end":6753,"loc":{"start":{"line":153,"column":26},"end":{"line":153,"column":34}},"name":"jsonData"}],"body":{"type":"BlockStatement","start":6758,"end":7014,"loc":{"start":{"line":153,"column":39},"end":{"line":159,"column":9}},"body":[{"type":"VariableDeclaration","start":6772,"end":6817,"loc":{"start":{"line":154,"column":12},"end":{"line":154,"column":57}},"declarations":[{"type":"VariableDeclarator","start":6778,"end":6816,"loc":{"start":{"line":154,"column":18},"end":{"line":154,"column":56}},"id":{"type":"Identifier","start":6778,"end":6782,"loc":{"start":{"line":154,"column":18},"end":{"line":154,"column":22}},"name":"data"},"init":{"type":"CallExpression","start":6785,"end":6816,"loc":{"start":{"line":154,"column":25},"end":{"line":154,"column":56}},"callee":{"type":"MemberExpression","start":6785,"end":6795,"loc":{"start":{"line":154,"column":25},"end":{"line":154,"column":35}},"object":{"type":"Identifier","start":6785,"end":6789,"loc":{"start":{"line":154,"column":25},"end":{"line":154,"column":29}},"name":"JSON"},"property":{"type":"Identifier","start":6790,"end":6795,"loc":{"start":{"line":154,"column":30},"end":{"line":154,"column":35}},"name":"parse"},"computed":false},"arguments":[{"type":"CallExpression","start":6796,"end":6815,"loc":{"start":{"line":154,"column":36},"end":{"line":154,"column":55}},"callee":{"type":"MemberExpression","start":6796,"end":6813,"loc":{"start":{"line":154,"column":36},"end":{"line":154,"column":53}},"object":{"type":"Identifier","start":6796,"end":6804,"loc":{"start":{"line":154,"column":36},"end":{"line":154,"column":44}},"name":"jsonData"},"property":{"type":"Identifier","start":6805,"end":6813,"loc":{"start":{"line":154,"column":45},"end":{"line":154,"column":53}},"name":"toString"},"computed":false},"arguments":[]}]}}],"kind":"const"},{"type":"IfStatement","start":6873,"end":7004,"loc":{"start":{"line":156,"column":12},"end":{"line":158,"column":13}},"test":{"type":"CallExpression","start":6877,"end":6928,"loc":{"start":{"line":156,"column":16},"end":{"line":156,"column":67}},"callee":{"type":"MemberExpression","start":6877,"end":6915,"loc":{"start":{"line":156,"column":16},"end":{"line":156,"column":54}},"object":{"type":"ArrayExpression","start":6877,"end":6906,"loc":{"start":{"line":156,"column":16},"end":{"line":156,"column":45}},"elements":[{"type":"Literal","start":6878,"end":6885,"loc":{"start":{"line":156,"column":17},"end":{"line":156,"column":24}},"value":"pause","raw":"'pause'"},{"type":"Literal","start":6887,"end":6895,"loc":{"start":{"line":156,"column":26},"end":{"line":156,"column":34}},"value":"resume","raw":"'resume'"},{"type":"Literal","start":6897,"end":6905,"loc":{"start":{"line":156,"column":36},"end":{"line":156,"column":44}},"value":"cancel","raw":"'cancel'"}]},"property":{"type":"Identifier","start":6907,"end":6915,"loc":{"start":{"line":156,"column":46},"end":{"line":156,"column":54}},"name":"includes"},"computed":false},"arguments":[{"type":"MemberExpression","start":6916,"end":6927,"loc":{"start":{"line":156,"column":55},"end":{"line":156,"column":66}},"object":{"type":"Identifier","start":6916,"end":6920,"loc":{"start":{"line":156,"column":55},"end":{"line":156,"column":59}},"name":"data"},"property":{"type":"Identifier","start":6921,"end":6927,"loc":{"start":{"line":156,"column":60},"end":{"line":156,"column":66}},"name":"action"},"computed":false}]},"consequent":{"type":"BlockStatement","start":6930,"end":7004,"loc":{"start":{"line":156,"column":69},"end":{"line":158,"column":13}},"body":[{"type":"ExpressionStatement","start":6948,"end":6990,"loc":{"start":{"line":157,"column":16},"end":{"line":157,"column":58}},"expression":{"type":"CallExpression","start":6948,"end":6989,"loc":{"start":{"line":157,"column":16},"end":{"line":157,"column":57}},"callee":{"type":"MemberExpression","start":6948,"end":6962,"loc":{"start":{"line":157,"column":16},"end":{"line":157,"column":30}},"object":{"type":"CallExpression","start":6948,"end":6957,"loc":{"start":{"line":157,"column":16},"end":{"line":157,"column":25}},"callee":{"type":"Identifier","start":6948,"end":6955,"loc":{"start":{"line":157,"column":16},"end":{"line":157,"column":23}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":6958,"end":6962,"loc":{"start":{"line":157,"column":26},"end":{"line":157,"column":30}},"name":"emit"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":6963,"end":6988,"loc":{"start":{"line":157,"column":31},"end":{"line":157,"column":56}},"expressions":[{"type":"MemberExpression","start":6966,"end":6977,"loc":{"start":{"line":157,"column":34},"end":{"line":157,"column":45}},"object":{"type":"Identifier","start":6966,"end":6970,"loc":{"start":{"line":157,"column":34},"end":{"line":157,"column":38}},"name":"data"},"property":{"type":"Identifier","start":6971,"end":6977,"loc":{"start":{"line":157,"column":39},"end":{"line":157,"column":45}},"name":"action"},"computed":false},{"type":"Identifier","start":6981,"end":6986,"loc":{"start":{"line":157,"column":49},"end":{"line":157,"column":54}},"name":"token"}],"quasis":[{"type":"TemplateElement","start":6964,"end":6964,"loc":{"start":{"line":157,"column":32},"end":{"line":157,"column":32}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":6978,"end":6979,"loc":{"start":{"line":157,"column":46},"end":{"line":157,"column":47}},"value":{"raw":":","cooked":":"},"tail":false},{"type":"TemplateElement","start":6987,"end":6987,"loc":{"start":{"line":157,"column":55},"end":{"line":157,"column":55}},"value":{"raw":"","cooked":""},"tail":true}]}]}}]},"alternate":null}]}}]}},{"type":"ExpressionStatement","start":7025,"end":7118,"loc":{"start":{"line":160,"column":8},"end":{"line":162,"column":11}},"expression":{"type":"CallExpression","start":7025,"end":7117,"loc":{"start":{"line":160,"column":8},"end":{"line":162,"column":10}},"callee":{"type":"MemberExpression","start":7025,"end":7030,"loc":{"start":{"line":160,"column":8},"end":{"line":160,"column":13}},"object":{"type":"Identifier","start":7025,"end":7027,"loc":{"start":{"line":160,"column":8},"end":{"line":160,"column":10}},"name":"ws"},"property":{"type":"Identifier","start":7028,"end":7030,"loc":{"start":{"line":160,"column":11},"end":{"line":160,"column":13}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":7031,"end":7038,"loc":{"start":{"line":160,"column":14},"end":{"line":160,"column":21}},"value":"close","raw":"'close'"},{"type":"ArrowFunctionExpression","start":7040,"end":7116,"loc":{"start":{"line":160,"column":23},"end":{"line":162,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":7046,"end":7116,"loc":{"start":{"line":160,"column":29},"end":{"line":162,"column":9}},"body":[{"type":"ExpressionStatement","start":7060,"end":7106,"loc":{"start":{"line":161,"column":12},"end":{"line":161,"column":58}},"expression":{"type":"CallExpression","start":7060,"end":7105,"loc":{"start":{"line":161,"column":12},"end":{"line":161,"column":57}},"callee":{"type":"MemberExpression","start":7060,"end":7084,"loc":{"start":{"line":161,"column":12},"end":{"line":161,"column":36}},"object":{"type":"CallExpression","start":7060,"end":7069,"loc":{"start":{"line":161,"column":12},"end":{"line":161,"column":21}},"callee":{"type":"Identifier","start":7060,"end":7067,"loc":{"start":{"line":161,"column":12},"end":{"line":161,"column":19}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":7070,"end":7084,"loc":{"start":{"line":161,"column":22},"end":{"line":161,"column":36}},"name":"removeListener"},"computed":false},"arguments":[{"type":"Identifier","start":7085,"end":7090,"loc":{"start":{"line":161,"column":37},"end":{"line":161,"column":42}},"name":"token"},{"type":"Identifier","start":7092,"end":7104,"loc":{"start":{"line":161,"column":44},"end":{"line":161,"column":56}},"name":"sendProgress"}]}}]}}]}}]}}]}}]}}}},{"type":"VariableDeclaration","start":7227,"end":8205,"loc":{"start":{"line":167,"column":0},"end":{"line":190,"column":3}},"declarations":[{"type":"VariableDeclarator","start":7233,"end":8204,"loc":{"start":{"line":167,"column":6},"end":{"line":190,"column":2}},"id":{"type":"Identifier","start":7233,"end":7260,"loc":{"start":{"line":167,"column":6},"end":{"line":167,"column":33}},"name":"interceptGrantErrorResponse"},"init":{"type":"CallExpression","start":7263,"end":8204,"loc":{"start":{"line":167,"column":36},"end":{"line":190,"column":2}},"callee":{"type":"Identifier","start":7263,"end":7274,"loc":{"start":{"line":167,"column":36},"end":{"line":167,"column":47}},"name":"interceptor"},"arguments":[{"type":"ArrowFunctionExpression","start":7275,"end":8203,"loc":{"start":{"line":167,"column":48},"end":{"line":190,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7276,"end":7279,"loc":{"start":{"line":167,"column":49},"end":{"line":167,"column":52}},"name":"req"},{"type":"Identifier","start":7281,"end":7284,"loc":{"start":{"line":167,"column":54},"end":{"line":167,"column":57}},"name":"res"}],"body":{"type":"BlockStatement","start":7289,"end":8203,"loc":{"start":{"line":167,"column":62},"end":{"line":190,"column":1}},"body":[{"type":"ReturnStatement","start":7295,"end":8201,"loc":{"start":{"line":168,"column":4},"end":{"line":189,"column":6}},"argument":{"type":"ObjectExpression","start":7302,"end":8200,"loc":{"start":{"line":168,"column":11},"end":{"line":189,"column":5}},"properties":[{"type":"Property","start":7312,"end":7453,"loc":{"start":{"line":169,"column":8},"end":{"line":172,"column":9}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7312,"end":7327,"loc":{"start":{"line":169,"column":8},"end":{"line":169,"column":23}},"name":"isInterceptable"},"value":{"type":"ArrowFunctionExpression","start":7329,"end":7453,"loc":{"start":{"line":169,"column":25},"end":{"line":172,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":7335,"end":7453,"loc":{"start":{"line":169,"column":31},"end":{"line":172,"column":9}},"body":[{"type":"ReturnStatement","start":7393,"end":7443,"loc":{"start":{"line":171,"column":12},"end":{"line":171,"column":62}},"argument":{"type":"CallExpression","start":7400,"end":7442,"loc":{"start":{"line":171,"column":19},"end":{"line":171,"column":61}},"callee":{"type":"MemberExpression","start":7400,"end":7432,"loc":{"start":{"line":171,"column":19},"end":{"line":171,"column":51}},"object":{"type":"Literal","start":7400,"end":7427,"loc":{"start":{"line":171,"column":19},"end":{"line":171,"column":46}},"value":{},"raw":"/^\\/connect\\/\\w+\\/callback/","regex":{"pattern":"^\\/connect\\/\\w+\\/callback","flags":""}},"property":{"type":"Identifier","start":7428,"end":7432,"loc":{"start":{"line":171,"column":47},"end":{"line":171,"column":51}},"name":"test"},"computed":false},"arguments":[{"type":"MemberExpression","start":7433,"end":7441,"loc":{"start":{"line":171,"column":52},"end":{"line":171,"column":60}},"object":{"type":"Identifier","start":7433,"end":7436,"loc":{"start":{"line":171,"column":52},"end":{"line":171,"column":55}},"name":"req"},"property":{"type":"Identifier","start":7437,"end":7441,"loc":{"start":{"line":171,"column":56},"end":{"line":171,"column":60}},"name":"path"},"computed":false}]}}]}},"kind":"init"},{"type":"Property","start":7463,"end":8194,"loc":{"start":{"line":173,"column":8},"end":{"line":188,"column":9}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7463,"end":7472,"loc":{"start":{"line":173,"column":8},"end":{"line":173,"column":17}},"name":"intercept"},"value":{"type":"ArrowFunctionExpression","start":7474,"end":8194,"loc":{"start":{"line":173,"column":19},"end":{"line":188,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7475,"end":7479,"loc":{"start":{"line":173,"column":20},"end":{"line":173,"column":24}},"name":"body"},{"type":"Identifier","start":7481,"end":7485,"loc":{"start":{"line":173,"column":26},"end":{"line":173,"column":30}},"name":"send"}],"body":{"type":"BlockStatement","start":7490,"end":8194,"loc":{"start":{"line":173,"column":35},"end":{"line":188,"column":9}},"body":[{"type":"VariableDeclaration","start":7504,"end":7594,"loc":{"start":{"line":174,"column":12},"end":{"line":174,"column":102}},"declarations":[{"type":"VariableDeclarator","start":7510,"end":7593,"loc":{"start":{"line":174,"column":18},"end":{"line":174,"column":101}},"id":{"type":"Identifier","start":7510,"end":7522,"loc":{"start":{"line":174,"column":18},"end":{"line":174,"column":30}},"name":"unwantedBody"},"init":{"type":"Literal","start":7525,"end":7593,"loc":{"start":{"line":174,"column":33},"end":{"line":174,"column":101}},"value":"error=Grant%3A%20missing%20session%20or%20misconfigured%20provider","raw":"'error=Grant%3A%20missing%20session%20or%20misconfigured%20provider'"}}],"kind":"const"},{"type":"IfStatement","start":7607,"end":8184,"loc":{"start":{"line":175,"column":12},"end":{"line":187,"column":13}},"test":{"type":"BinaryExpression","start":7611,"end":7632,"loc":{"start":{"line":175,"column":16},"end":{"line":175,"column":37}},"left":{"type":"Identifier","start":7611,"end":7615,"loc":{"start":{"line":175,"column":16},"end":{"line":175,"column":20}},"name":"body"},"operator":"===","right":{"type":"Identifier","start":7620,"end":7632,"loc":{"start":{"line":175,"column":25},"end":{"line":175,"column":37}},"name":"unwantedBody"}},"consequent":{"type":"BlockStatement","start":7634,"end":8123,"loc":{"start":{"line":175,"column":39},"end":{"line":184,"column":13}},"body":[{"type":"ExpressionStatement","start":7652,"end":7736,"loc":{"start":{"line":176,"column":16},"end":{"line":176,"column":100}},"expression":{"type":"CallExpression","start":7652,"end":7735,"loc":{"start":{"line":176,"column":16},"end":{"line":176,"column":99}},"callee":{"type":"MemberExpression","start":7652,"end":7664,"loc":{"start":{"line":176,"column":16},"end":{"line":176,"column":28}},"object":{"type":"Identifier","start":7652,"end":7658,"loc":{"start":{"line":176,"column":16},"end":{"line":176,"column":22}},"name":"logger"},"property":{"type":"Identifier","start":7659,"end":7664,"loc":{"start":{"line":176,"column":23},"end":{"line":176,"column":28}},"name":"error"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":7665,"end":7705,"loc":{"start":{"line":176,"column":29},"end":{"line":176,"column":69}},"expressions":[{"type":"Identifier","start":7699,"end":7703,"loc":{"start":{"line":176,"column":63},"end":{"line":176,"column":67}},"name":"body"}],"quasis":[{"type":"TemplateElement","start":7666,"end":7697,"loc":{"start":{"line":176,"column":30},"end":{"line":176,"column":61}},"value":{"raw":"grant.js responded with error: ","cooked":"grant.js responded with error: "},"tail":false},{"type":"TemplateElement","start":7704,"end":7704,"loc":{"start":{"line":176,"column":68},"end":{"line":176,"column":68}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"Literal","start":7707,"end":7726,"loc":{"start":{"line":176,"column":71},"end":{"line":176,"column":90}},"value":"grant.oauth.error","raw":"'grant.oauth.error'"},{"type":"MemberExpression","start":7728,"end":7734,"loc":{"start":{"line":176,"column":92},"end":{"line":176,"column":98}},"object":{"type":"Identifier","start":7728,"end":7731,"loc":{"start":{"line":176,"column":92},"end":{"line":176,"column":95}},"name":"req"},"property":{"type":"Identifier","start":7732,"end":7734,"loc":{"start":{"line":176,"column":96},"end":{"line":176,"column":98}},"name":"id"},"computed":false}]}},{"type":"ExpressionStatement","start":7753,"end":7791,"loc":{"start":{"line":177,"column":16},"end":{"line":177,"column":54}},"expression":{"type":"CallExpression","start":7753,"end":7790,"loc":{"start":{"line":177,"column":16},"end":{"line":177,"column":53}},"callee":{"type":"MemberExpression","start":7753,"end":7760,"loc":{"start":{"line":177,"column":16},"end":{"line":177,"column":23}},"object":{"type":"Identifier","start":7753,"end":7756,"loc":{"start":{"line":177,"column":16},"end":{"line":177,"column":19}},"name":"res"},"property":{"type":"Identifier","start":7757,"end":7760,"loc":{"start":{"line":177,"column":20},"end":{"line":177,"column":23}},"name":"set"},"computed":false},"arguments":[{"type":"Literal","start":7761,"end":7775,"loc":{"start":{"line":177,"column":24},"end":{"line":177,"column":38}},"value":"Content-Type","raw":"'Content-Type'"},{"type":"Literal","start":7777,"end":7789,"loc":{"start":{"line":177,"column":40},"end":{"line":177,"column":52}},"value":"text/plain","raw":"'text/plain'"}]}},{"type":"VariableDeclaration","start":7808,"end":7862,"loc":{"start":{"line":178,"column":16},"end":{"line":178,"column":70}},"declarations":[{"type":"VariableDeclarator","start":7814,"end":7861,"loc":{"start":{"line":178,"column":22},"end":{"line":178,"column":69}},"id":{"type":"Identifier","start":7814,"end":7821,"loc":{"start":{"line":178,"column":22},"end":{"line":178,"column":29}},"name":"reqHint"},"init":{"type":"ConditionalExpression","start":7824,"end":7861,"loc":{"start":{"line":178,"column":32},"end":{"line":178,"column":69}},"test":{"type":"MemberExpression","start":7824,"end":7830,"loc":{"start":{"line":178,"column":32},"end":{"line":178,"column":38}},"object":{"type":"Identifier","start":7824,"end":7827,"loc":{"start":{"line":178,"column":32},"end":{"line":178,"column":35}},"name":"req"},"property":{"type":"Identifier","start":7828,"end":7830,"loc":{"start":{"line":178,"column":36},"end":{"line":178,"column":38}},"name":"id"},"computed":false},"consequent":{"type":"TemplateLiteral","start":7833,"end":7856,"loc":{"start":{"line":178,"column":41},"end":{"line":178,"column":64}},"expressions":[{"type":"MemberExpression","start":7848,"end":7854,"loc":{"start":{"line":178,"column":56},"end":{"line":178,"column":62}},"object":{"type":"Identifier","start":7848,"end":7851,"loc":{"start":{"line":178,"column":56},"end":{"line":178,"column":59}},"name":"req"},"property":{"type":"Identifier","start":7852,"end":7854,"loc":{"start":{"line":178,"column":60},"end":{"line":178,"column":62}},"name":"id"},"computed":false}],"quasis":[{"type":"TemplateElement","start":7834,"end":7846,"loc":{"start":{"line":178,"column":42},"end":{"line":178,"column":54}},"value":{"raw":"Request ID: ","cooked":"Request ID: "},"tail":false},{"type":"TemplateElement","start":7855,"end":7855,"loc":{"start":{"line":178,"column":63},"end":{"line":178,"column":63}},"value":{"raw":"","cooked":""},"tail":true}]},"alternate":{"type":"Literal","start":7859,"end":7861,"loc":{"start":{"line":178,"column":67},"end":{"line":178,"column":69}},"value":"","raw":"''"}}}],"kind":"const"},{"type":"ExpressionStatement","start":7879,"end":8109,"loc":{"start":{"line":179,"column":16},"end":{"line":183,"column":30}},"expression":{"type":"CallExpression","start":7879,"end":8108,"loc":{"start":{"line":179,"column":16},"end":{"line":183,"column":29}},"callee":{"type":"Identifier","start":7879,"end":7883,"loc":{"start":{"line":179,"column":16},"end":{"line":179,"column":20}},"name":"send"},"arguments":[{"type":"CallExpression","start":7884,"end":8107,"loc":{"start":{"line":179,"column":21},"end":{"line":183,"column":28}},"callee":{"type":"MemberExpression","start":7884,"end":8101,"loc":{"start":{"line":179,"column":21},"end":{"line":183,"column":22}},"object":{"type":"ArrayExpression","start":7884,"end":8096,"loc":{"start":{"line":179,"column":21},"end":{"line":183,"column":17}},"elements":[{"type":"Literal","start":7906,"end":7961,"loc":{"start":{"line":180,"column":20},"end":{"line":180,"column":75}},"value":"Companion was unable to complete the OAuth process :(","raw":"'Companion was unable to complete the OAuth process :('"},{"type":"Literal","start":7983,"end":8049,"loc":{"start":{"line":181,"column":20},"end":{"line":181,"column":86}},"value":"Error: User session is missing or the Provider was misconfigured","raw":"'Error: User session is missing or the Provider was misconfigured'"},{"type":"Identifier","start":8071,"end":8078,"loc":{"start":{"line":182,"column":20},"end":{"line":182,"column":27}},"name":"reqHint"}]},"property":{"type":"Identifier","start":8097,"end":8101,"loc":{"start":{"line":183,"column":18},"end":{"line":183,"column":22}},"name":"join"},"computed":false},"arguments":[{"type":"Literal","start":8102,"end":8106,"loc":{"start":{"line":183,"column":23},"end":{"line":183,"column":27}},"value":"\n","raw":"'\\n'"}]}]}}]},"alternate":{"type":"BlockStatement","start":8141,"end":8184,"loc":{"start":{"line":185,"column":17},"end":{"line":187,"column":13}},"body":[{"type":"ExpressionStatement","start":8159,"end":8170,"loc":{"start":{"line":186,"column":16},"end":{"line":186,"column":27}},"expression":{"type":"CallExpression","start":8159,"end":8169,"loc":{"start":{"line":186,"column":16},"end":{"line":186,"column":26}},"callee":{"type":"Identifier","start":8159,"end":8163,"loc":{"start":{"line":186,"column":16},"end":{"line":186,"column":20}},"name":"send"},"arguments":[{"type":"Identifier","start":8164,"end":8168,"loc":{"start":{"line":186,"column":21},"end":{"line":186,"column":25}},"name":"body"}]}}]}}]}},"kind":"init"}]}}]}}]}}],"kind":"const"},{"type":"VariableDeclaration","start":8244,"end":10957,"loc":{"start":{"line":195,"column":0},"end":{"line":243,"column":2}},"declarations":[{"type":"VariableDeclarator","start":8250,"end":10956,"loc":{"start":{"line":195,"column":6},"end":{"line":243,"column":1}},"id":{"type":"Identifier","start":8250,"end":8270,"loc":{"start":{"line":195,"column":6},"end":{"line":195,"column":26}},"name":"getOptionsMiddleware"},"init":{"type":"ArrowFunctionExpression","start":8273,"end":10956,"loc":{"start":{"line":195,"column":29},"end":{"line":243,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8274,"end":8281,"loc":{"start":{"line":195,"column":30},"end":{"line":195,"column":37}},"name":"options"}],"body":{"type":"BlockStatement","start":8286,"end":10956,"loc":{"start":{"line":195,"column":42},"end":{"line":243,"column":1}},"body":[{"type":"VariableDeclaration","start":8292,"end":8312,"loc":{"start":{"line":196,"column":4},"end":{"line":196,"column":24}},"declarations":[{"type":"VariableDeclarator","start":8296,"end":8311,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":23}},"id":{"type":"Identifier","start":8296,"end":8304,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":16}},"name":"s3Client"},"init":{"type":"Literal","start":8307,"end":8311,"loc":{"start":{"line":196,"column":19},"end":{"line":196,"column":23}},"value":null,"raw":"null"}}],"kind":"let"},{"type":"IfStatement","start":8317,"end":10169,"loc":{"start":{"line":197,"column":4},"end":{"line":222,"column":5}},"test":{"type":"MemberExpression","start":8321,"end":8347,"loc":{"start":{"line":197,"column":8},"end":{"line":197,"column":34}},"object":{"type":"MemberExpression","start":8321,"end":8344,"loc":{"start":{"line":197,"column":8},"end":{"line":197,"column":31}},"object":{"type":"Identifier","start":8321,"end":8328,"loc":{"start":{"line":197,"column":8},"end":{"line":197,"column":15}},"name":"options"},"property":{"type":"Identifier","start":8329,"end":8344,"loc":{"start":{"line":197,"column":16},"end":{"line":197,"column":31}},"name":"providerOptions"},"computed":false},"property":{"type":"Identifier","start":8345,"end":8347,"loc":{"start":{"line":197,"column":32},"end":{"line":197,"column":34}},"name":"s3"},"computed":false},"consequent":{"type":"BlockStatement","start":8349,"end":10169,"loc":{"start":{"line":197,"column":36},"end":{"line":222,"column":5}},"body":[{"type":"VariableDeclaration","start":8359,"end":8400,"loc":{"start":{"line":198,"column":8},"end":{"line":198,"column":49}},"declarations":[{"type":"VariableDeclarator","start":8365,"end":8399,"loc":{"start":{"line":198,"column":14},"end":{"line":198,"column":48}},"id":{"type":"Identifier","start":8365,"end":8367,"loc":{"start":{"line":198,"column":14},"end":{"line":198,"column":16}},"name":"S3"},"init":{"type":"CallExpression","start":8370,"end":8399,"loc":{"start":{"line":198,"column":19},"end":{"line":198,"column":48}},"callee":{"type":"Identifier","start":8370,"end":8377,"loc":{"start":{"line":198,"column":19},"end":{"line":198,"column":26}},"name":"require"},"arguments":[{"type":"Literal","start":8378,"end":8398,"loc":{"start":{"line":198,"column":27},"end":{"line":198,"column":47}},"value":"aws-sdk/clients/s3","raw":"'aws-sdk/clients/s3'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":8409,"end":8440,"loc":{"start":{"line":199,"column":8},"end":{"line":199,"column":39}},"declarations":[{"type":"VariableDeclarator","start":8415,"end":8439,"loc":{"start":{"line":199,"column":14},"end":{"line":199,"column":38}},"id":{"type":"Identifier","start":8415,"end":8418,"loc":{"start":{"line":199,"column":14},"end":{"line":199,"column":17}},"name":"AWS"},"init":{"type":"CallExpression","start":8421,"end":8439,"loc":{"start":{"line":199,"column":20},"end":{"line":199,"column":38}},"callee":{"type":"Identifier","start":8421,"end":8428,"loc":{"start":{"line":199,"column":20},"end":{"line":199,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":8429,"end":8438,"loc":{"start":{"line":199,"column":28},"end":{"line":199,"column":37}},"value":"aws-sdk","raw":"'aws-sdk'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":8449,"end":8502,"loc":{"start":{"line":200,"column":8},"end":{"line":200,"column":61}},"declarations":[{"type":"VariableDeclarator","start":8455,"end":8501,"loc":{"start":{"line":200,"column":14},"end":{"line":200,"column":60}},"id":{"type":"Identifier","start":8455,"end":8472,"loc":{"start":{"line":200,"column":14},"end":{"line":200,"column":31}},"name":"s3ProviderOptions"},"init":{"type":"MemberExpression","start":8475,"end":8501,"loc":{"start":{"line":200,"column":34},"end":{"line":200,"column":60}},"object":{"type":"MemberExpression","start":8475,"end":8498,"loc":{"start":{"line":200,"column":34},"end":{"line":200,"column":57}},"object":{"type":"Identifier","start":8475,"end":8482,"loc":{"start":{"line":200,"column":34},"end":{"line":200,"column":41}},"name":"options"},"property":{"type":"Identifier","start":8483,"end":8498,"loc":{"start":{"line":200,"column":42},"end":{"line":200,"column":57}},"name":"providerOptions"},"computed":false},"property":{"type":"Identifier","start":8499,"end":8501,"loc":{"start":{"line":200,"column":58},"end":{"line":200,"column":60}},"name":"s3"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":8511,"end":8895,"loc":{"start":{"line":201,"column":8},"end":{"line":203,"column":9}},"test":{"type":"LogicalExpression","start":8515,"end":8581,"loc":{"start":{"line":201,"column":12},"end":{"line":201,"column":78}},"left":{"type":"MemberExpression","start":8515,"end":8544,"loc":{"start":{"line":201,"column":12},"end":{"line":201,"column":41}},"object":{"type":"Identifier","start":8515,"end":8532,"loc":{"start":{"line":201,"column":12},"end":{"line":201,"column":29}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":8533,"end":8544,"loc":{"start":{"line":201,"column":30},"end":{"line":201,"column":41}},"name":"accessKeyId"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":8548,"end":8581,"loc":{"start":{"line":201,"column":45},"end":{"line":201,"column":78}},"object":{"type":"Identifier","start":8548,"end":8565,"loc":{"start":{"line":201,"column":45},"end":{"line":201,"column":62}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":8566,"end":8581,"loc":{"start":{"line":201,"column":63},"end":{"line":201,"column":78}},"name":"secretAccessKey"},"computed":false}},"consequent":{"type":"BlockStatement","start":8583,"end":8895,"loc":{"start":{"line":201,"column":80},"end":{"line":203,"column":9}},"body":[{"type":"ThrowStatement","start":8597,"end":8885,"loc":{"start":{"line":202,"column":12},"end":{"line":202,"column":300}},"argument":{"type":"NewExpression","start":8603,"end":8884,"loc":{"start":{"line":202,"column":18},"end":{"line":202,"column":299}},"callee":{"type":"Identifier","start":8607,"end":8612,"loc":{"start":{"line":202,"column":22},"end":{"line":202,"column":27}},"name":"Error"},"arguments":[{"type":"Literal","start":8613,"end":8883,"loc":{"start":{"line":202,"column":28},"end":{"line":202,"column":298}},"value":"Found `providerOptions.s3.accessKeyId` or `providerOptions.s3.secretAccessKey` configuration, but Companion requires `key` and `secret` option names instead. Please use the `key` property instead of `accessKeyId` and the `secret` property instead of `secretAccessKey`.","raw":"'Found `providerOptions.s3.accessKeyId` or `providerOptions.s3.secretAccessKey` configuration, but Companion requires `key` and `secret` option names instead. Please use the `key` property instead of `accessKeyId` and the `secret` property instead of `secretAccessKey`.'"}]}}]},"alternate":null},{"type":"VariableDeclaration","start":8904,"end":8964,"loc":{"start":{"line":204,"column":8},"end":{"line":204,"column":68}},"declarations":[{"type":"VariableDeclarator","start":8910,"end":8963,"loc":{"start":{"line":204,"column":14},"end":{"line":204,"column":67}},"id":{"type":"Identifier","start":8910,"end":8926,"loc":{"start":{"line":204,"column":14},"end":{"line":204,"column":30}},"name":"rawClientOptions"},"init":{"type":"MemberExpression","start":8929,"end":8963,"loc":{"start":{"line":204,"column":33},"end":{"line":204,"column":67}},"object":{"type":"Identifier","start":8929,"end":8946,"loc":{"start":{"line":204,"column":33},"end":{"line":204,"column":50}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":8947,"end":8963,"loc":{"start":{"line":204,"column":51},"end":{"line":204,"column":67}},"name":"awsClientOptions"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":8973,"end":9337,"loc":{"start":{"line":205,"column":8},"end":{"line":207,"column":9}},"test":{"type":"LogicalExpression","start":8977,"end":9063,"loc":{"start":{"line":205,"column":12},"end":{"line":205,"column":98}},"left":{"type":"Identifier","start":8977,"end":8993,"loc":{"start":{"line":205,"column":12},"end":{"line":205,"column":28}},"name":"rawClientOptions"},"operator":"&&","right":{"type":"LogicalExpression","start":8998,"end":9062,"loc":{"start":{"line":205,"column":33},"end":{"line":205,"column":97}},"left":{"type":"MemberExpression","start":8998,"end":9026,"loc":{"start":{"line":205,"column":33},"end":{"line":205,"column":61}},"object":{"type":"Identifier","start":8998,"end":9014,"loc":{"start":{"line":205,"column":33},"end":{"line":205,"column":49}},"name":"rawClientOptions"},"property":{"type":"Identifier","start":9015,"end":9026,"loc":{"start":{"line":205,"column":50},"end":{"line":205,"column":61}},"name":"accessKeyId"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":9030,"end":9062,"loc":{"start":{"line":205,"column":65},"end":{"line":205,"column":97}},"object":{"type":"Identifier","start":9030,"end":9046,"loc":{"start":{"line":205,"column":65},"end":{"line":205,"column":81}},"name":"rawClientOptions"},"property":{"type":"Identifier","start":9047,"end":9062,"loc":{"start":{"line":205,"column":82},"end":{"line":205,"column":97}},"name":"secretAccessKey"},"computed":false}}},"consequent":{"type":"BlockStatement","start":9065,"end":9337,"loc":{"start":{"line":205,"column":100},"end":{"line":207,"column":9}},"body":[{"type":"ThrowStatement","start":9079,"end":9327,"loc":{"start":{"line":206,"column":12},"end":{"line":206,"column":260}},"argument":{"type":"NewExpression","start":9085,"end":9326,"loc":{"start":{"line":206,"column":18},"end":{"line":206,"column":259}},"callee":{"type":"Identifier","start":9089,"end":9094,"loc":{"start":{"line":206,"column":22},"end":{"line":206,"column":27}},"name":"Error"},"arguments":[{"type":"Literal","start":9095,"end":9325,"loc":{"start":{"line":206,"column":28},"end":{"line":206,"column":258}},"value":"Found unsupported `providerOptions.s3.awsClientOptions.accessKeyId` or `providerOptions.s3.awsClientOptions.secretAccessKey` configuration. Please use the `providerOptions.s3.key` and `providerOptions.s3.secret` options instead.","raw":"'Found unsupported `providerOptions.s3.awsClientOptions.accessKeyId` or `providerOptions.s3.awsClientOptions.secretAccessKey` configuration. Please use the `providerOptions.s3.key` and `providerOptions.s3.secret` options instead.'"}]}}]},"alternate":null},{"type":"VariableDeclaration","start":9346,"end":9654,"loc":{"start":{"line":208,"column":8},"end":{"line":214,"column":29}},"declarations":[{"type":"VariableDeclarator","start":9352,"end":9653,"loc":{"start":{"line":208,"column":14},"end":{"line":214,"column":28}},"id":{"type":"Identifier","start":9352,"end":9367,"loc":{"start":{"line":208,"column":14},"end":{"line":208,"column":29}},"name":"s3ClientOptions"},"init":{"type":"CallExpression","start":9370,"end":9653,"loc":{"start":{"line":208,"column":32},"end":{"line":214,"column":28}},"callee":{"type":"MemberExpression","start":9370,"end":9383,"loc":{"start":{"line":208,"column":32},"end":{"line":208,"column":45}},"object":{"type":"Identifier","start":9370,"end":9376,"loc":{"start":{"line":208,"column":32},"end":{"line":208,"column":38}},"name":"Object"},"property":{"type":"Identifier","start":9377,"end":9383,"loc":{"start":{"line":208,"column":39},"end":{"line":208,"column":45}},"name":"assign"},"computed":false},"arguments":[{"type":"ObjectExpression","start":9384,"end":9634,"loc":{"start":{"line":208,"column":46},"end":{"line":214,"column":9}},"properties":[{"type":"Property","start":9398,"end":9420,"loc":{"start":{"line":209,"column":12},"end":{"line":209,"column":34}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9398,"end":9414,"loc":{"start":{"line":209,"column":12},"end":{"line":209,"column":28}},"name":"signatureVersion"},"value":{"type":"Literal","start":9416,"end":9420,"loc":{"start":{"line":209,"column":30},"end":{"line":209,"column":34}},"value":"v4","raw":"'v4'"},"kind":"init"},{"type":"Property","start":9434,"end":9470,"loc":{"start":{"line":210,"column":12},"end":{"line":210,"column":48}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9434,"end":9442,"loc":{"start":{"line":210,"column":12},"end":{"line":210,"column":20}},"name":"endpoint"},"value":{"type":"MemberExpression","start":9444,"end":9470,"loc":{"start":{"line":210,"column":22},"end":{"line":210,"column":48}},"object":{"type":"Identifier","start":9444,"end":9461,"loc":{"start":{"line":210,"column":22},"end":{"line":210,"column":39}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":9462,"end":9470,"loc":{"start":{"line":210,"column":40},"end":{"line":210,"column":48}},"name":"endpoint"},"computed":false},"kind":"init"},{"type":"Property","start":9484,"end":9516,"loc":{"start":{"line":211,"column":12},"end":{"line":211,"column":44}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9484,"end":9490,"loc":{"start":{"line":211,"column":12},"end":{"line":211,"column":18}},"name":"region"},"value":{"type":"MemberExpression","start":9492,"end":9516,"loc":{"start":{"line":211,"column":20},"end":{"line":211,"column":44}},"object":{"type":"Identifier","start":9492,"end":9509,"loc":{"start":{"line":211,"column":20},"end":{"line":211,"column":37}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":9510,"end":9516,"loc":{"start":{"line":211,"column":38},"end":{"line":211,"column":44}},"name":"region"},"computed":false},"kind":"init"},{"type":"Property","start":9562,"end":9624,"loc":{"start":{"line":213,"column":12},"end":{"line":213,"column":74}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9562,"end":9583,"loc":{"start":{"line":213,"column":12},"end":{"line":213,"column":33}},"name":"useAccelerateEndpoint"},"value":{"type":"MemberExpression","start":9585,"end":9624,"loc":{"start":{"line":213,"column":35},"end":{"line":213,"column":74}},"object":{"type":"Identifier","start":9585,"end":9602,"loc":{"start":{"line":213,"column":35},"end":{"line":213,"column":52}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":9603,"end":9624,"loc":{"start":{"line":213,"column":53},"end":{"line":213,"column":74}},"name":"useAccelerateEndpoint"},"computed":false},"kind":"init"}]},{"type":"Identifier","start":9636,"end":9652,"loc":{"start":{"line":214,"column":11},"end":{"line":214,"column":27}},"name":"rawClientOptions"}]}}],"kind":"const"},{"type":"IfStatement","start":9877,"end":10119,"loc":{"start":{"line":218,"column":8},"end":{"line":220,"column":9}},"test":{"type":"LogicalExpression","start":9881,"end":9962,"loc":{"start":{"line":218,"column":12},"end":{"line":218,"column":93}},"left":{"type":"LogicalExpression","start":9881,"end":9930,"loc":{"start":{"line":218,"column":12},"end":{"line":218,"column":61}},"left":{"type":"MemberExpression","start":9881,"end":9902,"loc":{"start":{"line":218,"column":12},"end":{"line":218,"column":33}},"object":{"type":"Identifier","start":9881,"end":9898,"loc":{"start":{"line":218,"column":12},"end":{"line":218,"column":29}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":9899,"end":9902,"loc":{"start":{"line":218,"column":30},"end":{"line":218,"column":33}},"name":"key"},"computed":false},"operator":"&&","right":{"type":"MemberExpression","start":9906,"end":9930,"loc":{"start":{"line":218,"column":37},"end":{"line":218,"column":61}},"object":{"type":"Identifier","start":9906,"end":9923,"loc":{"start":{"line":218,"column":37},"end":{"line":218,"column":54}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":9924,"end":9930,"loc":{"start":{"line":218,"column":55},"end":{"line":218,"column":61}},"name":"secret"},"computed":false}},"operator":"&&","right":{"type":"UnaryExpression","start":9934,"end":9962,"loc":{"start":{"line":218,"column":65},"end":{"line":218,"column":93}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":9935,"end":9962,"loc":{"start":{"line":218,"column":66},"end":{"line":218,"column":93}},"object":{"type":"Identifier","start":9935,"end":9950,"loc":{"start":{"line":218,"column":66},"end":{"line":218,"column":81}},"name":"s3ClientOptions"},"property":{"type":"Identifier","start":9951,"end":9962,"loc":{"start":{"line":218,"column":82},"end":{"line":218,"column":93}},"name":"credentials"},"computed":false}}},"consequent":{"type":"BlockStatement","start":9964,"end":10119,"loc":{"start":{"line":218,"column":95},"end":{"line":220,"column":9}},"body":[{"type":"ExpressionStatement","start":9978,"end":10109,"loc":{"start":{"line":219,"column":12},"end":{"line":219,"column":143}},"expression":{"type":"AssignmentExpression","start":9978,"end":10108,"loc":{"start":{"line":219,"column":12},"end":{"line":219,"column":142}},"operator":"=","left":{"type":"MemberExpression","start":9978,"end":10005,"loc":{"start":{"line":219,"column":12},"end":{"line":219,"column":39}},"object":{"type":"Identifier","start":9978,"end":9993,"loc":{"start":{"line":219,"column":12},"end":{"line":219,"column":27}},"name":"s3ClientOptions"},"property":{"type":"Identifier","start":9994,"end":10005,"loc":{"start":{"line":219,"column":28},"end":{"line":219,"column":39}},"name":"credentials"},"computed":false},"right":{"type":"NewExpression","start":10008,"end":10108,"loc":{"start":{"line":219,"column":42},"end":{"line":219,"column":142}},"callee":{"type":"MemberExpression","start":10012,"end":10027,"loc":{"start":{"line":219,"column":46},"end":{"line":219,"column":61}},"object":{"type":"Identifier","start":10012,"end":10015,"loc":{"start":{"line":219,"column":46},"end":{"line":219,"column":49}},"name":"AWS"},"property":{"type":"Identifier","start":10016,"end":10027,"loc":{"start":{"line":219,"column":50},"end":{"line":219,"column":61}},"name":"Credentials"},"computed":false},"arguments":[{"type":"MemberExpression","start":10028,"end":10049,"loc":{"start":{"line":219,"column":62},"end":{"line":219,"column":83}},"object":{"type":"Identifier","start":10028,"end":10045,"loc":{"start":{"line":219,"column":62},"end":{"line":219,"column":79}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":10046,"end":10049,"loc":{"start":{"line":219,"column":80},"end":{"line":219,"column":83}},"name":"key"},"computed":false},{"type":"MemberExpression","start":10051,"end":10075,"loc":{"start":{"line":219,"column":85},"end":{"line":219,"column":109}},"object":{"type":"Identifier","start":10051,"end":10068,"loc":{"start":{"line":219,"column":85},"end":{"line":219,"column":102}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":10069,"end":10075,"loc":{"start":{"line":219,"column":103},"end":{"line":219,"column":109}},"name":"secret"},"computed":false},{"type":"MemberExpression","start":10077,"end":10107,"loc":{"start":{"line":219,"column":111},"end":{"line":219,"column":141}},"object":{"type":"Identifier","start":10077,"end":10094,"loc":{"start":{"line":219,"column":111},"end":{"line":219,"column":128}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":10095,"end":10107,"loc":{"start":{"line":219,"column":129},"end":{"line":219,"column":141}},"name":"sessionToken"},"computed":false}]}}}]},"alternate":null},{"type":"ExpressionStatement","start":10128,"end":10163,"loc":{"start":{"line":221,"column":8},"end":{"line":221,"column":43}},"expression":{"type":"AssignmentExpression","start":10128,"end":10162,"loc":{"start":{"line":221,"column":8},"end":{"line":221,"column":42}},"operator":"=","left":{"type":"Identifier","start":10128,"end":10136,"loc":{"start":{"line":221,"column":8},"end":{"line":221,"column":16}},"name":"s3Client"},"right":{"type":"NewExpression","start":10139,"end":10162,"loc":{"start":{"line":221,"column":19},"end":{"line":221,"column":42}},"callee":{"type":"Identifier","start":10143,"end":10145,"loc":{"start":{"line":221,"column":23},"end":{"line":221,"column":25}},"name":"S3"},"arguments":[{"type":"Identifier","start":10146,"end":10161,"loc":{"start":{"line":221,"column":26},"end":{"line":221,"column":41}},"name":"s3ClientOptions"}]}}}]},"alternate":null},{"type":"VariableDeclaration","start":10274,"end":10931,"loc":{"start":{"line":228,"column":4},"end":{"line":241,"column":6}},"declarations":[{"type":"VariableDeclarator","start":10280,"end":10930,"loc":{"start":{"line":228,"column":10},"end":{"line":241,"column":5}},"id":{"type":"Identifier","start":10280,"end":10290,"loc":{"start":{"line":228,"column":10},"end":{"line":228,"column":20}},"name":"middleware"},"init":{"type":"ArrowFunctionExpression","start":10293,"end":10930,"loc":{"start":{"line":228,"column":23},"end":{"line":241,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10294,"end":10297,"loc":{"start":{"line":228,"column":24},"end":{"line":228,"column":27}},"name":"req"},{"type":"Identifier","start":10299,"end":10302,"loc":{"start":{"line":228,"column":29},"end":{"line":228,"column":32}},"name":"res"},{"type":"Identifier","start":10304,"end":10308,"loc":{"start":{"line":228,"column":34},"end":{"line":228,"column":38}},"name":"next"}],"body":{"type":"BlockStatement","start":10313,"end":10930,"loc":{"start":{"line":228,"column":43},"end":{"line":241,"column":5}},"body":[{"type":"VariableDeclaration","start":10323,"end":10423,"loc":{"start":{"line":229,"column":8},"end":{"line":229,"column":108}},"declarations":[{"type":"VariableDeclarator","start":10329,"end":10422,"loc":{"start":{"line":229,"column":14},"end":{"line":229,"column":107}},"id":{"type":"Identifier","start":10329,"end":10345,"loc":{"start":{"line":229,"column":14},"end":{"line":229,"column":30}},"name":"versionFromQuery"},"init":{"type":"ConditionalExpression","start":10348,"end":10422,"loc":{"start":{"line":229,"column":33},"end":{"line":229,"column":107}},"test":{"type":"MemberExpression","start":10348,"end":10370,"loc":{"start":{"line":229,"column":33},"end":{"line":229,"column":55}},"object":{"type":"MemberExpression","start":10348,"end":10357,"loc":{"start":{"line":229,"column":33},"end":{"line":229,"column":42}},"object":{"type":"Identifier","start":10348,"end":10351,"loc":{"start":{"line":229,"column":33},"end":{"line":229,"column":36}},"name":"req"},"property":{"type":"Identifier","start":10352,"end":10357,"loc":{"start":{"line":229,"column":37},"end":{"line":229,"column":42}},"name":"query"},"computed":false},"property":{"type":"Identifier","start":10358,"end":10370,"loc":{"start":{"line":229,"column":43},"end":{"line":229,"column":55}},"name":"uppyVersions"},"computed":false},"consequent":{"type":"CallExpression","start":10373,"end":10415,"loc":{"start":{"line":229,"column":58},"end":{"line":229,"column":100}},"callee":{"type":"Identifier","start":10373,"end":10391,"loc":{"start":{"line":229,"column":58},"end":{"line":229,"column":76}},"name":"decodeURIComponent"},"arguments":[{"type":"MemberExpression","start":10392,"end":10414,"loc":{"start":{"line":229,"column":77},"end":{"line":229,"column":99}},"object":{"type":"MemberExpression","start":10392,"end":10401,"loc":{"start":{"line":229,"column":77},"end":{"line":229,"column":86}},"object":{"type":"Identifier","start":10392,"end":10395,"loc":{"start":{"line":229,"column":77},"end":{"line":229,"column":80}},"name":"req"},"property":{"type":"Identifier","start":10396,"end":10401,"loc":{"start":{"line":229,"column":81},"end":{"line":229,"column":86}},"name":"query"},"computed":false},"property":{"type":"Identifier","start":10402,"end":10414,"loc":{"start":{"line":229,"column":87},"end":{"line":229,"column":99}},"name":"uppyVersions"},"computed":false}]},"alternate":{"type":"Literal","start":10418,"end":10422,"loc":{"start":{"line":229,"column":103},"end":{"line":229,"column":107}},"value":null,"raw":"null"}}}],"kind":"const"},{"type":"ExpressionStatement","start":10432,"end":10716,"loc":{"start":{"line":230,"column":8},"end":{"line":236,"column":10}},"expression":{"type":"AssignmentExpression","start":10432,"end":10715,"loc":{"start":{"line":230,"column":8},"end":{"line":236,"column":9}},"operator":"=","left":{"type":"MemberExpression","start":10432,"end":10445,"loc":{"start":{"line":230,"column":8},"end":{"line":230,"column":21}},"object":{"type":"Identifier","start":10432,"end":10435,"loc":{"start":{"line":230,"column":8},"end":{"line":230,"column":11}},"name":"req"},"property":{"type":"Identifier","start":10436,"end":10445,"loc":{"start":{"line":230,"column":12},"end":{"line":230,"column":21}},"name":"companion"},"computed":false},"right":{"type":"ObjectExpression","start":10448,"end":10715,"loc":{"start":{"line":230,"column":24},"end":{"line":236,"column":9}},"properties":[{"type":"Property","start":10462,"end":10469,"loc":{"start":{"line":231,"column":12},"end":{"line":231,"column":19}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":10462,"end":10469,"loc":{"start":{"line":231,"column":12},"end":{"line":231,"column":19}},"name":"options"},"kind":"init","value":{"type":"Identifier","start":10462,"end":10469,"loc":{"start":{"line":231,"column":12},"end":{"line":231,"column":19}},"name":"options"}},{"type":"Property","start":10483,"end":10491,"loc":{"start":{"line":232,"column":12},"end":{"line":232,"column":20}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":10483,"end":10491,"loc":{"start":{"line":232,"column":12},"end":{"line":232,"column":20}},"name":"s3Client"},"kind":"init","value":{"type":"Identifier","start":10483,"end":10491,"loc":{"start":{"line":232,"column":12},"end":{"line":232,"column":20}},"name":"s3Client"}},{"type":"Property","start":10505,"end":10572,"loc":{"start":{"line":233,"column":12},"end":{"line":233,"column":79}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10505,"end":10514,"loc":{"start":{"line":233,"column":12},"end":{"line":233,"column":21}},"name":"authToken"},"value":{"type":"LogicalExpression","start":10516,"end":10572,"loc":{"start":{"line":233,"column":23},"end":{"line":233,"column":79}},"left":{"type":"CallExpression","start":10516,"end":10545,"loc":{"start":{"line":233,"column":23},"end":{"line":233,"column":52}},"callee":{"type":"MemberExpression","start":10516,"end":10526,"loc":{"start":{"line":233,"column":23},"end":{"line":233,"column":33}},"object":{"type":"Identifier","start":10516,"end":10519,"loc":{"start":{"line":233,"column":23},"end":{"line":233,"column":26}},"name":"req"},"property":{"type":"Identifier","start":10520,"end":10526,"loc":{"start":{"line":233,"column":27},"end":{"line":233,"column":33}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":10527,"end":10544,"loc":{"start":{"line":233,"column":34},"end":{"line":233,"column":51}},"value":"uppy-auth-token","raw":"'uppy-auth-token'"}]},"operator":"||","right":{"type":"MemberExpression","start":10549,"end":10572,"loc":{"start":{"line":233,"column":56},"end":{"line":233,"column":79}},"object":{"type":"MemberExpression","start":10549,"end":10558,"loc":{"start":{"line":233,"column":56},"end":{"line":233,"column":65}},"object":{"type":"Identifier","start":10549,"end":10552,"loc":{"start":{"line":233,"column":56},"end":{"line":233,"column":59}},"name":"req"},"property":{"type":"Identifier","start":10553,"end":10558,"loc":{"start":{"line":233,"column":60},"end":{"line":233,"column":65}},"name":"query"},"computed":false},"property":{"type":"Identifier","start":10559,"end":10572,"loc":{"start":{"line":233,"column":66},"end":{"line":233,"column":79}},"name":"uppyAuthToken"},"computed":false}},"kind":"init"},{"type":"Property","start":10586,"end":10659,"loc":{"start":{"line":234,"column":12},"end":{"line":234,"column":85}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10586,"end":10599,"loc":{"start":{"line":234,"column":12},"end":{"line":234,"column":25}},"name":"clientVersion"},"value":{"type":"LogicalExpression","start":10601,"end":10659,"loc":{"start":{"line":234,"column":27},"end":{"line":234,"column":85}},"left":{"type":"LogicalExpression","start":10601,"end":10648,"loc":{"start":{"line":234,"column":27},"end":{"line":234,"column":74}},"left":{"type":"CallExpression","start":10601,"end":10628,"loc":{"start":{"line":234,"column":27},"end":{"line":234,"column":54}},"callee":{"type":"MemberExpression","start":10601,"end":10611,"loc":{"start":{"line":234,"column":27},"end":{"line":234,"column":37}},"object":{"type":"Identifier","start":10601,"end":10604,"loc":{"start":{"line":234,"column":27},"end":{"line":234,"column":30}},"name":"req"},"property":{"type":"Identifier","start":10605,"end":10611,"loc":{"start":{"line":234,"column":31},"end":{"line":234,"column":37}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":10612,"end":10627,"loc":{"start":{"line":234,"column":38},"end":{"line":234,"column":53}},"value":"uppy-versions","raw":"'uppy-versions'"}]},"operator":"||","right":{"type":"Identifier","start":10632,"end":10648,"loc":{"start":{"line":234,"column":58},"end":{"line":234,"column":74}},"name":"versionFromQuery"}},"operator":"||","right":{"type":"Literal","start":10652,"end":10659,"loc":{"start":{"line":234,"column":78},"end":{"line":234,"column":85}},"value":"1.0.0","raw":"'1.0.0'"}},"kind":"init"},{"type":"Property","start":10673,"end":10705,"loc":{"start":{"line":235,"column":12},"end":{"line":235,"column":44}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10673,"end":10681,"loc":{"start":{"line":235,"column":12},"end":{"line":235,"column":20}},"name":"buildURL"},"value":{"type":"CallExpression","start":10683,"end":10705,"loc":{"start":{"line":235,"column":22},"end":{"line":235,"column":44}},"callee":{"type":"Identifier","start":10683,"end":10696,"loc":{"start":{"line":235,"column":22},"end":{"line":235,"column":35}},"name":"getURLBuilder"},"arguments":[{"type":"Identifier","start":10697,"end":10704,"loc":{"start":{"line":235,"column":36},"end":{"line":235,"column":43}},"name":"options"}]},"kind":"init"}]}}},{"type":"ExpressionStatement","start":10725,"end":10819,"loc":{"start":{"line":237,"column":8},"end":{"line":237,"column":102}},"expression":{"type":"CallExpression","start":10725,"end":10818,"loc":{"start":{"line":237,"column":8},"end":{"line":237,"column":101}},"callee":{"type":"MemberExpression","start":10725,"end":10736,"loc":{"start":{"line":237,"column":8},"end":{"line":237,"column":19}},"object":{"type":"Identifier","start":10725,"end":10731,"loc":{"start":{"line":237,"column":8},"end":{"line":237,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":10732,"end":10736,"loc":{"start":{"line":237,"column":15},"end":{"line":237,"column":19}},"name":"info"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":10737,"end":10789,"loc":{"start":{"line":237,"column":20},"end":{"line":237,"column":72}},"expressions":[{"type":"MemberExpression","start":10760,"end":10787,"loc":{"start":{"line":237,"column":43},"end":{"line":237,"column":70}},"object":{"type":"MemberExpression","start":10760,"end":10773,"loc":{"start":{"line":237,"column":43},"end":{"line":237,"column":56}},"object":{"type":"Identifier","start":10760,"end":10763,"loc":{"start":{"line":237,"column":43},"end":{"line":237,"column":46}},"name":"req"},"property":{"type":"Identifier","start":10764,"end":10773,"loc":{"start":{"line":237,"column":47},"end":{"line":237,"column":56}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":10774,"end":10787,"loc":{"start":{"line":237,"column":57},"end":{"line":237,"column":70}},"name":"clientVersion"},"computed":false}],"quasis":[{"type":"TemplateElement","start":10738,"end":10758,"loc":{"start":{"line":237,"column":21},"end":{"line":237,"column":41}},"value":{"raw":"uppy client version ","cooked":"uppy client version "},"tail":false},{"type":"TemplateElement","start":10788,"end":10788,"loc":{"start":{"line":237,"column":71},"end":{"line":237,"column":71}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"Literal","start":10791,"end":10817,"loc":{"start":{"line":237,"column":74},"end":{"line":237,"column":100}},"value":"companion.client.version","raw":"'companion.client.version'"}]}},{"type":"ExpressionStatement","start":10883,"end":10908,"loc":{"start":{"line":239,"column":8},"end":{"line":239,"column":33}},"expression":{"type":"AssignmentExpression","start":10883,"end":10907,"loc":{"start":{"line":239,"column":8},"end":{"line":239,"column":32}},"operator":"=","left":{"type":"MemberExpression","start":10883,"end":10891,"loc":{"start":{"line":239,"column":8},"end":{"line":239,"column":16}},"object":{"type":"Identifier","start":10883,"end":10886,"loc":{"start":{"line":239,"column":8},"end":{"line":239,"column":11}},"name":"req"},"property":{"type":"Identifier","start":10887,"end":10891,"loc":{"start":{"line":239,"column":12},"end":{"line":239,"column":16}},"name":"uppy"},"computed":false},"right":{"type":"MemberExpression","start":10894,"end":10907,"loc":{"start":{"line":239,"column":19},"end":{"line":239,"column":32}},"object":{"type":"Identifier","start":10894,"end":10897,"loc":{"start":{"line":239,"column":19},"end":{"line":239,"column":22}},"name":"req"},"property":{"type":"Identifier","start":10898,"end":10907,"loc":{"start":{"line":239,"column":23},"end":{"line":239,"column":32}},"name":"companion"},"computed":false}}},{"type":"ExpressionStatement","start":10917,"end":10924,"loc":{"start":{"line":240,"column":8},"end":{"line":240,"column":15}},"expression":{"type":"CallExpression","start":10917,"end":10923,"loc":{"start":{"line":240,"column":8},"end":{"line":240,"column":14}},"callee":{"type":"Identifier","start":10917,"end":10921,"loc":{"start":{"line":240,"column":8},"end":{"line":240,"column":12}},"name":"next"},"arguments":[]}}]}}}],"kind":"const"},{"type":"ReturnStatement","start":10936,"end":10954,"loc":{"start":{"line":242,"column":4},"end":{"line":242,"column":22}},"argument":{"type":"Identifier","start":10943,"end":10953,"loc":{"start":{"line":242,"column":11},"end":{"line":242,"column":21}},"name":"middleware"}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":11111,"end":11750,"loc":{"start":{"line":249,"column":0},"end":{"line":265,"column":2}},"declarations":[{"type":"VariableDeclarator","start":11117,"end":11749,"loc":{"start":{"line":249,"column":6},"end":{"line":265,"column":1}},"id":{"type":"Identifier","start":11117,"end":11127,"loc":{"start":{"line":249,"column":6},"end":{"line":249,"column":16}},"name":"maskLogger"},"init":{"type":"ArrowFunctionExpression","start":11130,"end":11749,"loc":{"start":{"line":249,"column":19},"end":{"line":265,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11131,"end":11147,"loc":{"start":{"line":249,"column":20},"end":{"line":249,"column":36}},"name":"companionOptions"}],"body":{"type":"BlockStatement","start":11152,"end":11749,"loc":{"start":{"line":249,"column":41},"end":{"line":265,"column":1}},"body":[{"type":"VariableDeclaration","start":11158,"end":11177,"loc":{"start":{"line":250,"column":4},"end":{"line":250,"column":23}},"declarations":[{"type":"VariableDeclarator","start":11164,"end":11176,"loc":{"start":{"line":250,"column":10},"end":{"line":250,"column":22}},"id":{"type":"Identifier","start":11164,"end":11171,"loc":{"start":{"line":250,"column":10},"end":{"line":250,"column":17}},"name":"secrets"},"init":{"type":"ArrayExpression","start":11174,"end":11176,"loc":{"start":{"line":250,"column":20},"end":{"line":250,"column":22}},"elements":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":11182,"end":11244,"loc":{"start":{"line":251,"column":4},"end":{"line":251,"column":66}},"declarations":[{"type":"VariableDeclarator","start":11188,"end":11243,"loc":{"start":{"line":251,"column":10},"end":{"line":251,"column":65}},"id":{"type":"ObjectPattern","start":11188,"end":11224,"loc":{"start":{"line":251,"column":10},"end":{"line":251,"column":46}},"properties":[{"type":"Property","start":11190,"end":11205,"loc":{"start":{"line":251,"column":12},"end":{"line":251,"column":27}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":11190,"end":11205,"loc":{"start":{"line":251,"column":12},"end":{"line":251,"column":27}},"name":"providerOptions"},"kind":"init","value":{"type":"Identifier","start":11190,"end":11205,"loc":{"start":{"line":251,"column":12},"end":{"line":251,"column":27}},"name":"providerOptions"}},{"type":"Property","start":11207,"end":11222,"loc":{"start":{"line":251,"column":29},"end":{"line":251,"column":44}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":11207,"end":11222,"loc":{"start":{"line":251,"column":29},"end":{"line":251,"column":44}},"name":"customProviders"},"kind":"init","value":{"type":"Identifier","start":11207,"end":11222,"loc":{"start":{"line":251,"column":29},"end":{"line":251,"column":44}},"name":"customProviders"}}]},"init":{"type":"Identifier","start":11227,"end":11243,"loc":{"start":{"line":251,"column":49},"end":{"line":251,"column":65}},"name":"companionOptions"}}],"kind":"const"},{"type":"ExpressionStatement","start":11249,"end":11427,"loc":{"start":{"line":252,"column":4},"end":{"line":256,"column":7}},"expression":{"type":"CallExpression","start":11249,"end":11426,"loc":{"start":{"line":252,"column":4},"end":{"line":256,"column":6}},"callee":{"type":"MemberExpression","start":11249,"end":11285,"loc":{"start":{"line":252,"column":4},"end":{"line":252,"column":40}},"object":{"type":"CallExpression","start":11249,"end":11277,"loc":{"start":{"line":252,"column":4},"end":{"line":252,"column":32}},"callee":{"type":"MemberExpression","start":11249,"end":11260,"loc":{"start":{"line":252,"column":4},"end":{"line":252,"column":15}},"object":{"type":"Identifier","start":11249,"end":11255,"loc":{"start":{"line":252,"column":4},"end":{"line":252,"column":10}},"name":"Object"},"property":{"type":"Identifier","start":11256,"end":11260,"loc":{"start":{"line":252,"column":11},"end":{"line":252,"column":15}},"name":"keys"},"computed":false},"arguments":[{"type":"Identifier","start":11261,"end":11276,"loc":{"start":{"line":252,"column":16},"end":{"line":252,"column":31}},"name":"providerOptions"}]},"property":{"type":"Identifier","start":11278,"end":11285,"loc":{"start":{"line":252,"column":33},"end":{"line":252,"column":40}},"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":11286,"end":11425,"loc":{"start":{"line":252,"column":41},"end":{"line":256,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11287,"end":11295,"loc":{"start":{"line":252,"column":42},"end":{"line":252,"column":50}},"name":"provider"}],"body":{"type":"BlockStatement","start":11300,"end":11425,"loc":{"start":{"line":252,"column":55},"end":{"line":256,"column":5}},"body":[{"type":"IfStatement","start":11310,"end":11419,"loc":{"start":{"line":253,"column":8},"end":{"line":255,"column":9}},"test":{"type":"MemberExpression","start":11314,"end":11346,"loc":{"start":{"line":253,"column":12},"end":{"line":253,"column":44}},"object":{"type":"MemberExpression","start":11314,"end":11339,"loc":{"start":{"line":253,"column":12},"end":{"line":253,"column":37}},"object":{"type":"Identifier","start":11314,"end":11329,"loc":{"start":{"line":253,"column":12},"end":{"line":253,"column":27}},"name":"providerOptions"},"property":{"type":"Identifier","start":11330,"end":11338,"loc":{"start":{"line":253,"column":28},"end":{"line":253,"column":36}},"name":"provider"},"computed":true},"property":{"type":"Identifier","start":11340,"end":11346,"loc":{"start":{"line":253,"column":38},"end":{"line":253,"column":44}},"name":"secret"},"computed":false},"consequent":{"type":"BlockStatement","start":11348,"end":11419,"loc":{"start":{"line":253,"column":46},"end":{"line":255,"column":9}},"body":[{"type":"ExpressionStatement","start":11362,"end":11409,"loc":{"start":{"line":254,"column":12},"end":{"line":254,"column":59}},"expression":{"type":"CallExpression","start":11362,"end":11408,"loc":{"start":{"line":254,"column":12},"end":{"line":254,"column":58}},"callee":{"type":"MemberExpression","start":11362,"end":11374,"loc":{"start":{"line":254,"column":12},"end":{"line":254,"column":24}},"object":{"type":"Identifier","start":11362,"end":11369,"loc":{"start":{"line":254,"column":12},"end":{"line":254,"column":19}},"name":"secrets"},"property":{"type":"Identifier","start":11370,"end":11374,"loc":{"start":{"line":254,"column":20},"end":{"line":254,"column":24}},"name":"push"},"computed":false},"arguments":[{"type":"MemberExpression","start":11375,"end":11407,"loc":{"start":{"line":254,"column":25},"end":{"line":254,"column":57}},"object":{"type":"MemberExpression","start":11375,"end":11400,"loc":{"start":{"line":254,"column":25},"end":{"line":254,"column":50}},"object":{"type":"Identifier","start":11375,"end":11390,"loc":{"start":{"line":254,"column":25},"end":{"line":254,"column":40}},"name":"providerOptions"},"property":{"type":"Identifier","start":11391,"end":11399,"loc":{"start":{"line":254,"column":41},"end":{"line":254,"column":49}},"name":"provider"},"computed":true},"property":{"type":"Identifier","start":11401,"end":11407,"loc":{"start":{"line":254,"column":51},"end":{"line":254,"column":57}},"name":"secret"},"computed":false}]}}]},"alternate":null}]}}]}},{"type":"IfStatement","start":11432,"end":11713,"loc":{"start":{"line":257,"column":4},"end":{"line":263,"column":5}},"test":{"type":"Identifier","start":11436,"end":11451,"loc":{"start":{"line":257,"column":8},"end":{"line":257,"column":23}},"name":"customProviders"},"consequent":{"type":"BlockStatement","start":11453,"end":11713,"loc":{"start":{"line":257,"column":25},"end":{"line":263,"column":5}},"body":[{"type":"ExpressionStatement","start":11463,"end":11707,"loc":{"start":{"line":258,"column":8},"end":{"line":262,"column":11}},"expression":{"type":"CallExpression","start":11463,"end":11706,"loc":{"start":{"line":258,"column":8},"end":{"line":262,"column":10}},"callee":{"type":"MemberExpression","start":11463,"end":11499,"loc":{"start":{"line":258,"column":8},"end":{"line":258,"column":44}},"object":{"type":"CallExpression","start":11463,"end":11491,"loc":{"start":{"line":258,"column":8},"end":{"line":258,"column":36}},"callee":{"type":"MemberExpression","start":11463,"end":11474,"loc":{"start":{"line":258,"column":8},"end":{"line":258,"column":19}},"object":{"type":"Identifier","start":11463,"end":11469,"loc":{"start":{"line":258,"column":8},"end":{"line":258,"column":14}},"name":"Object"},"property":{"type":"Identifier","start":11470,"end":11474,"loc":{"start":{"line":258,"column":15},"end":{"line":258,"column":19}},"name":"keys"},"computed":false},"arguments":[{"type":"Identifier","start":11475,"end":11490,"loc":{"start":{"line":258,"column":20},"end":{"line":258,"column":35}},"name":"customProviders"}]},"property":{"type":"Identifier","start":11492,"end":11499,"loc":{"start":{"line":258,"column":37},"end":{"line":258,"column":44}},"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":11500,"end":11705,"loc":{"start":{"line":258,"column":45},"end":{"line":262,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11501,"end":11509,"loc":{"start":{"line":258,"column":46},"end":{"line":258,"column":54}},"name":"provider"}],"body":{"type":"BlockStatement","start":11514,"end":11705,"loc":{"start":{"line":258,"column":59},"end":{"line":262,"column":9}},"body":[{"type":"IfStatement","start":11528,"end":11695,"loc":{"start":{"line":259,"column":12},"end":{"line":261,"column":13}},"test":{"type":"LogicalExpression","start":11532,"end":11607,"loc":{"start":{"line":259,"column":16},"end":{"line":259,"column":91}},"left":{"type":"MemberExpression","start":11532,"end":11564,"loc":{"start":{"line":259,"column":16},"end":{"line":259,"column":48}},"object":{"type":"MemberExpression","start":11532,"end":11557,"loc":{"start":{"line":259,"column":16},"end":{"line":259,"column":41}},"object":{"type":"Identifier","start":11532,"end":11547,"loc":{"start":{"line":259,"column":16},"end":{"line":259,"column":31}},"name":"customProviders"},"property":{"type":"Identifier","start":11548,"end":11556,"loc":{"start":{"line":259,"column":32},"end":{"line":259,"column":40}},"name":"provider"},"computed":true},"property":{"type":"Identifier","start":11558,"end":11564,"loc":{"start":{"line":259,"column":42},"end":{"line":259,"column":48}},"name":"config"},"computed":false},"operator":"&&","right":{"type":"MemberExpression","start":11568,"end":11607,"loc":{"start":{"line":259,"column":52},"end":{"line":259,"column":91}},"object":{"type":"MemberExpression","start":11568,"end":11600,"loc":{"start":{"line":259,"column":52},"end":{"line":259,"column":84}},"object":{"type":"MemberExpression","start":11568,"end":11593,"loc":{"start":{"line":259,"column":52},"end":{"line":259,"column":77}},"object":{"type":"Identifier","start":11568,"end":11583,"loc":{"start":{"line":259,"column":52},"end":{"line":259,"column":67}},"name":"customProviders"},"property":{"type":"Identifier","start":11584,"end":11592,"loc":{"start":{"line":259,"column":68},"end":{"line":259,"column":76}},"name":"provider"},"computed":true},"property":{"type":"Identifier","start":11594,"end":11600,"loc":{"start":{"line":259,"column":78},"end":{"line":259,"column":84}},"name":"config"},"computed":false},"property":{"type":"Identifier","start":11601,"end":11607,"loc":{"start":{"line":259,"column":85},"end":{"line":259,"column":91}},"name":"secret"},"computed":false}},"consequent":{"type":"BlockStatement","start":11609,"end":11695,"loc":{"start":{"line":259,"column":93},"end":{"line":261,"column":13}},"body":[{"type":"ExpressionStatement","start":11627,"end":11681,"loc":{"start":{"line":260,"column":16},"end":{"line":260,"column":70}},"expression":{"type":"CallExpression","start":11627,"end":11680,"loc":{"start":{"line":260,"column":16},"end":{"line":260,"column":69}},"callee":{"type":"MemberExpression","start":11627,"end":11639,"loc":{"start":{"line":260,"column":16},"end":{"line":260,"column":28}},"object":{"type":"Identifier","start":11627,"end":11634,"loc":{"start":{"line":260,"column":16},"end":{"line":260,"column":23}},"name":"secrets"},"property":{"type":"Identifier","start":11635,"end":11639,"loc":{"start":{"line":260,"column":24},"end":{"line":260,"column":28}},"name":"push"},"computed":false},"arguments":[{"type":"MemberExpression","start":11640,"end":11679,"loc":{"start":{"line":260,"column":29},"end":{"line":260,"column":68}},"object":{"type":"MemberExpression","start":11640,"end":11672,"loc":{"start":{"line":260,"column":29},"end":{"line":260,"column":61}},"object":{"type":"MemberExpression","start":11640,"end":11665,"loc":{"start":{"line":260,"column":29},"end":{"line":260,"column":54}},"object":{"type":"Identifier","start":11640,"end":11655,"loc":{"start":{"line":260,"column":29},"end":{"line":260,"column":44}},"name":"customProviders"},"property":{"type":"Identifier","start":11656,"end":11664,"loc":{"start":{"line":260,"column":45},"end":{"line":260,"column":53}},"name":"provider"},"computed":true},"property":{"type":"Identifier","start":11666,"end":11672,"loc":{"start":{"line":260,"column":55},"end":{"line":260,"column":61}},"name":"config"},"computed":false},"property":{"type":"Identifier","start":11673,"end":11679,"loc":{"start":{"line":260,"column":62},"end":{"line":260,"column":68}},"name":"secret"},"computed":false}]}}]},"alternate":null}]}}]}}]},"alternate":null},{"type":"ExpressionStatement","start":11718,"end":11747,"loc":{"start":{"line":264,"column":4},"end":{"line":264,"column":33}},"expression":{"type":"CallExpression","start":11718,"end":11746,"loc":{"start":{"line":264,"column":4},"end":{"line":264,"column":32}},"callee":{"type":"MemberExpression","start":11718,"end":11737,"loc":{"start":{"line":264,"column":4},"end":{"line":264,"column":23}},"object":{"type":"Identifier","start":11718,"end":11724,"loc":{"start":{"line":264,"column":4},"end":{"line":264,"column":10}},"name":"logger"},"property":{"type":"Identifier","start":11725,"end":11737,"loc":{"start":{"line":264,"column":11},"end":{"line":264,"column":23}},"name":"setMaskables"},"computed":false},"arguments":[{"type":"Identifier","start":11738,"end":11745,"loc":{"start":{"line":264,"column":24},"end":{"line":264,"column":31}},"name":"secrets"}]}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":11979,"end":12956,"loc":{"start":{"line":273,"column":0},"end":{"line":295,"column":2}},"declarations":[{"type":"VariableDeclarator","start":11985,"end":12955,"loc":{"start":{"line":273,"column":6},"end":{"line":295,"column":1}},"id":{"type":"Identifier","start":11985,"end":11999,"loc":{"start":{"line":273,"column":6},"end":{"line":273,"column":20}},"name":"validateConfig"},"init":{"type":"ArrowFunctionExpression","start":12002,"end":12955,"loc":{"start":{"line":273,"column":23},"end":{"line":295,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12003,"end":12019,"loc":{"start":{"line":273,"column":24},"end":{"line":273,"column":40}},"name":"companionOptions"}],"body":{"type":"BlockStatement","start":12024,"end":12955,"loc":{"start":{"line":273,"column":45},"end":{"line":295,"column":1}},"body":[{"type":"VariableDeclaration","start":12030,"end":12093,"loc":{"start":{"line":274,"column":4},"end":{"line":274,"column":67}},"declarations":[{"type":"VariableDeclarator","start":12036,"end":12092,"loc":{"start":{"line":274,"column":10},"end":{"line":274,"column":66}},"id":{"type":"Identifier","start":12036,"end":12052,"loc":{"start":{"line":274,"column":10},"end":{"line":274,"column":26}},"name":"mandatoryOptions"},"init":{"type":"ArrayExpression","start":12055,"end":12092,"loc":{"start":{"line":274,"column":29},"end":{"line":274,"column":66}},"elements":[{"type":"Literal","start":12056,"end":12064,"loc":{"start":{"line":274,"column":30},"end":{"line":274,"column":38}},"value":"secret","raw":"'secret'"},{"type":"Literal","start":12066,"end":12076,"loc":{"start":{"line":274,"column":40},"end":{"line":274,"column":50}},"value":"filePath","raw":"'filePath'"},{"type":"Literal","start":12078,"end":12091,"loc":{"start":{"line":274,"column":52},"end":{"line":274,"column":65}},"value":"server.host","raw":"'server.host'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":12126,"end":12149,"loc":{"start":{"line":276,"column":4},"end":{"line":276,"column":27}},"declarations":[{"type":"VariableDeclarator","start":12132,"end":12148,"loc":{"start":{"line":276,"column":10},"end":{"line":276,"column":26}},"id":{"type":"Identifier","start":12132,"end":12143,"loc":{"start":{"line":276,"column":10},"end":{"line":276,"column":21}},"name":"unspecified"},"init":{"type":"ArrayExpression","start":12146,"end":12148,"loc":{"start":{"line":276,"column":24},"end":{"line":276,"column":26}},"elements":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":12154,"end":12363,"loc":{"start":{"line":277,"column":4},"end":{"line":281,"column":7}},"expression":{"type":"CallExpression","start":12154,"end":12362,"loc":{"start":{"line":277,"column":4},"end":{"line":281,"column":6}},"callee":{"type":"MemberExpression","start":12154,"end":12178,"loc":{"start":{"line":277,"column":4},"end":{"line":277,"column":28}},"object":{"type":"Identifier","start":12154,"end":12170,"loc":{"start":{"line":277,"column":4},"end":{"line":277,"column":20}},"name":"mandatoryOptions"},"property":{"type":"Identifier","start":12171,"end":12178,"loc":{"start":{"line":277,"column":21},"end":{"line":277,"column":28}},"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":12179,"end":12361,"loc":{"start":{"line":277,"column":29},"end":{"line":281,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12180,"end":12181,"loc":{"start":{"line":277,"column":30},"end":{"line":277,"column":31}},"name":"i"}],"body":{"type":"BlockStatement","start":12186,"end":12361,"loc":{"start":{"line":277,"column":36},"end":{"line":281,"column":5}},"body":[{"type":"VariableDeclaration","start":12196,"end":12295,"loc":{"start":{"line":278,"column":8},"end":{"line":278,"column":107}},"declarations":[{"type":"VariableDeclarator","start":12202,"end":12294,"loc":{"start":{"line":278,"column":14},"end":{"line":278,"column":106}},"id":{"type":"Identifier","start":12202,"end":12207,"loc":{"start":{"line":278,"column":14},"end":{"line":278,"column":19}},"name":"value"},"init":{"type":"CallExpression","start":12210,"end":12294,"loc":{"start":{"line":278,"column":22},"end":{"line":278,"column":106}},"callee":{"type":"MemberExpression","start":12210,"end":12229,"loc":{"start":{"line":278,"column":22},"end":{"line":278,"column":41}},"object":{"type":"CallExpression","start":12210,"end":12222,"loc":{"start":{"line":278,"column":22},"end":{"line":278,"column":34}},"callee":{"type":"MemberExpression","start":12210,"end":12217,"loc":{"start":{"line":278,"column":22},"end":{"line":278,"column":29}},"object":{"type":"Identifier","start":12210,"end":12211,"loc":{"start":{"line":278,"column":22},"end":{"line":278,"column":23}},"name":"i"},"property":{"type":"Identifier","start":12212,"end":12217,"loc":{"start":{"line":278,"column":24},"end":{"line":278,"column":29}},"name":"split"},"computed":false},"arguments":[{"type":"Literal","start":12218,"end":12221,"loc":{"start":{"line":278,"column":30},"end":{"line":278,"column":33}},"value":".","raw":"'.'"}]},"property":{"type":"Identifier","start":12223,"end":12229,"loc":{"start":{"line":278,"column":35},"end":{"line":278,"column":41}},"name":"reduce"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":12230,"end":12275,"loc":{"start":{"line":278,"column":42},"end":{"line":278,"column":87}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":12231,"end":12235,"loc":{"start":{"line":278,"column":43},"end":{"line":278,"column":47}},"name":"prev"},{"type":"Identifier","start":12237,"end":12241,"loc":{"start":{"line":278,"column":49},"end":{"line":278,"column":53}},"name":"curr"}],"body":{"type":"ConditionalExpression","start":12246,"end":12275,"loc":{"start":{"line":278,"column":58},"end":{"line":278,"column":87}},"test":{"type":"Identifier","start":12246,"end":12250,"loc":{"start":{"line":278,"column":58},"end":{"line":278,"column":62}},"name":"prev"},"consequent":{"type":"MemberExpression","start":12253,"end":12263,"loc":{"start":{"line":278,"column":65},"end":{"line":278,"column":75}},"object":{"type":"Identifier","start":12253,"end":12257,"loc":{"start":{"line":278,"column":65},"end":{"line":278,"column":69}},"name":"prev"},"property":{"type":"Identifier","start":12258,"end":12262,"loc":{"start":{"line":278,"column":70},"end":{"line":278,"column":74}},"name":"curr"},"computed":true},"alternate":{"type":"Identifier","start":12266,"end":12275,"loc":{"start":{"line":278,"column":78},"end":{"line":278,"column":87}},"name":"undefined"}}},{"type":"Identifier","start":12277,"end":12293,"loc":{"start":{"line":278,"column":89},"end":{"line":278,"column":105}},"name":"companionOptions"}]}}],"kind":"const"},{"type":"IfStatement","start":12304,"end":12355,"loc":{"start":{"line":279,"column":8},"end":{"line":280,"column":39}},"test":{"type":"UnaryExpression","start":12308,"end":12314,"loc":{"start":{"line":279,"column":12},"end":{"line":279,"column":18}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":12309,"end":12314,"loc":{"start":{"line":279,"column":13},"end":{"line":279,"column":18}},"name":"value"}},"consequent":{"type":"ExpressionStatement","start":12328,"end":12355,"loc":{"start":{"line":280,"column":12},"end":{"line":280,"column":39}},"expression":{"type":"CallExpression","start":12328,"end":12354,"loc":{"start":{"line":280,"column":12},"end":{"line":280,"column":38}},"callee":{"type":"MemberExpression","start":12328,"end":12344,"loc":{"start":{"line":280,"column":12},"end":{"line":280,"column":28}},"object":{"type":"Identifier","start":12328,"end":12339,"loc":{"start":{"line":280,"column":12},"end":{"line":280,"column":23}},"name":"unspecified"},"property":{"type":"Identifier","start":12340,"end":12344,"loc":{"start":{"line":280,"column":24},"end":{"line":280,"column":28}},"name":"push"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":12345,"end":12353,"loc":{"start":{"line":280,"column":29},"end":{"line":280,"column":37}},"expressions":[{"type":"Identifier","start":12349,"end":12350,"loc":{"start":{"line":280,"column":33},"end":{"line":280,"column":34}},"name":"i"}],"quasis":[{"type":"TemplateElement","start":12346,"end":12347,"loc":{"start":{"line":280,"column":30},"end":{"line":280,"column":31}},"value":{"raw":"\"","cooked":"\""},"tail":false},{"type":"TemplateElement","start":12351,"end":12352,"loc":{"start":{"line":280,"column":35},"end":{"line":280,"column":36}},"value":{"raw":"\"","cooked":"\""},"tail":true}]}]}},"alternate":null}]}}]}},{"type":"IfStatement","start":12421,"end":12613,"loc":{"start":{"line":283,"column":4},"end":{"line":286,"column":5}},"test":{"type":"MemberExpression","start":12425,"end":12443,"loc":{"start":{"line":283,"column":8},"end":{"line":283,"column":26}},"object":{"type":"Identifier","start":12425,"end":12436,"loc":{"start":{"line":283,"column":8},"end":{"line":283,"column":19}},"name":"unspecified"},"property":{"type":"Identifier","start":12437,"end":12443,"loc":{"start":{"line":283,"column":20},"end":{"line":283,"column":26}},"name":"length"},"computed":false},"consequent":{"type":"BlockStatement","start":12445,"end":12613,"loc":{"start":{"line":283,"column":28},"end":{"line":286,"column":5}},"body":[{"type":"VariableDeclaration","start":12455,"end":12534,"loc":{"start":{"line":284,"column":8},"end":{"line":284,"column":87}},"declarations":[{"type":"VariableDeclarator","start":12461,"end":12533,"loc":{"start":{"line":284,"column":14},"end":{"line":284,"column":86}},"id":{"type":"Identifier","start":12461,"end":12474,"loc":{"start":{"line":284,"column":14},"end":{"line":284,"column":27}},"name":"messagePrefix"},"init":{"type":"Literal","start":12477,"end":12533,"loc":{"start":{"line":284,"column":30},"end":{"line":284,"column":86}},"value":"Please specify the following options to use companion:","raw":"'Please specify the following options to use companion:'"}}],"kind":"const"},{"type":"ThrowStatement","start":12543,"end":12607,"loc":{"start":{"line":285,"column":8},"end":{"line":285,"column":72}},"argument":{"type":"NewExpression","start":12549,"end":12606,"loc":{"start":{"line":285,"column":14},"end":{"line":285,"column":71}},"callee":{"type":"Identifier","start":12553,"end":12558,"loc":{"start":{"line":285,"column":18},"end":{"line":285,"column":23}},"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":12559,"end":12605,"loc":{"start":{"line":285,"column":24},"end":{"line":285,"column":70}},"expressions":[{"type":"Identifier","start":12562,"end":12575,"loc":{"start":{"line":285,"column":27},"end":{"line":285,"column":40}},"name":"messagePrefix"},{"type":"CallExpression","start":12580,"end":12603,"loc":{"start":{"line":285,"column":45},"end":{"line":285,"column":68}},"callee":{"type":"MemberExpression","start":12580,"end":12596,"loc":{"start":{"line":285,"column":45},"end":{"line":285,"column":61}},"object":{"type":"Identifier","start":12580,"end":12591,"loc":{"start":{"line":285,"column":45},"end":{"line":285,"column":56}},"name":"unspecified"},"property":{"type":"Identifier","start":12592,"end":12596,"loc":{"start":{"line":285,"column":57},"end":{"line":285,"column":61}},"name":"join"},"computed":false},"arguments":[{"type":"Literal","start":12597,"end":12602,"loc":{"start":{"line":285,"column":62},"end":{"line":285,"column":67}},"value":",\n","raw":"',\\n'"}]}],"quasis":[{"type":"TemplateElement","start":12560,"end":12560,"loc":{"start":{"line":285,"column":25},"end":{"line":285,"column":25}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":12576,"end":12578,"loc":{"start":{"line":285,"column":41},"end":{"line":285,"column":43}},"value":{"raw":"\\n","cooked":"\n"},"tail":false},{"type":"TemplateElement","start":12604,"end":12604,"loc":{"start":{"line":285,"column":69},"end":{"line":285,"column":69}},"value":{"raw":"","cooked":""},"tail":true}]}]}}]},"alternate":null},{"type":"TryStatement","start":12681,"end":12953,"loc":{"start":{"line":288,"column":4},"end":{"line":294,"column":5}},"block":{"type":"BlockStatement","start":12685,"end":12788,"loc":{"start":{"line":288,"column":8},"end":{"line":291,"column":5}},"body":[{"type":"ExpressionStatement","start":12717,"end":12782,"loc":{"start":{"line":290,"column":8},"end":{"line":290,"column":73}},"expression":{"type":"CallExpression","start":12717,"end":12781,"loc":{"start":{"line":290,"column":8},"end":{"line":290,"column":72}},"callee":{"type":"MemberExpression","start":12717,"end":12730,"loc":{"start":{"line":290,"column":8},"end":{"line":290,"column":21}},"object":{"type":"Identifier","start":12717,"end":12719,"loc":{"start":{"line":290,"column":8},"end":{"line":290,"column":10}},"name":"fs"},"property":{"type":"Identifier","start":12720,"end":12730,"loc":{"start":{"line":290,"column":11},"end":{"line":290,"column":21}},"name":"accessSync"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":12731,"end":12761,"loc":{"start":{"line":290,"column":22},"end":{"line":290,"column":52}},"expressions":[{"type":"MemberExpression","start":12734,"end":12759,"loc":{"start":{"line":290,"column":25},"end":{"line":290,"column":50}},"object":{"type":"Identifier","start":12734,"end":12750,"loc":{"start":{"line":290,"column":25},"end":{"line":290,"column":41}},"name":"companionOptions"},"property":{"type":"Identifier","start":12751,"end":12759,"loc":{"start":{"line":290,"column":42},"end":{"line":290,"column":50}},"name":"filePath"},"computed":false}],"quasis":[{"type":"TemplateElement","start":12732,"end":12732,"loc":{"start":{"line":290,"column":23},"end":{"line":290,"column":23}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":12760,"end":12760,"loc":{"start":{"line":290,"column":51},"end":{"line":290,"column":51}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"BinaryExpression","start":12763,"end":12780,"loc":{"start":{"line":290,"column":54},"end":{"line":290,"column":71}},"left":{"type":"MemberExpression","start":12763,"end":12770,"loc":{"start":{"line":290,"column":54},"end":{"line":290,"column":61}},"object":{"type":"Identifier","start":12763,"end":12765,"loc":{"start":{"line":290,"column":54},"end":{"line":290,"column":56}},"name":"fs"},"property":{"type":"Identifier","start":12766,"end":12770,"loc":{"start":{"line":290,"column":57},"end":{"line":290,"column":61}},"name":"R_OK"},"computed":false},"operator":"|","right":{"type":"MemberExpression","start":12773,"end":12780,"loc":{"start":{"line":290,"column":64},"end":{"line":290,"column":71}},"object":{"type":"Identifier","start":12773,"end":12775,"loc":{"start":{"line":290,"column":64},"end":{"line":290,"column":66}},"name":"fs"},"property":{"type":"Identifier","start":12776,"end":12780,"loc":{"start":{"line":290,"column":67},"end":{"line":290,"column":71}},"name":"W_OK"},"computed":false}}]}}]},"handler":{"type":"CatchClause","start":12793,"end":12953,"loc":{"start":{"line":292,"column":4},"end":{"line":294,"column":5}},"param":{"type":"Identifier","start":12800,"end":12803,"loc":{"start":{"line":292,"column":11},"end":{"line":292,"column":14}},"name":"err"},"body":{"type":"BlockStatement","start":12805,"end":12953,"loc":{"start":{"line":292,"column":16},"end":{"line":294,"column":5}},"body":[{"type":"ThrowStatement","start":12815,"end":12947,"loc":{"start":{"line":293,"column":8},"end":{"line":293,"column":140}},"argument":{"type":"NewExpression","start":12821,"end":12946,"loc":{"start":{"line":293,"column":14},"end":{"line":293,"column":139}},"callee":{"type":"Identifier","start":12825,"end":12830,"loc":{"start":{"line":293,"column":18},"end":{"line":293,"column":23}},"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":12831,"end":12945,"loc":{"start":{"line":293,"column":24},"end":{"line":293,"column":138}},"expressions":[{"type":"MemberExpression","start":12848,"end":12873,"loc":{"start":{"line":293,"column":41},"end":{"line":293,"column":66}},"object":{"type":"Identifier","start":12848,"end":12864,"loc":{"start":{"line":293,"column":41},"end":{"line":293,"column":57}},"name":"companionOptions"},"property":{"type":"Identifier","start":12865,"end":12873,"loc":{"start":{"line":293,"column":58},"end":{"line":293,"column":66}},"name":"filePath"},"computed":false}],"quasis":[{"type":"TemplateElement","start":12832,"end":12846,"loc":{"start":{"line":293,"column":25},"end":{"line":293,"column":39}},"value":{"raw":"No access to \"","cooked":"No access to \""},"tail":false},{"type":"TemplateElement","start":12874,"end":12944,"loc":{"start":{"line":293,"column":67},"end":{"line":293,"column":137}},"value":{"raw":"\". Please ensure the directory exists and with read/write permissions.","cooked":"\". Please ensure the directory exists and with read/write permissions."},"tail":true}]}]}}]}},"finalizer":null}]}}}],"kind":"const"}],"sourceType":"module"}