{"type":"Program","start":0,"end":402,"loc":{"start":{"line":1,"column":0},"end":{"line":18,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":31,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"declarations":[{"type":"VariableDeclarator","start":6,"end":30,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":30}},"id":{"type":"Identifier","start":6,"end":11,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":11}},"name":"redis"},"init":{"type":"CallExpression","start":14,"end":30,"loc":{"start":{"line":1,"column":14},"end":{"line":1,"column":30}},"callee":{"type":"Identifier","start":14,"end":21,"loc":{"start":{"line":1,"column":14},"end":{"line":1,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":22,"end":29,"loc":{"start":{"line":1,"column":22},"end":{"line":1,"column":29}},"value":"redis","raw":"'redis'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":32,"end":48,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":16}},"declarations":[{"type":"VariableDeclarator","start":36,"end":47,"loc":{"start":{"line":2,"column":4},"end":{"line":2,"column":15}},"id":{"type":"Identifier","start":36,"end":47,"loc":{"start":{"line":2,"column":4},"end":{"line":2,"column":15}},"name":"redisClient"},"init":null}],"kind":"let"},{"type":"ExpressionStatement","start":210,"end":401,"loc":{"start":{"line":9,"column":0},"end":{"line":17,"column":2}},"expression":{"type":"AssignmentExpression","start":210,"end":400,"loc":{"start":{"line":9,"column":0},"end":{"line":17,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":210,"end":231,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":21}},"object":{"type":"MemberExpression","start":210,"end":224,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":14}},"object":{"type":"Identifier","start":210,"end":216,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":6}},"name":"module"},"property":{"type":"Identifier","start":217,"end":224,"loc":{"start":{"line":9,"column":7},"end":{"line":9,"column":14}},"name":"exports"},"computed":false},"property":{"type":"Identifier","start":225,"end":231,"loc":{"start":{"line":9,"column":15},"end":{"line":9,"column":21}},"name":"client"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":234,"end":400,"loc":{"start":{"line":9,"column":24},"end":{"line":17,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":235,"end":239,"loc":{"start":{"line":9,"column":25},"end":{"line":9,"column":29}},"name":"opts"}],"body":{"type":"BlockStatement","start":244,"end":400,"loc":{"start":{"line":9,"column":34},"end":{"line":17,"column":1}},"body":[{"type":"IfStatement","start":250,"end":296,"loc":{"start":{"line":10,"column":4},"end":{"line":12,"column":5}},"test":{"type":"UnaryExpression","start":254,"end":259,"loc":{"start":{"line":10,"column":8},"end":{"line":10,"column":13}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":255,"end":259,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":13}},"name":"opts"}},"consequent":{"type":"BlockStatement","start":261,"end":296,"loc":{"start":{"line":10,"column":15},"end":{"line":12,"column":5}},"body":[{"type":"ReturnStatement","start":271,"end":290,"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":27}},"argument":{"type":"Identifier","start":278,"end":289,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":26}},"name":"redisClient"}}]},"alternate":null},{"type":"IfStatement","start":301,"end":374,"loc":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"test":{"type":"UnaryExpression","start":305,"end":317,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":20}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":306,"end":317,"loc":{"start":{"line":13,"column":9},"end":{"line":13,"column":20}},"name":"redisClient"}},"consequent":{"type":"BlockStatement","start":319,"end":374,"loc":{"start":{"line":13,"column":22},"end":{"line":15,"column":5}},"body":[{"type":"ExpressionStatement","start":329,"end":368,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":47}},"expression":{"type":"AssignmentExpression","start":329,"end":367,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":46}},"operator":"=","left":{"type":"Identifier","start":329,"end":340,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":19}},"name":"redisClient"},"right":{"type":"CallExpression","start":343,"end":367,"loc":{"start":{"line":14,"column":22},"end":{"line":14,"column":46}},"callee":{"type":"MemberExpression","start":343,"end":361,"loc":{"start":{"line":14,"column":22},"end":{"line":14,"column":40}},"object":{"type":"Identifier","start":343,"end":348,"loc":{"start":{"line":14,"column":22},"end":{"line":14,"column":27}},"name":"redis"},"property":{"type":"Identifier","start":349,"end":361,"loc":{"start":{"line":14,"column":28},"end":{"line":14,"column":40}},"name":"createClient"},"computed":false},"arguments":[{"type":"Identifier","start":362,"end":366,"loc":{"start":{"line":14,"column":41},"end":{"line":14,"column":45}},"name":"opts"}]}}}]},"alternate":null},{"type":"ReturnStatement","start":379,"end":398,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":23}},"argument":{"type":"Identifier","start":386,"end":397,"loc":{"start":{"line":16,"column":11},"end":{"line":16,"column":22}},"name":"redisClient"}}]}}},"comments":[{"type":"Block","value":"*\n * A Singleton module that provides only on redis client through out\n * the lifetime of the server\n *\n * @param {object=} opts node-redis client options\n ","start":49,"end":209,"loc":{"start":{"line":3,"column":0},"end":{"line":8,"column":3}}}]}],"sourceType":"script"}