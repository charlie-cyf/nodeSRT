{"type":"Program","start":0,"end":1729,"body":[{"type":"VariableDeclaration","start":14,"end":55,"declarations":[{"type":"VariableDeclarator","start":20,"end":54,"id":{"type":"Identifier","start":20,"end":23,"name":"NRP"},"init":{"type":"CallExpression","start":26,"end":54,"callee":{"type":"Identifier","start":26,"end":33,"name":"require"},"arguments":[{"type":"Literal","start":34,"end":53,"value":"node-redis-pubsub","raw":"'node-redis-pubsub'"}]}}],"kind":"const"},{"type":"ClassDeclaration","start":262,"end":1653,"id":{"type":"Identifier","start":268,"end":280,"name":"RedisEmitter"},"superClass":{"type":"Identifier","start":289,"end":292,"name":"NRP"},"body":{"type":"ClassBody","start":293,"end":1653,"body":[{"type":"MethodDefinition","start":364,"end":449,"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":364,"end":375,"name":"constructor"},"value":{"type":"FunctionExpression","start":375,"end":449,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":376,"end":384,"name":"redisUrl"}],"body":{"type":"BlockStatement","start":386,"end":449,"body":[{"type":"ExpressionStatement","start":418,"end":443,"expression":{"type":"CallExpression","start":418,"end":442,"callee":{"type":"Super","start":418,"end":423},"arguments":[{"type":"ObjectExpression","start":424,"end":441,"properties":[{"type":"Property","start":426,"end":439,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":426,"end":429,"name":"url"},"value":{"type":"Identifier","start":431,"end":439,"name":"redisUrl"},"kind":"init"}]}]}}]}}},{"type":"MethodDefinition","start":615,"end":784,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":615,"end":619,"name":"once"},"value":{"type":"FunctionExpression","start":619,"end":784,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":620,"end":629,"name":"eventName"},{"type":"Identifier","start":631,"end":638,"name":"handler"}],"body":{"type":"BlockStatement","start":640,"end":784,"body":[{"type":"VariableDeclaration","start":650,"end":778,"declarations":[{"type":"VariableDeclarator","start":656,"end":777,"id":{"type":"Identifier","start":656,"end":670,"name":"removeListener"},"init":{"type":"CallExpression","start":673,"end":777,"callee":{"type":"MemberExpression","start":673,"end":680,"object":{"type":"ThisExpression","start":673,"end":677},"property":{"type":"Identifier","start":678,"end":680,"name":"on"},"computed":false},"arguments":[{"type":"Identifier","start":681,"end":690,"name":"eventName"},{"type":"ArrowFunctionExpression","start":692,"end":776,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":693,"end":700,"name":"message"}],"body":{"type":"BlockStatement","start":705,"end":776,"body":[{"type":"ExpressionStatement","start":719,"end":736,"expression":{"type":"CallExpression","start":719,"end":735,"callee":{"type":"Identifier","start":719,"end":726,"name":"handler"},"arguments":[{"type":"Identifier","start":727,"end":734,"name":"message"}]}},{"type":"ExpressionStatement","start":749,"end":766,"expression":{"type":"CallExpression","start":749,"end":765,"callee":{"type":"Identifier","start":749,"end":763,"name":"removeListener"},"arguments":[]}}]}}]}}],"kind":"const"}]}}},{"type":"MethodDefinition","start":970,"end":1055,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":970,"end":974,"name":"emit"},"value":{"type":"FunctionExpression","start":974,"end":1055,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":975,"end":984,"name":"eventName"},{"type":"Identifier","start":986,"end":993,"name":"message"}],"body":{"type":"BlockStatement","start":995,"end":1055,"body":[{"type":"ReturnStatement","start":1005,"end":1049,"argument":{"type":"CallExpression","start":1012,"end":1048,"callee":{"type":"MemberExpression","start":1012,"end":1022,"object":{"type":"Super","start":1012,"end":1017},"property":{"type":"Identifier","start":1018,"end":1022,"name":"emit"},"computed":false},"arguments":[{"type":"Identifier","start":1023,"end":1032,"name":"eventName"},{"type":"LogicalExpression","start":1034,"end":1047,"left":{"type":"Identifier","start":1034,"end":1041,"name":"message"},"operator":"||","right":{"type":"ObjectExpression","start":1045,"end":1047,"properties":[]}}]}}]}}},{"type":"MethodDefinition","start":1227,"end":1388,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1227,"end":1241,"name":"removeListener"},"value":{"type":"FunctionExpression","start":1241,"end":1388,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1242,"end":1251,"name":"eventName"},{"type":"Identifier","start":1253,"end":1260,"name":"handler"}],"body":{"type":"BlockStatement","start":1262,"end":1388,"body":[{"type":"ExpressionStatement","start":1272,"end":1321,"expression":{"type":"CallExpression","start":1272,"end":1320,"callee":{"type":"MemberExpression","start":1272,"end":1300,"object":{"type":"MemberExpression","start":1272,"end":1285,"object":{"type":"ThisExpression","start":1272,"end":1276},"property":{"type":"Identifier","start":1277,"end":1285,"name":"receiver"},"computed":false},"property":{"type":"Identifier","start":1286,"end":1300,"name":"removeListener"},"computed":false},"arguments":[{"type":"Identifier","start":1301,"end":1310,"name":"eventName"},{"type":"Identifier","start":1312,"end":1319,"name":"handler"}]}},{"type":"ExpressionStatement","start":1330,"end":1382,"expression":{"type":"CallExpression","start":1330,"end":1381,"callee":{"type":"MemberExpression","start":1330,"end":1356,"object":{"type":"MemberExpression","start":1330,"end":1343,"object":{"type":"ThisExpression","start":1330,"end":1334},"property":{"type":"Identifier","start":1335,"end":1343,"name":"receiver"},"computed":false},"property":{"type":"Identifier","start":1344,"end":1356,"name":"punsubscribe"},"computed":false},"arguments":[{"type":"BinaryExpression","start":1357,"end":1380,"left":{"type":"MemberExpression","start":1357,"end":1368,"object":{"type":"ThisExpression","start":1357,"end":1361},"property":{"type":"Identifier","start":1362,"end":1368,"name":"prefix"},"computed":false},"operator":"+","right":{"type":"Identifier","start":1371,"end":1380,"name":"eventName"}}]}}]}}},{"type":"MethodDefinition","start":1500,"end":1651,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1500,"end":1518,"name":"removeAllListeners"},"value":{"type":"FunctionExpression","start":1518,"end":1651,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1519,"end":1528,"name":"eventName"}],"body":{"type":"BlockStatement","start":1530,"end":1651,"body":[{"type":"ExpressionStatement","start":1540,"end":1584,"expression":{"type":"CallExpression","start":1540,"end":1583,"callee":{"type":"MemberExpression","start":1540,"end":1572,"object":{"type":"MemberExpression","start":1540,"end":1553,"object":{"type":"ThisExpression","start":1540,"end":1544},"property":{"type":"Identifier","start":1545,"end":1553,"name":"receiver"},"computed":false},"property":{"type":"Identifier","start":1554,"end":1572,"name":"removeAllListeners"},"computed":false},"arguments":[{"type":"Identifier","start":1573,"end":1582,"name":"eventName"}]}},{"type":"ExpressionStatement","start":1593,"end":1645,"expression":{"type":"CallExpression","start":1593,"end":1644,"callee":{"type":"MemberExpression","start":1593,"end":1619,"object":{"type":"MemberExpression","start":1593,"end":1606,"object":{"type":"ThisExpression","start":1593,"end":1597},"property":{"type":"Identifier","start":1598,"end":1606,"name":"receiver"},"computed":false},"property":{"type":"Identifier","start":1607,"end":1619,"name":"punsubscribe"},"computed":false},"arguments":[{"type":"BinaryExpression","start":1620,"end":1643,"left":{"type":"MemberExpression","start":1620,"end":1631,"object":{"type":"ThisExpression","start":1620,"end":1624},"property":{"type":"Identifier","start":1625,"end":1631,"name":"prefix"},"computed":false},"operator":"+","right":{"type":"Identifier","start":1634,"end":1643,"name":"eventName"}}]}}]}}}]}},{"type":"ExpressionStatement","start":1654,"end":1728,"expression":{"type":"AssignmentExpression","start":1654,"end":1727,"operator":"=","left":{"type":"MemberExpression","start":1654,"end":1668,"object":{"type":"Identifier","start":1654,"end":1660,"name":"module"},"property":{"type":"Identifier","start":1661,"end":1668,"name":"exports"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1671,"end":1727,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1672,"end":1680,"name":"redisUrl"}],"body":{"type":"BlockStatement","start":1685,"end":1727,"body":[{"type":"ReturnStatement","start":1691,"end":1725,"argument":{"type":"NewExpression","start":1698,"end":1724,"callee":{"type":"Identifier","start":1702,"end":1714,"name":"RedisEmitter"},"arguments":[{"type":"Identifier","start":1715,"end":1723,"name":"redisUrl"}]}}]}}}}],"sourceType":"script"}