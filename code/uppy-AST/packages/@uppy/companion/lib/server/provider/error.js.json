{"type":"Program","start":0,"end":1600,"loc":{"start":{"line":1,"column":0},"end":{"line":48,"column":0}},"body":[{"type":"ClassDeclaration","start":142,"end":501,"loc":{"start":{"line":5,"column":0},"end":{"line":16,"column":1}},"id":{"type":"Identifier","start":148,"end":164,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":22}},"name":"ProviderApiError"},"superClass":{"type":"Identifier","start":173,"end":178,"loc":{"start":{"line":5,"column":31},"end":{"line":5,"column":36}},"name":"Error"},"body":{"type":"ClassBody","start":179,"end":501,"loc":{"start":{"line":5,"column":37},"end":{"line":16,"column":1}},"body":[{"type":"MethodDefinition","start":323,"end":499,"loc":{"start":{"line":10,"column":4},"end":{"line":15,"column":5}},"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":323,"end":334,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":15}},"name":"constructor"},"value":{"type":"FunctionExpression","start":334,"end":499,"loc":{"start":{"line":10,"column":15},"end":{"line":15,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":335,"end":342,"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":23}},"name":"message"},{"type":"Identifier","start":344,"end":354,"loc":{"start":{"line":10,"column":25},"end":{"line":10,"column":35}},"name":"statusCode"}],"body":{"type":"BlockStatement","start":356,"end":499,"loc":{"start":{"line":10,"column":37},"end":{"line":15,"column":5}},"body":[{"type":"ExpressionStatement","start":366,"end":381,"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":23}},"expression":{"type":"CallExpression","start":366,"end":380,"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":22}},"callee":{"type":"Super","start":366,"end":371,"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":13}}},"arguments":[{"type":"Identifier","start":372,"end":379,"loc":{"start":{"line":11,"column":14},"end":{"line":11,"column":21}},"name":"message"}]}},{"type":"ExpressionStatement","start":390,"end":421,"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":39}},"expression":{"type":"AssignmentExpression","start":390,"end":420,"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":38}},"operator":"=","left":{"type":"MemberExpression","start":390,"end":399,"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":17}},"object":{"type":"ThisExpression","start":390,"end":394,"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":12}}},"property":{"type":"Identifier","start":395,"end":399,"loc":{"start":{"line":12,"column":13},"end":{"line":12,"column":17}},"name":"name"},"computed":false},"right":{"type":"Literal","start":402,"end":420,"loc":{"start":{"line":12,"column":20},"end":{"line":12,"column":38}},"value":"ProviderApiError","raw":"'ProviderApiError'"}}},{"type":"ExpressionStatement","start":430,"end":459,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":37}},"expression":{"type":"AssignmentExpression","start":430,"end":458,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":36}},"operator":"=","left":{"type":"MemberExpression","start":430,"end":445,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":23}},"object":{"type":"ThisExpression","start":430,"end":434,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":12}}},"property":{"type":"Identifier","start":435,"end":445,"loc":{"start":{"line":13,"column":13},"end":{"line":13,"column":23}},"name":"statusCode"},"computed":false},"right":{"type":"Identifier","start":448,"end":458,"loc":{"start":{"line":13,"column":26},"end":{"line":13,"column":36}},"name":"statusCode"}}},{"type":"ExpressionStatement","start":468,"end":493,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":33}},"expression":{"type":"AssignmentExpression","start":468,"end":492,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":32}},"operator":"=","left":{"type":"MemberExpression","start":468,"end":484,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":24}},"object":{"type":"ThisExpression","start":468,"end":472,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":12}}},"property":{"type":"Identifier","start":473,"end":484,"loc":{"start":{"line":14,"column":13},"end":{"line":14,"column":24}},"name":"isAuthError"},"computed":false},"right":{"type":"Literal","start":487,"end":492,"loc":{"start":{"line":14,"column":27},"end":{"line":14,"column":32}},"value":false,"raw":"false"}}}],"comments":[{"type":"Block","value":"*\n     * @param {string} message error message\n     * @param {number} statusCode the http status code from the provider api\n     ","start":185,"end":318,"loc":{"start":{"line":6,"column":4},"end":{"line":9,"column":7}}}]}}}]}},{"type":"ClassDeclaration","start":646,"end":855,"loc":{"start":{"line":21,"column":0},"end":{"line":27,"column":1}},"id":{"type":"Identifier","start":652,"end":669,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":23}},"name":"ProviderAuthError"},"superClass":{"type":"Identifier","start":678,"end":694,"loc":{"start":{"line":21,"column":32},"end":{"line":21,"column":48}},"name":"ProviderApiError"},"body":{"type":"ClassBody","start":695,"end":855,"loc":{"start":{"line":21,"column":49},"end":{"line":27,"column":1}},"body":[{"type":"MethodDefinition","start":701,"end":853,"loc":{"start":{"line":22,"column":4},"end":{"line":26,"column":5}},"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":701,"end":712,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":15}},"name":"constructor"},"value":{"type":"FunctionExpression","start":712,"end":853,"loc":{"start":{"line":22,"column":15},"end":{"line":26,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":715,"end":853,"loc":{"start":{"line":22,"column":18},"end":{"line":26,"column":5}},"body":[{"type":"ExpressionStatement","start":725,"end":781,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":64}},"expression":{"type":"CallExpression","start":725,"end":780,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":63}},"callee":{"type":"Super","start":725,"end":730,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":13}}},"arguments":[{"type":"Literal","start":731,"end":774,"loc":{"start":{"line":23,"column":14},"end":{"line":23,"column":57}},"value":"invalid access token detected by Provider","raw":"'invalid access token detected by Provider'"},{"type":"Literal","start":776,"end":779,"loc":{"start":{"line":23,"column":59},"end":{"line":23,"column":62}},"value":401,"raw":"401"}]}},{"type":"ExpressionStatement","start":790,"end":814,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":32}},"expression":{"type":"AssignmentExpression","start":790,"end":813,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":31}},"operator":"=","left":{"type":"MemberExpression","start":790,"end":799,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":17}},"object":{"type":"ThisExpression","start":790,"end":794,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":12}}},"property":{"type":"Identifier","start":795,"end":799,"loc":{"start":{"line":24,"column":13},"end":{"line":24,"column":17}},"name":"name"},"computed":false},"right":{"type":"Literal","start":802,"end":813,"loc":{"start":{"line":24,"column":20},"end":{"line":24,"column":31}},"value":"AuthError","raw":"'AuthError'"}}},{"type":"ExpressionStatement","start":823,"end":847,"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":32}},"expression":{"type":"AssignmentExpression","start":823,"end":846,"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":31}},"operator":"=","left":{"type":"MemberExpression","start":823,"end":839,"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":24}},"object":{"type":"ThisExpression","start":823,"end":827,"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":12}}},"property":{"type":"Identifier","start":828,"end":839,"loc":{"start":{"line":25,"column":13},"end":{"line":25,"column":24}},"name":"isAuthError"},"computed":false},"right":{"type":"Literal","start":842,"end":846,"loc":{"start":{"line":25,"column":27},"end":{"line":25,"column":31}},"value":true,"raw":"true"}}}]}}}]},"comments":[{"type":"Block","value":"*\n * AuthError is error returned when an adapter encounters\n * an authorization error while communication with its corresponding provider\n ","start":502,"end":645,"loc":{"start":{"line":17,"column":0},"end":{"line":20,"column":3}}}]},{"type":"FunctionDeclaration","start":1021,"end":1524,"loc":{"start":{"line":32,"column":0},"end":{"line":46,"column":1}},"id":{"type":"Identifier","start":1030,"end":1045,"loc":{"start":{"line":32,"column":9},"end":{"line":32,"column":24}},"name":"errorToResponse"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1046,"end":1049,"loc":{"start":{"line":32,"column":25},"end":{"line":32,"column":28}},"name":"err"}],"body":{"type":"BlockStatement","start":1051,"end":1524,"loc":{"start":{"line":32,"column":30},"end":{"line":46,"column":1}},"body":[{"type":"IfStatement","start":1057,"end":1173,"loc":{"start":{"line":33,"column":4},"end":{"line":35,"column":5}},"test":{"type":"LogicalExpression","start":1061,"end":1112,"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":59}},"left":{"type":"BinaryExpression","start":1061,"end":1093,"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":40}},"left":{"type":"Identifier","start":1061,"end":1064,"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":11}},"name":"err"},"operator":"instanceof","right":{"type":"Identifier","start":1076,"end":1093,"loc":{"start":{"line":33,"column":23},"end":{"line":33,"column":40}},"name":"ProviderAuthError"}},"operator":"&&","right":{"type":"MemberExpression","start":1097,"end":1112,"loc":{"start":{"line":33,"column":44},"end":{"line":33,"column":59}},"object":{"type":"Identifier","start":1097,"end":1100,"loc":{"start":{"line":33,"column":44},"end":{"line":33,"column":47}},"name":"err"},"property":{"type":"Identifier","start":1101,"end":1112,"loc":{"start":{"line":33,"column":48},"end":{"line":33,"column":59}},"name":"isAuthError"},"computed":false}},"consequent":{"type":"BlockStatement","start":1114,"end":1173,"loc":{"start":{"line":33,"column":61},"end":{"line":35,"column":5}},"body":[{"type":"ReturnStatement","start":1124,"end":1167,"loc":{"start":{"line":34,"column":8},"end":{"line":34,"column":51}},"argument":{"type":"ObjectExpression","start":1131,"end":1166,"loc":{"start":{"line":34,"column":15},"end":{"line":34,"column":50}},"properties":[{"type":"Property","start":1133,"end":1142,"loc":{"start":{"line":34,"column":17},"end":{"line":34,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1133,"end":1137,"loc":{"start":{"line":34,"column":17},"end":{"line":34,"column":21}},"name":"code"},"value":{"type":"Literal","start":1139,"end":1142,"loc":{"start":{"line":34,"column":23},"end":{"line":34,"column":26}},"value":401,"raw":"401"},"kind":"init"},{"type":"Property","start":1144,"end":1164,"loc":{"start":{"line":34,"column":28},"end":{"line":34,"column":48}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1144,"end":1151,"loc":{"start":{"line":34,"column":28},"end":{"line":34,"column":35}},"name":"message"},"value":{"type":"MemberExpression","start":1153,"end":1164,"loc":{"start":{"line":34,"column":37},"end":{"line":34,"column":48}},"object":{"type":"Identifier","start":1153,"end":1156,"loc":{"start":{"line":34,"column":37},"end":{"line":34,"column":40}},"name":"err"},"property":{"type":"Identifier","start":1157,"end":1164,"loc":{"start":{"line":34,"column":41},"end":{"line":34,"column":48}},"name":"message"},"computed":false},"kind":"init"}]}}]},"alternate":null},{"type":"IfStatement","start":1178,"end":1522,"loc":{"start":{"line":36,"column":4},"end":{"line":45,"column":5}},"test":{"type":"BinaryExpression","start":1182,"end":1213,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":39}},"left":{"type":"Identifier","start":1182,"end":1185,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":11}},"name":"err"},"operator":"instanceof","right":{"type":"Identifier","start":1197,"end":1213,"loc":{"start":{"line":36,"column":23},"end":{"line":36,"column":39}},"name":"ProviderApiError"}},"consequent":{"type":"BlockStatement","start":1215,"end":1522,"loc":{"start":{"line":36,"column":41},"end":{"line":45,"column":5}},"body":[{"type":"IfStatement","start":1225,"end":1376,"loc":{"start":{"line":37,"column":8},"end":{"line":40,"column":9}},"test":{"type":"BinaryExpression","start":1229,"end":1250,"loc":{"start":{"line":37,"column":12},"end":{"line":37,"column":33}},"left":{"type":"MemberExpression","start":1229,"end":1243,"loc":{"start":{"line":37,"column":12},"end":{"line":37,"column":26}},"object":{"type":"Identifier","start":1229,"end":1232,"loc":{"start":{"line":37,"column":12},"end":{"line":37,"column":15}},"name":"err"},"property":{"type":"Identifier","start":1233,"end":1243,"loc":{"start":{"line":37,"column":16},"end":{"line":37,"column":26}},"name":"statusCode"},"computed":false},"operator":">=","right":{"type":"Literal","start":1247,"end":1250,"loc":{"start":{"line":37,"column":30},"end":{"line":37,"column":33}},"value":500,"raw":"500"}},"consequent":{"type":"BlockStatement","start":1252,"end":1376,"loc":{"start":{"line":37,"column":35},"end":{"line":40,"column":9}},"body":[{"type":"ReturnStatement","start":1323,"end":1366,"loc":{"start":{"line":39,"column":12},"end":{"line":39,"column":55}},"argument":{"type":"ObjectExpression","start":1330,"end":1365,"loc":{"start":{"line":39,"column":19},"end":{"line":39,"column":54}},"properties":[{"type":"Property","start":1332,"end":1341,"loc":{"start":{"line":39,"column":21},"end":{"line":39,"column":30}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1332,"end":1336,"loc":{"start":{"line":39,"column":21},"end":{"line":39,"column":25}},"name":"code"},"value":{"type":"Literal","start":1338,"end":1341,"loc":{"start":{"line":39,"column":27},"end":{"line":39,"column":30}},"value":502,"raw":"502"},"kind":"init"},{"type":"Property","start":1343,"end":1363,"loc":{"start":{"line":39,"column":32},"end":{"line":39,"column":52}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1343,"end":1350,"loc":{"start":{"line":39,"column":32},"end":{"line":39,"column":39}},"name":"message"},"value":{"type":"MemberExpression","start":1352,"end":1363,"loc":{"start":{"line":39,"column":41},"end":{"line":39,"column":52}},"object":{"type":"Identifier","start":1352,"end":1355,"loc":{"start":{"line":39,"column":41},"end":{"line":39,"column":44}},"name":"err"},"property":{"type":"Identifier","start":1356,"end":1363,"loc":{"start":{"line":39,"column":45},"end":{"line":39,"column":52}},"name":"message"},"computed":false},"kind":"init"}]},"comments":[{"type":"Line","value":" bad gateway i.e the provider APIs gateway","start":1266,"end":1310,"loc":{"start":{"line":38,"column":12},"end":{"line":38,"column":56}}}]}]},"alternate":null},{"type":"IfStatement","start":1385,"end":1516,"loc":{"start":{"line":41,"column":8},"end":{"line":44,"column":9}},"test":{"type":"BinaryExpression","start":1389,"end":1410,"loc":{"start":{"line":41,"column":12},"end":{"line":41,"column":33}},"left":{"type":"MemberExpression","start":1389,"end":1403,"loc":{"start":{"line":41,"column":12},"end":{"line":41,"column":26}},"object":{"type":"Identifier","start":1389,"end":1392,"loc":{"start":{"line":41,"column":12},"end":{"line":41,"column":15}},"name":"err"},"property":{"type":"Identifier","start":1393,"end":1403,"loc":{"start":{"line":41,"column":16},"end":{"line":41,"column":26}},"name":"statusCode"},"computed":false},"operator":">=","right":{"type":"Literal","start":1407,"end":1410,"loc":{"start":{"line":41,"column":30},"end":{"line":41,"column":33}},"value":400,"raw":"400"}},"consequent":{"type":"BlockStatement","start":1412,"end":1516,"loc":{"start":{"line":41,"column":35},"end":{"line":44,"column":9}},"body":[{"type":"ReturnStatement","start":1463,"end":1506,"loc":{"start":{"line":43,"column":12},"end":{"line":43,"column":55}},"argument":{"type":"ObjectExpression","start":1470,"end":1505,"loc":{"start":{"line":43,"column":19},"end":{"line":43,"column":54}},"properties":[{"type":"Property","start":1472,"end":1481,"loc":{"start":{"line":43,"column":21},"end":{"line":43,"column":30}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1472,"end":1476,"loc":{"start":{"line":43,"column":21},"end":{"line":43,"column":25}},"name":"code"},"value":{"type":"Literal","start":1478,"end":1481,"loc":{"start":{"line":43,"column":27},"end":{"line":43,"column":30}},"value":424,"raw":"424"},"kind":"init"},{"type":"Property","start":1483,"end":1503,"loc":{"start":{"line":43,"column":32},"end":{"line":43,"column":52}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1483,"end":1490,"loc":{"start":{"line":43,"column":32},"end":{"line":43,"column":39}},"name":"message"},"value":{"type":"MemberExpression","start":1492,"end":1503,"loc":{"start":{"line":43,"column":41},"end":{"line":43,"column":52}},"object":{"type":"Identifier","start":1492,"end":1495,"loc":{"start":{"line":43,"column":41},"end":{"line":43,"column":44}},"name":"err"},"property":{"type":"Identifier","start":1496,"end":1503,"loc":{"start":{"line":43,"column":45},"end":{"line":43,"column":52}},"name":"message"},"computed":false},"kind":"init"}]},"comments":[{"type":"Line","value":" 424 Failed Dependency","start":1426,"end":1450,"loc":{"start":{"line":42,"column":12},"end":{"line":42,"column":36}}}]}]},"alternate":null}]},"alternate":null}]},"comments":[{"type":"Block","value":"*\n * Convert an error instance to an http response if possible\n * @param {Error | ProviderApiError} err the error instance to convert to an http json response\n ","start":856,"end":1020,"loc":{"start":{"line":28,"column":0},"end":{"line":31,"column":3}}}]},{"type":"ExpressionStatement","start":1525,"end":1599,"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":74}},"expression":{"type":"AssignmentExpression","start":1525,"end":1598,"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":73}},"operator":"=","left":{"type":"MemberExpression","start":1525,"end":1539,"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":14}},"object":{"type":"Identifier","start":1525,"end":1531,"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":6}},"name":"module"},"property":{"type":"Identifier","start":1532,"end":1539,"loc":{"start":{"line":47,"column":7},"end":{"line":47,"column":14}},"name":"exports"},"computed":false},"right":{"type":"ObjectExpression","start":1542,"end":1598,"loc":{"start":{"line":47,"column":17},"end":{"line":47,"column":73}},"properties":[{"type":"Property","start":1544,"end":1561,"loc":{"start":{"line":47,"column":19},"end":{"line":47,"column":36}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1544,"end":1561,"loc":{"start":{"line":47,"column":19},"end":{"line":47,"column":36}},"name":"ProviderAuthError"},"kind":"init","value":{"type":"Identifier","start":1544,"end":1561,"loc":{"start":{"line":47,"column":19},"end":{"line":47,"column":36}},"name":"ProviderAuthError"}},{"type":"Property","start":1563,"end":1579,"loc":{"start":{"line":47,"column":38},"end":{"line":47,"column":54}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1563,"end":1579,"loc":{"start":{"line":47,"column":38},"end":{"line":47,"column":54}},"name":"ProviderApiError"},"kind":"init","value":{"type":"Identifier","start":1563,"end":1579,"loc":{"start":{"line":47,"column":38},"end":{"line":47,"column":54}},"name":"ProviderApiError"}},{"type":"Property","start":1581,"end":1596,"loc":{"start":{"line":47,"column":56},"end":{"line":47,"column":71}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1581,"end":1596,"loc":{"start":{"line":47,"column":56},"end":{"line":47,"column":71}},"name":"errorToResponse"},"kind":"init","value":{"type":"Identifier","start":1581,"end":1596,"loc":{"start":{"line":47,"column":56},"end":{"line":47,"column":71}},"name":"errorToResponse"}}]}}}],"sourceType":"script","comments":[{"type":"Block","value":"*\n * ProviderApiError is error returned when an adapter encounters\n * an http error while communication with its corresponding provider\n ","start":0,"end":141,"loc":{"start":{"line":1,"column":0},"end":{"line":4,"column":3}}}]}