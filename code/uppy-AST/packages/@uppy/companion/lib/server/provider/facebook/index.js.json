{"type":"Program","start":0,"end":6096,"body":[{"type":"VariableDeclaration","start":0,"end":40,"declarations":[{"type":"VariableDeclarator","start":6,"end":39,"id":{"type":"Identifier","start":6,"end":14,"name":"Provider"},"init":{"type":"CallExpression","start":17,"end":39,"callee":{"type":"Identifier","start":17,"end":24,"name":"require"},"arguments":[{"type":"Literal","start":25,"end":38,"value":"../Provider","raw":"'../Provider'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":41,"end":76,"declarations":[{"type":"VariableDeclarator","start":47,"end":75,"id":{"type":"Identifier","start":47,"end":54,"name":"request"},"init":{"type":"CallExpression","start":57,"end":75,"callee":{"type":"Identifier","start":57,"end":64,"name":"require"},"arguments":[{"type":"Literal","start":65,"end":74,"value":"request","raw":"'request'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":77,"end":123,"declarations":[{"type":"VariableDeclarator","start":83,"end":122,"id":{"type":"Identifier","start":83,"end":89,"name":"purest"},"init":{"type":"CallExpression","start":92,"end":122,"callee":{"type":"CallExpression","start":92,"end":109,"callee":{"type":"Identifier","start":92,"end":99,"name":"require"},"arguments":[{"type":"Literal","start":100,"end":108,"value":"purest","raw":"'purest'"}]},"arguments":[{"type":"ObjectExpression","start":110,"end":121,"properties":[{"type":"Property","start":112,"end":119,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":112,"end":119,"name":"request"},"kind":"init","value":{"type":"Identifier","start":112,"end":119,"name":"request"}}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":124,"end":169,"declarations":[{"type":"VariableDeclarator","start":130,"end":168,"id":{"type":"Identifier","start":130,"end":135,"name":"utils"},"init":{"type":"CallExpression","start":138,"end":168,"callee":{"type":"Identifier","start":138,"end":145,"name":"require"},"arguments":[{"type":"Literal","start":146,"end":167,"value":"../../helpers/utils","raw":"'../../helpers/utils'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":170,"end":209,"declarations":[{"type":"VariableDeclarator","start":176,"end":208,"id":{"type":"Identifier","start":176,"end":182,"name":"logger"},"init":{"type":"CallExpression","start":185,"end":208,"callee":{"type":"Identifier","start":185,"end":192,"name":"require"},"arguments":[{"type":"Literal","start":193,"end":207,"value":"../../logger","raw":"'../../logger'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":210,"end":247,"declarations":[{"type":"VariableDeclarator","start":216,"end":246,"id":{"type":"Identifier","start":216,"end":223,"name":"adapter"},"init":{"type":"CallExpression","start":226,"end":246,"callee":{"type":"Identifier","start":226,"end":233,"name":"require"},"arguments":[{"type":"Literal","start":234,"end":245,"value":"./adapter","raw":"'./adapter'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":248,"end":316,"declarations":[{"type":"VariableDeclarator","start":254,"end":315,"id":{"type":"ObjectPattern","start":254,"end":293,"properties":[{"type":"Property","start":256,"end":272,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":256,"end":272,"name":"ProviderApiError"},"kind":"init","value":{"type":"Identifier","start":256,"end":272,"name":"ProviderApiError"}},{"type":"Property","start":274,"end":291,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":274,"end":291,"name":"ProviderAuthError"},"kind":"init","value":{"type":"Identifier","start":274,"end":291,"name":"ProviderAuthError"}}]},"init":{"type":"CallExpression","start":296,"end":315,"callee":{"type":"Identifier","start":296,"end":303,"name":"require"},"arguments":[{"type":"Literal","start":304,"end":314,"value":"../error","raw":"'../error'"}]}}],"kind":"const"},{"type":"ClassDeclaration","start":408,"end":6068,"id":{"type":"Identifier","start":414,"end":422,"name":"Facebook"},"superClass":{"type":"Identifier","start":431,"end":439,"name":"Provider"},"body":{"type":"ClassBody","start":440,"end":6068,"body":[{"type":"MethodDefinition","start":446,"end":607,"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":446,"end":457,"name":"constructor"},"value":{"type":"FunctionExpression","start":457,"end":607,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":458,"end":465,"name":"options"}],"body":{"type":"BlockStatement","start":467,"end":607,"body":[{"type":"ExpressionStatement","start":477,"end":492,"expression":{"type":"CallExpression","start":477,"end":491,"callee":{"type":"Super","start":477,"end":482},"arguments":[{"type":"Identifier","start":483,"end":490,"name":"options"}]}},{"type":"ExpressionStatement","start":501,"end":562,"expression":{"type":"AssignmentExpression","start":501,"end":561,"operator":"=","left":{"type":"MemberExpression","start":501,"end":518,"object":{"type":"ThisExpression","start":501,"end":505},"property":{"type":"Identifier","start":506,"end":518,"name":"authProvider"},"computed":false},"right":{"type":"AssignmentExpression","start":521,"end":561,"operator":"=","left":{"type":"MemberExpression","start":521,"end":537,"object":{"type":"Identifier","start":521,"end":528,"name":"options"},"property":{"type":"Identifier","start":529,"end":537,"name":"provider"},"computed":false},"right":{"type":"MemberExpression","start":540,"end":561,"object":{"type":"Identifier","start":540,"end":548,"name":"Facebook"},"property":{"type":"Identifier","start":549,"end":561,"name":"authProvider"},"computed":false}}}},{"type":"ExpressionStatement","start":571,"end":601,"expression":{"type":"AssignmentExpression","start":571,"end":600,"operator":"=","left":{"type":"MemberExpression","start":571,"end":582,"object":{"type":"ThisExpression","start":571,"end":575},"property":{"type":"Identifier","start":576,"end":582,"name":"client"},"computed":false},"right":{"type":"CallExpression","start":585,"end":600,"callee":{"type":"Identifier","start":585,"end":591,"name":"purest"},"arguments":[{"type":"Identifier","start":592,"end":599,"name":"options"}]}}}]}}},{"type":"MethodDefinition","start":612,"end":672,"kind":"get","static":true,"computed":false,"key":{"type":"Identifier","start":623,"end":635,"name":"authProvider"},"value":{"type":"FunctionExpression","start":635,"end":672,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":638,"end":672,"body":[{"type":"ReturnStatement","start":648,"end":666,"argument":{"type":"Literal","start":655,"end":665,"value":"facebook","raw":"'facebook'"}}]}}},{"type":"MethodDefinition","start":677,"end":1688,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":677,"end":681,"name":"list"},"value":{"type":"FunctionExpression","start":681,"end":1688,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":682,"end":728,"properties":[{"type":"Property","start":684,"end":693,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":684,"end":693,"name":"directory"},"kind":"init","value":{"type":"Identifier","start":684,"end":693,"name":"directory"}},{"type":"Property","start":695,"end":700,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":695,"end":700,"name":"token"},"kind":"init","value":{"type":"Identifier","start":695,"end":700,"name":"token"}},{"type":"Property","start":702,"end":726,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":702,"end":707,"name":"query"},"kind":"init","value":{"type":"AssignmentPattern","start":702,"end":726,"left":{"type":"Identifier","start":702,"end":707,"name":"query"},"right":{"type":"ObjectExpression","start":710,"end":726,"properties":[{"type":"Property","start":712,"end":724,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":712,"end":718,"name":"cursor"},"value":{"type":"Literal","start":720,"end":724,"value":null,"raw":"null"},"kind":"init"}]}}}]},{"type":"Identifier","start":730,"end":734,"name":"done"}],"body":{"type":"BlockStatement","start":736,"end":1688,"body":[{"type":"VariableDeclaration","start":746,"end":826,"declarations":[{"type":"VariableDeclarator","start":752,"end":825,"id":{"type":"Identifier","start":752,"end":754,"name":"qs"},"init":{"type":"ObjectExpression","start":757,"end":825,"properties":[{"type":"Property","start":771,"end":815,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":771,"end":777,"name":"fields"},"value":{"type":"Literal","start":779,"end":815,"value":"name,cover_photo,created_time,type","raw":"'name,cover_photo,created_time,type'"},"kind":"init"}]}}],"kind":"const"},{"type":"IfStatement","start":835,"end":901,"test":{"type":"MemberExpression","start":839,"end":851,"object":{"type":"Identifier","start":839,"end":844,"name":"query"},"property":{"type":"Identifier","start":845,"end":851,"name":"cursor"},"computed":false},"consequent":{"type":"BlockStatement","start":853,"end":901,"body":[{"type":"ExpressionStatement","start":867,"end":891,"expression":{"type":"AssignmentExpression","start":867,"end":890,"operator":"=","left":{"type":"MemberExpression","start":867,"end":875,"object":{"type":"Identifier","start":867,"end":869,"name":"qs"},"property":{"type":"Identifier","start":870,"end":875,"name":"after"},"computed":false},"right":{"type":"MemberExpression","start":878,"end":890,"object":{"type":"Identifier","start":878,"end":883,"name":"query"},"property":{"type":"Identifier","start":884,"end":890,"name":"cursor"},"computed":false}}}]},"alternate":null},{"type":"VariableDeclaration","start":910,"end":933,"declarations":[{"type":"VariableDeclarator","start":914,"end":932,"id":{"type":"Identifier","start":914,"end":918,"name":"path"},"init":{"type":"Literal","start":921,"end":932,"value":"me/albums","raw":"'me/albums'"}}],"kind":"let"},{"type":"IfStatement","start":942,"end":1080,"test":{"type":"Identifier","start":946,"end":955,"name":"directory"},"consequent":{"type":"BlockStatement","start":957,"end":1080,"body":[{"type":"ExpressionStatement","start":971,"end":1000,"expression":{"type":"AssignmentExpression","start":971,"end":999,"operator":"=","left":{"type":"Identifier","start":971,"end":975,"name":"path"},"right":{"type":"TemplateLiteral","start":978,"end":999,"expressions":[{"type":"Identifier","start":981,"end":990,"name":"directory"}],"quasis":[{"type":"TemplateElement","start":979,"end":979,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":991,"end":998,"value":{"raw":"/photos","cooked":"/photos"},"tail":true}]}}},{"type":"ExpressionStatement","start":1013,"end":1070,"expression":{"type":"AssignmentExpression","start":1013,"end":1069,"operator":"=","left":{"type":"MemberExpression","start":1013,"end":1022,"object":{"type":"Identifier","start":1013,"end":1015,"name":"qs"},"property":{"type":"Identifier","start":1016,"end":1022,"name":"fields"},"computed":false},"right":{"type":"Literal","start":1025,"end":1069,"value":"icon,images,name,width,height,created_time","raw":"'icon,images,name,width,height,created_time'"}}}]},"alternate":null},{"type":"ExpressionStatement","start":1089,"end":1682,"expression":{"type":"CallExpression","start":1089,"end":1681,"callee":{"type":"MemberExpression","start":1089,"end":1221,"object":{"type":"CallExpression","start":1089,"end":1200,"callee":{"type":"MemberExpression","start":1089,"end":1193,"object":{"type":"CallExpression","start":1089,"end":1175,"callee":{"type":"MemberExpression","start":1089,"end":1171,"object":{"type":"CallExpression","start":1089,"end":1155,"callee":{"type":"MemberExpression","start":1089,"end":1117,"object":{"type":"MemberExpression","start":1089,"end":1100,"object":{"type":"ThisExpression","start":1089,"end":1093},"property":{"type":"Identifier","start":1094,"end":1100,"name":"client"},"computed":false},"property":{"type":"Identifier","start":1114,"end":1117,"name":"get"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":1118,"end":1154,"expressions":[{"type":"Identifier","start":1148,"end":1152,"name":"path"}],"quasis":[{"type":"TemplateElement","start":1119,"end":1146,"value":{"raw":"https://graph.facebook.com/","cooked":"https://graph.facebook.com/"},"tail":false},{"type":"TemplateElement","start":1153,"end":1153,"value":{"raw":"","cooked":""},"tail":true}]}]},"property":{"type":"Identifier","start":1169,"end":1171,"name":"qs"},"computed":false},"arguments":[{"type":"Identifier","start":1172,"end":1174,"name":"qs"}]},"property":{"type":"Identifier","start":1189,"end":1193,"name":"auth"},"computed":false},"arguments":[{"type":"Identifier","start":1194,"end":1199,"name":"token"}]},"property":{"type":"Identifier","start":1214,"end":1221,"name":"request"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1222,"end":1680,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1223,"end":1226,"name":"err"},{"type":"Identifier","start":1228,"end":1232,"name":"resp"},{"type":"Identifier","start":1234,"end":1238,"name":"body"}],"body":{"type":"BlockStatement","start":1243,"end":1680,"body":[{"type":"IfStatement","start":1257,"end":1670,"test":{"type":"LogicalExpression","start":1261,"end":1291,"left":{"type":"Identifier","start":1261,"end":1264,"name":"err"},"operator":"||","right":{"type":"BinaryExpression","start":1268,"end":1291,"left":{"type":"MemberExpression","start":1268,"end":1283,"object":{"type":"Identifier","start":1268,"end":1272,"name":"resp"},"property":{"type":"Identifier","start":1273,"end":1283,"name":"statusCode"},"computed":false},"operator":"!==","right":{"type":"Literal","start":1288,"end":1291,"value":200,"raw":"200"}}},"consequent":{"type":"BlockStatement","start":1293,"end":1455,"body":[{"type":"ExpressionStatement","start":1311,"end":1340,"expression":{"type":"AssignmentExpression","start":1311,"end":1339,"operator":"=","left":{"type":"Identifier","start":1311,"end":1314,"name":"err"},"right":{"type":"CallExpression","start":1317,"end":1339,"callee":{"type":"MemberExpression","start":1317,"end":1328,"object":{"type":"ThisExpression","start":1317,"end":1321},"property":{"type":"Identifier","start":1322,"end":1328,"name":"_error"},"computed":false},"arguments":[{"type":"Identifier","start":1329,"end":1332,"name":"err"},{"type":"Identifier","start":1334,"end":1338,"name":"resp"}]}}},{"type":"ExpressionStatement","start":1357,"end":1407,"expression":{"type":"CallExpression","start":1357,"end":1406,"callee":{"type":"MemberExpression","start":1357,"end":1369,"object":{"type":"Identifier","start":1357,"end":1363,"name":"logger"},"property":{"type":"Identifier","start":1364,"end":1369,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":1370,"end":1373,"name":"err"},{"type":"Literal","start":1375,"end":1405,"value":"provider.facebook.list.error","raw":"'provider.facebook.list.error'"}]}},{"type":"ReturnStatement","start":1424,"end":1441,"argument":{"type":"CallExpression","start":1431,"end":1440,"callee":{"type":"Identifier","start":1431,"end":1435,"name":"done"},"arguments":[{"type":"Identifier","start":1436,"end":1439,"name":"err"}]}}]},"alternate":{"type":"BlockStatement","start":1473,"end":1670,"body":[{"type":"ExpressionStatement","start":1491,"end":1656,"expression":{"type":"CallExpression","start":1491,"end":1655,"callee":{"type":"MemberExpression","start":1491,"end":1508,"object":{"type":"ThisExpression","start":1491,"end":1495},"property":{"type":"Identifier","start":1496,"end":1508,"name":"_getUsername"},"computed":false},"arguments":[{"type":"Identifier","start":1509,"end":1514,"name":"token"},{"type":"ArrowFunctionExpression","start":1516,"end":1654,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1517,"end":1520,"name":"err"},{"type":"Identifier","start":1522,"end":1530,"name":"username"}],"body":{"type":"BlockStatement","start":1535,"end":1654,"body":[{"type":"ExpressionStatement","start":1557,"end":1636,"expression":{"type":"ConditionalExpression","start":1557,"end":1635,"test":{"type":"Identifier","start":1557,"end":1560,"name":"err"},"consequent":{"type":"CallExpression","start":1563,"end":1572,"callee":{"type":"Identifier","start":1563,"end":1567,"name":"done"},"arguments":[{"type":"Identifier","start":1568,"end":1571,"name":"err"}]},"alternate":{"type":"CallExpression","start":1575,"end":1635,"callee":{"type":"Identifier","start":1575,"end":1579,"name":"done"},"arguments":[{"type":"Literal","start":1580,"end":1584,"value":null,"raw":"null"},{"type":"CallExpression","start":1586,"end":1634,"callee":{"type":"MemberExpression","start":1586,"end":1600,"object":{"type":"ThisExpression","start":1586,"end":1590},"property":{"type":"Identifier","start":1591,"end":1600,"name":"adaptData"},"computed":false},"arguments":[{"type":"Identifier","start":1601,"end":1605,"name":"body"},{"type":"Identifier","start":1607,"end":1615,"name":"username"},{"type":"Identifier","start":1617,"end":1626,"name":"directory"},{"type":"Identifier","start":1628,"end":1633,"name":"query"}]}]}}}]}}]}}]}}]}}]}}]}}},{"type":"MethodDefinition","start":1693,"end":2171,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1693,"end":1705,"name":"_getUsername"},"value":{"type":"FunctionExpression","start":1705,"end":2171,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1706,"end":1711,"name":"token"},{"type":"Identifier","start":1713,"end":1717,"name":"done"}],"body":{"type":"BlockStatement","start":1719,"end":2171,"body":[{"type":"ExpressionStatement","start":1729,"end":2165,"expression":{"type":"CallExpression","start":1729,"end":2164,"callee":{"type":"MemberExpression","start":1729,"end":1846,"object":{"type":"CallExpression","start":1729,"end":1825,"callee":{"type":"MemberExpression","start":1729,"end":1818,"object":{"type":"CallExpression","start":1729,"end":1800,"callee":{"type":"MemberExpression","start":1729,"end":1779,"object":{"type":"CallExpression","start":1729,"end":1763,"callee":{"type":"MemberExpression","start":1729,"end":1757,"object":{"type":"MemberExpression","start":1729,"end":1740,"object":{"type":"ThisExpression","start":1729,"end":1733},"property":{"type":"Identifier","start":1734,"end":1740,"name":"client"},"computed":false},"property":{"type":"Identifier","start":1754,"end":1757,"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":1758,"end":1762,"value":"me","raw":"'me'"}]},"property":{"type":"Identifier","start":1777,"end":1779,"name":"qs"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1780,"end":1799,"properties":[{"type":"Property","start":1782,"end":1797,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1782,"end":1788,"name":"fields"},"value":{"type":"Literal","start":1790,"end":1797,"value":"email","raw":"'email'"},"kind":"init"}]}]},"property":{"type":"Identifier","start":1814,"end":1818,"name":"auth"},"computed":false},"arguments":[{"type":"Identifier","start":1819,"end":1824,"name":"token"}]},"property":{"type":"Identifier","start":1839,"end":1846,"name":"request"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1847,"end":2163,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1848,"end":1851,"name":"err"},{"type":"Identifier","start":1853,"end":1857,"name":"resp"},{"type":"Identifier","start":1859,"end":1863,"name":"body"}],"body":{"type":"BlockStatement","start":1868,"end":2163,"body":[{"type":"IfStatement","start":1882,"end":2153,"test":{"type":"LogicalExpression","start":1886,"end":1916,"left":{"type":"Identifier","start":1886,"end":1889,"name":"err"},"operator":"||","right":{"type":"BinaryExpression","start":1893,"end":1916,"left":{"type":"MemberExpression","start":1893,"end":1908,"object":{"type":"Identifier","start":1893,"end":1897,"name":"resp"},"property":{"type":"Identifier","start":1898,"end":1908,"name":"statusCode"},"computed":false},"operator":"!==","right":{"type":"Literal","start":1913,"end":1916,"value":200,"raw":"200"}}},"consequent":{"type":"BlockStatement","start":1918,"end":2080,"body":[{"type":"ExpressionStatement","start":1936,"end":1965,"expression":{"type":"AssignmentExpression","start":1936,"end":1964,"operator":"=","left":{"type":"Identifier","start":1936,"end":1939,"name":"err"},"right":{"type":"CallExpression","start":1942,"end":1964,"callee":{"type":"MemberExpression","start":1942,"end":1953,"object":{"type":"ThisExpression","start":1942,"end":1946},"property":{"type":"Identifier","start":1947,"end":1953,"name":"_error"},"computed":false},"arguments":[{"type":"Identifier","start":1954,"end":1957,"name":"err"},{"type":"Identifier","start":1959,"end":1963,"name":"resp"}]}}},{"type":"ExpressionStatement","start":1982,"end":2032,"expression":{"type":"CallExpression","start":1982,"end":2031,"callee":{"type":"MemberExpression","start":1982,"end":1994,"object":{"type":"Identifier","start":1982,"end":1988,"name":"logger"},"property":{"type":"Identifier","start":1989,"end":1994,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":1995,"end":1998,"name":"err"},{"type":"Literal","start":2000,"end":2030,"value":"provider.facebook.user.error","raw":"'provider.facebook.user.error'"}]}},{"type":"ReturnStatement","start":2049,"end":2066,"argument":{"type":"CallExpression","start":2056,"end":2065,"callee":{"type":"Identifier","start":2056,"end":2060,"name":"done"},"arguments":[{"type":"Identifier","start":2061,"end":2064,"name":"err"}]}}]},"alternate":{"type":"BlockStatement","start":2098,"end":2153,"body":[{"type":"ExpressionStatement","start":2116,"end":2139,"expression":{"type":"CallExpression","start":2116,"end":2138,"callee":{"type":"Identifier","start":2116,"end":2120,"name":"done"},"arguments":[{"type":"Literal","start":2121,"end":2125,"value":null,"raw":"null"},{"type":"MemberExpression","start":2127,"end":2137,"object":{"type":"Identifier","start":2127,"end":2131,"name":"body"},"property":{"type":"Identifier","start":2132,"end":2137,"name":"email"},"computed":false}]}}]}}]}}]}}]}}},{"type":"MethodDefinition","start":2176,"end":2325,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":2176,"end":2188,"name":"_getMediaUrl"},"value":{"type":"FunctionExpression","start":2188,"end":2325,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2189,"end":2193,"name":"body"}],"body":{"type":"BlockStatement","start":2195,"end":2325,"body":[{"type":"VariableDeclaration","start":2205,"end":2258,"declarations":[{"type":"VariableDeclarator","start":2211,"end":2257,"id":{"type":"Identifier","start":2211,"end":2223,"name":"sortedImages"},"init":{"type":"CallExpression","start":2226,"end":2257,"callee":{"type":"MemberExpression","start":2226,"end":2244,"object":{"type":"Identifier","start":2226,"end":2233,"name":"adapter"},"property":{"type":"Identifier","start":2234,"end":2244,"name":"sortImages"},"computed":false},"arguments":[{"type":"MemberExpression","start":2245,"end":2256,"object":{"type":"Identifier","start":2245,"end":2249,"name":"body"},"property":{"type":"Identifier","start":2250,"end":2256,"name":"images"},"computed":false}]}}],"kind":"const"},{"type":"ReturnStatement","start":2267,"end":2319,"argument":{"type":"MemberExpression","start":2274,"end":2318,"object":{"type":"MemberExpression","start":2274,"end":2311,"object":{"type":"Identifier","start":2274,"end":2286,"name":"sortedImages"},"property":{"type":"BinaryExpression","start":2287,"end":2310,"left":{"type":"MemberExpression","start":2287,"end":2306,"object":{"type":"Identifier","start":2287,"end":2299,"name":"sortedImages"},"property":{"type":"Identifier","start":2300,"end":2306,"name":"length"},"computed":false},"operator":"-","right":{"type":"Literal","start":2309,"end":2310,"value":1,"raw":"1"}},"computed":true},"property":{"type":"Identifier","start":2312,"end":2318,"name":"source"},"computed":false}}]}}},{"type":"MethodDefinition","start":2330,"end":3347,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":2330,"end":2338,"name":"download"},"value":{"type":"FunctionExpression","start":2338,"end":3347,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":2339,"end":2352,"properties":[{"type":"Property","start":2341,"end":2343,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2341,"end":2343,"name":"id"},"kind":"init","value":{"type":"Identifier","start":2341,"end":2343,"name":"id"}},{"type":"Property","start":2345,"end":2350,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2345,"end":2350,"name":"token"},"kind":"init","value":{"type":"Identifier","start":2345,"end":2350,"name":"token"}}]},{"type":"Identifier","start":2354,"end":2360,"name":"onData"}],"body":{"type":"BlockStatement","start":2362,"end":3347,"body":[{"type":"ReturnStatement","start":2372,"end":3341,"argument":{"type":"CallExpression","start":2379,"end":3340,"callee":{"type":"MemberExpression","start":2379,"end":2527,"object":{"type":"CallExpression","start":2379,"end":2506,"callee":{"type":"MemberExpression","start":2379,"end":2499,"object":{"type":"CallExpression","start":2379,"end":2481,"callee":{"type":"MemberExpression","start":2379,"end":2459,"object":{"type":"CallExpression","start":2379,"end":2443,"callee":{"type":"MemberExpression","start":2379,"end":2407,"object":{"type":"MemberExpression","start":2379,"end":2390,"object":{"type":"ThisExpression","start":2379,"end":2383},"property":{"type":"Identifier","start":2384,"end":2390,"name":"client"},"computed":false},"property":{"type":"Identifier","start":2404,"end":2407,"name":"get"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":2408,"end":2442,"expressions":[{"type":"Identifier","start":2438,"end":2440,"name":"id"}],"quasis":[{"type":"TemplateElement","start":2409,"end":2436,"value":{"raw":"https://graph.facebook.com/","cooked":"https://graph.facebook.com/"},"tail":false},{"type":"TemplateElement","start":2441,"end":2441,"value":{"raw":"","cooked":""},"tail":true}]}]},"property":{"type":"Identifier","start":2457,"end":2459,"name":"qs"},"computed":false},"arguments":[{"type":"ObjectExpression","start":2460,"end":2480,"properties":[{"type":"Property","start":2462,"end":2478,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2462,"end":2468,"name":"fields"},"value":{"type":"Literal","start":2470,"end":2478,"value":"images","raw":"'images'"},"kind":"init"}]}]},"property":{"type":"Identifier","start":2495,"end":2499,"name":"auth"},"computed":false},"arguments":[{"type":"Identifier","start":2500,"end":2505,"name":"token"}]},"property":{"type":"Identifier","start":2520,"end":2527,"name":"request"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2528,"end":3339,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2529,"end":2532,"name":"err"},{"type":"Identifier","start":2534,"end":2538,"name":"resp"},{"type":"Identifier","start":2540,"end":2544,"name":"body"}],"body":{"type":"BlockStatement","start":2549,"end":3339,"body":[{"type":"IfStatement","start":2563,"end":2784,"test":{"type":"LogicalExpression","start":2567,"end":2597,"left":{"type":"Identifier","start":2567,"end":2570,"name":"err"},"operator":"||","right":{"type":"BinaryExpression","start":2574,"end":2597,"left":{"type":"MemberExpression","start":2574,"end":2589,"object":{"type":"Identifier","start":2574,"end":2578,"name":"resp"},"property":{"type":"Identifier","start":2579,"end":2589,"name":"statusCode"},"computed":false},"operator":"!==","right":{"type":"Literal","start":2594,"end":2597,"value":200,"raw":"200"}}},"consequent":{"type":"BlockStatement","start":2599,"end":2784,"body":[{"type":"ExpressionStatement","start":2617,"end":2646,"expression":{"type":"AssignmentExpression","start":2617,"end":2645,"operator":"=","left":{"type":"Identifier","start":2617,"end":2620,"name":"err"},"right":{"type":"CallExpression","start":2623,"end":2645,"callee":{"type":"MemberExpression","start":2623,"end":2634,"object":{"type":"ThisExpression","start":2623,"end":2627},"property":{"type":"Identifier","start":2628,"end":2634,"name":"_error"},"computed":false},"arguments":[{"type":"Identifier","start":2635,"end":2638,"name":"err"},{"type":"Identifier","start":2640,"end":2644,"name":"resp"}]}}},{"type":"ExpressionStatement","start":2663,"end":2717,"expression":{"type":"CallExpression","start":2663,"end":2716,"callee":{"type":"MemberExpression","start":2663,"end":2675,"object":{"type":"Identifier","start":2663,"end":2669,"name":"logger"},"property":{"type":"Identifier","start":2670,"end":2675,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":2676,"end":2679,"name":"err"},{"type":"Literal","start":2681,"end":2715,"value":"provider.facebook.download.error","raw":"'provider.facebook.download.error'"}]}},{"type":"ExpressionStatement","start":2734,"end":2746,"expression":{"type":"CallExpression","start":2734,"end":2745,"callee":{"type":"Identifier","start":2734,"end":2740,"name":"onData"},"arguments":[{"type":"Identifier","start":2741,"end":2744,"name":"err"}]}},{"type":"ReturnStatement","start":2763,"end":2770,"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":2797,"end":3329,"expression":{"type":"CallExpression","start":2797,"end":3328,"callee":{"type":"MemberExpression","start":2797,"end":3189,"object":{"type":"CallExpression","start":2797,"end":3169,"callee":{"type":"MemberExpression","start":2797,"end":3136,"object":{"type":"CallExpression","start":2797,"end":3116,"callee":{"type":"MemberExpression","start":2797,"end":2849,"object":{"type":"CallExpression","start":2797,"end":2829,"callee":{"type":"Identifier","start":2797,"end":2804,"name":"request"},"arguments":[{"type":"CallExpression","start":2805,"end":2828,"callee":{"type":"MemberExpression","start":2805,"end":2822,"object":{"type":"ThisExpression","start":2805,"end":2809},"property":{"type":"Identifier","start":2810,"end":2822,"name":"_getMediaUrl"},"computed":false},"arguments":[{"type":"Identifier","start":2823,"end":2827,"name":"body"}]}]},"property":{"type":"Identifier","start":2847,"end":2849,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":2850,"end":2860,"value":"response","raw":"'response'"},{"type":"ArrowFunctionExpression","start":2862,"end":3115,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2863,"end":2867,"name":"resp"}],"body":{"type":"BlockStatement","start":2872,"end":3115,"body":[{"type":"IfStatement","start":2890,"end":3101,"test":{"type":"BinaryExpression","start":2894,"end":2917,"left":{"type":"MemberExpression","start":2894,"end":2909,"object":{"type":"Identifier","start":2894,"end":2898,"name":"resp"},"property":{"type":"Identifier","start":2899,"end":2909,"name":"statusCode"},"computed":false},"operator":"!==","right":{"type":"Literal","start":2914,"end":2917,"value":200,"raw":"200"}},"consequent":{"type":"BlockStatement","start":2919,"end":2991,"body":[{"type":"ExpressionStatement","start":2941,"end":2973,"expression":{"type":"CallExpression","start":2941,"end":2972,"callee":{"type":"Identifier","start":2941,"end":2947,"name":"onData"},"arguments":[{"type":"CallExpression","start":2948,"end":2971,"callee":{"type":"MemberExpression","start":2948,"end":2959,"object":{"type":"ThisExpression","start":2948,"end":2952},"property":{"type":"Identifier","start":2953,"end":2959,"name":"_error"},"computed":false},"arguments":[{"type":"Literal","start":2960,"end":2964,"value":null,"raw":"null"},{"type":"Identifier","start":2966,"end":2970,"name":"resp"}]}]}}]},"alternate":{"type":"BlockStatement","start":3013,"end":3101,"body":[{"type":"ExpressionStatement","start":3035,"end":3083,"expression":{"type":"CallExpression","start":3035,"end":3082,"callee":{"type":"MemberExpression","start":3035,"end":3042,"object":{"type":"Identifier","start":3035,"end":3039,"name":"resp"},"property":{"type":"Identifier","start":3040,"end":3042,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3043,"end":3049,"value":"data","raw":"'data'"},{"type":"ArrowFunctionExpression","start":3051,"end":3081,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3052,"end":3057,"name":"chunk"}],"body":{"type":"CallExpression","start":3062,"end":3081,"callee":{"type":"Identifier","start":3062,"end":3068,"name":"onData"},"arguments":[{"type":"Literal","start":3069,"end":3073,"value":null,"raw":"null"},{"type":"Identifier","start":3075,"end":3080,"name":"chunk"}]}}]}}]}}]}}]},"property":{"type":"Identifier","start":3134,"end":3136,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3137,"end":3142,"value":"end","raw":"'end'"},{"type":"ArrowFunctionExpression","start":3144,"end":3168,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":3150,"end":3168,"callee":{"type":"Identifier","start":3150,"end":3156,"name":"onData"},"arguments":[{"type":"Literal","start":3157,"end":3161,"value":null,"raw":"null"},{"type":"Literal","start":3163,"end":3167,"value":null,"raw":"null"}]}}]},"property":{"type":"Identifier","start":3187,"end":3189,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3190,"end":3197,"value":"error","raw":"'error'"},{"type":"ArrowFunctionExpression","start":3199,"end":3327,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3200,"end":3203,"name":"err"}],"body":{"type":"BlockStatement","start":3208,"end":3327,"body":[{"type":"ExpressionStatement","start":3226,"end":3284,"expression":{"type":"CallExpression","start":3226,"end":3283,"callee":{"type":"MemberExpression","start":3226,"end":3238,"object":{"type":"Identifier","start":3226,"end":3232,"name":"logger"},"property":{"type":"Identifier","start":3233,"end":3238,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":3239,"end":3242,"name":"err"},{"type":"Literal","start":3244,"end":3282,"value":"provider.facebook.download.url.error","raw":"'provider.facebook.download.url.error'"}]}},{"type":"ExpressionStatement","start":3301,"end":3313,"expression":{"type":"CallExpression","start":3301,"end":3312,"callee":{"type":"Identifier","start":3301,"end":3307,"name":"onData"},"arguments":[{"type":"Identifier","start":3308,"end":3311,"name":"err"}]}}]}}]}}]}}]}}]}}},{"type":"MethodDefinition","start":3352,"end":3634,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3352,"end":3361,"name":"thumbnail"},"value":{"type":"FunctionExpression","start":3361,"end":3634,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3362,"end":3363,"name":"_"},{"type":"Identifier","start":3365,"end":3369,"name":"done"}],"body":{"type":"BlockStatement","start":3371,"end":3634,"body":[{"type":"VariableDeclaration","start":3476,"end":3538,"declarations":[{"type":"VariableDeclarator","start":3482,"end":3537,"id":{"type":"Identifier","start":3482,"end":3485,"name":"err"},"init":{"type":"NewExpression","start":3488,"end":3537,"callee":{"type":"Identifier","start":3492,"end":3497,"name":"Error"},"arguments":[{"type":"Literal","start":3498,"end":3536,"value":"call to thumbnail is not implemented","raw":"'call to thumbnail is not implemented'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":3547,"end":3602,"expression":{"type":"CallExpression","start":3547,"end":3601,"callee":{"type":"MemberExpression","start":3547,"end":3559,"object":{"type":"Identifier","start":3547,"end":3553,"name":"logger"},"property":{"type":"Identifier","start":3554,"end":3559,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":3560,"end":3563,"name":"err"},{"type":"Literal","start":3565,"end":3600,"value":"provider.facebook.thumbnail.error","raw":"'provider.facebook.thumbnail.error'"}]}},{"type":"ReturnStatement","start":3611,"end":3628,"argument":{"type":"CallExpression","start":3618,"end":3627,"callee":{"type":"Identifier","start":3618,"end":3622,"name":"done"},"arguments":[{"type":"Identifier","start":3623,"end":3626,"name":"err"}]}}]}}},{"type":"MethodDefinition","start":3639,"end":4331,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3639,"end":3643,"name":"size"},"value":{"type":"FunctionExpression","start":3643,"end":4331,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":3644,"end":3657,"properties":[{"type":"Property","start":3646,"end":3648,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3646,"end":3648,"name":"id"},"kind":"init","value":{"type":"Identifier","start":3646,"end":3648,"name":"id"}},{"type":"Property","start":3650,"end":3655,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3650,"end":3655,"name":"token"},"kind":"init","value":{"type":"Identifier","start":3650,"end":3655,"name":"token"}}]},{"type":"Identifier","start":3659,"end":3663,"name":"done"}],"body":{"type":"BlockStatement","start":3665,"end":4331,"body":[{"type":"ReturnStatement","start":3675,"end":4325,"argument":{"type":"CallExpression","start":3682,"end":4324,"callee":{"type":"MemberExpression","start":3682,"end":3830,"object":{"type":"CallExpression","start":3682,"end":3809,"callee":{"type":"MemberExpression","start":3682,"end":3802,"object":{"type":"CallExpression","start":3682,"end":3784,"callee":{"type":"MemberExpression","start":3682,"end":3762,"object":{"type":"CallExpression","start":3682,"end":3746,"callee":{"type":"MemberExpression","start":3682,"end":3710,"object":{"type":"MemberExpression","start":3682,"end":3693,"object":{"type":"ThisExpression","start":3682,"end":3686},"property":{"type":"Identifier","start":3687,"end":3693,"name":"client"},"computed":false},"property":{"type":"Identifier","start":3707,"end":3710,"name":"get"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":3711,"end":3745,"expressions":[{"type":"Identifier","start":3741,"end":3743,"name":"id"}],"quasis":[{"type":"TemplateElement","start":3712,"end":3739,"value":{"raw":"https://graph.facebook.com/","cooked":"https://graph.facebook.com/"},"tail":false},{"type":"TemplateElement","start":3744,"end":3744,"value":{"raw":"","cooked":""},"tail":true}]}]},"property":{"type":"Identifier","start":3760,"end":3762,"name":"qs"},"computed":false},"arguments":[{"type":"ObjectExpression","start":3763,"end":3783,"properties":[{"type":"Property","start":3765,"end":3781,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3765,"end":3771,"name":"fields"},"value":{"type":"Literal","start":3773,"end":3781,"value":"images","raw":"'images'"},"kind":"init"}]}]},"property":{"type":"Identifier","start":3798,"end":3802,"name":"auth"},"computed":false},"arguments":[{"type":"Identifier","start":3803,"end":3808,"name":"token"}]},"property":{"type":"Identifier","start":3823,"end":3830,"name":"request"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3831,"end":4323,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3832,"end":3835,"name":"err"},{"type":"Identifier","start":3837,"end":3841,"name":"resp"},{"type":"Identifier","start":3843,"end":3847,"name":"body"}],"body":{"type":"BlockStatement","start":3852,"end":4323,"body":[{"type":"IfStatement","start":3866,"end":4064,"test":{"type":"LogicalExpression","start":3870,"end":3900,"left":{"type":"Identifier","start":3870,"end":3873,"name":"err"},"operator":"||","right":{"type":"BinaryExpression","start":3877,"end":3900,"left":{"type":"MemberExpression","start":3877,"end":3892,"object":{"type":"Identifier","start":3877,"end":3881,"name":"resp"},"property":{"type":"Identifier","start":3882,"end":3892,"name":"statusCode"},"computed":false},"operator":"!==","right":{"type":"Literal","start":3897,"end":3900,"value":200,"raw":"200"}}},"consequent":{"type":"BlockStatement","start":3902,"end":4064,"body":[{"type":"ExpressionStatement","start":3920,"end":3949,"expression":{"type":"AssignmentExpression","start":3920,"end":3948,"operator":"=","left":{"type":"Identifier","start":3920,"end":3923,"name":"err"},"right":{"type":"CallExpression","start":3926,"end":3948,"callee":{"type":"MemberExpression","start":3926,"end":3937,"object":{"type":"ThisExpression","start":3926,"end":3930},"property":{"type":"Identifier","start":3931,"end":3937,"name":"_error"},"computed":false},"arguments":[{"type":"Identifier","start":3938,"end":3941,"name":"err"},{"type":"Identifier","start":3943,"end":3947,"name":"resp"}]}}},{"type":"ExpressionStatement","start":3966,"end":4016,"expression":{"type":"CallExpression","start":3966,"end":4015,"callee":{"type":"MemberExpression","start":3966,"end":3978,"object":{"type":"Identifier","start":3966,"end":3972,"name":"logger"},"property":{"type":"Identifier","start":3973,"end":3978,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":3979,"end":3982,"name":"err"},{"type":"Literal","start":3984,"end":4014,"value":"provider.facebook.size.error","raw":"'provider.facebook.size.error'"}]}},{"type":"ReturnStatement","start":4033,"end":4050,"argument":{"type":"CallExpression","start":4040,"end":4049,"callee":{"type":"Identifier","start":4040,"end":4044,"name":"done"},"arguments":[{"type":"Identifier","start":4045,"end":4048,"name":"err"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":4077,"end":4313,"expression":{"type":"CallExpression","start":4077,"end":4312,"callee":{"type":"MemberExpression","start":4077,"end":4195,"object":{"type":"CallExpression","start":4077,"end":4172,"callee":{"type":"MemberExpression","start":4077,"end":4140,"object":{"type":"CallExpression","start":4077,"end":4118,"callee":{"type":"MemberExpression","start":4077,"end":4093,"object":{"type":"Identifier","start":4077,"end":4082,"name":"utils"},"property":{"type":"Identifier","start":4083,"end":4093,"name":"getURLMeta"},"computed":false},"arguments":[{"type":"CallExpression","start":4094,"end":4117,"callee":{"type":"MemberExpression","start":4094,"end":4111,"object":{"type":"ThisExpression","start":4094,"end":4098},"property":{"type":"Identifier","start":4099,"end":4111,"name":"_getMediaUrl"},"computed":false},"arguments":[{"type":"Identifier","start":4112,"end":4116,"name":"body"}]}]},"property":{"type":"Identifier","start":4136,"end":4140,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4141,"end":4171,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":4142,"end":4150,"properties":[{"type":"Property","start":4144,"end":4148,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4144,"end":4148,"name":"size"},"kind":"init","value":{"type":"Identifier","start":4144,"end":4148,"name":"size"}}]}],"body":{"type":"CallExpression","start":4155,"end":4171,"callee":{"type":"Identifier","start":4155,"end":4159,"name":"done"},"arguments":[{"type":"Literal","start":4160,"end":4164,"value":null,"raw":"null"},{"type":"Identifier","start":4166,"end":4170,"name":"size"}]}}]},"property":{"type":"Identifier","start":4190,"end":4195,"name":"catch"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4196,"end":4311,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4197,"end":4200,"name":"err"}],"body":{"type":"BlockStatement","start":4205,"end":4311,"body":[{"type":"ExpressionStatement","start":4223,"end":4273,"expression":{"type":"CallExpression","start":4223,"end":4272,"callee":{"type":"MemberExpression","start":4223,"end":4235,"object":{"type":"Identifier","start":4223,"end":4229,"name":"logger"},"property":{"type":"Identifier","start":4230,"end":4235,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":4236,"end":4239,"name":"err"},{"type":"Literal","start":4241,"end":4271,"value":"provider.facebook.size.error","raw":"'provider.facebook.size.error'"}]}},{"type":"ExpressionStatement","start":4290,"end":4297,"expression":{"type":"CallExpression","start":4290,"end":4296,"callee":{"type":"Identifier","start":4290,"end":4294,"name":"done"},"arguments":[]}}]}}]}}]}}]}}]}}},{"type":"MethodDefinition","start":4336,"end":4753,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":4336,"end":4342,"name":"logout"},"value":{"type":"FunctionExpression","start":4342,"end":4753,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":4343,"end":4352,"properties":[{"type":"Property","start":4345,"end":4350,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4345,"end":4350,"name":"token"},"kind":"init","value":{"type":"Identifier","start":4345,"end":4350,"name":"token"}}]},{"type":"Identifier","start":4354,"end":4358,"name":"done"}],"body":{"type":"BlockStatement","start":4360,"end":4753,"body":[{"type":"ReturnStatement","start":4370,"end":4747,"argument":{"type":"CallExpression","start":4377,"end":4746,"callee":{"type":"MemberExpression","start":4377,"end":4472,"object":{"type":"CallExpression","start":4377,"end":4451,"callee":{"type":"MemberExpression","start":4377,"end":4444,"object":{"type":"CallExpression","start":4377,"end":4426,"callee":{"type":"MemberExpression","start":4377,"end":4408,"object":{"type":"MemberExpression","start":4377,"end":4388,"object":{"type":"ThisExpression","start":4377,"end":4381},"property":{"type":"Identifier","start":4382,"end":4388,"name":"client"},"computed":false},"property":{"type":"Identifier","start":4402,"end":4408,"name":"delete"},"computed":false},"arguments":[{"type":"Literal","start":4409,"end":4425,"value":"me/permissions","raw":"'me/permissions'"}]},"property":{"type":"Identifier","start":4440,"end":4444,"name":"auth"},"computed":false},"arguments":[{"type":"Identifier","start":4445,"end":4450,"name":"token"}]},"property":{"type":"Identifier","start":4465,"end":4472,"name":"request"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4473,"end":4745,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4474,"end":4477,"name":"err"},{"type":"Identifier","start":4479,"end":4483,"name":"resp"}],"body":{"type":"BlockStatement","start":4488,"end":4745,"body":[{"type":"IfStatement","start":4502,"end":4692,"test":{"type":"LogicalExpression","start":4506,"end":4536,"left":{"type":"Identifier","start":4506,"end":4509,"name":"err"},"operator":"||","right":{"type":"BinaryExpression","start":4513,"end":4536,"left":{"type":"MemberExpression","start":4513,"end":4528,"object":{"type":"Identifier","start":4513,"end":4517,"name":"resp"},"property":{"type":"Identifier","start":4518,"end":4528,"name":"statusCode"},"computed":false},"operator":"!==","right":{"type":"Literal","start":4533,"end":4536,"value":200,"raw":"200"}}},"consequent":{"type":"BlockStatement","start":4538,"end":4692,"body":[{"type":"ExpressionStatement","start":4556,"end":4608,"expression":{"type":"CallExpression","start":4556,"end":4607,"callee":{"type":"MemberExpression","start":4556,"end":4568,"object":{"type":"Identifier","start":4556,"end":4562,"name":"logger"},"property":{"type":"Identifier","start":4563,"end":4568,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":4569,"end":4572,"name":"err"},{"type":"Literal","start":4574,"end":4606,"value":"provider.facebook.logout.error","raw":"'provider.facebook.logout.error'"}]}},{"type":"ExpressionStatement","start":4625,"end":4654,"expression":{"type":"CallExpression","start":4625,"end":4653,"callee":{"type":"Identifier","start":4625,"end":4629,"name":"done"},"arguments":[{"type":"CallExpression","start":4630,"end":4652,"callee":{"type":"MemberExpression","start":4630,"end":4641,"object":{"type":"ThisExpression","start":4630,"end":4634},"property":{"type":"Identifier","start":4635,"end":4641,"name":"_error"},"computed":false},"arguments":[{"type":"Identifier","start":4642,"end":4645,"name":"err"},{"type":"Identifier","start":4647,"end":4651,"name":"resp"}]}]}},{"type":"ReturnStatement","start":4671,"end":4678,"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":4705,"end":4735,"expression":{"type":"CallExpression","start":4705,"end":4734,"callee":{"type":"Identifier","start":4705,"end":4709,"name":"done"},"arguments":[{"type":"Literal","start":4710,"end":4714,"value":null,"raw":"null"},{"type":"ObjectExpression","start":4716,"end":4733,"properties":[{"type":"Property","start":4718,"end":4731,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4718,"end":4725,"name":"revoked"},"value":{"type":"Literal","start":4727,"end":4731,"value":true,"raw":"true"},"kind":"init"}]}]}}]}}]}}]}}},{"type":"MethodDefinition","start":4758,"end":5553,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":4758,"end":4767,"name":"adaptData"},"value":{"type":"FunctionExpression","start":4767,"end":5553,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4768,"end":4771,"name":"res"},{"type":"Identifier","start":4773,"end":4781,"name":"username"},{"type":"Identifier","start":4783,"end":4792,"name":"directory"},{"type":"Identifier","start":4794,"end":4806,"name":"currentQuery"}],"body":{"type":"BlockStatement","start":4808,"end":5553,"body":[{"type":"VariableDeclaration","start":4818,"end":4865,"declarations":[{"type":"VariableDeclarator","start":4824,"end":4864,"id":{"type":"Identifier","start":4824,"end":4828,"name":"data"},"init":{"type":"ObjectExpression","start":4831,"end":4864,"properties":[{"type":"Property","start":4833,"end":4851,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4833,"end":4841,"name":"username"},"value":{"type":"Identifier","start":4843,"end":4851,"name":"username"},"kind":"init"},{"type":"Property","start":4853,"end":4862,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4853,"end":4858,"name":"items"},"value":{"type":"ArrayExpression","start":4860,"end":4862,"elements":[]},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":4874,"end":4916,"declarations":[{"type":"VariableDeclarator","start":4880,"end":4915,"id":{"type":"Identifier","start":4880,"end":4885,"name":"items"},"init":{"type":"CallExpression","start":4888,"end":4915,"callee":{"type":"MemberExpression","start":4888,"end":4910,"object":{"type":"Identifier","start":4888,"end":4895,"name":"adapter"},"property":{"type":"Identifier","start":4896,"end":4910,"name":"getItemSubList"},"computed":false},"arguments":[{"type":"Identifier","start":4911,"end":4914,"name":"res"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":4925,"end":5443,"expression":{"type":"CallExpression","start":4925,"end":5442,"callee":{"type":"MemberExpression","start":4925,"end":4938,"object":{"type":"Identifier","start":4925,"end":4930,"name":"items"},"property":{"type":"Identifier","start":4931,"end":4938,"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4939,"end":5441,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4940,"end":4944,"name":"item"}],"body":{"type":"BlockStatement","start":4949,"end":5441,"body":[{"type":"ExpressionStatement","start":4963,"end":5431,"expression":{"type":"CallExpression","start":4963,"end":5430,"callee":{"type":"MemberExpression","start":4963,"end":4978,"object":{"type":"MemberExpression","start":4963,"end":4973,"object":{"type":"Identifier","start":4963,"end":4967,"name":"data"},"property":{"type":"Identifier","start":4968,"end":4973,"name":"items"},"computed":false},"property":{"type":"Identifier","start":4974,"end":4978,"name":"push"},"computed":false},"arguments":[{"type":"ObjectExpression","start":4979,"end":5429,"properties":[{"type":"Property","start":4997,"end":5029,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4997,"end":5005,"name":"isFolder"},"value":{"type":"CallExpression","start":5007,"end":5029,"callee":{"type":"MemberExpression","start":5007,"end":5023,"object":{"type":"Identifier","start":5007,"end":5014,"name":"adapter"},"property":{"type":"Identifier","start":5015,"end":5023,"name":"isFolder"},"computed":false},"arguments":[{"type":"Identifier","start":5024,"end":5028,"name":"item"}]},"kind":"init"},{"type":"Property","start":5047,"end":5078,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5047,"end":5051,"name":"icon"},"value":{"type":"CallExpression","start":5053,"end":5078,"callee":{"type":"MemberExpression","start":5053,"end":5072,"object":{"type":"Identifier","start":5053,"end":5060,"name":"adapter"},"property":{"type":"Identifier","start":5061,"end":5072,"name":"getItemIcon"},"computed":false},"arguments":[{"type":"Identifier","start":5073,"end":5077,"name":"item"}]},"kind":"init"},{"type":"Property","start":5096,"end":5127,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5096,"end":5100,"name":"name"},"value":{"type":"CallExpression","start":5102,"end":5127,"callee":{"type":"MemberExpression","start":5102,"end":5121,"object":{"type":"Identifier","start":5102,"end":5109,"name":"adapter"},"property":{"type":"Identifier","start":5110,"end":5121,"name":"getItemName"},"computed":false},"arguments":[{"type":"Identifier","start":5122,"end":5126,"name":"item"}]},"kind":"init"},{"type":"Property","start":5145,"end":5180,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5145,"end":5153,"name":"mimeType"},"value":{"type":"CallExpression","start":5155,"end":5180,"callee":{"type":"MemberExpression","start":5155,"end":5174,"object":{"type":"Identifier","start":5155,"end":5162,"name":"adapter"},"property":{"type":"Identifier","start":5163,"end":5174,"name":"getMimeType"},"computed":false},"arguments":[{"type":"Identifier","start":5175,"end":5179,"name":"item"}]},"kind":"init"},{"type":"Property","start":5198,"end":5225,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5198,"end":5200,"name":"id"},"value":{"type":"CallExpression","start":5202,"end":5225,"callee":{"type":"MemberExpression","start":5202,"end":5219,"object":{"type":"Identifier","start":5202,"end":5209,"name":"adapter"},"property":{"type":"Identifier","start":5210,"end":5219,"name":"getItemId"},"computed":false},"arguments":[{"type":"Identifier","start":5220,"end":5224,"name":"item"}]},"kind":"init"},{"type":"Property","start":5243,"end":5287,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5243,"end":5252,"name":"thumbnail"},"value":{"type":"CallExpression","start":5254,"end":5287,"callee":{"type":"MemberExpression","start":5254,"end":5281,"object":{"type":"Identifier","start":5254,"end":5261,"name":"adapter"},"property":{"type":"Identifier","start":5262,"end":5281,"name":"getItemThumbnailUrl"},"computed":false},"arguments":[{"type":"Identifier","start":5282,"end":5286,"name":"item"}]},"kind":"init"},{"type":"Property","start":5305,"end":5350,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5305,"end":5316,"name":"requestPath"},"value":{"type":"CallExpression","start":5318,"end":5350,"callee":{"type":"MemberExpression","start":5318,"end":5344,"object":{"type":"Identifier","start":5318,"end":5325,"name":"adapter"},"property":{"type":"Identifier","start":5326,"end":5344,"name":"getItemRequestPath"},"computed":false},"arguments":[{"type":"Identifier","start":5345,"end":5349,"name":"item"}]},"kind":"init"},{"type":"Property","start":5368,"end":5415,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5368,"end":5380,"name":"modifiedDate"},"value":{"type":"CallExpression","start":5382,"end":5415,"callee":{"type":"MemberExpression","start":5382,"end":5409,"object":{"type":"Identifier","start":5382,"end":5389,"name":"adapter"},"property":{"type":"Identifier","start":5390,"end":5409,"name":"getItemModifiedDate"},"computed":false},"arguments":[{"type":"Identifier","start":5410,"end":5414,"name":"item"}]},"kind":"init"}]}]}}]}}]}},{"type":"ExpressionStatement","start":5452,"end":5526,"expression":{"type":"AssignmentExpression","start":5452,"end":5525,"operator":"=","left":{"type":"MemberExpression","start":5452,"end":5469,"object":{"type":"Identifier","start":5452,"end":5456,"name":"data"},"property":{"type":"Identifier","start":5457,"end":5469,"name":"nextPagePath"},"computed":false},"right":{"type":"CallExpression","start":5472,"end":5525,"callee":{"type":"MemberExpression","start":5472,"end":5495,"object":{"type":"Identifier","start":5472,"end":5479,"name":"adapter"},"property":{"type":"Identifier","start":5480,"end":5495,"name":"getNextPagePath"},"computed":false},"arguments":[{"type":"Identifier","start":5496,"end":5499,"name":"res"},{"type":"Identifier","start":5501,"end":5513,"name":"currentQuery"},{"type":"Identifier","start":5515,"end":5524,"name":"directory"}]}}},{"type":"ReturnStatement","start":5535,"end":5547,"argument":{"type":"Identifier","start":5542,"end":5546,"name":"data"}}]}}},{"type":"MethodDefinition","start":5558,"end":6066,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":5558,"end":5564,"name":"_error"},"value":{"type":"FunctionExpression","start":5564,"end":6066,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5565,"end":5568,"name":"err"},{"type":"Identifier","start":5570,"end":5574,"name":"resp"}],"body":{"type":"BlockStatement","start":5576,"end":6066,"body":[{"type":"IfStatement","start":5586,"end":6040,"test":{"type":"Identifier","start":5590,"end":5594,"name":"resp"},"consequent":{"type":"BlockStatement","start":5596,"end":6040,"body":[{"type":"IfStatement","start":5610,"end":5770,"test":{"type":"LogicalExpression","start":5614,"end":5655,"left":{"type":"MemberExpression","start":5614,"end":5623,"object":{"type":"Identifier","start":5614,"end":5618,"name":"resp"},"property":{"type":"Identifier","start":5619,"end":5623,"name":"body"},"computed":false},"operator":"&&","right":{"type":"BinaryExpression","start":5627,"end":5655,"left":{"type":"MemberExpression","start":5627,"end":5647,"object":{"type":"MemberExpression","start":5627,"end":5642,"object":{"type":"MemberExpression","start":5627,"end":5636,"object":{"type":"Identifier","start":5627,"end":5631,"name":"resp"},"property":{"type":"Identifier","start":5632,"end":5636,"name":"body"},"computed":false},"property":{"type":"Identifier","start":5637,"end":5642,"name":"error"},"computed":false},"property":{"type":"Identifier","start":5643,"end":5647,"name":"code"},"computed":false},"operator":"===","right":{"type":"Literal","start":5652,"end":5655,"value":190,"raw":"190"}}},"consequent":{"type":"BlockStatement","start":5657,"end":5770,"body":[{"type":"ReturnStatement","start":5725,"end":5756,"argument":{"type":"NewExpression","start":5732,"end":5755,"callee":{"type":"Identifier","start":5736,"end":5753,"name":"ProviderAuthError"},"arguments":[]}}]},"alternate":null},{"type":"VariableDeclaration","start":5783,"end":5869,"declarations":[{"type":"VariableDeclarator","start":5789,"end":5868,"id":{"type":"Identifier","start":5789,"end":5804,"name":"fallbackMessage"},"init":{"type":"TemplateLiteral","start":5807,"end":5868,"expressions":[{"type":"MemberExpression","start":5821,"end":5838,"object":{"type":"ThisExpression","start":5821,"end":5825},"property":{"type":"Identifier","start":5826,"end":5838,"name":"authProvider"},"computed":false},{"type":"MemberExpression","start":5851,"end":5866,"object":{"type":"Identifier","start":5851,"end":5855,"name":"resp"},"property":{"type":"Identifier","start":5856,"end":5866,"name":"statusCode"},"computed":false}],"quasis":[{"type":"TemplateElement","start":5808,"end":5819,"value":{"raw":"request to ","cooked":"request to "},"tail":false},{"type":"TemplateElement","start":5839,"end":5849,"value":{"raw":" returned ","cooked":" returned "},"tail":false},{"type":"TemplateElement","start":5867,"end":5867,"value":{"raw":"","cooked":""},"tail":true}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5882,"end":5967,"declarations":[{"type":"VariableDeclarator","start":5888,"end":5966,"id":{"type":"Identifier","start":5888,"end":5891,"name":"msg"},"init":{"type":"ConditionalExpression","start":5894,"end":5966,"test":{"type":"LogicalExpression","start":5894,"end":5922,"left":{"type":"MemberExpression","start":5894,"end":5903,"object":{"type":"Identifier","start":5894,"end":5898,"name":"resp"},"property":{"type":"Identifier","start":5899,"end":5903,"name":"body"},"computed":false},"operator":"&&","right":{"type":"MemberExpression","start":5907,"end":5922,"object":{"type":"MemberExpression","start":5907,"end":5916,"object":{"type":"Identifier","start":5907,"end":5911,"name":"resp"},"property":{"type":"Identifier","start":5912,"end":5916,"name":"body"},"computed":false},"property":{"type":"Identifier","start":5917,"end":5922,"name":"error"},"computed":false}},"consequent":{"type":"MemberExpression","start":5925,"end":5948,"object":{"type":"MemberExpression","start":5925,"end":5940,"object":{"type":"MemberExpression","start":5925,"end":5934,"object":{"type":"Identifier","start":5925,"end":5929,"name":"resp"},"property":{"type":"Identifier","start":5930,"end":5934,"name":"body"},"computed":false},"property":{"type":"Identifier","start":5935,"end":5940,"name":"error"},"computed":false},"property":{"type":"Identifier","start":5941,"end":5948,"name":"message"},"computed":false},"alternate":{"type":"Identifier","start":5951,"end":5966,"name":"fallbackMessage"}}}],"kind":"const"},{"type":"ReturnStatement","start":5980,"end":6030,"argument":{"type":"NewExpression","start":5987,"end":6029,"callee":{"type":"Identifier","start":5991,"end":6007,"name":"ProviderApiError"},"arguments":[{"type":"Identifier","start":6008,"end":6011,"name":"msg"},{"type":"MemberExpression","start":6013,"end":6028,"object":{"type":"Identifier","start":6013,"end":6017,"name":"resp"},"property":{"type":"Identifier","start":6018,"end":6028,"name":"statusCode"},"computed":false}]}}]},"alternate":null},{"type":"ReturnStatement","start":6049,"end":6060,"argument":{"type":"Identifier","start":6056,"end":6059,"name":"err"}}]}}}]}},{"type":"ExpressionStatement","start":6069,"end":6095,"expression":{"type":"AssignmentExpression","start":6069,"end":6094,"operator":"=","left":{"type":"MemberExpression","start":6069,"end":6083,"object":{"type":"Identifier","start":6069,"end":6075,"name":"module"},"property":{"type":"Identifier","start":6076,"end":6083,"name":"exports"},"computed":false},"right":{"type":"Identifier","start":6086,"end":6094,"name":"Facebook"}}}],"sourceType":"script"}