{"type":"Program","start":0,"end":8860,"body":[{"type":"VariableDeclaration","start":0,"end":40,"declarations":[{"type":"VariableDeclarator","start":6,"end":39,"id":{"type":"Identifier","start":6,"end":14,"name":"Provider"},"init":{"type":"CallExpression","start":17,"end":39,"callee":{"type":"Identifier","start":17,"end":24,"name":"require"},"arguments":[{"type":"Literal","start":25,"end":38,"value":"../Provider","raw":"'../Provider'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":41,"end":76,"declarations":[{"type":"VariableDeclarator","start":47,"end":75,"id":{"type":"Identifier","start":47,"end":54,"name":"request"},"init":{"type":"CallExpression","start":57,"end":75,"callee":{"type":"Identifier","start":57,"end":64,"name":"require"},"arguments":[{"type":"Literal","start":65,"end":74,"value":"request","raw":"'request'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":91,"end":137,"declarations":[{"type":"VariableDeclarator","start":97,"end":136,"id":{"type":"Identifier","start":97,"end":103,"name":"purest"},"init":{"type":"CallExpression","start":106,"end":136,"callee":{"type":"CallExpression","start":106,"end":123,"callee":{"type":"Identifier","start":106,"end":113,"name":"require"},"arguments":[{"type":"Literal","start":114,"end":122,"value":"purest","raw":"'purest'"}]},"arguments":[{"type":"ObjectExpression","start":124,"end":135,"properties":[{"type":"Property","start":126,"end":133,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":126,"end":133,"name":"request"},"kind":"init","value":{"type":"Identifier","start":126,"end":133,"name":"request"}}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":138,"end":177,"declarations":[{"type":"VariableDeclarator","start":144,"end":176,"id":{"type":"Identifier","start":144,"end":150,"name":"logger"},"init":{"type":"CallExpression","start":153,"end":176,"callee":{"type":"Identifier","start":153,"end":160,"name":"require"},"arguments":[{"type":"Literal","start":161,"end":175,"value":"../../logger","raw":"'../../logger'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":178,"end":215,"declarations":[{"type":"VariableDeclarator","start":184,"end":214,"id":{"type":"Identifier","start":184,"end":191,"name":"adapter"},"init":{"type":"CallExpression","start":194,"end":214,"callee":{"type":"Identifier","start":194,"end":201,"name":"require"},"arguments":[{"type":"Literal","start":202,"end":213,"value":"./adapter","raw":"'./adapter'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":216,"end":284,"declarations":[{"type":"VariableDeclarator","start":222,"end":283,"id":{"type":"ObjectPattern","start":222,"end":261,"properties":[{"type":"Property","start":224,"end":240,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":224,"end":240,"name":"ProviderApiError"},"kind":"init","value":{"type":"Identifier","start":224,"end":240,"name":"ProviderApiError"}},{"type":"Property","start":242,"end":259,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":242,"end":259,"name":"ProviderAuthError"},"kind":"init","value":{"type":"Identifier","start":242,"end":259,"name":"ProviderAuthError"}}]},"init":{"type":"CallExpression","start":264,"end":283,"callee":{"type":"Identifier","start":264,"end":271,"name":"require"},"arguments":[{"type":"Literal","start":272,"end":282,"value":"../error","raw":"'../error'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":285,"end":429,"declarations":[{"type":"VariableDeclarator","start":291,"end":428,"id":{"type":"Identifier","start":291,"end":308,"name":"DRIVE_FILE_FIELDS"},"init":{"type":"Literal","start":311,"end":428,"value":"kind,id,name,mimeType,ownedByMe,permissions(role,emailAddress),size,modifiedTime,iconLink,thumbnailLink,teamDriveId","raw":"'kind,id,name,mimeType,ownedByMe,permissions(role,emailAddress),size,modifiedTime,iconLink,thumbnailLink,teamDriveId'"}}],"kind":"const"},{"type":"VariableDeclaration","start":430,"end":523,"declarations":[{"type":"VariableDeclarator","start":436,"end":522,"id":{"type":"Identifier","start":436,"end":454,"name":"DRIVE_FILES_FIELDS"},"init":{"type":"TemplateLiteral","start":457,"end":522,"expressions":[{"type":"Identifier","start":502,"end":519,"name":"DRIVE_FILE_FIELDS"}],"quasis":[{"type":"TemplateElement","start":458,"end":500,"value":{"raw":"kind,nextPageToken,incompleteSearch,files(","cooked":"kind,nextPageToken,incompleteSearch,files("},"tail":false},{"type":"TemplateElement","start":520,"end":521,"value":{"raw":")","cooked":")"},"tail":true}]}}],"kind":"const"},{"type":"VariableDeclaration","start":636,"end":668,"declarations":[{"type":"VariableDeclarator","start":642,"end":667,"id":{"type":"Identifier","start":642,"end":661,"name":"SHARED_DRIVE_FIELDS"},"init":{"type":"Literal","start":664,"end":667,"value":"*","raw":"'*'"}}],"kind":"const"},{"type":"ClassDeclaration","start":740,"end":8835,"id":{"type":"Identifier","start":746,"end":751,"name":"Drive"},"superClass":{"type":"Identifier","start":760,"end":768,"name":"Provider"},"body":{"type":"ClassBody","start":769,"end":8835,"body":[{"type":"MethodDefinition","start":775,"end":998,"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":775,"end":786,"name":"constructor"},"value":{"type":"FunctionExpression","start":786,"end":998,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":787,"end":794,"name":"options"}],"body":{"type":"BlockStatement","start":796,"end":998,"body":[{"type":"ExpressionStatement","start":806,"end":821,"expression":{"type":"CallExpression","start":806,"end":820,"callee":{"type":"Super","start":806,"end":811},"arguments":[{"type":"Identifier","start":812,"end":819,"name":"options"}]}},{"type":"ExpressionStatement","start":830,"end":888,"expression":{"type":"AssignmentExpression","start":830,"end":887,"operator":"=","left":{"type":"MemberExpression","start":830,"end":847,"object":{"type":"ThisExpression","start":830,"end":834},"property":{"type":"Identifier","start":835,"end":847,"name":"authProvider"},"computed":false},"right":{"type":"AssignmentExpression","start":850,"end":887,"operator":"=","left":{"type":"MemberExpression","start":850,"end":866,"object":{"type":"Identifier","start":850,"end":857,"name":"options"},"property":{"type":"Identifier","start":858,"end":866,"name":"provider"},"computed":false},"right":{"type":"MemberExpression","start":869,"end":887,"object":{"type":"Identifier","start":869,"end":874,"name":"Drive"},"property":{"type":"Identifier","start":875,"end":887,"name":"authProvider"},"computed":false}}}},{"type":"ExpressionStatement","start":897,"end":921,"expression":{"type":"AssignmentExpression","start":897,"end":920,"operator":"=","left":{"type":"MemberExpression","start":897,"end":910,"object":{"type":"Identifier","start":897,"end":904,"name":"options"},"property":{"type":"Identifier","start":905,"end":910,"name":"alias"},"computed":false},"right":{"type":"Literal","start":913,"end":920,"value":"drive","raw":"'drive'"}}},{"type":"ExpressionStatement","start":930,"end":953,"expression":{"type":"AssignmentExpression","start":930,"end":952,"operator":"=","left":{"type":"MemberExpression","start":930,"end":945,"object":{"type":"Identifier","start":930,"end":937,"name":"options"},"property":{"type":"Identifier","start":938,"end":945,"name":"version"},"computed":false},"right":{"type":"Literal","start":948,"end":952,"value":"v3","raw":"'v3'"}}},{"type":"ExpressionStatement","start":962,"end":992,"expression":{"type":"AssignmentExpression","start":962,"end":991,"operator":"=","left":{"type":"MemberExpression","start":962,"end":973,"object":{"type":"ThisExpression","start":962,"end":966},"property":{"type":"Identifier","start":967,"end":973,"name":"client"},"computed":false},"right":{"type":"CallExpression","start":976,"end":991,"callee":{"type":"Identifier","start":976,"end":982,"name":"purest"},"arguments":[{"type":"Identifier","start":983,"end":990,"name":"options"}]}}}]}}},{"type":"MethodDefinition","start":1003,"end":1061,"kind":"get","static":true,"computed":false,"key":{"type":"Identifier","start":1014,"end":1026,"name":"authProvider"},"value":{"type":"FunctionExpression","start":1026,"end":1061,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1029,"end":1061,"body":[{"type":"ReturnStatement","start":1039,"end":1055,"argument":{"type":"Literal","start":1046,"end":1054,"value":"google","raw":"'google'"}}]}}},{"type":"MethodDefinition","start":1066,"end":3020,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1066,"end":1070,"name":"list"},"value":{"type":"FunctionExpression","start":1070,"end":3020,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1071,"end":1078,"name":"options"},{"type":"Identifier","start":1080,"end":1084,"name":"done"}],"body":{"type":"BlockStatement","start":1086,"end":3020,"body":[{"type":"VariableDeclaration","start":1096,"end":1142,"declarations":[{"type":"VariableDeclarator","start":1102,"end":1141,"id":{"type":"Identifier","start":1102,"end":1111,"name":"directory"},"init":{"type":"LogicalExpression","start":1114,"end":1141,"left":{"type":"MemberExpression","start":1114,"end":1131,"object":{"type":"Identifier","start":1114,"end":1121,"name":"options"},"property":{"type":"Identifier","start":1122,"end":1131,"name":"directory"},"computed":false},"operator":"||","right":{"type":"Literal","start":1135,"end":1141,"value":"root","raw":"'root'"}}}],"kind":"const"},{"type":"VariableDeclaration","start":1151,"end":1185,"declarations":[{"type":"VariableDeclarator","start":1157,"end":1184,"id":{"type":"Identifier","start":1157,"end":1162,"name":"query"},"init":{"type":"LogicalExpression","start":1165,"end":1184,"left":{"type":"MemberExpression","start":1165,"end":1178,"object":{"type":"Identifier","start":1165,"end":1172,"name":"options"},"property":{"type":"Identifier","start":1173,"end":1178,"name":"query"},"computed":false},"operator":"||","right":{"type":"ObjectExpression","start":1182,"end":1184,"properties":[]}}}],"kind":"const"},{"type":"VariableDeclaration","start":1194,"end":1247,"declarations":[{"type":"VariableDeclarator","start":1198,"end":1246,"id":{"type":"Identifier","start":1198,"end":1217,"name":"sharedDrivesPromise"},"init":{"type":"CallExpression","start":1220,"end":1246,"callee":{"type":"MemberExpression","start":1220,"end":1235,"object":{"type":"Identifier","start":1220,"end":1227,"name":"Promise"},"property":{"type":"Identifier","start":1228,"end":1235,"name":"resolve"},"computed":false},"arguments":[{"type":"Identifier","start":1236,"end":1245,"name":"undefined"}]}}],"kind":"let"},{"type":"VariableDeclaration","start":1256,"end":1325,"declarations":[{"type":"VariableDeclarator","start":1262,"end":1324,"id":{"type":"Identifier","start":1262,"end":1284,"name":"shouldListSharedDrives"},"init":{"type":"LogicalExpression","start":1287,"end":1324,"left":{"type":"BinaryExpression","start":1287,"end":1307,"left":{"type":"Identifier","start":1287,"end":1296,"name":"directory"},"operator":"===","right":{"type":"Literal","start":1301,"end":1307,"value":"root","raw":"'root'"}},"operator":"&&","right":{"type":"UnaryExpression","start":1311,"end":1324,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1312,"end":1324,"object":{"type":"Identifier","start":1312,"end":1317,"name":"query"},"property":{"type":"Identifier","start":1318,"end":1324,"name":"cursor"},"computed":false}}}}],"kind":"const"},{"type":"IfStatement","start":1334,"end":1905,"test":{"type":"Identifier","start":1338,"end":1360,"name":"shouldListSharedDrives"},"consequent":{"type":"BlockStatement","start":1362,"end":1905,"body":[{"type":"ExpressionStatement","start":1376,"end":1895,"expression":{"type":"AssignmentExpression","start":1376,"end":1894,"operator":"=","left":{"type":"Identifier","start":1376,"end":1395,"name":"sharedDrivesPromise"},"right":{"type":"NewExpression","start":1398,"end":1894,"callee":{"type":"Identifier","start":1402,"end":1409,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":1410,"end":1893,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1411,"end":1418,"name":"resolve"}],"body":{"type":"BlockStatement","start":1423,"end":1893,"body":[{"type":"ExpressionStatement","start":1441,"end":1879,"expression":{"type":"CallExpression","start":1441,"end":1878,"callee":{"type":"MemberExpression","start":1441,"end":1643,"object":{"type":"CallExpression","start":1441,"end":1614,"callee":{"type":"MemberExpression","start":1441,"end":1599,"object":{"type":"CallExpression","start":1441,"end":1573,"callee":{"type":"MemberExpression","start":1441,"end":1540,"object":{"type":"CallExpression","start":1441,"end":1516,"callee":{"type":"MemberExpression","start":1441,"end":1506,"object":{"type":"CallExpression","start":1441,"end":1481,"callee":{"type":"MemberExpression","start":1441,"end":1479,"object":{"type":"MemberExpression","start":1441,"end":1452,"object":{"type":"ThisExpression","start":1441,"end":1445},"property":{"type":"Identifier","start":1446,"end":1452,"name":"client"},"computed":false},"property":{"type":"Identifier","start":1474,"end":1479,"name":"query"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":1503,"end":1506,"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":1507,"end":1515,"value":"drives","raw":"'drives'"}]},"property":{"type":"Identifier","start":1538,"end":1540,"name":"qs"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1541,"end":1572,"properties":[{"type":"Property","start":1543,"end":1570,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1543,"end":1549,"name":"fields"},"value":{"type":"Identifier","start":1551,"end":1570,"name":"SHARED_DRIVE_FIELDS"},"kind":"init"}]}]},"property":{"type":"Identifier","start":1595,"end":1599,"name":"auth"},"computed":false},"arguments":[{"type":"MemberExpression","start":1600,"end":1613,"object":{"type":"Identifier","start":1600,"end":1607,"name":"options"},"property":{"type":"Identifier","start":1608,"end":1613,"name":"token"},"computed":false}]},"property":{"type":"Identifier","start":1636,"end":1643,"name":"request"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1644,"end":1877,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1645,"end":1648,"name":"err"},{"type":"Identifier","start":1650,"end":1654,"name":"resp"}],"body":{"type":"BlockStatement","start":1659,"end":1877,"body":[{"type":"IfStatement","start":1681,"end":1824,"test":{"type":"Identifier","start":1685,"end":1688,"name":"err"},"consequent":{"type":"BlockStatement","start":1690,"end":1824,"body":[{"type":"ExpressionStatement","start":1716,"end":1770,"expression":{"type":"CallExpression","start":1716,"end":1769,"callee":{"type":"MemberExpression","start":1716,"end":1728,"object":{"type":"Identifier","start":1716,"end":1722,"name":"logger"},"property":{"type":"Identifier","start":1723,"end":1728,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":1729,"end":1732,"name":"err"},{"type":"Literal","start":1734,"end":1768,"value":"provider.drive.sharedDrive.error","raw":"'provider.drive.sharedDrive.error'"}]}},{"type":"ReturnStatement","start":1795,"end":1802,"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":1845,"end":1859,"expression":{"type":"CallExpression","start":1845,"end":1858,"callee":{"type":"Identifier","start":1845,"end":1852,"name":"resolve"},"arguments":[{"type":"Identifier","start":1853,"end":1857,"name":"resp"}]}}]}}]}}]}}]}}}]},"alternate":null},{"type":"VariableDeclaration","start":1914,"end":2160,"declarations":[{"type":"VariableDeclarator","start":1920,"end":2159,"id":{"type":"Identifier","start":1920,"end":1925,"name":"where"},"init":{"type":"ObjectExpression","start":1928,"end":2159,"properties":[{"type":"Property","start":1942,"end":1968,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1942,"end":1948,"name":"fields"},"value":{"type":"Identifier","start":1950,"end":1968,"name":"DRIVE_FILES_FIELDS"},"kind":"init"},{"type":"Property","start":1982,"end":2005,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1982,"end":1991,"name":"pageToken"},"value":{"type":"MemberExpression","start":1993,"end":2005,"object":{"type":"Identifier","start":1993,"end":1998,"name":"query"},"property":{"type":"Identifier","start":1999,"end":2005,"name":"cursor"},"computed":false},"kind":"init"},{"type":"Property","start":2019,"end":2067,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2019,"end":2020,"name":"q"},"value":{"type":"TemplateLiteral","start":2022,"end":2067,"expressions":[{"type":"Identifier","start":2026,"end":2035,"name":"directory"}],"quasis":[{"type":"TemplateElement","start":2023,"end":2024,"value":{"raw":"'","cooked":"'"},"tail":false},{"type":"TemplateElement","start":2036,"end":2066,"value":{"raw":"' in parents and trashed=false","cooked":"' in parents and trashed=false"},"tail":true}]},"kind":"init"},{"type":"Property","start":2081,"end":2112,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2081,"end":2106,"name":"includeItemsFromAllDrives"},"value":{"type":"Literal","start":2108,"end":2112,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":2126,"end":2149,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2126,"end":2143,"name":"supportsAllDrives"},"value":{"type":"Literal","start":2145,"end":2149,"value":true,"raw":"true"},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2169,"end":2620,"declarations":[{"type":"VariableDeclarator","start":2175,"end":2619,"id":{"type":"Identifier","start":2175,"end":2187,"name":"filesPromise"},"init":{"type":"NewExpression","start":2190,"end":2619,"callee":{"type":"Identifier","start":2194,"end":2201,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":2202,"end":2618,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2203,"end":2210,"name":"resolve"},{"type":"Identifier","start":2212,"end":2218,"name":"reject"}],"body":{"type":"BlockStatement","start":2223,"end":2618,"body":[{"type":"ExpressionStatement","start":2237,"end":2608,"expression":{"type":"CallExpression","start":2237,"end":2607,"callee":{"type":"MemberExpression","start":2237,"end":2392,"object":{"type":"CallExpression","start":2237,"end":2367,"callee":{"type":"MemberExpression","start":2237,"end":2352,"object":{"type":"CallExpression","start":2237,"end":2330,"callee":{"type":"MemberExpression","start":2237,"end":2323,"object":{"type":"CallExpression","start":2237,"end":2303,"callee":{"type":"MemberExpression","start":2237,"end":2294,"object":{"type":"CallExpression","start":2237,"end":2273,"callee":{"type":"MemberExpression","start":2237,"end":2271,"object":{"type":"MemberExpression","start":2237,"end":2248,"object":{"type":"ThisExpression","start":2237,"end":2241},"property":{"type":"Identifier","start":2242,"end":2248,"name":"client"},"computed":false},"property":{"type":"Identifier","start":2266,"end":2271,"name":"query"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":2291,"end":2294,"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":2295,"end":2302,"value":"files","raw":"'files'"}]},"property":{"type":"Identifier","start":2321,"end":2323,"name":"qs"},"computed":false},"arguments":[{"type":"Identifier","start":2324,"end":2329,"name":"where"}]},"property":{"type":"Identifier","start":2348,"end":2352,"name":"auth"},"computed":false},"arguments":[{"type":"MemberExpression","start":2353,"end":2366,"object":{"type":"Identifier","start":2353,"end":2360,"name":"options"},"property":{"type":"Identifier","start":2361,"end":2366,"name":"token"},"computed":false}]},"property":{"type":"Identifier","start":2385,"end":2392,"name":"request"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2393,"end":2606,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2394,"end":2397,"name":"err"},{"type":"Identifier","start":2399,"end":2403,"name":"resp"}],"body":{"type":"BlockStatement","start":2408,"end":2606,"body":[{"type":"IfStatement","start":2426,"end":2561,"test":{"type":"LogicalExpression","start":2430,"end":2460,"left":{"type":"Identifier","start":2430,"end":2433,"name":"err"},"operator":"||","right":{"type":"BinaryExpression","start":2437,"end":2460,"left":{"type":"MemberExpression","start":2437,"end":2452,"object":{"type":"Identifier","start":2437,"end":2441,"name":"resp"},"property":{"type":"Identifier","start":2442,"end":2452,"name":"statusCode"},"computed":false},"operator":"!==","right":{"type":"Literal","start":2457,"end":2460,"value":200,"raw":"200"}}},"consequent":{"type":"BlockStatement","start":2462,"end":2561,"body":[{"type":"ExpressionStatement","start":2484,"end":2515,"expression":{"type":"CallExpression","start":2484,"end":2514,"callee":{"type":"Identifier","start":2484,"end":2490,"name":"reject"},"arguments":[{"type":"CallExpression","start":2491,"end":2513,"callee":{"type":"MemberExpression","start":2491,"end":2502,"object":{"type":"ThisExpression","start":2491,"end":2495},"property":{"type":"Identifier","start":2496,"end":2502,"name":"_error"},"computed":false},"arguments":[{"type":"Identifier","start":2503,"end":2506,"name":"err"},{"type":"Identifier","start":2508,"end":2512,"name":"resp"}]}]}},{"type":"ReturnStatement","start":2536,"end":2543,"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":2578,"end":2592,"expression":{"type":"CallExpression","start":2578,"end":2591,"callee":{"type":"Identifier","start":2578,"end":2585,"name":"resolve"},"arguments":[{"type":"Identifier","start":2586,"end":2590,"name":"resp"}]}}]}}]}}]}}]}}],"kind":"const"},{"type":"ExpressionStatement","start":2629,"end":3014,"expression":{"type":"CallExpression","start":2629,"end":3013,"callee":{"type":"MemberExpression","start":2629,"end":2695,"object":{"type":"CallExpression","start":2629,"end":2677,"callee":{"type":"MemberExpression","start":2629,"end":2640,"object":{"type":"Identifier","start":2629,"end":2636,"name":"Promise"},"property":{"type":"Identifier","start":2637,"end":2640,"name":"all"},"computed":false},"arguments":[{"type":"ArrayExpression","start":2641,"end":2676,"elements":[{"type":"Identifier","start":2642,"end":2661,"name":"sharedDrivesPromise"},{"type":"Identifier","start":2663,"end":2675,"name":"filesPromise"}]}]},"property":{"type":"Identifier","start":2691,"end":2695,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2696,"end":2898,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ArrayPattern","start":2697,"end":2726,"elements":[{"type":"Identifier","start":2698,"end":2710,"name":"sharedDrives"},{"type":"Identifier","start":2712,"end":2725,"name":"filesResponse"}]}],"body":{"type":"BlockStatement","start":2731,"end":2898,"body":[{"type":"VariableDeclaration","start":2745,"end":2852,"declarations":[{"type":"VariableDeclarator","start":2751,"end":2851,"id":{"type":"Identifier","start":2751,"end":2761,"name":"returnData"},"init":{"type":"CallExpression","start":2764,"end":2851,"callee":{"type":"MemberExpression","start":2764,"end":2778,"object":{"type":"ThisExpression","start":2764,"end":2768},"property":{"type":"Identifier","start":2769,"end":2778,"name":"adaptData"},"computed":false},"arguments":[{"type":"MemberExpression","start":2779,"end":2797,"object":{"type":"Identifier","start":2779,"end":2792,"name":"filesResponse"},"property":{"type":"Identifier","start":2793,"end":2797,"name":"body"},"computed":false},{"type":"LogicalExpression","start":2799,"end":2832,"left":{"type":"Identifier","start":2799,"end":2811,"name":"sharedDrives"},"operator":"&&","right":{"type":"MemberExpression","start":2815,"end":2832,"object":{"type":"Identifier","start":2815,"end":2827,"name":"sharedDrives"},"property":{"type":"Identifier","start":2828,"end":2832,"name":"body"},"computed":false}},{"type":"Identifier","start":2834,"end":2843,"name":"directory"},{"type":"Identifier","start":2845,"end":2850,"name":"query"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":2865,"end":2888,"expression":{"type":"CallExpression","start":2865,"end":2887,"callee":{"type":"Identifier","start":2865,"end":2869,"name":"done"},"arguments":[{"type":"Literal","start":2870,"end":2874,"value":null,"raw":"null"},{"type":"Identifier","start":2876,"end":2886,"name":"returnData"}]}}]}},{"type":"ArrowFunctionExpression","start":2900,"end":3012,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2901,"end":2907,"name":"reqErr"}],"body":{"type":"BlockStatement","start":2912,"end":3012,"body":[{"type":"ExpressionStatement","start":2926,"end":2976,"expression":{"type":"CallExpression","start":2926,"end":2975,"callee":{"type":"MemberExpression","start":2926,"end":2938,"object":{"type":"Identifier","start":2926,"end":2932,"name":"logger"},"property":{"type":"Identifier","start":2933,"end":2938,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":2939,"end":2945,"name":"reqErr"},{"type":"Literal","start":2947,"end":2974,"value":"provider.drive.list.error","raw":"'provider.drive.list.error'"}]}},{"type":"ExpressionStatement","start":2989,"end":3002,"expression":{"type":"CallExpression","start":2989,"end":3001,"callee":{"type":"Identifier","start":2989,"end":2993,"name":"done"},"arguments":[{"type":"Identifier","start":2994,"end":3000,"name":"reqErr"}]}}]}}]}}]}}},{"type":"MethodDefinition","start":3025,"end":3264,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3025,"end":3030,"name":"stats"},"value":{"type":"FunctionExpression","start":3030,"end":3264,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":3031,"end":3044,"properties":[{"type":"Property","start":3033,"end":3035,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3033,"end":3035,"name":"id"},"kind":"init","value":{"type":"Identifier","start":3033,"end":3035,"name":"id"}},{"type":"Property","start":3037,"end":3042,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3037,"end":3042,"name":"token"},"kind":"init","value":{"type":"Identifier","start":3037,"end":3042,"name":"token"}}]},{"type":"Identifier","start":3046,"end":3050,"name":"done"}],"body":{"type":"BlockStatement","start":3052,"end":3264,"body":[{"type":"ReturnStatement","start":3062,"end":3258,"argument":{"type":"CallExpression","start":3069,"end":3257,"callee":{"type":"MemberExpression","start":3069,"end":3251,"object":{"type":"CallExpression","start":3069,"end":3230,"callee":{"type":"MemberExpression","start":3069,"end":3223,"object":{"type":"CallExpression","start":3069,"end":3205,"callee":{"type":"MemberExpression","start":3069,"end":3149,"object":{"type":"CallExpression","start":3069,"end":3133,"callee":{"type":"MemberExpression","start":3069,"end":3118,"object":{"type":"CallExpression","start":3069,"end":3101,"callee":{"type":"MemberExpression","start":3069,"end":3099,"object":{"type":"MemberExpression","start":3069,"end":3080,"object":{"type":"ThisExpression","start":3069,"end":3073},"property":{"type":"Identifier","start":3074,"end":3080,"name":"client"},"computed":false},"property":{"type":"Identifier","start":3094,"end":3099,"name":"query"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":3115,"end":3118,"name":"get"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":3119,"end":3132,"expressions":[{"type":"Identifier","start":3128,"end":3130,"name":"id"}],"quasis":[{"type":"TemplateElement","start":3120,"end":3126,"value":{"raw":"files/","cooked":"files/"},"tail":false},{"type":"TemplateElement","start":3131,"end":3131,"value":{"raw":"","cooked":""},"tail":true}]}]},"property":{"type":"Identifier","start":3147,"end":3149,"name":"qs"},"computed":false},"arguments":[{"type":"ObjectExpression","start":3150,"end":3204,"properties":[{"type":"Property","start":3152,"end":3177,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3152,"end":3158,"name":"fields"},"value":{"type":"Identifier","start":3160,"end":3177,"name":"DRIVE_FILE_FIELDS"},"kind":"init"},{"type":"Property","start":3179,"end":3202,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3179,"end":3196,"name":"supportsAllDrives"},"value":{"type":"Literal","start":3198,"end":3202,"value":true,"raw":"true"},"kind":"init"}]}]},"property":{"type":"Identifier","start":3219,"end":3223,"name":"auth"},"computed":false},"arguments":[{"type":"Identifier","start":3224,"end":3229,"name":"token"}]},"property":{"type":"Identifier","start":3244,"end":3251,"name":"request"},"computed":false},"arguments":[{"type":"Identifier","start":3252,"end":3256,"name":"done"}]}}]}}},{"type":"MethodDefinition","start":3269,"end":3607,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3269,"end":3286,"name":"_exportGsuiteFile"},"value":{"type":"FunctionExpression","start":3286,"end":3607,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3287,"end":3289,"name":"id"},{"type":"Identifier","start":3291,"end":3296,"name":"token"},{"type":"Identifier","start":3298,"end":3306,"name":"mimeType"}],"body":{"type":"BlockStatement","start":3308,"end":3607,"body":[{"type":"ExpressionStatement","start":3318,"end":3410,"expression":{"type":"CallExpression","start":3318,"end":3409,"callee":{"type":"MemberExpression","start":3318,"end":3329,"object":{"type":"Identifier","start":3318,"end":3324,"name":"logger"},"property":{"type":"Identifier","start":3325,"end":3329,"name":"info"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":3330,"end":3383,"expressions":[{"type":"Identifier","start":3364,"end":3366,"name":"id"},{"type":"Identifier","start":3373,"end":3381,"name":"mimeType"}],"quasis":[{"type":"TemplateElement","start":3331,"end":3362,"value":{"raw":"calling google file export for ","cooked":"calling google file export for "},"tail":false},{"type":"TemplateElement","start":3367,"end":3371,"value":{"raw":" to ","cooked":" to "},"tail":false},{"type":"TemplateElement","start":3382,"end":3382,"value":{"raw":"","cooked":""},"tail":true}]},{"type":"Literal","start":3385,"end":3408,"value":"provider.drive.export","raw":"'provider.drive.export'"}]}},{"type":"ReturnStatement","start":3419,"end":3601,"argument":{"type":"CallExpression","start":3426,"end":3600,"callee":{"type":"MemberExpression","start":3426,"end":3598,"object":{"type":"CallExpression","start":3426,"end":3577,"callee":{"type":"MemberExpression","start":3426,"end":3570,"object":{"type":"CallExpression","start":3426,"end":3552,"callee":{"type":"MemberExpression","start":3426,"end":3513,"object":{"type":"CallExpression","start":3426,"end":3497,"callee":{"type":"MemberExpression","start":3426,"end":3475,"object":{"type":"CallExpression","start":3426,"end":3458,"callee":{"type":"MemberExpression","start":3426,"end":3456,"object":{"type":"MemberExpression","start":3426,"end":3437,"object":{"type":"ThisExpression","start":3426,"end":3430},"property":{"type":"Identifier","start":3431,"end":3437,"name":"client"},"computed":false},"property":{"type":"Identifier","start":3451,"end":3456,"name":"query"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":3472,"end":3475,"name":"get"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":3476,"end":3496,"expressions":[{"type":"Identifier","start":3485,"end":3487,"name":"id"}],"quasis":[{"type":"TemplateElement","start":3477,"end":3483,"value":{"raw":"files/","cooked":"files/"},"tail":false},{"type":"TemplateElement","start":3488,"end":3495,"value":{"raw":"/export","cooked":"/export"},"tail":true}]}]},"property":{"type":"Identifier","start":3511,"end":3513,"name":"qs"},"computed":false},"arguments":[{"type":"ObjectExpression","start":3514,"end":3551,"properties":[{"type":"Property","start":3516,"end":3539,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3516,"end":3533,"name":"supportsAllDrives"},"value":{"type":"Literal","start":3535,"end":3539,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":3541,"end":3549,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":3541,"end":3549,"name":"mimeType"},"kind":"init","value":{"type":"Identifier","start":3541,"end":3549,"name":"mimeType"}}]}]},"property":{"type":"Identifier","start":3566,"end":3570,"name":"auth"},"computed":false},"arguments":[{"type":"Identifier","start":3571,"end":3576,"name":"token"}]},"property":{"type":"Identifier","start":3591,"end":3598,"name":"request"},"computed":false},"arguments":[]}}]}}},{"type":"MethodDefinition","start":3612,"end":4041,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3612,"end":3634,"name":"_waitForFailedResponse"},"value":{"type":"FunctionExpression","start":3634,"end":4041,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3635,"end":3639,"name":"resp"}],"body":{"type":"BlockStatement","start":3641,"end":4041,"body":[{"type":"ReturnStatement","start":3651,"end":4035,"argument":{"type":"NewExpression","start":3658,"end":4034,"callee":{"type":"Identifier","start":3662,"end":3669,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":3670,"end":4033,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3671,"end":3678,"name":"resolve"},{"type":"Identifier","start":3680,"end":3686,"name":"reject"}],"body":{"type":"BlockStatement","start":3691,"end":4033,"body":[{"type":"VariableDeclaration","start":3705,"end":3719,"declarations":[{"type":"VariableDeclarator","start":3709,"end":3718,"id":{"type":"Identifier","start":3709,"end":3713,"name":"data"},"init":{"type":"Literal","start":3716,"end":3718,"value":"","raw":"''"}}],"kind":"let"},{"type":"ExpressionStatement","start":3732,"end":4023,"expression":{"type":"CallExpression","start":3732,"end":4022,"callee":{"type":"MemberExpression","start":3732,"end":3809,"object":{"type":"CallExpression","start":3732,"end":3806,"callee":{"type":"MemberExpression","start":3732,"end":3739,"object":{"type":"Identifier","start":3732,"end":3736,"name":"resp"},"property":{"type":"Identifier","start":3737,"end":3739,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3740,"end":3746,"value":"data","raw":"'data'"},{"type":"ArrowFunctionExpression","start":3748,"end":3805,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3749,"end":3754,"name":"chunk"}],"body":{"type":"BlockStatement","start":3759,"end":3805,"body":[{"type":"ExpressionStatement","start":3777,"end":3791,"expression":{"type":"AssignmentExpression","start":3777,"end":3790,"operator":"+=","left":{"type":"Identifier","start":3777,"end":3781,"name":"data"},"right":{"type":"Identifier","start":3785,"end":3790,"name":"chunk"}}}]}}]},"property":{"type":"Identifier","start":3807,"end":3809,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3810,"end":3815,"value":"end","raw":"'end'"},{"type":"ArrowFunctionExpression","start":3817,"end":4021,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3823,"end":4021,"body":[{"type":"TryStatement","start":3841,"end":4007,"block":{"type":"BlockStatement","start":3845,"end":3922,"body":[{"type":"ExpressionStatement","start":3867,"end":3904,"expression":{"type":"CallExpression","start":3867,"end":3903,"callee":{"type":"Identifier","start":3867,"end":3874,"name":"resolve"},"arguments":[{"type":"CallExpression","start":3875,"end":3902,"callee":{"type":"MemberExpression","start":3875,"end":3885,"object":{"type":"Identifier","start":3875,"end":3879,"name":"JSON"},"property":{"type":"Identifier","start":3880,"end":3885,"name":"parse"},"computed":false},"arguments":[{"type":"CallExpression","start":3886,"end":3901,"callee":{"type":"MemberExpression","start":3886,"end":3899,"object":{"type":"Identifier","start":3886,"end":3890,"name":"data"},"property":{"type":"Identifier","start":3891,"end":3899,"name":"toString"},"computed":false},"arguments":[]}]}]}}]},"handler":{"type":"CatchClause","start":3939,"end":4007,"param":{"type":"Identifier","start":3946,"end":3951,"name":"error"},"body":{"type":"BlockStatement","start":3953,"end":4007,"body":[{"type":"ExpressionStatement","start":3975,"end":3989,"expression":{"type":"CallExpression","start":3975,"end":3988,"callee":{"type":"Identifier","start":3975,"end":3981,"name":"reject"},"arguments":[{"type":"Identifier","start":3982,"end":3987,"name":"error"}]}}]}},"finalizer":null}]}}]}}]}}]}}]}}},{"type":"MethodDefinition","start":4046,"end":5569,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":4046,"end":4054,"name":"download"},"value":{"type":"FunctionExpression","start":4054,"end":5569,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":4055,"end":4068,"properties":[{"type":"Property","start":4057,"end":4059,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4057,"end":4059,"name":"id"},"kind":"init","value":{"type":"Identifier","start":4057,"end":4059,"name":"id"}},{"type":"Property","start":4061,"end":4066,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4061,"end":4066,"name":"token"},"kind":"init","value":{"type":"Identifier","start":4061,"end":4066,"name":"token"}}]},{"type":"Identifier","start":4070,"end":4076,"name":"onData"}],"body":{"type":"BlockStatement","start":4078,"end":5569,"body":[{"type":"ExpressionStatement","start":4088,"end":5563,"expression":{"type":"CallExpression","start":4088,"end":5562,"callee":{"type":"MemberExpression","start":4088,"end":4098,"object":{"type":"ThisExpression","start":4088,"end":4092},"property":{"type":"Identifier","start":4093,"end":4098,"name":"stats"},"computed":false},"arguments":[{"type":"ObjectExpression","start":4099,"end":4112,"properties":[{"type":"Property","start":4101,"end":4103,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4101,"end":4103,"name":"id"},"kind":"init","value":{"type":"Identifier","start":4101,"end":4103,"name":"id"}},{"type":"Property","start":4105,"end":4110,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4105,"end":4110,"name":"token"},"kind":"init","value":{"type":"Identifier","start":4105,"end":4110,"name":"token"}}]},{"type":"ArrowFunctionExpression","start":4114,"end":5561,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4115,"end":4118,"name":"err"},{"type":"Identifier","start":4120,"end":4121,"name":"_"},{"type":"Identifier","start":4123,"end":4127,"name":"body"}],"body":{"type":"BlockStatement","start":4132,"end":5561,"body":[{"type":"IfStatement","start":4146,"end":4297,"test":{"type":"Identifier","start":4150,"end":4153,"name":"err"},"consequent":{"type":"BlockStatement","start":4155,"end":4297,"body":[{"type":"ExpressionStatement","start":4173,"end":4230,"expression":{"type":"CallExpression","start":4173,"end":4229,"callee":{"type":"MemberExpression","start":4173,"end":4185,"object":{"type":"Identifier","start":4173,"end":4179,"name":"logger"},"property":{"type":"Identifier","start":4180,"end":4185,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":4186,"end":4189,"name":"err"},{"type":"Literal","start":4191,"end":4228,"value":"provider.drive.download.stats.error","raw":"'provider.drive.download.stats.error'"}]}},{"type":"ExpressionStatement","start":4247,"end":4259,"expression":{"type":"CallExpression","start":4247,"end":4258,"callee":{"type":"Identifier","start":4247,"end":4253,"name":"onData"},"arguments":[{"type":"Identifier","start":4254,"end":4257,"name":"err"}]}},{"type":"ReturnStatement","start":4276,"end":4283,"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":4310,"end":4328,"declarations":[{"type":"VariableDeclarator","start":4314,"end":4327,"id":{"type":"Identifier","start":4314,"end":4327,"name":"requestStream"},"init":null}],"kind":"let"},{"type":"IfStatement","start":4341,"end":4786,"test":{"type":"CallExpression","start":4345,"end":4380,"callee":{"type":"MemberExpression","start":4345,"end":4365,"object":{"type":"Identifier","start":4345,"end":4352,"name":"adapter"},"property":{"type":"Identifier","start":4353,"end":4365,"name":"isGsuiteFile"},"computed":false},"arguments":[{"type":"MemberExpression","start":4366,"end":4379,"object":{"type":"Identifier","start":4366,"end":4370,"name":"body"},"property":{"type":"Identifier","start":4371,"end":4379,"name":"mimeType"},"computed":false}]},"consequent":{"type":"BlockStatement","start":4382,"end":4508,"body":[{"type":"ExpressionStatement","start":4400,"end":4494,"expression":{"type":"AssignmentExpression","start":4400,"end":4493,"operator":"=","left":{"type":"Identifier","start":4400,"end":4413,"name":"requestStream"},"right":{"type":"CallExpression","start":4416,"end":4493,"callee":{"type":"MemberExpression","start":4416,"end":4438,"object":{"type":"ThisExpression","start":4416,"end":4420},"property":{"type":"Identifier","start":4421,"end":4438,"name":"_exportGsuiteFile"},"computed":false},"arguments":[{"type":"Identifier","start":4439,"end":4441,"name":"id"},{"type":"Identifier","start":4443,"end":4448,"name":"token"},{"type":"CallExpression","start":4450,"end":4492,"callee":{"type":"MemberExpression","start":4450,"end":4477,"object":{"type":"Identifier","start":4450,"end":4457,"name":"adapter"},"property":{"type":"Identifier","start":4458,"end":4477,"name":"getGsuiteExportType"},"computed":false},"arguments":[{"type":"MemberExpression","start":4478,"end":4491,"object":{"type":"Identifier","start":4478,"end":4482,"name":"body"},"property":{"type":"Identifier","start":4483,"end":4491,"name":"mimeType"},"computed":false}]}]}}}]},"alternate":{"type":"BlockStatement","start":4526,"end":4786,"body":[{"type":"ExpressionStatement","start":4544,"end":4772,"expression":{"type":"AssignmentExpression","start":4544,"end":4771,"operator":"=","left":{"type":"Identifier","start":4544,"end":4557,"name":"requestStream"},"right":{"type":"CallExpression","start":4560,"end":4771,"callee":{"type":"MemberExpression","start":4560,"end":4769,"object":{"type":"CallExpression","start":4560,"end":4740,"callee":{"type":"MemberExpression","start":4560,"end":4733,"object":{"type":"CallExpression","start":4560,"end":4707,"callee":{"type":"MemberExpression","start":4560,"end":4664,"object":{"type":"CallExpression","start":4560,"end":4640,"callee":{"type":"MemberExpression","start":4560,"end":4625,"object":{"type":"CallExpression","start":4560,"end":4600,"callee":{"type":"MemberExpression","start":4560,"end":4598,"object":{"type":"MemberExpression","start":4560,"end":4571,"object":{"type":"ThisExpression","start":4560,"end":4564},"property":{"type":"Identifier","start":4565,"end":4571,"name":"client"},"computed":false},"property":{"type":"Identifier","start":4593,"end":4598,"name":"query"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":4622,"end":4625,"name":"get"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":4626,"end":4639,"expressions":[{"type":"Identifier","start":4635,"end":4637,"name":"id"}],"quasis":[{"type":"TemplateElement","start":4627,"end":4633,"value":{"raw":"files/","cooked":"files/"},"tail":false},{"type":"TemplateElement","start":4638,"end":4638,"value":{"raw":"","cooked":""},"tail":true}]}]},"property":{"type":"Identifier","start":4662,"end":4664,"name":"qs"},"computed":false},"arguments":[{"type":"ObjectExpression","start":4665,"end":4706,"properties":[{"type":"Property","start":4667,"end":4679,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4667,"end":4670,"name":"alt"},"value":{"type":"Literal","start":4672,"end":4679,"value":"media","raw":"'media'"},"kind":"init"},{"type":"Property","start":4681,"end":4704,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4681,"end":4698,"name":"supportsAllDrives"},"value":{"type":"Literal","start":4700,"end":4704,"value":true,"raw":"true"},"kind":"init"}]}]},"property":{"type":"Identifier","start":4729,"end":4733,"name":"auth"},"computed":false},"arguments":[{"type":"Identifier","start":4734,"end":4739,"name":"token"}]},"property":{"type":"Identifier","start":4762,"end":4769,"name":"request"},"computed":false},"arguments":[]}}}]}},{"type":"ExpressionStatement","start":4799,"end":5551,"expression":{"type":"CallExpression","start":4799,"end":5550,"callee":{"type":"MemberExpression","start":4799,"end":5418,"object":{"type":"CallExpression","start":4799,"end":5398,"callee":{"type":"MemberExpression","start":4799,"end":5365,"object":{"type":"CallExpression","start":4799,"end":5345,"callee":{"type":"MemberExpression","start":4799,"end":4832,"object":{"type":"Identifier","start":4799,"end":4812,"name":"requestStream"},"property":{"type":"Identifier","start":4830,"end":4832,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":4833,"end":4843,"value":"response","raw":"'response'"},{"type":"ArrowFunctionExpression","start":4845,"end":5344,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4846,"end":4850,"name":"resp"}],"body":{"type":"BlockStatement","start":4855,"end":5344,"body":[{"type":"IfStatement","start":4873,"end":5330,"test":{"type":"BinaryExpression","start":4877,"end":4900,"left":{"type":"MemberExpression","start":4877,"end":4892,"object":{"type":"Identifier","start":4877,"end":4881,"name":"resp"},"property":{"type":"Identifier","start":4882,"end":4892,"name":"statusCode"},"computed":false},"operator":"!==","right":{"type":"Literal","start":4897,"end":4900,"value":200,"raw":"200"}},"consequent":{"type":"BlockStatement","start":4902,"end":5220,"body":[{"type":"ExpressionStatement","start":4924,"end":5202,"expression":{"type":"CallExpression","start":4924,"end":5201,"callee":{"type":"MemberExpression","start":4924,"end":5160,"object":{"type":"CallExpression","start":4924,"end":5129,"callee":{"type":"MemberExpression","start":4924,"end":4987,"object":{"type":"CallExpression","start":4924,"end":4957,"callee":{"type":"MemberExpression","start":4924,"end":4951,"object":{"type":"ThisExpression","start":4924,"end":4928},"property":{"type":"Identifier","start":4929,"end":4951,"name":"_waitForFailedResponse"},"computed":false},"arguments":[{"type":"Identifier","start":4952,"end":4956,"name":"resp"}]},"property":{"type":"Identifier","start":4983,"end":4987,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4988,"end":5128,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4989,"end":4997,"name":"jsonResp"}],"body":{"type":"BlockStatement","start":5002,"end":5128,"body":[{"type":"ExpressionStatement","start":5028,"end":5049,"expression":{"type":"AssignmentExpression","start":5028,"end":5048,"operator":"=","left":{"type":"MemberExpression","start":5028,"end":5037,"object":{"type":"Identifier","start":5028,"end":5032,"name":"resp"},"property":{"type":"Identifier","start":5033,"end":5037,"name":"body"},"computed":false},"right":{"type":"Identifier","start":5040,"end":5048,"name":"jsonResp"}}},{"type":"ExpressionStatement","start":5074,"end":5106,"expression":{"type":"CallExpression","start":5074,"end":5105,"callee":{"type":"Identifier","start":5074,"end":5080,"name":"onData"},"arguments":[{"type":"CallExpression","start":5081,"end":5104,"callee":{"type":"MemberExpression","start":5081,"end":5092,"object":{"type":"ThisExpression","start":5081,"end":5085},"property":{"type":"Identifier","start":5086,"end":5092,"name":"_error"},"computed":false},"arguments":[{"type":"Literal","start":5093,"end":5097,"value":null,"raw":"null"},{"type":"Identifier","start":5099,"end":5103,"name":"resp"}]}]}}]}}]},"property":{"type":"Identifier","start":5155,"end":5160,"name":"catch"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":5161,"end":5200,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":5162,"end":5165,"name":"err"}],"body":{"type":"CallExpression","start":5170,"end":5200,"callee":{"type":"Identifier","start":5170,"end":5176,"name":"onData"},"arguments":[{"type":"CallExpression","start":5177,"end":5199,"callee":{"type":"MemberExpression","start":5177,"end":5188,"object":{"type":"ThisExpression","start":5177,"end":5181},"property":{"type":"Identifier","start":5182,"end":5188,"name":"_error"},"computed":false},"arguments":[{"type":"Identifier","start":5189,"end":5192,"name":"err"},{"type":"Identifier","start":5194,"end":5198,"name":"resp"}]}]}}]}}]},"alternate":{"type":"BlockStatement","start":5242,"end":5330,"body":[{"type":"ExpressionStatement","start":5264,"end":5312,"expression":{"type":"CallExpression","start":5264,"end":5311,"callee":{"type":"MemberExpression","start":5264,"end":5271,"object":{"type":"Identifier","start":5264,"end":5268,"name":"resp"},"property":{"type":"Identifier","start":5269,"end":5271,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":5272,"end":5278,"value":"data","raw":"'data'"},{"type":"ArrowFunctionExpression","start":5280,"end":5310,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":5281,"end":5286,"name":"chunk"}],"body":{"type":"CallExpression","start":5291,"end":5310,"callee":{"type":"Identifier","start":5291,"end":5297,"name":"onData"},"arguments":[{"type":"Literal","start":5298,"end":5302,"value":null,"raw":"null"},{"type":"Identifier","start":5304,"end":5309,"name":"chunk"}]}}]}}]}}]}}]},"property":{"type":"Identifier","start":5363,"end":5365,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":5366,"end":5371,"value":"end","raw":"'end'"},{"type":"ArrowFunctionExpression","start":5373,"end":5397,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":5379,"end":5397,"callee":{"type":"Identifier","start":5379,"end":5385,"name":"onData"},"arguments":[{"type":"Literal","start":5386,"end":5390,"value":null,"raw":"null"},{"type":"Literal","start":5392,"end":5396,"value":null,"raw":"null"}]}}]},"property":{"type":"Identifier","start":5416,"end":5418,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":5419,"end":5426,"value":"error","raw":"'error'"},{"type":"ArrowFunctionExpression","start":5428,"end":5549,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5429,"end":5432,"name":"err"}],"body":{"type":"BlockStatement","start":5437,"end":5549,"body":[{"type":"ExpressionStatement","start":5455,"end":5506,"expression":{"type":"CallExpression","start":5455,"end":5505,"callee":{"type":"MemberExpression","start":5455,"end":5467,"object":{"type":"Identifier","start":5455,"end":5461,"name":"logger"},"property":{"type":"Identifier","start":5462,"end":5467,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":5468,"end":5471,"name":"err"},{"type":"Literal","start":5473,"end":5504,"value":"provider.drive.download.error","raw":"'provider.drive.download.error'"}]}},{"type":"ExpressionStatement","start":5523,"end":5535,"expression":{"type":"CallExpression","start":5523,"end":5534,"callee":{"type":"Identifier","start":5523,"end":5529,"name":"onData"},"arguments":[{"type":"Identifier","start":5530,"end":5533,"name":"err"}]}}]}}]}}]}}]}}]}}},{"type":"MethodDefinition","start":5574,"end":5856,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":5574,"end":5583,"name":"thumbnail"},"value":{"type":"FunctionExpression","start":5583,"end":5856,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5584,"end":5585,"name":"_"},{"type":"Identifier","start":5587,"end":5591,"name":"done"}],"body":{"type":"BlockStatement","start":5593,"end":5856,"body":[{"type":"VariableDeclaration","start":5701,"end":5763,"declarations":[{"type":"VariableDeclarator","start":5707,"end":5762,"id":{"type":"Identifier","start":5707,"end":5710,"name":"err"},"init":{"type":"NewExpression","start":5713,"end":5762,"callee":{"type":"Identifier","start":5717,"end":5722,"name":"Error"},"arguments":[{"type":"Literal","start":5723,"end":5761,"value":"call to thumbnail is not implemented","raw":"'call to thumbnail is not implemented'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":5772,"end":5824,"expression":{"type":"CallExpression","start":5772,"end":5823,"callee":{"type":"MemberExpression","start":5772,"end":5784,"object":{"type":"Identifier","start":5772,"end":5778,"name":"logger"},"property":{"type":"Identifier","start":5779,"end":5784,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":5785,"end":5788,"name":"err"},{"type":"Literal","start":5790,"end":5822,"value":"provider.drive.thumbnail.error","raw":"'provider.drive.thumbnail.error'"}]}},{"type":"ReturnStatement","start":5833,"end":5850,"argument":{"type":"CallExpression","start":5840,"end":5849,"callee":{"type":"Identifier","start":5840,"end":5844,"name":"done"},"arguments":[{"type":"Identifier","start":5845,"end":5848,"name":"err"}]}}]}}},{"type":"MethodDefinition","start":5861,"end":6742,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":5861,"end":5865,"name":"size"},"value":{"type":"FunctionExpression","start":5865,"end":6742,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":5866,"end":5879,"properties":[{"type":"Property","start":5868,"end":5870,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5868,"end":5870,"name":"id"},"kind":"init","value":{"type":"Identifier","start":5868,"end":5870,"name":"id"}},{"type":"Property","start":5872,"end":5877,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5872,"end":5877,"name":"token"},"kind":"init","value":{"type":"Identifier","start":5872,"end":5877,"name":"token"}}]},{"type":"Identifier","start":5881,"end":5885,"name":"done"}],"body":{"type":"BlockStatement","start":5887,"end":6742,"body":[{"type":"ReturnStatement","start":5897,"end":6736,"argument":{"type":"CallExpression","start":5904,"end":6735,"callee":{"type":"MemberExpression","start":5904,"end":5914,"object":{"type":"ThisExpression","start":5904,"end":5908},"property":{"type":"Identifier","start":5909,"end":5914,"name":"stats"},"computed":false},"arguments":[{"type":"ObjectExpression","start":5915,"end":5928,"properties":[{"type":"Property","start":5917,"end":5919,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5917,"end":5919,"name":"id"},"kind":"init","value":{"type":"Identifier","start":5917,"end":5919,"name":"id"}},{"type":"Property","start":5921,"end":5926,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5921,"end":5926,"name":"token"},"kind":"init","value":{"type":"Identifier","start":5921,"end":5926,"name":"token"}}]},{"type":"ArrowFunctionExpression","start":5930,"end":6734,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5931,"end":5934,"name":"err"},{"type":"Identifier","start":5936,"end":5940,"name":"resp"},{"type":"Identifier","start":5942,"end":5946,"name":"body"}],"body":{"type":"BlockStatement","start":5951,"end":6734,"body":[{"type":"IfStatement","start":5965,"end":6160,"test":{"type":"LogicalExpression","start":5969,"end":5999,"left":{"type":"Identifier","start":5969,"end":5972,"name":"err"},"operator":"||","right":{"type":"BinaryExpression","start":5976,"end":5999,"left":{"type":"MemberExpression","start":5976,"end":5991,"object":{"type":"Identifier","start":5976,"end":5980,"name":"resp"},"property":{"type":"Identifier","start":5981,"end":5991,"name":"statusCode"},"computed":false},"operator":"!==","right":{"type":"Literal","start":5996,"end":5999,"value":200,"raw":"200"}}},"consequent":{"type":"BlockStatement","start":6001,"end":6160,"body":[{"type":"ExpressionStatement","start":6019,"end":6048,"expression":{"type":"AssignmentExpression","start":6019,"end":6047,"operator":"=","left":{"type":"Identifier","start":6019,"end":6022,"name":"err"},"right":{"type":"CallExpression","start":6025,"end":6047,"callee":{"type":"MemberExpression","start":6025,"end":6036,"object":{"type":"ThisExpression","start":6025,"end":6029},"property":{"type":"Identifier","start":6030,"end":6036,"name":"_error"},"computed":false},"arguments":[{"type":"Identifier","start":6037,"end":6040,"name":"err"},{"type":"Identifier","start":6042,"end":6046,"name":"resp"}]}}},{"type":"ExpressionStatement","start":6065,"end":6112,"expression":{"type":"CallExpression","start":6065,"end":6111,"callee":{"type":"MemberExpression","start":6065,"end":6077,"object":{"type":"Identifier","start":6065,"end":6071,"name":"logger"},"property":{"type":"Identifier","start":6072,"end":6077,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":6078,"end":6081,"name":"err"},{"type":"Literal","start":6083,"end":6110,"value":"provider.drive.size.error","raw":"'provider.drive.size.error'"}]}},{"type":"ReturnStatement","start":6129,"end":6146,"argument":{"type":"CallExpression","start":6136,"end":6145,"callee":{"type":"Identifier","start":6136,"end":6140,"name":"done"},"arguments":[{"type":"Identifier","start":6141,"end":6144,"name":"err"}]}}]},"alternate":null},{"type":"IfStatement","start":6173,"end":6724,"test":{"type":"CallExpression","start":6177,"end":6212,"callee":{"type":"MemberExpression","start":6177,"end":6197,"object":{"type":"Identifier","start":6177,"end":6184,"name":"adapter"},"property":{"type":"Identifier","start":6185,"end":6197,"name":"isGsuiteFile"},"computed":false},"arguments":[{"type":"MemberExpression","start":6198,"end":6211,"object":{"type":"Identifier","start":6198,"end":6202,"name":"body"},"property":{"type":"Identifier","start":6203,"end":6211,"name":"mimeType"},"computed":false}]},"consequent":{"type":"BlockStatement","start":6214,"end":6642,"body":[{"type":"VariableDeclaration","start":6529,"end":6572,"declarations":[{"type":"VariableDeclarator","start":6535,"end":6571,"id":{"type":"Identifier","start":6535,"end":6552,"name":"maxExportFileSize"},"init":{"type":"BinaryExpression","start":6555,"end":6571,"left":{"type":"BinaryExpression","start":6555,"end":6564,"left":{"type":"Literal","start":6555,"end":6557,"value":10,"raw":"10"},"operator":"*","right":{"type":"Literal","start":6560,"end":6564,"value":1024,"raw":"1024"}},"operator":"*","right":{"type":"Literal","start":6567,"end":6571,"value":1024,"raw":"1024"}}}],"kind":"const"},{"type":"ExpressionStatement","start":6598,"end":6628,"expression":{"type":"CallExpression","start":6598,"end":6627,"callee":{"type":"Identifier","start":6598,"end":6602,"name":"done"},"arguments":[{"type":"Literal","start":6603,"end":6607,"value":null,"raw":"null"},{"type":"Identifier","start":6609,"end":6626,"name":"maxExportFileSize"}]}}]},"alternate":{"type":"BlockStatement","start":6660,"end":6724,"body":[{"type":"ExpressionStatement","start":6678,"end":6710,"expression":{"type":"CallExpression","start":6678,"end":6709,"callee":{"type":"Identifier","start":6678,"end":6682,"name":"done"},"arguments":[{"type":"Literal","start":6683,"end":6687,"value":null,"raw":"null"},{"type":"CallExpression","start":6689,"end":6708,"callee":{"type":"Identifier","start":6689,"end":6697,"name":"parseInt"},"arguments":[{"type":"MemberExpression","start":6698,"end":6707,"object":{"type":"Identifier","start":6698,"end":6702,"name":"body"},"property":{"type":"Identifier","start":6703,"end":6707,"name":"size"},"computed":false}]}]}}]}}]}}]}}]}}},{"type":"MethodDefinition","start":6747,"end":7189,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":6747,"end":6753,"name":"logout"},"value":{"type":"FunctionExpression","start":6753,"end":7189,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":6754,"end":6763,"properties":[{"type":"Property","start":6756,"end":6761,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6756,"end":6761,"name":"token"},"kind":"init","value":{"type":"Identifier","start":6756,"end":6761,"name":"token"}}]},{"type":"Identifier","start":6765,"end":6769,"name":"done"}],"body":{"type":"BlockStatement","start":6771,"end":7189,"body":[{"type":"ReturnStatement","start":6781,"end":7183,"argument":{"type":"CallExpression","start":6788,"end":7182,"callee":{"type":"MemberExpression","start":6788,"end":6911,"object":{"type":"CallExpression","start":6788,"end":6890,"callee":{"type":"MemberExpression","start":6788,"end":6879,"object":{"type":"CallExpression","start":6788,"end":6863,"callee":{"type":"MemberExpression","start":6788,"end":6816,"object":{"type":"MemberExpression","start":6788,"end":6799,"object":{"type":"ThisExpression","start":6788,"end":6792},"property":{"type":"Identifier","start":6793,"end":6799,"name":"client"},"computed":false},"property":{"type":"Identifier","start":6813,"end":6816,"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":6817,"end":6862,"value":"https://accounts.google.com/o/oauth2/revoke","raw":"'https://accounts.google.com/o/oauth2/revoke'"}]},"property":{"type":"Identifier","start":6877,"end":6879,"name":"qs"},"computed":false},"arguments":[{"type":"ObjectExpression","start":6880,"end":6889,"properties":[{"type":"Property","start":6882,"end":6887,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6882,"end":6887,"name":"token"},"kind":"init","value":{"type":"Identifier","start":6882,"end":6887,"name":"token"}}]}]},"property":{"type":"Identifier","start":6904,"end":6911,"name":"request"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":6912,"end":7181,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6913,"end":6916,"name":"err"},{"type":"Identifier","start":6918,"end":6922,"name":"resp"}],"body":{"type":"BlockStatement","start":6927,"end":7181,"body":[{"type":"IfStatement","start":6941,"end":7128,"test":{"type":"LogicalExpression","start":6945,"end":6975,"left":{"type":"Identifier","start":6945,"end":6948,"name":"err"},"operator":"||","right":{"type":"BinaryExpression","start":6952,"end":6975,"left":{"type":"MemberExpression","start":6952,"end":6967,"object":{"type":"Identifier","start":6952,"end":6956,"name":"resp"},"property":{"type":"Identifier","start":6957,"end":6967,"name":"statusCode"},"computed":false},"operator":"!==","right":{"type":"Literal","start":6972,"end":6975,"value":200,"raw":"200"}}},"consequent":{"type":"BlockStatement","start":6977,"end":7128,"body":[{"type":"ExpressionStatement","start":6995,"end":7044,"expression":{"type":"CallExpression","start":6995,"end":7043,"callee":{"type":"MemberExpression","start":6995,"end":7007,"object":{"type":"Identifier","start":6995,"end":7001,"name":"logger"},"property":{"type":"Identifier","start":7002,"end":7007,"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":7008,"end":7011,"name":"err"},{"type":"Literal","start":7013,"end":7042,"value":"provider.drive.logout.error","raw":"'provider.drive.logout.error'"}]}},{"type":"ExpressionStatement","start":7061,"end":7090,"expression":{"type":"CallExpression","start":7061,"end":7089,"callee":{"type":"Identifier","start":7061,"end":7065,"name":"done"},"arguments":[{"type":"CallExpression","start":7066,"end":7088,"callee":{"type":"MemberExpression","start":7066,"end":7077,"object":{"type":"ThisExpression","start":7066,"end":7070},"property":{"type":"Identifier","start":7071,"end":7077,"name":"_error"},"computed":false},"arguments":[{"type":"Identifier","start":7078,"end":7081,"name":"err"},{"type":"Identifier","start":7083,"end":7087,"name":"resp"}]}]}},{"type":"ReturnStatement","start":7107,"end":7114,"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":7141,"end":7171,"expression":{"type":"CallExpression","start":7141,"end":7170,"callee":{"type":"Identifier","start":7141,"end":7145,"name":"done"},"arguments":[{"type":"Literal","start":7146,"end":7150,"value":null,"raw":"null"},{"type":"ObjectExpression","start":7152,"end":7169,"properties":[{"type":"Property","start":7154,"end":7167,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7154,"end":7161,"name":"revoked"},"value":{"type":"Literal","start":7163,"end":7167,"value":true,"raw":"true"},"kind":"init"}]}]}}]}}]}}]}}},{"type":"MethodDefinition","start":7194,"end":8433,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":7194,"end":7203,"name":"adaptData"},"value":{"type":"FunctionExpression","start":7203,"end":8433,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7204,"end":7207,"name":"res"},{"type":"Identifier","start":7209,"end":7225,"name":"sharedDrivesResp"},{"type":"Identifier","start":7227,"end":7236,"name":"directory"},{"type":"Identifier","start":7238,"end":7243,"name":"query"}],"body":{"type":"BlockStatement","start":7245,"end":8433,"body":[{"type":"VariableDeclaration","start":7255,"end":8038,"declarations":[{"type":"VariableDeclarator","start":7261,"end":8037,"id":{"type":"Identifier","start":7261,"end":7270,"name":"adaptItem"},"init":{"type":"ArrowFunctionExpression","start":7273,"end":8037,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7274,"end":7278,"name":"item"}],"body":{"type":"ObjectExpression","start":7284,"end":8036,"properties":[{"type":"Property","start":7298,"end":7330,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7298,"end":7306,"name":"isFolder"},"value":{"type":"CallExpression","start":7308,"end":7330,"callee":{"type":"MemberExpression","start":7308,"end":7324,"object":{"type":"Identifier","start":7308,"end":7315,"name":"adapter"},"property":{"type":"Identifier","start":7316,"end":7324,"name":"isFolder"},"computed":false},"arguments":[{"type":"Identifier","start":7325,"end":7329,"name":"item"}]},"kind":"init"},{"type":"Property","start":7344,"end":7375,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7344,"end":7348,"name":"icon"},"value":{"type":"CallExpression","start":7350,"end":7375,"callee":{"type":"MemberExpression","start":7350,"end":7369,"object":{"type":"Identifier","start":7350,"end":7357,"name":"adapter"},"property":{"type":"Identifier","start":7358,"end":7369,"name":"getItemIcon"},"computed":false},"arguments":[{"type":"Identifier","start":7370,"end":7374,"name":"item"}]},"kind":"init"},{"type":"Property","start":7389,"end":7420,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7389,"end":7393,"name":"name"},"value":{"type":"CallExpression","start":7395,"end":7420,"callee":{"type":"MemberExpression","start":7395,"end":7414,"object":{"type":"Identifier","start":7395,"end":7402,"name":"adapter"},"property":{"type":"Identifier","start":7403,"end":7414,"name":"getItemName"},"computed":false},"arguments":[{"type":"Identifier","start":7415,"end":7419,"name":"item"}]},"kind":"init"},{"type":"Property","start":7434,"end":7469,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7434,"end":7442,"name":"mimeType"},"value":{"type":"CallExpression","start":7444,"end":7469,"callee":{"type":"MemberExpression","start":7444,"end":7463,"object":{"type":"Identifier","start":7444,"end":7451,"name":"adapter"},"property":{"type":"Identifier","start":7452,"end":7463,"name":"getMimeType"},"computed":false},"arguments":[{"type":"Identifier","start":7464,"end":7468,"name":"item"}]},"kind":"init"},{"type":"Property","start":7483,"end":7510,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7483,"end":7485,"name":"id"},"value":{"type":"CallExpression","start":7487,"end":7510,"callee":{"type":"MemberExpression","start":7487,"end":7504,"object":{"type":"Identifier","start":7487,"end":7494,"name":"adapter"},"property":{"type":"Identifier","start":7495,"end":7504,"name":"getItemId"},"computed":false},"arguments":[{"type":"Identifier","start":7505,"end":7509,"name":"item"}]},"kind":"init"},{"type":"Property","start":7524,"end":7568,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7524,"end":7533,"name":"thumbnail"},"value":{"type":"CallExpression","start":7535,"end":7568,"callee":{"type":"MemberExpression","start":7535,"end":7562,"object":{"type":"Identifier","start":7535,"end":7542,"name":"adapter"},"property":{"type":"Identifier","start":7543,"end":7562,"name":"getItemThumbnailUrl"},"computed":false},"arguments":[{"type":"Identifier","start":7563,"end":7567,"name":"item"}]},"kind":"init"},{"type":"Property","start":7582,"end":7627,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7582,"end":7593,"name":"requestPath"},"value":{"type":"CallExpression","start":7595,"end":7627,"callee":{"type":"MemberExpression","start":7595,"end":7621,"object":{"type":"Identifier","start":7595,"end":7602,"name":"adapter"},"property":{"type":"Identifier","start":7603,"end":7621,"name":"getItemRequestPath"},"computed":false},"arguments":[{"type":"Identifier","start":7622,"end":7626,"name":"item"}]},"kind":"init"},{"type":"Property","start":7641,"end":7688,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7641,"end":7653,"name":"modifiedDate"},"value":{"type":"CallExpression","start":7655,"end":7688,"callee":{"type":"MemberExpression","start":7655,"end":7682,"object":{"type":"Identifier","start":7655,"end":7662,"name":"adapter"},"property":{"type":"Identifier","start":7663,"end":7682,"name":"getItemModifiedDate"},"computed":false},"arguments":[{"type":"Identifier","start":7683,"end":7687,"name":"item"}]},"kind":"init"},{"type":"Property","start":7702,"end":7733,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7702,"end":7706,"name":"size"},"value":{"type":"CallExpression","start":7708,"end":7733,"callee":{"type":"MemberExpression","start":7708,"end":7727,"object":{"type":"Identifier","start":7708,"end":7715,"name":"adapter"},"property":{"type":"Identifier","start":7716,"end":7727,"name":"getItemSize"},"computed":false},"arguments":[{"type":"Identifier","start":7728,"end":7732,"name":"item"}]},"kind":"init"},{"type":"Property","start":7747,"end":8026,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7747,"end":7753,"name":"custom"},"value":{"type":"ObjectExpression","start":7755,"end":8026,"properties":[{"type":"Property","start":7912,"end":7952,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7912,"end":7923,"name":"isTeamDrive"},"value":{"type":"CallExpression","start":7925,"end":7952,"callee":{"type":"MemberExpression","start":7925,"end":7946,"object":{"type":"Identifier","start":7925,"end":7932,"name":"adapter"},"property":{"type":"Identifier","start":7933,"end":7946,"name":"isSharedDrive"},"computed":false},"arguments":[{"type":"Identifier","start":7947,"end":7951,"name":"item"}]},"kind":"init"},{"type":"Property","start":7970,"end":8012,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7970,"end":7983,"name":"isSharedDrive"},"value":{"type":"CallExpression","start":7985,"end":8012,"callee":{"type":"MemberExpression","start":7985,"end":8006,"object":{"type":"Identifier","start":7985,"end":7992,"name":"adapter"},"property":{"type":"Identifier","start":7993,"end":8006,"name":"isSharedDrive"},"computed":false},"arguments":[{"type":"Identifier","start":8007,"end":8011,"name":"item"}]},"kind":"init"}]},"kind":"init"}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":8047,"end":8089,"declarations":[{"type":"VariableDeclarator","start":8053,"end":8088,"id":{"type":"Identifier","start":8053,"end":8058,"name":"items"},"init":{"type":"CallExpression","start":8061,"end":8088,"callee":{"type":"MemberExpression","start":8061,"end":8083,"object":{"type":"Identifier","start":8061,"end":8068,"name":"adapter"},"property":{"type":"Identifier","start":8069,"end":8083,"name":"getItemSubList"},"computed":false},"arguments":[{"type":"Identifier","start":8084,"end":8087,"name":"res"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":8098,"end":8173,"declarations":[{"type":"VariableDeclarator","start":8104,"end":8172,"id":{"type":"Identifier","start":8104,"end":8116,"name":"sharedDrives"},"init":{"type":"ConditionalExpression","start":8119,"end":8172,"test":{"type":"Identifier","start":8119,"end":8135,"name":"sharedDrivesResp"},"consequent":{"type":"LogicalExpression","start":8138,"end":8167,"left":{"type":"MemberExpression","start":8138,"end":8161,"object":{"type":"Identifier","start":8138,"end":8154,"name":"sharedDrivesResp"},"property":{"type":"Identifier","start":8155,"end":8161,"name":"drives"},"computed":false},"operator":"||","right":{"type":"ArrayExpression","start":8165,"end":8167,"elements":[]}},"alternate":{"type":"ArrayExpression","start":8170,"end":8172,"elements":[]}}}],"kind":"const"},{"type":"VariableDeclaration","start":8182,"end":8245,"declarations":[{"type":"VariableDeclarator","start":8188,"end":8244,"id":{"type":"Identifier","start":8188,"end":8200,"name":"adaptedItems"},"init":{"type":"CallExpression","start":8203,"end":8244,"callee":{"type":"MemberExpression","start":8203,"end":8233,"object":{"type":"CallExpression","start":8203,"end":8229,"callee":{"type":"MemberExpression","start":8203,"end":8222,"object":{"type":"Identifier","start":8203,"end":8215,"name":"sharedDrives"},"property":{"type":"Identifier","start":8216,"end":8222,"name":"concat"},"computed":false},"arguments":[{"type":"Identifier","start":8223,"end":8228,"name":"items"}]},"property":{"type":"Identifier","start":8230,"end":8233,"name":"map"},"computed":false},"arguments":[{"type":"Identifier","start":8234,"end":8243,"name":"adaptItem"}]}}],"kind":"const"},{"type":"ReturnStatement","start":8254,"end":8427,"argument":{"type":"ObjectExpression","start":8261,"end":8426,"properties":[{"type":"Property","start":8275,"end":8309,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8275,"end":8283,"name":"username"},"value":{"type":"CallExpression","start":8285,"end":8309,"callee":{"type":"MemberExpression","start":8285,"end":8304,"object":{"type":"Identifier","start":8285,"end":8292,"name":"adapter"},"property":{"type":"Identifier","start":8293,"end":8304,"name":"getUsername"},"computed":false},"arguments":[{"type":"Identifier","start":8305,"end":8308,"name":"res"}]},"kind":"init"},{"type":"Property","start":8323,"end":8342,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8323,"end":8328,"name":"items"},"value":{"type":"Identifier","start":8330,"end":8342,"name":"adaptedItems"},"kind":"init"},{"type":"Property","start":8356,"end":8416,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8356,"end":8368,"name":"nextPagePath"},"value":{"type":"CallExpression","start":8370,"end":8416,"callee":{"type":"MemberExpression","start":8370,"end":8393,"object":{"type":"Identifier","start":8370,"end":8377,"name":"adapter"},"property":{"type":"Identifier","start":8378,"end":8393,"name":"getNextPagePath"},"computed":false},"arguments":[{"type":"Identifier","start":8394,"end":8397,"name":"res"},{"type":"Identifier","start":8399,"end":8404,"name":"query"},{"type":"Identifier","start":8406,"end":8415,"name":"directory"}]},"kind":"init"}]}}]}}},{"type":"MethodDefinition","start":8438,"end":8833,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":8438,"end":8444,"name":"_error"},"value":{"type":"FunctionExpression","start":8444,"end":8833,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8445,"end":8448,"name":"err"},{"type":"Identifier","start":8450,"end":8454,"name":"resp"}],"body":{"type":"BlockStatement","start":8456,"end":8833,"body":[{"type":"IfStatement","start":8466,"end":8807,"test":{"type":"Identifier","start":8470,"end":8474,"name":"resp"},"consequent":{"type":"BlockStatement","start":8476,"end":8807,"body":[{"type":"VariableDeclaration","start":8490,"end":8576,"declarations":[{"type":"VariableDeclarator","start":8496,"end":8575,"id":{"type":"Identifier","start":8496,"end":8511,"name":"fallbackMessage"},"init":{"type":"TemplateLiteral","start":8514,"end":8575,"expressions":[{"type":"MemberExpression","start":8528,"end":8545,"object":{"type":"ThisExpression","start":8528,"end":8532},"property":{"type":"Identifier","start":8533,"end":8545,"name":"authProvider"},"computed":false},{"type":"MemberExpression","start":8558,"end":8573,"object":{"type":"Identifier","start":8558,"end":8562,"name":"resp"},"property":{"type":"Identifier","start":8563,"end":8573,"name":"statusCode"},"computed":false}],"quasis":[{"type":"TemplateElement","start":8515,"end":8526,"value":{"raw":"request to ","cooked":"request to "},"tail":false},{"type":"TemplateElement","start":8546,"end":8556,"value":{"raw":" returned ","cooked":" returned "},"tail":false},{"type":"TemplateElement","start":8574,"end":8574,"value":{"raw":"","cooked":""},"tail":true}]}}],"kind":"const"},{"type":"VariableDeclaration","start":8589,"end":8679,"declarations":[{"type":"VariableDeclarator","start":8595,"end":8678,"id":{"type":"Identifier","start":8595,"end":8601,"name":"errMsg"},"init":{"type":"ConditionalExpression","start":8604,"end":8678,"test":{"type":"LogicalExpression","start":8605,"end":8633,"left":{"type":"MemberExpression","start":8605,"end":8614,"object":{"type":"Identifier","start":8605,"end":8609,"name":"resp"},"property":{"type":"Identifier","start":8610,"end":8614,"name":"body"},"computed":false},"operator":"&&","right":{"type":"MemberExpression","start":8618,"end":8633,"object":{"type":"MemberExpression","start":8618,"end":8627,"object":{"type":"Identifier","start":8618,"end":8622,"name":"resp"},"property":{"type":"Identifier","start":8623,"end":8627,"name":"body"},"computed":false},"property":{"type":"Identifier","start":8628,"end":8633,"name":"error"},"computed":false}},"consequent":{"type":"MemberExpression","start":8637,"end":8660,"object":{"type":"MemberExpression","start":8637,"end":8652,"object":{"type":"MemberExpression","start":8637,"end":8646,"object":{"type":"Identifier","start":8637,"end":8641,"name":"resp"},"property":{"type":"Identifier","start":8642,"end":8646,"name":"body"},"computed":false},"property":{"type":"Identifier","start":8647,"end":8652,"name":"error"},"computed":false},"property":{"type":"Identifier","start":8653,"end":8660,"name":"message"},"computed":false},"alternate":{"type":"Identifier","start":8663,"end":8678,"name":"fallbackMessage"}}}],"kind":"const"},{"type":"ReturnStatement","start":8692,"end":8797,"argument":{"type":"ConditionalExpression","start":8699,"end":8796,"test":{"type":"BinaryExpression","start":8699,"end":8722,"left":{"type":"MemberExpression","start":8699,"end":8714,"object":{"type":"Identifier","start":8699,"end":8703,"name":"resp"},"property":{"type":"Identifier","start":8704,"end":8714,"name":"statusCode"},"computed":false},"operator":"===","right":{"type":"Literal","start":8719,"end":8722,"value":401,"raw":"401"}},"consequent":{"type":"NewExpression","start":8725,"end":8748,"callee":{"type":"Identifier","start":8729,"end":8746,"name":"ProviderAuthError"},"arguments":[]},"alternate":{"type":"NewExpression","start":8751,"end":8796,"callee":{"type":"Identifier","start":8755,"end":8771,"name":"ProviderApiError"},"arguments":[{"type":"Identifier","start":8772,"end":8778,"name":"errMsg"},{"type":"MemberExpression","start":8780,"end":8795,"object":{"type":"Identifier","start":8780,"end":8784,"name":"resp"},"property":{"type":"Identifier","start":8785,"end":8795,"name":"statusCode"},"computed":false}]}}}]},"alternate":null},{"type":"ReturnStatement","start":8816,"end":8827,"argument":{"type":"Identifier","start":8823,"end":8826,"name":"err"}}]}}}]}},{"type":"ExpressionStatement","start":8836,"end":8859,"expression":{"type":"AssignmentExpression","start":8836,"end":8858,"operator":"=","left":{"type":"MemberExpression","start":8836,"end":8850,"object":{"type":"Identifier","start":8836,"end":8842,"name":"module"},"property":{"type":"Identifier","start":8843,"end":8850,"name":"exports"},"computed":false},"right":{"type":"Identifier","start":8853,"end":8858,"name":"Drive"}}}],"sourceType":"script"}