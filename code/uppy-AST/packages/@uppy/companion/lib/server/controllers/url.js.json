{"type":"Program","start":0,"end":4041,"loc":{"start":{"line":1,"column":0},"end":{"line":112,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":41,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"declarations":[{"type":"VariableDeclarator","start":6,"end":40,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":40}},"id":{"type":"Identifier","start":6,"end":12,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":12}},"name":"router"},"init":{"type":"MemberExpression","start":15,"end":40,"loc":{"start":{"line":1,"column":15},"end":{"line":1,"column":40}},"object":{"type":"CallExpression","start":15,"end":33,"loc":{"start":{"line":1,"column":15},"end":{"line":1,"column":33}},"callee":{"type":"Identifier","start":15,"end":22,"loc":{"start":{"line":1,"column":15},"end":{"line":1,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":23,"end":32,"loc":{"start":{"line":1,"column":23},"end":{"line":1,"column":32}},"value":"express","raw":"'express'"}]},"property":{"type":"Identifier","start":34,"end":40,"loc":{"start":{"line":1,"column":34},"end":{"line":1,"column":40}},"name":"Router"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":42,"end":77,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"declarations":[{"type":"VariableDeclarator","start":48,"end":76,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":34}},"id":{"type":"Identifier","start":48,"end":55,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":13}},"name":"request"},"init":{"type":"CallExpression","start":58,"end":76,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":34}},"callee":{"type":"Identifier","start":58,"end":65,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":66,"end":75,"loc":{"start":{"line":2,"column":24},"end":{"line":2,"column":33}},"value":"request","raw":"'request'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":78,"end":118,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"declarations":[{"type":"VariableDeclarator","start":84,"end":117,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":39}},"id":{"type":"Identifier","start":84,"end":92,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":14}},"name":"Uploader"},"init":{"type":"CallExpression","start":95,"end":117,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":39}},"callee":{"type":"Identifier","start":95,"end":102,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":24}},"name":"require"},"arguments":[{"type":"Literal","start":103,"end":116,"loc":{"start":{"line":3,"column":25},"end":{"line":3,"column":38}},"value":"../Uploader","raw":"'../Uploader'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":119,"end":158,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":39}},"declarations":[{"type":"VariableDeclarator","start":125,"end":157,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":38}},"id":{"type":"Identifier","start":125,"end":134,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":15}},"name":"validator"},"init":{"type":"CallExpression","start":137,"end":157,"loc":{"start":{"line":4,"column":18},"end":{"line":4,"column":38}},"callee":{"type":"Identifier","start":137,"end":144,"loc":{"start":{"line":4,"column":18},"end":{"line":4,"column":25}},"name":"require"},"arguments":[{"type":"Literal","start":145,"end":156,"loc":{"start":{"line":4,"column":26},"end":{"line":4,"column":37}},"value":"validator","raw":"'validator'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":159,"end":201,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":42}},"declarations":[{"type":"VariableDeclarator","start":165,"end":200,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":41}},"id":{"type":"Identifier","start":165,"end":170,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":11}},"name":"utils"},"init":{"type":"CallExpression","start":173,"end":200,"loc":{"start":{"line":5,"column":14},"end":{"line":5,"column":41}},"callee":{"type":"Identifier","start":173,"end":180,"loc":{"start":{"line":5,"column":14},"end":{"line":5,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":181,"end":199,"loc":{"start":{"line":5,"column":22},"end":{"line":5,"column":40}},"value":"../helpers/utils","raw":"'../helpers/utils'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":202,"end":266,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":64}},"declarations":[{"type":"VariableDeclarator","start":208,"end":265,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":63}},"id":{"type":"ObjectPattern","start":208,"end":233,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":31}},"properties":[{"type":"Property","start":210,"end":231,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":210,"end":231,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"name":"getProtectedHttpAgent"},"kind":"init","value":{"type":"Identifier","start":210,"end":231,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"name":"getProtectedHttpAgent"}}]},"init":{"type":"CallExpression","start":236,"end":265,"loc":{"start":{"line":6,"column":34},"end":{"line":6,"column":63}},"callee":{"type":"Identifier","start":236,"end":243,"loc":{"start":{"line":6,"column":34},"end":{"line":6,"column":41}},"name":"require"},"arguments":[{"type":"Literal","start":244,"end":264,"loc":{"start":{"line":6,"column":42},"end":{"line":6,"column":62}},"value":"../helpers/request","raw":"'../helpers/request'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":267,"end":303,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":36}},"declarations":[{"type":"VariableDeclarator","start":273,"end":302,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":35}},"id":{"type":"Identifier","start":273,"end":279,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":12}},"name":"logger"},"init":{"type":"CallExpression","start":282,"end":302,"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":35}},"callee":{"type":"Identifier","start":282,"end":289,"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":290,"end":301,"loc":{"start":{"line":7,"column":23},"end":{"line":7,"column":34}},"value":"../logger","raw":"'../logger'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":304,"end":408,"loc":{"start":{"line":8,"column":0},"end":{"line":12,"column":2}},"expression":{"type":"AssignmentExpression","start":304,"end":407,"loc":{"start":{"line":8,"column":0},"end":{"line":12,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":304,"end":318,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":14}},"object":{"type":"Identifier","start":304,"end":310,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":6}},"name":"module"},"property":{"type":"Identifier","start":311,"end":318,"loc":{"start":{"line":8,"column":7},"end":{"line":8,"column":14}},"name":"exports"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":321,"end":407,"loc":{"start":{"line":8,"column":17},"end":{"line":12,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":327,"end":407,"loc":{"start":{"line":8,"column":23},"end":{"line":12,"column":1}},"body":[{"type":"ReturnStatement","start":333,"end":405,"loc":{"start":{"line":9,"column":4},"end":{"line":11,"column":27}},"argument":{"type":"CallExpression","start":340,"end":404,"loc":{"start":{"line":9,"column":11},"end":{"line":11,"column":26}},"callee":{"type":"MemberExpression","start":340,"end":391,"loc":{"start":{"line":9,"column":11},"end":{"line":11,"column":13}},"object":{"type":"CallExpression","start":340,"end":377,"loc":{"start":{"line":9,"column":11},"end":{"line":10,"column":28}},"callee":{"type":"MemberExpression","start":340,"end":362,"loc":{"start":{"line":9,"column":11},"end":{"line":10,"column":13}},"object":{"type":"CallExpression","start":340,"end":348,"loc":{"start":{"line":9,"column":11},"end":{"line":9,"column":19}},"callee":{"type":"Identifier","start":340,"end":346,"loc":{"start":{"line":9,"column":11},"end":{"line":9,"column":17}},"name":"router"},"arguments":[]},"property":{"type":"Identifier","start":358,"end":362,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":13}},"name":"post"},"computed":false},"arguments":[{"type":"Literal","start":363,"end":370,"loc":{"start":{"line":10,"column":14},"end":{"line":10,"column":21}},"value":"/meta","raw":"'/meta'"},{"type":"Identifier","start":372,"end":376,"loc":{"start":{"line":10,"column":23},"end":{"line":10,"column":27}},"name":"meta"}]},"property":{"type":"Identifier","start":387,"end":391,"loc":{"start":{"line":11,"column":9},"end":{"line":11,"column":13}},"name":"post"},"computed":false},"arguments":[{"type":"Literal","start":392,"end":398,"loc":{"start":{"line":11,"column":14},"end":{"line":11,"column":20}},"value":"/get","raw":"'/get'"},{"type":"Identifier","start":400,"end":403,"loc":{"start":{"line":11,"column":22},"end":{"line":11,"column":25}},"name":"get"}]}}]}}}},{"type":"VariableDeclaration","start":563,"end":1161,"loc":{"start":{"line":19,"column":0},"end":{"line":32,"column":2}},"declarations":[{"type":"VariableDeclarator","start":569,"end":1160,"loc":{"start":{"line":19,"column":6},"end":{"line":32,"column":1}},"id":{"type":"Identifier","start":569,"end":573,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":10}},"name":"meta"},"init":{"type":"ArrowFunctionExpression","start":576,"end":1160,"loc":{"start":{"line":19,"column":13},"end":{"line":32,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":577,"end":580,"loc":{"start":{"line":19,"column":14},"end":{"line":19,"column":17}},"name":"req"},{"type":"Identifier","start":582,"end":585,"loc":{"start":{"line":19,"column":19},"end":{"line":19,"column":22}},"name":"res"}],"body":{"type":"BlockStatement","start":590,"end":1160,"loc":{"start":{"line":19,"column":27},"end":{"line":32,"column":1}},"body":[{"type":"ExpressionStatement","start":596,"end":658,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":66}},"expression":{"type":"CallExpression","start":596,"end":657,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":65}},"callee":{"type":"MemberExpression","start":596,"end":608,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":16}},"object":{"type":"Identifier","start":596,"end":602,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":10}},"name":"logger"},"property":{"type":"Identifier","start":603,"end":608,"loc":{"start":{"line":20,"column":11},"end":{"line":20,"column":16}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":609,"end":642,"loc":{"start":{"line":20,"column":17},"end":{"line":20,"column":50}},"value":"URL file import handler running","raw":"'URL file import handler running'"},{"type":"Literal","start":644,"end":648,"loc":{"start":{"line":20,"column":52},"end":{"line":20,"column":56}},"value":null,"raw":"null"},{"type":"MemberExpression","start":650,"end":656,"loc":{"start":{"line":20,"column":58},"end":{"line":20,"column":64}},"object":{"type":"Identifier","start":650,"end":653,"loc":{"start":{"line":20,"column":58},"end":{"line":20,"column":61}},"name":"req"},"property":{"type":"Identifier","start":654,"end":656,"loc":{"start":{"line":20,"column":62},"end":{"line":20,"column":64}},"name":"id"},"computed":false}]}},{"type":"VariableDeclaration","start":663,"end":705,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":46}},"declarations":[{"type":"VariableDeclarator","start":669,"end":704,"loc":{"start":{"line":21,"column":10},"end":{"line":21,"column":45}},"id":{"type":"Identifier","start":669,"end":674,"loc":{"start":{"line":21,"column":10},"end":{"line":21,"column":15}},"name":"debug"},"init":{"type":"MemberExpression","start":677,"end":704,"loc":{"start":{"line":21,"column":18},"end":{"line":21,"column":45}},"object":{"type":"MemberExpression","start":677,"end":698,"loc":{"start":{"line":21,"column":18},"end":{"line":21,"column":39}},"object":{"type":"MemberExpression","start":677,"end":690,"loc":{"start":{"line":21,"column":18},"end":{"line":21,"column":31}},"object":{"type":"Identifier","start":677,"end":680,"loc":{"start":{"line":21,"column":18},"end":{"line":21,"column":21}},"name":"req"},"property":{"type":"Identifier","start":681,"end":690,"loc":{"start":{"line":21,"column":22},"end":{"line":21,"column":31}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":691,"end":698,"loc":{"start":{"line":21,"column":32},"end":{"line":21,"column":39}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":699,"end":704,"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":45}},"name":"debug"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":710,"end":924,"loc":{"start":{"line":22,"column":4},"end":{"line":25,"column":5}},"test":{"type":"UnaryExpression","start":714,"end":747,"loc":{"start":{"line":22,"column":8},"end":{"line":22,"column":41}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":715,"end":747,"loc":{"start":{"line":22,"column":9},"end":{"line":22,"column":41}},"callee":{"type":"Identifier","start":715,"end":726,"loc":{"start":{"line":22,"column":9},"end":{"line":22,"column":20}},"name":"validateURL"},"arguments":[{"type":"MemberExpression","start":727,"end":739,"loc":{"start":{"line":22,"column":21},"end":{"line":22,"column":33}},"object":{"type":"MemberExpression","start":727,"end":735,"loc":{"start":{"line":22,"column":21},"end":{"line":22,"column":29}},"object":{"type":"Identifier","start":727,"end":730,"loc":{"start":{"line":22,"column":21},"end":{"line":22,"column":24}},"name":"req"},"property":{"type":"Identifier","start":731,"end":735,"loc":{"start":{"line":22,"column":25},"end":{"line":22,"column":29}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":736,"end":739,"loc":{"start":{"line":22,"column":30},"end":{"line":22,"column":33}},"name":"url"},"computed":false},{"type":"Identifier","start":741,"end":746,"loc":{"start":{"line":22,"column":35},"end":{"line":22,"column":40}},"name":"debug"}]}},"consequent":{"type":"BlockStatement","start":749,"end":924,"loc":{"start":{"line":22,"column":43},"end":{"line":25,"column":5}},"body":[{"type":"ExpressionStatement","start":759,"end":846,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":95}},"expression":{"type":"CallExpression","start":759,"end":845,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":94}},"callee":{"type":"MemberExpression","start":759,"end":771,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":20}},"object":{"type":"Identifier","start":759,"end":765,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":766,"end":771,"loc":{"start":{"line":23,"column":15},"end":{"line":23,"column":20}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":772,"end":830,"loc":{"start":{"line":23,"column":21},"end":{"line":23,"column":79}},"value":"Invalid request body detected. Exiting url meta handler.","raw":"'Invalid request body detected. Exiting url meta handler.'"},{"type":"Literal","start":832,"end":836,"loc":{"start":{"line":23,"column":81},"end":{"line":23,"column":85}},"value":null,"raw":"null"},{"type":"MemberExpression","start":838,"end":844,"loc":{"start":{"line":23,"column":87},"end":{"line":23,"column":93}},"object":{"type":"Identifier","start":838,"end":841,"loc":{"start":{"line":23,"column":87},"end":{"line":23,"column":90}},"name":"req"},"property":{"type":"Identifier","start":842,"end":844,"loc":{"start":{"line":23,"column":91},"end":{"line":23,"column":93}},"name":"id"},"computed":false}]}},{"type":"ReturnStatement","start":855,"end":918,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":71}},"argument":{"type":"CallExpression","start":862,"end":917,"loc":{"start":{"line":24,"column":15},"end":{"line":24,"column":70}},"callee":{"type":"MemberExpression","start":862,"end":882,"loc":{"start":{"line":24,"column":15},"end":{"line":24,"column":35}},"object":{"type":"CallExpression","start":862,"end":877,"loc":{"start":{"line":24,"column":15},"end":{"line":24,"column":30}},"callee":{"type":"MemberExpression","start":862,"end":872,"loc":{"start":{"line":24,"column":15},"end":{"line":24,"column":25}},"object":{"type":"Identifier","start":862,"end":865,"loc":{"start":{"line":24,"column":15},"end":{"line":24,"column":18}},"name":"res"},"property":{"type":"Identifier","start":866,"end":872,"loc":{"start":{"line":24,"column":19},"end":{"line":24,"column":25}},"name":"status"},"computed":false},"arguments":[{"type":"Literal","start":873,"end":876,"loc":{"start":{"line":24,"column":26},"end":{"line":24,"column":29}},"value":400,"raw":"400"}]},"property":{"type":"Identifier","start":878,"end":882,"loc":{"start":{"line":24,"column":31},"end":{"line":24,"column":35}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":883,"end":916,"loc":{"start":{"line":24,"column":36},"end":{"line":24,"column":69}},"properties":[{"type":"Property","start":885,"end":914,"loc":{"start":{"line":24,"column":38},"end":{"line":24,"column":67}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":885,"end":890,"loc":{"start":{"line":24,"column":38},"end":{"line":24,"column":43}},"name":"error"},"value":{"type":"Literal","start":892,"end":914,"loc":{"start":{"line":24,"column":45},"end":{"line":24,"column":67}},"value":"Invalid request body","raw":"'Invalid request body'"},"kind":"init"}]}]}}]},"alternate":null},{"type":"ExpressionStatement","start":929,"end":1158,"loc":{"start":{"line":26,"column":4},"end":{"line":31,"column":7}},"expression":{"type":"CallExpression","start":929,"end":1157,"loc":{"start":{"line":26,"column":4},"end":{"line":31,"column":6}},"callee":{"type":"MemberExpression","start":929,"end":1022,"loc":{"start":{"line":26,"column":4},"end":{"line":28,"column":14}},"object":{"type":"CallExpression","start":929,"end":1007,"loc":{"start":{"line":26,"column":4},"end":{"line":27,"column":39}},"callee":{"type":"MemberExpression","start":929,"end":981,"loc":{"start":{"line":26,"column":4},"end":{"line":27,"column":13}},"object":{"type":"CallExpression","start":929,"end":967,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":42}},"callee":{"type":"MemberExpression","start":929,"end":945,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":20}},"object":{"type":"Identifier","start":929,"end":934,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":9}},"name":"utils"},"property":{"type":"Identifier","start":935,"end":945,"loc":{"start":{"line":26,"column":10},"end":{"line":26,"column":20}},"name":"getURLMeta"},"computed":false},"arguments":[{"type":"MemberExpression","start":946,"end":958,"loc":{"start":{"line":26,"column":21},"end":{"line":26,"column":33}},"object":{"type":"MemberExpression","start":946,"end":954,"loc":{"start":{"line":26,"column":21},"end":{"line":26,"column":29}},"object":{"type":"Identifier","start":946,"end":949,"loc":{"start":{"line":26,"column":21},"end":{"line":26,"column":24}},"name":"req"},"property":{"type":"Identifier","start":950,"end":954,"loc":{"start":{"line":26,"column":25},"end":{"line":26,"column":29}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":955,"end":958,"loc":{"start":{"line":26,"column":30},"end":{"line":26,"column":33}},"name":"url"},"computed":false},{"type":"UnaryExpression","start":960,"end":966,"loc":{"start":{"line":26,"column":35},"end":{"line":26,"column":41}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":961,"end":966,"loc":{"start":{"line":26,"column":36},"end":{"line":26,"column":41}},"name":"debug"}}]},"property":{"type":"Identifier","start":977,"end":981,"loc":{"start":{"line":27,"column":9},"end":{"line":27,"column":13}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":982,"end":1006,"loc":{"start":{"line":27,"column":14},"end":{"line":27,"column":38}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":983,"end":987,"loc":{"start":{"line":27,"column":15},"end":{"line":27,"column":19}},"name":"meta"}],"body":{"type":"CallExpression","start":992,"end":1006,"loc":{"start":{"line":27,"column":24},"end":{"line":27,"column":38}},"callee":{"type":"MemberExpression","start":992,"end":1000,"loc":{"start":{"line":27,"column":24},"end":{"line":27,"column":32}},"object":{"type":"Identifier","start":992,"end":995,"loc":{"start":{"line":27,"column":24},"end":{"line":27,"column":27}},"name":"res"},"property":{"type":"Identifier","start":996,"end":1000,"loc":{"start":{"line":27,"column":28},"end":{"line":27,"column":32}},"name":"json"},"computed":false},"arguments":[{"type":"Identifier","start":1001,"end":1005,"loc":{"start":{"line":27,"column":33},"end":{"line":27,"column":37}},"name":"meta"}]}}]},"property":{"type":"Identifier","start":1017,"end":1022,"loc":{"start":{"line":28,"column":9},"end":{"line":28,"column":14}},"name":"catch"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1023,"end":1156,"loc":{"start":{"line":28,"column":15},"end":{"line":31,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1024,"end":1027,"loc":{"start":{"line":28,"column":16},"end":{"line":28,"column":19}},"name":"err"}],"body":{"type":"BlockStatement","start":1032,"end":1156,"loc":{"start":{"line":28,"column":24},"end":{"line":31,"column":5}},"body":[{"type":"ExpressionStatement","start":1042,"end":1097,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":63}},"expression":{"type":"CallExpression","start":1042,"end":1096,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":62}},"callee":{"type":"MemberExpression","start":1042,"end":1054,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":20}},"object":{"type":"Identifier","start":1042,"end":1048,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":1049,"end":1054,"loc":{"start":{"line":29,"column":15},"end":{"line":29,"column":20}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":1055,"end":1058,"loc":{"start":{"line":29,"column":21},"end":{"line":29,"column":24}},"name":"err"},{"type":"Literal","start":1060,"end":1087,"loc":{"start":{"line":29,"column":26},"end":{"line":29,"column":53}},"value":"controller.url.meta.error","raw":"'controller.url.meta.error'"},{"type":"MemberExpression","start":1089,"end":1095,"loc":{"start":{"line":29,"column":55},"end":{"line":29,"column":61}},"object":{"type":"Identifier","start":1089,"end":1092,"loc":{"start":{"line":29,"column":55},"end":{"line":29,"column":58}},"name":"req"},"property":{"type":"Identifier","start":1093,"end":1095,"loc":{"start":{"line":29,"column":59},"end":{"line":29,"column":61}},"name":"id"},"computed":false}]}},{"type":"ReturnStatement","start":1106,"end":1150,"loc":{"start":{"line":30,"column":8},"end":{"line":30,"column":52}},"argument":{"type":"CallExpression","start":1113,"end":1149,"loc":{"start":{"line":30,"column":15},"end":{"line":30,"column":51}},"callee":{"type":"MemberExpression","start":1113,"end":1133,"loc":{"start":{"line":30,"column":15},"end":{"line":30,"column":35}},"object":{"type":"CallExpression","start":1113,"end":1128,"loc":{"start":{"line":30,"column":15},"end":{"line":30,"column":30}},"callee":{"type":"MemberExpression","start":1113,"end":1123,"loc":{"start":{"line":30,"column":15},"end":{"line":30,"column":25}},"object":{"type":"Identifier","start":1113,"end":1116,"loc":{"start":{"line":30,"column":15},"end":{"line":30,"column":18}},"name":"res"},"property":{"type":"Identifier","start":1117,"end":1123,"loc":{"start":{"line":30,"column":19},"end":{"line":30,"column":25}},"name":"status"},"computed":false},"arguments":[{"type":"Literal","start":1124,"end":1127,"loc":{"start":{"line":30,"column":26},"end":{"line":30,"column":29}},"value":500,"raw":"500"}]},"property":{"type":"Identifier","start":1129,"end":1133,"loc":{"start":{"line":30,"column":31},"end":{"line":30,"column":35}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1134,"end":1148,"loc":{"start":{"line":30,"column":36},"end":{"line":30,"column":50}},"properties":[{"type":"Property","start":1136,"end":1146,"loc":{"start":{"line":30,"column":38},"end":{"line":30,"column":48}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1136,"end":1141,"loc":{"start":{"line":30,"column":38},"end":{"line":30,"column":43}},"name":"error"},"value":{"type":"Identifier","start":1143,"end":1146,"loc":{"start":{"line":30,"column":45},"end":{"line":30,"column":48}},"name":"err"},"kind":"init"}]}]}}]}}]}}]}}}],"kind":"const","comments":[{"type":"Block","value":"*\n * Fteches the size and content type of a URL\n *\n * @param {object} req expressJS request object\n * @param {object} res expressJS response object\n ","start":409,"end":562,"loc":{"start":{"line":13,"column":0},"end":{"line":18,"column":3}}}]},{"type":"VariableDeclaration","start":1396,"end":2789,"loc":{"start":{"line":40,"column":0},"end":{"line":69,"column":2}},"declarations":[{"type":"VariableDeclarator","start":1402,"end":2788,"loc":{"start":{"line":40,"column":6},"end":{"line":69,"column":1}},"id":{"type":"Identifier","start":1402,"end":1405,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":9}},"name":"get"},"init":{"type":"ArrowFunctionExpression","start":1408,"end":2788,"loc":{"start":{"line":40,"column":12},"end":{"line":69,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1409,"end":1412,"loc":{"start":{"line":40,"column":13},"end":{"line":40,"column":16}},"name":"req"},{"type":"Identifier","start":1414,"end":1417,"loc":{"start":{"line":40,"column":18},"end":{"line":40,"column":21}},"name":"res"}],"body":{"type":"BlockStatement","start":1422,"end":2788,"loc":{"start":{"line":40,"column":26},"end":{"line":69,"column":1}},"body":[{"type":"ExpressionStatement","start":1428,"end":1490,"loc":{"start":{"line":41,"column":4},"end":{"line":41,"column":66}},"expression":{"type":"CallExpression","start":1428,"end":1489,"loc":{"start":{"line":41,"column":4},"end":{"line":41,"column":65}},"callee":{"type":"MemberExpression","start":1428,"end":1440,"loc":{"start":{"line":41,"column":4},"end":{"line":41,"column":16}},"object":{"type":"Identifier","start":1428,"end":1434,"loc":{"start":{"line":41,"column":4},"end":{"line":41,"column":10}},"name":"logger"},"property":{"type":"Identifier","start":1435,"end":1440,"loc":{"start":{"line":41,"column":11},"end":{"line":41,"column":16}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":1441,"end":1474,"loc":{"start":{"line":41,"column":17},"end":{"line":41,"column":50}},"value":"URL file import handler running","raw":"'URL file import handler running'"},{"type":"Literal","start":1476,"end":1480,"loc":{"start":{"line":41,"column":52},"end":{"line":41,"column":56}},"value":null,"raw":"null"},{"type":"MemberExpression","start":1482,"end":1488,"loc":{"start":{"line":41,"column":58},"end":{"line":41,"column":64}},"object":{"type":"Identifier","start":1482,"end":1485,"loc":{"start":{"line":41,"column":58},"end":{"line":41,"column":61}},"name":"req"},"property":{"type":"Identifier","start":1486,"end":1488,"loc":{"start":{"line":41,"column":62},"end":{"line":41,"column":64}},"name":"id"},"computed":false}]}},{"type":"VariableDeclaration","start":1495,"end":1537,"loc":{"start":{"line":42,"column":4},"end":{"line":42,"column":46}},"declarations":[{"type":"VariableDeclarator","start":1501,"end":1536,"loc":{"start":{"line":42,"column":10},"end":{"line":42,"column":45}},"id":{"type":"Identifier","start":1501,"end":1506,"loc":{"start":{"line":42,"column":10},"end":{"line":42,"column":15}},"name":"debug"},"init":{"type":"MemberExpression","start":1509,"end":1536,"loc":{"start":{"line":42,"column":18},"end":{"line":42,"column":45}},"object":{"type":"MemberExpression","start":1509,"end":1530,"loc":{"start":{"line":42,"column":18},"end":{"line":42,"column":39}},"object":{"type":"MemberExpression","start":1509,"end":1522,"loc":{"start":{"line":42,"column":18},"end":{"line":42,"column":31}},"object":{"type":"Identifier","start":1509,"end":1512,"loc":{"start":{"line":42,"column":18},"end":{"line":42,"column":21}},"name":"req"},"property":{"type":"Identifier","start":1513,"end":1522,"loc":{"start":{"line":42,"column":22},"end":{"line":42,"column":31}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":1523,"end":1530,"loc":{"start":{"line":42,"column":32},"end":{"line":42,"column":39}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":1531,"end":1536,"loc":{"start":{"line":42,"column":40},"end":{"line":42,"column":45}},"name":"debug"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":1542,"end":1758,"loc":{"start":{"line":43,"column":4},"end":{"line":46,"column":5}},"test":{"type":"UnaryExpression","start":1546,"end":1579,"loc":{"start":{"line":43,"column":8},"end":{"line":43,"column":41}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1547,"end":1579,"loc":{"start":{"line":43,"column":9},"end":{"line":43,"column":41}},"callee":{"type":"Identifier","start":1547,"end":1558,"loc":{"start":{"line":43,"column":9},"end":{"line":43,"column":20}},"name":"validateURL"},"arguments":[{"type":"MemberExpression","start":1559,"end":1571,"loc":{"start":{"line":43,"column":21},"end":{"line":43,"column":33}},"object":{"type":"MemberExpression","start":1559,"end":1567,"loc":{"start":{"line":43,"column":21},"end":{"line":43,"column":29}},"object":{"type":"Identifier","start":1559,"end":1562,"loc":{"start":{"line":43,"column":21},"end":{"line":43,"column":24}},"name":"req"},"property":{"type":"Identifier","start":1563,"end":1567,"loc":{"start":{"line":43,"column":25},"end":{"line":43,"column":29}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":1568,"end":1571,"loc":{"start":{"line":43,"column":30},"end":{"line":43,"column":33}},"name":"url"},"computed":false},{"type":"Identifier","start":1573,"end":1578,"loc":{"start":{"line":43,"column":35},"end":{"line":43,"column":40}},"name":"debug"}]}},"consequent":{"type":"BlockStatement","start":1581,"end":1758,"loc":{"start":{"line":43,"column":43},"end":{"line":46,"column":5}},"body":[{"type":"ExpressionStatement","start":1591,"end":1680,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":97}},"expression":{"type":"CallExpression","start":1591,"end":1679,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":96}},"callee":{"type":"MemberExpression","start":1591,"end":1603,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":20}},"object":{"type":"Identifier","start":1591,"end":1597,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":1598,"end":1603,"loc":{"start":{"line":44,"column":15},"end":{"line":44,"column":20}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":1604,"end":1664,"loc":{"start":{"line":44,"column":21},"end":{"line":44,"column":81}},"value":"Invalid request body detected. Exiting url import handler.","raw":"'Invalid request body detected. Exiting url import handler.'"},{"type":"Literal","start":1666,"end":1670,"loc":{"start":{"line":44,"column":83},"end":{"line":44,"column":87}},"value":null,"raw":"null"},{"type":"MemberExpression","start":1672,"end":1678,"loc":{"start":{"line":44,"column":89},"end":{"line":44,"column":95}},"object":{"type":"Identifier","start":1672,"end":1675,"loc":{"start":{"line":44,"column":89},"end":{"line":44,"column":92}},"name":"req"},"property":{"type":"Identifier","start":1676,"end":1678,"loc":{"start":{"line":44,"column":93},"end":{"line":44,"column":95}},"name":"id"},"computed":false}]}},{"type":"ReturnStatement","start":1689,"end":1752,"loc":{"start":{"line":45,"column":8},"end":{"line":45,"column":71}},"argument":{"type":"CallExpression","start":1696,"end":1751,"loc":{"start":{"line":45,"column":15},"end":{"line":45,"column":70}},"callee":{"type":"MemberExpression","start":1696,"end":1716,"loc":{"start":{"line":45,"column":15},"end":{"line":45,"column":35}},"object":{"type":"CallExpression","start":1696,"end":1711,"loc":{"start":{"line":45,"column":15},"end":{"line":45,"column":30}},"callee":{"type":"MemberExpression","start":1696,"end":1706,"loc":{"start":{"line":45,"column":15},"end":{"line":45,"column":25}},"object":{"type":"Identifier","start":1696,"end":1699,"loc":{"start":{"line":45,"column":15},"end":{"line":45,"column":18}},"name":"res"},"property":{"type":"Identifier","start":1700,"end":1706,"loc":{"start":{"line":45,"column":19},"end":{"line":45,"column":25}},"name":"status"},"computed":false},"arguments":[{"type":"Literal","start":1707,"end":1710,"loc":{"start":{"line":45,"column":26},"end":{"line":45,"column":29}},"value":400,"raw":"400"}]},"property":{"type":"Identifier","start":1712,"end":1716,"loc":{"start":{"line":45,"column":31},"end":{"line":45,"column":35}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1717,"end":1750,"loc":{"start":{"line":45,"column":36},"end":{"line":45,"column":69}},"properties":[{"type":"Property","start":1719,"end":1748,"loc":{"start":{"line":45,"column":38},"end":{"line":45,"column":67}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1719,"end":1724,"loc":{"start":{"line":45,"column":38},"end":{"line":45,"column":43}},"name":"error"},"value":{"type":"Literal","start":1726,"end":1748,"loc":{"start":{"line":45,"column":45},"end":{"line":45,"column":67}},"value":"Invalid request body","raw":"'Invalid request body'"},"kind":"init"}]}]}}]},"alternate":null},{"type":"ExpressionStatement","start":1763,"end":2786,"loc":{"start":{"line":47,"column":4},"end":{"line":68,"column":7}},"expression":{"type":"CallExpression","start":1763,"end":2785,"loc":{"start":{"line":47,"column":4},"end":{"line":68,"column":6}},"callee":{"type":"MemberExpression","start":1763,"end":2622,"loc":{"start":{"line":47,"column":4},"end":{"line":64,"column":12}},"object":{"type":"CallExpression","start":1763,"end":2616,"loc":{"start":{"line":47,"column":4},"end":{"line":64,"column":6}},"callee":{"type":"MemberExpression","start":1763,"end":1807,"loc":{"start":{"line":47,"column":4},"end":{"line":48,"column":13}},"object":{"type":"CallExpression","start":1763,"end":1793,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":34}},"callee":{"type":"MemberExpression","start":1763,"end":1779,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":20}},"object":{"type":"Identifier","start":1763,"end":1768,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":9}},"name":"utils"},"property":{"type":"Identifier","start":1769,"end":1779,"loc":{"start":{"line":47,"column":10},"end":{"line":47,"column":20}},"name":"getURLMeta"},"computed":false},"arguments":[{"type":"MemberExpression","start":1780,"end":1792,"loc":{"start":{"line":47,"column":21},"end":{"line":47,"column":33}},"object":{"type":"MemberExpression","start":1780,"end":1788,"loc":{"start":{"line":47,"column":21},"end":{"line":47,"column":29}},"object":{"type":"Identifier","start":1780,"end":1783,"loc":{"start":{"line":47,"column":21},"end":{"line":47,"column":24}},"name":"req"},"property":{"type":"Identifier","start":1784,"end":1788,"loc":{"start":{"line":47,"column":25},"end":{"line":47,"column":29}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":1789,"end":1792,"loc":{"start":{"line":47,"column":30},"end":{"line":47,"column":33}},"name":"url"},"computed":false}]},"property":{"type":"Identifier","start":1803,"end":1807,"loc":{"start":{"line":48,"column":9},"end":{"line":48,"column":13}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1808,"end":2615,"loc":{"start":{"line":48,"column":14},"end":{"line":64,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":1809,"end":1817,"loc":{"start":{"line":48,"column":15},"end":{"line":48,"column":23}},"properties":[{"type":"Property","start":1811,"end":1815,"loc":{"start":{"line":48,"column":17},"end":{"line":48,"column":21}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1811,"end":1815,"loc":{"start":{"line":48,"column":17},"end":{"line":48,"column":21}},"name":"size"},"kind":"init","value":{"type":"Identifier","start":1811,"end":1815,"loc":{"start":{"line":48,"column":17},"end":{"line":48,"column":21}},"name":"size"}}]}],"body":{"type":"BlockStatement","start":1822,"end":2615,"loc":{"start":{"line":48,"column":28},"end":{"line":64,"column":5}},"body":[{"type":"ExpressionStatement","start":1854,"end":1908,"loc":{"start":{"line":50,"column":8},"end":{"line":50,"column":62}},"expression":{"type":"CallExpression","start":1854,"end":1907,"loc":{"start":{"line":50,"column":8},"end":{"line":50,"column":61}},"callee":{"type":"MemberExpression","start":1854,"end":1866,"loc":{"start":{"line":50,"column":8},"end":{"line":50,"column":20}},"object":{"type":"Identifier","start":1854,"end":1860,"loc":{"start":{"line":50,"column":8},"end":{"line":50,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":1861,"end":1866,"loc":{"start":{"line":50,"column":15},"end":{"line":50,"column":20}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":1867,"end":1892,"loc":{"start":{"line":50,"column":21},"end":{"line":50,"column":46}},"value":"Instantiating uploader.","raw":"'Instantiating uploader.'"},{"type":"Literal","start":1894,"end":1898,"loc":{"start":{"line":50,"column":48},"end":{"line":50,"column":52}},"value":null,"raw":"null"},{"type":"MemberExpression","start":1900,"end":1906,"loc":{"start":{"line":50,"column":54},"end":{"line":50,"column":60}},"object":{"type":"Identifier","start":1900,"end":1903,"loc":{"start":{"line":50,"column":54},"end":{"line":50,"column":57}},"name":"req"},"property":{"type":"Identifier","start":1904,"end":1906,"loc":{"start":{"line":50,"column":58},"end":{"line":50,"column":60}},"name":"id"},"computed":false}]},"comments":[{"type":"Line","value":" @ts-ignore","start":1832,"end":1845,"loc":{"start":{"line":49,"column":8},"end":{"line":49,"column":21}}}]},{"type":"VariableDeclaration","start":1917,"end":1981,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":72}},"declarations":[{"type":"VariableDeclarator","start":1923,"end":1980,"loc":{"start":{"line":51,"column":14},"end":{"line":51,"column":71}},"id":{"type":"Identifier","start":1923,"end":1931,"loc":{"start":{"line":51,"column":14},"end":{"line":51,"column":22}},"name":"uploader"},"init":{"type":"NewExpression","start":1934,"end":1980,"loc":{"start":{"line":51,"column":25},"end":{"line":51,"column":71}},"callee":{"type":"Identifier","start":1938,"end":1946,"loc":{"start":{"line":51,"column":29},"end":{"line":51,"column":37}},"name":"Uploader"},"arguments":[{"type":"CallExpression","start":1947,"end":1979,"loc":{"start":{"line":51,"column":38},"end":{"line":51,"column":70}},"callee":{"type":"MemberExpression","start":1947,"end":1968,"loc":{"start":{"line":51,"column":38},"end":{"line":51,"column":59}},"object":{"type":"Identifier","start":1947,"end":1955,"loc":{"start":{"line":51,"column":38},"end":{"line":51,"column":46}},"name":"Uploader"},"property":{"type":"Identifier","start":1956,"end":1968,"loc":{"start":{"line":51,"column":47},"end":{"line":51,"column":59}},"name":"reqToOptions"},"computed":false},"arguments":[{"type":"Identifier","start":1969,"end":1972,"loc":{"start":{"line":51,"column":60},"end":{"line":51,"column":63}},"name":"req"},{"type":"Identifier","start":1974,"end":1978,"loc":{"start":{"line":51,"column":65},"end":{"line":51,"column":69}},"name":"size"}]}]}}],"kind":"const"},{"type":"IfStatement","start":1990,"end":2160,"loc":{"start":{"line":52,"column":8},"end":{"line":56,"column":9}},"test":{"type":"CallExpression","start":1994,"end":2013,"loc":{"start":{"line":52,"column":12},"end":{"line":52,"column":31}},"callee":{"type":"MemberExpression","start":1994,"end":2011,"loc":{"start":{"line":52,"column":12},"end":{"line":52,"column":29}},"object":{"type":"Identifier","start":1994,"end":2002,"loc":{"start":{"line":52,"column":12},"end":{"line":52,"column":20}},"name":"uploader"},"property":{"type":"Identifier","start":2003,"end":2011,"loc":{"start":{"line":52,"column":21},"end":{"line":52,"column":29}},"name":"hasError"},"computed":false},"arguments":[]},"consequent":{"type":"BlockStatement","start":2015,"end":2160,"loc":{"start":{"line":52,"column":33},"end":{"line":56,"column":9}},"body":[{"type":"VariableDeclaration","start":2029,"end":2069,"loc":{"start":{"line":53,"column":12},"end":{"line":53,"column":52}},"declarations":[{"type":"VariableDeclarator","start":2035,"end":2068,"loc":{"start":{"line":53,"column":18},"end":{"line":53,"column":51}},"id":{"type":"Identifier","start":2035,"end":2043,"loc":{"start":{"line":53,"column":18},"end":{"line":53,"column":26}},"name":"response"},"init":{"type":"CallExpression","start":2046,"end":2068,"loc":{"start":{"line":53,"column":29},"end":{"line":53,"column":51}},"callee":{"type":"MemberExpression","start":2046,"end":2066,"loc":{"start":{"line":53,"column":29},"end":{"line":53,"column":49}},"object":{"type":"Identifier","start":2046,"end":2054,"loc":{"start":{"line":53,"column":29},"end":{"line":53,"column":37}},"name":"uploader"},"property":{"type":"Identifier","start":2055,"end":2066,"loc":{"start":{"line":53,"column":38},"end":{"line":53,"column":49}},"name":"getResponse"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":2082,"end":2130,"loc":{"start":{"line":54,"column":12},"end":{"line":54,"column":60}},"expression":{"type":"CallExpression","start":2082,"end":2129,"loc":{"start":{"line":54,"column":12},"end":{"line":54,"column":59}},"callee":{"type":"MemberExpression","start":2082,"end":2114,"loc":{"start":{"line":54,"column":12},"end":{"line":54,"column":44}},"object":{"type":"CallExpression","start":2082,"end":2109,"loc":{"start":{"line":54,"column":12},"end":{"line":54,"column":39}},"callee":{"type":"MemberExpression","start":2082,"end":2092,"loc":{"start":{"line":54,"column":12},"end":{"line":54,"column":22}},"object":{"type":"Identifier","start":2082,"end":2085,"loc":{"start":{"line":54,"column":12},"end":{"line":54,"column":15}},"name":"res"},"property":{"type":"Identifier","start":2086,"end":2092,"loc":{"start":{"line":54,"column":16},"end":{"line":54,"column":22}},"name":"status"},"computed":false},"arguments":[{"type":"MemberExpression","start":2093,"end":2108,"loc":{"start":{"line":54,"column":23},"end":{"line":54,"column":38}},"object":{"type":"Identifier","start":2093,"end":2101,"loc":{"start":{"line":54,"column":23},"end":{"line":54,"column":31}},"name":"response"},"property":{"type":"Identifier","start":2102,"end":2108,"loc":{"start":{"line":54,"column":32},"end":{"line":54,"column":38}},"name":"status"},"computed":false}]},"property":{"type":"Identifier","start":2110,"end":2114,"loc":{"start":{"line":54,"column":40},"end":{"line":54,"column":44}},"name":"json"},"computed":false},"arguments":[{"type":"MemberExpression","start":2115,"end":2128,"loc":{"start":{"line":54,"column":45},"end":{"line":54,"column":58}},"object":{"type":"Identifier","start":2115,"end":2123,"loc":{"start":{"line":54,"column":45},"end":{"line":54,"column":53}},"name":"response"},"property":{"type":"Identifier","start":2124,"end":2128,"loc":{"start":{"line":54,"column":54},"end":{"line":54,"column":58}},"name":"body"},"computed":false}]}},{"type":"ReturnStatement","start":2143,"end":2150,"loc":{"start":{"line":55,"column":12},"end":{"line":55,"column":19}},"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":2169,"end":2263,"loc":{"start":{"line":57,"column":8},"end":{"line":57,"column":102}},"expression":{"type":"CallExpression","start":2169,"end":2262,"loc":{"start":{"line":57,"column":8},"end":{"line":57,"column":101}},"callee":{"type":"MemberExpression","start":2169,"end":2181,"loc":{"start":{"line":57,"column":8},"end":{"line":57,"column":20}},"object":{"type":"Identifier","start":2169,"end":2175,"loc":{"start":{"line":57,"column":8},"end":{"line":57,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":2176,"end":2181,"loc":{"start":{"line":57,"column":15},"end":{"line":57,"column":20}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":2182,"end":2247,"loc":{"start":{"line":57,"column":21},"end":{"line":57,"column":86}},"value":"Waiting for socket connection before beginning remote download.","raw":"'Waiting for socket connection before beginning remote download.'"},{"type":"Literal","start":2249,"end":2253,"loc":{"start":{"line":57,"column":88},"end":{"line":57,"column":92}},"value":null,"raw":"null"},{"type":"MemberExpression","start":2255,"end":2261,"loc":{"start":{"line":57,"column":94},"end":{"line":57,"column":100}},"object":{"type":"Identifier","start":2255,"end":2258,"loc":{"start":{"line":57,"column":94},"end":{"line":57,"column":97}},"name":"req"},"property":{"type":"Identifier","start":2259,"end":2261,"loc":{"start":{"line":57,"column":98},"end":{"line":57,"column":100}},"name":"id"},"computed":false}]}},{"type":"ExpressionStatement","start":2272,"end":2503,"loc":{"start":{"line":58,"column":8},"end":{"line":61,"column":11}},"expression":{"type":"CallExpression","start":2272,"end":2502,"loc":{"start":{"line":58,"column":8},"end":{"line":61,"column":10}},"callee":{"type":"MemberExpression","start":2272,"end":2294,"loc":{"start":{"line":58,"column":8},"end":{"line":58,"column":30}},"object":{"type":"Identifier","start":2272,"end":2280,"loc":{"start":{"line":58,"column":8},"end":{"line":58,"column":16}},"name":"uploader"},"property":{"type":"Identifier","start":2281,"end":2294,"loc":{"start":{"line":58,"column":17},"end":{"line":58,"column":30}},"name":"onSocketReady"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2295,"end":2501,"loc":{"start":{"line":58,"column":31},"end":{"line":61,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2301,"end":2501,"loc":{"start":{"line":58,"column":37},"end":{"line":61,"column":9}},"body":[{"type":"ExpressionStatement","start":2315,"end":2399,"loc":{"start":{"line":59,"column":12},"end":{"line":59,"column":96}},"expression":{"type":"CallExpression","start":2315,"end":2398,"loc":{"start":{"line":59,"column":12},"end":{"line":59,"column":95}},"callee":{"type":"MemberExpression","start":2315,"end":2327,"loc":{"start":{"line":59,"column":12},"end":{"line":59,"column":24}},"object":{"type":"Identifier","start":2315,"end":2321,"loc":{"start":{"line":59,"column":12},"end":{"line":59,"column":18}},"name":"logger"},"property":{"type":"Identifier","start":2322,"end":2327,"loc":{"start":{"line":59,"column":19},"end":{"line":59,"column":24}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":2328,"end":2383,"loc":{"start":{"line":59,"column":25},"end":{"line":59,"column":80}},"value":"Socket connection received. Starting remote download.","raw":"'Socket connection received. Starting remote download.'"},{"type":"Literal","start":2385,"end":2389,"loc":{"start":{"line":59,"column":82},"end":{"line":59,"column":86}},"value":null,"raw":"null"},{"type":"MemberExpression","start":2391,"end":2397,"loc":{"start":{"line":59,"column":88},"end":{"line":59,"column":94}},"object":{"type":"Identifier","start":2391,"end":2394,"loc":{"start":{"line":59,"column":88},"end":{"line":59,"column":91}},"name":"req"},"property":{"type":"Identifier","start":2395,"end":2397,"loc":{"start":{"line":59,"column":92},"end":{"line":59,"column":94}},"name":"id"},"computed":false}]}},{"type":"ExpressionStatement","start":2412,"end":2491,"loc":{"start":{"line":60,"column":12},"end":{"line":60,"column":91}},"expression":{"type":"CallExpression","start":2412,"end":2490,"loc":{"start":{"line":60,"column":12},"end":{"line":60,"column":90}},"callee":{"type":"Identifier","start":2412,"end":2423,"loc":{"start":{"line":60,"column":12},"end":{"line":60,"column":23}},"name":"downloadURL"},"arguments":[{"type":"MemberExpression","start":2424,"end":2436,"loc":{"start":{"line":60,"column":24},"end":{"line":60,"column":36}},"object":{"type":"MemberExpression","start":2424,"end":2432,"loc":{"start":{"line":60,"column":24},"end":{"line":60,"column":32}},"object":{"type":"Identifier","start":2424,"end":2427,"loc":{"start":{"line":60,"column":24},"end":{"line":60,"column":27}},"name":"req"},"property":{"type":"Identifier","start":2428,"end":2432,"loc":{"start":{"line":60,"column":28},"end":{"line":60,"column":32}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":2433,"end":2436,"loc":{"start":{"line":60,"column":33},"end":{"line":60,"column":36}},"name":"url"},"computed":false},{"type":"CallExpression","start":2438,"end":2473,"loc":{"start":{"line":60,"column":38},"end":{"line":60,"column":73}},"callee":{"type":"MemberExpression","start":2438,"end":2463,"loc":{"start":{"line":60,"column":38},"end":{"line":60,"column":63}},"object":{"type":"MemberExpression","start":2438,"end":2458,"loc":{"start":{"line":60,"column":38},"end":{"line":60,"column":58}},"object":{"type":"Identifier","start":2438,"end":2446,"loc":{"start":{"line":60,"column":38},"end":{"line":60,"column":46}},"name":"uploader"},"property":{"type":"Identifier","start":2447,"end":2458,"loc":{"start":{"line":60,"column":47},"end":{"line":60,"column":58}},"name":"handleChunk"},"computed":false},"property":{"type":"Identifier","start":2459,"end":2463,"loc":{"start":{"line":60,"column":59},"end":{"line":60,"column":63}},"name":"bind"},"computed":false},"arguments":[{"type":"Identifier","start":2464,"end":2472,"loc":{"start":{"line":60,"column":64},"end":{"line":60,"column":72}},"name":"uploader"}]},{"type":"UnaryExpression","start":2475,"end":2481,"loc":{"start":{"line":60,"column":75},"end":{"line":60,"column":81}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2476,"end":2481,"loc":{"start":{"line":60,"column":76},"end":{"line":60,"column":81}},"name":"debug"}},{"type":"MemberExpression","start":2483,"end":2489,"loc":{"start":{"line":60,"column":83},"end":{"line":60,"column":89}},"object":{"type":"Identifier","start":2483,"end":2486,"loc":{"start":{"line":60,"column":83},"end":{"line":60,"column":86}},"name":"req"},"property":{"type":"Identifier","start":2487,"end":2489,"loc":{"start":{"line":60,"column":87},"end":{"line":60,"column":89}},"name":"id"},"computed":false}]}}]}}]}},{"type":"VariableDeclaration","start":2512,"end":2552,"loc":{"start":{"line":62,"column":8},"end":{"line":62,"column":48}},"declarations":[{"type":"VariableDeclarator","start":2518,"end":2551,"loc":{"start":{"line":62,"column":14},"end":{"line":62,"column":47}},"id":{"type":"Identifier","start":2518,"end":2526,"loc":{"start":{"line":62,"column":14},"end":{"line":62,"column":22}},"name":"response"},"init":{"type":"CallExpression","start":2529,"end":2551,"loc":{"start":{"line":62,"column":25},"end":{"line":62,"column":47}},"callee":{"type":"MemberExpression","start":2529,"end":2549,"loc":{"start":{"line":62,"column":25},"end":{"line":62,"column":45}},"object":{"type":"Identifier","start":2529,"end":2537,"loc":{"start":{"line":62,"column":25},"end":{"line":62,"column":33}},"name":"uploader"},"property":{"type":"Identifier","start":2538,"end":2549,"loc":{"start":{"line":62,"column":34},"end":{"line":62,"column":45}},"name":"getResponse"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":2561,"end":2609,"loc":{"start":{"line":63,"column":8},"end":{"line":63,"column":56}},"expression":{"type":"CallExpression","start":2561,"end":2608,"loc":{"start":{"line":63,"column":8},"end":{"line":63,"column":55}},"callee":{"type":"MemberExpression","start":2561,"end":2593,"loc":{"start":{"line":63,"column":8},"end":{"line":63,"column":40}},"object":{"type":"CallExpression","start":2561,"end":2588,"loc":{"start":{"line":63,"column":8},"end":{"line":63,"column":35}},"callee":{"type":"MemberExpression","start":2561,"end":2571,"loc":{"start":{"line":63,"column":8},"end":{"line":63,"column":18}},"object":{"type":"Identifier","start":2561,"end":2564,"loc":{"start":{"line":63,"column":8},"end":{"line":63,"column":11}},"name":"res"},"property":{"type":"Identifier","start":2565,"end":2571,"loc":{"start":{"line":63,"column":12},"end":{"line":63,"column":18}},"name":"status"},"computed":false},"arguments":[{"type":"MemberExpression","start":2572,"end":2587,"loc":{"start":{"line":63,"column":19},"end":{"line":63,"column":34}},"object":{"type":"Identifier","start":2572,"end":2580,"loc":{"start":{"line":63,"column":19},"end":{"line":63,"column":27}},"name":"response"},"property":{"type":"Identifier","start":2581,"end":2587,"loc":{"start":{"line":63,"column":28},"end":{"line":63,"column":34}},"name":"status"},"computed":false}]},"property":{"type":"Identifier","start":2589,"end":2593,"loc":{"start":{"line":63,"column":36},"end":{"line":63,"column":40}},"name":"json"},"computed":false},"arguments":[{"type":"MemberExpression","start":2594,"end":2607,"loc":{"start":{"line":63,"column":41},"end":{"line":63,"column":54}},"object":{"type":"Identifier","start":2594,"end":2602,"loc":{"start":{"line":63,"column":41},"end":{"line":63,"column":49}},"name":"response"},"property":{"type":"Identifier","start":2603,"end":2607,"loc":{"start":{"line":63,"column":50},"end":{"line":63,"column":54}},"name":"body"},"computed":false}]}}]}}]},"property":{"type":"Identifier","start":2617,"end":2622,"loc":{"start":{"line":64,"column":7},"end":{"line":64,"column":12}},"name":"catch"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2623,"end":2784,"loc":{"start":{"line":64,"column":13},"end":{"line":68,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2624,"end":2627,"loc":{"start":{"line":64,"column":14},"end":{"line":64,"column":17}},"name":"err"}],"body":{"type":"BlockStatement","start":2632,"end":2784,"loc":{"start":{"line":64,"column":22},"end":{"line":68,"column":5}},"body":[{"type":"ExpressionStatement","start":2642,"end":2696,"loc":{"start":{"line":65,"column":8},"end":{"line":65,"column":62}},"expression":{"type":"CallExpression","start":2642,"end":2695,"loc":{"start":{"line":65,"column":8},"end":{"line":65,"column":61}},"callee":{"type":"MemberExpression","start":2642,"end":2654,"loc":{"start":{"line":65,"column":8},"end":{"line":65,"column":20}},"object":{"type":"Identifier","start":2642,"end":2648,"loc":{"start":{"line":65,"column":8},"end":{"line":65,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":2649,"end":2654,"loc":{"start":{"line":65,"column":15},"end":{"line":65,"column":20}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":2655,"end":2658,"loc":{"start":{"line":65,"column":21},"end":{"line":65,"column":24}},"name":"err"},{"type":"Literal","start":2660,"end":2686,"loc":{"start":{"line":65,"column":26},"end":{"line":65,"column":52}},"value":"controller.url.get.error","raw":"'controller.url.get.error'"},{"type":"MemberExpression","start":2688,"end":2694,"loc":{"start":{"line":65,"column":54},"end":{"line":65,"column":60}},"object":{"type":"Identifier","start":2688,"end":2691,"loc":{"start":{"line":65,"column":54},"end":{"line":65,"column":57}},"name":"req"},"property":{"type":"Identifier","start":2692,"end":2694,"loc":{"start":{"line":65,"column":58},"end":{"line":65,"column":60}},"name":"id"},"computed":false}]}},{"type":"ExpressionStatement","start":2760,"end":2778,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":26}},"expression":{"type":"CallExpression","start":2760,"end":2777,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":25}},"callee":{"type":"MemberExpression","start":2760,"end":2768,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":16}},"object":{"type":"Identifier","start":2760,"end":2763,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":11}},"name":"res"},"property":{"type":"Identifier","start":2764,"end":2768,"loc":{"start":{"line":67,"column":12},"end":{"line":67,"column":16}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":2769,"end":2776,"loc":{"start":{"line":67,"column":17},"end":{"line":67,"column":24}},"properties":[{"type":"Property","start":2771,"end":2774,"loc":{"start":{"line":67,"column":19},"end":{"line":67,"column":22}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2771,"end":2774,"loc":{"start":{"line":67,"column":19},"end":{"line":67,"column":22}},"name":"err"},"kind":"init","value":{"type":"Identifier","start":2771,"end":2774,"loc":{"start":{"line":67,"column":19},"end":{"line":67,"column":22}},"name":"err"}}]}]},"comments":[{"type":"Line","value":" @todo this should send back error (not err)","start":2705,"end":2751,"loc":{"start":{"line":66,"column":8},"end":{"line":66,"column":54}}}]}]}}]}}]}}}],"kind":"const","comments":[{"type":"Block","value":"*\n * Handles the reques of import a file from a remote URL, and then\n * subsequently uploading it to the specified destination.\n *\n * @param {object} req expressJS request object\n * @param {object} res expressJS response object\n ","start":1162,"end":1395,"loc":{"start":{"line":33,"column":0},"end":{"line":39,"column":3}}}]},{"type":"VariableDeclaration","start":2956,"end":3220,"loc":{"start":{"line":75,"column":0},"end":{"line":85,"column":2}},"declarations":[{"type":"VariableDeclarator","start":2962,"end":3219,"loc":{"start":{"line":75,"column":6},"end":{"line":85,"column":1}},"id":{"type":"Identifier","start":2962,"end":2973,"loc":{"start":{"line":75,"column":6},"end":{"line":75,"column":17}},"name":"validateURL"},"init":{"type":"ArrowFunctionExpression","start":2976,"end":3219,"loc":{"start":{"line":75,"column":20},"end":{"line":85,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2977,"end":2980,"loc":{"start":{"line":75,"column":21},"end":{"line":75,"column":24}},"name":"url"},{"type":"Identifier","start":2982,"end":2987,"loc":{"start":{"line":75,"column":26},"end":{"line":75,"column":31}},"name":"debug"}],"body":{"type":"BlockStatement","start":2992,"end":3219,"loc":{"start":{"line":75,"column":36},"end":{"line":85,"column":1}},"body":[{"type":"VariableDeclaration","start":2998,"end":3125,"loc":{"start":{"line":76,"column":4},"end":{"line":80,"column":6}},"declarations":[{"type":"VariableDeclarator","start":3004,"end":3124,"loc":{"start":{"line":76,"column":10},"end":{"line":80,"column":5}},"id":{"type":"Identifier","start":3004,"end":3016,"loc":{"start":{"line":76,"column":10},"end":{"line":76,"column":22}},"name":"validURLOpts"},"init":{"type":"ObjectExpression","start":3019,"end":3124,"loc":{"start":{"line":76,"column":25},"end":{"line":80,"column":5}},"properties":[{"type":"Property","start":3029,"end":3057,"loc":{"start":{"line":77,"column":8},"end":{"line":77,"column":36}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3029,"end":3038,"loc":{"start":{"line":77,"column":8},"end":{"line":77,"column":17}},"name":"protocols"},"value":{"type":"ArrayExpression","start":3040,"end":3057,"loc":{"start":{"line":77,"column":19},"end":{"line":77,"column":36}},"elements":[{"type":"Literal","start":3041,"end":3047,"loc":{"start":{"line":77,"column":20},"end":{"line":77,"column":26}},"value":"http","raw":"'http'"},{"type":"Literal","start":3049,"end":3056,"loc":{"start":{"line":77,"column":28},"end":{"line":77,"column":35}},"value":"https","raw":"'https'"}]},"kind":"init"},{"type":"Property","start":3067,"end":3089,"loc":{"start":{"line":78,"column":8},"end":{"line":78,"column":30}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3067,"end":3083,"loc":{"start":{"line":78,"column":8},"end":{"line":78,"column":24}},"name":"require_protocol"},"value":{"type":"Literal","start":3085,"end":3089,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":30}},"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":3099,"end":3118,"loc":{"start":{"line":79,"column":8},"end":{"line":79,"column":27}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3099,"end":3110,"loc":{"start":{"line":79,"column":8},"end":{"line":79,"column":19}},"name":"require_tld"},"value":{"type":"UnaryExpression","start":3112,"end":3118,"loc":{"start":{"line":79,"column":21},"end":{"line":79,"column":27}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":3113,"end":3118,"loc":{"start":{"line":79,"column":22},"end":{"line":79,"column":27}},"name":"debug"}},"kind":"init"}]}}],"kind":"const"},{"type":"IfStatement","start":3130,"end":3200,"loc":{"start":{"line":81,"column":4},"end":{"line":83,"column":5}},"test":{"type":"UnaryExpression","start":3134,"end":3169,"loc":{"start":{"line":81,"column":8},"end":{"line":81,"column":43}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":3135,"end":3169,"loc":{"start":{"line":81,"column":9},"end":{"line":81,"column":43}},"callee":{"type":"MemberExpression","start":3135,"end":3150,"loc":{"start":{"line":81,"column":9},"end":{"line":81,"column":24}},"object":{"type":"Identifier","start":3135,"end":3144,"loc":{"start":{"line":81,"column":9},"end":{"line":81,"column":18}},"name":"validator"},"property":{"type":"Identifier","start":3145,"end":3150,"loc":{"start":{"line":81,"column":19},"end":{"line":81,"column":24}},"name":"isURL"},"computed":false},"arguments":[{"type":"Identifier","start":3151,"end":3154,"loc":{"start":{"line":81,"column":25},"end":{"line":81,"column":28}},"name":"url"},{"type":"Identifier","start":3156,"end":3168,"loc":{"start":{"line":81,"column":30},"end":{"line":81,"column":42}},"name":"validURLOpts"}]}},"consequent":{"type":"BlockStatement","start":3171,"end":3200,"loc":{"start":{"line":81,"column":45},"end":{"line":83,"column":5}},"body":[{"type":"ReturnStatement","start":3181,"end":3194,"loc":{"start":{"line":82,"column":8},"end":{"line":82,"column":21}},"argument":{"type":"Literal","start":3188,"end":3193,"loc":{"start":{"line":82,"column":15},"end":{"line":82,"column":20}},"value":false,"raw":"false"}}]},"alternate":null},{"type":"ReturnStatement","start":3205,"end":3217,"loc":{"start":{"line":84,"column":4},"end":{"line":84,"column":16}},"argument":{"type":"Literal","start":3212,"end":3216,"loc":{"start":{"line":84,"column":11},"end":{"line":84,"column":15}},"value":true,"raw":"true"}}]}}}],"kind":"const","comments":[{"type":"Block","value":"*\n * Validates that the download URL is secure\n * @param {string} url the url to validate\n * @param {boolean} debug whether the server is running in debug mode\n ","start":2790,"end":2955,"loc":{"start":{"line":70,"column":0},"end":{"line":74,"column":3}}}]},{"type":"VariableDeclaration","start":3565,"end":4040,"loc":{"start":{"line":100,"column":0},"end":{"line":111,"column":2}},"declarations":[{"type":"VariableDeclarator","start":3571,"end":4039,"loc":{"start":{"line":100,"column":6},"end":{"line":111,"column":1}},"id":{"type":"Identifier","start":3571,"end":3582,"loc":{"start":{"line":100,"column":6},"end":{"line":100,"column":17}},"name":"downloadURL"},"init":{"type":"ArrowFunctionExpression","start":3585,"end":4039,"loc":{"start":{"line":100,"column":20},"end":{"line":111,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3586,"end":3589,"loc":{"start":{"line":100,"column":21},"end":{"line":100,"column":24}},"name":"url"},{"type":"Identifier","start":3591,"end":3602,"loc":{"start":{"line":100,"column":26},"end":{"line":100,"column":37}},"name":"onDataChunk"},{"type":"Identifier","start":3604,"end":3617,"loc":{"start":{"line":100,"column":39},"end":{"line":100,"column":52}},"name":"blockLocalIPs"},{"type":"Identifier","start":3619,"end":3626,"loc":{"start":{"line":100,"column":54},"end":{"line":100,"column":61}},"name":"traceId"}],"body":{"type":"BlockStatement","start":3631,"end":4039,"loc":{"start":{"line":100,"column":66},"end":{"line":111,"column":1}},"body":[{"type":"VariableDeclaration","start":3637,"end":3820,"loc":{"start":{"line":101,"column":4},"end":{"line":106,"column":6}},"declarations":[{"type":"VariableDeclarator","start":3643,"end":3819,"loc":{"start":{"line":101,"column":10},"end":{"line":106,"column":5}},"id":{"type":"Identifier","start":3643,"end":3647,"loc":{"start":{"line":101,"column":10},"end":{"line":101,"column":14}},"name":"opts"},"init":{"type":"ObjectExpression","start":3650,"end":3819,"loc":{"start":{"line":101,"column":17},"end":{"line":106,"column":5}},"properties":[{"type":"Property","start":3660,"end":3668,"loc":{"start":{"line":102,"column":8},"end":{"line":102,"column":16}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3660,"end":3663,"loc":{"start":{"line":102,"column":8},"end":{"line":102,"column":11}},"name":"uri"},"value":{"type":"Identifier","start":3665,"end":3668,"loc":{"start":{"line":102,"column":13},"end":{"line":102,"column":16}},"name":"url"},"kind":"init"},{"type":"Property","start":3678,"end":3691,"loc":{"start":{"line":103,"column":8},"end":{"line":103,"column":21}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3678,"end":3684,"loc":{"start":{"line":103,"column":8},"end":{"line":103,"column":14}},"name":"method"},"value":{"type":"Literal","start":3686,"end":3691,"loc":{"start":{"line":103,"column":16},"end":{"line":103,"column":21}},"value":"GET","raw":"'GET'"},"kind":"init"},{"type":"Property","start":3701,"end":3725,"loc":{"start":{"line":104,"column":8},"end":{"line":104,"column":32}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3701,"end":3719,"loc":{"start":{"line":104,"column":8},"end":{"line":104,"column":26}},"name":"followAllRedirects"},"value":{"type":"Literal","start":3721,"end":3725,"loc":{"start":{"line":104,"column":28},"end":{"line":104,"column":32}},"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":3735,"end":3813,"loc":{"start":{"line":105,"column":8},"end":{"line":105,"column":86}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3735,"end":3745,"loc":{"start":{"line":105,"column":8},"end":{"line":105,"column":18}},"name":"agentClass"},"value":{"type":"CallExpression","start":3747,"end":3813,"loc":{"start":{"line":105,"column":20},"end":{"line":105,"column":86}},"callee":{"type":"Identifier","start":3747,"end":3768,"loc":{"start":{"line":105,"column":20},"end":{"line":105,"column":41}},"name":"getProtectedHttpAgent"},"arguments":[{"type":"MemberExpression","start":3769,"end":3797,"loc":{"start":{"line":105,"column":42},"end":{"line":105,"column":70}},"object":{"type":"CallExpression","start":3769,"end":3788,"loc":{"start":{"line":105,"column":42},"end":{"line":105,"column":61}},"callee":{"type":"MemberExpression","start":3769,"end":3783,"loc":{"start":{"line":105,"column":42},"end":{"line":105,"column":56}},"object":{"type":"Identifier","start":3769,"end":3774,"loc":{"start":{"line":105,"column":42},"end":{"line":105,"column":47}},"name":"utils"},"property":{"type":"Identifier","start":3775,"end":3783,"loc":{"start":{"line":105,"column":48},"end":{"line":105,"column":56}},"name":"parseURL"},"computed":false},"arguments":[{"type":"Identifier","start":3784,"end":3787,"loc":{"start":{"line":105,"column":57},"end":{"line":105,"column":60}},"name":"url"}]},"property":{"type":"Identifier","start":3789,"end":3797,"loc":{"start":{"line":105,"column":62},"end":{"line":105,"column":70}},"name":"protocol"},"computed":false},{"type":"Identifier","start":3799,"end":3812,"loc":{"start":{"line":105,"column":72},"end":{"line":105,"column":85}},"name":"blockLocalIPs"}]},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":3825,"end":4037,"loc":{"start":{"line":107,"column":4},"end":{"line":110,"column":91}},"expression":{"type":"CallExpression","start":3825,"end":4036,"loc":{"start":{"line":107,"column":4},"end":{"line":110,"column":90}},"callee":{"type":"MemberExpression","start":3825,"end":3957,"loc":{"start":{"line":107,"column":4},"end":{"line":110,"column":11}},"object":{"type":"CallExpression","start":3825,"end":3945,"loc":{"start":{"line":107,"column":4},"end":{"line":109,"column":49}},"callee":{"type":"MemberExpression","start":3825,"end":3907,"loc":{"start":{"line":107,"column":4},"end":{"line":109,"column":11}},"object":{"type":"CallExpression","start":3825,"end":3895,"loc":{"start":{"line":107,"column":4},"end":{"line":108,"column":56}},"callee":{"type":"MemberExpression","start":3825,"end":3850,"loc":{"start":{"line":107,"column":4},"end":{"line":108,"column":11}},"object":{"type":"CallExpression","start":3825,"end":3838,"loc":{"start":{"line":107,"column":4},"end":{"line":107,"column":17}},"callee":{"type":"Identifier","start":3825,"end":3832,"loc":{"start":{"line":107,"column":4},"end":{"line":107,"column":11}},"name":"request"},"arguments":[{"type":"Identifier","start":3833,"end":3837,"loc":{"start":{"line":107,"column":12},"end":{"line":107,"column":16}},"name":"opts"}]},"property":{"type":"Identifier","start":3848,"end":3850,"loc":{"start":{"line":108,"column":9},"end":{"line":108,"column":11}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3851,"end":3857,"loc":{"start":{"line":108,"column":12},"end":{"line":108,"column":18}},"value":"data","raw":"'data'"},{"type":"ArrowFunctionExpression","start":3859,"end":3894,"loc":{"start":{"line":108,"column":20},"end":{"line":108,"column":55}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3860,"end":3865,"loc":{"start":{"line":108,"column":21},"end":{"line":108,"column":26}},"name":"chunk"}],"body":{"type":"CallExpression","start":3870,"end":3894,"loc":{"start":{"line":108,"column":31},"end":{"line":108,"column":55}},"callee":{"type":"Identifier","start":3870,"end":3881,"loc":{"start":{"line":108,"column":31},"end":{"line":108,"column":42}},"name":"onDataChunk"},"arguments":[{"type":"Literal","start":3882,"end":3886,"loc":{"start":{"line":108,"column":43},"end":{"line":108,"column":47}},"value":null,"raw":"null"},{"type":"Identifier","start":3888,"end":3893,"loc":{"start":{"line":108,"column":49},"end":{"line":108,"column":54}},"name":"chunk"}]}}]},"property":{"type":"Identifier","start":3905,"end":3907,"loc":{"start":{"line":109,"column":9},"end":{"line":109,"column":11}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3908,"end":3913,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":17}},"value":"end","raw":"'end'"},{"type":"ArrowFunctionExpression","start":3915,"end":3944,"loc":{"start":{"line":109,"column":19},"end":{"line":109,"column":48}},"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":3921,"end":3944,"loc":{"start":{"line":109,"column":25},"end":{"line":109,"column":48}},"callee":{"type":"Identifier","start":3921,"end":3932,"loc":{"start":{"line":109,"column":25},"end":{"line":109,"column":36}},"name":"onDataChunk"},"arguments":[{"type":"Literal","start":3933,"end":3937,"loc":{"start":{"line":109,"column":37},"end":{"line":109,"column":41}},"value":null,"raw":"null"},{"type":"Literal","start":3939,"end":3943,"loc":{"start":{"line":109,"column":43},"end":{"line":109,"column":47}},"value":null,"raw":"null"}]}}]},"property":{"type":"Identifier","start":3955,"end":3957,"loc":{"start":{"line":110,"column":9},"end":{"line":110,"column":11}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3958,"end":3965,"loc":{"start":{"line":110,"column":12},"end":{"line":110,"column":19}},"value":"error","raw":"'error'"},{"type":"ArrowFunctionExpression","start":3967,"end":4035,"loc":{"start":{"line":110,"column":21},"end":{"line":110,"column":89}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3968,"end":3971,"loc":{"start":{"line":110,"column":22},"end":{"line":110,"column":25}},"name":"err"}],"body":{"type":"CallExpression","start":3976,"end":4035,"loc":{"start":{"line":110,"column":30},"end":{"line":110,"column":89}},"callee":{"type":"MemberExpression","start":3976,"end":3988,"loc":{"start":{"line":110,"column":30},"end":{"line":110,"column":42}},"object":{"type":"Identifier","start":3976,"end":3982,"loc":{"start":{"line":110,"column":30},"end":{"line":110,"column":36}},"name":"logger"},"property":{"type":"Identifier","start":3983,"end":3988,"loc":{"start":{"line":110,"column":37},"end":{"line":110,"column":42}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":3989,"end":3992,"loc":{"start":{"line":110,"column":43},"end":{"line":110,"column":46}},"name":"err"},{"type":"Literal","start":3994,"end":4025,"loc":{"start":{"line":110,"column":48},"end":{"line":110,"column":79}},"value":"controller.url.download.error","raw":"'controller.url.download.error'"},{"type":"Identifier","start":4027,"end":4034,"loc":{"start":{"line":110,"column":81},"end":{"line":110,"column":88}},"name":"traceId"}]}}]}}]}}}],"kind":"const","comments":[{"type":"Block","value":"*\n * @callback downloadCallback\n * @param {Error} err\n * @param {string | Buffer | Buffer[]} chunk\n ","start":3221,"end":3325,"loc":{"start":{"line":86,"column":0},"end":{"line":90,"column":3}}},{"type":"Block","value":"*\n * Downloads the content in the specified url, and passes the data\n * to the callback chunk by chunk.\n *\n * @param {string} url\n * @param {downloadCallback} onDataChunk\n * @param {boolean} blockLocalIPs\n * @param {string=} traceId\n ","start":3326,"end":3564,"loc":{"start":{"line":91,"column":0},"end":{"line":99,"column":3}}}]}],"sourceType":"script"}