{"type":"Program","start":0,"end":613,"body":[{"type":"VariableDeclaration","start":0,"end":57,"declarations":[{"type":"VariableDeclarator","start":6,"end":56,"id":{"type":"ObjectPattern","start":6,"end":25,"properties":[{"type":"Property","start":8,"end":23,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":8,"end":23,"name":"errorToResponse"},"kind":"init","value":{"type":"Identifier","start":8,"end":23,"name":"errorToResponse"}}]},"init":{"type":"CallExpression","start":28,"end":56,"callee":{"type":"Identifier","start":28,"end":35,"name":"require"},"arguments":[{"type":"Literal","start":36,"end":55,"value":"../provider/error","raw":"'../provider/error'"}]}}],"kind":"const"},{"type":"FunctionDeclaration","start":58,"end":589,"id":{"type":"Identifier","start":67,"end":71,"name":"list"},"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":72,"end":100,"properties":[{"type":"Property","start":74,"end":79,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":74,"end":79,"name":"query"},"kind":"init","value":{"type":"Identifier","start":74,"end":79,"name":"query"}},{"type":"Property","start":81,"end":87,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":81,"end":87,"name":"params"},"kind":"init","value":{"type":"Identifier","start":81,"end":87,"name":"params"}},{"type":"Property","start":89,"end":98,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":89,"end":98,"name":"companion"},"kind":"init","value":{"type":"Identifier","start":89,"end":98,"name":"companion"}}]},{"type":"Identifier","start":102,"end":105,"name":"res"},{"type":"Identifier","start":107,"end":111,"name":"next"}],"body":{"type":"BlockStatement","start":113,"end":589,"body":[{"type":"VariableDeclaration","start":119,"end":160,"declarations":[{"type":"VariableDeclarator","start":125,"end":159,"id":{"type":"Identifier","start":125,"end":137,"name":"providerName"},"init":{"type":"MemberExpression","start":140,"end":159,"object":{"type":"Identifier","start":140,"end":146,"name":"params"},"property":{"type":"Identifier","start":147,"end":159,"name":"providerName"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":165,"end":218,"declarations":[{"type":"VariableDeclarator","start":171,"end":217,"id":{"type":"Identifier","start":171,"end":176,"name":"token"},"init":{"type":"MemberExpression","start":179,"end":217,"object":{"type":"MemberExpression","start":179,"end":203,"object":{"type":"Identifier","start":179,"end":188,"name":"companion"},"property":{"type":"Identifier","start":189,"end":203,"name":"providerTokens"},"computed":false},"property":{"type":"Identifier","start":204,"end":216,"name":"providerName"},"computed":true}}],"kind":"const"},{"type":"ExpressionStatement","start":223,"end":587,"expression":{"type":"CallExpression","start":223,"end":586,"callee":{"type":"MemberExpression","start":223,"end":246,"object":{"type":"MemberExpression","start":223,"end":241,"object":{"type":"Identifier","start":223,"end":232,"name":"companion"},"property":{"type":"Identifier","start":233,"end":241,"name":"provider"},"computed":false},"property":{"type":"Identifier","start":242,"end":246,"name":"list"},"computed":false},"arguments":[{"type":"ObjectExpression","start":247,"end":296,"properties":[{"type":"Property","start":249,"end":258,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":249,"end":258,"name":"companion"},"kind":"init","value":{"type":"Identifier","start":249,"end":258,"name":"companion"}},{"type":"Property","start":260,"end":265,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":260,"end":265,"name":"token"},"kind":"init","value":{"type":"Identifier","start":260,"end":265,"name":"token"}},{"type":"Property","start":267,"end":287,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":267,"end":276,"name":"directory"},"value":{"type":"MemberExpression","start":278,"end":287,"object":{"type":"Identifier","start":278,"end":284,"name":"params"},"property":{"type":"Identifier","start":285,"end":287,"name":"id"},"computed":false},"kind":"init"},{"type":"Property","start":289,"end":294,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":289,"end":294,"name":"query"},"kind":"init","value":{"type":"Identifier","start":289,"end":294,"name":"query"}}]},{"type":"ArrowFunctionExpression","start":298,"end":585,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":299,"end":302,"name":"err"},{"type":"Identifier","start":304,"end":308,"name":"data"}],"body":{"type":"BlockStatement","start":313,"end":585,"body":[{"type":"IfStatement","start":323,"end":548,"test":{"type":"Identifier","start":327,"end":330,"name":"err"},"consequent":{"type":"BlockStatement","start":332,"end":548,"body":[{"type":"VariableDeclaration","start":346,"end":383,"declarations":[{"type":"VariableDeclarator","start":352,"end":382,"id":{"type":"Identifier","start":352,"end":359,"name":"errResp"},"init":{"type":"CallExpression","start":362,"end":382,"callee":{"type":"Identifier","start":362,"end":377,"name":"errorToResponse"},"arguments":[{"type":"Identifier","start":378,"end":381,"name":"err"}]}}],"kind":"const"},{"type":"IfStatement","start":396,"end":508,"test":{"type":"Identifier","start":400,"end":407,"name":"errResp"},"consequent":{"type":"BlockStatement","start":409,"end":508,"body":[{"type":"ReturnStatement","start":427,"end":494,"argument":{"type":"CallExpression","start":434,"end":493,"callee":{"type":"MemberExpression","start":434,"end":463,"object":{"type":"CallExpression","start":434,"end":458,"callee":{"type":"MemberExpression","start":434,"end":444,"object":{"type":"Identifier","start":434,"end":437,"name":"res"},"property":{"type":"Identifier","start":438,"end":444,"name":"status"},"computed":false},"arguments":[{"type":"MemberExpression","start":445,"end":457,"object":{"type":"Identifier","start":445,"end":452,"name":"errResp"},"property":{"type":"Identifier","start":453,"end":457,"name":"code"},"computed":false}]},"property":{"type":"Identifier","start":459,"end":463,"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":464,"end":492,"properties":[{"type":"Property","start":466,"end":490,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":466,"end":473,"name":"message"},"value":{"type":"MemberExpression","start":475,"end":490,"object":{"type":"Identifier","start":475,"end":482,"name":"errResp"},"property":{"type":"Identifier","start":483,"end":490,"name":"message"},"computed":false},"kind":"init"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":521,"end":538,"argument":{"type":"CallExpression","start":528,"end":537,"callee":{"type":"Identifier","start":528,"end":532,"name":"next"},"arguments":[{"type":"Identifier","start":533,"end":536,"name":"err"}]}}]},"alternate":null},{"type":"ReturnStatement","start":557,"end":579,"argument":{"type":"CallExpression","start":564,"end":578,"callee":{"type":"MemberExpression","start":564,"end":572,"object":{"type":"Identifier","start":564,"end":567,"name":"res"},"property":{"type":"Identifier","start":568,"end":572,"name":"json"},"computed":false},"arguments":[{"type":"Identifier","start":573,"end":577,"name":"data"}]}}]}}]}}]}},{"type":"ExpressionStatement","start":590,"end":612,"expression":{"type":"AssignmentExpression","start":590,"end":611,"operator":"=","left":{"type":"MemberExpression","start":590,"end":604,"object":{"type":"Identifier","start":590,"end":596,"name":"module"},"property":{"type":"Identifier","start":597,"end":604,"name":"exports"},"computed":false},"right":{"type":"Identifier","start":607,"end":611,"name":"list"}}}],"sourceType":"script"}