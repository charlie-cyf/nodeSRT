{"type":"Program","start":0,"end":531,"body":[{"type":"FunctionDeclaration","start":57,"end":502,"id":{"type":"Identifier","start":66,"end":75,"name":"thumbnail"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":76,"end":79,"name":"req"},{"type":"Identifier","start":81,"end":84,"name":"res"},{"type":"Identifier","start":86,"end":90,"name":"next"}],"body":{"type":"BlockStatement","start":92,"end":502,"body":[{"type":"VariableDeclaration","start":98,"end":143,"declarations":[{"type":"VariableDeclarator","start":104,"end":142,"id":{"type":"Identifier","start":104,"end":116,"name":"providerName"},"init":{"type":"MemberExpression","start":119,"end":142,"object":{"type":"MemberExpression","start":119,"end":129,"object":{"type":"Identifier","start":119,"end":122,"name":"req"},"property":{"type":"Identifier","start":123,"end":129,"name":"params"},"computed":false},"property":{"type":"Identifier","start":130,"end":142,"name":"providerName"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":148,"end":173,"declarations":[{"type":"VariableDeclarator","start":154,"end":172,"id":{"type":"Identifier","start":154,"end":156,"name":"id"},"init":{"type":"MemberExpression","start":159,"end":172,"object":{"type":"MemberExpression","start":159,"end":169,"object":{"type":"Identifier","start":159,"end":162,"name":"req"},"property":{"type":"Identifier","start":163,"end":169,"name":"params"},"computed":false},"property":{"type":"Identifier","start":170,"end":172,"name":"id"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":178,"end":235,"declarations":[{"type":"VariableDeclarator","start":184,"end":234,"id":{"type":"Identifier","start":184,"end":189,"name":"token"},"init":{"type":"MemberExpression","start":192,"end":234,"object":{"type":"MemberExpression","start":192,"end":220,"object":{"type":"MemberExpression","start":192,"end":205,"object":{"type":"Identifier","start":192,"end":195,"name":"req"},"property":{"type":"Identifier","start":196,"end":205,"name":"companion"},"computed":false},"property":{"type":"Identifier","start":206,"end":220,"name":"providerTokens"},"computed":false},"property":{"type":"Identifier","start":221,"end":233,"name":"providerName"},"computed":true}}],"kind":"const"},{"type":"VariableDeclaration","start":240,"end":280,"declarations":[{"type":"VariableDeclarator","start":246,"end":279,"id":{"type":"Identifier","start":246,"end":254,"name":"provider"},"init":{"type":"MemberExpression","start":257,"end":279,"object":{"type":"MemberExpression","start":257,"end":270,"object":{"type":"Identifier","start":257,"end":260,"name":"req"},"property":{"type":"Identifier","start":261,"end":270,"name":"companion"},"computed":false},"property":{"type":"Identifier","start":271,"end":279,"name":"provider"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":285,"end":500,"expression":{"type":"CallExpression","start":285,"end":499,"callee":{"type":"MemberExpression","start":285,"end":303,"object":{"type":"Identifier","start":285,"end":293,"name":"provider"},"property":{"type":"Identifier","start":294,"end":303,"name":"thumbnail"},"computed":false},"arguments":[{"type":"ObjectExpression","start":304,"end":317,"properties":[{"type":"Property","start":306,"end":308,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":306,"end":308,"name":"id"},"kind":"init","value":{"type":"Identifier","start":306,"end":308,"name":"id"}},{"type":"Property","start":310,"end":315,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":310,"end":315,"name":"token"},"kind":"init","value":{"type":"Identifier","start":310,"end":315,"name":"token"}}]},{"type":"ArrowFunctionExpression","start":319,"end":498,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":320,"end":323,"name":"err"},{"type":"Identifier","start":325,"end":333,"name":"response"}],"body":{"type":"BlockStatement","start":338,"end":498,"body":[{"type":"IfStatement","start":348,"end":431,"test":{"type":"Identifier","start":352,"end":355,"name":"err"},"consequent":{"type":"BlockStatement","start":357,"end":431,"body":[{"type":"ExpressionStatement","start":371,"end":421,"expression":{"type":"ConditionalExpression","start":371,"end":420,"test":{"type":"MemberExpression","start":371,"end":386,"object":{"type":"Identifier","start":371,"end":374,"name":"err"},"property":{"type":"Identifier","start":375,"end":386,"name":"isAuthError"},"computed":false},"consequent":{"type":"CallExpression","start":389,"end":408,"callee":{"type":"MemberExpression","start":389,"end":403,"object":{"type":"Identifier","start":389,"end":392,"name":"res"},"property":{"type":"Identifier","start":393,"end":403,"name":"sendStatus"},"computed":false},"arguments":[{"type":"Literal","start":404,"end":407,"value":401,"raw":"401"}]},"alternate":{"type":"CallExpression","start":411,"end":420,"callee":{"type":"Identifier","start":411,"end":415,"name":"next"},"arguments":[{"type":"Identifier","start":416,"end":419,"name":"err"}]}}}]},"alternate":null},{"type":"ExpressionStatement","start":440,"end":492,"expression":{"type":"ConditionalExpression","start":440,"end":491,"test":{"type":"Identifier","start":440,"end":448,"name":"response"},"consequent":{"type":"CallExpression","start":451,"end":469,"callee":{"type":"MemberExpression","start":451,"end":464,"object":{"type":"Identifier","start":451,"end":459,"name":"response"},"property":{"type":"Identifier","start":460,"end":464,"name":"pipe"},"computed":false},"arguments":[{"type":"Identifier","start":465,"end":468,"name":"res"}]},"alternate":{"type":"CallExpression","start":472,"end":491,"callee":{"type":"MemberExpression","start":472,"end":486,"object":{"type":"Identifier","start":472,"end":475,"name":"res"},"property":{"type":"Identifier","start":476,"end":486,"name":"sendStatus"},"computed":false},"arguments":[{"type":"Literal","start":487,"end":490,"value":404,"raw":"404"}]}}}]}}]}}]}},{"type":"ExpressionStatement","start":503,"end":530,"expression":{"type":"AssignmentExpression","start":503,"end":529,"operator":"=","left":{"type":"MemberExpression","start":503,"end":517,"object":{"type":"Identifier","start":503,"end":509,"name":"module"},"property":{"type":"Identifier","start":510,"end":517,"name":"exports"},"computed":false},"right":{"type":"Identifier","start":520,"end":529,"name":"thumbnail"}}}],"sourceType":"script"}