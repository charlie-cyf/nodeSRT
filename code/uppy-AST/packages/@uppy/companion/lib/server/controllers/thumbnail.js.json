{"type":"Program","start":0,"end":531,"loc":{"start":{"line":1,"column":0},"end":{"line":19,"column":0}},"body":[{"type":"FunctionDeclaration","start":57,"end":502,"loc":{"start":{"line":6,"column":0},"end":{"line":17,"column":1}},"id":{"type":"Identifier","start":66,"end":75,"loc":{"start":{"line":6,"column":9},"end":{"line":6,"column":18}},"name":"thumbnail"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":76,"end":79,"loc":{"start":{"line":6,"column":19},"end":{"line":6,"column":22}},"name":"req"},{"type":"Identifier","start":81,"end":84,"loc":{"start":{"line":6,"column":24},"end":{"line":6,"column":27}},"name":"res"},{"type":"Identifier","start":86,"end":90,"loc":{"start":{"line":6,"column":29},"end":{"line":6,"column":33}},"name":"next"}],"body":{"type":"BlockStatement","start":92,"end":502,"loc":{"start":{"line":6,"column":35},"end":{"line":17,"column":1}},"body":[{"type":"VariableDeclaration","start":98,"end":143,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":49}},"declarations":[{"type":"VariableDeclarator","start":104,"end":142,"loc":{"start":{"line":7,"column":10},"end":{"line":7,"column":48}},"id":{"type":"Identifier","start":104,"end":116,"loc":{"start":{"line":7,"column":10},"end":{"line":7,"column":22}},"name":"providerName"},"init":{"type":"MemberExpression","start":119,"end":142,"loc":{"start":{"line":7,"column":25},"end":{"line":7,"column":48}},"object":{"type":"MemberExpression","start":119,"end":129,"loc":{"start":{"line":7,"column":25},"end":{"line":7,"column":35}},"object":{"type":"Identifier","start":119,"end":122,"loc":{"start":{"line":7,"column":25},"end":{"line":7,"column":28}},"name":"req"},"property":{"type":"Identifier","start":123,"end":129,"loc":{"start":{"line":7,"column":29},"end":{"line":7,"column":35}},"name":"params"},"computed":false},"property":{"type":"Identifier","start":130,"end":142,"loc":{"start":{"line":7,"column":36},"end":{"line":7,"column":48}},"name":"providerName"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":148,"end":173,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":29}},"declarations":[{"type":"VariableDeclarator","start":154,"end":172,"loc":{"start":{"line":8,"column":10},"end":{"line":8,"column":28}},"id":{"type":"Identifier","start":154,"end":156,"loc":{"start":{"line":8,"column":10},"end":{"line":8,"column":12}},"name":"id"},"init":{"type":"MemberExpression","start":159,"end":172,"loc":{"start":{"line":8,"column":15},"end":{"line":8,"column":28}},"object":{"type":"MemberExpression","start":159,"end":169,"loc":{"start":{"line":8,"column":15},"end":{"line":8,"column":25}},"object":{"type":"Identifier","start":159,"end":162,"loc":{"start":{"line":8,"column":15},"end":{"line":8,"column":18}},"name":"req"},"property":{"type":"Identifier","start":163,"end":169,"loc":{"start":{"line":8,"column":19},"end":{"line":8,"column":25}},"name":"params"},"computed":false},"property":{"type":"Identifier","start":170,"end":172,"loc":{"start":{"line":8,"column":26},"end":{"line":8,"column":28}},"name":"id"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":178,"end":235,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":61}},"declarations":[{"type":"VariableDeclarator","start":184,"end":234,"loc":{"start":{"line":9,"column":10},"end":{"line":9,"column":60}},"id":{"type":"Identifier","start":184,"end":189,"loc":{"start":{"line":9,"column":10},"end":{"line":9,"column":15}},"name":"token"},"init":{"type":"MemberExpression","start":192,"end":234,"loc":{"start":{"line":9,"column":18},"end":{"line":9,"column":60}},"object":{"type":"MemberExpression","start":192,"end":220,"loc":{"start":{"line":9,"column":18},"end":{"line":9,"column":46}},"object":{"type":"MemberExpression","start":192,"end":205,"loc":{"start":{"line":9,"column":18},"end":{"line":9,"column":31}},"object":{"type":"Identifier","start":192,"end":195,"loc":{"start":{"line":9,"column":18},"end":{"line":9,"column":21}},"name":"req"},"property":{"type":"Identifier","start":196,"end":205,"loc":{"start":{"line":9,"column":22},"end":{"line":9,"column":31}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":206,"end":220,"loc":{"start":{"line":9,"column":32},"end":{"line":9,"column":46}},"name":"providerTokens"},"computed":false},"property":{"type":"Identifier","start":221,"end":233,"loc":{"start":{"line":9,"column":47},"end":{"line":9,"column":59}},"name":"providerName"},"computed":true}}],"kind":"const"},{"type":"VariableDeclaration","start":240,"end":280,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":44}},"declarations":[{"type":"VariableDeclarator","start":246,"end":279,"loc":{"start":{"line":10,"column":10},"end":{"line":10,"column":43}},"id":{"type":"Identifier","start":246,"end":254,"loc":{"start":{"line":10,"column":10},"end":{"line":10,"column":18}},"name":"provider"},"init":{"type":"MemberExpression","start":257,"end":279,"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":43}},"object":{"type":"MemberExpression","start":257,"end":270,"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":34}},"object":{"type":"Identifier","start":257,"end":260,"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":24}},"name":"req"},"property":{"type":"Identifier","start":261,"end":270,"loc":{"start":{"line":10,"column":25},"end":{"line":10,"column":34}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":271,"end":279,"loc":{"start":{"line":10,"column":35},"end":{"line":10,"column":43}},"name":"provider"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":285,"end":500,"loc":{"start":{"line":11,"column":4},"end":{"line":16,"column":7}},"expression":{"type":"CallExpression","start":285,"end":499,"loc":{"start":{"line":11,"column":4},"end":{"line":16,"column":6}},"callee":{"type":"MemberExpression","start":285,"end":303,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":22}},"object":{"type":"Identifier","start":285,"end":293,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":12}},"name":"provider"},"property":{"type":"Identifier","start":294,"end":303,"loc":{"start":{"line":11,"column":13},"end":{"line":11,"column":22}},"name":"thumbnail"},"computed":false},"arguments":[{"type":"ObjectExpression","start":304,"end":317,"loc":{"start":{"line":11,"column":23},"end":{"line":11,"column":36}},"properties":[{"type":"Property","start":306,"end":308,"loc":{"start":{"line":11,"column":25},"end":{"line":11,"column":27}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":306,"end":308,"loc":{"start":{"line":11,"column":25},"end":{"line":11,"column":27}},"name":"id"},"kind":"init","value":{"type":"Identifier","start":306,"end":308,"loc":{"start":{"line":11,"column":25},"end":{"line":11,"column":27}},"name":"id"}},{"type":"Property","start":310,"end":315,"loc":{"start":{"line":11,"column":29},"end":{"line":11,"column":34}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":310,"end":315,"loc":{"start":{"line":11,"column":29},"end":{"line":11,"column":34}},"name":"token"},"kind":"init","value":{"type":"Identifier","start":310,"end":315,"loc":{"start":{"line":11,"column":29},"end":{"line":11,"column":34}},"name":"token"}}]},{"type":"ArrowFunctionExpression","start":319,"end":498,"loc":{"start":{"line":11,"column":38},"end":{"line":16,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":320,"end":323,"loc":{"start":{"line":11,"column":39},"end":{"line":11,"column":42}},"name":"err"},{"type":"Identifier","start":325,"end":333,"loc":{"start":{"line":11,"column":44},"end":{"line":11,"column":52}},"name":"response"}],"body":{"type":"BlockStatement","start":338,"end":498,"loc":{"start":{"line":11,"column":57},"end":{"line":16,"column":5}},"body":[{"type":"IfStatement","start":348,"end":431,"loc":{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},"test":{"type":"Identifier","start":352,"end":355,"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},"name":"err"},"consequent":{"type":"BlockStatement","start":357,"end":431,"loc":{"start":{"line":12,"column":17},"end":{"line":14,"column":9}},"body":[{"type":"ExpressionStatement","start":371,"end":421,"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":62}},"expression":{"type":"ConditionalExpression","start":371,"end":420,"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":61}},"test":{"type":"MemberExpression","start":371,"end":386,"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":27}},"object":{"type":"Identifier","start":371,"end":374,"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":15}},"name":"err"},"property":{"type":"Identifier","start":375,"end":386,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":27}},"name":"isAuthError"},"computed":false},"consequent":{"type":"CallExpression","start":389,"end":408,"loc":{"start":{"line":13,"column":30},"end":{"line":13,"column":49}},"callee":{"type":"MemberExpression","start":389,"end":403,"loc":{"start":{"line":13,"column":30},"end":{"line":13,"column":44}},"object":{"type":"Identifier","start":389,"end":392,"loc":{"start":{"line":13,"column":30},"end":{"line":13,"column":33}},"name":"res"},"property":{"type":"Identifier","start":393,"end":403,"loc":{"start":{"line":13,"column":34},"end":{"line":13,"column":44}},"name":"sendStatus"},"computed":false},"arguments":[{"type":"Literal","start":404,"end":407,"loc":{"start":{"line":13,"column":45},"end":{"line":13,"column":48}},"value":401,"raw":"401"}]},"alternate":{"type":"CallExpression","start":411,"end":420,"loc":{"start":{"line":13,"column":52},"end":{"line":13,"column":61}},"callee":{"type":"Identifier","start":411,"end":415,"loc":{"start":{"line":13,"column":52},"end":{"line":13,"column":56}},"name":"next"},"arguments":[{"type":"Identifier","start":416,"end":419,"loc":{"start":{"line":13,"column":57},"end":{"line":13,"column":60}},"name":"err"}]}}}]},"alternate":null},{"type":"ExpressionStatement","start":440,"end":492,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":60}},"expression":{"type":"ConditionalExpression","start":440,"end":491,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":59}},"test":{"type":"Identifier","start":440,"end":448,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":16}},"name":"response"},"consequent":{"type":"CallExpression","start":451,"end":469,"loc":{"start":{"line":15,"column":19},"end":{"line":15,"column":37}},"callee":{"type":"MemberExpression","start":451,"end":464,"loc":{"start":{"line":15,"column":19},"end":{"line":15,"column":32}},"object":{"type":"Identifier","start":451,"end":459,"loc":{"start":{"line":15,"column":19},"end":{"line":15,"column":27}},"name":"response"},"property":{"type":"Identifier","start":460,"end":464,"loc":{"start":{"line":15,"column":28},"end":{"line":15,"column":32}},"name":"pipe"},"computed":false},"arguments":[{"type":"Identifier","start":465,"end":468,"loc":{"start":{"line":15,"column":33},"end":{"line":15,"column":36}},"name":"res"}]},"alternate":{"type":"CallExpression","start":472,"end":491,"loc":{"start":{"line":15,"column":40},"end":{"line":15,"column":59}},"callee":{"type":"MemberExpression","start":472,"end":486,"loc":{"start":{"line":15,"column":40},"end":{"line":15,"column":54}},"object":{"type":"Identifier","start":472,"end":475,"loc":{"start":{"line":15,"column":40},"end":{"line":15,"column":43}},"name":"res"},"property":{"type":"Identifier","start":476,"end":486,"loc":{"start":{"line":15,"column":44},"end":{"line":15,"column":54}},"name":"sendStatus"},"computed":false},"arguments":[{"type":"Literal","start":487,"end":490,"loc":{"start":{"line":15,"column":55},"end":{"line":15,"column":58}},"value":404,"raw":"404"}]}}}]}}]}}]}},{"type":"ExpressionStatement","start":503,"end":530,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":27}},"expression":{"type":"AssignmentExpression","start":503,"end":529,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":26}},"operator":"=","left":{"type":"MemberExpression","start":503,"end":517,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":14}},"object":{"type":"Identifier","start":503,"end":509,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":6}},"name":"module"},"property":{"type":"Identifier","start":510,"end":517,"loc":{"start":{"line":18,"column":7},"end":{"line":18,"column":14}},"name":"exports"},"computed":false},"right":{"type":"Identifier","start":520,"end":529,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":26}},"name":"thumbnail"}}}],"sourceType":"script","comments":[{"type":"Block","value":"*\n *\n * @param {object} req\n * @param {object} res\n ","start":0,"end":56,"loc":{"start":{"line":1,"column":0},"end":{"line":5,"column":3}}}]}