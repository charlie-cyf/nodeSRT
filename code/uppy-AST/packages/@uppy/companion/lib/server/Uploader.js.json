{"type":"Program","start":0,"end":20576,"loc":{"start":{"line":1,"column":0},"end":{"line":542,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":25,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"declarations":[{"type":"VariableDeclarator","start":6,"end":24,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":24}},"id":{"type":"Identifier","start":6,"end":8,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":8}},"name":"fs"},"init":{"type":"CallExpression","start":11,"end":24,"loc":{"start":{"line":1,"column":11},"end":{"line":1,"column":24}},"callee":{"type":"Identifier","start":11,"end":18,"loc":{"start":{"line":1,"column":11},"end":{"line":1,"column":18}},"name":"require"},"arguments":[{"type":"Literal","start":19,"end":23,"loc":{"start":{"line":1,"column":19},"end":{"line":1,"column":23}},"value":"fs","raw":"'fs'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":26,"end":55,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"declarations":[{"type":"VariableDeclarator","start":32,"end":54,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":28}},"id":{"type":"Identifier","start":32,"end":36,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":10}},"name":"path"},"init":{"type":"CallExpression","start":39,"end":54,"loc":{"start":{"line":2,"column":13},"end":{"line":2,"column":28}},"callee":{"type":"Identifier","start":39,"end":46,"loc":{"start":{"line":2,"column":13},"end":{"line":2,"column":20}},"name":"require"},"arguments":[{"type":"Literal","start":47,"end":53,"loc":{"start":{"line":2,"column":21},"end":{"line":2,"column":27}},"value":"path","raw":"'path'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":56,"end":93,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"declarations":[{"type":"VariableDeclarator","start":62,"end":92,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":36}},"id":{"type":"Identifier","start":62,"end":65,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":9}},"name":"tus"},"init":{"type":"CallExpression","start":68,"end":92,"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":36}},"callee":{"type":"Identifier","start":68,"end":75,"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":19}},"name":"require"},"arguments":[{"type":"Literal","start":76,"end":91,"loc":{"start":{"line":3,"column":20},"end":{"line":3,"column":35}},"value":"tus-js-client","raw":"'tus-js-client'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":94,"end":123,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}},"declarations":[{"type":"VariableDeclarator","start":100,"end":122,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":28}},"id":{"type":"Identifier","start":100,"end":104,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":10}},"name":"uuid"},"init":{"type":"CallExpression","start":107,"end":122,"loc":{"start":{"line":4,"column":13},"end":{"line":4,"column":28}},"callee":{"type":"Identifier","start":107,"end":114,"loc":{"start":{"line":4,"column":13},"end":{"line":4,"column":20}},"name":"require"},"arguments":[{"type":"Literal","start":115,"end":121,"loc":{"start":{"line":4,"column":21},"end":{"line":4,"column":27}},"value":"uuid","raw":"'uuid'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":124,"end":161,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"declarations":[{"type":"VariableDeclarator","start":130,"end":160,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":36}},"id":{"type":"Identifier","start":130,"end":138,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":14}},"name":"isObject"},"init":{"type":"CallExpression","start":141,"end":160,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":36}},"callee":{"type":"Identifier","start":141,"end":148,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":24}},"name":"require"},"arguments":[{"type":"Literal","start":149,"end":159,"loc":{"start":{"line":5,"column":25},"end":{"line":5,"column":35}},"value":"isobject","raw":"'isobject'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":162,"end":201,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}},"declarations":[{"type":"VariableDeclarator","start":168,"end":200,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":38}},"id":{"type":"Identifier","start":168,"end":177,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":15}},"name":"validator"},"init":{"type":"CallExpression","start":180,"end":200,"loc":{"start":{"line":6,"column":18},"end":{"line":6,"column":38}},"callee":{"type":"Identifier","start":180,"end":187,"loc":{"start":{"line":6,"column":18},"end":{"line":6,"column":25}},"name":"require"},"arguments":[{"type":"Literal","start":188,"end":199,"loc":{"start":{"line":6,"column":26},"end":{"line":6,"column":37}},"value":"validator","raw":"'validator'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":202,"end":237,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"declarations":[{"type":"VariableDeclarator","start":208,"end":236,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":34}},"id":{"type":"Identifier","start":208,"end":215,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":13}},"name":"request"},"init":{"type":"CallExpression","start":218,"end":236,"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":34}},"callee":{"type":"Identifier","start":218,"end":225,"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":226,"end":235,"loc":{"start":{"line":7,"column":24},"end":{"line":7,"column":33}},"value":"request","raw":"'request'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":238,"end":275,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":37}},"declarations":[{"type":"VariableDeclarator","start":244,"end":274,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":36}},"id":{"type":"Identifier","start":244,"end":251,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":13}},"name":"emitter"},"init":{"type":"CallExpression","start":254,"end":274,"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":36}},"callee":{"type":"Identifier","start":254,"end":261,"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":262,"end":273,"loc":{"start":{"line":8,"column":24},"end":{"line":8,"column":35}},"value":"./emitter","raw":"'./emitter'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":276,"end":326,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":50}},"declarations":[{"type":"VariableDeclarator","start":282,"end":325,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":49}},"id":{"type":"Identifier","start":282,"end":296,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":20}},"name":"serializeError"},"init":{"type":"CallExpression","start":299,"end":325,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":49}},"callee":{"type":"Identifier","start":299,"end":306,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":30}},"name":"require"},"arguments":[{"type":"Literal","start":307,"end":324,"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":48}},"value":"serialize-error","raw":"'serialize-error'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":327,"end":390,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":63}},"declarations":[{"type":"VariableDeclarator","start":333,"end":389,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":62}},"id":{"type":"ObjectPattern","start":333,"end":360,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":33}},"properties":[{"type":"Property","start":335,"end":348,"loc":{"start":{"line":10,"column":8},"end":{"line":10,"column":21}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":335,"end":348,"loc":{"start":{"line":10,"column":8},"end":{"line":10,"column":21}},"name":"jsonStringify"},"kind":"init","value":{"type":"Identifier","start":335,"end":348,"loc":{"start":{"line":10,"column":8},"end":{"line":10,"column":21}},"name":"jsonStringify"}},{"type":"Property","start":350,"end":358,"loc":{"start":{"line":10,"column":23},"end":{"line":10,"column":31}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":350,"end":358,"loc":{"start":{"line":10,"column":23},"end":{"line":10,"column":31}},"name":"hasMatch"},"kind":"init","value":{"type":"Identifier","start":350,"end":358,"loc":{"start":{"line":10,"column":23},"end":{"line":10,"column":31}},"name":"hasMatch"}}]},"init":{"type":"CallExpression","start":363,"end":389,"loc":{"start":{"line":10,"column":36},"end":{"line":10,"column":62}},"callee":{"type":"Identifier","start":363,"end":370,"loc":{"start":{"line":10,"column":36},"end":{"line":10,"column":43}},"name":"require"},"arguments":[{"type":"Literal","start":371,"end":388,"loc":{"start":{"line":10,"column":44},"end":{"line":10,"column":61}},"value":"./helpers/utils","raw":"'./helpers/utils'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":391,"end":426,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":35}},"declarations":[{"type":"VariableDeclarator","start":397,"end":425,"loc":{"start":{"line":11,"column":6},"end":{"line":11,"column":34}},"id":{"type":"Identifier","start":397,"end":403,"loc":{"start":{"line":11,"column":6},"end":{"line":11,"column":12}},"name":"logger"},"init":{"type":"CallExpression","start":406,"end":425,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":34}},"callee":{"type":"Identifier","start":406,"end":413,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":414,"end":424,"loc":{"start":{"line":11,"column":23},"end":{"line":11,"column":33}},"value":"./logger","raw":"'./logger'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":427,"end":480,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":53}},"declarations":[{"type":"VariableDeclarator","start":433,"end":479,"loc":{"start":{"line":12,"column":6},"end":{"line":12,"column":52}},"id":{"type":"Identifier","start":433,"end":447,"loc":{"start":{"line":12,"column":6},"end":{"line":12,"column":20}},"name":"headerSanitize"},"init":{"type":"CallExpression","start":450,"end":479,"loc":{"start":{"line":12,"column":23},"end":{"line":12,"column":52}},"callee":{"type":"Identifier","start":450,"end":457,"loc":{"start":{"line":12,"column":23},"end":{"line":12,"column":30}},"name":"require"},"arguments":[{"type":"Literal","start":458,"end":478,"loc":{"start":{"line":12,"column":31},"end":{"line":12,"column":51}},"value":"./header-blacklist","raw":"'./header-blacklist'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":481,"end":514,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":33}},"declarations":[{"type":"VariableDeclarator","start":487,"end":513,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":32}},"id":{"type":"Identifier","start":487,"end":492,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":11}},"name":"redis"},"init":{"type":"CallExpression","start":495,"end":513,"loc":{"start":{"line":13,"column":14},"end":{"line":13,"column":32}},"callee":{"type":"Identifier","start":495,"end":502,"loc":{"start":{"line":13,"column":14},"end":{"line":13,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":503,"end":512,"loc":{"start":{"line":13,"column":22},"end":{"line":13,"column":31}},"value":"./redis","raw":"'./redis'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":515,"end":552,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":37}},"declarations":[{"type":"VariableDeclarator","start":521,"end":551,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":36}},"id":{"type":"Identifier","start":521,"end":539,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":24}},"name":"DEFAULT_FIELD_NAME"},"init":{"type":"Literal","start":542,"end":551,"loc":{"start":{"line":14,"column":27},"end":{"line":14,"column":36}},"value":"files[]","raw":"'files[]'"}}],"kind":"const"},{"type":"VariableDeclaration","start":553,"end":666,"loc":{"start":{"line":15,"column":0},"end":{"line":19,"column":3}},"declarations":[{"type":"VariableDeclarator","start":559,"end":665,"loc":{"start":{"line":15,"column":6},"end":{"line":19,"column":2}},"id":{"type":"Identifier","start":559,"end":568,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":15}},"name":"PROTOCOLS"},"init":{"type":"CallExpression","start":571,"end":665,"loc":{"start":{"line":15,"column":18},"end":{"line":19,"column":2}},"callee":{"type":"MemberExpression","start":571,"end":584,"loc":{"start":{"line":15,"column":18},"end":{"line":15,"column":31}},"object":{"type":"Identifier","start":571,"end":577,"loc":{"start":{"line":15,"column":18},"end":{"line":15,"column":24}},"name":"Object"},"property":{"type":"Identifier","start":578,"end":584,"loc":{"start":{"line":15,"column":25},"end":{"line":15,"column":31}},"name":"freeze"},"computed":false},"arguments":[{"type":"ObjectExpression","start":585,"end":664,"loc":{"start":{"line":15,"column":32},"end":{"line":19,"column":1}},"properties":[{"type":"Property","start":591,"end":613,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":591,"end":600,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":13}},"name":"multipart"},"value":{"type":"Literal","start":602,"end":613,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":26}},"value":"multipart","raw":"'multipart'"},"kind":"init"},{"type":"Property","start":619,"end":646,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":31}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":619,"end":630,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":15}},"name":"s3Multipart"},"value":{"type":"Literal","start":632,"end":646,"loc":{"start":{"line":17,"column":17},"end":{"line":17,"column":31}},"value":"s3-multipart","raw":"'s3-multipart'"},"kind":"init"},{"type":"Property","start":652,"end":662,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":14}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":652,"end":655,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":7}},"name":"tus"},"value":{"type":"Literal","start":657,"end":662,"loc":{"start":{"line":18,"column":9},"end":{"line":18,"column":14}},"value":"tus","raw":"'tus'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ClassDeclaration","start":667,"end":20468,"loc":{"start":{"line":20,"column":0},"end":{"line":538,"column":1}},"id":{"type":"Identifier","start":673,"end":681,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":14}},"name":"Uploader"},"superClass":null,"body":{"type":"ClassBody","start":682,"end":20468,"loc":{"start":{"line":20,"column":15},"end":{"line":538,"column":1}},"body":[{"type":"MethodDefinition","start":1504,"end":3570,"loc":{"start":{"line":43,"column":4},"end":{"line":90,"column":5}},"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":1504,"end":1515,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":15}},"name":"constructor"},"value":{"type":"FunctionExpression","start":1515,"end":3570,"loc":{"start":{"line":43,"column":15},"end":{"line":90,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1516,"end":1523,"loc":{"start":{"line":43,"column":16},"end":{"line":43,"column":23}},"name":"options"}],"body":{"type":"BlockStatement","start":1525,"end":3570,"loc":{"start":{"line":43,"column":25},"end":{"line":90,"column":5}},"body":[{"type":"IfStatement","start":1535,"end":1677,"loc":{"start":{"line":44,"column":8},"end":{"line":47,"column":9}},"test":{"type":"UnaryExpression","start":1539,"end":1569,"loc":{"start":{"line":44,"column":12},"end":{"line":44,"column":42}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1540,"end":1569,"loc":{"start":{"line":44,"column":13},"end":{"line":44,"column":42}},"callee":{"type":"MemberExpression","start":1540,"end":1560,"loc":{"start":{"line":44,"column":13},"end":{"line":44,"column":33}},"object":{"type":"ThisExpression","start":1540,"end":1544,"loc":{"start":{"line":44,"column":13},"end":{"line":44,"column":17}}},"property":{"type":"Identifier","start":1545,"end":1560,"loc":{"start":{"line":44,"column":18},"end":{"line":44,"column":33}},"name":"validateOptions"},"computed":false},"arguments":[{"type":"Identifier","start":1561,"end":1568,"loc":{"start":{"line":44,"column":34},"end":{"line":44,"column":41}},"name":"options"}]}},"consequent":{"type":"BlockStatement","start":1571,"end":1677,"loc":{"start":{"line":44,"column":44},"end":{"line":47,"column":9}},"body":[{"type":"ExpressionStatement","start":1585,"end":1647,"loc":{"start":{"line":45,"column":12},"end":{"line":45,"column":74}},"expression":{"type":"CallExpression","start":1585,"end":1646,"loc":{"start":{"line":45,"column":12},"end":{"line":45,"column":73}},"callee":{"type":"MemberExpression","start":1585,"end":1597,"loc":{"start":{"line":45,"column":12},"end":{"line":45,"column":24}},"object":{"type":"Identifier","start":1585,"end":1591,"loc":{"start":{"line":45,"column":12},"end":{"line":45,"column":18}},"name":"logger"},"property":{"type":"Identifier","start":1592,"end":1597,"loc":{"start":{"line":45,"column":19},"end":{"line":45,"column":24}},"name":"debug"},"computed":false},"arguments":[{"type":"MemberExpression","start":1598,"end":1618,"loc":{"start":{"line":45,"column":25},"end":{"line":45,"column":45}},"object":{"type":"ThisExpression","start":1598,"end":1602,"loc":{"start":{"line":45,"column":25},"end":{"line":45,"column":29}}},"property":{"type":"Identifier","start":1603,"end":1618,"loc":{"start":{"line":45,"column":30},"end":{"line":45,"column":45}},"name":"_errRespMessage"},"computed":false},{"type":"Literal","start":1620,"end":1645,"loc":{"start":{"line":45,"column":47},"end":{"line":45,"column":72}},"value":"uploader.validator.fail","raw":"'uploader.validator.fail'"}]}},{"type":"ReturnStatement","start":1660,"end":1667,"loc":{"start":{"line":46,"column":12},"end":{"line":46,"column":19}},"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":1686,"end":1709,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":31}},"expression":{"type":"AssignmentExpression","start":1686,"end":1708,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":30}},"operator":"=","left":{"type":"MemberExpression","start":1686,"end":1698,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":20}},"object":{"type":"ThisExpression","start":1686,"end":1690,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":12}}},"property":{"type":"Identifier","start":1691,"end":1698,"loc":{"start":{"line":48,"column":13},"end":{"line":48,"column":20}},"name":"options"},"computed":false},"right":{"type":"Identifier","start":1701,"end":1708,"loc":{"start":{"line":48,"column":23},"end":{"line":48,"column":30}},"name":"options"}}},{"type":"ExpressionStatement","start":1718,"end":1741,"loc":{"start":{"line":49,"column":8},"end":{"line":49,"column":31}},"expression":{"type":"AssignmentExpression","start":1718,"end":1740,"loc":{"start":{"line":49,"column":8},"end":{"line":49,"column":30}},"operator":"=","left":{"type":"MemberExpression","start":1718,"end":1728,"loc":{"start":{"line":49,"column":8},"end":{"line":49,"column":18}},"object":{"type":"ThisExpression","start":1718,"end":1722,"loc":{"start":{"line":49,"column":8},"end":{"line":49,"column":12}}},"property":{"type":"Identifier","start":1723,"end":1728,"loc":{"start":{"line":49,"column":13},"end":{"line":49,"column":18}},"name":"token"},"computed":false},"right":{"type":"CallExpression","start":1731,"end":1740,"loc":{"start":{"line":49,"column":21},"end":{"line":49,"column":30}},"callee":{"type":"MemberExpression","start":1731,"end":1738,"loc":{"start":{"line":49,"column":21},"end":{"line":49,"column":28}},"object":{"type":"Identifier","start":1731,"end":1735,"loc":{"start":{"line":49,"column":21},"end":{"line":49,"column":25}},"name":"uuid"},"property":{"type":"Identifier","start":1736,"end":1738,"loc":{"start":{"line":49,"column":26},"end":{"line":49,"column":28}},"name":"v4"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":1750,"end":1834,"loc":{"start":{"line":50,"column":8},"end":{"line":50,"column":92}},"expression":{"type":"AssignmentExpression","start":1750,"end":1833,"loc":{"start":{"line":50,"column":8},"end":{"line":50,"column":91}},"operator":"=","left":{"type":"MemberExpression","start":1750,"end":1759,"loc":{"start":{"line":50,"column":8},"end":{"line":50,"column":17}},"object":{"type":"ThisExpression","start":1750,"end":1754,"loc":{"start":{"line":50,"column":8},"end":{"line":50,"column":12}}},"property":{"type":"Identifier","start":1755,"end":1759,"loc":{"start":{"line":50,"column":13},"end":{"line":50,"column":17}},"name":"path"},"computed":false},"right":{"type":"TemplateLiteral","start":1762,"end":1833,"loc":{"start":{"line":50,"column":20},"end":{"line":50,"column":91}},"expressions":[{"type":"MemberExpression","start":1765,"end":1788,"loc":{"start":{"line":50,"column":23},"end":{"line":50,"column":46}},"object":{"type":"MemberExpression","start":1765,"end":1777,"loc":{"start":{"line":50,"column":23},"end":{"line":50,"column":35}},"object":{"type":"ThisExpression","start":1765,"end":1769,"loc":{"start":{"line":50,"column":23},"end":{"line":50,"column":27}}},"property":{"type":"Identifier","start":1770,"end":1777,"loc":{"start":{"line":50,"column":28},"end":{"line":50,"column":35}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":1778,"end":1788,"loc":{"start":{"line":50,"column":36},"end":{"line":50,"column":46}},"name":"pathPrefix"},"computed":false},{"type":"MemberExpression","start":1792,"end":1817,"loc":{"start":{"line":50,"column":50},"end":{"line":50,"column":75}},"object":{"type":"Identifier","start":1792,"end":1800,"loc":{"start":{"line":50,"column":50},"end":{"line":50,"column":58}},"name":"Uploader"},"property":{"type":"Identifier","start":1801,"end":1817,"loc":{"start":{"line":50,"column":59},"end":{"line":50,"column":75}},"name":"FILE_NAME_PREFIX"},"computed":false},{"type":"MemberExpression","start":1821,"end":1831,"loc":{"start":{"line":50,"column":79},"end":{"line":50,"column":89}},"object":{"type":"ThisExpression","start":1821,"end":1825,"loc":{"start":{"line":50,"column":79},"end":{"line":50,"column":83}}},"property":{"type":"Identifier","start":1826,"end":1831,"loc":{"start":{"line":50,"column":84},"end":{"line":50,"column":89}},"name":"token"},"computed":false}],"quasis":[{"type":"TemplateElement","start":1763,"end":1763,"loc":{"start":{"line":50,"column":21},"end":{"line":50,"column":21}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":1789,"end":1790,"loc":{"start":{"line":50,"column":47},"end":{"line":50,"column":48}},"value":{"raw":"/","cooked":"/"},"tail":false},{"type":"TemplateElement","start":1818,"end":1819,"loc":{"start":{"line":50,"column":76},"end":{"line":50,"column":77}},"value":{"raw":"-","cooked":"-"},"tail":false},{"type":"TemplateElement","start":1832,"end":1832,"loc":{"start":{"line":50,"column":90},"end":{"line":50,"column":90}},"value":{"raw":"","cooked":""},"tail":true}]}}},{"type":"ExpressionStatement","start":1843,"end":1895,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":60}},"expression":{"type":"AssignmentExpression","start":1843,"end":1894,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":59}},"operator":"=","left":{"type":"MemberExpression","start":1843,"end":1864,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":29}},"object":{"type":"MemberExpression","start":1843,"end":1855,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":20}},"object":{"type":"ThisExpression","start":1843,"end":1847,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":12}}},"property":{"type":"Identifier","start":1848,"end":1855,"loc":{"start":{"line":51,"column":13},"end":{"line":51,"column":20}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":1856,"end":1864,"loc":{"start":{"line":51,"column":21},"end":{"line":51,"column":29}},"name":"metadata"},"computed":false},"right":{"type":"LogicalExpression","start":1867,"end":1894,"loc":{"start":{"line":51,"column":32},"end":{"line":51,"column":59}},"left":{"type":"MemberExpression","start":1867,"end":1888,"loc":{"start":{"line":51,"column":32},"end":{"line":51,"column":53}},"object":{"type":"MemberExpression","start":1867,"end":1879,"loc":{"start":{"line":51,"column":32},"end":{"line":51,"column":44}},"object":{"type":"ThisExpression","start":1867,"end":1871,"loc":{"start":{"line":51,"column":32},"end":{"line":51,"column":36}}},"property":{"type":"Identifier","start":1872,"end":1879,"loc":{"start":{"line":51,"column":37},"end":{"line":51,"column":44}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":1880,"end":1888,"loc":{"start":{"line":51,"column":45},"end":{"line":51,"column":53}},"name":"metadata"},"computed":false},"operator":"||","right":{"type":"ObjectExpression","start":1892,"end":1894,"loc":{"start":{"line":51,"column":57},"end":{"line":51,"column":59}},"properties":[]}}}},{"type":"ExpressionStatement","start":1904,"end":1974,"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":78}},"expression":{"type":"AssignmentExpression","start":1904,"end":1973,"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":77}},"operator":"=","left":{"type":"MemberExpression","start":1904,"end":1926,"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":30}},"object":{"type":"MemberExpression","start":1904,"end":1916,"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":20}},"object":{"type":"ThisExpression","start":1904,"end":1908,"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":12}}},"property":{"type":"Identifier","start":1909,"end":1916,"loc":{"start":{"line":52,"column":13},"end":{"line":52,"column":20}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":1917,"end":1926,"loc":{"start":{"line":52,"column":21},"end":{"line":52,"column":30}},"name":"fieldname"},"computed":false},"right":{"type":"LogicalExpression","start":1929,"end":1973,"loc":{"start":{"line":52,"column":33},"end":{"line":52,"column":77}},"left":{"type":"MemberExpression","start":1929,"end":1951,"loc":{"start":{"line":52,"column":33},"end":{"line":52,"column":55}},"object":{"type":"MemberExpression","start":1929,"end":1941,"loc":{"start":{"line":52,"column":33},"end":{"line":52,"column":45}},"object":{"type":"ThisExpression","start":1929,"end":1933,"loc":{"start":{"line":52,"column":33},"end":{"line":52,"column":37}}},"property":{"type":"Identifier","start":1934,"end":1941,"loc":{"start":{"line":52,"column":38},"end":{"line":52,"column":45}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":1942,"end":1951,"loc":{"start":{"line":52,"column":46},"end":{"line":52,"column":55}},"name":"fieldname"},"computed":false},"operator":"||","right":{"type":"Identifier","start":1955,"end":1973,"loc":{"start":{"line":52,"column":59},"end":{"line":52,"column":77}},"name":"DEFAULT_FIELD_NAME"}}}},{"type":"ExpressionStatement","start":1983,"end":2060,"loc":{"start":{"line":53,"column":8},"end":{"line":53,"column":85}},"expression":{"type":"AssignmentExpression","start":1983,"end":2059,"loc":{"start":{"line":53,"column":8},"end":{"line":53,"column":84}},"operator":"=","left":{"type":"MemberExpression","start":1983,"end":2002,"loc":{"start":{"line":53,"column":8},"end":{"line":53,"column":27}},"object":{"type":"ThisExpression","start":1983,"end":1987,"loc":{"start":{"line":53,"column":8},"end":{"line":53,"column":12}}},"property":{"type":"Identifier","start":1988,"end":2002,"loc":{"start":{"line":53,"column":13},"end":{"line":53,"column":27}},"name":"uploadFileName"},"computed":false},"right":{"type":"LogicalExpression","start":2005,"end":2059,"loc":{"start":{"line":53,"column":30},"end":{"line":53,"column":84}},"left":{"type":"MemberExpression","start":2005,"end":2031,"loc":{"start":{"line":53,"column":30},"end":{"line":53,"column":56}},"object":{"type":"MemberExpression","start":2005,"end":2026,"loc":{"start":{"line":53,"column":30},"end":{"line":53,"column":51}},"object":{"type":"MemberExpression","start":2005,"end":2017,"loc":{"start":{"line":53,"column":30},"end":{"line":53,"column":42}},"object":{"type":"ThisExpression","start":2005,"end":2009,"loc":{"start":{"line":53,"column":30},"end":{"line":53,"column":34}}},"property":{"type":"Identifier","start":2010,"end":2017,"loc":{"start":{"line":53,"column":35},"end":{"line":53,"column":42}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":2018,"end":2026,"loc":{"start":{"line":53,"column":43},"end":{"line":53,"column":51}},"name":"metadata"},"computed":false},"property":{"type":"Identifier","start":2027,"end":2031,"loc":{"start":{"line":53,"column":52},"end":{"line":53,"column":56}},"name":"name"},"computed":false},"operator":"||","right":{"type":"CallExpression","start":2035,"end":2059,"loc":{"start":{"line":53,"column":60},"end":{"line":53,"column":84}},"callee":{"type":"MemberExpression","start":2035,"end":2048,"loc":{"start":{"line":53,"column":60},"end":{"line":53,"column":73}},"object":{"type":"Identifier","start":2035,"end":2039,"loc":{"start":{"line":53,"column":60},"end":{"line":53,"column":64}},"name":"path"},"property":{"type":"Identifier","start":2040,"end":2048,"loc":{"start":{"line":53,"column":65},"end":{"line":53,"column":73}},"name":"basename"},"computed":false},"arguments":[{"type":"MemberExpression","start":2049,"end":2058,"loc":{"start":{"line":53,"column":74},"end":{"line":53,"column":83}},"object":{"type":"ThisExpression","start":2049,"end":2053,"loc":{"start":{"line":53,"column":74},"end":{"line":53,"column":78}}},"property":{"type":"Identifier","start":2054,"end":2058,"loc":{"start":{"line":53,"column":79},"end":{"line":53,"column":83}},"name":"path"},"computed":false}]}}}},{"type":"ExpressionStatement","start":2069,"end":2095,"loc":{"start":{"line":54,"column":8},"end":{"line":54,"column":34}},"expression":{"type":"AssignmentExpression","start":2069,"end":2094,"loc":{"start":{"line":54,"column":8},"end":{"line":54,"column":33}},"operator":"=","left":{"type":"MemberExpression","start":2069,"end":2086,"loc":{"start":{"line":54,"column":8},"end":{"line":54,"column":25}},"object":{"type":"ThisExpression","start":2069,"end":2073,"loc":{"start":{"line":54,"column":8},"end":{"line":54,"column":12}}},"property":{"type":"Identifier","start":2074,"end":2086,"loc":{"start":{"line":54,"column":13},"end":{"line":54,"column":25}},"name":"streamsEnded"},"computed":false},"right":{"type":"Literal","start":2089,"end":2094,"loc":{"start":{"line":54,"column":28},"end":{"line":54,"column":33}},"value":false,"raw":"false"}}},{"type":"ExpressionStatement","start":2104,"end":2131,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"expression":{"type":"AssignmentExpression","start":2104,"end":2130,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":34}},"operator":"=","left":{"type":"MemberExpression","start":2104,"end":2122,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":26}},"object":{"type":"ThisExpression","start":2104,"end":2108,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":12}}},"property":{"type":"Identifier","start":2109,"end":2122,"loc":{"start":{"line":55,"column":13},"end":{"line":55,"column":26}},"name":"uploadStopped"},"computed":false},"right":{"type":"Literal","start":2125,"end":2130,"loc":{"start":{"line":55,"column":29},"end":{"line":55,"column":34}},"value":false,"raw":"false"}}},{"type":"ExpressionStatement","start":2140,"end":2165,"loc":{"start":{"line":56,"column":8},"end":{"line":56,"column":33}},"expression":{"type":"AssignmentExpression","start":2140,"end":2164,"loc":{"start":{"line":56,"column":8},"end":{"line":56,"column":32}},"operator":"=","left":{"type":"MemberExpression","start":2140,"end":2157,"loc":{"start":{"line":56,"column":8},"end":{"line":56,"column":25}},"object":{"type":"ThisExpression","start":2140,"end":2144,"loc":{"start":{"line":56,"column":8},"end":{"line":56,"column":12}}},"property":{"type":"Identifier","start":2145,"end":2157,"loc":{"start":{"line":56,"column":13},"end":{"line":56,"column":25}},"name":"duplexStream"},"computed":false},"right":{"type":"Literal","start":2160,"end":2164,"loc":{"start":{"line":56,"column":28},"end":{"line":56,"column":32}},"value":null,"raw":"null"}}},{"type":"ExpressionStatement","start":2474,"end":2664,"loc":{"start":{"line":62,"column":8},"end":{"line":63,"column":99}},"expression":{"type":"AssignmentExpression","start":2474,"end":2663,"loc":{"start":{"line":62,"column":8},"end":{"line":63,"column":98}},"operator":"=","left":{"type":"MemberExpression","start":2474,"end":2490,"loc":{"start":{"line":62,"column":8},"end":{"line":62,"column":24}},"object":{"type":"ThisExpression","start":2474,"end":2478,"loc":{"start":{"line":62,"column":8},"end":{"line":62,"column":12}}},"property":{"type":"Identifier","start":2479,"end":2490,"loc":{"start":{"line":62,"column":13},"end":{"line":62,"column":24}},"name":"writeStream"},"computed":false},"right":{"type":"CallExpression","start":2493,"end":2663,"loc":{"start":{"line":62,"column":27},"end":{"line":63,"column":98}},"callee":{"type":"MemberExpression","start":2493,"end":2580,"loc":{"start":{"line":62,"column":27},"end":{"line":63,"column":15}},"object":{"type":"CallExpression","start":2493,"end":2541,"loc":{"start":{"line":62,"column":27},"end":{"line":62,"column":75}},"callee":{"type":"MemberExpression","start":2493,"end":2513,"loc":{"start":{"line":62,"column":27},"end":{"line":62,"column":47}},"object":{"type":"Identifier","start":2493,"end":2495,"loc":{"start":{"line":62,"column":27},"end":{"line":62,"column":29}},"name":"fs"},"property":{"type":"Identifier","start":2496,"end":2513,"loc":{"start":{"line":62,"column":30},"end":{"line":62,"column":47}},"name":"createWriteStream"},"computed":false},"arguments":[{"type":"MemberExpression","start":2514,"end":2523,"loc":{"start":{"line":62,"column":48},"end":{"line":62,"column":57}},"object":{"type":"ThisExpression","start":2514,"end":2518,"loc":{"start":{"line":62,"column":48},"end":{"line":62,"column":52}}},"property":{"type":"Identifier","start":2519,"end":2523,"loc":{"start":{"line":62,"column":53},"end":{"line":62,"column":57}},"name":"path"},"computed":false},{"type":"ObjectExpression","start":2525,"end":2540,"loc":{"start":{"line":62,"column":59},"end":{"line":62,"column":74}},"properties":[{"type":"Property","start":2527,"end":2538,"loc":{"start":{"line":62,"column":61},"end":{"line":62,"column":72}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2527,"end":2531,"loc":{"start":{"line":62,"column":61},"end":{"line":62,"column":65}},"name":"mode"},"value":{"type":"Literal","start":2533,"end":2538,"loc":{"start":{"line":62,"column":67},"end":{"line":62,"column":72}},"value":438,"raw":"0o666"},"kind":"init"}]}]},"property":{"type":"Identifier","start":2578,"end":2580,"loc":{"start":{"line":63,"column":13},"end":{"line":63,"column":15}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":2581,"end":2588,"loc":{"start":{"line":63,"column":16},"end":{"line":63,"column":23}},"value":"error","raw":"'error'"},{"type":"ArrowFunctionExpression","start":2590,"end":2662,"loc":{"start":{"line":63,"column":25},"end":{"line":63,"column":97}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2591,"end":2594,"loc":{"start":{"line":63,"column":26},"end":{"line":63,"column":29}},"name":"err"}],"body":{"type":"CallExpression","start":2599,"end":2662,"loc":{"start":{"line":63,"column":34},"end":{"line":63,"column":97}},"callee":{"type":"MemberExpression","start":2599,"end":2611,"loc":{"start":{"line":63,"column":34},"end":{"line":63,"column":46}},"object":{"type":"Identifier","start":2599,"end":2605,"loc":{"start":{"line":63,"column":34},"end":{"line":63,"column":40}},"name":"logger"},"property":{"type":"Identifier","start":2606,"end":2611,"loc":{"start":{"line":63,"column":41},"end":{"line":63,"column":46}},"name":"error"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":2612,"end":2620,"loc":{"start":{"line":63,"column":47},"end":{"line":63,"column":55}},"expressions":[{"type":"Identifier","start":2615,"end":2618,"loc":{"start":{"line":63,"column":50},"end":{"line":63,"column":53}},"name":"err"}],"quasis":[{"type":"TemplateElement","start":2613,"end":2613,"loc":{"start":{"line":63,"column":48},"end":{"line":63,"column":48}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":2619,"end":2619,"loc":{"start":{"line":63,"column":54},"end":{"line":63,"column":54}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"Literal","start":2622,"end":2644,"loc":{"start":{"line":63,"column":57},"end":{"line":63,"column":79}},"value":"uploader.write.error","raw":"'uploader.write.error'"},{"type":"MemberExpression","start":2646,"end":2661,"loc":{"start":{"line":63,"column":81},"end":{"line":63,"column":96}},"object":{"type":"ThisExpression","start":2646,"end":2650,"loc":{"start":{"line":63,"column":81},"end":{"line":63,"column":85}}},"property":{"type":"Identifier","start":2651,"end":2661,"loc":{"start":{"line":63,"column":86},"end":{"line":63,"column":96}},"name":"shortToken"},"computed":false}]}}]}}},{"type":"ExpressionStatement","start":2703,"end":2728,"loc":{"start":{"line":65,"column":8},"end":{"line":65,"column":33}},"expression":{"type":"AssignmentExpression","start":2703,"end":2727,"loc":{"start":{"line":65,"column":8},"end":{"line":65,"column":32}},"operator":"=","left":{"type":"MemberExpression","start":2703,"end":2723,"loc":{"start":{"line":65,"column":8},"end":{"line":65,"column":28}},"object":{"type":"ThisExpression","start":2703,"end":2707,"loc":{"start":{"line":65,"column":8},"end":{"line":65,"column":12}}},"property":{"type":"Identifier","start":2708,"end":2723,"loc":{"start":{"line":65,"column":13},"end":{"line":65,"column":28}},"name":"emittedProgress"},"computed":false},"right":{"type":"Literal","start":2726,"end":2727,"loc":{"start":{"line":65,"column":31},"end":{"line":65,"column":32}},"value":0,"raw":"0"}}},{"type":"ExpressionStatement","start":2737,"end":2768,"loc":{"start":{"line":66,"column":8},"end":{"line":66,"column":39}},"expression":{"type":"AssignmentExpression","start":2737,"end":2767,"loc":{"start":{"line":66,"column":8},"end":{"line":66,"column":38}},"operator":"=","left":{"type":"MemberExpression","start":2737,"end":2749,"loc":{"start":{"line":66,"column":8},"end":{"line":66,"column":20}},"object":{"type":"ThisExpression","start":2737,"end":2741,"loc":{"start":{"line":66,"column":8},"end":{"line":66,"column":12}}},"property":{"type":"Identifier","start":2742,"end":2749,"loc":{"start":{"line":66,"column":13},"end":{"line":66,"column":20}},"name":"storage"},"computed":false},"right":{"type":"MemberExpression","start":2752,"end":2767,"loc":{"start":{"line":66,"column":23},"end":{"line":66,"column":38}},"object":{"type":"Identifier","start":2752,"end":2759,"loc":{"start":{"line":66,"column":23},"end":{"line":66,"column":30}},"name":"options"},"property":{"type":"Identifier","start":2760,"end":2767,"loc":{"start":{"line":66,"column":31},"end":{"line":66,"column":38}},"name":"storage"},"computed":false}}},{"type":"ExpressionStatement","start":2777,"end":2798,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":29}},"expression":{"type":"AssignmentExpression","start":2777,"end":2797,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":28}},"operator":"=","left":{"type":"MemberExpression","start":2777,"end":2789,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":20}},"object":{"type":"ThisExpression","start":2777,"end":2781,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":12}}},"property":{"type":"Identifier","start":2782,"end":2789,"loc":{"start":{"line":67,"column":13},"end":{"line":67,"column":20}},"name":"_paused"},"computed":false},"right":{"type":"Literal","start":2792,"end":2797,"loc":{"start":{"line":67,"column":23},"end":{"line":67,"column":28}},"value":false,"raw":"false"}}},{"type":"IfStatement","start":2807,"end":3564,"loc":{"start":{"line":68,"column":8},"end":{"line":89,"column":9}},"test":{"type":"BinaryExpression","start":2811,"end":2850,"loc":{"start":{"line":68,"column":12},"end":{"line":68,"column":51}},"left":{"type":"MemberExpression","start":2811,"end":2832,"loc":{"start":{"line":68,"column":12},"end":{"line":68,"column":33}},"object":{"type":"MemberExpression","start":2811,"end":2823,"loc":{"start":{"line":68,"column":12},"end":{"line":68,"column":24}},"object":{"type":"ThisExpression","start":2811,"end":2815,"loc":{"start":{"line":68,"column":12},"end":{"line":68,"column":16}}},"property":{"type":"Identifier","start":2816,"end":2823,"loc":{"start":{"line":68,"column":17},"end":{"line":68,"column":24}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":2824,"end":2832,"loc":{"start":{"line":68,"column":25},"end":{"line":68,"column":33}},"name":"protocol"},"computed":false},"operator":"===","right":{"type":"MemberExpression","start":2837,"end":2850,"loc":{"start":{"line":68,"column":38},"end":{"line":68,"column":51}},"object":{"type":"Identifier","start":2837,"end":2846,"loc":{"start":{"line":68,"column":38},"end":{"line":68,"column":47}},"name":"PROTOCOLS"},"property":{"type":"Identifier","start":2847,"end":2850,"loc":{"start":{"line":68,"column":48},"end":{"line":68,"column":51}},"name":"tus"},"computed":false}},"consequent":{"type":"BlockStatement","start":2852,"end":3564,"loc":{"start":{"line":68,"column":53},"end":{"line":89,"column":9}},"body":[{"type":"ExpressionStatement","start":2866,"end":3050,"loc":{"start":{"line":69,"column":12},"end":{"line":74,"column":15}},"expression":{"type":"CallExpression","start":2866,"end":3049,"loc":{"start":{"line":69,"column":12},"end":{"line":74,"column":14}},"callee":{"type":"MemberExpression","start":2866,"end":2878,"loc":{"start":{"line":69,"column":12},"end":{"line":69,"column":24}},"object":{"type":"CallExpression","start":2866,"end":2875,"loc":{"start":{"line":69,"column":12},"end":{"line":69,"column":21}},"callee":{"type":"Identifier","start":2866,"end":2873,"loc":{"start":{"line":69,"column":12},"end":{"line":69,"column":19}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":2876,"end":2878,"loc":{"start":{"line":69,"column":22},"end":{"line":69,"column":24}},"name":"on"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":2879,"end":2900,"loc":{"start":{"line":69,"column":25},"end":{"line":69,"column":46}},"expressions":[{"type":"MemberExpression","start":2888,"end":2898,"loc":{"start":{"line":69,"column":34},"end":{"line":69,"column":44}},"object":{"type":"ThisExpression","start":2888,"end":2892,"loc":{"start":{"line":69,"column":34},"end":{"line":69,"column":38}}},"property":{"type":"Identifier","start":2893,"end":2898,"loc":{"start":{"line":69,"column":39},"end":{"line":69,"column":44}},"name":"token"},"computed":false}],"quasis":[{"type":"TemplateElement","start":2880,"end":2886,"loc":{"start":{"line":69,"column":26},"end":{"line":69,"column":32}},"value":{"raw":"pause:","cooked":"pause:"},"tail":false},{"type":"TemplateElement","start":2899,"end":2899,"loc":{"start":{"line":69,"column":45},"end":{"line":69,"column":45}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"ArrowFunctionExpression","start":2902,"end":3048,"loc":{"start":{"line":69,"column":48},"end":{"line":74,"column":13}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2908,"end":3048,"loc":{"start":{"line":69,"column":54},"end":{"line":74,"column":13}},"body":[{"type":"ExpressionStatement","start":2926,"end":2946,"loc":{"start":{"line":70,"column":16},"end":{"line":70,"column":36}},"expression":{"type":"AssignmentExpression","start":2926,"end":2945,"loc":{"start":{"line":70,"column":16},"end":{"line":70,"column":35}},"operator":"=","left":{"type":"MemberExpression","start":2926,"end":2938,"loc":{"start":{"line":70,"column":16},"end":{"line":70,"column":28}},"object":{"type":"ThisExpression","start":2926,"end":2930,"loc":{"start":{"line":70,"column":16},"end":{"line":70,"column":20}}},"property":{"type":"Identifier","start":2931,"end":2938,"loc":{"start":{"line":70,"column":21},"end":{"line":70,"column":28}},"name":"_paused"},"computed":false},"right":{"type":"Literal","start":2941,"end":2945,"loc":{"start":{"line":70,"column":31},"end":{"line":70,"column":35}},"value":true,"raw":"true"}}},{"type":"IfStatement","start":2963,"end":3034,"loc":{"start":{"line":71,"column":16},"end":{"line":73,"column":17}},"test":{"type":"MemberExpression","start":2967,"end":2975,"loc":{"start":{"line":71,"column":20},"end":{"line":71,"column":28}},"object":{"type":"ThisExpression","start":2967,"end":2971,"loc":{"start":{"line":71,"column":20},"end":{"line":71,"column":24}}},"property":{"type":"Identifier","start":2972,"end":2975,"loc":{"start":{"line":71,"column":25},"end":{"line":71,"column":28}},"name":"tus"},"computed":false},"consequent":{"type":"BlockStatement","start":2977,"end":3034,"loc":{"start":{"line":71,"column":30},"end":{"line":73,"column":17}},"body":[{"type":"ExpressionStatement","start":2999,"end":3016,"loc":{"start":{"line":72,"column":20},"end":{"line":72,"column":37}},"expression":{"type":"CallExpression","start":2999,"end":3015,"loc":{"start":{"line":72,"column":20},"end":{"line":72,"column":36}},"callee":{"type":"MemberExpression","start":2999,"end":3013,"loc":{"start":{"line":72,"column":20},"end":{"line":72,"column":34}},"object":{"type":"MemberExpression","start":2999,"end":3007,"loc":{"start":{"line":72,"column":20},"end":{"line":72,"column":28}},"object":{"type":"ThisExpression","start":2999,"end":3003,"loc":{"start":{"line":72,"column":20},"end":{"line":72,"column":24}}},"property":{"type":"Identifier","start":3004,"end":3007,"loc":{"start":{"line":72,"column":25},"end":{"line":72,"column":28}},"name":"tus"},"computed":false},"property":{"type":"Identifier","start":3008,"end":3013,"loc":{"start":{"line":72,"column":29},"end":{"line":72,"column":34}},"name":"abort"},"computed":false},"arguments":[]}}]},"alternate":null}]}}]}},{"type":"ExpressionStatement","start":3063,"end":3249,"loc":{"start":{"line":75,"column":12},"end":{"line":80,"column":15}},"expression":{"type":"CallExpression","start":3063,"end":3248,"loc":{"start":{"line":75,"column":12},"end":{"line":80,"column":14}},"callee":{"type":"MemberExpression","start":3063,"end":3075,"loc":{"start":{"line":75,"column":12},"end":{"line":75,"column":24}},"object":{"type":"CallExpression","start":3063,"end":3072,"loc":{"start":{"line":75,"column":12},"end":{"line":75,"column":21}},"callee":{"type":"Identifier","start":3063,"end":3070,"loc":{"start":{"line":75,"column":12},"end":{"line":75,"column":19}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":3073,"end":3075,"loc":{"start":{"line":75,"column":22},"end":{"line":75,"column":24}},"name":"on"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":3076,"end":3098,"loc":{"start":{"line":75,"column":25},"end":{"line":75,"column":47}},"expressions":[{"type":"MemberExpression","start":3086,"end":3096,"loc":{"start":{"line":75,"column":35},"end":{"line":75,"column":45}},"object":{"type":"ThisExpression","start":3086,"end":3090,"loc":{"start":{"line":75,"column":35},"end":{"line":75,"column":39}}},"property":{"type":"Identifier","start":3091,"end":3096,"loc":{"start":{"line":75,"column":40},"end":{"line":75,"column":45}},"name":"token"},"computed":false}],"quasis":[{"type":"TemplateElement","start":3077,"end":3084,"loc":{"start":{"line":75,"column":26},"end":{"line":75,"column":33}},"value":{"raw":"resume:","cooked":"resume:"},"tail":false},{"type":"TemplateElement","start":3097,"end":3097,"loc":{"start":{"line":75,"column":46},"end":{"line":75,"column":46}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"ArrowFunctionExpression","start":3100,"end":3247,"loc":{"start":{"line":75,"column":49},"end":{"line":80,"column":13}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3106,"end":3247,"loc":{"start":{"line":75,"column":55},"end":{"line":80,"column":13}},"body":[{"type":"ExpressionStatement","start":3124,"end":3145,"loc":{"start":{"line":76,"column":16},"end":{"line":76,"column":37}},"expression":{"type":"AssignmentExpression","start":3124,"end":3144,"loc":{"start":{"line":76,"column":16},"end":{"line":76,"column":36}},"operator":"=","left":{"type":"MemberExpression","start":3124,"end":3136,"loc":{"start":{"line":76,"column":16},"end":{"line":76,"column":28}},"object":{"type":"ThisExpression","start":3124,"end":3128,"loc":{"start":{"line":76,"column":16},"end":{"line":76,"column":20}}},"property":{"type":"Identifier","start":3129,"end":3136,"loc":{"start":{"line":76,"column":21},"end":{"line":76,"column":28}},"name":"_paused"},"computed":false},"right":{"type":"Literal","start":3139,"end":3144,"loc":{"start":{"line":76,"column":31},"end":{"line":76,"column":36}},"value":false,"raw":"false"}}},{"type":"IfStatement","start":3162,"end":3233,"loc":{"start":{"line":77,"column":16},"end":{"line":79,"column":17}},"test":{"type":"MemberExpression","start":3166,"end":3174,"loc":{"start":{"line":77,"column":20},"end":{"line":77,"column":28}},"object":{"type":"ThisExpression","start":3166,"end":3170,"loc":{"start":{"line":77,"column":20},"end":{"line":77,"column":24}}},"property":{"type":"Identifier","start":3171,"end":3174,"loc":{"start":{"line":77,"column":25},"end":{"line":77,"column":28}},"name":"tus"},"computed":false},"consequent":{"type":"BlockStatement","start":3176,"end":3233,"loc":{"start":{"line":77,"column":30},"end":{"line":79,"column":17}},"body":[{"type":"ExpressionStatement","start":3198,"end":3215,"loc":{"start":{"line":78,"column":20},"end":{"line":78,"column":37}},"expression":{"type":"CallExpression","start":3198,"end":3214,"loc":{"start":{"line":78,"column":20},"end":{"line":78,"column":36}},"callee":{"type":"MemberExpression","start":3198,"end":3212,"loc":{"start":{"line":78,"column":20},"end":{"line":78,"column":34}},"object":{"type":"MemberExpression","start":3198,"end":3206,"loc":{"start":{"line":78,"column":20},"end":{"line":78,"column":28}},"object":{"type":"ThisExpression","start":3198,"end":3202,"loc":{"start":{"line":78,"column":20},"end":{"line":78,"column":24}}},"property":{"type":"Identifier","start":3203,"end":3206,"loc":{"start":{"line":78,"column":25},"end":{"line":78,"column":28}},"name":"tus"},"computed":false},"property":{"type":"Identifier","start":3207,"end":3212,"loc":{"start":{"line":78,"column":29},"end":{"line":78,"column":34}},"name":"start"},"computed":false},"arguments":[]}}]},"alternate":null}]}}]}},{"type":"ExpressionStatement","start":3262,"end":3554,"loc":{"start":{"line":81,"column":12},"end":{"line":88,"column":15}},"expression":{"type":"CallExpression","start":3262,"end":3553,"loc":{"start":{"line":81,"column":12},"end":{"line":88,"column":14}},"callee":{"type":"MemberExpression","start":3262,"end":3274,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":24}},"object":{"type":"CallExpression","start":3262,"end":3271,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":21}},"callee":{"type":"Identifier","start":3262,"end":3269,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":19}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":3272,"end":3274,"loc":{"start":{"line":81,"column":22},"end":{"line":81,"column":24}},"name":"on"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":3275,"end":3297,"loc":{"start":{"line":81,"column":25},"end":{"line":81,"column":47}},"expressions":[{"type":"MemberExpression","start":3285,"end":3295,"loc":{"start":{"line":81,"column":35},"end":{"line":81,"column":45}},"object":{"type":"ThisExpression","start":3285,"end":3289,"loc":{"start":{"line":81,"column":35},"end":{"line":81,"column":39}}},"property":{"type":"Identifier","start":3290,"end":3295,"loc":{"start":{"line":81,"column":40},"end":{"line":81,"column":45}},"name":"token"},"computed":false}],"quasis":[{"type":"TemplateElement","start":3276,"end":3283,"loc":{"start":{"line":81,"column":26},"end":{"line":81,"column":33}},"value":{"raw":"cancel:","cooked":"cancel:"},"tail":false},{"type":"TemplateElement","start":3296,"end":3296,"loc":{"start":{"line":81,"column":46},"end":{"line":81,"column":46}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"ArrowFunctionExpression","start":3299,"end":3552,"loc":{"start":{"line":81,"column":49},"end":{"line":88,"column":13}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3305,"end":3552,"loc":{"start":{"line":81,"column":55},"end":{"line":88,"column":13}},"body":[{"type":"ExpressionStatement","start":3323,"end":3343,"loc":{"start":{"line":82,"column":16},"end":{"line":82,"column":36}},"expression":{"type":"AssignmentExpression","start":3323,"end":3342,"loc":{"start":{"line":82,"column":16},"end":{"line":82,"column":35}},"operator":"=","left":{"type":"MemberExpression","start":3323,"end":3335,"loc":{"start":{"line":82,"column":16},"end":{"line":82,"column":28}},"object":{"type":"ThisExpression","start":3323,"end":3327,"loc":{"start":{"line":82,"column":16},"end":{"line":82,"column":20}}},"property":{"type":"Identifier","start":3328,"end":3335,"loc":{"start":{"line":82,"column":21},"end":{"line":82,"column":28}},"name":"_paused"},"computed":false},"right":{"type":"Literal","start":3338,"end":3342,"loc":{"start":{"line":82,"column":31},"end":{"line":82,"column":35}},"value":true,"raw":"true"}}},{"type":"IfStatement","start":3360,"end":3506,"loc":{"start":{"line":83,"column":16},"end":{"line":86,"column":17}},"test":{"type":"MemberExpression","start":3364,"end":3372,"loc":{"start":{"line":83,"column":20},"end":{"line":83,"column":28}},"object":{"type":"ThisExpression","start":3364,"end":3368,"loc":{"start":{"line":83,"column":20},"end":{"line":83,"column":24}}},"property":{"type":"Identifier","start":3369,"end":3372,"loc":{"start":{"line":83,"column":25},"end":{"line":83,"column":28}},"name":"tus"},"computed":false},"consequent":{"type":"BlockStatement","start":3374,"end":3506,"loc":{"start":{"line":83,"column":30},"end":{"line":86,"column":17}},"body":[{"type":"VariableDeclaration","start":3396,"end":3435,"loc":{"start":{"line":84,"column":20},"end":{"line":84,"column":59}},"declarations":[{"type":"VariableDeclarator","start":3402,"end":3434,"loc":{"start":{"line":84,"column":26},"end":{"line":84,"column":58}},"id":{"type":"Identifier","start":3402,"end":3417,"loc":{"start":{"line":84,"column":26},"end":{"line":84,"column":41}},"name":"shouldTerminate"},"init":{"type":"UnaryExpression","start":3420,"end":3434,"loc":{"start":{"line":84,"column":44},"end":{"line":84,"column":58}},"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":3421,"end":3434,"loc":{"start":{"line":84,"column":45},"end":{"line":84,"column":58}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":3422,"end":3434,"loc":{"start":{"line":84,"column":46},"end":{"line":84,"column":58}},"object":{"type":"MemberExpression","start":3422,"end":3430,"loc":{"start":{"line":84,"column":46},"end":{"line":84,"column":54}},"object":{"type":"ThisExpression","start":3422,"end":3426,"loc":{"start":{"line":84,"column":46},"end":{"line":84,"column":50}}},"property":{"type":"Identifier","start":3427,"end":3430,"loc":{"start":{"line":84,"column":51},"end":{"line":84,"column":54}},"name":"tus"},"computed":false},"property":{"type":"Identifier","start":3431,"end":3434,"loc":{"start":{"line":84,"column":55},"end":{"line":84,"column":58}},"name":"url"},"computed":false}}}}],"kind":"const"},{"type":"ExpressionStatement","start":3456,"end":3488,"loc":{"start":{"line":85,"column":20},"end":{"line":85,"column":52}},"expression":{"type":"CallExpression","start":3456,"end":3487,"loc":{"start":{"line":85,"column":20},"end":{"line":85,"column":51}},"callee":{"type":"MemberExpression","start":3456,"end":3470,"loc":{"start":{"line":85,"column":20},"end":{"line":85,"column":34}},"object":{"type":"MemberExpression","start":3456,"end":3464,"loc":{"start":{"line":85,"column":20},"end":{"line":85,"column":28}},"object":{"type":"ThisExpression","start":3456,"end":3460,"loc":{"start":{"line":85,"column":20},"end":{"line":85,"column":24}}},"property":{"type":"Identifier","start":3461,"end":3464,"loc":{"start":{"line":85,"column":25},"end":{"line":85,"column":28}},"name":"tus"},"computed":false},"property":{"type":"Identifier","start":3465,"end":3470,"loc":{"start":{"line":85,"column":29},"end":{"line":85,"column":34}},"name":"abort"},"computed":false},"arguments":[{"type":"Identifier","start":3471,"end":3486,"loc":{"start":{"line":85,"column":35},"end":{"line":85,"column":50}},"name":"shouldTerminate"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":3523,"end":3538,"loc":{"start":{"line":87,"column":16},"end":{"line":87,"column":31}},"expression":{"type":"CallExpression","start":3523,"end":3537,"loc":{"start":{"line":87,"column":16},"end":{"line":87,"column":30}},"callee":{"type":"MemberExpression","start":3523,"end":3535,"loc":{"start":{"line":87,"column":16},"end":{"line":87,"column":28}},"object":{"type":"ThisExpression","start":3523,"end":3527,"loc":{"start":{"line":87,"column":16},"end":{"line":87,"column":20}}},"property":{"type":"Identifier","start":3528,"end":3535,"loc":{"start":{"line":87,"column":21},"end":{"line":87,"column":28}},"name":"cleanUp"},"computed":false},"arguments":[]}}]}}]}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":3879,"end":3951,"loc":{"start":{"line":98,"column":4},"end":{"line":100,"column":5}},"kind":"method","static":true,"computed":false,"key":{"type":"Identifier","start":3886,"end":3898,"loc":{"start":{"line":98,"column":11},"end":{"line":98,"column":23}},"name":"shortenToken"},"value":{"type":"FunctionExpression","start":3898,"end":3951,"loc":{"start":{"line":98,"column":23},"end":{"line":100,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3899,"end":3904,"loc":{"start":{"line":98,"column":24},"end":{"line":98,"column":29}},"name":"token"}],"body":{"type":"BlockStatement","start":3906,"end":3951,"loc":{"start":{"line":98,"column":31},"end":{"line":100,"column":5}},"body":[{"type":"ReturnStatement","start":3916,"end":3945,"loc":{"start":{"line":99,"column":8},"end":{"line":99,"column":37}},"argument":{"type":"CallExpression","start":3923,"end":3944,"loc":{"start":{"line":99,"column":15},"end":{"line":99,"column":36}},"callee":{"type":"MemberExpression","start":3923,"end":3938,"loc":{"start":{"line":99,"column":15},"end":{"line":99,"column":30}},"object":{"type":"Identifier","start":3923,"end":3928,"loc":{"start":{"line":99,"column":15},"end":{"line":99,"column":20}},"name":"token"},"property":{"type":"Identifier","start":3929,"end":3938,"loc":{"start":{"line":99,"column":21},"end":{"line":99,"column":30}},"name":"substring"},"computed":false},"arguments":[{"type":"Literal","start":3939,"end":3940,"loc":{"start":{"line":99,"column":31},"end":{"line":99,"column":32}},"value":0,"raw":"0"},{"type":"Literal","start":3942,"end":3943,"loc":{"start":{"line":99,"column":34},"end":{"line":99,"column":35}},"value":8,"raw":"8"}]}}]}}},{"type":"MethodDefinition","start":3956,"end":4859,"loc":{"start":{"line":101,"column":4},"end":{"line":122,"column":5}},"kind":"method","static":true,"computed":false,"key":{"type":"Identifier","start":3963,"end":3975,"loc":{"start":{"line":101,"column":11},"end":{"line":101,"column":23}},"name":"reqToOptions"},"value":{"type":"FunctionExpression","start":3975,"end":4859,"loc":{"start":{"line":101,"column":23},"end":{"line":122,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3976,"end":3979,"loc":{"start":{"line":101,"column":24},"end":{"line":101,"column":27}},"name":"req"},{"type":"Identifier","start":3981,"end":3985,"loc":{"start":{"line":101,"column":29},"end":{"line":101,"column":33}},"name":"size"}],"body":{"type":"BlockStatement","start":3987,"end":4859,"loc":{"start":{"line":101,"column":35},"end":{"line":122,"column":5}},"body":[{"type":"VariableDeclaration","start":3997,"end":4084,"loc":{"start":{"line":102,"column":8},"end":{"line":102,"column":95}},"declarations":[{"type":"VariableDeclarator","start":4003,"end":4083,"loc":{"start":{"line":102,"column":14},"end":{"line":102,"column":94}},"id":{"type":"Identifier","start":4003,"end":4019,"loc":{"start":{"line":102,"column":14},"end":{"line":102,"column":30}},"name":"useFormDataIsSet"},"init":{"type":"CallExpression","start":4022,"end":4083,"loc":{"start":{"line":102,"column":33},"end":{"line":102,"column":94}},"callee":{"type":"MemberExpression","start":4022,"end":4058,"loc":{"start":{"line":102,"column":33},"end":{"line":102,"column":69}},"object":{"type":"MemberExpression","start":4022,"end":4053,"loc":{"start":{"line":102,"column":33},"end":{"line":102,"column":64}},"object":{"type":"MemberExpression","start":4022,"end":4038,"loc":{"start":{"line":102,"column":33},"end":{"line":102,"column":49}},"object":{"type":"Identifier","start":4022,"end":4028,"loc":{"start":{"line":102,"column":33},"end":{"line":102,"column":39}},"name":"Object"},"property":{"type":"Identifier","start":4029,"end":4038,"loc":{"start":{"line":102,"column":40},"end":{"line":102,"column":49}},"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":4039,"end":4053,"loc":{"start":{"line":102,"column":50},"end":{"line":102,"column":64}},"name":"hasOwnProperty"},"computed":false},"property":{"type":"Identifier","start":4054,"end":4058,"loc":{"start":{"line":102,"column":65},"end":{"line":102,"column":69}},"name":"call"},"computed":false},"arguments":[{"type":"MemberExpression","start":4059,"end":4067,"loc":{"start":{"line":102,"column":70},"end":{"line":102,"column":78}},"object":{"type":"Identifier","start":4059,"end":4062,"loc":{"start":{"line":102,"column":70},"end":{"line":102,"column":73}},"name":"req"},"property":{"type":"Identifier","start":4063,"end":4067,"loc":{"start":{"line":102,"column":74},"end":{"line":102,"column":78}},"name":"body"},"computed":false},{"type":"Literal","start":4069,"end":4082,"loc":{"start":{"line":102,"column":80},"end":{"line":102,"column":93}},"value":"useFormData","raw":"'useFormData'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":4093,"end":4160,"loc":{"start":{"line":103,"column":8},"end":{"line":103,"column":75}},"declarations":[{"type":"VariableDeclarator","start":4099,"end":4159,"loc":{"start":{"line":103,"column":14},"end":{"line":103,"column":74}},"id":{"type":"Identifier","start":4099,"end":4110,"loc":{"start":{"line":103,"column":14},"end":{"line":103,"column":25}},"name":"useFormData"},"init":{"type":"ConditionalExpression","start":4113,"end":4159,"loc":{"start":{"line":103,"column":28},"end":{"line":103,"column":74}},"test":{"type":"Identifier","start":4113,"end":4129,"loc":{"start":{"line":103,"column":28},"end":{"line":103,"column":44}},"name":"useFormDataIsSet"},"consequent":{"type":"MemberExpression","start":4132,"end":4152,"loc":{"start":{"line":103,"column":47},"end":{"line":103,"column":67}},"object":{"type":"MemberExpression","start":4132,"end":4140,"loc":{"start":{"line":103,"column":47},"end":{"line":103,"column":55}},"object":{"type":"Identifier","start":4132,"end":4135,"loc":{"start":{"line":103,"column":47},"end":{"line":103,"column":50}},"name":"req"},"property":{"type":"Identifier","start":4136,"end":4140,"loc":{"start":{"line":103,"column":51},"end":{"line":103,"column":55}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":4141,"end":4152,"loc":{"start":{"line":103,"column":56},"end":{"line":103,"column":67}},"name":"useFormData"},"computed":false},"alternate":{"type":"Literal","start":4155,"end":4159,"loc":{"start":{"line":103,"column":70},"end":{"line":103,"column":74}},"value":true,"raw":"true"}}}],"kind":"const"},{"type":"ReturnStatement","start":4169,"end":4853,"loc":{"start":{"line":104,"column":8},"end":{"line":121,"column":10}},"argument":{"type":"ObjectExpression","start":4176,"end":4852,"loc":{"start":{"line":104,"column":15},"end":{"line":121,"column":9}},"properties":[{"type":"Property","start":4190,"end":4229,"loc":{"start":{"line":105,"column":12},"end":{"line":105,"column":51}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4190,"end":4206,"loc":{"start":{"line":105,"column":12},"end":{"line":105,"column":28}},"name":"companionOptions"},"value":{"type":"MemberExpression","start":4208,"end":4229,"loc":{"start":{"line":105,"column":30},"end":{"line":105,"column":51}},"object":{"type":"MemberExpression","start":4208,"end":4221,"loc":{"start":{"line":105,"column":30},"end":{"line":105,"column":43}},"object":{"type":"Identifier","start":4208,"end":4211,"loc":{"start":{"line":105,"column":30},"end":{"line":105,"column":33}},"name":"req"},"property":{"type":"Identifier","start":4212,"end":4221,"loc":{"start":{"line":105,"column":34},"end":{"line":105,"column":43}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":4222,"end":4229,"loc":{"start":{"line":105,"column":44},"end":{"line":105,"column":51}},"name":"options"},"computed":false},"kind":"init"},{"type":"Property","start":4243,"end":4270,"loc":{"start":{"line":106,"column":12},"end":{"line":106,"column":39}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4243,"end":4251,"loc":{"start":{"line":106,"column":12},"end":{"line":106,"column":20}},"name":"endpoint"},"value":{"type":"MemberExpression","start":4253,"end":4270,"loc":{"start":{"line":106,"column":22},"end":{"line":106,"column":39}},"object":{"type":"MemberExpression","start":4253,"end":4261,"loc":{"start":{"line":106,"column":22},"end":{"line":106,"column":30}},"object":{"type":"Identifier","start":4253,"end":4256,"loc":{"start":{"line":106,"column":22},"end":{"line":106,"column":25}},"name":"req"},"property":{"type":"Identifier","start":4257,"end":4261,"loc":{"start":{"line":106,"column":26},"end":{"line":106,"column":30}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":4262,"end":4270,"loc":{"start":{"line":106,"column":31},"end":{"line":106,"column":39}},"name":"endpoint"},"computed":false},"kind":"init"},{"type":"Property","start":4284,"end":4313,"loc":{"start":{"line":107,"column":12},"end":{"line":107,"column":41}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4284,"end":4293,"loc":{"start":{"line":107,"column":12},"end":{"line":107,"column":21}},"name":"uploadUrl"},"value":{"type":"MemberExpression","start":4295,"end":4313,"loc":{"start":{"line":107,"column":23},"end":{"line":107,"column":41}},"object":{"type":"MemberExpression","start":4295,"end":4303,"loc":{"start":{"line":107,"column":23},"end":{"line":107,"column":31}},"object":{"type":"Identifier","start":4295,"end":4298,"loc":{"start":{"line":107,"column":23},"end":{"line":107,"column":26}},"name":"req"},"property":{"type":"Identifier","start":4299,"end":4303,"loc":{"start":{"line":107,"column":27},"end":{"line":107,"column":31}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":4304,"end":4313,"loc":{"start":{"line":107,"column":32},"end":{"line":107,"column":41}},"name":"uploadUrl"},"computed":false},"kind":"init"},{"type":"Property","start":4327,"end":4354,"loc":{"start":{"line":108,"column":12},"end":{"line":108,"column":39}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4327,"end":4335,"loc":{"start":{"line":108,"column":12},"end":{"line":108,"column":20}},"name":"protocol"},"value":{"type":"MemberExpression","start":4337,"end":4354,"loc":{"start":{"line":108,"column":22},"end":{"line":108,"column":39}},"object":{"type":"MemberExpression","start":4337,"end":4345,"loc":{"start":{"line":108,"column":22},"end":{"line":108,"column":30}},"object":{"type":"Identifier","start":4337,"end":4340,"loc":{"start":{"line":108,"column":22},"end":{"line":108,"column":25}},"name":"req"},"property":{"type":"Identifier","start":4341,"end":4345,"loc":{"start":{"line":108,"column":26},"end":{"line":108,"column":30}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":4346,"end":4354,"loc":{"start":{"line":108,"column":31},"end":{"line":108,"column":39}},"name":"protocol"},"computed":false},"kind":"init"},{"type":"Property","start":4368,"end":4395,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":39}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4368,"end":4376,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":20}},"name":"metadata"},"value":{"type":"MemberExpression","start":4378,"end":4395,"loc":{"start":{"line":109,"column":22},"end":{"line":109,"column":39}},"object":{"type":"MemberExpression","start":4378,"end":4386,"loc":{"start":{"line":109,"column":22},"end":{"line":109,"column":30}},"object":{"type":"Identifier","start":4378,"end":4381,"loc":{"start":{"line":109,"column":22},"end":{"line":109,"column":25}},"name":"req"},"property":{"type":"Identifier","start":4382,"end":4386,"loc":{"start":{"line":109,"column":26},"end":{"line":109,"column":30}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":4387,"end":4395,"loc":{"start":{"line":109,"column":31},"end":{"line":109,"column":39}},"name":"metadata"},"computed":false},"kind":"init"},{"type":"Property","start":4409,"end":4440,"loc":{"start":{"line":110,"column":12},"end":{"line":110,"column":43}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4409,"end":4419,"loc":{"start":{"line":110,"column":12},"end":{"line":110,"column":22}},"name":"httpMethod"},"value":{"type":"MemberExpression","start":4421,"end":4440,"loc":{"start":{"line":110,"column":24},"end":{"line":110,"column":43}},"object":{"type":"MemberExpression","start":4421,"end":4429,"loc":{"start":{"line":110,"column":24},"end":{"line":110,"column":32}},"object":{"type":"Identifier","start":4421,"end":4424,"loc":{"start":{"line":110,"column":24},"end":{"line":110,"column":27}},"name":"req"},"property":{"type":"Identifier","start":4425,"end":4429,"loc":{"start":{"line":110,"column":28},"end":{"line":110,"column":32}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":4430,"end":4440,"loc":{"start":{"line":110,"column":33},"end":{"line":110,"column":43}},"name":"httpMethod"},"computed":false},"kind":"init"},{"type":"Property","start":4454,"end":4465,"loc":{"start":{"line":111,"column":12},"end":{"line":111,"column":23}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4454,"end":4465,"loc":{"start":{"line":111,"column":12},"end":{"line":111,"column":23}},"name":"useFormData"},"kind":"init","value":{"type":"Identifier","start":4454,"end":4465,"loc":{"start":{"line":111,"column":12},"end":{"line":111,"column":23}},"name":"useFormData"}},{"type":"Property","start":4479,"end":4483,"loc":{"start":{"line":112,"column":12},"end":{"line":112,"column":16}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4479,"end":4483,"loc":{"start":{"line":112,"column":12},"end":{"line":112,"column":16}},"name":"size"},"kind":"init","value":{"type":"Identifier","start":4479,"end":4483,"loc":{"start":{"line":112,"column":12},"end":{"line":112,"column":16}},"name":"size"}},{"type":"Property","start":4497,"end":4526,"loc":{"start":{"line":113,"column":12},"end":{"line":113,"column":41}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4497,"end":4506,"loc":{"start":{"line":113,"column":12},"end":{"line":113,"column":21}},"name":"fieldname"},"value":{"type":"MemberExpression","start":4508,"end":4526,"loc":{"start":{"line":113,"column":23},"end":{"line":113,"column":41}},"object":{"type":"MemberExpression","start":4508,"end":4516,"loc":{"start":{"line":113,"column":23},"end":{"line":113,"column":31}},"object":{"type":"Identifier","start":4508,"end":4511,"loc":{"start":{"line":113,"column":23},"end":{"line":113,"column":26}},"name":"req"},"property":{"type":"Identifier","start":4512,"end":4516,"loc":{"start":{"line":113,"column":27},"end":{"line":113,"column":31}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":4517,"end":4526,"loc":{"start":{"line":113,"column":32},"end":{"line":113,"column":41}},"name":"fieldname"},"computed":false},"kind":"init"},{"type":"Property","start":4540,"end":4587,"loc":{"start":{"line":114,"column":12},"end":{"line":114,"column":59}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4540,"end":4550,"loc":{"start":{"line":114,"column":12},"end":{"line":114,"column":22}},"name":"pathPrefix"},"value":{"type":"TemplateLiteral","start":4552,"end":4587,"loc":{"start":{"line":114,"column":24},"end":{"line":114,"column":59}},"expressions":[{"type":"MemberExpression","start":4555,"end":4585,"loc":{"start":{"line":114,"column":27},"end":{"line":114,"column":57}},"object":{"type":"MemberExpression","start":4555,"end":4576,"loc":{"start":{"line":114,"column":27},"end":{"line":114,"column":48}},"object":{"type":"MemberExpression","start":4555,"end":4568,"loc":{"start":{"line":114,"column":27},"end":{"line":114,"column":40}},"object":{"type":"Identifier","start":4555,"end":4558,"loc":{"start":{"line":114,"column":27},"end":{"line":114,"column":30}},"name":"req"},"property":{"type":"Identifier","start":4559,"end":4568,"loc":{"start":{"line":114,"column":31},"end":{"line":114,"column":40}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":4569,"end":4576,"loc":{"start":{"line":114,"column":41},"end":{"line":114,"column":48}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":4577,"end":4585,"loc":{"start":{"line":114,"column":49},"end":{"line":114,"column":57}},"name":"filePath"},"computed":false}],"quasis":[{"type":"TemplateElement","start":4553,"end":4553,"loc":{"start":{"line":114,"column":25},"end":{"line":114,"column":25}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":4586,"end":4586,"loc":{"start":{"line":114,"column":58},"end":{"line":114,"column":58}},"value":{"raw":"","cooked":""},"tail":true}]},"kind":"init"},{"type":"Property","start":4601,"end":4624,"loc":{"start":{"line":115,"column":12},"end":{"line":115,"column":35}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4601,"end":4608,"loc":{"start":{"line":115,"column":12},"end":{"line":115,"column":19}},"name":"storage"},"value":{"type":"CallExpression","start":4610,"end":4624,"loc":{"start":{"line":115,"column":21},"end":{"line":115,"column":35}},"callee":{"type":"MemberExpression","start":4610,"end":4622,"loc":{"start":{"line":115,"column":21},"end":{"line":115,"column":33}},"object":{"type":"Identifier","start":4610,"end":4615,"loc":{"start":{"line":115,"column":21},"end":{"line":115,"column":26}},"name":"redis"},"property":{"type":"Identifier","start":4616,"end":4622,"loc":{"start":{"line":115,"column":27},"end":{"line":115,"column":33}},"name":"client"},"computed":false},"arguments":[]},"kind":"init"},{"type":"Property","start":4638,"end":4803,"loc":{"start":{"line":116,"column":12},"end":{"line":119,"column":20}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4638,"end":4640,"loc":{"start":{"line":116,"column":12},"end":{"line":116,"column":14}},"name":"s3"},"value":{"type":"ConditionalExpression","start":4642,"end":4803,"loc":{"start":{"line":116,"column":16},"end":{"line":119,"column":20}},"test":{"type":"MemberExpression","start":4642,"end":4664,"loc":{"start":{"line":116,"column":16},"end":{"line":116,"column":38}},"object":{"type":"MemberExpression","start":4642,"end":4655,"loc":{"start":{"line":116,"column":16},"end":{"line":116,"column":29}},"object":{"type":"Identifier","start":4642,"end":4645,"loc":{"start":{"line":116,"column":16},"end":{"line":116,"column":19}},"name":"req"},"property":{"type":"Identifier","start":4646,"end":4655,"loc":{"start":{"line":116,"column":20},"end":{"line":116,"column":29}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":4656,"end":4664,"loc":{"start":{"line":116,"column":30},"end":{"line":116,"column":38}},"name":"s3Client"},"computed":false},"consequent":{"type":"ObjectExpression","start":4667,"end":4796,"loc":{"start":{"line":116,"column":41},"end":{"line":119,"column":13}},"properties":[{"type":"Property","start":4685,"end":4715,"loc":{"start":{"line":117,"column":16},"end":{"line":117,"column":46}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4685,"end":4691,"loc":{"start":{"line":117,"column":16},"end":{"line":117,"column":22}},"name":"client"},"value":{"type":"MemberExpression","start":4693,"end":4715,"loc":{"start":{"line":117,"column":24},"end":{"line":117,"column":46}},"object":{"type":"MemberExpression","start":4693,"end":4706,"loc":{"start":{"line":117,"column":24},"end":{"line":117,"column":37}},"object":{"type":"Identifier","start":4693,"end":4696,"loc":{"start":{"line":117,"column":24},"end":{"line":117,"column":27}},"name":"req"},"property":{"type":"Identifier","start":4697,"end":4706,"loc":{"start":{"line":117,"column":28},"end":{"line":117,"column":37}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":4707,"end":4715,"loc":{"start":{"line":117,"column":38},"end":{"line":117,"column":46}},"name":"s3Client"},"computed":false},"kind":"init"},{"type":"Property","start":4733,"end":4782,"loc":{"start":{"line":118,"column":16},"end":{"line":118,"column":65}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4733,"end":4740,"loc":{"start":{"line":118,"column":16},"end":{"line":118,"column":23}},"name":"options"},"value":{"type":"MemberExpression","start":4742,"end":4782,"loc":{"start":{"line":118,"column":25},"end":{"line":118,"column":65}},"object":{"type":"MemberExpression","start":4742,"end":4779,"loc":{"start":{"line":118,"column":25},"end":{"line":118,"column":62}},"object":{"type":"MemberExpression","start":4742,"end":4763,"loc":{"start":{"line":118,"column":25},"end":{"line":118,"column":46}},"object":{"type":"MemberExpression","start":4742,"end":4755,"loc":{"start":{"line":118,"column":25},"end":{"line":118,"column":38}},"object":{"type":"Identifier","start":4742,"end":4745,"loc":{"start":{"line":118,"column":25},"end":{"line":118,"column":28}},"name":"req"},"property":{"type":"Identifier","start":4746,"end":4755,"loc":{"start":{"line":118,"column":29},"end":{"line":118,"column":38}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":4756,"end":4763,"loc":{"start":{"line":118,"column":39},"end":{"line":118,"column":46}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":4764,"end":4779,"loc":{"start":{"line":118,"column":47},"end":{"line":118,"column":62}},"name":"providerOptions"},"computed":false},"property":{"type":"Identifier","start":4780,"end":4782,"loc":{"start":{"line":118,"column":63},"end":{"line":118,"column":65}},"name":"s3"},"computed":false},"kind":"init"}]},"alternate":{"type":"Literal","start":4799,"end":4803,"loc":{"start":{"line":119,"column":16},"end":{"line":119,"column":20}},"value":null,"raw":"null"}},"kind":"init"},{"type":"Property","start":4817,"end":4842,"loc":{"start":{"line":120,"column":12},"end":{"line":120,"column":37}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4817,"end":4824,"loc":{"start":{"line":120,"column":12},"end":{"line":120,"column":19}},"name":"headers"},"value":{"type":"MemberExpression","start":4826,"end":4842,"loc":{"start":{"line":120,"column":21},"end":{"line":120,"column":37}},"object":{"type":"MemberExpression","start":4826,"end":4834,"loc":{"start":{"line":120,"column":21},"end":{"line":120,"column":29}},"object":{"type":"Identifier","start":4826,"end":4829,"loc":{"start":{"line":120,"column":21},"end":{"line":120,"column":24}},"name":"req"},"property":{"type":"Identifier","start":4830,"end":4834,"loc":{"start":{"line":120,"column":25},"end":{"line":120,"column":29}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":4835,"end":4842,"loc":{"start":{"line":120,"column":30},"end":{"line":120,"column":37}},"name":"headers"},"computed":false},"kind":"init"}]}}]}}},{"type":"MethodDefinition","start":4932,"end":5004,"loc":{"start":{"line":126,"column":4},"end":{"line":128,"column":5}},"kind":"get","static":false,"computed":false,"key":{"type":"Identifier","start":4936,"end":4948,"loc":{"start":{"line":126,"column":8},"end":{"line":126,"column":20}},"name":"bytesWritten"},"value":{"type":"FunctionExpression","start":4948,"end":5004,"loc":{"start":{"line":126,"column":20},"end":{"line":128,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4951,"end":5004,"loc":{"start":{"line":126,"column":23},"end":{"line":128,"column":5}},"body":[{"type":"ReturnStatement","start":4961,"end":4998,"loc":{"start":{"line":127,"column":8},"end":{"line":127,"column":45}},"argument":{"type":"MemberExpression","start":4968,"end":4997,"loc":{"start":{"line":127,"column":15},"end":{"line":127,"column":44}},"object":{"type":"MemberExpression","start":4968,"end":4984,"loc":{"start":{"line":127,"column":15},"end":{"line":127,"column":31}},"object":{"type":"ThisExpression","start":4968,"end":4972,"loc":{"start":{"line":127,"column":15},"end":{"line":127,"column":19}}},"property":{"type":"Identifier","start":4973,"end":4984,"loc":{"start":{"line":127,"column":20},"end":{"line":127,"column":31}},"name":"writeStream"},"computed":false},"property":{"type":"Identifier","start":4985,"end":4997,"loc":{"start":{"line":127,"column":32},"end":{"line":127,"column":44}},"name":"bytesWritten"},"computed":false}}]}}},{"type":"MethodDefinition","start":5154,"end":7672,"loc":{"start":{"line":135,"column":4},"end":{"line":192,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":5154,"end":5169,"loc":{"start":{"line":135,"column":4},"end":{"line":135,"column":19}},"name":"validateOptions"},"value":{"type":"FunctionExpression","start":5169,"end":7672,"loc":{"start":{"line":135,"column":19},"end":{"line":192,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5170,"end":5177,"loc":{"start":{"line":135,"column":20},"end":{"line":135,"column":27}},"name":"options"}],"body":{"type":"BlockStatement","start":5179,"end":7672,"loc":{"start":{"line":135,"column":29},"end":{"line":192,"column":5}},"body":[{"type":"IfStatement","start":5221,"end":5672,"loc":{"start":{"line":137,"column":8},"end":{"line":147,"column":9}},"test":{"type":"MemberExpression","start":5225,"end":5243,"loc":{"start":{"line":137,"column":12},"end":{"line":137,"column":30}},"object":{"type":"Identifier","start":5225,"end":5232,"loc":{"start":{"line":137,"column":12},"end":{"line":137,"column":19}},"name":"options"},"property":{"type":"Identifier","start":5233,"end":5243,"loc":{"start":{"line":137,"column":20},"end":{"line":137,"column":30}},"name":"httpMethod"},"computed":false},"consequent":{"type":"BlockStatement","start":5245,"end":5672,"loc":{"start":{"line":137,"column":32},"end":{"line":147,"column":9}},"body":[{"type":"IfStatement","start":5259,"end":5424,"loc":{"start":{"line":138,"column":12},"end":{"line":141,"column":13}},"test":{"type":"BinaryExpression","start":5263,"end":5301,"loc":{"start":{"line":138,"column":16},"end":{"line":138,"column":54}},"left":{"type":"UnaryExpression","start":5263,"end":5288,"loc":{"start":{"line":138,"column":16},"end":{"line":138,"column":41}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":5270,"end":5288,"loc":{"start":{"line":138,"column":23},"end":{"line":138,"column":41}},"object":{"type":"Identifier","start":5270,"end":5277,"loc":{"start":{"line":138,"column":23},"end":{"line":138,"column":30}},"name":"options"},"property":{"type":"Identifier","start":5278,"end":5288,"loc":{"start":{"line":138,"column":31},"end":{"line":138,"column":41}},"name":"httpMethod"},"computed":false}},"operator":"!==","right":{"type":"Literal","start":5293,"end":5301,"loc":{"start":{"line":138,"column":46},"end":{"line":138,"column":54}},"value":"string","raw":"'string'"}},"consequent":{"type":"BlockStatement","start":5303,"end":5424,"loc":{"start":{"line":138,"column":56},"end":{"line":141,"column":13}},"body":[{"type":"ExpressionStatement","start":5321,"end":5380,"loc":{"start":{"line":139,"column":16},"end":{"line":139,"column":75}},"expression":{"type":"AssignmentExpression","start":5321,"end":5379,"loc":{"start":{"line":139,"column":16},"end":{"line":139,"column":74}},"operator":"=","left":{"type":"MemberExpression","start":5321,"end":5341,"loc":{"start":{"line":139,"column":16},"end":{"line":139,"column":36}},"object":{"type":"ThisExpression","start":5321,"end":5325,"loc":{"start":{"line":139,"column":16},"end":{"line":139,"column":20}}},"property":{"type":"Identifier","start":5326,"end":5341,"loc":{"start":{"line":139,"column":21},"end":{"line":139,"column":36}},"name":"_errRespMessage"},"computed":false},"right":{"type":"Literal","start":5344,"end":5379,"loc":{"start":{"line":139,"column":39},"end":{"line":139,"column":74}},"value":"unsupported HTTP METHOD specified","raw":"'unsupported HTTP METHOD specified'"}}},{"type":"ReturnStatement","start":5397,"end":5410,"loc":{"start":{"line":140,"column":16},"end":{"line":140,"column":29}},"argument":{"type":"Literal","start":5404,"end":5409,"loc":{"start":{"line":140,"column":23},"end":{"line":140,"column":28}},"value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","start":5437,"end":5485,"loc":{"start":{"line":142,"column":12},"end":{"line":142,"column":60}},"declarations":[{"type":"VariableDeclarator","start":5443,"end":5484,"loc":{"start":{"line":142,"column":18},"end":{"line":142,"column":59}},"id":{"type":"Identifier","start":5443,"end":5449,"loc":{"start":{"line":142,"column":18},"end":{"line":142,"column":24}},"name":"method"},"init":{"type":"CallExpression","start":5452,"end":5484,"loc":{"start":{"line":142,"column":27},"end":{"line":142,"column":59}},"callee":{"type":"MemberExpression","start":5452,"end":5482,"loc":{"start":{"line":142,"column":27},"end":{"line":142,"column":57}},"object":{"type":"MemberExpression","start":5452,"end":5470,"loc":{"start":{"line":142,"column":27},"end":{"line":142,"column":45}},"object":{"type":"Identifier","start":5452,"end":5459,"loc":{"start":{"line":142,"column":27},"end":{"line":142,"column":34}},"name":"options"},"property":{"type":"Identifier","start":5460,"end":5470,"loc":{"start":{"line":142,"column":35},"end":{"line":142,"column":45}},"name":"httpMethod"},"computed":false},"property":{"type":"Identifier","start":5471,"end":5482,"loc":{"start":{"line":142,"column":46},"end":{"line":142,"column":57}},"name":"toLowerCase"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"IfStatement","start":5498,"end":5662,"loc":{"start":{"line":143,"column":12},"end":{"line":146,"column":13}},"test":{"type":"LogicalExpression","start":5502,"end":5539,"loc":{"start":{"line":143,"column":16},"end":{"line":143,"column":53}},"left":{"type":"BinaryExpression","start":5502,"end":5518,"loc":{"start":{"line":143,"column":16},"end":{"line":143,"column":32}},"left":{"type":"Identifier","start":5502,"end":5508,"loc":{"start":{"line":143,"column":16},"end":{"line":143,"column":22}},"name":"method"},"operator":"!==","right":{"type":"Literal","start":5513,"end":5518,"loc":{"start":{"line":143,"column":27},"end":{"line":143,"column":32}},"value":"put","raw":"'put'"}},"operator":"&&","right":{"type":"BinaryExpression","start":5522,"end":5539,"loc":{"start":{"line":143,"column":36},"end":{"line":143,"column":53}},"left":{"type":"Identifier","start":5522,"end":5528,"loc":{"start":{"line":143,"column":36},"end":{"line":143,"column":42}},"name":"method"},"operator":"!==","right":{"type":"Literal","start":5533,"end":5539,"loc":{"start":{"line":143,"column":47},"end":{"line":143,"column":53}},"value":"post","raw":"'post'"}}},"consequent":{"type":"BlockStatement","start":5541,"end":5662,"loc":{"start":{"line":143,"column":55},"end":{"line":146,"column":13}},"body":[{"type":"ExpressionStatement","start":5559,"end":5618,"loc":{"start":{"line":144,"column":16},"end":{"line":144,"column":75}},"expression":{"type":"AssignmentExpression","start":5559,"end":5617,"loc":{"start":{"line":144,"column":16},"end":{"line":144,"column":74}},"operator":"=","left":{"type":"MemberExpression","start":5559,"end":5579,"loc":{"start":{"line":144,"column":16},"end":{"line":144,"column":36}},"object":{"type":"ThisExpression","start":5559,"end":5563,"loc":{"start":{"line":144,"column":16},"end":{"line":144,"column":20}}},"property":{"type":"Identifier","start":5564,"end":5579,"loc":{"start":{"line":144,"column":21},"end":{"line":144,"column":36}},"name":"_errRespMessage"},"computed":false},"right":{"type":"Literal","start":5582,"end":5617,"loc":{"start":{"line":144,"column":39},"end":{"line":144,"column":74}},"value":"unsupported HTTP METHOD specified","raw":"'unsupported HTTP METHOD specified'"}}},{"type":"ReturnStatement","start":5635,"end":5648,"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":29}},"argument":{"type":"Literal","start":5642,"end":5647,"loc":{"start":{"line":145,"column":23},"end":{"line":145,"column":28}},"value":false,"raw":"false"}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","start":5711,"end":5877,"loc":{"start":{"line":149,"column":8},"end":{"line":152,"column":9}},"test":{"type":"LogicalExpression","start":5715,"end":5773,"loc":{"start":{"line":149,"column":12},"end":{"line":149,"column":70}},"left":{"type":"MemberExpression","start":5715,"end":5732,"loc":{"start":{"line":149,"column":12},"end":{"line":149,"column":29}},"object":{"type":"Identifier","start":5715,"end":5722,"loc":{"start":{"line":149,"column":12},"end":{"line":149,"column":19}},"name":"options"},"property":{"type":"Identifier","start":5723,"end":5732,"loc":{"start":{"line":149,"column":20},"end":{"line":149,"column":29}},"name":"fieldname"},"computed":false},"operator":"&&","right":{"type":"BinaryExpression","start":5736,"end":5773,"loc":{"start":{"line":149,"column":33},"end":{"line":149,"column":70}},"left":{"type":"UnaryExpression","start":5736,"end":5760,"loc":{"start":{"line":149,"column":33},"end":{"line":149,"column":57}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":5743,"end":5760,"loc":{"start":{"line":149,"column":40},"end":{"line":149,"column":57}},"object":{"type":"Identifier","start":5743,"end":5750,"loc":{"start":{"line":149,"column":40},"end":{"line":149,"column":47}},"name":"options"},"property":{"type":"Identifier","start":5751,"end":5760,"loc":{"start":{"line":149,"column":48},"end":{"line":149,"column":57}},"name":"fieldname"},"computed":false}},"operator":"!==","right":{"type":"Literal","start":5765,"end":5773,"loc":{"start":{"line":149,"column":62},"end":{"line":149,"column":70}},"value":"string","raw":"'string'"}}},"consequent":{"type":"BlockStatement","start":5775,"end":5877,"loc":{"start":{"line":149,"column":72},"end":{"line":152,"column":9}},"body":[{"type":"ExpressionStatement","start":5789,"end":5841,"loc":{"start":{"line":150,"column":12},"end":{"line":150,"column":64}},"expression":{"type":"AssignmentExpression","start":5789,"end":5840,"loc":{"start":{"line":150,"column":12},"end":{"line":150,"column":63}},"operator":"=","left":{"type":"MemberExpression","start":5789,"end":5809,"loc":{"start":{"line":150,"column":12},"end":{"line":150,"column":32}},"object":{"type":"ThisExpression","start":5789,"end":5793,"loc":{"start":{"line":150,"column":12},"end":{"line":150,"column":16}}},"property":{"type":"Identifier","start":5794,"end":5809,"loc":{"start":{"line":150,"column":17},"end":{"line":150,"column":32}},"name":"_errRespMessage"},"computed":false},"right":{"type":"Literal","start":5812,"end":5840,"loc":{"start":{"line":150,"column":35},"end":{"line":150,"column":63}},"value":"fieldname must be a string","raw":"'fieldname must be a string'"}}},{"type":"ReturnStatement","start":5854,"end":5867,"loc":{"start":{"line":151,"column":12},"end":{"line":151,"column":25}},"argument":{"type":"Literal","start":5861,"end":5866,"loc":{"start":{"line":151,"column":19},"end":{"line":151,"column":24}},"value":false,"raw":"false"}}]},"alternate":null},{"type":"IfStatement","start":5915,"end":6070,"loc":{"start":{"line":154,"column":8},"end":{"line":157,"column":9}},"test":{"type":"LogicalExpression","start":5919,"end":5966,"loc":{"start":{"line":154,"column":12},"end":{"line":154,"column":59}},"left":{"type":"MemberExpression","start":5919,"end":5935,"loc":{"start":{"line":154,"column":12},"end":{"line":154,"column":28}},"object":{"type":"Identifier","start":5919,"end":5926,"loc":{"start":{"line":154,"column":12},"end":{"line":154,"column":19}},"name":"options"},"property":{"type":"Identifier","start":5927,"end":5935,"loc":{"start":{"line":154,"column":20},"end":{"line":154,"column":28}},"name":"metadata"},"computed":false},"operator":"&&","right":{"type":"UnaryExpression","start":5939,"end":5966,"loc":{"start":{"line":154,"column":32},"end":{"line":154,"column":59}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":5940,"end":5966,"loc":{"start":{"line":154,"column":33},"end":{"line":154,"column":59}},"callee":{"type":"Identifier","start":5940,"end":5948,"loc":{"start":{"line":154,"column":33},"end":{"line":154,"column":41}},"name":"isObject"},"arguments":[{"type":"MemberExpression","start":5949,"end":5965,"loc":{"start":{"line":154,"column":42},"end":{"line":154,"column":58}},"object":{"type":"Identifier","start":5949,"end":5956,"loc":{"start":{"line":154,"column":42},"end":{"line":154,"column":49}},"name":"options"},"property":{"type":"Identifier","start":5957,"end":5965,"loc":{"start":{"line":154,"column":50},"end":{"line":154,"column":58}},"name":"metadata"},"computed":false}]}}},"consequent":{"type":"BlockStatement","start":5968,"end":6070,"loc":{"start":{"line":154,"column":61},"end":{"line":157,"column":9}},"body":[{"type":"ExpressionStatement","start":5982,"end":6034,"loc":{"start":{"line":155,"column":12},"end":{"line":155,"column":64}},"expression":{"type":"AssignmentExpression","start":5982,"end":6033,"loc":{"start":{"line":155,"column":12},"end":{"line":155,"column":63}},"operator":"=","left":{"type":"MemberExpression","start":5982,"end":6002,"loc":{"start":{"line":155,"column":12},"end":{"line":155,"column":32}},"object":{"type":"ThisExpression","start":5982,"end":5986,"loc":{"start":{"line":155,"column":12},"end":{"line":155,"column":16}}},"property":{"type":"Identifier","start":5987,"end":6002,"loc":{"start":{"line":155,"column":17},"end":{"line":155,"column":32}},"name":"_errRespMessage"},"computed":false},"right":{"type":"Literal","start":6005,"end":6033,"loc":{"start":{"line":155,"column":35},"end":{"line":155,"column":63}},"value":"metadata must be an object","raw":"'metadata must be an object'"}}},{"type":"ReturnStatement","start":6047,"end":6060,"loc":{"start":{"line":156,"column":12},"end":{"line":156,"column":25}},"argument":{"type":"Literal","start":6054,"end":6059,"loc":{"start":{"line":156,"column":19},"end":{"line":156,"column":24}},"value":false,"raw":"false"}}]},"alternate":null},{"type":"IfStatement","start":6107,"end":6259,"loc":{"start":{"line":159,"column":8},"end":{"line":162,"column":9}},"test":{"type":"LogicalExpression","start":6111,"end":6156,"loc":{"start":{"line":159,"column":12},"end":{"line":159,"column":57}},"left":{"type":"MemberExpression","start":6111,"end":6126,"loc":{"start":{"line":159,"column":12},"end":{"line":159,"column":27}},"object":{"type":"Identifier","start":6111,"end":6118,"loc":{"start":{"line":159,"column":12},"end":{"line":159,"column":19}},"name":"options"},"property":{"type":"Identifier","start":6119,"end":6126,"loc":{"start":{"line":159,"column":20},"end":{"line":159,"column":27}},"name":"headers"},"computed":false},"operator":"&&","right":{"type":"UnaryExpression","start":6130,"end":6156,"loc":{"start":{"line":159,"column":31},"end":{"line":159,"column":57}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":6131,"end":6156,"loc":{"start":{"line":159,"column":32},"end":{"line":159,"column":57}},"callee":{"type":"Identifier","start":6131,"end":6139,"loc":{"start":{"line":159,"column":32},"end":{"line":159,"column":40}},"name":"isObject"},"arguments":[{"type":"MemberExpression","start":6140,"end":6155,"loc":{"start":{"line":159,"column":41},"end":{"line":159,"column":56}},"object":{"type":"Identifier","start":6140,"end":6147,"loc":{"start":{"line":159,"column":41},"end":{"line":159,"column":48}},"name":"options"},"property":{"type":"Identifier","start":6148,"end":6155,"loc":{"start":{"line":159,"column":49},"end":{"line":159,"column":56}},"name":"headers"},"computed":false}]}}},"consequent":{"type":"BlockStatement","start":6158,"end":6259,"loc":{"start":{"line":159,"column":59},"end":{"line":162,"column":9}},"body":[{"type":"ExpressionStatement","start":6172,"end":6223,"loc":{"start":{"line":160,"column":12},"end":{"line":160,"column":63}},"expression":{"type":"AssignmentExpression","start":6172,"end":6222,"loc":{"start":{"line":160,"column":12},"end":{"line":160,"column":62}},"operator":"=","left":{"type":"MemberExpression","start":6172,"end":6192,"loc":{"start":{"line":160,"column":12},"end":{"line":160,"column":32}},"object":{"type":"ThisExpression","start":6172,"end":6176,"loc":{"start":{"line":160,"column":12},"end":{"line":160,"column":16}}},"property":{"type":"Identifier","start":6177,"end":6192,"loc":{"start":{"line":160,"column":17},"end":{"line":160,"column":32}},"name":"_errRespMessage"},"computed":false},"right":{"type":"Literal","start":6195,"end":6222,"loc":{"start":{"line":160,"column":35},"end":{"line":160,"column":62}},"value":"headers must be an object","raw":"'headers must be an object'"}}},{"type":"ReturnStatement","start":6236,"end":6249,"loc":{"start":{"line":161,"column":12},"end":{"line":161,"column":25}},"argument":{"type":"Literal","start":6243,"end":6248,"loc":{"start":{"line":161,"column":19},"end":{"line":161,"column":24}},"value":false,"raw":"false"}}]},"alternate":null},{"type":"IfStatement","start":6393,"end":6599,"loc":{"start":{"line":165,"column":8},"end":{"line":168,"column":9}},"test":{"type":"LogicalExpression","start":6397,"end":6491,"loc":{"start":{"line":165,"column":12},"end":{"line":165,"column":106}},"left":{"type":"MemberExpression","start":6397,"end":6413,"loc":{"start":{"line":165,"column":12},"end":{"line":165,"column":28}},"object":{"type":"Identifier","start":6397,"end":6404,"loc":{"start":{"line":165,"column":12},"end":{"line":165,"column":19}},"name":"options"},"property":{"type":"Identifier","start":6405,"end":6413,"loc":{"start":{"line":165,"column":20},"end":{"line":165,"column":28}},"name":"protocol"},"computed":false},"operator":"&&","right":{"type":"UnaryExpression","start":6417,"end":6491,"loc":{"start":{"line":165,"column":32},"end":{"line":165,"column":106}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":6418,"end":6491,"loc":{"start":{"line":165,"column":33},"end":{"line":165,"column":106}},"callee":{"type":"MemberExpression","start":6418,"end":6445,"loc":{"start":{"line":165,"column":33},"end":{"line":165,"column":60}},"object":{"type":"CallExpression","start":6418,"end":6440,"loc":{"start":{"line":165,"column":33},"end":{"line":165,"column":55}},"callee":{"type":"MemberExpression","start":6418,"end":6429,"loc":{"start":{"line":165,"column":33},"end":{"line":165,"column":44}},"object":{"type":"Identifier","start":6418,"end":6424,"loc":{"start":{"line":165,"column":33},"end":{"line":165,"column":39}},"name":"Object"},"property":{"type":"Identifier","start":6425,"end":6429,"loc":{"start":{"line":165,"column":40},"end":{"line":165,"column":44}},"name":"keys"},"computed":false},"arguments":[{"type":"Identifier","start":6430,"end":6439,"loc":{"start":{"line":165,"column":45},"end":{"line":165,"column":54}},"name":"PROTOCOLS"}]},"property":{"type":"Identifier","start":6441,"end":6445,"loc":{"start":{"line":165,"column":56},"end":{"line":165,"column":60}},"name":"some"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":6446,"end":6490,"loc":{"start":{"line":165,"column":61},"end":{"line":165,"column":105}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":6447,"end":6450,"loc":{"start":{"line":165,"column":62},"end":{"line":165,"column":65}},"name":"key"}],"body":{"type":"BinaryExpression","start":6455,"end":6490,"loc":{"start":{"line":165,"column":70},"end":{"line":165,"column":105}},"left":{"type":"MemberExpression","start":6455,"end":6469,"loc":{"start":{"line":165,"column":70},"end":{"line":165,"column":84}},"object":{"type":"Identifier","start":6455,"end":6464,"loc":{"start":{"line":165,"column":70},"end":{"line":165,"column":79}},"name":"PROTOCOLS"},"property":{"type":"Identifier","start":6465,"end":6468,"loc":{"start":{"line":165,"column":80},"end":{"line":165,"column":83}},"name":"key"},"computed":true},"operator":"===","right":{"type":"MemberExpression","start":6474,"end":6490,"loc":{"start":{"line":165,"column":89},"end":{"line":165,"column":105}},"object":{"type":"Identifier","start":6474,"end":6481,"loc":{"start":{"line":165,"column":89},"end":{"line":165,"column":96}},"name":"options"},"property":{"type":"Identifier","start":6482,"end":6490,"loc":{"start":{"line":165,"column":97},"end":{"line":165,"column":105}},"name":"protocol"},"computed":false}}}]}}},"consequent":{"type":"BlockStatement","start":6493,"end":6599,"loc":{"start":{"line":165,"column":108},"end":{"line":168,"column":9}},"body":[{"type":"ExpressionStatement","start":6507,"end":6563,"loc":{"start":{"line":166,"column":12},"end":{"line":166,"column":68}},"expression":{"type":"AssignmentExpression","start":6507,"end":6562,"loc":{"start":{"line":166,"column":12},"end":{"line":166,"column":67}},"operator":"=","left":{"type":"MemberExpression","start":6507,"end":6527,"loc":{"start":{"line":166,"column":12},"end":{"line":166,"column":32}},"object":{"type":"ThisExpression","start":6507,"end":6511,"loc":{"start":{"line":166,"column":12},"end":{"line":166,"column":16}}},"property":{"type":"Identifier","start":6512,"end":6527,"loc":{"start":{"line":166,"column":17},"end":{"line":166,"column":32}},"name":"_errRespMessage"},"computed":false},"right":{"type":"Literal","start":6530,"end":6562,"loc":{"start":{"line":166,"column":35},"end":{"line":166,"column":67}},"value":"unsupported protocol specified","raw":"'unsupported protocol specified'"}}},{"type":"ReturnStatement","start":6576,"end":6589,"loc":{"start":{"line":167,"column":12},"end":{"line":167,"column":25}},"argument":{"type":"Literal","start":6583,"end":6588,"loc":{"start":{"line":167,"column":19},"end":{"line":167,"column":24}},"value":false,"raw":"false"}}]},"alternate":null},{"type":"IfStatement","start":6761,"end":6845,"loc":{"start":{"line":172,"column":8},"end":{"line":174,"column":9}},"test":{"type":"BinaryExpression","start":6765,"end":6807,"loc":{"start":{"line":172,"column":12},"end":{"line":172,"column":54}},"left":{"type":"MemberExpression","start":6765,"end":6781,"loc":{"start":{"line":172,"column":12},"end":{"line":172,"column":28}},"object":{"type":"Identifier","start":6765,"end":6772,"loc":{"start":{"line":172,"column":12},"end":{"line":172,"column":19}},"name":"options"},"property":{"type":"Identifier","start":6773,"end":6781,"loc":{"start":{"line":172,"column":20},"end":{"line":172,"column":28}},"name":"protocol"},"computed":false},"operator":"===","right":{"type":"MemberExpression","start":6786,"end":6807,"loc":{"start":{"line":172,"column":33},"end":{"line":172,"column":54}},"object":{"type":"Identifier","start":6786,"end":6795,"loc":{"start":{"line":172,"column":33},"end":{"line":172,"column":42}},"name":"PROTOCOLS"},"property":{"type":"Identifier","start":6796,"end":6807,"loc":{"start":{"line":172,"column":43},"end":{"line":172,"column":54}},"name":"s3Multipart"},"computed":false}},"consequent":{"type":"BlockStatement","start":6809,"end":6845,"loc":{"start":{"line":172,"column":56},"end":{"line":174,"column":9}},"body":[{"type":"ReturnStatement","start":6823,"end":6835,"loc":{"start":{"line":173,"column":12},"end":{"line":173,"column":24}},"argument":{"type":"Literal","start":6830,"end":6834,"loc":{"start":{"line":173,"column":19},"end":{"line":173,"column":23}},"value":true,"raw":"true"}}]},"alternate":null},{"type":"IfStatement","start":6854,"end":6999,"loc":{"start":{"line":175,"column":8},"end":{"line":178,"column":9}},"test":{"type":"LogicalExpression","start":6858,"end":6897,"loc":{"start":{"line":175,"column":12},"end":{"line":175,"column":51}},"left":{"type":"UnaryExpression","start":6858,"end":6875,"loc":{"start":{"line":175,"column":12},"end":{"line":175,"column":29}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":6859,"end":6875,"loc":{"start":{"line":175,"column":13},"end":{"line":175,"column":29}},"object":{"type":"Identifier","start":6859,"end":6866,"loc":{"start":{"line":175,"column":13},"end":{"line":175,"column":20}},"name":"options"},"property":{"type":"Identifier","start":6867,"end":6875,"loc":{"start":{"line":175,"column":21},"end":{"line":175,"column":29}},"name":"endpoint"},"computed":false}},"operator":"&&","right":{"type":"UnaryExpression","start":6879,"end":6897,"loc":{"start":{"line":175,"column":33},"end":{"line":175,"column":51}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":6880,"end":6897,"loc":{"start":{"line":175,"column":34},"end":{"line":175,"column":51}},"object":{"type":"Identifier","start":6880,"end":6887,"loc":{"start":{"line":175,"column":34},"end":{"line":175,"column":41}},"name":"options"},"property":{"type":"Identifier","start":6888,"end":6897,"loc":{"start":{"line":175,"column":42},"end":{"line":175,"column":51}},"name":"uploadUrl"},"computed":false}}},"consequent":{"type":"BlockStatement","start":6899,"end":6999,"loc":{"start":{"line":175,"column":53},"end":{"line":178,"column":9}},"body":[{"type":"ExpressionStatement","start":6913,"end":6963,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":62}},"expression":{"type":"AssignmentExpression","start":6913,"end":6962,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":61}},"operator":"=","left":{"type":"MemberExpression","start":6913,"end":6933,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":32}},"object":{"type":"ThisExpression","start":6913,"end":6917,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":16}}},"property":{"type":"Identifier","start":6918,"end":6933,"loc":{"start":{"line":176,"column":17},"end":{"line":176,"column":32}},"name":"_errRespMessage"},"computed":false},"right":{"type":"Literal","start":6936,"end":6962,"loc":{"start":{"line":176,"column":35},"end":{"line":176,"column":61}},"value":"no destination specified","raw":"'no destination specified'"}}},{"type":"ReturnStatement","start":6976,"end":6989,"loc":{"start":{"line":177,"column":12},"end":{"line":177,"column":25}},"argument":{"type":"Literal","start":6983,"end":6988,"loc":{"start":{"line":177,"column":19},"end":{"line":177,"column":24}},"value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","start":7008,"end":7103,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":103}},"declarations":[{"type":"VariableDeclarator","start":7014,"end":7102,"loc":{"start":{"line":179,"column":14},"end":{"line":179,"column":102}},"id":{"type":"Identifier","start":7014,"end":7027,"loc":{"start":{"line":179,"column":14},"end":{"line":179,"column":27}},"name":"validatorOpts"},"init":{"type":"ObjectExpression","start":7030,"end":7102,"loc":{"start":{"line":179,"column":30},"end":{"line":179,"column":102}},"properties":[{"type":"Property","start":7032,"end":7054,"loc":{"start":{"line":179,"column":32},"end":{"line":179,"column":54}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7032,"end":7048,"loc":{"start":{"line":179,"column":32},"end":{"line":179,"column":48}},"name":"require_protocol"},"value":{"type":"Literal","start":7050,"end":7054,"loc":{"start":{"line":179,"column":50},"end":{"line":179,"column":54}},"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":7056,"end":7100,"loc":{"start":{"line":179,"column":56},"end":{"line":179,"column":100}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7056,"end":7067,"loc":{"start":{"line":179,"column":56},"end":{"line":179,"column":67}},"name":"require_tld"},"value":{"type":"UnaryExpression","start":7069,"end":7100,"loc":{"start":{"line":179,"column":69},"end":{"line":179,"column":100}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":7070,"end":7100,"loc":{"start":{"line":179,"column":70},"end":{"line":179,"column":100}},"object":{"type":"MemberExpression","start":7070,"end":7094,"loc":{"start":{"line":179,"column":70},"end":{"line":179,"column":94}},"object":{"type":"Identifier","start":7070,"end":7077,"loc":{"start":{"line":179,"column":70},"end":{"line":179,"column":77}},"name":"options"},"property":{"type":"Identifier","start":7078,"end":7094,"loc":{"start":{"line":179,"column":78},"end":{"line":179,"column":94}},"name":"companionOptions"},"computed":false},"property":{"type":"Identifier","start":7095,"end":7100,"loc":{"start":{"line":179,"column":95},"end":{"line":179,"column":100}},"name":"debug"},"computed":false}},"kind":"init"}]}}],"kind":"const"},{"type":"ReturnStatement","start":7112,"end":7666,"loc":{"start":{"line":180,"column":8},"end":{"line":191,"column":11}},"argument":{"type":"CallExpression","start":7119,"end":7665,"loc":{"start":{"line":180,"column":15},"end":{"line":191,"column":10}},"callee":{"type":"MemberExpression","start":7119,"end":7162,"loc":{"start":{"line":180,"column":15},"end":{"line":180,"column":58}},"object":{"type":"ArrayExpression","start":7119,"end":7156,"loc":{"start":{"line":180,"column":15},"end":{"line":180,"column":52}},"elements":[{"type":"MemberExpression","start":7120,"end":7136,"loc":{"start":{"line":180,"column":16},"end":{"line":180,"column":32}},"object":{"type":"Identifier","start":7120,"end":7127,"loc":{"start":{"line":180,"column":16},"end":{"line":180,"column":23}},"name":"options"},"property":{"type":"Identifier","start":7128,"end":7136,"loc":{"start":{"line":180,"column":24},"end":{"line":180,"column":32}},"name":"endpoint"},"computed":false},{"type":"MemberExpression","start":7138,"end":7155,"loc":{"start":{"line":180,"column":34},"end":{"line":180,"column":51}},"object":{"type":"Identifier","start":7138,"end":7145,"loc":{"start":{"line":180,"column":34},"end":{"line":180,"column":41}},"name":"options"},"property":{"type":"Identifier","start":7146,"end":7155,"loc":{"start":{"line":180,"column":42},"end":{"line":180,"column":51}},"name":"uploadUrl"},"computed":false}]},"property":{"type":"Identifier","start":7157,"end":7162,"loc":{"start":{"line":180,"column":53},"end":{"line":180,"column":58}},"name":"every"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":7163,"end":7664,"loc":{"start":{"line":180,"column":59},"end":{"line":191,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7164,"end":7167,"loc":{"start":{"line":180,"column":60},"end":{"line":180,"column":63}},"name":"url"}],"body":{"type":"BlockStatement","start":7172,"end":7664,"loc":{"start":{"line":180,"column":68},"end":{"line":191,"column":9}},"body":[{"type":"IfStatement","start":7186,"end":7346,"loc":{"start":{"line":181,"column":12},"end":{"line":184,"column":13}},"test":{"type":"LogicalExpression","start":7190,"end":7233,"loc":{"start":{"line":181,"column":16},"end":{"line":181,"column":59}},"left":{"type":"Identifier","start":7190,"end":7193,"loc":{"start":{"line":181,"column":16},"end":{"line":181,"column":19}},"name":"url"},"operator":"&&","right":{"type":"UnaryExpression","start":7197,"end":7233,"loc":{"start":{"line":181,"column":23},"end":{"line":181,"column":59}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":7198,"end":7233,"loc":{"start":{"line":181,"column":24},"end":{"line":181,"column":59}},"callee":{"type":"MemberExpression","start":7198,"end":7213,"loc":{"start":{"line":181,"column":24},"end":{"line":181,"column":39}},"object":{"type":"Identifier","start":7198,"end":7207,"loc":{"start":{"line":181,"column":24},"end":{"line":181,"column":33}},"name":"validator"},"property":{"type":"Identifier","start":7208,"end":7213,"loc":{"start":{"line":181,"column":34},"end":{"line":181,"column":39}},"name":"isURL"},"computed":false},"arguments":[{"type":"Identifier","start":7214,"end":7217,"loc":{"start":{"line":181,"column":40},"end":{"line":181,"column":43}},"name":"url"},{"type":"Identifier","start":7219,"end":7232,"loc":{"start":{"line":181,"column":45},"end":{"line":181,"column":58}},"name":"validatorOpts"}]}}},"consequent":{"type":"BlockStatement","start":7235,"end":7346,"loc":{"start":{"line":181,"column":61},"end":{"line":184,"column":13}},"body":[{"type":"ExpressionStatement","start":7253,"end":7302,"loc":{"start":{"line":182,"column":16},"end":{"line":182,"column":65}},"expression":{"type":"AssignmentExpression","start":7253,"end":7301,"loc":{"start":{"line":182,"column":16},"end":{"line":182,"column":64}},"operator":"=","left":{"type":"MemberExpression","start":7253,"end":7273,"loc":{"start":{"line":182,"column":16},"end":{"line":182,"column":36}},"object":{"type":"ThisExpression","start":7253,"end":7257,"loc":{"start":{"line":182,"column":16},"end":{"line":182,"column":20}}},"property":{"type":"Identifier","start":7258,"end":7273,"loc":{"start":{"line":182,"column":21},"end":{"line":182,"column":36}},"name":"_errRespMessage"},"computed":false},"right":{"type":"Literal","start":7276,"end":7301,"loc":{"start":{"line":182,"column":39},"end":{"line":182,"column":64}},"value":"invalid destination url","raw":"'invalid destination url'"}}},{"type":"ReturnStatement","start":7319,"end":7332,"loc":{"start":{"line":183,"column":16},"end":{"line":183,"column":29}},"argument":{"type":"Literal","start":7326,"end":7331,"loc":{"start":{"line":183,"column":23},"end":{"line":183,"column":28}},"value":false,"raw":"false"}}]},"alternate":null},{"type":"VariableDeclaration","start":7359,"end":7415,"loc":{"start":{"line":185,"column":12},"end":{"line":185,"column":68}},"declarations":[{"type":"VariableDeclarator","start":7365,"end":7414,"loc":{"start":{"line":185,"column":18},"end":{"line":185,"column":67}},"id":{"type":"Identifier","start":7365,"end":7376,"loc":{"start":{"line":185,"column":18},"end":{"line":185,"column":29}},"name":"allowedUrls"},"init":{"type":"MemberExpression","start":7379,"end":7414,"loc":{"start":{"line":185,"column":32},"end":{"line":185,"column":67}},"object":{"type":"MemberExpression","start":7379,"end":7403,"loc":{"start":{"line":185,"column":32},"end":{"line":185,"column":56}},"object":{"type":"Identifier","start":7379,"end":7386,"loc":{"start":{"line":185,"column":32},"end":{"line":185,"column":39}},"name":"options"},"property":{"type":"Identifier","start":7387,"end":7403,"loc":{"start":{"line":185,"column":40},"end":{"line":185,"column":56}},"name":"companionOptions"},"computed":false},"property":{"type":"Identifier","start":7404,"end":7414,"loc":{"start":{"line":185,"column":57},"end":{"line":185,"column":67}},"name":"uploadUrls"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":7428,"end":7629,"loc":{"start":{"line":186,"column":12},"end":{"line":189,"column":13}},"test":{"type":"LogicalExpression","start":7432,"end":7481,"loc":{"start":{"line":186,"column":16},"end":{"line":186,"column":65}},"left":{"type":"LogicalExpression","start":7432,"end":7450,"loc":{"start":{"line":186,"column":16},"end":{"line":186,"column":34}},"left":{"type":"Identifier","start":7432,"end":7443,"loc":{"start":{"line":186,"column":16},"end":{"line":186,"column":27}},"name":"allowedUrls"},"operator":"&&","right":{"type":"Identifier","start":7447,"end":7450,"loc":{"start":{"line":186,"column":31},"end":{"line":186,"column":34}},"name":"url"}},"operator":"&&","right":{"type":"UnaryExpression","start":7454,"end":7481,"loc":{"start":{"line":186,"column":38},"end":{"line":186,"column":65}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":7455,"end":7481,"loc":{"start":{"line":186,"column":39},"end":{"line":186,"column":65}},"callee":{"type":"Identifier","start":7455,"end":7463,"loc":{"start":{"line":186,"column":39},"end":{"line":186,"column":47}},"name":"hasMatch"},"arguments":[{"type":"Identifier","start":7464,"end":7467,"loc":{"start":{"line":186,"column":48},"end":{"line":186,"column":51}},"name":"url"},{"type":"Identifier","start":7469,"end":7480,"loc":{"start":{"line":186,"column":53},"end":{"line":186,"column":64}},"name":"allowedUrls"}]}}},"consequent":{"type":"BlockStatement","start":7483,"end":7629,"loc":{"start":{"line":186,"column":67},"end":{"line":189,"column":13}},"body":[{"type":"ExpressionStatement","start":7501,"end":7585,"loc":{"start":{"line":187,"column":16},"end":{"line":187,"column":100}},"expression":{"type":"AssignmentExpression","start":7501,"end":7584,"loc":{"start":{"line":187,"column":16},"end":{"line":187,"column":99}},"operator":"=","left":{"type":"MemberExpression","start":7501,"end":7521,"loc":{"start":{"line":187,"column":16},"end":{"line":187,"column":36}},"object":{"type":"ThisExpression","start":7501,"end":7505,"loc":{"start":{"line":187,"column":16},"end":{"line":187,"column":20}}},"property":{"type":"Identifier","start":7506,"end":7521,"loc":{"start":{"line":187,"column":21},"end":{"line":187,"column":36}},"name":"_errRespMessage"},"computed":false},"right":{"type":"Literal","start":7524,"end":7584,"loc":{"start":{"line":187,"column":39},"end":{"line":187,"column":99}},"value":"upload destination does not match any allowed destinations","raw":"'upload destination does not match any allowed destinations'"}}},{"type":"ReturnStatement","start":7602,"end":7615,"loc":{"start":{"line":188,"column":16},"end":{"line":188,"column":29}},"argument":{"type":"Literal","start":7609,"end":7614,"loc":{"start":{"line":188,"column":23},"end":{"line":188,"column":28}},"value":false,"raw":"false"}}]},"alternate":null},{"type":"ReturnStatement","start":7642,"end":7654,"loc":{"start":{"line":190,"column":12},"end":{"line":190,"column":24}},"argument":{"type":"Literal","start":7649,"end":7653,"loc":{"start":{"line":190,"column":19},"end":{"line":190,"column":23}},"value":true,"raw":"true"}}]}}]}}]}}},{"type":"MethodDefinition","start":7677,"end":7740,"loc":{"start":{"line":193,"column":4},"end":{"line":195,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":7677,"end":7685,"loc":{"start":{"line":193,"column":4},"end":{"line":193,"column":12}},"name":"hasError"},"value":{"type":"FunctionExpression","start":7685,"end":7740,"loc":{"start":{"line":193,"column":12},"end":{"line":195,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":7688,"end":7740,"loc":{"start":{"line":193,"column":15},"end":{"line":195,"column":5}},"body":[{"type":"ReturnStatement","start":7698,"end":7734,"loc":{"start":{"line":194,"column":8},"end":{"line":194,"column":44}},"argument":{"type":"BinaryExpression","start":7705,"end":7733,"loc":{"start":{"line":194,"column":15},"end":{"line":194,"column":43}},"left":{"type":"MemberExpression","start":7705,"end":7725,"loc":{"start":{"line":194,"column":15},"end":{"line":194,"column":35}},"object":{"type":"ThisExpression","start":7705,"end":7709,"loc":{"start":{"line":194,"column":15},"end":{"line":194,"column":19}}},"property":{"type":"Identifier","start":7710,"end":7725,"loc":{"start":{"line":194,"column":20},"end":{"line":194,"column":35}},"name":"_errRespMessage"},"computed":false},"operator":"!=","right":{"type":"Literal","start":7729,"end":7733,"loc":{"start":{"line":194,"column":39},"end":{"line":194,"column":43}},"value":null,"raw":"null"}}}]}}},{"type":"MethodDefinition","start":7974,"end":8048,"loc":{"start":{"line":201,"column":4},"end":{"line":203,"column":5}},"kind":"get","static":false,"computed":false,"key":{"type":"Identifier","start":7978,"end":7988,"loc":{"start":{"line":201,"column":8},"end":{"line":201,"column":18}},"name":"shortToken"},"value":{"type":"FunctionExpression","start":7988,"end":8048,"loc":{"start":{"line":201,"column":18},"end":{"line":203,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":7991,"end":8048,"loc":{"start":{"line":201,"column":21},"end":{"line":203,"column":5}},"body":[{"type":"ReturnStatement","start":8001,"end":8042,"loc":{"start":{"line":202,"column":8},"end":{"line":202,"column":49}},"argument":{"type":"CallExpression","start":8008,"end":8041,"loc":{"start":{"line":202,"column":15},"end":{"line":202,"column":48}},"callee":{"type":"MemberExpression","start":8008,"end":8029,"loc":{"start":{"line":202,"column":15},"end":{"line":202,"column":36}},"object":{"type":"Identifier","start":8008,"end":8016,"loc":{"start":{"line":202,"column":15},"end":{"line":202,"column":23}},"name":"Uploader"},"property":{"type":"Identifier","start":8017,"end":8029,"loc":{"start":{"line":202,"column":24},"end":{"line":202,"column":36}},"name":"shortenToken"},"computed":false},"arguments":[{"type":"MemberExpression","start":8030,"end":8040,"loc":{"start":{"line":202,"column":37},"end":{"line":202,"column":47}},"object":{"type":"ThisExpression","start":8030,"end":8034,"loc":{"start":{"line":202,"column":37},"end":{"line":202,"column":41}}},"property":{"type":"Identifier","start":8035,"end":8040,"loc":{"start":{"line":202,"column":42},"end":{"line":202,"column":47}},"name":"token"},"computed":false}]}}]}}},{"type":"MethodDefinition","start":8110,"end":8300,"loc":{"start":{"line":208,"column":4},"end":{"line":211,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":8110,"end":8123,"loc":{"start":{"line":208,"column":4},"end":{"line":208,"column":17}},"name":"onSocketReady"},"value":{"type":"FunctionExpression","start":8123,"end":8300,"loc":{"start":{"line":208,"column":17},"end":{"line":211,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8124,"end":8132,"loc":{"start":{"line":208,"column":18},"end":{"line":208,"column":26}},"name":"callback"}],"body":{"type":"BlockStatement","start":8134,"end":8300,"loc":{"start":{"line":208,"column":28},"end":{"line":211,"column":5}},"body":[{"type":"ExpressionStatement","start":8144,"end":8205,"loc":{"start":{"line":209,"column":8},"end":{"line":209,"column":69}},"expression":{"type":"CallExpression","start":8144,"end":8204,"loc":{"start":{"line":209,"column":8},"end":{"line":209,"column":68}},"callee":{"type":"MemberExpression","start":8144,"end":8158,"loc":{"start":{"line":209,"column":8},"end":{"line":209,"column":22}},"object":{"type":"CallExpression","start":8144,"end":8153,"loc":{"start":{"line":209,"column":8},"end":{"line":209,"column":17}},"callee":{"type":"Identifier","start":8144,"end":8151,"loc":{"start":{"line":209,"column":8},"end":{"line":209,"column":15}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":8154,"end":8158,"loc":{"start":{"line":209,"column":18},"end":{"line":209,"column":22}},"name":"once"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":8159,"end":8185,"loc":{"start":{"line":209,"column":23},"end":{"line":209,"column":49}},"expressions":[{"type":"MemberExpression","start":8173,"end":8183,"loc":{"start":{"line":209,"column":37},"end":{"line":209,"column":47}},"object":{"type":"ThisExpression","start":8173,"end":8177,"loc":{"start":{"line":209,"column":37},"end":{"line":209,"column":41}}},"property":{"type":"Identifier","start":8178,"end":8183,"loc":{"start":{"line":209,"column":42},"end":{"line":209,"column":47}},"name":"token"},"computed":false}],"quasis":[{"type":"TemplateElement","start":8160,"end":8171,"loc":{"start":{"line":209,"column":24},"end":{"line":209,"column":35}},"value":{"raw":"connection:","cooked":"connection:"},"tail":false},{"type":"TemplateElement","start":8184,"end":8184,"loc":{"start":{"line":209,"column":48},"end":{"line":209,"column":48}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"ArrowFunctionExpression","start":8187,"end":8203,"loc":{"start":{"line":209,"column":51},"end":{"line":209,"column":67}},"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":8193,"end":8203,"loc":{"start":{"line":209,"column":57},"end":{"line":209,"column":67}},"callee":{"type":"Identifier","start":8193,"end":8201,"loc":{"start":{"line":209,"column":57},"end":{"line":209,"column":65}},"name":"callback"},"arguments":[]}}]}},{"type":"ExpressionStatement","start":8214,"end":8294,"loc":{"start":{"line":210,"column":8},"end":{"line":210,"column":88}},"expression":{"type":"CallExpression","start":8214,"end":8293,"loc":{"start":{"line":210,"column":8},"end":{"line":210,"column":87}},"callee":{"type":"MemberExpression","start":8214,"end":8226,"loc":{"start":{"line":210,"column":8},"end":{"line":210,"column":20}},"object":{"type":"Identifier","start":8214,"end":8220,"loc":{"start":{"line":210,"column":8},"end":{"line":210,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":8221,"end":8226,"loc":{"start":{"line":210,"column":15},"end":{"line":210,"column":20}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":8227,"end":8251,"loc":{"start":{"line":210,"column":21},"end":{"line":210,"column":45}},"value":"waiting for connection","raw":"'waiting for connection'"},{"type":"Literal","start":8253,"end":8275,"loc":{"start":{"line":210,"column":47},"end":{"line":210,"column":69}},"value":"uploader.socket.wait","raw":"'uploader.socket.wait'"},{"type":"MemberExpression","start":8277,"end":8292,"loc":{"start":{"line":210,"column":71},"end":{"line":210,"column":86}},"object":{"type":"ThisExpression","start":8277,"end":8281,"loc":{"start":{"line":210,"column":71},"end":{"line":210,"column":75}}},"property":{"type":"Identifier","start":8282,"end":8292,"loc":{"start":{"line":210,"column":76},"end":{"line":210,"column":86}},"name":"shortToken"},"computed":false}]}}]}}},{"type":"MethodDefinition","start":8305,"end":8735,"loc":{"start":{"line":212,"column":4},"end":{"line":222,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":8305,"end":8312,"loc":{"start":{"line":212,"column":4},"end":{"line":212,"column":11}},"name":"cleanUp"},"value":{"type":"FunctionExpression","start":8312,"end":8735,"loc":{"start":{"line":212,"column":11},"end":{"line":222,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":8315,"end":8735,"loc":{"start":{"line":212,"column":14},"end":{"line":222,"column":5}},"body":[{"type":"ExpressionStatement","start":8325,"end":8509,"loc":{"start":{"line":213,"column":8},"end":{"line":217,"column":11}},"expression":{"type":"CallExpression","start":8325,"end":8508,"loc":{"start":{"line":213,"column":8},"end":{"line":217,"column":10}},"callee":{"type":"MemberExpression","start":8325,"end":8334,"loc":{"start":{"line":213,"column":8},"end":{"line":213,"column":17}},"object":{"type":"Identifier","start":8325,"end":8327,"loc":{"start":{"line":213,"column":8},"end":{"line":213,"column":10}},"name":"fs"},"property":{"type":"Identifier","start":8328,"end":8334,"loc":{"start":{"line":213,"column":11},"end":{"line":213,"column":17}},"name":"unlink"},"computed":false},"arguments":[{"type":"MemberExpression","start":8335,"end":8344,"loc":{"start":{"line":213,"column":18},"end":{"line":213,"column":27}},"object":{"type":"ThisExpression","start":8335,"end":8339,"loc":{"start":{"line":213,"column":18},"end":{"line":213,"column":22}}},"property":{"type":"Identifier","start":8340,"end":8344,"loc":{"start":{"line":213,"column":23},"end":{"line":213,"column":27}},"name":"path"},"computed":false},{"type":"ArrowFunctionExpression","start":8346,"end":8507,"loc":{"start":{"line":213,"column":29},"end":{"line":217,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8347,"end":8350,"loc":{"start":{"line":213,"column":30},"end":{"line":213,"column":33}},"name":"err"}],"body":{"type":"BlockStatement","start":8355,"end":8507,"loc":{"start":{"line":213,"column":38},"end":{"line":217,"column":9}},"body":[{"type":"IfStatement","start":8369,"end":8497,"loc":{"start":{"line":214,"column":12},"end":{"line":216,"column":13}},"test":{"type":"Identifier","start":8373,"end":8376,"loc":{"start":{"line":214,"column":16},"end":{"line":214,"column":19}},"name":"err"},"consequent":{"type":"BlockStatement","start":8378,"end":8497,"loc":{"start":{"line":214,"column":21},"end":{"line":216,"column":13}},"body":[{"type":"ExpressionStatement","start":8396,"end":8483,"loc":{"start":{"line":215,"column":16},"end":{"line":215,"column":103}},"expression":{"type":"CallExpression","start":8396,"end":8482,"loc":{"start":{"line":215,"column":16},"end":{"line":215,"column":102}},"callee":{"type":"MemberExpression","start":8396,"end":8408,"loc":{"start":{"line":215,"column":16},"end":{"line":215,"column":28}},"object":{"type":"Identifier","start":8396,"end":8402,"loc":{"start":{"line":215,"column":16},"end":{"line":215,"column":22}},"name":"logger"},"property":{"type":"Identifier","start":8403,"end":8408,"loc":{"start":{"line":215,"column":23},"end":{"line":215,"column":28}},"name":"error"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":8409,"end":8455,"loc":{"start":{"line":215,"column":29},"end":{"line":215,"column":75}},"expressions":[{"type":"MemberExpression","start":8432,"end":8441,"loc":{"start":{"line":215,"column":52},"end":{"line":215,"column":61}},"object":{"type":"ThisExpression","start":8432,"end":8436,"loc":{"start":{"line":215,"column":52},"end":{"line":215,"column":56}}},"property":{"type":"Identifier","start":8437,"end":8441,"loc":{"start":{"line":215,"column":57},"end":{"line":215,"column":61}},"name":"path"},"computed":false},{"type":"Identifier","start":8450,"end":8453,"loc":{"start":{"line":215,"column":70},"end":{"line":215,"column":73}},"name":"err"}],"quasis":[{"type":"TemplateElement","start":8410,"end":8430,"loc":{"start":{"line":215,"column":30},"end":{"line":215,"column":50}},"value":{"raw":"cleanup failed for: ","cooked":"cleanup failed for: "},"tail":false},{"type":"TemplateElement","start":8442,"end":8448,"loc":{"start":{"line":215,"column":62},"end":{"line":215,"column":68}},"value":{"raw":" err: ","cooked":" err: "},"tail":false},{"type":"TemplateElement","start":8454,"end":8454,"loc":{"start":{"line":215,"column":74},"end":{"line":215,"column":74}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"Literal","start":8457,"end":8481,"loc":{"start":{"line":215,"column":77},"end":{"line":215,"column":101}},"value":"uploader.cleanup.error","raw":"'uploader.cleanup.error'"}]}}]},"alternate":null}]}}]}},{"type":"ExpressionStatement","start":8518,"end":8570,"loc":{"start":{"line":218,"column":8},"end":{"line":218,"column":60}},"expression":{"type":"CallExpression","start":8518,"end":8569,"loc":{"start":{"line":218,"column":8},"end":{"line":218,"column":59}},"callee":{"type":"MemberExpression","start":8518,"end":8546,"loc":{"start":{"line":218,"column":8},"end":{"line":218,"column":36}},"object":{"type":"CallExpression","start":8518,"end":8527,"loc":{"start":{"line":218,"column":8},"end":{"line":218,"column":17}},"callee":{"type":"Identifier","start":8518,"end":8525,"loc":{"start":{"line":218,"column":8},"end":{"line":218,"column":15}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":8528,"end":8546,"loc":{"start":{"line":218,"column":18},"end":{"line":218,"column":36}},"name":"removeAllListeners"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":8547,"end":8568,"loc":{"start":{"line":218,"column":37},"end":{"line":218,"column":58}},"expressions":[{"type":"MemberExpression","start":8556,"end":8566,"loc":{"start":{"line":218,"column":46},"end":{"line":218,"column":56}},"object":{"type":"ThisExpression","start":8556,"end":8560,"loc":{"start":{"line":218,"column":46},"end":{"line":218,"column":50}}},"property":{"type":"Identifier","start":8561,"end":8566,"loc":{"start":{"line":218,"column":51},"end":{"line":218,"column":56}},"name":"token"},"computed":false}],"quasis":[{"type":"TemplateElement","start":8548,"end":8554,"loc":{"start":{"line":218,"column":38},"end":{"line":218,"column":44}},"value":{"raw":"pause:","cooked":"pause:"},"tail":false},{"type":"TemplateElement","start":8567,"end":8567,"loc":{"start":{"line":218,"column":57},"end":{"line":218,"column":57}},"value":{"raw":"","cooked":""},"tail":true}]}]}},{"type":"ExpressionStatement","start":8579,"end":8632,"loc":{"start":{"line":219,"column":8},"end":{"line":219,"column":61}},"expression":{"type":"CallExpression","start":8579,"end":8631,"loc":{"start":{"line":219,"column":8},"end":{"line":219,"column":60}},"callee":{"type":"MemberExpression","start":8579,"end":8607,"loc":{"start":{"line":219,"column":8},"end":{"line":219,"column":36}},"object":{"type":"CallExpression","start":8579,"end":8588,"loc":{"start":{"line":219,"column":8},"end":{"line":219,"column":17}},"callee":{"type":"Identifier","start":8579,"end":8586,"loc":{"start":{"line":219,"column":8},"end":{"line":219,"column":15}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":8589,"end":8607,"loc":{"start":{"line":219,"column":18},"end":{"line":219,"column":36}},"name":"removeAllListeners"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":8608,"end":8630,"loc":{"start":{"line":219,"column":37},"end":{"line":219,"column":59}},"expressions":[{"type":"MemberExpression","start":8618,"end":8628,"loc":{"start":{"line":219,"column":47},"end":{"line":219,"column":57}},"object":{"type":"ThisExpression","start":8618,"end":8622,"loc":{"start":{"line":219,"column":47},"end":{"line":219,"column":51}}},"property":{"type":"Identifier","start":8623,"end":8628,"loc":{"start":{"line":219,"column":52},"end":{"line":219,"column":57}},"name":"token"},"computed":false}],"quasis":[{"type":"TemplateElement","start":8609,"end":8616,"loc":{"start":{"line":219,"column":38},"end":{"line":219,"column":45}},"value":{"raw":"resume:","cooked":"resume:"},"tail":false},{"type":"TemplateElement","start":8629,"end":8629,"loc":{"start":{"line":219,"column":58},"end":{"line":219,"column":58}},"value":{"raw":"","cooked":""},"tail":true}]}]}},{"type":"ExpressionStatement","start":8641,"end":8694,"loc":{"start":{"line":220,"column":8},"end":{"line":220,"column":61}},"expression":{"type":"CallExpression","start":8641,"end":8693,"loc":{"start":{"line":220,"column":8},"end":{"line":220,"column":60}},"callee":{"type":"MemberExpression","start":8641,"end":8669,"loc":{"start":{"line":220,"column":8},"end":{"line":220,"column":36}},"object":{"type":"CallExpression","start":8641,"end":8650,"loc":{"start":{"line":220,"column":8},"end":{"line":220,"column":17}},"callee":{"type":"Identifier","start":8641,"end":8648,"loc":{"start":{"line":220,"column":8},"end":{"line":220,"column":15}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":8651,"end":8669,"loc":{"start":{"line":220,"column":18},"end":{"line":220,"column":36}},"name":"removeAllListeners"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":8670,"end":8692,"loc":{"start":{"line":220,"column":37},"end":{"line":220,"column":59}},"expressions":[{"type":"MemberExpression","start":8680,"end":8690,"loc":{"start":{"line":220,"column":47},"end":{"line":220,"column":57}},"object":{"type":"ThisExpression","start":8680,"end":8684,"loc":{"start":{"line":220,"column":47},"end":{"line":220,"column":51}}},"property":{"type":"Identifier","start":8685,"end":8690,"loc":{"start":{"line":220,"column":52},"end":{"line":220,"column":57}},"name":"token"},"computed":false}],"quasis":[{"type":"TemplateElement","start":8671,"end":8678,"loc":{"start":{"line":220,"column":38},"end":{"line":220,"column":45}},"value":{"raw":"cancel:","cooked":"cancel:"},"tail":false},{"type":"TemplateElement","start":8691,"end":8691,"loc":{"start":{"line":220,"column":58},"end":{"line":220,"column":58}},"value":{"raw":"","cooked":""},"tail":true}]}]}},{"type":"ExpressionStatement","start":8703,"end":8729,"loc":{"start":{"line":221,"column":8},"end":{"line":221,"column":34}},"expression":{"type":"AssignmentExpression","start":8703,"end":8728,"loc":{"start":{"line":221,"column":8},"end":{"line":221,"column":33}},"operator":"=","left":{"type":"MemberExpression","start":8703,"end":8721,"loc":{"start":{"line":221,"column":8},"end":{"line":221,"column":26}},"object":{"type":"ThisExpression","start":8703,"end":8707,"loc":{"start":{"line":221,"column":8},"end":{"line":221,"column":12}}},"property":{"type":"Identifier","start":8708,"end":8721,"loc":{"start":{"line":221,"column":13},"end":{"line":221,"column":26}},"name":"uploadStopped"},"computed":false},"right":{"type":"Literal","start":8724,"end":8728,"loc":{"start":{"line":221,"column":29},"end":{"line":221,"column":33}},"value":true,"raw":"true"}}}]}}},{"type":"MethodDefinition","start":8838,"end":10794,"loc":{"start":{"line":228,"column":4},"end":{"line":274,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":8838,"end":8849,"loc":{"start":{"line":228,"column":4},"end":{"line":228,"column":15}},"name":"handleChunk"},"value":{"type":"FunctionExpression","start":8849,"end":10794,"loc":{"start":{"line":228,"column":15},"end":{"line":274,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8850,"end":8853,"loc":{"start":{"line":228,"column":16},"end":{"line":228,"column":19}},"name":"err"},{"type":"Identifier","start":8855,"end":8860,"loc":{"start":{"line":228,"column":21},"end":{"line":228,"column":26}},"name":"chunk"}],"body":{"type":"BlockStatement","start":8862,"end":10794,"loc":{"start":{"line":228,"column":28},"end":{"line":274,"column":5}},"body":[{"type":"IfStatement","start":8872,"end":8927,"loc":{"start":{"line":229,"column":8},"end":{"line":231,"column":9}},"test":{"type":"MemberExpression","start":8876,"end":8894,"loc":{"start":{"line":229,"column":12},"end":{"line":229,"column":30}},"object":{"type":"ThisExpression","start":8876,"end":8880,"loc":{"start":{"line":229,"column":12},"end":{"line":229,"column":16}}},"property":{"type":"Identifier","start":8881,"end":8894,"loc":{"start":{"line":229,"column":17},"end":{"line":229,"column":30}},"name":"uploadStopped"},"computed":false},"consequent":{"type":"BlockStatement","start":8896,"end":8927,"loc":{"start":{"line":229,"column":32},"end":{"line":231,"column":9}},"body":[{"type":"ReturnStatement","start":8910,"end":8917,"loc":{"start":{"line":230,"column":12},"end":{"line":230,"column":19}},"argument":null}]},"alternate":null},{"type":"IfStatement","start":8936,"end":9112,"loc":{"start":{"line":232,"column":8},"end":{"line":237,"column":9}},"test":{"type":"Identifier","start":8940,"end":8943,"loc":{"start":{"line":232,"column":12},"end":{"line":232,"column":15}},"name":"err"},"consequent":{"type":"BlockStatement","start":8945,"end":9112,"loc":{"start":{"line":232,"column":17},"end":{"line":237,"column":9}},"body":[{"type":"ExpressionStatement","start":8959,"end":9021,"loc":{"start":{"line":233,"column":12},"end":{"line":233,"column":74}},"expression":{"type":"CallExpression","start":8959,"end":9020,"loc":{"start":{"line":233,"column":12},"end":{"line":233,"column":73}},"callee":{"type":"MemberExpression","start":8959,"end":8971,"loc":{"start":{"line":233,"column":12},"end":{"line":233,"column":24}},"object":{"type":"Identifier","start":8959,"end":8965,"loc":{"start":{"line":233,"column":12},"end":{"line":233,"column":18}},"name":"logger"},"property":{"type":"Identifier","start":8966,"end":8971,"loc":{"start":{"line":233,"column":19},"end":{"line":233,"column":24}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":8972,"end":8975,"loc":{"start":{"line":233,"column":25},"end":{"line":233,"column":28}},"name":"err"},{"type":"Literal","start":8977,"end":9002,"loc":{"start":{"line":233,"column":30},"end":{"line":233,"column":55}},"value":"uploader.download.error","raw":"'uploader.download.error'"},{"type":"MemberExpression","start":9004,"end":9019,"loc":{"start":{"line":233,"column":57},"end":{"line":233,"column":72}},"object":{"type":"ThisExpression","start":9004,"end":9008,"loc":{"start":{"line":233,"column":57},"end":{"line":233,"column":61}}},"property":{"type":"Identifier","start":9009,"end":9019,"loc":{"start":{"line":233,"column":62},"end":{"line":233,"column":72}},"name":"shortToken"},"computed":false}]}},{"type":"ExpressionStatement","start":9034,"end":9054,"loc":{"start":{"line":234,"column":12},"end":{"line":234,"column":32}},"expression":{"type":"CallExpression","start":9034,"end":9053,"loc":{"start":{"line":234,"column":12},"end":{"line":234,"column":31}},"callee":{"type":"MemberExpression","start":9034,"end":9048,"loc":{"start":{"line":234,"column":12},"end":{"line":234,"column":26}},"object":{"type":"ThisExpression","start":9034,"end":9038,"loc":{"start":{"line":234,"column":12},"end":{"line":234,"column":16}}},"property":{"type":"Identifier","start":9039,"end":9048,"loc":{"start":{"line":234,"column":17},"end":{"line":234,"column":26}},"name":"emitError"},"computed":false},"arguments":[{"type":"Identifier","start":9049,"end":9052,"loc":{"start":{"line":234,"column":27},"end":{"line":234,"column":30}},"name":"err"}]}},{"type":"ExpressionStatement","start":9067,"end":9082,"loc":{"start":{"line":235,"column":12},"end":{"line":235,"column":27}},"expression":{"type":"CallExpression","start":9067,"end":9081,"loc":{"start":{"line":235,"column":12},"end":{"line":235,"column":26}},"callee":{"type":"MemberExpression","start":9067,"end":9079,"loc":{"start":{"line":235,"column":12},"end":{"line":235,"column":24}},"object":{"type":"ThisExpression","start":9067,"end":9071,"loc":{"start":{"line":235,"column":12},"end":{"line":235,"column":16}}},"property":{"type":"Identifier","start":9072,"end":9079,"loc":{"start":{"line":235,"column":17},"end":{"line":235,"column":24}},"name":"cleanUp"},"computed":false},"arguments":[]}},{"type":"ReturnStatement","start":9095,"end":9102,"loc":{"start":{"line":236,"column":12},"end":{"line":236,"column":19}},"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":9233,"end":9295,"loc":{"start":{"line":239,"column":8},"end":{"line":239,"column":70}},"declarations":[{"type":"VariableDeclarator","start":9239,"end":9294,"loc":{"start":{"line":239,"column":14},"end":{"line":239,"column":69}},"id":{"type":"Identifier","start":9239,"end":9247,"loc":{"start":{"line":239,"column":14},"end":{"line":239,"column":22}},"name":"protocol"},"init":{"type":"LogicalExpression","start":9250,"end":9294,"loc":{"start":{"line":239,"column":25},"end":{"line":239,"column":69}},"left":{"type":"MemberExpression","start":9250,"end":9271,"loc":{"start":{"line":239,"column":25},"end":{"line":239,"column":46}},"object":{"type":"MemberExpression","start":9250,"end":9262,"loc":{"start":{"line":239,"column":25},"end":{"line":239,"column":37}},"object":{"type":"ThisExpression","start":9250,"end":9254,"loc":{"start":{"line":239,"column":25},"end":{"line":239,"column":29}}},"property":{"type":"Identifier","start":9255,"end":9262,"loc":{"start":{"line":239,"column":30},"end":{"line":239,"column":37}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":9263,"end":9271,"loc":{"start":{"line":239,"column":38},"end":{"line":239,"column":46}},"name":"protocol"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":9275,"end":9294,"loc":{"start":{"line":239,"column":50},"end":{"line":239,"column":69}},"object":{"type":"Identifier","start":9275,"end":9284,"loc":{"start":{"line":239,"column":50},"end":{"line":239,"column":59}},"name":"PROTOCOLS"},"property":{"type":"Identifier","start":9285,"end":9294,"loc":{"start":{"line":239,"column":60},"end":{"line":239,"column":69}},"name":"multipart"},"computed":false}}}],"kind":"const"},{"type":"IfStatement","start":9392,"end":10579,"loc":{"start":{"line":241,"column":8},"end":{"line":269,"column":9}},"test":{"type":"BinaryExpression","start":9396,"end":9410,"loc":{"start":{"line":241,"column":12},"end":{"line":241,"column":26}},"left":{"type":"Identifier","start":9396,"end":9401,"loc":{"start":{"line":241,"column":12},"end":{"line":241,"column":17}},"name":"chunk"},"operator":"===","right":{"type":"Literal","start":9406,"end":9410,"loc":{"start":{"line":241,"column":22},"end":{"line":241,"column":26}},"value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","start":9412,"end":10579,"loc":{"start":{"line":241,"column":28},"end":{"line":269,"column":9}},"body":[{"type":"ExpressionStatement","start":9426,"end":10531,"loc":{"start":{"line":242,"column":12},"end":{"line":267,"column":15}},"expression":{"type":"CallExpression","start":9426,"end":10530,"loc":{"start":{"line":242,"column":12},"end":{"line":267,"column":14}},"callee":{"type":"MemberExpression","start":9426,"end":9445,"loc":{"start":{"line":242,"column":12},"end":{"line":242,"column":31}},"object":{"type":"MemberExpression","start":9426,"end":9442,"loc":{"start":{"line":242,"column":12},"end":{"line":242,"column":28}},"object":{"type":"ThisExpression","start":9426,"end":9430,"loc":{"start":{"line":242,"column":12},"end":{"line":242,"column":16}}},"property":{"type":"Identifier","start":9431,"end":9442,"loc":{"start":{"line":242,"column":17},"end":{"line":242,"column":28}},"name":"writeStream"},"computed":false},"property":{"type":"Identifier","start":9443,"end":9445,"loc":{"start":{"line":242,"column":29},"end":{"line":242,"column":31}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":9446,"end":9454,"loc":{"start":{"line":242,"column":32},"end":{"line":242,"column":40}},"value":"finish","raw":"'finish'"},{"type":"ArrowFunctionExpression","start":9456,"end":10529,"loc":{"start":{"line":242,"column":42},"end":{"line":267,"column":13}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":9462,"end":10529,"loc":{"start":{"line":242,"column":48},"end":{"line":267,"column":13}},"body":[{"type":"ExpressionStatement","start":9480,"end":9505,"loc":{"start":{"line":243,"column":16},"end":{"line":243,"column":41}},"expression":{"type":"AssignmentExpression","start":9480,"end":9504,"loc":{"start":{"line":243,"column":16},"end":{"line":243,"column":40}},"operator":"=","left":{"type":"MemberExpression","start":9480,"end":9497,"loc":{"start":{"line":243,"column":16},"end":{"line":243,"column":33}},"object":{"type":"ThisExpression","start":9480,"end":9484,"loc":{"start":{"line":243,"column":16},"end":{"line":243,"column":20}}},"property":{"type":"Identifier","start":9485,"end":9497,"loc":{"start":{"line":243,"column":21},"end":{"line":243,"column":33}},"name":"streamsEnded"},"computed":false},"right":{"type":"Literal","start":9500,"end":9504,"loc":{"start":{"line":243,"column":36},"end":{"line":243,"column":40}},"value":true,"raw":"true"}}},{"type":"SwitchStatement","start":9522,"end":10515,"loc":{"start":{"line":244,"column":16},"end":{"line":266,"column":17}},"discriminant":{"type":"Identifier","start":9530,"end":9538,"loc":{"start":{"line":244,"column":24},"end":{"line":244,"column":32}},"name":"protocol"},"cases":[{"type":"SwitchCase","start":9562,"end":9749,"loc":{"start":{"line":245,"column":20},"end":{"line":249,"column":30}},"consequent":[{"type":"IfStatement","start":9612,"end":9718,"loc":{"start":{"line":246,"column":24},"end":{"line":248,"column":25}},"test":{"type":"MemberExpression","start":9616,"end":9637,"loc":{"start":{"line":246,"column":28},"end":{"line":246,"column":49}},"object":{"type":"MemberExpression","start":9616,"end":9628,"loc":{"start":{"line":246,"column":28},"end":{"line":246,"column":40}},"object":{"type":"ThisExpression","start":9616,"end":9620,"loc":{"start":{"line":246,"column":28},"end":{"line":246,"column":32}}},"property":{"type":"Identifier","start":9621,"end":9628,"loc":{"start":{"line":246,"column":33},"end":{"line":246,"column":40}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":9629,"end":9637,"loc":{"start":{"line":246,"column":41},"end":{"line":246,"column":49}},"name":"endpoint"},"computed":false},"consequent":{"type":"BlockStatement","start":9639,"end":9718,"loc":{"start":{"line":246,"column":51},"end":{"line":248,"column":25}},"body":[{"type":"ExpressionStatement","start":9669,"end":9692,"loc":{"start":{"line":247,"column":28},"end":{"line":247,"column":51}},"expression":{"type":"CallExpression","start":9669,"end":9691,"loc":{"start":{"line":247,"column":28},"end":{"line":247,"column":50}},"callee":{"type":"MemberExpression","start":9669,"end":9689,"loc":{"start":{"line":247,"column":28},"end":{"line":247,"column":48}},"object":{"type":"ThisExpression","start":9669,"end":9673,"loc":{"start":{"line":247,"column":28},"end":{"line":247,"column":32}}},"property":{"type":"Identifier","start":9674,"end":9689,"loc":{"start":{"line":247,"column":33},"end":{"line":247,"column":48}},"name":"uploadMultipart"},"computed":false},"arguments":[]}}]},"alternate":null},{"type":"BreakStatement","start":9743,"end":9749,"loc":{"start":{"line":249,"column":24},"end":{"line":249,"column":30}},"label":null}],"test":{"type":"MemberExpression","start":9567,"end":9586,"loc":{"start":{"line":245,"column":25},"end":{"line":245,"column":44}},"object":{"type":"Identifier","start":9567,"end":9576,"loc":{"start":{"line":245,"column":25},"end":{"line":245,"column":34}},"name":"PROTOCOLS"},"property":{"type":"Identifier","start":9577,"end":9586,"loc":{"start":{"line":245,"column":35},"end":{"line":245,"column":44}},"name":"multipart"},"computed":false}},{"type":"SwitchCase","start":9770,"end":10133,"loc":{"start":{"line":250,"column":20},"end":{"line":257,"column":30}},"consequent":[{"type":"IfStatement","start":9822,"end":10102,"loc":{"start":{"line":251,"column":24},"end":{"line":256,"column":25}},"test":{"type":"UnaryExpression","start":9826,"end":9840,"loc":{"start":{"line":251,"column":28},"end":{"line":251,"column":42}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":9827,"end":9840,"loc":{"start":{"line":251,"column":29},"end":{"line":251,"column":42}},"object":{"type":"ThisExpression","start":9827,"end":9831,"loc":{"start":{"line":251,"column":29},"end":{"line":251,"column":33}}},"property":{"type":"Identifier","start":9832,"end":9840,"loc":{"start":{"line":251,"column":34},"end":{"line":251,"column":42}},"name":"s3Upload"},"computed":false}},"consequent":{"type":"BlockStatement","start":9842,"end":9923,"loc":{"start":{"line":251,"column":44},"end":{"line":253,"column":25}},"body":[{"type":"ExpressionStatement","start":9872,"end":9897,"loc":{"start":{"line":252,"column":28},"end":{"line":252,"column":53}},"expression":{"type":"CallExpression","start":9872,"end":9896,"loc":{"start":{"line":252,"column":28},"end":{"line":252,"column":52}},"callee":{"type":"MemberExpression","start":9872,"end":9894,"loc":{"start":{"line":252,"column":28},"end":{"line":252,"column":50}},"object":{"type":"ThisExpression","start":9872,"end":9876,"loc":{"start":{"line":252,"column":28},"end":{"line":252,"column":32}}},"property":{"type":"Identifier","start":9877,"end":9894,"loc":{"start":{"line":252,"column":33},"end":{"line":252,"column":50}},"name":"uploadS3Multipart"},"computed":false},"arguments":[]}}]},"alternate":{"type":"BlockStatement","start":9953,"end":10102,"loc":{"start":{"line":254,"column":29},"end":{"line":256,"column":25}},"body":[{"type":"ExpressionStatement","start":9983,"end":10076,"loc":{"start":{"line":255,"column":28},"end":{"line":255,"column":121}},"expression":{"type":"CallExpression","start":9983,"end":10075,"loc":{"start":{"line":255,"column":28},"end":{"line":255,"column":120}},"callee":{"type":"MemberExpression","start":9983,"end":9994,"loc":{"start":{"line":255,"column":28},"end":{"line":255,"column":39}},"object":{"type":"Identifier","start":9983,"end":9989,"loc":{"start":{"line":255,"column":28},"end":{"line":255,"column":34}},"name":"logger"},"property":{"type":"Identifier","start":9990,"end":9994,"loc":{"start":{"line":255,"column":35},"end":{"line":255,"column":39}},"name":"warn"},"computed":false},"arguments":[{"type":"Literal","start":9995,"end":10032,"loc":{"start":{"line":255,"column":40},"end":{"line":255,"column":77}},"value":"handleChunk() called multiple times","raw":"'handleChunk() called multiple times'"},{"type":"Literal","start":10034,"end":10057,"loc":{"start":{"line":255,"column":79},"end":{"line":255,"column":102}},"value":"uploader.s3.duplicate","raw":"'uploader.s3.duplicate'"},{"type":"MemberExpression","start":10059,"end":10074,"loc":{"start":{"line":255,"column":104},"end":{"line":255,"column":119}},"object":{"type":"ThisExpression","start":10059,"end":10063,"loc":{"start":{"line":255,"column":104},"end":{"line":255,"column":108}}},"property":{"type":"Identifier","start":10064,"end":10074,"loc":{"start":{"line":255,"column":109},"end":{"line":255,"column":119}},"name":"shortToken"},"computed":false}]}}]}},{"type":"BreakStatement","start":10127,"end":10133,"loc":{"start":{"line":257,"column":24},"end":{"line":257,"column":30}},"label":null}],"test":{"type":"MemberExpression","start":9775,"end":9796,"loc":{"start":{"line":250,"column":25},"end":{"line":250,"column":46}},"object":{"type":"Identifier","start":9775,"end":9784,"loc":{"start":{"line":250,"column":25},"end":{"line":250,"column":34}},"name":"PROTOCOLS"},"property":{"type":"Identifier","start":9785,"end":9796,"loc":{"start":{"line":250,"column":35},"end":{"line":250,"column":46}},"name":"s3Multipart"},"computed":false}},{"type":"SwitchCase","start":10154,"end":10497,"loc":{"start":{"line":258,"column":20},"end":{"line":265,"column":30}},"consequent":[{"type":"IfStatement","start":10198,"end":10466,"loc":{"start":{"line":259,"column":24},"end":{"line":264,"column":25}},"test":{"type":"UnaryExpression","start":10202,"end":10211,"loc":{"start":{"line":259,"column":28},"end":{"line":259,"column":37}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":10203,"end":10211,"loc":{"start":{"line":259,"column":29},"end":{"line":259,"column":37}},"object":{"type":"ThisExpression","start":10203,"end":10207,"loc":{"start":{"line":259,"column":29},"end":{"line":259,"column":33}}},"property":{"type":"Identifier","start":10208,"end":10211,"loc":{"start":{"line":259,"column":34},"end":{"line":259,"column":37}},"name":"tus"},"computed":false}},"consequent":{"type":"BlockStatement","start":10213,"end":10286,"loc":{"start":{"line":259,"column":39},"end":{"line":261,"column":25}},"body":[{"type":"ExpressionStatement","start":10243,"end":10260,"loc":{"start":{"line":260,"column":28},"end":{"line":260,"column":45}},"expression":{"type":"CallExpression","start":10243,"end":10259,"loc":{"start":{"line":260,"column":28},"end":{"line":260,"column":44}},"callee":{"type":"MemberExpression","start":10243,"end":10257,"loc":{"start":{"line":260,"column":28},"end":{"line":260,"column":42}},"object":{"type":"ThisExpression","start":10243,"end":10247,"loc":{"start":{"line":260,"column":28},"end":{"line":260,"column":32}}},"property":{"type":"Identifier","start":10248,"end":10257,"loc":{"start":{"line":260,"column":33},"end":{"line":260,"column":42}},"name":"uploadTus"},"computed":false},"arguments":[]}}]},"alternate":{"type":"BlockStatement","start":10316,"end":10466,"loc":{"start":{"line":262,"column":29},"end":{"line":264,"column":25}},"body":[{"type":"ExpressionStatement","start":10346,"end":10440,"loc":{"start":{"line":263,"column":28},"end":{"line":263,"column":122}},"expression":{"type":"CallExpression","start":10346,"end":10439,"loc":{"start":{"line":263,"column":28},"end":{"line":263,"column":121}},"callee":{"type":"MemberExpression","start":10346,"end":10357,"loc":{"start":{"line":263,"column":28},"end":{"line":263,"column":39}},"object":{"type":"Identifier","start":10346,"end":10352,"loc":{"start":{"line":263,"column":28},"end":{"line":263,"column":34}},"name":"logger"},"property":{"type":"Identifier","start":10353,"end":10357,"loc":{"start":{"line":263,"column":35},"end":{"line":263,"column":39}},"name":"warn"},"computed":false},"arguments":[{"type":"Literal","start":10358,"end":10395,"loc":{"start":{"line":263,"column":40},"end":{"line":263,"column":77}},"value":"handleChunk() called multiple times","raw":"'handleChunk() called multiple times'"},{"type":"Literal","start":10397,"end":10421,"loc":{"start":{"line":263,"column":79},"end":{"line":263,"column":103}},"value":"uploader.tus.duplicate","raw":"'uploader.tus.duplicate'"},{"type":"MemberExpression","start":10423,"end":10438,"loc":{"start":{"line":263,"column":105},"end":{"line":263,"column":120}},"object":{"type":"ThisExpression","start":10423,"end":10427,"loc":{"start":{"line":263,"column":105},"end":{"line":263,"column":109}}},"property":{"type":"Identifier","start":10428,"end":10438,"loc":{"start":{"line":263,"column":110},"end":{"line":263,"column":120}},"name":"shortToken"},"computed":false}]}}]}},{"type":"BreakStatement","start":10491,"end":10497,"loc":{"start":{"line":265,"column":24},"end":{"line":265,"column":30}},"label":null}],"test":{"type":"MemberExpression","start":10159,"end":10172,"loc":{"start":{"line":258,"column":25},"end":{"line":258,"column":38}},"object":{"type":"Identifier","start":10159,"end":10168,"loc":{"start":{"line":258,"column":25},"end":{"line":258,"column":34}},"name":"PROTOCOLS"},"property":{"type":"Identifier","start":10169,"end":10172,"loc":{"start":{"line":258,"column":35},"end":{"line":258,"column":38}},"name":"tus"},"computed":false}}]}]}}]}},{"type":"ReturnStatement","start":10544,"end":10569,"loc":{"start":{"line":268,"column":12},"end":{"line":268,"column":37}},"argument":{"type":"CallExpression","start":10551,"end":10568,"loc":{"start":{"line":268,"column":19},"end":{"line":268,"column":36}},"callee":{"type":"MemberExpression","start":10551,"end":10566,"loc":{"start":{"line":268,"column":19},"end":{"line":268,"column":34}},"object":{"type":"ThisExpression","start":10551,"end":10555,"loc":{"start":{"line":268,"column":19},"end":{"line":268,"column":23}}},"property":{"type":"Identifier","start":10556,"end":10566,"loc":{"start":{"line":268,"column":24},"end":{"line":268,"column":34}},"name":"endStreams"},"computed":false},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","start":10588,"end":10788,"loc":{"start":{"line":270,"column":8},"end":{"line":273,"column":11}},"expression":{"type":"CallExpression","start":10588,"end":10787,"loc":{"start":{"line":270,"column":8},"end":{"line":273,"column":10}},"callee":{"type":"MemberExpression","start":10588,"end":10610,"loc":{"start":{"line":270,"column":8},"end":{"line":270,"column":30}},"object":{"type":"MemberExpression","start":10588,"end":10604,"loc":{"start":{"line":270,"column":8},"end":{"line":270,"column":24}},"object":{"type":"ThisExpression","start":10588,"end":10592,"loc":{"start":{"line":270,"column":8},"end":{"line":270,"column":12}}},"property":{"type":"Identifier","start":10593,"end":10604,"loc":{"start":{"line":270,"column":13},"end":{"line":270,"column":24}},"name":"writeStream"},"computed":false},"property":{"type":"Identifier","start":10605,"end":10610,"loc":{"start":{"line":270,"column":25},"end":{"line":270,"column":30}},"name":"write"},"computed":false},"arguments":[{"type":"Identifier","start":10611,"end":10616,"loc":{"start":{"line":270,"column":31},"end":{"line":270,"column":36}},"name":"chunk"},{"type":"ArrowFunctionExpression","start":10618,"end":10786,"loc":{"start":{"line":270,"column":38},"end":{"line":273,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":10624,"end":10786,"loc":{"start":{"line":270,"column":44},"end":{"line":273,"column":9}},"body":[{"type":"ExpressionStatement","start":10638,"end":10728,"loc":{"start":{"line":271,"column":12},"end":{"line":271,"column":102}},"expression":{"type":"CallExpression","start":10638,"end":10727,"loc":{"start":{"line":271,"column":12},"end":{"line":271,"column":101}},"callee":{"type":"MemberExpression","start":10638,"end":10650,"loc":{"start":{"line":271,"column":12},"end":{"line":271,"column":24}},"object":{"type":"Identifier","start":10638,"end":10644,"loc":{"start":{"line":271,"column":12},"end":{"line":271,"column":18}},"name":"logger"},"property":{"type":"Identifier","start":10645,"end":10650,"loc":{"start":{"line":271,"column":19},"end":{"line":271,"column":24}},"name":"debug"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":10651,"end":10679,"loc":{"start":{"line":271,"column":25},"end":{"line":271,"column":53}},"expressions":[{"type":"MemberExpression","start":10654,"end":10671,"loc":{"start":{"line":271,"column":28},"end":{"line":271,"column":45}},"object":{"type":"ThisExpression","start":10654,"end":10658,"loc":{"start":{"line":271,"column":28},"end":{"line":271,"column":32}}},"property":{"type":"Identifier","start":10659,"end":10671,"loc":{"start":{"line":271,"column":33},"end":{"line":271,"column":45}},"name":"bytesWritten"},"computed":false}],"quasis":[{"type":"TemplateElement","start":10652,"end":10652,"loc":{"start":{"line":271,"column":26},"end":{"line":271,"column":26}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":10672,"end":10678,"loc":{"start":{"line":271,"column":46},"end":{"line":271,"column":52}},"value":{"raw":" bytes","cooked":" bytes"},"tail":true}]},{"type":"Literal","start":10681,"end":10709,"loc":{"start":{"line":271,"column":55},"end":{"line":271,"column":83}},"value":"uploader.download.progress","raw":"'uploader.download.progress'"},{"type":"MemberExpression","start":10711,"end":10726,"loc":{"start":{"line":271,"column":85},"end":{"line":271,"column":100}},"object":{"type":"ThisExpression","start":10711,"end":10715,"loc":{"start":{"line":271,"column":85},"end":{"line":271,"column":89}}},"property":{"type":"Identifier","start":10716,"end":10726,"loc":{"start":{"line":271,"column":90},"end":{"line":271,"column":100}},"name":"shortToken"},"computed":false}]}},{"type":"ReturnStatement","start":10741,"end":10776,"loc":{"start":{"line":272,"column":12},"end":{"line":272,"column":47}},"argument":{"type":"CallExpression","start":10748,"end":10775,"loc":{"start":{"line":272,"column":19},"end":{"line":272,"column":46}},"callee":{"type":"MemberExpression","start":10748,"end":10773,"loc":{"start":{"line":272,"column":19},"end":{"line":272,"column":44}},"object":{"type":"ThisExpression","start":10748,"end":10752,"loc":{"start":{"line":272,"column":19},"end":{"line":272,"column":23}}},"property":{"type":"Identifier","start":10753,"end":10773,"loc":{"start":{"line":272,"column":24},"end":{"line":272,"column":44}},"name":"emitIllusiveProgress"},"computed":false},"arguments":[]}}]}}]}}]}}},{"type":"MethodDefinition","start":10883,"end":11289,"loc":{"start":{"line":279,"column":4},"end":{"line":292,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":10883,"end":10897,"loc":{"start":{"line":279,"column":4},"end":{"line":279,"column":18}},"name":"writeToStreams"},"value":{"type":"FunctionExpression","start":10897,"end":11289,"loc":{"start":{"line":279,"column":18},"end":{"line":292,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10898,"end":10903,"loc":{"start":{"line":279,"column":19},"end":{"line":279,"column":24}},"name":"chunk"},{"type":"Identifier","start":10905,"end":10907,"loc":{"start":{"line":279,"column":26},"end":{"line":279,"column":28}},"name":"cb"}],"body":{"type":"BlockStatement","start":10909,"end":11289,"loc":{"start":{"line":279,"column":30},"end":{"line":292,"column":5}},"body":[{"type":"VariableDeclaration","start":10919,"end":10935,"loc":{"start":{"line":280,"column":8},"end":{"line":280,"column":24}},"declarations":[{"type":"VariableDeclarator","start":10925,"end":10934,"loc":{"start":{"line":280,"column":14},"end":{"line":280,"column":23}},"id":{"type":"Identifier","start":10925,"end":10929,"loc":{"start":{"line":280,"column":14},"end":{"line":280,"column":18}},"name":"done"},"init":{"type":"ArrayExpression","start":10932,"end":10934,"loc":{"start":{"line":280,"column":21},"end":{"line":280,"column":23}},"elements":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":10944,"end":10989,"loc":{"start":{"line":281,"column":8},"end":{"line":281,"column":53}},"declarations":[{"type":"VariableDeclarator","start":10950,"end":10988,"loc":{"start":{"line":281,"column":14},"end":{"line":281,"column":52}},"id":{"type":"Identifier","start":10950,"end":10960,"loc":{"start":{"line":281,"column":14},"end":{"line":281,"column":24}},"name":"doneLength"},"init":{"type":"ConditionalExpression","start":10963,"end":10988,"loc":{"start":{"line":281,"column":27},"end":{"line":281,"column":52}},"test":{"type":"MemberExpression","start":10963,"end":10980,"loc":{"start":{"line":281,"column":27},"end":{"line":281,"column":44}},"object":{"type":"ThisExpression","start":10963,"end":10967,"loc":{"start":{"line":281,"column":27},"end":{"line":281,"column":31}}},"property":{"type":"Identifier","start":10968,"end":10980,"loc":{"start":{"line":281,"column":32},"end":{"line":281,"column":44}},"name":"duplexStream"},"computed":false},"consequent":{"type":"Literal","start":10983,"end":10984,"loc":{"start":{"line":281,"column":47},"end":{"line":281,"column":48}},"value":2,"raw":"2"},"alternate":{"type":"Literal","start":10987,"end":10988,"loc":{"start":{"line":281,"column":51},"end":{"line":281,"column":52}},"value":1,"raw":"1"}}}],"kind":"const"},{"type":"VariableDeclaration","start":10998,"end":11141,"loc":{"start":{"line":282,"column":8},"end":{"line":287,"column":10}},"declarations":[{"type":"VariableDeclarator","start":11004,"end":11140,"loc":{"start":{"line":282,"column":14},"end":{"line":287,"column":9}},"id":{"type":"Identifier","start":11004,"end":11010,"loc":{"start":{"line":282,"column":14},"end":{"line":282,"column":20}},"name":"onDone"},"init":{"type":"ArrowFunctionExpression","start":11013,"end":11140,"loc":{"start":{"line":282,"column":23},"end":{"line":287,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":11019,"end":11140,"loc":{"start":{"line":282,"column":29},"end":{"line":287,"column":9}},"body":[{"type":"ExpressionStatement","start":11033,"end":11049,"loc":{"start":{"line":283,"column":12},"end":{"line":283,"column":28}},"expression":{"type":"CallExpression","start":11033,"end":11048,"loc":{"start":{"line":283,"column":12},"end":{"line":283,"column":27}},"callee":{"type":"MemberExpression","start":11033,"end":11042,"loc":{"start":{"line":283,"column":12},"end":{"line":283,"column":21}},"object":{"type":"Identifier","start":11033,"end":11037,"loc":{"start":{"line":283,"column":12},"end":{"line":283,"column":16}},"name":"done"},"property":{"type":"Identifier","start":11038,"end":11042,"loc":{"start":{"line":283,"column":17},"end":{"line":283,"column":21}},"name":"push"},"computed":false},"arguments":[{"type":"Literal","start":11043,"end":11047,"loc":{"start":{"line":283,"column":22},"end":{"line":283,"column":26}},"value":true,"raw":"true"}]}},{"type":"IfStatement","start":11062,"end":11130,"loc":{"start":{"line":284,"column":12},"end":{"line":286,"column":13}},"test":{"type":"BinaryExpression","start":11066,"end":11091,"loc":{"start":{"line":284,"column":16},"end":{"line":284,"column":41}},"left":{"type":"MemberExpression","start":11066,"end":11077,"loc":{"start":{"line":284,"column":16},"end":{"line":284,"column":27}},"object":{"type":"Identifier","start":11066,"end":11070,"loc":{"start":{"line":284,"column":16},"end":{"line":284,"column":20}},"name":"done"},"property":{"type":"Identifier","start":11071,"end":11077,"loc":{"start":{"line":284,"column":21},"end":{"line":284,"column":27}},"name":"length"},"computed":false},"operator":">=","right":{"type":"Identifier","start":11081,"end":11091,"loc":{"start":{"line":284,"column":31},"end":{"line":284,"column":41}},"name":"doneLength"}},"consequent":{"type":"BlockStatement","start":11093,"end":11130,"loc":{"start":{"line":284,"column":43},"end":{"line":286,"column":13}},"body":[{"type":"ExpressionStatement","start":11111,"end":11116,"loc":{"start":{"line":285,"column":16},"end":{"line":285,"column":21}},"expression":{"type":"CallExpression","start":11111,"end":11115,"loc":{"start":{"line":285,"column":16},"end":{"line":285,"column":20}},"callee":{"type":"Identifier","start":11111,"end":11113,"loc":{"start":{"line":285,"column":16},"end":{"line":285,"column":18}},"name":"cb"},"arguments":[]}}]},"alternate":null}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":11150,"end":11188,"loc":{"start":{"line":288,"column":8},"end":{"line":288,"column":46}},"expression":{"type":"CallExpression","start":11150,"end":11187,"loc":{"start":{"line":288,"column":8},"end":{"line":288,"column":45}},"callee":{"type":"MemberExpression","start":11150,"end":11172,"loc":{"start":{"line":288,"column":8},"end":{"line":288,"column":30}},"object":{"type":"MemberExpression","start":11150,"end":11166,"loc":{"start":{"line":288,"column":8},"end":{"line":288,"column":24}},"object":{"type":"ThisExpression","start":11150,"end":11154,"loc":{"start":{"line":288,"column":8},"end":{"line":288,"column":12}}},"property":{"type":"Identifier","start":11155,"end":11166,"loc":{"start":{"line":288,"column":13},"end":{"line":288,"column":24}},"name":"writeStream"},"computed":false},"property":{"type":"Identifier","start":11167,"end":11172,"loc":{"start":{"line":288,"column":25},"end":{"line":288,"column":30}},"name":"write"},"computed":false},"arguments":[{"type":"Identifier","start":11173,"end":11178,"loc":{"start":{"line":288,"column":31},"end":{"line":288,"column":36}},"name":"chunk"},{"type":"Identifier","start":11180,"end":11186,"loc":{"start":{"line":288,"column":38},"end":{"line":288,"column":44}},"name":"onDone"}]}},{"type":"IfStatement","start":11197,"end":11283,"loc":{"start":{"line":289,"column":8},"end":{"line":291,"column":9}},"test":{"type":"MemberExpression","start":11201,"end":11218,"loc":{"start":{"line":289,"column":12},"end":{"line":289,"column":29}},"object":{"type":"ThisExpression","start":11201,"end":11205,"loc":{"start":{"line":289,"column":12},"end":{"line":289,"column":16}}},"property":{"type":"Identifier","start":11206,"end":11218,"loc":{"start":{"line":289,"column":17},"end":{"line":289,"column":29}},"name":"duplexStream"},"computed":false},"consequent":{"type":"BlockStatement","start":11220,"end":11283,"loc":{"start":{"line":289,"column":31},"end":{"line":291,"column":9}},"body":[{"type":"ExpressionStatement","start":11234,"end":11273,"loc":{"start":{"line":290,"column":12},"end":{"line":290,"column":51}},"expression":{"type":"CallExpression","start":11234,"end":11272,"loc":{"start":{"line":290,"column":12},"end":{"line":290,"column":50}},"callee":{"type":"MemberExpression","start":11234,"end":11257,"loc":{"start":{"line":290,"column":12},"end":{"line":290,"column":35}},"object":{"type":"MemberExpression","start":11234,"end":11251,"loc":{"start":{"line":290,"column":12},"end":{"line":290,"column":29}},"object":{"type":"ThisExpression","start":11234,"end":11238,"loc":{"start":{"line":290,"column":12},"end":{"line":290,"column":16}}},"property":{"type":"Identifier","start":11239,"end":11251,"loc":{"start":{"line":290,"column":17},"end":{"line":290,"column":29}},"name":"duplexStream"},"computed":false},"property":{"type":"Identifier","start":11252,"end":11257,"loc":{"start":{"line":290,"column":30},"end":{"line":290,"column":35}},"name":"write"},"computed":false},"arguments":[{"type":"Identifier","start":11258,"end":11263,"loc":{"start":{"line":290,"column":36},"end":{"line":290,"column":41}},"name":"chunk"},{"type":"Identifier","start":11265,"end":11271,"loc":{"start":{"line":290,"column":43},"end":{"line":290,"column":49}},"name":"onDone"}]}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":11294,"end":11426,"loc":{"start":{"line":293,"column":4},"end":{"line":298,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":11294,"end":11304,"loc":{"start":{"line":293,"column":4},"end":{"line":293,"column":14}},"name":"endStreams"},"value":{"type":"FunctionExpression","start":11304,"end":11426,"loc":{"start":{"line":293,"column":14},"end":{"line":298,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":11307,"end":11426,"loc":{"start":{"line":293,"column":17},"end":{"line":298,"column":5}},"body":[{"type":"ExpressionStatement","start":11317,"end":11340,"loc":{"start":{"line":294,"column":8},"end":{"line":294,"column":31}},"expression":{"type":"CallExpression","start":11317,"end":11339,"loc":{"start":{"line":294,"column":8},"end":{"line":294,"column":30}},"callee":{"type":"MemberExpression","start":11317,"end":11337,"loc":{"start":{"line":294,"column":8},"end":{"line":294,"column":28}},"object":{"type":"MemberExpression","start":11317,"end":11333,"loc":{"start":{"line":294,"column":8},"end":{"line":294,"column":24}},"object":{"type":"ThisExpression","start":11317,"end":11321,"loc":{"start":{"line":294,"column":8},"end":{"line":294,"column":12}}},"property":{"type":"Identifier","start":11322,"end":11333,"loc":{"start":{"line":294,"column":13},"end":{"line":294,"column":24}},"name":"writeStream"},"computed":false},"property":{"type":"Identifier","start":11334,"end":11337,"loc":{"start":{"line":294,"column":25},"end":{"line":294,"column":28}},"name":"end"},"computed":false},"arguments":[]}},{"type":"IfStatement","start":11349,"end":11420,"loc":{"start":{"line":295,"column":8},"end":{"line":297,"column":9}},"test":{"type":"MemberExpression","start":11353,"end":11370,"loc":{"start":{"line":295,"column":12},"end":{"line":295,"column":29}},"object":{"type":"ThisExpression","start":11353,"end":11357,"loc":{"start":{"line":295,"column":12},"end":{"line":295,"column":16}}},"property":{"type":"Identifier","start":11358,"end":11370,"loc":{"start":{"line":295,"column":17},"end":{"line":295,"column":29}},"name":"duplexStream"},"computed":false},"consequent":{"type":"BlockStatement","start":11372,"end":11420,"loc":{"start":{"line":295,"column":31},"end":{"line":297,"column":9}},"body":[{"type":"ExpressionStatement","start":11386,"end":11410,"loc":{"start":{"line":296,"column":12},"end":{"line":296,"column":36}},"expression":{"type":"CallExpression","start":11386,"end":11409,"loc":{"start":{"line":296,"column":12},"end":{"line":296,"column":35}},"callee":{"type":"MemberExpression","start":11386,"end":11407,"loc":{"start":{"line":296,"column":12},"end":{"line":296,"column":33}},"object":{"type":"MemberExpression","start":11386,"end":11403,"loc":{"start":{"line":296,"column":12},"end":{"line":296,"column":29}},"object":{"type":"ThisExpression","start":11386,"end":11390,"loc":{"start":{"line":296,"column":12},"end":{"line":296,"column":16}}},"property":{"type":"Identifier","start":11391,"end":11403,"loc":{"start":{"line":296,"column":17},"end":{"line":296,"column":29}},"name":"duplexStream"},"computed":false},"property":{"type":"Identifier","start":11404,"end":11407,"loc":{"start":{"line":296,"column":30},"end":{"line":296,"column":33}},"name":"end"},"computed":false},"arguments":[]}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":11431,"end":11636,"loc":{"start":{"line":299,"column":4},"end":{"line":304,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":11431,"end":11442,"loc":{"start":{"line":299,"column":4},"end":{"line":299,"column":15}},"name":"getResponse"},"value":{"type":"FunctionExpression","start":11442,"end":11636,"loc":{"start":{"line":299,"column":15},"end":{"line":304,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":11445,"end":11636,"loc":{"start":{"line":299,"column":18},"end":{"line":304,"column":5}},"body":[{"type":"IfStatement","start":11455,"end":11569,"loc":{"start":{"line":300,"column":8},"end":{"line":302,"column":9}},"test":{"type":"MemberExpression","start":11459,"end":11479,"loc":{"start":{"line":300,"column":12},"end":{"line":300,"column":32}},"object":{"type":"ThisExpression","start":11459,"end":11463,"loc":{"start":{"line":300,"column":12},"end":{"line":300,"column":16}}},"property":{"type":"Identifier","start":11464,"end":11479,"loc":{"start":{"line":300,"column":17},"end":{"line":300,"column":32}},"name":"_errRespMessage"},"computed":false},"consequent":{"type":"BlockStatement","start":11481,"end":11569,"loc":{"start":{"line":300,"column":34},"end":{"line":302,"column":9}},"body":[{"type":"ReturnStatement","start":11495,"end":11559,"loc":{"start":{"line":301,"column":12},"end":{"line":301,"column":76}},"argument":{"type":"ObjectExpression","start":11502,"end":11558,"loc":{"start":{"line":301,"column":19},"end":{"line":301,"column":75}},"properties":[{"type":"Property","start":11504,"end":11543,"loc":{"start":{"line":301,"column":21},"end":{"line":301,"column":60}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11504,"end":11508,"loc":{"start":{"line":301,"column":21},"end":{"line":301,"column":25}},"name":"body"},"value":{"type":"ObjectExpression","start":11510,"end":11543,"loc":{"start":{"line":301,"column":27},"end":{"line":301,"column":60}},"properties":[{"type":"Property","start":11512,"end":11541,"loc":{"start":{"line":301,"column":29},"end":{"line":301,"column":58}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11512,"end":11519,"loc":{"start":{"line":301,"column":29},"end":{"line":301,"column":36}},"name":"message"},"value":{"type":"MemberExpression","start":11521,"end":11541,"loc":{"start":{"line":301,"column":38},"end":{"line":301,"column":58}},"object":{"type":"ThisExpression","start":11521,"end":11525,"loc":{"start":{"line":301,"column":38},"end":{"line":301,"column":42}}},"property":{"type":"Identifier","start":11526,"end":11541,"loc":{"start":{"line":301,"column":43},"end":{"line":301,"column":58}},"name":"_errRespMessage"},"computed":false},"kind":"init"}]},"kind":"init"},{"type":"Property","start":11545,"end":11556,"loc":{"start":{"line":301,"column":62},"end":{"line":301,"column":73}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11545,"end":11551,"loc":{"start":{"line":301,"column":62},"end":{"line":301,"column":68}},"name":"status"},"value":{"type":"Literal","start":11553,"end":11556,"loc":{"start":{"line":301,"column":70},"end":{"line":301,"column":73}},"value":400,"raw":"400"},"kind":"init"}]}}]},"alternate":null},{"type":"ReturnStatement","start":11578,"end":11630,"loc":{"start":{"line":303,"column":8},"end":{"line":303,"column":60}},"argument":{"type":"ObjectExpression","start":11585,"end":11629,"loc":{"start":{"line":303,"column":15},"end":{"line":303,"column":59}},"properties":[{"type":"Property","start":11587,"end":11614,"loc":{"start":{"line":303,"column":17},"end":{"line":303,"column":44}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11587,"end":11591,"loc":{"start":{"line":303,"column":17},"end":{"line":303,"column":21}},"name":"body"},"value":{"type":"ObjectExpression","start":11593,"end":11614,"loc":{"start":{"line":303,"column":23},"end":{"line":303,"column":44}},"properties":[{"type":"Property","start":11595,"end":11612,"loc":{"start":{"line":303,"column":25},"end":{"line":303,"column":42}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11595,"end":11600,"loc":{"start":{"line":303,"column":25},"end":{"line":303,"column":30}},"name":"token"},"value":{"type":"MemberExpression","start":11602,"end":11612,"loc":{"start":{"line":303,"column":32},"end":{"line":303,"column":42}},"object":{"type":"ThisExpression","start":11602,"end":11606,"loc":{"start":{"line":303,"column":32},"end":{"line":303,"column":36}}},"property":{"type":"Identifier","start":11607,"end":11612,"loc":{"start":{"line":303,"column":37},"end":{"line":303,"column":42}},"name":"token"},"computed":false},"kind":"init"}]},"kind":"init"},{"type":"Property","start":11616,"end":11627,"loc":{"start":{"line":303,"column":46},"end":{"line":303,"column":57}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11616,"end":11622,"loc":{"start":{"line":303,"column":46},"end":{"line":303,"column":52}},"name":"status"},"value":{"type":"Literal","start":11624,"end":11627,"loc":{"start":{"line":303,"column":54},"end":{"line":303,"column":57}},"value":200,"raw":"200"},"kind":"init"}]}}]}}},{"type":"MethodDefinition","start":11743,"end":11906,"loc":{"start":{"line":309,"column":4},"end":{"line":313,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":11743,"end":11752,"loc":{"start":{"line":309,"column":4},"end":{"line":309,"column":13}},"name":"saveState"},"value":{"type":"FunctionExpression","start":11752,"end":11906,"loc":{"start":{"line":309,"column":13},"end":{"line":313,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11753,"end":11758,"loc":{"start":{"line":309,"column":14},"end":{"line":309,"column":19}},"name":"state"}],"body":{"type":"BlockStatement","start":11760,"end":11906,"loc":{"start":{"line":309,"column":21},"end":{"line":313,"column":5}},"body":[{"type":"IfStatement","start":11770,"end":11808,"loc":{"start":{"line":310,"column":8},"end":{"line":311,"column":19}},"test":{"type":"UnaryExpression","start":11774,"end":11787,"loc":{"start":{"line":310,"column":12},"end":{"line":310,"column":25}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":11775,"end":11787,"loc":{"start":{"line":310,"column":13},"end":{"line":310,"column":25}},"object":{"type":"ThisExpression","start":11775,"end":11779,"loc":{"start":{"line":310,"column":13},"end":{"line":310,"column":17}}},"property":{"type":"Identifier","start":11780,"end":11787,"loc":{"start":{"line":310,"column":18},"end":{"line":310,"column":25}},"name":"storage"},"computed":false}},"consequent":{"type":"ReturnStatement","start":11801,"end":11808,"loc":{"start":{"line":311,"column":12},"end":{"line":311,"column":19}},"argument":null},"alternate":null},{"type":"ExpressionStatement","start":11817,"end":11900,"loc":{"start":{"line":312,"column":8},"end":{"line":312,"column":91}},"expression":{"type":"CallExpression","start":11817,"end":11899,"loc":{"start":{"line":312,"column":8},"end":{"line":312,"column":90}},"callee":{"type":"MemberExpression","start":11817,"end":11833,"loc":{"start":{"line":312,"column":8},"end":{"line":312,"column":24}},"object":{"type":"MemberExpression","start":11817,"end":11829,"loc":{"start":{"line":312,"column":8},"end":{"line":312,"column":20}},"object":{"type":"ThisExpression","start":11817,"end":11821,"loc":{"start":{"line":312,"column":8},"end":{"line":312,"column":12}}},"property":{"type":"Identifier","start":11822,"end":11829,"loc":{"start":{"line":312,"column":13},"end":{"line":312,"column":20}},"name":"storage"},"computed":false},"property":{"type":"Identifier","start":11830,"end":11833,"loc":{"start":{"line":312,"column":21},"end":{"line":312,"column":24}},"name":"set"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":11834,"end":11876,"loc":{"start":{"line":312,"column":25},"end":{"line":312,"column":67}},"expressions":[{"type":"MemberExpression","start":11837,"end":11860,"loc":{"start":{"line":312,"column":28},"end":{"line":312,"column":51}},"object":{"type":"Identifier","start":11837,"end":11845,"loc":{"start":{"line":312,"column":28},"end":{"line":312,"column":36}},"name":"Uploader"},"property":{"type":"Identifier","start":11846,"end":11860,"loc":{"start":{"line":312,"column":37},"end":{"line":312,"column":51}},"name":"STORAGE_PREFIX"},"computed":false},{"type":"MemberExpression","start":11864,"end":11874,"loc":{"start":{"line":312,"column":55},"end":{"line":312,"column":65}},"object":{"type":"ThisExpression","start":11864,"end":11868,"loc":{"start":{"line":312,"column":55},"end":{"line":312,"column":59}}},"property":{"type":"Identifier","start":11869,"end":11874,"loc":{"start":{"line":312,"column":60},"end":{"line":312,"column":65}},"name":"token"},"computed":false}],"quasis":[{"type":"TemplateElement","start":11835,"end":11835,"loc":{"start":{"line":312,"column":26},"end":{"line":312,"column":26}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":11861,"end":11862,"loc":{"start":{"line":312,"column":52},"end":{"line":312,"column":53}},"value":{"raw":":","cooked":":"},"tail":false},{"type":"TemplateElement","start":11875,"end":11875,"loc":{"start":{"line":312,"column":66},"end":{"line":312,"column":66}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"CallExpression","start":11878,"end":11898,"loc":{"start":{"line":312,"column":69},"end":{"line":312,"column":89}},"callee":{"type":"Identifier","start":11878,"end":11891,"loc":{"start":{"line":312,"column":69},"end":{"line":312,"column":82}},"name":"jsonStringify"},"arguments":[{"type":"Identifier","start":11892,"end":11897,"loc":{"start":{"line":312,"column":83},"end":{"line":312,"column":88}},"name":"state"}]}]}}]}}},{"type":"MethodDefinition","start":12253,"end":12994,"loc":{"start":{"line":321,"column":4},"end":{"line":334,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":12253,"end":12273,"loc":{"start":{"line":321,"column":4},"end":{"line":321,"column":24}},"name":"emitIllusiveProgress"},"value":{"type":"FunctionExpression","start":12273,"end":12994,"loc":{"start":{"line":321,"column":24},"end":{"line":334,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":12274,"end":12291,"loc":{"start":{"line":321,"column":25},"end":{"line":321,"column":42}},"left":{"type":"Identifier","start":12274,"end":12287,"loc":{"start":{"line":321,"column":25},"end":{"line":321,"column":38}},"name":"bytesUploaded"},"right":{"type":"Literal","start":12290,"end":12291,"loc":{"start":{"line":321,"column":41},"end":{"line":321,"column":42}},"value":0,"raw":"0"}}],"body":{"type":"BlockStatement","start":12293,"end":12994,"loc":{"start":{"line":321,"column":44},"end":{"line":334,"column":5}},"body":[{"type":"IfStatement","start":12303,"end":12352,"loc":{"start":{"line":322,"column":8},"end":{"line":324,"column":9}},"test":{"type":"MemberExpression","start":12307,"end":12319,"loc":{"start":{"line":322,"column":12},"end":{"line":322,"column":24}},"object":{"type":"ThisExpression","start":12307,"end":12311,"loc":{"start":{"line":322,"column":12},"end":{"line":322,"column":16}}},"property":{"type":"Identifier","start":12312,"end":12319,"loc":{"start":{"line":322,"column":17},"end":{"line":322,"column":24}},"name":"_paused"},"computed":false},"consequent":{"type":"BlockStatement","start":12321,"end":12352,"loc":{"start":{"line":322,"column":26},"end":{"line":324,"column":9}},"body":[{"type":"ReturnStatement","start":12335,"end":12342,"loc":{"start":{"line":323,"column":12},"end":{"line":323,"column":19}},"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":12361,"end":12436,"loc":{"start":{"line":325,"column":8},"end":{"line":325,"column":83}},"declarations":[{"type":"VariableDeclarator","start":12365,"end":12435,"loc":{"start":{"line":325,"column":12},"end":{"line":325,"column":82}},"id":{"type":"Identifier","start":12365,"end":12375,"loc":{"start":{"line":325,"column":12},"end":{"line":325,"column":22}},"name":"bytesTotal"},"init":{"type":"ConditionalExpression","start":12378,"end":12435,"loc":{"start":{"line":325,"column":25},"end":{"line":325,"column":82}},"test":{"type":"MemberExpression","start":12378,"end":12395,"loc":{"start":{"line":325,"column":25},"end":{"line":325,"column":42}},"object":{"type":"ThisExpression","start":12378,"end":12382,"loc":{"start":{"line":325,"column":25},"end":{"line":325,"column":29}}},"property":{"type":"Identifier","start":12383,"end":12395,"loc":{"start":{"line":325,"column":30},"end":{"line":325,"column":42}},"name":"streamsEnded"},"computed":false},"consequent":{"type":"MemberExpression","start":12398,"end":12415,"loc":{"start":{"line":325,"column":45},"end":{"line":325,"column":62}},"object":{"type":"ThisExpression","start":12398,"end":12402,"loc":{"start":{"line":325,"column":45},"end":{"line":325,"column":49}}},"property":{"type":"Identifier","start":12403,"end":12415,"loc":{"start":{"line":325,"column":50},"end":{"line":325,"column":62}},"name":"bytesWritten"},"computed":false},"alternate":{"type":"MemberExpression","start":12418,"end":12435,"loc":{"start":{"line":325,"column":65},"end":{"line":325,"column":82}},"object":{"type":"MemberExpression","start":12418,"end":12430,"loc":{"start":{"line":325,"column":65},"end":{"line":325,"column":77}},"object":{"type":"ThisExpression","start":12418,"end":12422,"loc":{"start":{"line":325,"column":65},"end":{"line":325,"column":69}}},"property":{"type":"Identifier","start":12423,"end":12430,"loc":{"start":{"line":325,"column":70},"end":{"line":325,"column":77}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":12431,"end":12435,"loc":{"start":{"line":325,"column":78},"end":{"line":325,"column":82}},"name":"size"},"computed":false}}}],"kind":"let"},{"type":"IfStatement","start":12445,"end":12546,"loc":{"start":{"line":326,"column":8},"end":{"line":328,"column":9}},"test":{"type":"UnaryExpression","start":12449,"end":12467,"loc":{"start":{"line":326,"column":12},"end":{"line":326,"column":30}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":12450,"end":12467,"loc":{"start":{"line":326,"column":13},"end":{"line":326,"column":30}},"object":{"type":"ThisExpression","start":12450,"end":12454,"loc":{"start":{"line":326,"column":13},"end":{"line":326,"column":17}}},"property":{"type":"Identifier","start":12455,"end":12467,"loc":{"start":{"line":326,"column":18},"end":{"line":326,"column":30}},"name":"streamsEnded"},"computed":false}},"consequent":{"type":"BlockStatement","start":12469,"end":12546,"loc":{"start":{"line":326,"column":32},"end":{"line":328,"column":9}},"body":[{"type":"ExpressionStatement","start":12483,"end":12536,"loc":{"start":{"line":327,"column":12},"end":{"line":327,"column":65}},"expression":{"type":"AssignmentExpression","start":12483,"end":12535,"loc":{"start":{"line":327,"column":12},"end":{"line":327,"column":64}},"operator":"=","left":{"type":"Identifier","start":12483,"end":12493,"loc":{"start":{"line":327,"column":12},"end":{"line":327,"column":22}},"name":"bytesTotal"},"right":{"type":"CallExpression","start":12496,"end":12535,"loc":{"start":{"line":327,"column":25},"end":{"line":327,"column":64}},"callee":{"type":"MemberExpression","start":12496,"end":12504,"loc":{"start":{"line":327,"column":25},"end":{"line":327,"column":33}},"object":{"type":"Identifier","start":12496,"end":12500,"loc":{"start":{"line":327,"column":25},"end":{"line":327,"column":29}},"name":"Math"},"property":{"type":"Identifier","start":12501,"end":12504,"loc":{"start":{"line":327,"column":30},"end":{"line":327,"column":33}},"name":"max"},"computed":false},"arguments":[{"type":"Identifier","start":12505,"end":12515,"loc":{"start":{"line":327,"column":34},"end":{"line":327,"column":44}},"name":"bytesTotal"},{"type":"MemberExpression","start":12517,"end":12534,"loc":{"start":{"line":327,"column":46},"end":{"line":327,"column":63}},"object":{"type":"ThisExpression","start":12517,"end":12521,"loc":{"start":{"line":327,"column":46},"end":{"line":327,"column":50}}},"property":{"type":"Identifier","start":12522,"end":12534,"loc":{"start":{"line":327,"column":51},"end":{"line":327,"column":63}},"name":"bytesWritten"},"computed":false}]}}}]},"alternate":null},{"type":"VariableDeclaration","start":12722,"end":12798,"loc":{"start":{"line":331,"column":8},"end":{"line":331,"column":84}},"declarations":[{"type":"VariableDeclarator","start":12728,"end":12797,"loc":{"start":{"line":331,"column":14},"end":{"line":331,"column":83}},"id":{"type":"Identifier","start":12728,"end":12749,"loc":{"start":{"line":331,"column":14},"end":{"line":331,"column":35}},"name":"illusiveBytesUploaded"},"init":{"type":"BinaryExpression","start":12752,"end":12797,"loc":{"start":{"line":331,"column":38},"end":{"line":331,"column":83}},"left":{"type":"BinaryExpression","start":12753,"end":12774,"loc":{"start":{"line":331,"column":39},"end":{"line":331,"column":60}},"left":{"type":"MemberExpression","start":12753,"end":12770,"loc":{"start":{"line":331,"column":39},"end":{"line":331,"column":56}},"object":{"type":"ThisExpression","start":12753,"end":12757,"loc":{"start":{"line":331,"column":39},"end":{"line":331,"column":43}}},"property":{"type":"Identifier","start":12758,"end":12770,"loc":{"start":{"line":331,"column":44},"end":{"line":331,"column":56}},"name":"bytesWritten"},"computed":false},"operator":"/","right":{"type":"Literal","start":12773,"end":12774,"loc":{"start":{"line":331,"column":59},"end":{"line":331,"column":60}},"value":2,"raw":"2"}},"operator":"+","right":{"type":"BinaryExpression","start":12779,"end":12796,"loc":{"start":{"line":331,"column":65},"end":{"line":331,"column":82}},"left":{"type":"Identifier","start":12779,"end":12792,"loc":{"start":{"line":331,"column":65},"end":{"line":331,"column":78}},"name":"bytesUploaded"},"operator":"/","right":{"type":"Literal","start":12795,"end":12796,"loc":{"start":{"line":331,"column":81},"end":{"line":331,"column":82}},"value":2,"raw":"2"}}}}],"kind":"const"},{"type":"ExpressionStatement","start":12807,"end":12926,"loc":{"start":{"line":332,"column":8},"end":{"line":332,"column":127}},"expression":{"type":"CallExpression","start":12807,"end":12925,"loc":{"start":{"line":332,"column":8},"end":{"line":332,"column":126}},"callee":{"type":"MemberExpression","start":12807,"end":12819,"loc":{"start":{"line":332,"column":8},"end":{"line":332,"column":20}},"object":{"type":"Identifier","start":12807,"end":12813,"loc":{"start":{"line":332,"column":8},"end":{"line":332,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":12814,"end":12819,"loc":{"start":{"line":332,"column":15},"end":{"line":332,"column":20}},"name":"debug"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":12820,"end":12877,"loc":{"start":{"line":332,"column":21},"end":{"line":332,"column":78}},"expressions":[{"type":"Identifier","start":12823,"end":12836,"loc":{"start":{"line":332,"column":24},"end":{"line":332,"column":37}},"name":"bytesUploaded"},{"type":"Identifier","start":12840,"end":12861,"loc":{"start":{"line":332,"column":41},"end":{"line":332,"column":62}},"name":"illusiveBytesUploaded"},{"type":"Identifier","start":12865,"end":12875,"loc":{"start":{"line":332,"column":66},"end":{"line":332,"column":76}},"name":"bytesTotal"}],"quasis":[{"type":"TemplateElement","start":12821,"end":12821,"loc":{"start":{"line":332,"column":22},"end":{"line":332,"column":22}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":12837,"end":12838,"loc":{"start":{"line":332,"column":38},"end":{"line":332,"column":39}},"value":{"raw":" ","cooked":" "},"tail":false},{"type":"TemplateElement","start":12862,"end":12863,"loc":{"start":{"line":332,"column":63},"end":{"line":332,"column":64}},"value":{"raw":" ","cooked":" "},"tail":false},{"type":"TemplateElement","start":12876,"end":12876,"loc":{"start":{"line":332,"column":77},"end":{"line":332,"column":77}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"Literal","start":12879,"end":12907,"loc":{"start":{"line":332,"column":80},"end":{"line":332,"column":108}},"value":"uploader.illusive.progress","raw":"'uploader.illusive.progress'"},{"type":"MemberExpression","start":12909,"end":12924,"loc":{"start":{"line":332,"column":110},"end":{"line":332,"column":125}},"object":{"type":"ThisExpression","start":12909,"end":12913,"loc":{"start":{"line":332,"column":110},"end":{"line":332,"column":114}}},"property":{"type":"Identifier","start":12914,"end":12924,"loc":{"start":{"line":332,"column":115},"end":{"line":332,"column":125}},"name":"shortToken"},"computed":false}]}},{"type":"ExpressionStatement","start":12935,"end":12988,"loc":{"start":{"line":333,"column":8},"end":{"line":333,"column":61}},"expression":{"type":"CallExpression","start":12935,"end":12987,"loc":{"start":{"line":333,"column":8},"end":{"line":333,"column":60}},"callee":{"type":"MemberExpression","start":12935,"end":12952,"loc":{"start":{"line":333,"column":8},"end":{"line":333,"column":25}},"object":{"type":"ThisExpression","start":12935,"end":12939,"loc":{"start":{"line":333,"column":8},"end":{"line":333,"column":12}}},"property":{"type":"Identifier","start":12940,"end":12952,"loc":{"start":{"line":333,"column":13},"end":{"line":333,"column":25}},"name":"emitProgress"},"computed":false},"arguments":[{"type":"Identifier","start":12953,"end":12974,"loc":{"start":{"line":333,"column":26},"end":{"line":333,"column":47}},"name":"illusiveBytesUploaded"},{"type":"Identifier","start":12976,"end":12986,"loc":{"start":{"line":333,"column":49},"end":{"line":333,"column":59}},"name":"bytesTotal"}]}}]}}},{"type":"MethodDefinition","start":13100,"end":14060,"loc":{"start":{"line":340,"column":4},"end":{"line":359,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":13100,"end":13112,"loc":{"start":{"line":340,"column":4},"end":{"line":340,"column":16}},"name":"emitProgress"},"value":{"type":"FunctionExpression","start":13112,"end":14060,"loc":{"start":{"line":340,"column":16},"end":{"line":359,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":13113,"end":13126,"loc":{"start":{"line":340,"column":17},"end":{"line":340,"column":30}},"name":"bytesUploaded"},{"type":"Identifier","start":13128,"end":13138,"loc":{"start":{"line":340,"column":32},"end":{"line":340,"column":42}},"name":"bytesTotal"}],"body":{"type":"BlockStatement","start":13140,"end":14060,"loc":{"start":{"line":340,"column":44},"end":{"line":359,"column":5}},"body":[{"type":"ExpressionStatement","start":13150,"end":13195,"loc":{"start":{"line":341,"column":8},"end":{"line":341,"column":53}},"expression":{"type":"AssignmentExpression","start":13150,"end":13194,"loc":{"start":{"line":341,"column":8},"end":{"line":341,"column":52}},"operator":"=","left":{"type":"Identifier","start":13150,"end":13160,"loc":{"start":{"line":341,"column":8},"end":{"line":341,"column":18}},"name":"bytesTotal"},"right":{"type":"LogicalExpression","start":13163,"end":13194,"loc":{"start":{"line":341,"column":21},"end":{"line":341,"column":52}},"left":{"type":"Identifier","start":13163,"end":13173,"loc":{"start":{"line":341,"column":21},"end":{"line":341,"column":31}},"name":"bytesTotal"},"operator":"||","right":{"type":"MemberExpression","start":13177,"end":13194,"loc":{"start":{"line":341,"column":35},"end":{"line":341,"column":52}},"object":{"type":"MemberExpression","start":13177,"end":13189,"loc":{"start":{"line":341,"column":35},"end":{"line":341,"column":47}},"object":{"type":"ThisExpression","start":13177,"end":13181,"loc":{"start":{"line":341,"column":35},"end":{"line":341,"column":39}}},"property":{"type":"Identifier","start":13182,"end":13189,"loc":{"start":{"line":341,"column":40},"end":{"line":341,"column":47}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":13190,"end":13194,"loc":{"start":{"line":341,"column":48},"end":{"line":341,"column":52}},"name":"size"},"computed":false}}}},{"type":"IfStatement","start":13204,"end":13335,"loc":{"start":{"line":342,"column":8},"end":{"line":344,"column":9}},"test":{"type":"LogicalExpression","start":13208,"end":13278,"loc":{"start":{"line":342,"column":12},"end":{"line":342,"column":82}},"left":{"type":"LogicalExpression","start":13208,"end":13257,"loc":{"start":{"line":342,"column":12},"end":{"line":342,"column":61}},"left":{"type":"MemberExpression","start":13208,"end":13216,"loc":{"start":{"line":342,"column":12},"end":{"line":342,"column":20}},"object":{"type":"ThisExpression","start":13208,"end":13212,"loc":{"start":{"line":342,"column":12},"end":{"line":342,"column":16}}},"property":{"type":"Identifier","start":13213,"end":13216,"loc":{"start":{"line":342,"column":17},"end":{"line":342,"column":20}},"name":"tus"},"computed":false},"operator":"&&","right":{"type":"MemberExpression","start":13220,"end":13257,"loc":{"start":{"line":342,"column":24},"end":{"line":342,"column":61}},"object":{"type":"MemberExpression","start":13220,"end":13236,"loc":{"start":{"line":342,"column":24},"end":{"line":342,"column":40}},"object":{"type":"MemberExpression","start":13220,"end":13228,"loc":{"start":{"line":342,"column":24},"end":{"line":342,"column":32}},"object":{"type":"ThisExpression","start":13220,"end":13224,"loc":{"start":{"line":342,"column":24},"end":{"line":342,"column":28}}},"property":{"type":"Identifier","start":13225,"end":13228,"loc":{"start":{"line":342,"column":29},"end":{"line":342,"column":32}},"name":"tus"},"computed":false},"property":{"type":"Identifier","start":13229,"end":13236,"loc":{"start":{"line":342,"column":33},"end":{"line":342,"column":40}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":13237,"end":13257,"loc":{"start":{"line":342,"column":41},"end":{"line":342,"column":61}},"name":"uploadLengthDeferred"},"computed":false}},"operator":"&&","right":{"type":"MemberExpression","start":13261,"end":13278,"loc":{"start":{"line":342,"column":65},"end":{"line":342,"column":82}},"object":{"type":"ThisExpression","start":13261,"end":13265,"loc":{"start":{"line":342,"column":65},"end":{"line":342,"column":69}}},"property":{"type":"Identifier","start":13266,"end":13278,"loc":{"start":{"line":342,"column":70},"end":{"line":342,"column":82}},"name":"streamsEnded"},"computed":false}},"consequent":{"type":"BlockStatement","start":13280,"end":13335,"loc":{"start":{"line":342,"column":84},"end":{"line":344,"column":9}},"body":[{"type":"ExpressionStatement","start":13294,"end":13325,"loc":{"start":{"line":343,"column":12},"end":{"line":343,"column":43}},"expression":{"type":"AssignmentExpression","start":13294,"end":13324,"loc":{"start":{"line":343,"column":12},"end":{"line":343,"column":42}},"operator":"=","left":{"type":"Identifier","start":13294,"end":13304,"loc":{"start":{"line":343,"column":12},"end":{"line":343,"column":22}},"name":"bytesTotal"},"right":{"type":"MemberExpression","start":13307,"end":13324,"loc":{"start":{"line":343,"column":25},"end":{"line":343,"column":42}},"object":{"type":"ThisExpression","start":13307,"end":13311,"loc":{"start":{"line":343,"column":25},"end":{"line":343,"column":29}}},"property":{"type":"Identifier","start":13312,"end":13324,"loc":{"start":{"line":343,"column":30},"end":{"line":343,"column":42}},"name":"bytesWritten"},"computed":false}}}]},"alternate":null},{"type":"VariableDeclaration","start":13344,"end":13398,"loc":{"start":{"line":345,"column":8},"end":{"line":345,"column":62}},"declarations":[{"type":"VariableDeclarator","start":13350,"end":13397,"loc":{"start":{"line":345,"column":14},"end":{"line":345,"column":61}},"id":{"type":"Identifier","start":13350,"end":13360,"loc":{"start":{"line":345,"column":14},"end":{"line":345,"column":24}},"name":"percentage"},"init":{"type":"BinaryExpression","start":13364,"end":13396,"loc":{"start":{"line":345,"column":28},"end":{"line":345,"column":60}},"left":{"type":"BinaryExpression","start":13364,"end":13390,"loc":{"start":{"line":345,"column":28},"end":{"line":345,"column":54}},"left":{"type":"Identifier","start":13364,"end":13377,"loc":{"start":{"line":345,"column":28},"end":{"line":345,"column":41}},"name":"bytesUploaded"},"operator":"/","right":{"type":"Identifier","start":13380,"end":13390,"loc":{"start":{"line":345,"column":44},"end":{"line":345,"column":54}},"name":"bytesTotal"}},"operator":"*","right":{"type":"Literal","start":13393,"end":13396,"loc":{"start":{"line":345,"column":57},"end":{"line":345,"column":60}},"value":100,"raw":"100"}}}],"kind":"const"},{"type":"VariableDeclaration","start":13407,"end":13454,"loc":{"start":{"line":346,"column":8},"end":{"line":346,"column":55}},"declarations":[{"type":"VariableDeclarator","start":13413,"end":13453,"loc":{"start":{"line":346,"column":14},"end":{"line":346,"column":54}},"id":{"type":"Identifier","start":13413,"end":13429,"loc":{"start":{"line":346,"column":14},"end":{"line":346,"column":30}},"name":"formatPercentage"},"init":{"type":"CallExpression","start":13432,"end":13453,"loc":{"start":{"line":346,"column":33},"end":{"line":346,"column":54}},"callee":{"type":"MemberExpression","start":13432,"end":13450,"loc":{"start":{"line":346,"column":33},"end":{"line":346,"column":51}},"object":{"type":"Identifier","start":13432,"end":13442,"loc":{"start":{"line":346,"column":33},"end":{"line":346,"column":43}},"name":"percentage"},"property":{"type":"Identifier","start":13443,"end":13450,"loc":{"start":{"line":346,"column":44},"end":{"line":346,"column":51}},"name":"toFixed"},"computed":false},"arguments":[{"type":"Literal","start":13451,"end":13452,"loc":{"start":{"line":346,"column":52},"end":{"line":346,"column":53}},"value":2,"raw":"2"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":13463,"end":13576,"loc":{"start":{"line":347,"column":8},"end":{"line":347,"column":121}},"expression":{"type":"CallExpression","start":13463,"end":13575,"loc":{"start":{"line":347,"column":8},"end":{"line":347,"column":120}},"callee":{"type":"MemberExpression","start":13463,"end":13475,"loc":{"start":{"line":347,"column":8},"end":{"line":347,"column":20}},"object":{"type":"Identifier","start":13463,"end":13469,"loc":{"start":{"line":347,"column":8},"end":{"line":347,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":13470,"end":13475,"loc":{"start":{"line":347,"column":15},"end":{"line":347,"column":20}},"name":"debug"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":13476,"end":13529,"loc":{"start":{"line":347,"column":21},"end":{"line":347,"column":74}},"expressions":[{"type":"Identifier","start":13479,"end":13492,"loc":{"start":{"line":347,"column":24},"end":{"line":347,"column":37}},"name":"bytesUploaded"},{"type":"Identifier","start":13496,"end":13506,"loc":{"start":{"line":347,"column":41},"end":{"line":347,"column":51}},"name":"bytesTotal"},{"type":"Identifier","start":13510,"end":13526,"loc":{"start":{"line":347,"column":55},"end":{"line":347,"column":71}},"name":"formatPercentage"}],"quasis":[{"type":"TemplateElement","start":13477,"end":13477,"loc":{"start":{"line":347,"column":22},"end":{"line":347,"column":22}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":13493,"end":13494,"loc":{"start":{"line":347,"column":38},"end":{"line":347,"column":39}},"value":{"raw":" ","cooked":" "},"tail":false},{"type":"TemplateElement","start":13507,"end":13508,"loc":{"start":{"line":347,"column":52},"end":{"line":347,"column":53}},"value":{"raw":" ","cooked":" "},"tail":false},{"type":"TemplateElement","start":13527,"end":13528,"loc":{"start":{"line":347,"column":72},"end":{"line":347,"column":73}},"value":{"raw":"%","cooked":"%"},"tail":true}]},{"type":"Literal","start":13531,"end":13557,"loc":{"start":{"line":347,"column":76},"end":{"line":347,"column":102}},"value":"uploader.upload.progress","raw":"'uploader.upload.progress'"},{"type":"MemberExpression","start":13559,"end":13574,"loc":{"start":{"line":347,"column":104},"end":{"line":347,"column":119}},"object":{"type":"ThisExpression","start":13559,"end":13563,"loc":{"start":{"line":347,"column":104},"end":{"line":347,"column":108}}},"property":{"type":"Identifier","start":13564,"end":13574,"loc":{"start":{"line":347,"column":109},"end":{"line":347,"column":119}},"name":"shortToken"},"computed":false}]}},{"type":"VariableDeclaration","start":13585,"end":13727,"loc":{"start":{"line":348,"column":8},"end":{"line":351,"column":10}},"declarations":[{"type":"VariableDeclarator","start":13591,"end":13726,"loc":{"start":{"line":348,"column":14},"end":{"line":351,"column":9}},"id":{"type":"Identifier","start":13591,"end":13601,"loc":{"start":{"line":348,"column":14},"end":{"line":348,"column":24}},"name":"dataToEmit"},"init":{"type":"ObjectExpression","start":13604,"end":13726,"loc":{"start":{"line":348,"column":27},"end":{"line":351,"column":9}},"properties":[{"type":"Property","start":13618,"end":13636,"loc":{"start":{"line":349,"column":12},"end":{"line":349,"column":30}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13618,"end":13624,"loc":{"start":{"line":349,"column":12},"end":{"line":349,"column":18}},"name":"action"},"value":{"type":"Literal","start":13626,"end":13636,"loc":{"start":{"line":349,"column":20},"end":{"line":349,"column":30}},"value":"progress","raw":"'progress'"},"kind":"init"},{"type":"Property","start":13650,"end":13716,"loc":{"start":{"line":350,"column":12},"end":{"line":350,"column":78}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13650,"end":13657,"loc":{"start":{"line":350,"column":12},"end":{"line":350,"column":19}},"name":"payload"},"value":{"type":"ObjectExpression","start":13659,"end":13716,"loc":{"start":{"line":350,"column":21},"end":{"line":350,"column":78}},"properties":[{"type":"Property","start":13661,"end":13687,"loc":{"start":{"line":350,"column":23},"end":{"line":350,"column":49}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13661,"end":13669,"loc":{"start":{"line":350,"column":23},"end":{"line":350,"column":31}},"name":"progress"},"value":{"type":"Identifier","start":13671,"end":13687,"loc":{"start":{"line":350,"column":33},"end":{"line":350,"column":49}},"name":"formatPercentage"},"kind":"init"},{"type":"Property","start":13689,"end":13702,"loc":{"start":{"line":350,"column":51},"end":{"line":350,"column":64}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":13689,"end":13702,"loc":{"start":{"line":350,"column":51},"end":{"line":350,"column":64}},"name":"bytesUploaded"},"kind":"init","value":{"type":"Identifier","start":13689,"end":13702,"loc":{"start":{"line":350,"column":51},"end":{"line":350,"column":64}},"name":"bytesUploaded"}},{"type":"Property","start":13704,"end":13714,"loc":{"start":{"line":350,"column":66},"end":{"line":350,"column":76}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":13704,"end":13714,"loc":{"start":{"line":350,"column":66},"end":{"line":350,"column":76}},"name":"bytesTotal"},"kind":"init","value":{"type":"Identifier","start":13704,"end":13714,"loc":{"start":{"line":350,"column":66},"end":{"line":350,"column":76}},"name":"bytesTotal"}}]},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":13736,"end":13763,"loc":{"start":{"line":352,"column":8},"end":{"line":352,"column":35}},"expression":{"type":"CallExpression","start":13736,"end":13762,"loc":{"start":{"line":352,"column":8},"end":{"line":352,"column":34}},"callee":{"type":"MemberExpression","start":13736,"end":13750,"loc":{"start":{"line":352,"column":8},"end":{"line":352,"column":22}},"object":{"type":"ThisExpression","start":13736,"end":13740,"loc":{"start":{"line":352,"column":8},"end":{"line":352,"column":12}}},"property":{"type":"Identifier","start":13741,"end":13750,"loc":{"start":{"line":352,"column":13},"end":{"line":352,"column":22}},"name":"saveState"},"computed":false},"arguments":[{"type":"Identifier","start":13751,"end":13761,"loc":{"start":{"line":352,"column":23},"end":{"line":352,"column":33}},"name":"dataToEmit"}]}},{"type":"VariableDeclaration","start":13831,"end":13880,"loc":{"start":{"line":354,"column":8},"end":{"line":354,"column":57}},"declarations":[{"type":"VariableDeclarator","start":13837,"end":13879,"loc":{"start":{"line":354,"column":14},"end":{"line":354,"column":56}},"id":{"type":"Identifier","start":13837,"end":13854,"loc":{"start":{"line":354,"column":14},"end":{"line":354,"column":31}},"name":"roundedPercentage"},"init":{"type":"CallExpression","start":13857,"end":13879,"loc":{"start":{"line":354,"column":34},"end":{"line":354,"column":56}},"callee":{"type":"MemberExpression","start":13857,"end":13867,"loc":{"start":{"line":354,"column":34},"end":{"line":354,"column":44}},"object":{"type":"Identifier","start":13857,"end":13861,"loc":{"start":{"line":354,"column":34},"end":{"line":354,"column":38}},"name":"Math"},"property":{"type":"Identifier","start":13862,"end":13867,"loc":{"start":{"line":354,"column":39},"end":{"line":354,"column":44}},"name":"floor"},"computed":false},"arguments":[{"type":"Identifier","start":13868,"end":13878,"loc":{"start":{"line":354,"column":45},"end":{"line":354,"column":55}},"name":"percentage"}]}}],"kind":"const"},{"type":"IfStatement","start":13889,"end":14054,"loc":{"start":{"line":355,"column":8},"end":{"line":358,"column":9}},"test":{"type":"BinaryExpression","start":13893,"end":13935,"loc":{"start":{"line":355,"column":12},"end":{"line":355,"column":54}},"left":{"type":"MemberExpression","start":13893,"end":13913,"loc":{"start":{"line":355,"column":12},"end":{"line":355,"column":32}},"object":{"type":"ThisExpression","start":13893,"end":13897,"loc":{"start":{"line":355,"column":12},"end":{"line":355,"column":16}}},"property":{"type":"Identifier","start":13898,"end":13913,"loc":{"start":{"line":355,"column":17},"end":{"line":355,"column":32}},"name":"emittedProgress"},"computed":false},"operator":"!==","right":{"type":"Identifier","start":13918,"end":13935,"loc":{"start":{"line":355,"column":37},"end":{"line":355,"column":54}},"name":"roundedPercentage"}},"consequent":{"type":"BlockStatement","start":13937,"end":14054,"loc":{"start":{"line":355,"column":56},"end":{"line":358,"column":9}},"body":[{"type":"ExpressionStatement","start":13951,"end":13992,"loc":{"start":{"line":356,"column":12},"end":{"line":356,"column":53}},"expression":{"type":"AssignmentExpression","start":13951,"end":13991,"loc":{"start":{"line":356,"column":12},"end":{"line":356,"column":52}},"operator":"=","left":{"type":"MemberExpression","start":13951,"end":13971,"loc":{"start":{"line":356,"column":12},"end":{"line":356,"column":32}},"object":{"type":"ThisExpression","start":13951,"end":13955,"loc":{"start":{"line":356,"column":12},"end":{"line":356,"column":16}}},"property":{"type":"Identifier","start":13956,"end":13971,"loc":{"start":{"line":356,"column":17},"end":{"line":356,"column":32}},"name":"emittedProgress"},"computed":false},"right":{"type":"Identifier","start":13974,"end":13991,"loc":{"start":{"line":356,"column":35},"end":{"line":356,"column":52}},"name":"roundedPercentage"}}},{"type":"ExpressionStatement","start":14005,"end":14044,"loc":{"start":{"line":357,"column":12},"end":{"line":357,"column":51}},"expression":{"type":"CallExpression","start":14005,"end":14043,"loc":{"start":{"line":357,"column":12},"end":{"line":357,"column":50}},"callee":{"type":"MemberExpression","start":14005,"end":14019,"loc":{"start":{"line":357,"column":12},"end":{"line":357,"column":26}},"object":{"type":"CallExpression","start":14005,"end":14014,"loc":{"start":{"line":357,"column":12},"end":{"line":357,"column":21}},"callee":{"type":"Identifier","start":14005,"end":14012,"loc":{"start":{"line":357,"column":12},"end":{"line":357,"column":19}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":14015,"end":14019,"loc":{"start":{"line":357,"column":22},"end":{"line":357,"column":26}},"name":"emit"},"computed":false},"arguments":[{"type":"MemberExpression","start":14020,"end":14030,"loc":{"start":{"line":357,"column":27},"end":{"line":357,"column":37}},"object":{"type":"ThisExpression","start":14020,"end":14024,"loc":{"start":{"line":357,"column":27},"end":{"line":357,"column":31}}},"property":{"type":"Identifier","start":14025,"end":14030,"loc":{"start":{"line":357,"column":32},"end":{"line":357,"column":37}},"name":"token"},"computed":false},{"type":"Identifier","start":14032,"end":14042,"loc":{"start":{"line":357,"column":39},"end":{"line":357,"column":49}},"name":"dataToEmit"}]}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":14148,"end":14408,"loc":{"start":{"line":365,"column":4},"end":{"line":372,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":14148,"end":14159,"loc":{"start":{"line":365,"column":4},"end":{"line":365,"column":15}},"name":"emitSuccess"},"value":{"type":"FunctionExpression","start":14159,"end":14408,"loc":{"start":{"line":365,"column":15},"end":{"line":372,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":14160,"end":14163,"loc":{"start":{"line":365,"column":16},"end":{"line":365,"column":19}},"name":"url"},{"type":"AssignmentPattern","start":14165,"end":14179,"loc":{"start":{"line":365,"column":21},"end":{"line":365,"column":35}},"left":{"type":"Identifier","start":14165,"end":14174,"loc":{"start":{"line":365,"column":21},"end":{"line":365,"column":30}},"name":"extraData"},"right":{"type":"ObjectExpression","start":14177,"end":14179,"loc":{"start":{"line":365,"column":33},"end":{"line":365,"column":35}},"properties":[]}}],"body":{"type":"BlockStatement","start":14181,"end":14408,"loc":{"start":{"line":365,"column":37},"end":{"line":372,"column":5}},"body":[{"type":"VariableDeclaration","start":14191,"end":14322,"loc":{"start":{"line":366,"column":8},"end":{"line":369,"column":10}},"declarations":[{"type":"VariableDeclarator","start":14197,"end":14321,"loc":{"start":{"line":366,"column":14},"end":{"line":369,"column":9}},"id":{"type":"Identifier","start":14197,"end":14205,"loc":{"start":{"line":366,"column":14},"end":{"line":366,"column":22}},"name":"emitData"},"init":{"type":"ObjectExpression","start":14208,"end":14321,"loc":{"start":{"line":366,"column":25},"end":{"line":369,"column":9}},"properties":[{"type":"Property","start":14222,"end":14239,"loc":{"start":{"line":367,"column":12},"end":{"line":367,"column":29}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14222,"end":14228,"loc":{"start":{"line":367,"column":12},"end":{"line":367,"column":18}},"name":"action"},"value":{"type":"Literal","start":14230,"end":14239,"loc":{"start":{"line":367,"column":20},"end":{"line":367,"column":29}},"value":"success","raw":"'success'"},"kind":"init"},{"type":"Property","start":14253,"end":14311,"loc":{"start":{"line":368,"column":12},"end":{"line":368,"column":70}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14253,"end":14260,"loc":{"start":{"line":368,"column":12},"end":{"line":368,"column":19}},"name":"payload"},"value":{"type":"CallExpression","start":14262,"end":14311,"loc":{"start":{"line":368,"column":21},"end":{"line":368,"column":70}},"callee":{"type":"MemberExpression","start":14262,"end":14275,"loc":{"start":{"line":368,"column":21},"end":{"line":368,"column":34}},"object":{"type":"Identifier","start":14262,"end":14268,"loc":{"start":{"line":368,"column":21},"end":{"line":368,"column":27}},"name":"Object"},"property":{"type":"Identifier","start":14269,"end":14275,"loc":{"start":{"line":368,"column":28},"end":{"line":368,"column":34}},"name":"assign"},"computed":false},"arguments":[{"type":"Identifier","start":14276,"end":14285,"loc":{"start":{"line":368,"column":35},"end":{"line":368,"column":44}},"name":"extraData"},{"type":"ObjectExpression","start":14287,"end":14310,"loc":{"start":{"line":368,"column":46},"end":{"line":368,"column":69}},"properties":[{"type":"Property","start":14289,"end":14303,"loc":{"start":{"line":368,"column":48},"end":{"line":368,"column":62}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14289,"end":14297,"loc":{"start":{"line":368,"column":48},"end":{"line":368,"column":56}},"name":"complete"},"value":{"type":"Literal","start":14299,"end":14303,"loc":{"start":{"line":368,"column":58},"end":{"line":368,"column":62}},"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":14305,"end":14308,"loc":{"start":{"line":368,"column":64},"end":{"line":368,"column":67}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":14305,"end":14308,"loc":{"start":{"line":368,"column":64},"end":{"line":368,"column":67}},"name":"url"},"kind":"init","value":{"type":"Identifier","start":14305,"end":14308,"loc":{"start":{"line":368,"column":64},"end":{"line":368,"column":67}},"name":"url"}}]}]},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":14331,"end":14356,"loc":{"start":{"line":370,"column":8},"end":{"line":370,"column":33}},"expression":{"type":"CallExpression","start":14331,"end":14355,"loc":{"start":{"line":370,"column":8},"end":{"line":370,"column":32}},"callee":{"type":"MemberExpression","start":14331,"end":14345,"loc":{"start":{"line":370,"column":8},"end":{"line":370,"column":22}},"object":{"type":"ThisExpression","start":14331,"end":14335,"loc":{"start":{"line":370,"column":8},"end":{"line":370,"column":12}}},"property":{"type":"Identifier","start":14336,"end":14345,"loc":{"start":{"line":370,"column":13},"end":{"line":370,"column":22}},"name":"saveState"},"computed":false},"arguments":[{"type":"Identifier","start":14346,"end":14354,"loc":{"start":{"line":370,"column":23},"end":{"line":370,"column":31}},"name":"emitData"}]}},{"type":"ExpressionStatement","start":14365,"end":14402,"loc":{"start":{"line":371,"column":8},"end":{"line":371,"column":45}},"expression":{"type":"CallExpression","start":14365,"end":14401,"loc":{"start":{"line":371,"column":8},"end":{"line":371,"column":44}},"callee":{"type":"MemberExpression","start":14365,"end":14379,"loc":{"start":{"line":371,"column":8},"end":{"line":371,"column":22}},"object":{"type":"CallExpression","start":14365,"end":14374,"loc":{"start":{"line":371,"column":8},"end":{"line":371,"column":17}},"callee":{"type":"Identifier","start":14365,"end":14372,"loc":{"start":{"line":371,"column":8},"end":{"line":371,"column":15}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":14375,"end":14379,"loc":{"start":{"line":371,"column":18},"end":{"line":371,"column":22}},"name":"emit"},"computed":false},"arguments":[{"type":"MemberExpression","start":14380,"end":14390,"loc":{"start":{"line":371,"column":23},"end":{"line":371,"column":33}},"object":{"type":"ThisExpression","start":14380,"end":14384,"loc":{"start":{"line":371,"column":23},"end":{"line":371,"column":27}}},"property":{"type":"Identifier","start":14385,"end":14390,"loc":{"start":{"line":371,"column":28},"end":{"line":371,"column":33}},"name":"token"},"computed":false},{"type":"Identifier","start":14392,"end":14400,"loc":{"start":{"line":371,"column":35},"end":{"line":371,"column":43}},"name":"emitData"}]}}]}}},{"type":"MethodDefinition","start":14496,"end":14909,"loc":{"start":{"line":378,"column":4},"end":{"line":388,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":14496,"end":14505,"loc":{"start":{"line":378,"column":4},"end":{"line":378,"column":13}},"name":"emitError"},"value":{"type":"FunctionExpression","start":14505,"end":14909,"loc":{"start":{"line":378,"column":13},"end":{"line":388,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":14506,"end":14509,"loc":{"start":{"line":378,"column":14},"end":{"line":378,"column":17}},"name":"err"},{"type":"AssignmentPattern","start":14511,"end":14525,"loc":{"start":{"line":378,"column":19},"end":{"line":378,"column":33}},"left":{"type":"Identifier","start":14511,"end":14520,"loc":{"start":{"line":378,"column":19},"end":{"line":378,"column":28}},"name":"extraData"},"right":{"type":"ObjectExpression","start":14523,"end":14525,"loc":{"start":{"line":378,"column":31},"end":{"line":378,"column":33}},"properties":[]}}],"body":{"type":"BlockStatement","start":14527,"end":14909,"loc":{"start":{"line":378,"column":35},"end":{"line":388,"column":5}},"body":[{"type":"VariableDeclaration","start":14537,"end":14579,"loc":{"start":{"line":379,"column":8},"end":{"line":379,"column":50}},"declarations":[{"type":"VariableDeclarator","start":14543,"end":14578,"loc":{"start":{"line":379,"column":14},"end":{"line":379,"column":49}},"id":{"type":"Identifier","start":14543,"end":14556,"loc":{"start":{"line":379,"column":14},"end":{"line":379,"column":27}},"name":"serializedErr"},"init":{"type":"CallExpression","start":14559,"end":14578,"loc":{"start":{"line":379,"column":30},"end":{"line":379,"column":49}},"callee":{"type":"Identifier","start":14559,"end":14573,"loc":{"start":{"line":379,"column":30},"end":{"line":379,"column":44}},"name":"serializeError"},"arguments":[{"type":"Identifier","start":14574,"end":14577,"loc":{"start":{"line":379,"column":45},"end":{"line":379,"column":48}},"name":"err"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":14651,"end":14678,"loc":{"start":{"line":381,"column":8},"end":{"line":381,"column":35}},"expression":{"type":"UnaryExpression","start":14651,"end":14677,"loc":{"start":{"line":381,"column":8},"end":{"line":381,"column":34}},"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":14658,"end":14677,"loc":{"start":{"line":381,"column":15},"end":{"line":381,"column":34}},"object":{"type":"Identifier","start":14658,"end":14671,"loc":{"start":{"line":381,"column":15},"end":{"line":381,"column":28}},"name":"serializedErr"},"property":{"type":"Identifier","start":14672,"end":14677,"loc":{"start":{"line":381,"column":29},"end":{"line":381,"column":34}},"name":"stack"},"computed":false}}},{"type":"VariableDeclaration","start":14687,"end":14819,"loc":{"start":{"line":382,"column":8},"end":{"line":385,"column":10}},"declarations":[{"type":"VariableDeclarator","start":14693,"end":14818,"loc":{"start":{"line":382,"column":14},"end":{"line":385,"column":9}},"id":{"type":"Identifier","start":14693,"end":14703,"loc":{"start":{"line":382,"column":14},"end":{"line":382,"column":24}},"name":"dataToEmit"},"init":{"type":"ObjectExpression","start":14706,"end":14818,"loc":{"start":{"line":382,"column":27},"end":{"line":385,"column":9}},"properties":[{"type":"Property","start":14720,"end":14735,"loc":{"start":{"line":383,"column":12},"end":{"line":383,"column":27}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14720,"end":14726,"loc":{"start":{"line":383,"column":12},"end":{"line":383,"column":18}},"name":"action"},"value":{"type":"Literal","start":14728,"end":14735,"loc":{"start":{"line":383,"column":20},"end":{"line":383,"column":27}},"value":"error","raw":"'error'"},"kind":"init"},{"type":"Property","start":14749,"end":14808,"loc":{"start":{"line":384,"column":12},"end":{"line":384,"column":71}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14749,"end":14756,"loc":{"start":{"line":384,"column":12},"end":{"line":384,"column":19}},"name":"payload"},"value":{"type":"CallExpression","start":14758,"end":14808,"loc":{"start":{"line":384,"column":21},"end":{"line":384,"column":71}},"callee":{"type":"MemberExpression","start":14758,"end":14771,"loc":{"start":{"line":384,"column":21},"end":{"line":384,"column":34}},"object":{"type":"Identifier","start":14758,"end":14764,"loc":{"start":{"line":384,"column":21},"end":{"line":384,"column":27}},"name":"Object"},"property":{"type":"Identifier","start":14765,"end":14771,"loc":{"start":{"line":384,"column":28},"end":{"line":384,"column":34}},"name":"assign"},"computed":false},"arguments":[{"type":"Identifier","start":14772,"end":14781,"loc":{"start":{"line":384,"column":35},"end":{"line":384,"column":44}},"name":"extraData"},{"type":"ObjectExpression","start":14783,"end":14807,"loc":{"start":{"line":384,"column":46},"end":{"line":384,"column":70}},"properties":[{"type":"Property","start":14785,"end":14805,"loc":{"start":{"line":384,"column":48},"end":{"line":384,"column":68}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14785,"end":14790,"loc":{"start":{"line":384,"column":48},"end":{"line":384,"column":53}},"name":"error"},"value":{"type":"Identifier","start":14792,"end":14805,"loc":{"start":{"line":384,"column":55},"end":{"line":384,"column":68}},"name":"serializedErr"},"kind":"init"}]}]},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":14828,"end":14855,"loc":{"start":{"line":386,"column":8},"end":{"line":386,"column":35}},"expression":{"type":"CallExpression","start":14828,"end":14854,"loc":{"start":{"line":386,"column":8},"end":{"line":386,"column":34}},"callee":{"type":"MemberExpression","start":14828,"end":14842,"loc":{"start":{"line":386,"column":8},"end":{"line":386,"column":22}},"object":{"type":"ThisExpression","start":14828,"end":14832,"loc":{"start":{"line":386,"column":8},"end":{"line":386,"column":12}}},"property":{"type":"Identifier","start":14833,"end":14842,"loc":{"start":{"line":386,"column":13},"end":{"line":386,"column":22}},"name":"saveState"},"computed":false},"arguments":[{"type":"Identifier","start":14843,"end":14853,"loc":{"start":{"line":386,"column":23},"end":{"line":386,"column":33}},"name":"dataToEmit"}]}},{"type":"ExpressionStatement","start":14864,"end":14903,"loc":{"start":{"line":387,"column":8},"end":{"line":387,"column":47}},"expression":{"type":"CallExpression","start":14864,"end":14902,"loc":{"start":{"line":387,"column":8},"end":{"line":387,"column":46}},"callee":{"type":"MemberExpression","start":14864,"end":14878,"loc":{"start":{"line":387,"column":8},"end":{"line":387,"column":22}},"object":{"type":"CallExpression","start":14864,"end":14873,"loc":{"start":{"line":387,"column":8},"end":{"line":387,"column":17}},"callee":{"type":"Identifier","start":14864,"end":14871,"loc":{"start":{"line":387,"column":8},"end":{"line":387,"column":15}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":14874,"end":14878,"loc":{"start":{"line":387,"column":18},"end":{"line":387,"column":22}},"name":"emit"},"computed":false},"arguments":[{"type":"MemberExpression","start":14879,"end":14889,"loc":{"start":{"line":387,"column":23},"end":{"line":387,"column":33}},"object":{"type":"ThisExpression","start":14879,"end":14883,"loc":{"start":{"line":387,"column":23},"end":{"line":387,"column":27}}},"property":{"type":"Identifier","start":14884,"end":14889,"loc":{"start":{"line":387,"column":28},"end":{"line":387,"column":33}},"name":"token"},"computed":false},{"type":"Identifier","start":14891,"end":14901,"loc":{"start":{"line":387,"column":35},"end":{"line":387,"column":45}},"name":"dataToEmit"}]}}]}}},{"type":"MethodDefinition","start":14958,"end":16479,"loc":{"start":{"line":392,"column":4},"end":{"line":434,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":14958,"end":14967,"loc":{"start":{"line":392,"column":4},"end":{"line":392,"column":13}},"name":"uploadTus"},"value":{"type":"FunctionExpression","start":14967,"end":16479,"loc":{"start":{"line":392,"column":13},"end":{"line":434,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":14970,"end":16479,"loc":{"start":{"line":392,"column":16},"end":{"line":434,"column":5}},"body":[{"type":"VariableDeclaration","start":14980,"end":15024,"loc":{"start":{"line":393,"column":8},"end":{"line":393,"column":52}},"declarations":[{"type":"VariableDeclarator","start":14986,"end":15023,"loc":{"start":{"line":393,"column":14},"end":{"line":393,"column":51}},"id":{"type":"Identifier","start":14986,"end":14990,"loc":{"start":{"line":393,"column":14},"end":{"line":393,"column":18}},"name":"file"},"init":{"type":"CallExpression","start":14993,"end":15023,"loc":{"start":{"line":393,"column":21},"end":{"line":393,"column":51}},"callee":{"type":"MemberExpression","start":14993,"end":15012,"loc":{"start":{"line":393,"column":21},"end":{"line":393,"column":40}},"object":{"type":"Identifier","start":14993,"end":14995,"loc":{"start":{"line":393,"column":21},"end":{"line":393,"column":23}},"name":"fs"},"property":{"type":"Identifier","start":14996,"end":15012,"loc":{"start":{"line":393,"column":24},"end":{"line":393,"column":40}},"name":"createReadStream"},"computed":false},"arguments":[{"type":"MemberExpression","start":15013,"end":15022,"loc":{"start":{"line":393,"column":41},"end":{"line":393,"column":50}},"object":{"type":"ThisExpression","start":15013,"end":15017,"loc":{"start":{"line":393,"column":41},"end":{"line":393,"column":45}}},"property":{"type":"Identifier","start":15018,"end":15022,"loc":{"start":{"line":393,"column":46},"end":{"line":393,"column":50}},"name":"path"},"computed":false}]}}],"kind":"const"},{"type":"VariableDeclaration","start":15033,"end":15055,"loc":{"start":{"line":394,"column":8},"end":{"line":394,"column":30}},"declarations":[{"type":"VariableDeclarator","start":15039,"end":15054,"loc":{"start":{"line":394,"column":14},"end":{"line":394,"column":29}},"id":{"type":"Identifier","start":15039,"end":15047,"loc":{"start":{"line":394,"column":14},"end":{"line":394,"column":22}},"name":"uploader"},"init":{"type":"ThisExpression","start":15050,"end":15054,"loc":{"start":{"line":394,"column":25},"end":{"line":394,"column":29}}}}],"kind":"const"},{"type":"ExpressionStatement","start":15086,"end":16404,"loc":{"start":{"line":396,"column":8},"end":{"line":430,"column":11}},"expression":{"type":"AssignmentExpression","start":15086,"end":16403,"loc":{"start":{"line":396,"column":8},"end":{"line":430,"column":10}},"operator":"=","left":{"type":"MemberExpression","start":15086,"end":15094,"loc":{"start":{"line":396,"column":8},"end":{"line":396,"column":16}},"object":{"type":"ThisExpression","start":15086,"end":15090,"loc":{"start":{"line":396,"column":8},"end":{"line":396,"column":12}}},"property":{"type":"Identifier","start":15091,"end":15094,"loc":{"start":{"line":396,"column":13},"end":{"line":396,"column":16}},"name":"tus"},"computed":false},"right":{"type":"NewExpression","start":15097,"end":16403,"loc":{"start":{"line":396,"column":19},"end":{"line":430,"column":10}},"callee":{"type":"MemberExpression","start":15101,"end":15111,"loc":{"start":{"line":396,"column":23},"end":{"line":396,"column":33}},"object":{"type":"Identifier","start":15101,"end":15104,"loc":{"start":{"line":396,"column":23},"end":{"line":396,"column":26}},"name":"tus"},"property":{"type":"Identifier","start":15105,"end":15111,"loc":{"start":{"line":396,"column":27},"end":{"line":396,"column":33}},"name":"Upload"},"computed":false},"arguments":[{"type":"Identifier","start":15112,"end":15116,"loc":{"start":{"line":396,"column":34},"end":{"line":396,"column":38}},"name":"file"},{"type":"ObjectExpression","start":15118,"end":16402,"loc":{"start":{"line":396,"column":40},"end":{"line":430,"column":9}},"properties":[{"type":"Property","start":15132,"end":15163,"loc":{"start":{"line":397,"column":12},"end":{"line":397,"column":43}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15132,"end":15140,"loc":{"start":{"line":397,"column":12},"end":{"line":397,"column":20}},"name":"endpoint"},"value":{"type":"MemberExpression","start":15142,"end":15163,"loc":{"start":{"line":397,"column":22},"end":{"line":397,"column":43}},"object":{"type":"MemberExpression","start":15142,"end":15154,"loc":{"start":{"line":397,"column":22},"end":{"line":397,"column":34}},"object":{"type":"ThisExpression","start":15142,"end":15146,"loc":{"start":{"line":397,"column":22},"end":{"line":397,"column":26}}},"property":{"type":"Identifier","start":15147,"end":15154,"loc":{"start":{"line":397,"column":27},"end":{"line":397,"column":34}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":15155,"end":15163,"loc":{"start":{"line":397,"column":35},"end":{"line":397,"column":43}},"name":"endpoint"},"computed":false},"kind":"init"},{"type":"Property","start":15177,"end":15210,"loc":{"start":{"line":398,"column":12},"end":{"line":398,"column":45}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15177,"end":15186,"loc":{"start":{"line":398,"column":12},"end":{"line":398,"column":21}},"name":"uploadUrl"},"value":{"type":"MemberExpression","start":15188,"end":15210,"loc":{"start":{"line":398,"column":23},"end":{"line":398,"column":45}},"object":{"type":"MemberExpression","start":15188,"end":15200,"loc":{"start":{"line":398,"column":23},"end":{"line":398,"column":35}},"object":{"type":"ThisExpression","start":15188,"end":15192,"loc":{"start":{"line":398,"column":23},"end":{"line":398,"column":27}}},"property":{"type":"Identifier","start":15193,"end":15200,"loc":{"start":{"line":398,"column":28},"end":{"line":398,"column":35}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":15201,"end":15210,"loc":{"start":{"line":398,"column":36},"end":{"line":398,"column":45}},"name":"uploadUrl"},"computed":false},"kind":"init"},{"type":"Property","start":15250,"end":15277,"loc":{"start":{"line":400,"column":12},"end":{"line":400,"column":39}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15250,"end":15270,"loc":{"start":{"line":400,"column":12},"end":{"line":400,"column":32}},"name":"uploadLengthDeferred"},"value":{"type":"Literal","start":15272,"end":15277,"loc":{"start":{"line":400,"column":34},"end":{"line":400,"column":39}},"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":15291,"end":15303,"loc":{"start":{"line":401,"column":12},"end":{"line":401,"column":24}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15291,"end":15297,"loc":{"start":{"line":401,"column":12},"end":{"line":401,"column":18}},"name":"resume"},"value":{"type":"Literal","start":15299,"end":15303,"loc":{"start":{"line":401,"column":20},"end":{"line":401,"column":24}},"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":15317,"end":15351,"loc":{"start":{"line":402,"column":12},"end":{"line":402,"column":46}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15317,"end":15328,"loc":{"start":{"line":402,"column":12},"end":{"line":402,"column":23}},"name":"retryDelays"},"value":{"type":"ArrayExpression","start":15330,"end":15351,"loc":{"start":{"line":402,"column":25},"end":{"line":402,"column":46}},"elements":[{"type":"Literal","start":15331,"end":15332,"loc":{"start":{"line":402,"column":26},"end":{"line":402,"column":27}},"value":0,"raw":"0"},{"type":"Literal","start":15334,"end":15338,"loc":{"start":{"line":402,"column":29},"end":{"line":402,"column":33}},"value":1000,"raw":"1000"},{"type":"Literal","start":15340,"end":15344,"loc":{"start":{"line":402,"column":35},"end":{"line":402,"column":39}},"value":3000,"raw":"3000"},{"type":"Literal","start":15346,"end":15350,"loc":{"start":{"line":402,"column":41},"end":{"line":402,"column":45}},"value":5000,"raw":"5000"}]},"kind":"init"},{"type":"Property","start":15365,"end":15394,"loc":{"start":{"line":403,"column":12},"end":{"line":403,"column":41}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15365,"end":15375,"loc":{"start":{"line":403,"column":12},"end":{"line":403,"column":22}},"name":"uploadSize"},"value":{"type":"MemberExpression","start":15377,"end":15394,"loc":{"start":{"line":403,"column":24},"end":{"line":403,"column":41}},"object":{"type":"ThisExpression","start":15377,"end":15381,"loc":{"start":{"line":403,"column":24},"end":{"line":403,"column":28}}},"property":{"type":"Identifier","start":15382,"end":15394,"loc":{"start":{"line":403,"column":29},"end":{"line":403,"column":41}},"name":"bytesWritten"},"computed":false},"kind":"init"},{"type":"Property","start":15408,"end":15767,"loc":{"start":{"line":404,"column":12},"end":{"line":409,"column":37}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15408,"end":15416,"loc":{"start":{"line":404,"column":12},"end":{"line":404,"column":20}},"name":"metadata"},"value":{"type":"CallExpression","start":15418,"end":15767,"loc":{"start":{"line":404,"column":22},"end":{"line":409,"column":37}},"callee":{"type":"MemberExpression","start":15418,"end":15431,"loc":{"start":{"line":404,"column":22},"end":{"line":404,"column":35}},"object":{"type":"Identifier","start":15418,"end":15424,"loc":{"start":{"line":404,"column":22},"end":{"line":404,"column":28}},"name":"Object"},"property":{"type":"Identifier","start":15425,"end":15431,"loc":{"start":{"line":404,"column":29},"end":{"line":404,"column":35}},"name":"assign"},"computed":false},"arguments":[{"type":"ObjectExpression","start":15432,"end":15743,"loc":{"start":{"line":404,"column":36},"end":{"line":409,"column":13}},"properties":[{"type":"Property","start":15646,"end":15675,"loc":{"start":{"line":407,"column":16},"end":{"line":407,"column":45}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15646,"end":15654,"loc":{"start":{"line":407,"column":16},"end":{"line":407,"column":24}},"name":"filename"},"value":{"type":"MemberExpression","start":15656,"end":15675,"loc":{"start":{"line":407,"column":26},"end":{"line":407,"column":45}},"object":{"type":"ThisExpression","start":15656,"end":15660,"loc":{"start":{"line":407,"column":26},"end":{"line":407,"column":30}}},"property":{"type":"Identifier","start":15661,"end":15675,"loc":{"start":{"line":407,"column":31},"end":{"line":407,"column":45}},"name":"uploadFileName"},"computed":false},"kind":"init"},{"type":"Property","start":15693,"end":15729,"loc":{"start":{"line":408,"column":16},"end":{"line":408,"column":52}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15693,"end":15701,"loc":{"start":{"line":408,"column":16},"end":{"line":408,"column":24}},"name":"filetype"},"value":{"type":"MemberExpression","start":15703,"end":15729,"loc":{"start":{"line":408,"column":26},"end":{"line":408,"column":52}},"object":{"type":"MemberExpression","start":15703,"end":15724,"loc":{"start":{"line":408,"column":26},"end":{"line":408,"column":47}},"object":{"type":"MemberExpression","start":15703,"end":15715,"loc":{"start":{"line":408,"column":26},"end":{"line":408,"column":38}},"object":{"type":"ThisExpression","start":15703,"end":15707,"loc":{"start":{"line":408,"column":26},"end":{"line":408,"column":30}}},"property":{"type":"Identifier","start":15708,"end":15715,"loc":{"start":{"line":408,"column":31},"end":{"line":408,"column":38}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":15716,"end":15724,"loc":{"start":{"line":408,"column":39},"end":{"line":408,"column":47}},"name":"metadata"},"computed":false},"property":{"type":"Identifier","start":15725,"end":15729,"loc":{"start":{"line":408,"column":48},"end":{"line":408,"column":52}},"name":"type"},"computed":false},"kind":"init"}]},{"type":"MemberExpression","start":15745,"end":15766,"loc":{"start":{"line":409,"column":15},"end":{"line":409,"column":36}},"object":{"type":"MemberExpression","start":15745,"end":15757,"loc":{"start":{"line":409,"column":15},"end":{"line":409,"column":27}},"object":{"type":"ThisExpression","start":15745,"end":15749,"loc":{"start":{"line":409,"column":15},"end":{"line":409,"column":19}}},"property":{"type":"Identifier","start":15750,"end":15757,"loc":{"start":{"line":409,"column":20},"end":{"line":409,"column":27}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":15758,"end":15766,"loc":{"start":{"line":409,"column":28},"end":{"line":409,"column":36}},"name":"metadata"},"computed":false}]},"kind":"init"},{"type":"Property","start":15864,"end":15996,"loc":{"start":{"line":414,"column":12},"end":{"line":417,"column":13}},"method":true,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15864,"end":15871,"loc":{"start":{"line":414,"column":12},"end":{"line":414,"column":19}},"name":"onError"},"kind":"init","value":{"type":"FunctionExpression","start":15871,"end":15996,"loc":{"start":{"line":414,"column":19},"end":{"line":417,"column":13}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":15872,"end":15877,"loc":{"start":{"line":414,"column":20},"end":{"line":414,"column":25}},"name":"error"}],"body":{"type":"BlockStatement","start":15879,"end":15996,"loc":{"start":{"line":414,"column":27},"end":{"line":417,"column":13}},"body":[{"type":"ExpressionStatement","start":15897,"end":15939,"loc":{"start":{"line":415,"column":16},"end":{"line":415,"column":58}},"expression":{"type":"CallExpression","start":15897,"end":15938,"loc":{"start":{"line":415,"column":16},"end":{"line":415,"column":57}},"callee":{"type":"MemberExpression","start":15897,"end":15909,"loc":{"start":{"line":415,"column":16},"end":{"line":415,"column":28}},"object":{"type":"Identifier","start":15897,"end":15903,"loc":{"start":{"line":415,"column":16},"end":{"line":415,"column":22}},"name":"logger"},"property":{"type":"Identifier","start":15904,"end":15909,"loc":{"start":{"line":415,"column":23},"end":{"line":415,"column":28}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":15910,"end":15915,"loc":{"start":{"line":415,"column":29},"end":{"line":415,"column":34}},"name":"error"},{"type":"Literal","start":15917,"end":15937,"loc":{"start":{"line":415,"column":36},"end":{"line":415,"column":56}},"value":"uploader.tus.error","raw":"'uploader.tus.error'"}]}},{"type":"ExpressionStatement","start":15956,"end":15982,"loc":{"start":{"line":416,"column":16},"end":{"line":416,"column":42}},"expression":{"type":"CallExpression","start":15956,"end":15981,"loc":{"start":{"line":416,"column":16},"end":{"line":416,"column":41}},"callee":{"type":"MemberExpression","start":15956,"end":15974,"loc":{"start":{"line":416,"column":16},"end":{"line":416,"column":34}},"object":{"type":"Identifier","start":15956,"end":15964,"loc":{"start":{"line":416,"column":16},"end":{"line":416,"column":24}},"name":"uploader"},"property":{"type":"Identifier","start":15965,"end":15974,"loc":{"start":{"line":416,"column":25},"end":{"line":416,"column":34}},"name":"emitError"},"computed":false},"arguments":[{"type":"Identifier","start":15975,"end":15980,"loc":{"start":{"line":416,"column":35},"end":{"line":416,"column":40}},"name":"error"}]}}]}}},{"type":"Property","start":16144,"end":16259,"loc":{"start":{"line":423,"column":12},"end":{"line":425,"column":13}},"method":true,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16144,"end":16154,"loc":{"start":{"line":423,"column":12},"end":{"line":423,"column":22}},"name":"onProgress"},"kind":"init","value":{"type":"FunctionExpression","start":16154,"end":16259,"loc":{"start":{"line":423,"column":22},"end":{"line":425,"column":13}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":16155,"end":16168,"loc":{"start":{"line":423,"column":23},"end":{"line":423,"column":36}},"name":"bytesUploaded"},{"type":"Identifier","start":16170,"end":16180,"loc":{"start":{"line":423,"column":38},"end":{"line":423,"column":48}},"name":"bytesTotal"}],"body":{"type":"BlockStatement","start":16182,"end":16259,"loc":{"start":{"line":423,"column":50},"end":{"line":425,"column":13}},"body":[{"type":"ExpressionStatement","start":16200,"end":16245,"loc":{"start":{"line":424,"column":16},"end":{"line":424,"column":61}},"expression":{"type":"CallExpression","start":16200,"end":16244,"loc":{"start":{"line":424,"column":16},"end":{"line":424,"column":60}},"callee":{"type":"MemberExpression","start":16200,"end":16229,"loc":{"start":{"line":424,"column":16},"end":{"line":424,"column":45}},"object":{"type":"Identifier","start":16200,"end":16208,"loc":{"start":{"line":424,"column":16},"end":{"line":424,"column":24}},"name":"uploader"},"property":{"type":"Identifier","start":16209,"end":16229,"loc":{"start":{"line":424,"column":25},"end":{"line":424,"column":45}},"name":"emitIllusiveProgress"},"computed":false},"arguments":[{"type":"Identifier","start":16230,"end":16243,"loc":{"start":{"line":424,"column":46},"end":{"line":424,"column":59}},"name":"bytesUploaded"}]}}]}}},{"type":"Property","start":16273,"end":16392,"loc":{"start":{"line":426,"column":12},"end":{"line":429,"column":13}},"method":true,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16273,"end":16282,"loc":{"start":{"line":426,"column":12},"end":{"line":426,"column":21}},"name":"onSuccess"},"kind":"init","value":{"type":"FunctionExpression","start":16282,"end":16392,"loc":{"start":{"line":426,"column":21},"end":{"line":429,"column":13}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":16285,"end":16392,"loc":{"start":{"line":426,"column":24},"end":{"line":429,"column":13}},"body":[{"type":"ExpressionStatement","start":16303,"end":16342,"loc":{"start":{"line":427,"column":16},"end":{"line":427,"column":55}},"expression":{"type":"CallExpression","start":16303,"end":16341,"loc":{"start":{"line":427,"column":16},"end":{"line":427,"column":54}},"callee":{"type":"MemberExpression","start":16303,"end":16323,"loc":{"start":{"line":427,"column":16},"end":{"line":427,"column":36}},"object":{"type":"Identifier","start":16303,"end":16311,"loc":{"start":{"line":427,"column":16},"end":{"line":427,"column":24}},"name":"uploader"},"property":{"type":"Identifier","start":16312,"end":16323,"loc":{"start":{"line":427,"column":25},"end":{"line":427,"column":36}},"name":"emitSuccess"},"computed":false},"arguments":[{"type":"MemberExpression","start":16324,"end":16340,"loc":{"start":{"line":427,"column":37},"end":{"line":427,"column":53}},"object":{"type":"MemberExpression","start":16324,"end":16336,"loc":{"start":{"line":427,"column":37},"end":{"line":427,"column":49}},"object":{"type":"Identifier","start":16324,"end":16332,"loc":{"start":{"line":427,"column":37},"end":{"line":427,"column":45}},"name":"uploader"},"property":{"type":"Identifier","start":16333,"end":16336,"loc":{"start":{"line":427,"column":46},"end":{"line":427,"column":49}},"name":"tus"},"computed":false},"property":{"type":"Identifier","start":16337,"end":16340,"loc":{"start":{"line":427,"column":50},"end":{"line":427,"column":53}},"name":"url"},"computed":false}]}},{"type":"ExpressionStatement","start":16359,"end":16378,"loc":{"start":{"line":428,"column":16},"end":{"line":428,"column":35}},"expression":{"type":"CallExpression","start":16359,"end":16377,"loc":{"start":{"line":428,"column":16},"end":{"line":428,"column":34}},"callee":{"type":"MemberExpression","start":16359,"end":16375,"loc":{"start":{"line":428,"column":16},"end":{"line":428,"column":32}},"object":{"type":"Identifier","start":16359,"end":16367,"loc":{"start":{"line":428,"column":16},"end":{"line":428,"column":24}},"name":"uploader"},"property":{"type":"Identifier","start":16368,"end":16375,"loc":{"start":{"line":428,"column":25},"end":{"line":428,"column":32}},"name":"cleanUp"},"computed":false},"arguments":[]}}]}}}]}]}}},{"type":"IfStatement","start":16413,"end":16473,"loc":{"start":{"line":431,"column":8},"end":{"line":433,"column":9}},"test":{"type":"UnaryExpression","start":16417,"end":16430,"loc":{"start":{"line":431,"column":12},"end":{"line":431,"column":25}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":16418,"end":16430,"loc":{"start":{"line":431,"column":13},"end":{"line":431,"column":25}},"object":{"type":"ThisExpression","start":16418,"end":16422,"loc":{"start":{"line":431,"column":13},"end":{"line":431,"column":17}}},"property":{"type":"Identifier","start":16423,"end":16430,"loc":{"start":{"line":431,"column":18},"end":{"line":431,"column":25}},"name":"_paused"},"computed":false}},"consequent":{"type":"BlockStatement","start":16432,"end":16473,"loc":{"start":{"line":431,"column":27},"end":{"line":433,"column":9}},"body":[{"type":"ExpressionStatement","start":16446,"end":16463,"loc":{"start":{"line":432,"column":12},"end":{"line":432,"column":29}},"expression":{"type":"CallExpression","start":16446,"end":16462,"loc":{"start":{"line":432,"column":12},"end":{"line":432,"column":28}},"callee":{"type":"MemberExpression","start":16446,"end":16460,"loc":{"start":{"line":432,"column":12},"end":{"line":432,"column":26}},"object":{"type":"MemberExpression","start":16446,"end":16454,"loc":{"start":{"line":432,"column":12},"end":{"line":432,"column":20}},"object":{"type":"ThisExpression","start":16446,"end":16450,"loc":{"start":{"line":432,"column":12},"end":{"line":432,"column":16}}},"property":{"type":"Identifier","start":16451,"end":16454,"loc":{"start":{"line":432,"column":17},"end":{"line":432,"column":20}},"name":"tus"},"computed":false},"property":{"type":"Identifier","start":16455,"end":16460,"loc":{"start":{"line":432,"column":21},"end":{"line":432,"column":26}},"name":"start"},"computed":false},"arguments":[]}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":16484,"end":18851,"loc":{"start":{"line":435,"column":4},"end":{"line":490,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":16484,"end":16499,"loc":{"start":{"line":435,"column":4},"end":{"line":435,"column":19}},"name":"uploadMultipart"},"value":{"type":"FunctionExpression","start":16499,"end":18851,"loc":{"start":{"line":435,"column":19},"end":{"line":490,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":16502,"end":18851,"loc":{"start":{"line":435,"column":22},"end":{"line":490,"column":5}},"body":[{"type":"VariableDeclaration","start":16512,"end":16556,"loc":{"start":{"line":436,"column":8},"end":{"line":436,"column":52}},"declarations":[{"type":"VariableDeclarator","start":16518,"end":16555,"loc":{"start":{"line":436,"column":14},"end":{"line":436,"column":51}},"id":{"type":"Identifier","start":16518,"end":16522,"loc":{"start":{"line":436,"column":14},"end":{"line":436,"column":18}},"name":"file"},"init":{"type":"CallExpression","start":16525,"end":16555,"loc":{"start":{"line":436,"column":21},"end":{"line":436,"column":51}},"callee":{"type":"MemberExpression","start":16525,"end":16544,"loc":{"start":{"line":436,"column":21},"end":{"line":436,"column":40}},"object":{"type":"Identifier","start":16525,"end":16527,"loc":{"start":{"line":436,"column":21},"end":{"line":436,"column":23}},"name":"fs"},"property":{"type":"Identifier","start":16528,"end":16544,"loc":{"start":{"line":436,"column":24},"end":{"line":436,"column":40}},"name":"createReadStream"},"computed":false},"arguments":[{"type":"MemberExpression","start":16545,"end":16554,"loc":{"start":{"line":436,"column":41},"end":{"line":436,"column":50}},"object":{"type":"ThisExpression","start":16545,"end":16549,"loc":{"start":{"line":436,"column":41},"end":{"line":436,"column":45}}},"property":{"type":"Identifier","start":16550,"end":16554,"loc":{"start":{"line":436,"column":46},"end":{"line":436,"column":50}},"name":"path"},"computed":false}]}}],"kind":"const"},{"type":"VariableDeclaration","start":16592,"end":16614,"loc":{"start":{"line":438,"column":8},"end":{"line":438,"column":30}},"declarations":[{"type":"VariableDeclarator","start":16596,"end":16613,"loc":{"start":{"line":438,"column":12},"end":{"line":438,"column":29}},"id":{"type":"Identifier","start":16596,"end":16609,"loc":{"start":{"line":438,"column":12},"end":{"line":438,"column":25}},"name":"bytesUploaded"},"init":{"type":"Literal","start":16612,"end":16613,"loc":{"start":{"line":438,"column":28},"end":{"line":438,"column":29}},"value":0,"raw":"0"}}],"kind":"let"},{"type":"ExpressionStatement","start":16623,"end":16758,"loc":{"start":{"line":439,"column":8},"end":{"line":442,"column":11}},"expression":{"type":"CallExpression","start":16623,"end":16757,"loc":{"start":{"line":439,"column":8},"end":{"line":442,"column":10}},"callee":{"type":"MemberExpression","start":16623,"end":16630,"loc":{"start":{"line":439,"column":8},"end":{"line":439,"column":15}},"object":{"type":"Identifier","start":16623,"end":16627,"loc":{"start":{"line":439,"column":8},"end":{"line":439,"column":12}},"name":"file"},"property":{"type":"Identifier","start":16628,"end":16630,"loc":{"start":{"line":439,"column":13},"end":{"line":439,"column":15}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":16631,"end":16637,"loc":{"start":{"line":439,"column":16},"end":{"line":439,"column":22}},"value":"data","raw":"'data'"},{"type":"ArrowFunctionExpression","start":16639,"end":16756,"loc":{"start":{"line":439,"column":24},"end":{"line":442,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":16640,"end":16644,"loc":{"start":{"line":439,"column":25},"end":{"line":439,"column":29}},"name":"data"}],"body":{"type":"BlockStatement","start":16649,"end":16756,"loc":{"start":{"line":439,"column":34},"end":{"line":442,"column":9}},"body":[{"type":"ExpressionStatement","start":16663,"end":16692,"loc":{"start":{"line":440,"column":12},"end":{"line":440,"column":41}},"expression":{"type":"AssignmentExpression","start":16663,"end":16691,"loc":{"start":{"line":440,"column":12},"end":{"line":440,"column":40}},"operator":"+=","left":{"type":"Identifier","start":16663,"end":16676,"loc":{"start":{"line":440,"column":12},"end":{"line":440,"column":25}},"name":"bytesUploaded"},"right":{"type":"MemberExpression","start":16680,"end":16691,"loc":{"start":{"line":440,"column":29},"end":{"line":440,"column":40}},"object":{"type":"Identifier","start":16680,"end":16684,"loc":{"start":{"line":440,"column":29},"end":{"line":440,"column":33}},"name":"data"},"property":{"type":"Identifier","start":16685,"end":16691,"loc":{"start":{"line":440,"column":34},"end":{"line":440,"column":40}},"name":"length"},"computed":false}}},{"type":"ExpressionStatement","start":16705,"end":16746,"loc":{"start":{"line":441,"column":12},"end":{"line":441,"column":53}},"expression":{"type":"CallExpression","start":16705,"end":16745,"loc":{"start":{"line":441,"column":12},"end":{"line":441,"column":52}},"callee":{"type":"MemberExpression","start":16705,"end":16730,"loc":{"start":{"line":441,"column":12},"end":{"line":441,"column":37}},"object":{"type":"ThisExpression","start":16705,"end":16709,"loc":{"start":{"line":441,"column":12},"end":{"line":441,"column":16}}},"property":{"type":"Identifier","start":16710,"end":16730,"loc":{"start":{"line":441,"column":17},"end":{"line":441,"column":37}},"name":"emitIllusiveProgress"},"computed":false},"arguments":[{"type":"Identifier","start":16731,"end":16744,"loc":{"start":{"line":441,"column":38},"end":{"line":441,"column":51}},"name":"bytesUploaded"}]}}]}}]}},{"type":"VariableDeclaration","start":16767,"end":16859,"loc":{"start":{"line":443,"column":8},"end":{"line":443,"column":100}},"declarations":[{"type":"VariableDeclarator","start":16773,"end":16858,"loc":{"start":{"line":443,"column":14},"end":{"line":443,"column":99}},"id":{"type":"Identifier","start":16773,"end":16783,"loc":{"start":{"line":443,"column":14},"end":{"line":443,"column":24}},"name":"httpMethod"},"init":{"type":"ConditionalExpression","start":16786,"end":16858,"loc":{"start":{"line":443,"column":27},"end":{"line":443,"column":99}},"test":{"type":"BinaryExpression","start":16786,"end":16841,"loc":{"start":{"line":443,"column":27},"end":{"line":443,"column":82}},"left":{"type":"CallExpression","start":16786,"end":16831,"loc":{"start":{"line":443,"column":27},"end":{"line":443,"column":72}},"callee":{"type":"MemberExpression","start":16786,"end":16829,"loc":{"start":{"line":443,"column":27},"end":{"line":443,"column":70}},"object":{"type":"LogicalExpression","start":16787,"end":16816,"loc":{"start":{"line":443,"column":28},"end":{"line":443,"column":57}},"left":{"type":"MemberExpression","start":16787,"end":16810,"loc":{"start":{"line":443,"column":28},"end":{"line":443,"column":51}},"object":{"type":"MemberExpression","start":16787,"end":16799,"loc":{"start":{"line":443,"column":28},"end":{"line":443,"column":40}},"object":{"type":"ThisExpression","start":16787,"end":16791,"loc":{"start":{"line":443,"column":28},"end":{"line":443,"column":32}}},"property":{"type":"Identifier","start":16792,"end":16799,"loc":{"start":{"line":443,"column":33},"end":{"line":443,"column":40}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":16800,"end":16810,"loc":{"start":{"line":443,"column":41},"end":{"line":443,"column":51}},"name":"httpMethod"},"computed":false},"operator":"||","right":{"type":"Literal","start":16814,"end":16816,"loc":{"start":{"line":443,"column":55},"end":{"line":443,"column":57}},"value":"","raw":"''"}},"property":{"type":"Identifier","start":16818,"end":16829,"loc":{"start":{"line":443,"column":59},"end":{"line":443,"column":70}},"name":"toLowerCase"},"computed":false},"arguments":[]},"operator":"===","right":{"type":"Literal","start":16836,"end":16841,"loc":{"start":{"line":443,"column":77},"end":{"line":443,"column":82}},"value":"put","raw":"'put'"}},"consequent":{"type":"Literal","start":16844,"end":16849,"loc":{"start":{"line":443,"column":85},"end":{"line":443,"column":90}},"value":"put","raw":"'put'"},"alternate":{"type":"Literal","start":16852,"end":16858,"loc":{"start":{"line":443,"column":93},"end":{"line":443,"column":99}},"value":"post","raw":"'post'"}}}],"kind":"const"},{"type":"VariableDeclaration","start":16868,"end":16921,"loc":{"start":{"line":444,"column":8},"end":{"line":444,"column":61}},"declarations":[{"type":"VariableDeclarator","start":16874,"end":16920,"loc":{"start":{"line":444,"column":14},"end":{"line":444,"column":60}},"id":{"type":"Identifier","start":16874,"end":16881,"loc":{"start":{"line":444,"column":14},"end":{"line":444,"column":21}},"name":"headers"},"init":{"type":"CallExpression","start":16884,"end":16920,"loc":{"start":{"line":444,"column":24},"end":{"line":444,"column":60}},"callee":{"type":"Identifier","start":16884,"end":16898,"loc":{"start":{"line":444,"column":24},"end":{"line":444,"column":38}},"name":"headerSanitize"},"arguments":[{"type":"MemberExpression","start":16899,"end":16919,"loc":{"start":{"line":444,"column":39},"end":{"line":444,"column":59}},"object":{"type":"MemberExpression","start":16899,"end":16911,"loc":{"start":{"line":444,"column":39},"end":{"line":444,"column":51}},"object":{"type":"ThisExpression","start":16899,"end":16903,"loc":{"start":{"line":444,"column":39},"end":{"line":444,"column":43}}},"property":{"type":"Identifier","start":16904,"end":16911,"loc":{"start":{"line":444,"column":44},"end":{"line":444,"column":51}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":16912,"end":16919,"loc":{"start":{"line":444,"column":52},"end":{"line":444,"column":59}},"name":"headers"},"computed":false}]}}],"kind":"const"},{"type":"VariableDeclaration","start":16930,"end":17005,"loc":{"start":{"line":445,"column":8},"end":{"line":445,"column":83}},"declarations":[{"type":"VariableDeclarator","start":16936,"end":17004,"loc":{"start":{"line":445,"column":14},"end":{"line":445,"column":82}},"id":{"type":"Identifier","start":16936,"end":16946,"loc":{"start":{"line":445,"column":14},"end":{"line":445,"column":24}},"name":"reqOptions"},"init":{"type":"ObjectExpression","start":16949,"end":17004,"loc":{"start":{"line":445,"column":27},"end":{"line":445,"column":82}},"properties":[{"type":"Property","start":16951,"end":16977,"loc":{"start":{"line":445,"column":29},"end":{"line":445,"column":55}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16951,"end":16954,"loc":{"start":{"line":445,"column":29},"end":{"line":445,"column":32}},"name":"url"},"value":{"type":"MemberExpression","start":16956,"end":16977,"loc":{"start":{"line":445,"column":34},"end":{"line":445,"column":55}},"object":{"type":"MemberExpression","start":16956,"end":16968,"loc":{"start":{"line":445,"column":34},"end":{"line":445,"column":46}},"object":{"type":"ThisExpression","start":16956,"end":16960,"loc":{"start":{"line":445,"column":34},"end":{"line":445,"column":38}}},"property":{"type":"Identifier","start":16961,"end":16968,"loc":{"start":{"line":445,"column":39},"end":{"line":445,"column":46}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":16969,"end":16977,"loc":{"start":{"line":445,"column":47},"end":{"line":445,"column":55}},"name":"endpoint"},"computed":false},"kind":"init"},{"type":"Property","start":16979,"end":16986,"loc":{"start":{"line":445,"column":57},"end":{"line":445,"column":64}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":16979,"end":16986,"loc":{"start":{"line":445,"column":57},"end":{"line":445,"column":64}},"name":"headers"},"kind":"init","value":{"type":"Identifier","start":16979,"end":16986,"loc":{"start":{"line":445,"column":57},"end":{"line":445,"column":64}},"name":"headers"}},{"type":"Property","start":16988,"end":17002,"loc":{"start":{"line":445,"column":66},"end":{"line":445,"column":80}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16988,"end":16996,"loc":{"start":{"line":445,"column":66},"end":{"line":445,"column":74}},"name":"encoding"},"value":{"type":"Literal","start":16998,"end":17002,"loc":{"start":{"line":445,"column":76},"end":{"line":445,"column":80}},"value":null,"raw":"null"},"kind":"init"}]}}],"kind":"const"},{"type":"IfStatement","start":17014,"end":17476,"loc":{"start":{"line":446,"column":8},"end":{"line":459,"column":9}},"test":{"type":"MemberExpression","start":17018,"end":17042,"loc":{"start":{"line":446,"column":12},"end":{"line":446,"column":36}},"object":{"type":"MemberExpression","start":17018,"end":17030,"loc":{"start":{"line":446,"column":12},"end":{"line":446,"column":24}},"object":{"type":"ThisExpression","start":17018,"end":17022,"loc":{"start":{"line":446,"column":12},"end":{"line":446,"column":16}}},"property":{"type":"Identifier","start":17023,"end":17030,"loc":{"start":{"line":446,"column":17},"end":{"line":446,"column":24}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":17031,"end":17042,"loc":{"start":{"line":446,"column":25},"end":{"line":446,"column":36}},"name":"useFormData"},"computed":false},"consequent":{"type":"BlockStatement","start":17044,"end":17415,"loc":{"start":{"line":446,"column":38},"end":{"line":456,"column":9}},"body":[{"type":"ExpressionStatement","start":17058,"end":17405,"loc":{"start":{"line":447,"column":12},"end":{"line":455,"column":15}},"expression":{"type":"AssignmentExpression","start":17058,"end":17404,"loc":{"start":{"line":447,"column":12},"end":{"line":455,"column":14}},"operator":"=","left":{"type":"MemberExpression","start":17058,"end":17077,"loc":{"start":{"line":447,"column":12},"end":{"line":447,"column":31}},"object":{"type":"Identifier","start":17058,"end":17068,"loc":{"start":{"line":447,"column":12},"end":{"line":447,"column":22}},"name":"reqOptions"},"property":{"type":"Identifier","start":17069,"end":17077,"loc":{"start":{"line":447,"column":23},"end":{"line":447,"column":31}},"name":"formData"},"computed":false},"right":{"type":"CallExpression","start":17080,"end":17404,"loc":{"start":{"line":447,"column":34},"end":{"line":455,"column":14}},"callee":{"type":"MemberExpression","start":17080,"end":17093,"loc":{"start":{"line":447,"column":34},"end":{"line":447,"column":47}},"object":{"type":"Identifier","start":17080,"end":17086,"loc":{"start":{"line":447,"column":34},"end":{"line":447,"column":40}},"name":"Object"},"property":{"type":"Identifier","start":17087,"end":17093,"loc":{"start":{"line":447,"column":41},"end":{"line":447,"column":47}},"name":"assign"},"computed":false},"arguments":[{"type":"ObjectExpression","start":17094,"end":17096,"loc":{"start":{"line":447,"column":48},"end":{"line":447,"column":50}},"properties":[]},{"type":"MemberExpression","start":17098,"end":17119,"loc":{"start":{"line":447,"column":52},"end":{"line":447,"column":73}},"object":{"type":"MemberExpression","start":17098,"end":17110,"loc":{"start":{"line":447,"column":52},"end":{"line":447,"column":64}},"object":{"type":"ThisExpression","start":17098,"end":17102,"loc":{"start":{"line":447,"column":52},"end":{"line":447,"column":56}}},"property":{"type":"Identifier","start":17103,"end":17110,"loc":{"start":{"line":447,"column":57},"end":{"line":447,"column":64}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":17111,"end":17119,"loc":{"start":{"line":447,"column":65},"end":{"line":447,"column":73}},"name":"metadata"},"computed":false},{"type":"ObjectExpression","start":17121,"end":17403,"loc":{"start":{"line":447,"column":75},"end":{"line":455,"column":13}},"properties":[{"type":"Property","start":17139,"end":17389,"loc":{"start":{"line":448,"column":16},"end":{"line":454,"column":17}},"method":false,"shorthand":false,"computed":true,"key":{"type":"MemberExpression","start":17140,"end":17162,"loc":{"start":{"line":448,"column":17},"end":{"line":448,"column":39}},"object":{"type":"MemberExpression","start":17140,"end":17152,"loc":{"start":{"line":448,"column":17},"end":{"line":448,"column":29}},"object":{"type":"ThisExpression","start":17140,"end":17144,"loc":{"start":{"line":448,"column":17},"end":{"line":448,"column":21}}},"property":{"type":"Identifier","start":17145,"end":17152,"loc":{"start":{"line":448,"column":22},"end":{"line":448,"column":29}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":17153,"end":17162,"loc":{"start":{"line":448,"column":30},"end":{"line":448,"column":39}},"name":"fieldname"},"computed":false},"value":{"type":"ObjectExpression","start":17165,"end":17389,"loc":{"start":{"line":448,"column":42},"end":{"line":454,"column":17}},"properties":[{"type":"Property","start":17187,"end":17198,"loc":{"start":{"line":449,"column":20},"end":{"line":449,"column":31}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":17187,"end":17192,"loc":{"start":{"line":449,"column":20},"end":{"line":449,"column":25}},"name":"value"},"value":{"type":"Identifier","start":17194,"end":17198,"loc":{"start":{"line":449,"column":27},"end":{"line":449,"column":31}},"name":"file"},"kind":"init"},{"type":"Property","start":17220,"end":17371,"loc":{"start":{"line":450,"column":20},"end":{"line":453,"column":21}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":17220,"end":17227,"loc":{"start":{"line":450,"column":20},"end":{"line":450,"column":27}},"name":"options"},"value":{"type":"ObjectExpression","start":17229,"end":17371,"loc":{"start":{"line":450,"column":29},"end":{"line":453,"column":21}},"properties":[{"type":"Property","start":17255,"end":17284,"loc":{"start":{"line":451,"column":24},"end":{"line":451,"column":53}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":17255,"end":17263,"loc":{"start":{"line":451,"column":24},"end":{"line":451,"column":32}},"name":"filename"},"value":{"type":"MemberExpression","start":17265,"end":17284,"loc":{"start":{"line":451,"column":34},"end":{"line":451,"column":53}},"object":{"type":"ThisExpression","start":17265,"end":17269,"loc":{"start":{"line":451,"column":34},"end":{"line":451,"column":38}}},"property":{"type":"Identifier","start":17270,"end":17284,"loc":{"start":{"line":451,"column":39},"end":{"line":451,"column":53}},"name":"uploadFileName"},"computed":false},"kind":"init"},{"type":"Property","start":17310,"end":17349,"loc":{"start":{"line":452,"column":24},"end":{"line":452,"column":63}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":17310,"end":17321,"loc":{"start":{"line":452,"column":24},"end":{"line":452,"column":35}},"name":"contentType"},"value":{"type":"MemberExpression","start":17323,"end":17349,"loc":{"start":{"line":452,"column":37},"end":{"line":452,"column":63}},"object":{"type":"MemberExpression","start":17323,"end":17344,"loc":{"start":{"line":452,"column":37},"end":{"line":452,"column":58}},"object":{"type":"MemberExpression","start":17323,"end":17335,"loc":{"start":{"line":452,"column":37},"end":{"line":452,"column":49}},"object":{"type":"ThisExpression","start":17323,"end":17327,"loc":{"start":{"line":452,"column":37},"end":{"line":452,"column":41}}},"property":{"type":"Identifier","start":17328,"end":17335,"loc":{"start":{"line":452,"column":42},"end":{"line":452,"column":49}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":17336,"end":17344,"loc":{"start":{"line":452,"column":50},"end":{"line":452,"column":58}},"name":"metadata"},"computed":false},"property":{"type":"Identifier","start":17345,"end":17349,"loc":{"start":{"line":452,"column":59},"end":{"line":452,"column":63}},"name":"type"},"computed":false},"kind":"init"}]},"kind":"init"}]},"kind":"init"}]}]}}}]},"alternate":{"type":"BlockStatement","start":17429,"end":17476,"loc":{"start":{"line":457,"column":13},"end":{"line":459,"column":9}},"body":[{"type":"ExpressionStatement","start":17443,"end":17466,"loc":{"start":{"line":458,"column":12},"end":{"line":458,"column":35}},"expression":{"type":"AssignmentExpression","start":17443,"end":17465,"loc":{"start":{"line":458,"column":12},"end":{"line":458,"column":34}},"operator":"=","left":{"type":"MemberExpression","start":17443,"end":17458,"loc":{"start":{"line":458,"column":12},"end":{"line":458,"column":27}},"object":{"type":"Identifier","start":17443,"end":17453,"loc":{"start":{"line":458,"column":12},"end":{"line":458,"column":22}},"name":"reqOptions"},"property":{"type":"Identifier","start":17454,"end":17458,"loc":{"start":{"line":458,"column":23},"end":{"line":458,"column":27}},"name":"body"},"computed":false},"right":{"type":"Identifier","start":17461,"end":17465,"loc":{"start":{"line":458,"column":30},"end":{"line":458,"column":34}},"name":"file"}}}]}},{"type":"ExpressionStatement","start":17485,"end":18845,"loc":{"start":{"line":460,"column":8},"end":{"line":489,"column":11}},"expression":{"type":"CallExpression","start":17485,"end":18844,"loc":{"start":{"line":460,"column":8},"end":{"line":489,"column":10}},"callee":{"type":"MemberExpression","start":17485,"end":17504,"loc":{"start":{"line":460,"column":8},"end":{"line":460,"column":27}},"object":{"type":"Identifier","start":17485,"end":17492,"loc":{"start":{"line":460,"column":8},"end":{"line":460,"column":15}},"name":"request"},"property":{"type":"Identifier","start":17493,"end":17503,"loc":{"start":{"line":460,"column":16},"end":{"line":460,"column":26}},"name":"httpMethod"},"computed":true},"arguments":[{"type":"Identifier","start":17505,"end":17515,"loc":{"start":{"line":460,"column":28},"end":{"line":460,"column":38}},"name":"reqOptions"},{"type":"ArrowFunctionExpression","start":17517,"end":18843,"loc":{"start":{"line":460,"column":40},"end":{"line":489,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":17518,"end":17523,"loc":{"start":{"line":460,"column":41},"end":{"line":460,"column":46}},"name":"error"},{"type":"Identifier","start":17525,"end":17533,"loc":{"start":{"line":460,"column":48},"end":{"line":460,"column":56}},"name":"response"},{"type":"Identifier","start":17535,"end":17539,"loc":{"start":{"line":460,"column":58},"end":{"line":460,"column":62}},"name":"body"}],"body":{"type":"BlockStatement","start":17544,"end":18843,"loc":{"start":{"line":460,"column":67},"end":{"line":489,"column":9}},"body":[{"type":"IfStatement","start":17558,"end":17710,"loc":{"start":{"line":461,"column":12},"end":{"line":465,"column":13}},"test":{"type":"Identifier","start":17562,"end":17567,"loc":{"start":{"line":461,"column":16},"end":{"line":461,"column":21}},"name":"error"},"consequent":{"type":"BlockStatement","start":17569,"end":17710,"loc":{"start":{"line":461,"column":23},"end":{"line":465,"column":13}},"body":[{"type":"ExpressionStatement","start":17587,"end":17633,"loc":{"start":{"line":462,"column":16},"end":{"line":462,"column":62}},"expression":{"type":"CallExpression","start":17587,"end":17632,"loc":{"start":{"line":462,"column":16},"end":{"line":462,"column":61}},"callee":{"type":"MemberExpression","start":17587,"end":17599,"loc":{"start":{"line":462,"column":16},"end":{"line":462,"column":28}},"object":{"type":"Identifier","start":17587,"end":17593,"loc":{"start":{"line":462,"column":16},"end":{"line":462,"column":22}},"name":"logger"},"property":{"type":"Identifier","start":17594,"end":17599,"loc":{"start":{"line":462,"column":23},"end":{"line":462,"column":28}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":17600,"end":17605,"loc":{"start":{"line":462,"column":29},"end":{"line":462,"column":34}},"name":"error"},{"type":"Literal","start":17607,"end":17631,"loc":{"start":{"line":462,"column":36},"end":{"line":462,"column":60}},"value":"upload.multipart.error","raw":"'upload.multipart.error'"}]}},{"type":"ExpressionStatement","start":17650,"end":17672,"loc":{"start":{"line":463,"column":16},"end":{"line":463,"column":38}},"expression":{"type":"CallExpression","start":17650,"end":17671,"loc":{"start":{"line":463,"column":16},"end":{"line":463,"column":37}},"callee":{"type":"MemberExpression","start":17650,"end":17664,"loc":{"start":{"line":463,"column":16},"end":{"line":463,"column":30}},"object":{"type":"ThisExpression","start":17650,"end":17654,"loc":{"start":{"line":463,"column":16},"end":{"line":463,"column":20}}},"property":{"type":"Identifier","start":17655,"end":17664,"loc":{"start":{"line":463,"column":21},"end":{"line":463,"column":30}},"name":"emitError"},"computed":false},"arguments":[{"type":"Identifier","start":17665,"end":17670,"loc":{"start":{"line":463,"column":31},"end":{"line":463,"column":36}},"name":"error"}]}},{"type":"ReturnStatement","start":17689,"end":17696,"loc":{"start":{"line":464,"column":16},"end":{"line":464,"column":23}},"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":17723,"end":17756,"loc":{"start":{"line":466,"column":12},"end":{"line":466,"column":45}},"declarations":[{"type":"VariableDeclarator","start":17729,"end":17755,"loc":{"start":{"line":466,"column":18},"end":{"line":466,"column":44}},"id":{"type":"Identifier","start":17729,"end":17736,"loc":{"start":{"line":466,"column":18},"end":{"line":466,"column":25}},"name":"headers"},"init":{"type":"MemberExpression","start":17739,"end":17755,"loc":{"start":{"line":466,"column":28},"end":{"line":466,"column":44}},"object":{"type":"Identifier","start":17739,"end":17747,"loc":{"start":{"line":466,"column":28},"end":{"line":466,"column":36}},"name":"response"},"property":{"type":"Identifier","start":17748,"end":17755,"loc":{"start":{"line":466,"column":37},"end":{"line":466,"column":44}},"name":"headers"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":17817,"end":17846,"loc":{"start":{"line":468,"column":12},"end":{"line":468,"column":41}},"expression":{"type":"UnaryExpression","start":17817,"end":17845,"loc":{"start":{"line":468,"column":12},"end":{"line":468,"column":40}},"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":17824,"end":17845,"loc":{"start":{"line":468,"column":19},"end":{"line":468,"column":40}},"object":{"type":"Identifier","start":17824,"end":17831,"loc":{"start":{"line":468,"column":19},"end":{"line":468,"column":26}},"name":"headers"},"property":{"type":"Literal","start":17832,"end":17844,"loc":{"start":{"line":468,"column":27},"end":{"line":468,"column":39}},"value":"set-cookie","raw":"'set-cookie'"},"computed":true}}},{"type":"ExpressionStatement","start":17859,"end":17889,"loc":{"start":{"line":469,"column":12},"end":{"line":469,"column":42}},"expression":{"type":"UnaryExpression","start":17859,"end":17888,"loc":{"start":{"line":469,"column":12},"end":{"line":469,"column":41}},"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":17866,"end":17888,"loc":{"start":{"line":469,"column":19},"end":{"line":469,"column":41}},"object":{"type":"Identifier","start":17866,"end":17873,"loc":{"start":{"line":469,"column":19},"end":{"line":469,"column":26}},"name":"headers"},"property":{"type":"Literal","start":17874,"end":17887,"loc":{"start":{"line":469,"column":27},"end":{"line":469,"column":40}},"value":"set-cookie2","raw":"'set-cookie2'"},"computed":true}}},{"type":"VariableDeclaration","start":17902,"end":18102,"loc":{"start":{"line":470,"column":12},"end":{"line":475,"column":14}},"declarations":[{"type":"VariableDeclarator","start":17908,"end":18101,"loc":{"start":{"line":470,"column":18},"end":{"line":475,"column":13}},"id":{"type":"Identifier","start":17908,"end":17915,"loc":{"start":{"line":470,"column":18},"end":{"line":470,"column":25}},"name":"respObj"},"init":{"type":"ObjectExpression","start":17918,"end":18101,"loc":{"start":{"line":470,"column":28},"end":{"line":475,"column":13}},"properties":[{"type":"Property","start":17936,"end":17965,"loc":{"start":{"line":471,"column":16},"end":{"line":471,"column":45}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":17936,"end":17948,"loc":{"start":{"line":471,"column":16},"end":{"line":471,"column":28}},"name":"responseText"},"value":{"type":"CallExpression","start":17950,"end":17965,"loc":{"start":{"line":471,"column":30},"end":{"line":471,"column":45}},"callee":{"type":"MemberExpression","start":17950,"end":17963,"loc":{"start":{"line":471,"column":30},"end":{"line":471,"column":43}},"object":{"type":"Identifier","start":17950,"end":17954,"loc":{"start":{"line":471,"column":30},"end":{"line":471,"column":34}},"name":"body"},"property":{"type":"Identifier","start":17955,"end":17963,"loc":{"start":{"line":471,"column":35},"end":{"line":471,"column":43}},"name":"toString"},"computed":false},"arguments":[]},"kind":"init"},{"type":"Property","start":17983,"end":18010,"loc":{"start":{"line":472,"column":16},"end":{"line":472,"column":43}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":17983,"end":17989,"loc":{"start":{"line":472,"column":16},"end":{"line":472,"column":22}},"name":"status"},"value":{"type":"MemberExpression","start":17991,"end":18010,"loc":{"start":{"line":472,"column":24},"end":{"line":472,"column":43}},"object":{"type":"Identifier","start":17991,"end":17999,"loc":{"start":{"line":472,"column":24},"end":{"line":472,"column":32}},"name":"response"},"property":{"type":"Identifier","start":18000,"end":18010,"loc":{"start":{"line":472,"column":33},"end":{"line":472,"column":43}},"name":"statusCode"},"computed":false},"kind":"init"},{"type":"Property","start":18028,"end":18062,"loc":{"start":{"line":473,"column":16},"end":{"line":473,"column":50}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":18028,"end":18038,"loc":{"start":{"line":473,"column":16},"end":{"line":473,"column":26}},"name":"statusText"},"value":{"type":"MemberExpression","start":18040,"end":18062,"loc":{"start":{"line":473,"column":28},"end":{"line":473,"column":50}},"object":{"type":"Identifier","start":18040,"end":18048,"loc":{"start":{"line":473,"column":28},"end":{"line":473,"column":36}},"name":"response"},"property":{"type":"Identifier","start":18049,"end":18062,"loc":{"start":{"line":473,"column":37},"end":{"line":473,"column":50}},"name":"statusMessage"},"computed":false},"kind":"init"},{"type":"Property","start":18080,"end":18087,"loc":{"start":{"line":474,"column":16},"end":{"line":474,"column":23}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":18080,"end":18087,"loc":{"start":{"line":474,"column":16},"end":{"line":474,"column":23}},"name":"headers"},"kind":"init","value":{"type":"Identifier","start":18080,"end":18087,"loc":{"start":{"line":474,"column":16},"end":{"line":474,"column":23}},"name":"headers"}}]}}],"kind":"const"},{"type":"IfStatement","start":18115,"end":18805,"loc":{"start":{"line":476,"column":12},"end":{"line":487,"column":13}},"test":{"type":"BinaryExpression","start":18119,"end":18145,"loc":{"start":{"line":476,"column":16},"end":{"line":476,"column":42}},"left":{"type":"MemberExpression","start":18119,"end":18138,"loc":{"start":{"line":476,"column":16},"end":{"line":476,"column":35}},"object":{"type":"Identifier","start":18119,"end":18127,"loc":{"start":{"line":476,"column":16},"end":{"line":476,"column":24}},"name":"response"},"property":{"type":"Identifier","start":18128,"end":18138,"loc":{"start":{"line":476,"column":25},"end":{"line":476,"column":35}},"name":"statusCode"},"computed":false},"operator":">=","right":{"type":"Literal","start":18142,"end":18145,"loc":{"start":{"line":476,"column":39},"end":{"line":476,"column":42}},"value":400,"raw":"400"}},"consequent":{"type":"BlockStatement","start":18147,"end":18347,"loc":{"start":{"line":476,"column":44},"end":{"line":479,"column":13}},"body":[{"type":"ExpressionStatement","start":18165,"end":18257,"loc":{"start":{"line":477,"column":16},"end":{"line":477,"column":108}},"expression":{"type":"CallExpression","start":18165,"end":18256,"loc":{"start":{"line":477,"column":16},"end":{"line":477,"column":107}},"callee":{"type":"MemberExpression","start":18165,"end":18177,"loc":{"start":{"line":477,"column":16},"end":{"line":477,"column":28}},"object":{"type":"Identifier","start":18165,"end":18171,"loc":{"start":{"line":477,"column":16},"end":{"line":477,"column":22}},"name":"logger"},"property":{"type":"Identifier","start":18172,"end":18177,"loc":{"start":{"line":477,"column":23},"end":{"line":477,"column":28}},"name":"error"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":18178,"end":18229,"loc":{"start":{"line":477,"column":29},"end":{"line":477,"column":80}},"expressions":[{"type":"MemberExpression","start":18208,"end":18227,"loc":{"start":{"line":477,"column":59},"end":{"line":477,"column":78}},"object":{"type":"Identifier","start":18208,"end":18216,"loc":{"start":{"line":477,"column":59},"end":{"line":477,"column":67}},"name":"response"},"property":{"type":"Identifier","start":18217,"end":18227,"loc":{"start":{"line":477,"column":68},"end":{"line":477,"column":78}},"name":"statusCode"},"computed":false}],"quasis":[{"type":"TemplateElement","start":18179,"end":18206,"loc":{"start":{"line":477,"column":30},"end":{"line":477,"column":57}},"value":{"raw":"upload failed with status: ","cooked":"upload failed with status: "},"tail":false},{"type":"TemplateElement","start":18228,"end":18228,"loc":{"start":{"line":477,"column":79},"end":{"line":477,"column":79}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"Literal","start":18231,"end":18255,"loc":{"start":{"line":477,"column":82},"end":{"line":477,"column":106}},"value":"upload.multipart.error","raw":"'upload.multipart.error'"}]}},{"type":"ExpressionStatement","start":18274,"end":18333,"loc":{"start":{"line":478,"column":16},"end":{"line":478,"column":75}},"expression":{"type":"CallExpression","start":18274,"end":18332,"loc":{"start":{"line":478,"column":16},"end":{"line":478,"column":74}},"callee":{"type":"MemberExpression","start":18274,"end":18288,"loc":{"start":{"line":478,"column":16},"end":{"line":478,"column":30}},"object":{"type":"ThisExpression","start":18274,"end":18278,"loc":{"start":{"line":478,"column":16},"end":{"line":478,"column":20}}},"property":{"type":"Identifier","start":18279,"end":18288,"loc":{"start":{"line":478,"column":21},"end":{"line":478,"column":30}},"name":"emitError"},"computed":false},"arguments":[{"type":"NewExpression","start":18289,"end":18322,"loc":{"start":{"line":478,"column":31},"end":{"line":478,"column":64}},"callee":{"type":"Identifier","start":18293,"end":18298,"loc":{"start":{"line":478,"column":35},"end":{"line":478,"column":40}},"name":"Error"},"arguments":[{"type":"MemberExpression","start":18299,"end":18321,"loc":{"start":{"line":478,"column":41},"end":{"line":478,"column":63}},"object":{"type":"Identifier","start":18299,"end":18307,"loc":{"start":{"line":478,"column":41},"end":{"line":478,"column":49}},"name":"response"},"property":{"type":"Identifier","start":18308,"end":18321,"loc":{"start":{"line":478,"column":50},"end":{"line":478,"column":63}},"name":"statusMessage"},"computed":false}]},{"type":"Identifier","start":18324,"end":18331,"loc":{"start":{"line":478,"column":66},"end":{"line":478,"column":73}},"name":"respObj"}]}}]},"alternate":{"type":"IfStatement","start":18365,"end":18805,"loc":{"start":{"line":480,"column":17},"end":{"line":487,"column":13}},"test":{"type":"LogicalExpression","start":18369,"end":18443,"loc":{"start":{"line":480,"column":21},"end":{"line":480,"column":95}},"left":{"type":"BinaryExpression","start":18369,"end":18404,"loc":{"start":{"line":480,"column":21},"end":{"line":480,"column":56}},"left":{"type":"Identifier","start":18369,"end":18382,"loc":{"start":{"line":480,"column":21},"end":{"line":480,"column":34}},"name":"bytesUploaded"},"operator":"!==","right":{"type":"MemberExpression","start":18387,"end":18404,"loc":{"start":{"line":480,"column":39},"end":{"line":480,"column":56}},"object":{"type":"ThisExpression","start":18387,"end":18391,"loc":{"start":{"line":480,"column":39},"end":{"line":480,"column":43}}},"property":{"type":"Identifier","start":18392,"end":18404,"loc":{"start":{"line":480,"column":44},"end":{"line":480,"column":56}},"name":"bytesWritten"},"computed":false}},"operator":"&&","right":{"type":"BinaryExpression","start":18408,"end":18443,"loc":{"start":{"line":480,"column":60},"end":{"line":480,"column":95}},"left":{"type":"Identifier","start":18408,"end":18421,"loc":{"start":{"line":480,"column":60},"end":{"line":480,"column":73}},"name":"bytesUploaded"},"operator":"!==","right":{"type":"MemberExpression","start":18426,"end":18443,"loc":{"start":{"line":480,"column":78},"end":{"line":480,"column":95}},"object":{"type":"MemberExpression","start":18426,"end":18438,"loc":{"start":{"line":480,"column":78},"end":{"line":480,"column":90}},"object":{"type":"ThisExpression","start":18426,"end":18430,"loc":{"start":{"line":480,"column":78},"end":{"line":480,"column":82}}},"property":{"type":"Identifier","start":18431,"end":18438,"loc":{"start":{"line":480,"column":83},"end":{"line":480,"column":90}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":18439,"end":18443,"loc":{"start":{"line":480,"column":91},"end":{"line":480,"column":95}},"name":"size"},"computed":false}}},"consequent":{"type":"BlockStatement","start":18445,"end":18709,"loc":{"start":{"line":480,"column":97},"end":{"line":484,"column":13}},"body":[{"type":"VariableDeclaration","start":18463,"end":18571,"loc":{"start":{"line":481,"column":16},"end":{"line":481,"column":124}},"declarations":[{"type":"VariableDeclarator","start":18469,"end":18570,"loc":{"start":{"line":481,"column":22},"end":{"line":481,"column":123}},"id":{"type":"Identifier","start":18469,"end":18475,"loc":{"start":{"line":481,"column":22},"end":{"line":481,"column":28}},"name":"errMsg"},"init":{"type":"TemplateLiteral","start":18478,"end":18570,"loc":{"start":{"line":481,"column":31},"end":{"line":481,"column":123}},"expressions":[{"type":"Identifier","start":18495,"end":18508,"loc":{"start":{"line":481,"column":48},"end":{"line":481,"column":61}},"name":"bytesUploaded"},{"type":"MemberExpression","start":18515,"end":18532,"loc":{"start":{"line":481,"column":68},"end":{"line":481,"column":85}},"object":{"type":"ThisExpression","start":18515,"end":18519,"loc":{"start":{"line":481,"column":68},"end":{"line":481,"column":72}}},"property":{"type":"Identifier","start":18520,"end":18532,"loc":{"start":{"line":481,"column":73},"end":{"line":481,"column":85}},"name":"bytesWritten"},"computed":false},{"type":"MemberExpression","start":18549,"end":18568,"loc":{"start":{"line":481,"column":102},"end":{"line":481,"column":121}},"object":{"type":"Identifier","start":18549,"end":18557,"loc":{"start":{"line":481,"column":102},"end":{"line":481,"column":110}},"name":"response"},"property":{"type":"Identifier","start":18558,"end":18568,"loc":{"start":{"line":481,"column":111},"end":{"line":481,"column":121}},"name":"statusCode"},"computed":false}],"quasis":[{"type":"TemplateElement","start":18479,"end":18493,"loc":{"start":{"line":481,"column":32},"end":{"line":481,"column":46}},"value":{"raw":"uploaded only ","cooked":"uploaded only "},"tail":false},{"type":"TemplateElement","start":18509,"end":18513,"loc":{"start":{"line":481,"column":62},"end":{"line":481,"column":66}},"value":{"raw":" of ","cooked":" of "},"tail":false},{"type":"TemplateElement","start":18533,"end":18547,"loc":{"start":{"line":481,"column":86},"end":{"line":481,"column":100}},"value":{"raw":" with status: ","cooked":" with status: "},"tail":false},{"type":"TemplateElement","start":18569,"end":18569,"loc":{"start":{"line":481,"column":122},"end":{"line":481,"column":122}},"value":{"raw":"","cooked":""},"tail":true}]}}],"kind":"const"},{"type":"ExpressionStatement","start":18588,"end":18644,"loc":{"start":{"line":482,"column":16},"end":{"line":482,"column":72}},"expression":{"type":"CallExpression","start":18588,"end":18643,"loc":{"start":{"line":482,"column":16},"end":{"line":482,"column":71}},"callee":{"type":"MemberExpression","start":18588,"end":18600,"loc":{"start":{"line":482,"column":16},"end":{"line":482,"column":28}},"object":{"type":"Identifier","start":18588,"end":18594,"loc":{"start":{"line":482,"column":16},"end":{"line":482,"column":22}},"name":"logger"},"property":{"type":"Identifier","start":18595,"end":18600,"loc":{"start":{"line":482,"column":23},"end":{"line":482,"column":28}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":18601,"end":18607,"loc":{"start":{"line":482,"column":29},"end":{"line":482,"column":35}},"name":"errMsg"},{"type":"Literal","start":18609,"end":18642,"loc":{"start":{"line":482,"column":37},"end":{"line":482,"column":70}},"value":"upload.multipart.mismatch.error","raw":"'upload.multipart.mismatch.error'"}]}},{"type":"ExpressionStatement","start":18661,"end":18695,"loc":{"start":{"line":483,"column":16},"end":{"line":483,"column":50}},"expression":{"type":"CallExpression","start":18661,"end":18694,"loc":{"start":{"line":483,"column":16},"end":{"line":483,"column":49}},"callee":{"type":"MemberExpression","start":18661,"end":18675,"loc":{"start":{"line":483,"column":16},"end":{"line":483,"column":30}},"object":{"type":"ThisExpression","start":18661,"end":18665,"loc":{"start":{"line":483,"column":16},"end":{"line":483,"column":20}}},"property":{"type":"Identifier","start":18666,"end":18675,"loc":{"start":{"line":483,"column":21},"end":{"line":483,"column":30}},"name":"emitError"},"computed":false},"arguments":[{"type":"NewExpression","start":18676,"end":18693,"loc":{"start":{"line":483,"column":31},"end":{"line":483,"column":48}},"callee":{"type":"Identifier","start":18680,"end":18685,"loc":{"start":{"line":483,"column":35},"end":{"line":483,"column":40}},"name":"Error"},"arguments":[{"type":"Identifier","start":18686,"end":18692,"loc":{"start":{"line":483,"column":41},"end":{"line":483,"column":47}},"name":"errMsg"}]}]}}]},"alternate":{"type":"BlockStatement","start":18727,"end":18805,"loc":{"start":{"line":485,"column":17},"end":{"line":487,"column":13}},"body":[{"type":"ExpressionStatement","start":18745,"end":18791,"loc":{"start":{"line":486,"column":16},"end":{"line":486,"column":62}},"expression":{"type":"CallExpression","start":18745,"end":18790,"loc":{"start":{"line":486,"column":16},"end":{"line":486,"column":61}},"callee":{"type":"MemberExpression","start":18745,"end":18761,"loc":{"start":{"line":486,"column":16},"end":{"line":486,"column":32}},"object":{"type":"ThisExpression","start":18745,"end":18749,"loc":{"start":{"line":486,"column":16},"end":{"line":486,"column":20}}},"property":{"type":"Identifier","start":18750,"end":18761,"loc":{"start":{"line":486,"column":21},"end":{"line":486,"column":32}},"name":"emitSuccess"},"computed":false},"arguments":[{"type":"Literal","start":18762,"end":18766,"loc":{"start":{"line":486,"column":33},"end":{"line":486,"column":37}},"value":null,"raw":"null"},{"type":"ObjectExpression","start":18768,"end":18789,"loc":{"start":{"line":486,"column":39},"end":{"line":486,"column":60}},"properties":[{"type":"Property","start":18770,"end":18787,"loc":{"start":{"line":486,"column":41},"end":{"line":486,"column":58}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":18770,"end":18778,"loc":{"start":{"line":486,"column":41},"end":{"line":486,"column":49}},"name":"response"},"value":{"type":"Identifier","start":18780,"end":18787,"loc":{"start":{"line":486,"column":51},"end":{"line":486,"column":58}},"name":"respObj"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":18818,"end":18833,"loc":{"start":{"line":488,"column":12},"end":{"line":488,"column":27}},"expression":{"type":"CallExpression","start":18818,"end":18832,"loc":{"start":{"line":488,"column":12},"end":{"line":488,"column":26}},"callee":{"type":"MemberExpression","start":18818,"end":18830,"loc":{"start":{"line":488,"column":12},"end":{"line":488,"column":24}},"object":{"type":"ThisExpression","start":18818,"end":18822,"loc":{"start":{"line":488,"column":12},"end":{"line":488,"column":16}}},"property":{"type":"Identifier","start":18823,"end":18830,"loc":{"start":{"line":488,"column":17},"end":{"line":488,"column":24}},"name":"cleanUp"},"computed":false},"arguments":[]}}]}}]}}]}}},{"type":"MethodDefinition","start":18927,"end":19059,"loc":{"start":{"line":494,"column":4},"end":{"line":497,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":18927,"end":18944,"loc":{"start":{"line":494,"column":4},"end":{"line":494,"column":21}},"name":"uploadS3Multipart"},"value":{"type":"FunctionExpression","start":18944,"end":19059,"loc":{"start":{"line":494,"column":21},"end":{"line":497,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":18947,"end":19059,"loc":{"start":{"line":494,"column":24},"end":{"line":497,"column":5}},"body":[{"type":"VariableDeclaration","start":18957,"end":19001,"loc":{"start":{"line":495,"column":8},"end":{"line":495,"column":52}},"declarations":[{"type":"VariableDeclarator","start":18963,"end":19000,"loc":{"start":{"line":495,"column":14},"end":{"line":495,"column":51}},"id":{"type":"Identifier","start":18963,"end":18967,"loc":{"start":{"line":495,"column":14},"end":{"line":495,"column":18}},"name":"file"},"init":{"type":"CallExpression","start":18970,"end":19000,"loc":{"start":{"line":495,"column":21},"end":{"line":495,"column":51}},"callee":{"type":"MemberExpression","start":18970,"end":18989,"loc":{"start":{"line":495,"column":21},"end":{"line":495,"column":40}},"object":{"type":"Identifier","start":18970,"end":18972,"loc":{"start":{"line":495,"column":21},"end":{"line":495,"column":23}},"name":"fs"},"property":{"type":"Identifier","start":18973,"end":18989,"loc":{"start":{"line":495,"column":24},"end":{"line":495,"column":40}},"name":"createReadStream"},"computed":false},"arguments":[{"type":"MemberExpression","start":18990,"end":18999,"loc":{"start":{"line":495,"column":41},"end":{"line":495,"column":50}},"object":{"type":"ThisExpression","start":18990,"end":18994,"loc":{"start":{"line":495,"column":41},"end":{"line":495,"column":45}}},"property":{"type":"Identifier","start":18995,"end":18999,"loc":{"start":{"line":495,"column":46},"end":{"line":495,"column":50}},"name":"path"},"computed":false}]}}],"kind":"const"},{"type":"ReturnStatement","start":19010,"end":19053,"loc":{"start":{"line":496,"column":8},"end":{"line":496,"column":51}},"argument":{"type":"CallExpression","start":19017,"end":19052,"loc":{"start":{"line":496,"column":15},"end":{"line":496,"column":50}},"callee":{"type":"MemberExpression","start":19017,"end":19046,"loc":{"start":{"line":496,"column":15},"end":{"line":496,"column":44}},"object":{"type":"ThisExpression","start":19017,"end":19021,"loc":{"start":{"line":496,"column":15},"end":{"line":496,"column":19}}},"property":{"type":"Identifier","start":19022,"end":19046,"loc":{"start":{"line":496,"column":20},"end":{"line":496,"column":44}},"name":"_uploadS3MultipartStream"},"computed":false},"arguments":[{"type":"Identifier","start":19047,"end":19051,"loc":{"start":{"line":496,"column":45},"end":{"line":496,"column":49}},"name":"file"}]}}]}}},{"type":"MethodDefinition","start":19110,"end":20466,"loc":{"start":{"line":501,"column":4},"end":{"line":537,"column":5}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":19110,"end":19134,"loc":{"start":{"line":501,"column":4},"end":{"line":501,"column":28}},"name":"_uploadS3MultipartStream"},"value":{"type":"FunctionExpression","start":19134,"end":20466,"loc":{"start":{"line":501,"column":28},"end":{"line":537,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":19135,"end":19141,"loc":{"start":{"line":501,"column":29},"end":{"line":501,"column":35}},"name":"stream"}],"body":{"type":"BlockStatement","start":19143,"end":20466,"loc":{"start":{"line":501,"column":37},"end":{"line":537,"column":5}},"body":[{"type":"IfStatement","start":19153,"end":19308,"loc":{"start":{"line":502,"column":8},"end":{"line":505,"column":9}},"test":{"type":"UnaryExpression","start":19157,"end":19173,"loc":{"start":{"line":502,"column":12},"end":{"line":502,"column":28}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":19158,"end":19173,"loc":{"start":{"line":502,"column":13},"end":{"line":502,"column":28}},"object":{"type":"MemberExpression","start":19158,"end":19170,"loc":{"start":{"line":502,"column":13},"end":{"line":502,"column":25}},"object":{"type":"ThisExpression","start":19158,"end":19162,"loc":{"start":{"line":502,"column":13},"end":{"line":502,"column":17}}},"property":{"type":"Identifier","start":19163,"end":19170,"loc":{"start":{"line":502,"column":18},"end":{"line":502,"column":25}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":19171,"end":19173,"loc":{"start":{"line":502,"column":26},"end":{"line":502,"column":28}},"name":"s3"},"computed":false}},"consequent":{"type":"BlockStatement","start":19175,"end":19308,"loc":{"start":{"line":502,"column":30},"end":{"line":505,"column":9}},"body":[{"type":"ExpressionStatement","start":19189,"end":19278,"loc":{"start":{"line":503,"column":12},"end":{"line":503,"column":101}},"expression":{"type":"CallExpression","start":19189,"end":19277,"loc":{"start":{"line":503,"column":12},"end":{"line":503,"column":100}},"callee":{"type":"MemberExpression","start":19189,"end":19203,"loc":{"start":{"line":503,"column":12},"end":{"line":503,"column":26}},"object":{"type":"ThisExpression","start":19189,"end":19193,"loc":{"start":{"line":503,"column":12},"end":{"line":503,"column":16}}},"property":{"type":"Identifier","start":19194,"end":19203,"loc":{"start":{"line":503,"column":17},"end":{"line":503,"column":26}},"name":"emitError"},"computed":false},"arguments":[{"type":"NewExpression","start":19204,"end":19276,"loc":{"start":{"line":503,"column":27},"end":{"line":503,"column":99}},"callee":{"type":"Identifier","start":19208,"end":19213,"loc":{"start":{"line":503,"column":31},"end":{"line":503,"column":36}},"name":"Error"},"arguments":[{"type":"Literal","start":19214,"end":19275,"loc":{"start":{"line":503,"column":37},"end":{"line":503,"column":98}},"value":"The S3 client is not configured on this companion instance.","raw":"'The S3 client is not configured on this companion instance.'"}]}]}},{"type":"ReturnStatement","start":19291,"end":19298,"loc":{"start":{"line":504,"column":12},"end":{"line":504,"column":19}},"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":19317,"end":19389,"loc":{"start":{"line":506,"column":8},"end":{"line":506,"column":80}},"declarations":[{"type":"VariableDeclarator","start":19323,"end":19388,"loc":{"start":{"line":506,"column":14},"end":{"line":506,"column":79}},"id":{"type":"Identifier","start":19323,"end":19331,"loc":{"start":{"line":506,"column":14},"end":{"line":506,"column":22}},"name":"filename"},"init":{"type":"LogicalExpression","start":19334,"end":19388,"loc":{"start":{"line":506,"column":25},"end":{"line":506,"column":79}},"left":{"type":"MemberExpression","start":19334,"end":19360,"loc":{"start":{"line":506,"column":25},"end":{"line":506,"column":51}},"object":{"type":"MemberExpression","start":19334,"end":19355,"loc":{"start":{"line":506,"column":25},"end":{"line":506,"column":46}},"object":{"type":"MemberExpression","start":19334,"end":19346,"loc":{"start":{"line":506,"column":25},"end":{"line":506,"column":37}},"object":{"type":"ThisExpression","start":19334,"end":19338,"loc":{"start":{"line":506,"column":25},"end":{"line":506,"column":29}}},"property":{"type":"Identifier","start":19339,"end":19346,"loc":{"start":{"line":506,"column":30},"end":{"line":506,"column":37}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":19347,"end":19355,"loc":{"start":{"line":506,"column":38},"end":{"line":506,"column":46}},"name":"metadata"},"computed":false},"property":{"type":"Identifier","start":19356,"end":19360,"loc":{"start":{"line":506,"column":47},"end":{"line":506,"column":51}},"name":"name"},"computed":false},"operator":"||","right":{"type":"CallExpression","start":19364,"end":19388,"loc":{"start":{"line":506,"column":55},"end":{"line":506,"column":79}},"callee":{"type":"MemberExpression","start":19364,"end":19377,"loc":{"start":{"line":506,"column":55},"end":{"line":506,"column":68}},"object":{"type":"Identifier","start":19364,"end":19368,"loc":{"start":{"line":506,"column":55},"end":{"line":506,"column":59}},"name":"path"},"property":{"type":"Identifier","start":19369,"end":19377,"loc":{"start":{"line":506,"column":60},"end":{"line":506,"column":68}},"name":"basename"},"computed":false},"arguments":[{"type":"MemberExpression","start":19378,"end":19387,"loc":{"start":{"line":506,"column":69},"end":{"line":506,"column":78}},"object":{"type":"ThisExpression","start":19378,"end":19382,"loc":{"start":{"line":506,"column":69},"end":{"line":506,"column":73}}},"property":{"type":"Identifier","start":19383,"end":19387,"loc":{"start":{"line":506,"column":74},"end":{"line":506,"column":78}},"name":"path"},"computed":false}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":19398,"end":19442,"loc":{"start":{"line":507,"column":8},"end":{"line":507,"column":52}},"declarations":[{"type":"VariableDeclarator","start":19404,"end":19441,"loc":{"start":{"line":507,"column":14},"end":{"line":507,"column":51}},"id":{"type":"ObjectPattern","start":19404,"end":19423,"loc":{"start":{"line":507,"column":14},"end":{"line":507,"column":33}},"properties":[{"type":"Property","start":19406,"end":19412,"loc":{"start":{"line":507,"column":16},"end":{"line":507,"column":22}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":19406,"end":19412,"loc":{"start":{"line":507,"column":16},"end":{"line":507,"column":22}},"name":"client"},"kind":"init","value":{"type":"Identifier","start":19406,"end":19412,"loc":{"start":{"line":507,"column":16},"end":{"line":507,"column":22}},"name":"client"}},{"type":"Property","start":19414,"end":19421,"loc":{"start":{"line":507,"column":24},"end":{"line":507,"column":31}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":19414,"end":19421,"loc":{"start":{"line":507,"column":24},"end":{"line":507,"column":31}},"name":"options"},"kind":"init","value":{"type":"Identifier","start":19414,"end":19421,"loc":{"start":{"line":507,"column":24},"end":{"line":507,"column":31}},"name":"options"}}]},"init":{"type":"MemberExpression","start":19426,"end":19441,"loc":{"start":{"line":507,"column":36},"end":{"line":507,"column":51}},"object":{"type":"MemberExpression","start":19426,"end":19438,"loc":{"start":{"line":507,"column":36},"end":{"line":507,"column":48}},"object":{"type":"ThisExpression","start":19426,"end":19430,"loc":{"start":{"line":507,"column":36},"end":{"line":507,"column":40}}},"property":{"type":"Identifier","start":19431,"end":19438,"loc":{"start":{"line":507,"column":41},"end":{"line":507,"column":48}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":19439,"end":19441,"loc":{"start":{"line":507,"column":49},"end":{"line":507,"column":51}},"name":"s3"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":19451,"end":19709,"loc":{"start":{"line":508,"column":8},"end":{"line":514,"column":11}},"declarations":[{"type":"VariableDeclarator","start":19457,"end":19708,"loc":{"start":{"line":508,"column":14},"end":{"line":514,"column":10}},"id":{"type":"Identifier","start":19457,"end":19463,"loc":{"start":{"line":508,"column":14},"end":{"line":508,"column":20}},"name":"upload"},"init":{"type":"CallExpression","start":19466,"end":19708,"loc":{"start":{"line":508,"column":23},"end":{"line":514,"column":10}},"callee":{"type":"MemberExpression","start":19466,"end":19479,"loc":{"start":{"line":508,"column":23},"end":{"line":508,"column":36}},"object":{"type":"Identifier","start":19466,"end":19472,"loc":{"start":{"line":508,"column":23},"end":{"line":508,"column":29}},"name":"client"},"property":{"type":"Identifier","start":19473,"end":19479,"loc":{"start":{"line":508,"column":30},"end":{"line":508,"column":36}},"name":"upload"},"computed":false},"arguments":[{"type":"ObjectExpression","start":19480,"end":19707,"loc":{"start":{"line":508,"column":37},"end":{"line":514,"column":9}},"properties":[{"type":"Property","start":19494,"end":19516,"loc":{"start":{"line":509,"column":12},"end":{"line":509,"column":34}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":19494,"end":19500,"loc":{"start":{"line":509,"column":12},"end":{"line":509,"column":18}},"name":"Bucket"},"value":{"type":"MemberExpression","start":19502,"end":19516,"loc":{"start":{"line":509,"column":20},"end":{"line":509,"column":34}},"object":{"type":"Identifier","start":19502,"end":19509,"loc":{"start":{"line":509,"column":20},"end":{"line":509,"column":27}},"name":"options"},"property":{"type":"Identifier","start":19510,"end":19516,"loc":{"start":{"line":509,"column":28},"end":{"line":509,"column":34}},"name":"bucket"},"computed":false},"kind":"init"},{"type":"Property","start":19530,"end":19588,"loc":{"start":{"line":510,"column":12},"end":{"line":510,"column":70}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":19530,"end":19533,"loc":{"start":{"line":510,"column":12},"end":{"line":510,"column":15}},"name":"Key"},"value":{"type":"CallExpression","start":19535,"end":19588,"loc":{"start":{"line":510,"column":17},"end":{"line":510,"column":70}},"callee":{"type":"MemberExpression","start":19535,"end":19549,"loc":{"start":{"line":510,"column":17},"end":{"line":510,"column":31}},"object":{"type":"Identifier","start":19535,"end":19542,"loc":{"start":{"line":510,"column":17},"end":{"line":510,"column":24}},"name":"options"},"property":{"type":"Identifier","start":19543,"end":19549,"loc":{"start":{"line":510,"column":25},"end":{"line":510,"column":31}},"name":"getKey"},"computed":false},"arguments":[{"type":"Literal","start":19550,"end":19554,"loc":{"start":{"line":510,"column":32},"end":{"line":510,"column":36}},"value":null,"raw":"null"},{"type":"Identifier","start":19556,"end":19564,"loc":{"start":{"line":510,"column":38},"end":{"line":510,"column":46}},"name":"filename"},{"type":"MemberExpression","start":19566,"end":19587,"loc":{"start":{"line":510,"column":48},"end":{"line":510,"column":69}},"object":{"type":"MemberExpression","start":19566,"end":19578,"loc":{"start":{"line":510,"column":48},"end":{"line":510,"column":60}},"object":{"type":"ThisExpression","start":19566,"end":19570,"loc":{"start":{"line":510,"column":48},"end":{"line":510,"column":52}}},"property":{"type":"Identifier","start":19571,"end":19578,"loc":{"start":{"line":510,"column":53},"end":{"line":510,"column":60}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":19579,"end":19587,"loc":{"start":{"line":510,"column":61},"end":{"line":510,"column":69}},"name":"metadata"},"computed":false}]},"kind":"init"},{"type":"Property","start":19602,"end":19618,"loc":{"start":{"line":511,"column":12},"end":{"line":511,"column":28}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":19602,"end":19605,"loc":{"start":{"line":511,"column":12},"end":{"line":511,"column":15}},"name":"ACL"},"value":{"type":"MemberExpression","start":19607,"end":19618,"loc":{"start":{"line":511,"column":17},"end":{"line":511,"column":28}},"object":{"type":"Identifier","start":19607,"end":19614,"loc":{"start":{"line":511,"column":17},"end":{"line":511,"column":24}},"name":"options"},"property":{"type":"Identifier","start":19615,"end":19618,"loc":{"start":{"line":511,"column":25},"end":{"line":511,"column":28}},"name":"acl"},"computed":false},"kind":"init"},{"type":"Property","start":19632,"end":19671,"loc":{"start":{"line":512,"column":12},"end":{"line":512,"column":51}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":19632,"end":19643,"loc":{"start":{"line":512,"column":12},"end":{"line":512,"column":23}},"name":"ContentType"},"value":{"type":"MemberExpression","start":19645,"end":19671,"loc":{"start":{"line":512,"column":25},"end":{"line":512,"column":51}},"object":{"type":"MemberExpression","start":19645,"end":19666,"loc":{"start":{"line":512,"column":25},"end":{"line":512,"column":46}},"object":{"type":"MemberExpression","start":19645,"end":19657,"loc":{"start":{"line":512,"column":25},"end":{"line":512,"column":37}},"object":{"type":"ThisExpression","start":19645,"end":19649,"loc":{"start":{"line":512,"column":25},"end":{"line":512,"column":29}}},"property":{"type":"Identifier","start":19650,"end":19657,"loc":{"start":{"line":512,"column":30},"end":{"line":512,"column":37}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":19658,"end":19666,"loc":{"start":{"line":512,"column":38},"end":{"line":512,"column":46}},"name":"metadata"},"computed":false},"property":{"type":"Identifier","start":19667,"end":19671,"loc":{"start":{"line":512,"column":47},"end":{"line":512,"column":51}},"name":"type"},"computed":false},"kind":"init"},{"type":"Property","start":19685,"end":19697,"loc":{"start":{"line":513,"column":12},"end":{"line":513,"column":24}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":19685,"end":19689,"loc":{"start":{"line":513,"column":12},"end":{"line":513,"column":16}},"name":"Body"},"value":{"type":"Identifier","start":19691,"end":19697,"loc":{"start":{"line":513,"column":18},"end":{"line":513,"column":24}},"name":"stream"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":19718,"end":19741,"loc":{"start":{"line":515,"column":8},"end":{"line":515,"column":31}},"expression":{"type":"AssignmentExpression","start":19718,"end":19740,"loc":{"start":{"line":515,"column":8},"end":{"line":515,"column":30}},"operator":"=","left":{"type":"MemberExpression","start":19718,"end":19731,"loc":{"start":{"line":515,"column":8},"end":{"line":515,"column":21}},"object":{"type":"ThisExpression","start":19718,"end":19722,"loc":{"start":{"line":515,"column":8},"end":{"line":515,"column":12}}},"property":{"type":"Identifier","start":19723,"end":19731,"loc":{"start":{"line":515,"column":13},"end":{"line":515,"column":21}},"name":"s3Upload"},"computed":false},"right":{"type":"Identifier","start":19734,"end":19740,"loc":{"start":{"line":515,"column":24},"end":{"line":515,"column":30}},"name":"upload"}}},{"type":"ExpressionStatement","start":19750,"end":19864,"loc":{"start":{"line":516,"column":8},"end":{"line":518,"column":11}},"expression":{"type":"CallExpression","start":19750,"end":19863,"loc":{"start":{"line":516,"column":8},"end":{"line":518,"column":10}},"callee":{"type":"MemberExpression","start":19750,"end":19759,"loc":{"start":{"line":516,"column":8},"end":{"line":516,"column":17}},"object":{"type":"Identifier","start":19750,"end":19756,"loc":{"start":{"line":516,"column":8},"end":{"line":516,"column":14}},"name":"upload"},"property":{"type":"Identifier","start":19757,"end":19759,"loc":{"start":{"line":516,"column":15},"end":{"line":516,"column":17}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":19760,"end":19780,"loc":{"start":{"line":516,"column":18},"end":{"line":516,"column":38}},"value":"httpUploadProgress","raw":"'httpUploadProgress'"},{"type":"ArrowFunctionExpression","start":19782,"end":19862,"loc":{"start":{"line":516,"column":40},"end":{"line":518,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":19783,"end":19800,"loc":{"start":{"line":516,"column":41},"end":{"line":516,"column":58}},"properties":[{"type":"Property","start":19785,"end":19791,"loc":{"start":{"line":516,"column":43},"end":{"line":516,"column":49}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":19785,"end":19791,"loc":{"start":{"line":516,"column":43},"end":{"line":516,"column":49}},"name":"loaded"},"kind":"init","value":{"type":"Identifier","start":19785,"end":19791,"loc":{"start":{"line":516,"column":43},"end":{"line":516,"column":49}},"name":"loaded"}},{"type":"Property","start":19793,"end":19798,"loc":{"start":{"line":516,"column":51},"end":{"line":516,"column":56}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":19793,"end":19798,"loc":{"start":{"line":516,"column":51},"end":{"line":516,"column":56}},"name":"total"},"kind":"init","value":{"type":"Identifier","start":19793,"end":19798,"loc":{"start":{"line":516,"column":51},"end":{"line":516,"column":56}},"name":"total"}}]}],"body":{"type":"BlockStatement","start":19805,"end":19862,"loc":{"start":{"line":516,"column":63},"end":{"line":518,"column":9}},"body":[{"type":"ExpressionStatement","start":19819,"end":19852,"loc":{"start":{"line":517,"column":12},"end":{"line":517,"column":45}},"expression":{"type":"CallExpression","start":19819,"end":19851,"loc":{"start":{"line":517,"column":12},"end":{"line":517,"column":44}},"callee":{"type":"MemberExpression","start":19819,"end":19836,"loc":{"start":{"line":517,"column":12},"end":{"line":517,"column":29}},"object":{"type":"ThisExpression","start":19819,"end":19823,"loc":{"start":{"line":517,"column":12},"end":{"line":517,"column":16}}},"property":{"type":"Identifier","start":19824,"end":19836,"loc":{"start":{"line":517,"column":17},"end":{"line":517,"column":29}},"name":"emitProgress"},"computed":false},"arguments":[{"type":"Identifier","start":19837,"end":19843,"loc":{"start":{"line":517,"column":30},"end":{"line":517,"column":36}},"name":"loaded"},{"type":"Identifier","start":19845,"end":19850,"loc":{"start":{"line":517,"column":38},"end":{"line":517,"column":43}},"name":"total"}]}}]}}]}},{"type":"ExpressionStatement","start":19873,"end":20460,"loc":{"start":{"line":519,"column":8},"end":{"line":536,"column":11}},"expression":{"type":"CallExpression","start":19873,"end":20459,"loc":{"start":{"line":519,"column":8},"end":{"line":536,"column":10}},"callee":{"type":"MemberExpression","start":19873,"end":19884,"loc":{"start":{"line":519,"column":8},"end":{"line":519,"column":19}},"object":{"type":"Identifier","start":19873,"end":19879,"loc":{"start":{"line":519,"column":8},"end":{"line":519,"column":14}},"name":"upload"},"property":{"type":"Identifier","start":19880,"end":19884,"loc":{"start":{"line":519,"column":15},"end":{"line":519,"column":19}},"name":"send"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":19885,"end":20458,"loc":{"start":{"line":519,"column":20},"end":{"line":536,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":19886,"end":19891,"loc":{"start":{"line":519,"column":21},"end":{"line":519,"column":26}},"name":"error"},{"type":"Identifier","start":19893,"end":19897,"loc":{"start":{"line":519,"column":28},"end":{"line":519,"column":32}},"name":"data"}],"body":{"type":"BlockStatement","start":19902,"end":20458,"loc":{"start":{"line":519,"column":37},"end":{"line":536,"column":9}},"body":[{"type":"ExpressionStatement","start":19916,"end":19937,"loc":{"start":{"line":520,"column":12},"end":{"line":520,"column":33}},"expression":{"type":"AssignmentExpression","start":19916,"end":19936,"loc":{"start":{"line":520,"column":12},"end":{"line":520,"column":32}},"operator":"=","left":{"type":"MemberExpression","start":19916,"end":19929,"loc":{"start":{"line":520,"column":12},"end":{"line":520,"column":25}},"object":{"type":"ThisExpression","start":19916,"end":19920,"loc":{"start":{"line":520,"column":12},"end":{"line":520,"column":16}}},"property":{"type":"Identifier","start":19921,"end":19929,"loc":{"start":{"line":520,"column":17},"end":{"line":520,"column":25}},"name":"s3Upload"},"computed":false},"right":{"type":"Literal","start":19932,"end":19936,"loc":{"start":{"line":520,"column":28},"end":{"line":520,"column":32}},"value":null,"raw":"null"}}},{"type":"IfStatement","start":19950,"end":20420,"loc":{"start":{"line":521,"column":12},"end":{"line":534,"column":13}},"test":{"type":"Identifier","start":19954,"end":19959,"loc":{"start":{"line":521,"column":16},"end":{"line":521,"column":21}},"name":"error"},"consequent":{"type":"BlockStatement","start":19961,"end":20015,"loc":{"start":{"line":521,"column":23},"end":{"line":523,"column":13}},"body":[{"type":"ExpressionStatement","start":19979,"end":20001,"loc":{"start":{"line":522,"column":16},"end":{"line":522,"column":38}},"expression":{"type":"CallExpression","start":19979,"end":20000,"loc":{"start":{"line":522,"column":16},"end":{"line":522,"column":37}},"callee":{"type":"MemberExpression","start":19979,"end":19993,"loc":{"start":{"line":522,"column":16},"end":{"line":522,"column":30}},"object":{"type":"ThisExpression","start":19979,"end":19983,"loc":{"start":{"line":522,"column":16},"end":{"line":522,"column":20}}},"property":{"type":"Identifier","start":19984,"end":19993,"loc":{"start":{"line":522,"column":21},"end":{"line":522,"column":30}},"name":"emitError"},"computed":false},"arguments":[{"type":"Identifier","start":19994,"end":19999,"loc":{"start":{"line":522,"column":31},"end":{"line":522,"column":36}},"name":"error"}]}}]},"alternate":{"type":"BlockStatement","start":20033,"end":20420,"loc":{"start":{"line":524,"column":17},"end":{"line":534,"column":13}},"body":[{"type":"VariableDeclaration","start":20051,"end":20108,"loc":{"start":{"line":525,"column":16},"end":{"line":525,"column":73}},"declarations":[{"type":"VariableDeclarator","start":20057,"end":20107,"loc":{"start":{"line":525,"column":22},"end":{"line":525,"column":72}},"id":{"type":"Identifier","start":20057,"end":20060,"loc":{"start":{"line":525,"column":22},"end":{"line":525,"column":25}},"name":"url"},"init":{"type":"ConditionalExpression","start":20063,"end":20107,"loc":{"start":{"line":525,"column":28},"end":{"line":525,"column":72}},"test":{"type":"LogicalExpression","start":20063,"end":20084,"loc":{"start":{"line":525,"column":28},"end":{"line":525,"column":49}},"left":{"type":"Identifier","start":20063,"end":20067,"loc":{"start":{"line":525,"column":28},"end":{"line":525,"column":32}},"name":"data"},"operator":"&&","right":{"type":"MemberExpression","start":20071,"end":20084,"loc":{"start":{"line":525,"column":36},"end":{"line":525,"column":49}},"object":{"type":"Identifier","start":20071,"end":20075,"loc":{"start":{"line":525,"column":36},"end":{"line":525,"column":40}},"name":"data"},"property":{"type":"Identifier","start":20076,"end":20084,"loc":{"start":{"line":525,"column":41},"end":{"line":525,"column":49}},"name":"Location"},"computed":false}},"consequent":{"type":"MemberExpression","start":20087,"end":20100,"loc":{"start":{"line":525,"column":52},"end":{"line":525,"column":65}},"object":{"type":"Identifier","start":20087,"end":20091,"loc":{"start":{"line":525,"column":52},"end":{"line":525,"column":56}},"name":"data"},"property":{"type":"Identifier","start":20092,"end":20100,"loc":{"start":{"line":525,"column":57},"end":{"line":525,"column":65}},"name":"Location"},"computed":false},"alternate":{"type":"Literal","start":20103,"end":20107,"loc":{"start":{"line":525,"column":68},"end":{"line":525,"column":72}},"value":null,"raw":"null"}}}],"kind":"const"},{"type":"ExpressionStatement","start":20125,"end":20406,"loc":{"start":{"line":526,"column":16},"end":{"line":533,"column":19}},"expression":{"type":"CallExpression","start":20125,"end":20405,"loc":{"start":{"line":526,"column":16},"end":{"line":533,"column":18}},"callee":{"type":"MemberExpression","start":20125,"end":20141,"loc":{"start":{"line":526,"column":16},"end":{"line":526,"column":32}},"object":{"type":"ThisExpression","start":20125,"end":20129,"loc":{"start":{"line":526,"column":16},"end":{"line":526,"column":20}}},"property":{"type":"Identifier","start":20130,"end":20141,"loc":{"start":{"line":526,"column":21},"end":{"line":526,"column":32}},"name":"emitSuccess"},"computed":false},"arguments":[{"type":"Identifier","start":20142,"end":20145,"loc":{"start":{"line":526,"column":33},"end":{"line":526,"column":36}},"name":"url"},{"type":"ObjectExpression","start":20147,"end":20404,"loc":{"start":{"line":526,"column":38},"end":{"line":533,"column":17}},"properties":[{"type":"Property","start":20169,"end":20386,"loc":{"start":{"line":527,"column":20},"end":{"line":532,"column":21}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":20169,"end":20177,"loc":{"start":{"line":527,"column":20},"end":{"line":527,"column":28}},"name":"response"},"value":{"type":"ObjectExpression","start":20179,"end":20386,"loc":{"start":{"line":527,"column":30},"end":{"line":532,"column":21}},"properties":[{"type":"Property","start":20205,"end":20239,"loc":{"start":{"line":528,"column":24},"end":{"line":528,"column":58}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":20205,"end":20217,"loc":{"start":{"line":528,"column":24},"end":{"line":528,"column":36}},"name":"responseText"},"value":{"type":"CallExpression","start":20219,"end":20239,"loc":{"start":{"line":528,"column":38},"end":{"line":528,"column":58}},"callee":{"type":"MemberExpression","start":20219,"end":20233,"loc":{"start":{"line":528,"column":38},"end":{"line":528,"column":52}},"object":{"type":"Identifier","start":20219,"end":20223,"loc":{"start":{"line":528,"column":38},"end":{"line":528,"column":42}},"name":"JSON"},"property":{"type":"Identifier","start":20224,"end":20233,"loc":{"start":{"line":528,"column":43},"end":{"line":528,"column":52}},"name":"stringify"},"computed":false},"arguments":[{"type":"Identifier","start":20234,"end":20238,"loc":{"start":{"line":528,"column":53},"end":{"line":528,"column":57}},"name":"data"}]},"kind":"init"},{"type":"Property","start":20265,"end":20364,"loc":{"start":{"line":529,"column":24},"end":{"line":531,"column":25}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":20265,"end":20272,"loc":{"start":{"line":529,"column":24},"end":{"line":529,"column":31}},"name":"headers"},"value":{"type":"ObjectExpression","start":20274,"end":20364,"loc":{"start":{"line":529,"column":33},"end":{"line":531,"column":25}},"properties":[{"type":"Property","start":20304,"end":20338,"loc":{"start":{"line":530,"column":28},"end":{"line":530,"column":62}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":20304,"end":20318,"loc":{"start":{"line":530,"column":28},"end":{"line":530,"column":42}},"value":"content-type","raw":"'content-type'"},"value":{"type":"Literal","start":20320,"end":20338,"loc":{"start":{"line":530,"column":44},"end":{"line":530,"column":62}},"value":"application/json","raw":"'application/json'"},"kind":"init"}]},"kind":"init"}]},"kind":"init"}]}]}}]}},{"type":"ExpressionStatement","start":20433,"end":20448,"loc":{"start":{"line":535,"column":12},"end":{"line":535,"column":27}},"expression":{"type":"CallExpression","start":20433,"end":20447,"loc":{"start":{"line":535,"column":12},"end":{"line":535,"column":26}},"callee":{"type":"MemberExpression","start":20433,"end":20445,"loc":{"start":{"line":535,"column":12},"end":{"line":535,"column":24}},"object":{"type":"ThisExpression","start":20433,"end":20437,"loc":{"start":{"line":535,"column":12},"end":{"line":535,"column":16}}},"property":{"type":"Identifier","start":20438,"end":20445,"loc":{"start":{"line":535,"column":17},"end":{"line":535,"column":24}},"name":"cleanUp"},"computed":false},"arguments":[]}}]}}]}}]}}}]}},{"type":"ExpressionStatement","start":20469,"end":20509,"loc":{"start":{"line":539,"column":0},"end":{"line":539,"column":40}},"expression":{"type":"AssignmentExpression","start":20469,"end":20508,"loc":{"start":{"line":539,"column":0},"end":{"line":539,"column":39}},"operator":"=","left":{"type":"MemberExpression","start":20469,"end":20494,"loc":{"start":{"line":539,"column":0},"end":{"line":539,"column":25}},"object":{"type":"Identifier","start":20469,"end":20477,"loc":{"start":{"line":539,"column":0},"end":{"line":539,"column":8}},"name":"Uploader"},"property":{"type":"Identifier","start":20478,"end":20494,"loc":{"start":{"line":539,"column":9},"end":{"line":539,"column":25}},"name":"FILE_NAME_PREFIX"},"computed":false},"right":{"type":"Literal","start":20497,"end":20508,"loc":{"start":{"line":539,"column":28},"end":{"line":539,"column":39}},"value":"uppy-file","raw":"'uppy-file'"}}},{"type":"ExpressionStatement","start":20510,"end":20548,"loc":{"start":{"line":540,"column":0},"end":{"line":540,"column":38}},"expression":{"type":"AssignmentExpression","start":20510,"end":20547,"loc":{"start":{"line":540,"column":0},"end":{"line":540,"column":37}},"operator":"=","left":{"type":"MemberExpression","start":20510,"end":20533,"loc":{"start":{"line":540,"column":0},"end":{"line":540,"column":23}},"object":{"type":"Identifier","start":20510,"end":20518,"loc":{"start":{"line":540,"column":0},"end":{"line":540,"column":8}},"name":"Uploader"},"property":{"type":"Identifier","start":20519,"end":20533,"loc":{"start":{"line":540,"column":9},"end":{"line":540,"column":23}},"name":"STORAGE_PREFIX"},"computed":false},"right":{"type":"Literal","start":20536,"end":20547,"loc":{"start":{"line":540,"column":26},"end":{"line":540,"column":37}},"value":"companion","raw":"'companion'"}}},{"type":"ExpressionStatement","start":20549,"end":20575,"loc":{"start":{"line":541,"column":0},"end":{"line":541,"column":26}},"expression":{"type":"AssignmentExpression","start":20549,"end":20574,"loc":{"start":{"line":541,"column":0},"end":{"line":541,"column":25}},"operator":"=","left":{"type":"MemberExpression","start":20549,"end":20563,"loc":{"start":{"line":541,"column":0},"end":{"line":541,"column":14}},"object":{"type":"Identifier","start":20549,"end":20555,"loc":{"start":{"line":541,"column":0},"end":{"line":541,"column":6}},"name":"module"},"property":{"type":"Identifier","start":20556,"end":20563,"loc":{"start":{"line":541,"column":7},"end":{"line":541,"column":14}},"name":"exports"},"computed":false},"right":{"type":"Identifier","start":20566,"end":20574,"loc":{"start":{"line":541,"column":17},"end":{"line":541,"column":25}},"name":"Uploader"}}}],"sourceType":"module"}