{"type":"Program","start":0,"end":592,"loc":{"start":{"line":1,"column":0},"end":{"line":22,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":44,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"declarations":[{"type":"VariableDeclarator","start":6,"end":44,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":44}},"id":{"type":"ObjectPattern","start":6,"end":13,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":13}},"properties":[{"type":"Property","start":8,"end":11,"loc":{"start":{"line":1,"column":8},"end":{"line":1,"column":11}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":8,"end":11,"loc":{"start":{"line":1,"column":8},"end":{"line":1,"column":11}},"name":"app"},"kind":"init","value":{"type":"Identifier","start":8,"end":11,"loc":{"start":{"line":1,"column":8},"end":{"line":1,"column":11}},"name":"app"}}]},"init":{"type":"CallExpression","start":16,"end":44,"loc":{"start":{"line":1,"column":16},"end":{"line":1,"column":44}},"callee":{"type":"Identifier","start":16,"end":23,"loc":{"start":{"line":1,"column":16},"end":{"line":1,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":24,"end":43,"loc":{"start":{"line":1,"column":24},"end":{"line":1,"column":43}},"value":"../src/standalone","raw":"'../src/standalone'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":46,"end":80,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}},"declarations":[{"type":"VariableDeclarator","start":52,"end":80,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":34}},"id":{"type":"Identifier","start":52,"end":59,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":13}},"name":"express"},"init":{"type":"CallExpression","start":62,"end":80,"loc":{"start":{"line":3,"column":16},"end":{"line":3,"column":34}},"callee":{"type":"Identifier","start":62,"end":69,"loc":{"start":{"line":3,"column":16},"end":{"line":3,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":70,"end":79,"loc":{"start":{"line":3,"column":24},"end":{"line":3,"column":33}},"value":"express","raw":"'express'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":81,"end":123,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}},"declarations":[{"type":"VariableDeclarator","start":87,"end":123,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":42}},"id":{"type":"Identifier","start":87,"end":94,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":13}},"name":"session"},"init":{"type":"CallExpression","start":97,"end":123,"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":42}},"callee":{"type":"Identifier","start":97,"end":104,"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":105,"end":122,"loc":{"start":{"line":4,"column":24},"end":{"line":4,"column":41}},"value":"express-session","raw":"'express-session'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":124,"end":152,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":28}},"declarations":[{"type":"VariableDeclarator","start":130,"end":152,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":28}},"id":{"type":"Identifier","start":130,"end":140,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":16}},"name":"authServer"},"init":{"type":"CallExpression","start":143,"end":152,"loc":{"start":{"line":5,"column":19},"end":{"line":5,"column":28}},"callee":{"type":"Identifier","start":143,"end":150,"loc":{"start":{"line":5,"column":19},"end":{"line":5,"column":26}},"name":"express"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":154,"end":237,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":83}},"expression":{"type":"CallExpression","start":154,"end":237,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":83}},"callee":{"type":"MemberExpression","start":154,"end":168,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":14}},"object":{"type":"Identifier","start":154,"end":164,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":10}},"name":"authServer"},"property":{"type":"Identifier","start":165,"end":168,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":14}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":169,"end":236,"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":82}},"callee":{"type":"Identifier","start":169,"end":176,"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":22}},"name":"session"},"arguments":[{"type":"ObjectExpression","start":177,"end":235,"loc":{"start":{"line":7,"column":23},"end":{"line":7,"column":81}},"properties":[{"type":"Property","start":179,"end":194,"loc":{"start":{"line":7,"column":25},"end":{"line":7,"column":40}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":179,"end":185,"loc":{"start":{"line":7,"column":25},"end":{"line":7,"column":31}},"name":"secret"},"value":{"type":"Literal","start":187,"end":194,"loc":{"start":{"line":7,"column":33},"end":{"line":7,"column":40}},"value":"grant","raw":"'grant'"},"kind":"init"},{"type":"Property","start":196,"end":208,"loc":{"start":{"line":7,"column":42},"end":{"line":7,"column":54}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":196,"end":202,"loc":{"start":{"line":7,"column":42},"end":{"line":7,"column":48}},"name":"resave"},"value":{"type":"Literal","start":204,"end":208,"loc":{"start":{"line":7,"column":50},"end":{"line":7,"column":54}},"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":210,"end":233,"loc":{"start":{"line":7,"column":56},"end":{"line":7,"column":79}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":210,"end":227,"loc":{"start":{"line":7,"column":56},"end":{"line":7,"column":73}},"name":"saveUninitialized"},"value":{"type":"Literal","start":229,"end":233,"loc":{"start":{"line":7,"column":75},"end":{"line":7,"column":79}},"value":true,"raw":"true"},"kind":"init"}]}]}]}},{"type":"ExpressionStatement","start":238,"end":373,"loc":{"start":{"line":8,"column":0},"end":{"line":13,"column":2}},"expression":{"type":"CallExpression","start":238,"end":373,"loc":{"start":{"line":8,"column":0},"end":{"line":13,"column":2}},"callee":{"type":"MemberExpression","start":238,"end":252,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":14}},"object":{"type":"Identifier","start":238,"end":248,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":10}},"name":"authServer"},"property":{"type":"Identifier","start":249,"end":252,"loc":{"start":{"line":8,"column":11},"end":{"line":8,"column":14}},"name":"all"},"computed":false},"arguments":[{"type":"Literal","start":253,"end":265,"loc":{"start":{"line":8,"column":15},"end":{"line":8,"column":27}},"value":"*/callback","raw":"'*/callback'"},{"type":"ArrowFunctionExpression","start":267,"end":372,"loc":{"start":{"line":8,"column":29},"end":{"line":13,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":268,"end":271,"loc":{"start":{"line":8,"column":30},"end":{"line":8,"column":33}},"name":"req"},{"type":"Identifier","start":273,"end":276,"loc":{"start":{"line":8,"column":35},"end":{"line":8,"column":38}},"name":"res"},{"type":"Identifier","start":278,"end":282,"loc":{"start":{"line":8,"column":40},"end":{"line":8,"column":44}},"name":"next"}],"body":{"type":"BlockStatement","start":287,"end":372,"loc":{"start":{"line":8,"column":49},"end":{"line":13,"column":1}},"body":[{"type":"ExpressionStatement","start":291,"end":361,"loc":{"start":{"line":9,"column":2},"end":{"line":11,"column":3}},"expression":{"type":"AssignmentExpression","start":291,"end":361,"loc":{"start":{"line":9,"column":2},"end":{"line":11,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":291,"end":308,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":19}},"object":{"type":"MemberExpression","start":291,"end":302,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":13}},"object":{"type":"Identifier","start":291,"end":294,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":5}},"name":"req"},"property":{"type":"Identifier","start":295,"end":302,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":13}},"name":"session"},"computed":false},"property":{"type":"Identifier","start":303,"end":308,"loc":{"start":{"line":9,"column":14},"end":{"line":9,"column":19}},"name":"grant"},"computed":false},"right":{"type":"ObjectExpression","start":311,"end":361,"loc":{"start":{"line":9,"column":22},"end":{"line":11,"column":3}},"properties":[{"type":"Property","start":317,"end":357,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":44}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":317,"end":325,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":12}},"name":"response"},"value":{"type":"ObjectExpression","start":327,"end":357,"loc":{"start":{"line":10,"column":14},"end":{"line":10,"column":44}},"properties":[{"type":"Property","start":329,"end":355,"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":42}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":329,"end":341,"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":28}},"name":"access_token"},"value":{"type":"Literal","start":343,"end":355,"loc":{"start":{"line":10,"column":30},"end":{"line":10,"column":42}},"value":"fake token","raw":"'fake token'"},"kind":"init"}]},"kind":"init"}]}}},{"type":"ExpressionStatement","start":364,"end":370,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":8}},"expression":{"type":"CallExpression","start":364,"end":370,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":8}},"callee":{"type":"Identifier","start":364,"end":368,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":6}},"name":"next"},"arguments":[]}}]}}]}},{"type":"ExpressionStatement","start":374,"end":537,"loc":{"start":{"line":14,"column":0},"end":{"line":17,"column":2}},"expression":{"type":"CallExpression","start":374,"end":537,"loc":{"start":{"line":14,"column":0},"end":{"line":17,"column":2}},"callee":{"type":"MemberExpression","start":374,"end":388,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":14}},"object":{"type":"Identifier","start":374,"end":384,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":10}},"name":"authServer"},"property":{"type":"Identifier","start":385,"end":388,"loc":{"start":{"line":14,"column":11},"end":{"line":14,"column":14}},"name":"all"},"computed":false},"arguments":[{"type":"ArrayExpression","start":389,"end":419,"loc":{"start":{"line":14,"column":15},"end":{"line":14,"column":45}},"elements":[{"type":"Literal","start":390,"end":404,"loc":{"start":{"line":14,"column":16},"end":{"line":14,"column":30}},"value":"*/send-token","raw":"'*/send-token'"},{"type":"Literal","start":406,"end":418,"loc":{"start":{"line":14,"column":32},"end":{"line":14,"column":44}},"value":"*/redirect","raw":"'*/redirect'"}]},{"type":"ArrowFunctionExpression","start":421,"end":536,"loc":{"start":{"line":14,"column":47},"end":{"line":17,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":422,"end":425,"loc":{"start":{"line":14,"column":48},"end":{"line":14,"column":51}},"name":"req"},{"type":"Identifier","start":427,"end":430,"loc":{"start":{"line":14,"column":53},"end":{"line":14,"column":56}},"name":"res"},{"type":"Identifier","start":432,"end":436,"loc":{"start":{"line":14,"column":58},"end":{"line":14,"column":62}},"name":"next"}],"body":{"type":"BlockStatement","start":441,"end":536,"loc":{"start":{"line":14,"column":67},"end":{"line":17,"column":1}},"body":[{"type":"ExpressionStatement","start":445,"end":525,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":82}},"expression":{"type":"AssignmentExpression","start":445,"end":525,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":82}},"operator":"=","left":{"type":"MemberExpression","start":445,"end":462,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":19}},"object":{"type":"MemberExpression","start":445,"end":456,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":13}},"object":{"type":"Identifier","start":445,"end":448,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":5}},"name":"req"},"property":{"type":"Identifier","start":449,"end":456,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":13}},"name":"session"},"computed":false},"property":{"type":"Identifier","start":457,"end":462,"loc":{"start":{"line":15,"column":14},"end":{"line":15,"column":19}},"name":"grant"},"computed":false},"right":{"type":"ObjectExpression","start":465,"end":525,"loc":{"start":{"line":15,"column":22},"end":{"line":15,"column":82}},"properties":[{"type":"Property","start":467,"end":523,"loc":{"start":{"line":15,"column":24},"end":{"line":15,"column":80}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":467,"end":474,"loc":{"start":{"line":15,"column":24},"end":{"line":15,"column":31}},"name":"dynamic"},"value":{"type":"ObjectExpression","start":476,"end":523,"loc":{"start":{"line":15,"column":33},"end":{"line":15,"column":80}},"properties":[{"type":"Property","start":478,"end":521,"loc":{"start":{"line":15,"column":35},"end":{"line":15,"column":78}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":478,"end":483,"loc":{"start":{"line":15,"column":35},"end":{"line":15,"column":40}},"name":"state"},"value":{"type":"LogicalExpression","start":485,"end":521,"loc":{"start":{"line":15,"column":42},"end":{"line":15,"column":78}},"left":{"type":"MemberExpression","start":485,"end":500,"loc":{"start":{"line":15,"column":42},"end":{"line":15,"column":57}},"object":{"type":"MemberExpression","start":485,"end":494,"loc":{"start":{"line":15,"column":42},"end":{"line":15,"column":51}},"object":{"type":"Identifier","start":485,"end":488,"loc":{"start":{"line":15,"column":42},"end":{"line":15,"column":45}},"name":"req"},"property":{"type":"Identifier","start":489,"end":494,"loc":{"start":{"line":15,"column":46},"end":{"line":15,"column":51}},"name":"query"},"computed":false},"property":{"type":"Identifier","start":495,"end":500,"loc":{"start":{"line":15,"column":52},"end":{"line":15,"column":57}},"name":"state"},"computed":false},"operator":"||","right":{"type":"Literal","start":504,"end":521,"loc":{"start":{"line":15,"column":61},"end":{"line":15,"column":78}},"value":"non-empty-value","raw":"'non-empty-value'"}},"kind":"init"}]},"kind":"init"}]}}},{"type":"ExpressionStatement","start":528,"end":534,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":8}},"expression":{"type":"CallExpression","start":528,"end":534,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":8}},"callee":{"type":"Identifier","start":528,"end":532,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":6}},"name":"next"},"arguments":[]}}]}}]}},{"type":"ExpressionStatement","start":539,"end":558,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":19}},"expression":{"type":"CallExpression","start":539,"end":558,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":19}},"callee":{"type":"MemberExpression","start":539,"end":553,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":14}},"object":{"type":"Identifier","start":539,"end":549,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":10}},"name":"authServer"},"property":{"type":"Identifier","start":550,"end":553,"loc":{"start":{"line":19,"column":11},"end":{"line":19,"column":14}},"name":"use"},"computed":false},"arguments":[{"type":"Identifier","start":554,"end":557,"loc":{"start":{"line":19,"column":15},"end":{"line":19,"column":18}},"name":"app"}]}},{"type":"ExpressionStatement","start":560,"end":591,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":31}},"expression":{"type":"AssignmentExpression","start":560,"end":591,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":31}},"operator":"=","left":{"type":"MemberExpression","start":560,"end":574,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":14}},"object":{"type":"Identifier","start":560,"end":566,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":6}},"name":"module"},"property":{"type":"Identifier","start":567,"end":574,"loc":{"start":{"line":21,"column":7},"end":{"line":21,"column":14}},"name":"exports"},"computed":false},"right":{"type":"ObjectExpression","start":577,"end":591,"loc":{"start":{"line":21,"column":17},"end":{"line":21,"column":31}},"properties":[{"type":"Property","start":579,"end":589,"loc":{"start":{"line":21,"column":19},"end":{"line":21,"column":29}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":579,"end":589,"loc":{"start":{"line":21,"column":19},"end":{"line":21,"column":29}},"name":"authServer"},"kind":"init","value":{"type":"Identifier","start":579,"end":589,"loc":{"start":{"line":21,"column":19},"end":{"line":21,"column":29}},"name":"authServer"}}]}}}],"sourceType":"script"}