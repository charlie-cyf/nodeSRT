{"type":"Program","start":0,"end":1998,"body":[{"type":"VariableDeclaration","start":0,"end":24,"declarations":[{"type":"VariableDeclarator","start":6,"end":24,"id":{"type":"Identifier","start":6,"end":8,"name":"fs"},"init":{"type":"CallExpression","start":11,"end":24,"callee":{"type":"Identifier","start":11,"end":18,"name":"require"},"arguments":[{"type":"Literal","start":19,"end":23,"value":"fs","raw":"'fs'"}]}}],"kind":"const"},{"type":"ClassDeclaration","start":26,"end":1923,"id":{"type":"Identifier","start":32,"end":42,"name":"MockPurest"},"superClass":null,"body":{"type":"ClassBody","start":43,"end":1923,"body":[{"type":"MethodDefinition","start":47,"end":454,"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":47,"end":58,"name":"constructor"},"value":{"type":"FunctionExpression","start":59,"end":454,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":60,"end":64,"name":"opts"}],"body":{"type":"BlockStatement","start":66,"end":454,"body":[{"type":"VariableDeclaration","start":72,"end":144,"declarations":[{"type":"VariableDeclarator","start":78,"end":144,"id":{"type":"Identifier","start":78,"end":91,"name":"methodsToMock"},"init":{"type":"ArrayExpression","start":94,"end":144,"elements":[{"type":"Literal","start":95,"end":102,"value":"query","raw":"'query'"},{"type":"Literal","start":104,"end":112,"value":"select","raw":"'select'"},{"type":"Literal","start":114,"end":121,"value":"where","raw":"'where'"},{"type":"Literal","start":123,"end":127,"value":"qs","raw":"'qs'"},{"type":"Literal","start":129,"end":135,"value":"auth","raw":"'auth'"},{"type":"Literal","start":137,"end":143,"value":"json","raw":"'json'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":149,"end":216,"declarations":[{"type":"VariableDeclarator","start":155,"end":216,"id":{"type":"Identifier","start":155,"end":172,"name":"httpMethodsToMock"},"init":{"type":"ArrayExpression","start":175,"end":216,"elements":[{"type":"Literal","start":176,"end":181,"value":"get","raw":"'get'"},{"type":"Literal","start":183,"end":188,"value":"put","raw":"'put'"},{"type":"Literal","start":190,"end":196,"value":"post","raw":"'post'"},{"type":"Literal","start":198,"end":207,"value":"options","raw":"'options'"},{"type":"Literal","start":209,"end":215,"value":"head","raw":"'head'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":221,"end":291,"expression":{"type":"CallExpression","start":221,"end":291,"callee":{"type":"MemberExpression","start":221,"end":242,"object":{"type":"Identifier","start":221,"end":234,"name":"methodsToMock"},"property":{"type":"Identifier","start":235,"end":242,"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":243,"end":290,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":244,"end":248,"name":"item"}],"body":{"type":"BlockStatement","start":253,"end":290,"body":[{"type":"ExpressionStatement","start":261,"end":284,"expression":{"type":"AssignmentExpression","start":261,"end":284,"operator":"=","left":{"type":"MemberExpression","start":261,"end":271,"object":{"type":"ThisExpression","start":261,"end":265},"property":{"type":"Identifier","start":266,"end":270,"name":"item"},"computed":true},"right":{"type":"ArrowFunctionExpression","start":274,"end":284,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"ThisExpression","start":280,"end":284}}}}]}}]}},{"type":"ExpressionStatement","start":296,"end":429,"expression":{"type":"CallExpression","start":296,"end":429,"callee":{"type":"MemberExpression","start":296,"end":321,"object":{"type":"Identifier","start":296,"end":313,"name":"httpMethodsToMock"},"property":{"type":"Identifier","start":314,"end":321,"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":322,"end":428,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":323,"end":327,"name":"item"}],"body":{"type":"BlockStatement","start":332,"end":428,"body":[{"type":"ExpressionStatement","start":340,"end":422,"expression":{"type":"AssignmentExpression","start":340,"end":422,"operator":"=","left":{"type":"MemberExpression","start":340,"end":350,"object":{"type":"ThisExpression","start":340,"end":344},"property":{"type":"Identifier","start":345,"end":349,"name":"item"},"computed":true},"right":{"type":"ArrowFunctionExpression","start":353,"end":422,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":354,"end":357,"name":"url"}],"body":{"type":"BlockStatement","start":362,"end":422,"body":[{"type":"ExpressionStatement","start":372,"end":394,"expression":{"type":"AssignmentExpression","start":372,"end":394,"operator":"=","left":{"type":"MemberExpression","start":372,"end":388,"object":{"type":"ThisExpression","start":372,"end":376},"property":{"type":"Identifier","start":377,"end":388,"name":"_requestUrl"},"computed":false},"right":{"type":"Identifier","start":391,"end":394,"name":"url"}}},{"type":"ReturnStatement","start":403,"end":414,"argument":{"type":"ThisExpression","start":410,"end":414}}]}}}}]}}]}},{"type":"ExpressionStatement","start":434,"end":450,"expression":{"type":"AssignmentExpression","start":434,"end":450,"operator":"=","left":{"type":"MemberExpression","start":434,"end":443,"object":{"type":"ThisExpression","start":434,"end":438},"property":{"type":"Identifier","start":439,"end":443,"name":"opts"},"computed":false},"right":{"type":"Identifier","start":446,"end":450,"name":"opts"}}}]}}},{"type":"MethodDefinition","start":458,"end":1802,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":458,"end":465,"name":"request"},"value":{"type":"FunctionExpression","start":466,"end":1802,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":467,"end":471,"name":"done"}],"body":{"type":"BlockStatement","start":473,"end":1802,"body":[{"type":"IfStatement","start":479,"end":1781,"test":{"type":"BinaryExpression","start":483,"end":509,"left":{"type":"UnaryExpression","start":483,"end":494,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":490,"end":494,"name":"done"}},"operator":"===","right":{"type":"Literal","start":499,"end":509,"value":"function","raw":"'function'"}},"consequent":{"type":"BlockStatement","start":511,"end":1781,"body":[{"type":"VariableDeclaration","start":519,"end":1575,"declarations":[{"type":"VariableDeclarator","start":525,"end":1575,"id":{"type":"Identifier","start":525,"end":534,"name":"responses"},"init":{"type":"ObjectExpression","start":537,"end":1575,"properties":[{"type":"Property","start":547,"end":771,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":547,"end":554,"name":"dropbox"},"value":{"type":"ObjectExpression","start":556,"end":771,"properties":[{"type":"Property","start":568,"end":761,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":568,"end":575,"name":"default"},"value":{"type":"ObjectExpression","start":577,"end":761,"properties":[{"type":"Property","start":591,"end":631,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":591,"end":595,"name":"hash"},"value":{"type":"Literal","start":597,"end":631,"value":"0a9f95a989dd4b1851f0103c31e304ce","raw":"'0a9f95a989dd4b1851f0103c31e304ce'"},"kind":"init"},{"type":"Property","start":645,"end":670,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":645,"end":655,"name":"user_email"},"value":{"type":"Literal","start":657,"end":670,"value":"foo@bar.com","raw":"'foo@bar.com'"},"kind":"init"},{"type":"Property","start":684,"end":704,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":684,"end":689,"name":"email"},"value":{"type":"Literal","start":691,"end":704,"value":"foo@bar.com","raw":"'foo@bar.com'"},"kind":"init"},{"type":"Property","start":718,"end":749,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":718,"end":725,"name":"entries"},"value":{"type":"ArrayExpression","start":727,"end":749,"elements":[{"type":"ObjectExpression","start":728,"end":748,"properties":[{"type":"Property","start":730,"end":746,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":730,"end":733,"name":"rev"},"value":{"type":"Literal","start":735,"end":746,"value":"f24234cd4","raw":"'f24234cd4'"},"kind":"init"}]}]},"kind":"init"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":781,"end":1567,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":781,"end":786,"name":"drive"},"value":{"type":"ObjectExpression","start":788,"end":1567,"properties":[{"type":"Property","start":800,"end":1153,"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":800,"end":817,"value":"files/README.md","raw":"'files/README.md'"},"value":{"type":"ObjectExpression","start":819,"end":1153,"properties":[{"type":"Property","start":833,"end":867,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":833,"end":835,"name":"id"},"value":{"type":"Literal","start":837,"end":867,"value":"0B2x-PmqQHSKdT013TE1VVjZ3TWs","raw":"'0B2x-PmqQHSKdT013TE1VVjZ3TWs'"},"kind":"init"},{"type":"Property","start":881,"end":902,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":881,"end":889,"name":"mimeType"},"value":{"type":"Literal","start":891,"end":902,"value":"image/jpg","raw":"'image/jpg'"},"kind":"init"},{"type":"Property","start":916,"end":931,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":916,"end":925,"name":"ownedByMe"},"value":{"type":"Literal","start":927,"end":931,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":945,"end":1007,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":945,"end":956,"name":"permissions"},"value":{"type":"ArrayExpression","start":958,"end":1007,"elements":[{"type":"ObjectExpression","start":959,"end":1006,"properties":[{"type":"Property","start":961,"end":974,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":961,"end":965,"name":"role"},"value":{"type":"Literal","start":967,"end":974,"value":"owner","raw":"'owner'"},"kind":"init"},{"type":"Property","start":976,"end":1004,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":976,"end":988,"name":"emailAddress"},"value":{"type":"Literal","start":990,"end":1004,"value":"ife@bala.com","raw":"'ife@bala.com'"},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":1021,"end":1030,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1021,"end":1025,"name":"size"},"value":{"type":"Literal","start":1027,"end":1030,"value":300,"raw":"300"},"kind":"init"},{"type":"Property","start":1044,"end":1062,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1044,"end":1048,"name":"kind"},"value":{"type":"Literal","start":1050,"end":1062,"value":"drive#file","raw":"'drive#file'"},"kind":"init"},{"type":"Property","start":1076,"end":1141,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1076,"end":1080,"name":"etag"},"value":{"type":"Literal","start":1082,"end":1141,"value":"\"bcIyJ9A3gXa8oTYmz6nzAjQd-lY/eQc3WbZHkXpcItNyGKDuKXM_bNY\"","raw":"'\"bcIyJ9A3gXa8oTYmz6nzAjQd-lY/eQc3WbZHkXpcItNyGKDuKXM_bNY\"'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":1165,"end":1557,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1165,"end":1172,"name":"default"},"value":{"type":"ObjectExpression","start":1174,"end":1557,"properties":[{"type":"Property","start":1188,"end":1210,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1188,"end":1192,"name":"kind"},"value":{"type":"Literal","start":1194,"end":1210,"value":"drive#fileList","raw":"'drive#fileList'"},"kind":"init"},{"type":"Property","start":1224,"end":1289,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1224,"end":1228,"name":"etag"},"value":{"type":"Literal","start":1230,"end":1289,"value":"\"bcIyJ9A3gXa8oTYmz6nzAjQd-lY/eQc3WbZHkXpcItNyGKDuKXM_bNY\"","raw":"'\"bcIyJ9A3gXa8oTYmz6nzAjQd-lY/eQc3WbZHkXpcItNyGKDuKXM_bNY\"'"},"kind":"init"},{"type":"Property","start":1303,"end":1522,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1303,"end":1308,"name":"files"},"value":{"type":"ArrayExpression","start":1310,"end":1522,"elements":[{"type":"ObjectExpression","start":1311,"end":1521,"properties":[{"type":"Property","start":1327,"end":1361,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1327,"end":1329,"name":"id"},"value":{"type":"Literal","start":1331,"end":1361,"value":"0B2x-PmqQHSKdT013TE1VVjZ3TWs","raw":"'0B2x-PmqQHSKdT013TE1VVjZ3TWs'"},"kind":"init"},{"type":"Property","start":1377,"end":1398,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1377,"end":1385,"name":"mimeType"},"value":{"type":"Literal","start":1387,"end":1398,"value":"image/jpg","raw":"'image/jpg'"},"kind":"init"},{"type":"Property","start":1414,"end":1429,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1414,"end":1423,"name":"ownedByMe"},"value":{"type":"Literal","start":1425,"end":1429,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":1445,"end":1507,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1445,"end":1456,"name":"permissions"},"value":{"type":"ArrayExpression","start":1458,"end":1507,"elements":[{"type":"ObjectExpression","start":1459,"end":1506,"properties":[{"type":"Property","start":1461,"end":1474,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1461,"end":1465,"name":"role"},"value":{"type":"Literal","start":1467,"end":1474,"value":"owner","raw":"'owner'"},"kind":"init"},{"type":"Property","start":1476,"end":1504,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1476,"end":1488,"name":"emailAddress"},"value":{"type":"Literal","start":1490,"end":1504,"value":"ife@bala.com","raw":"'ife@bala.com'"},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":1536,"end":1545,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1536,"end":1540,"name":"size"},"value":{"type":"Literal","start":1542,"end":1545,"value":300,"raw":"300"},"kind":"init"}]},"kind":"init"}]},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":1582,"end":1641,"declarations":[{"type":"VariableDeclarator","start":1588,"end":1641,"id":{"type":"Identifier","start":1588,"end":1605,"name":"providerResponses"},"init":{"type":"MemberExpression","start":1608,"end":1641,"object":{"type":"Identifier","start":1608,"end":1617,"name":"responses"},"property":{"type":"MemberExpression","start":1618,"end":1640,"object":{"type":"MemberExpression","start":1618,"end":1627,"object":{"type":"ThisExpression","start":1618,"end":1622},"property":{"type":"Identifier","start":1623,"end":1627,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":1628,"end":1640,"name":"providerName"},"computed":false},"computed":true}}],"kind":"const"},{"type":"VariableDeclaration","start":1648,"end":1725,"declarations":[{"type":"VariableDeclarator","start":1654,"end":1725,"id":{"type":"Identifier","start":1654,"end":1658,"name":"body"},"init":{"type":"LogicalExpression","start":1661,"end":1725,"left":{"type":"MemberExpression","start":1661,"end":1696,"object":{"type":"Identifier","start":1661,"end":1678,"name":"providerResponses"},"property":{"type":"MemberExpression","start":1679,"end":1695,"object":{"type":"ThisExpression","start":1679,"end":1683},"property":{"type":"Identifier","start":1684,"end":1695,"name":"_requestUrl"},"computed":false},"computed":true},"operator":"||","right":{"type":"MemberExpression","start":1700,"end":1725,"object":{"type":"Identifier","start":1700,"end":1717,"name":"providerResponses"},"property":{"type":"Identifier","start":1718,"end":1725,"name":"default"},"computed":false}}}],"kind":"const"},{"type":"ExpressionStatement","start":1732,"end":1775,"expression":{"type":"CallExpression","start":1732,"end":1775,"callee":{"type":"Identifier","start":1732,"end":1736,"name":"done"},"arguments":[{"type":"Literal","start":1737,"end":1741,"value":null,"raw":"null"},{"type":"ObjectExpression","start":1743,"end":1768,"properties":[{"type":"Property","start":1745,"end":1749,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1745,"end":1749,"name":"body"},"kind":"init","value":{"type":"Identifier","start":1745,"end":1749,"name":"body"}},{"type":"Property","start":1751,"end":1766,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1751,"end":1761,"name":"statusCode"},"value":{"type":"Literal","start":1763,"end":1766,"value":200,"raw":"200"},"kind":"init"}]},{"type":"Identifier","start":1770,"end":1774,"name":"body"}]}}]},"alternate":null},{"type":"ReturnStatement","start":1787,"end":1798,"argument":{"type":"ThisExpression","start":1794,"end":1798}}]}}},{"type":"MethodDefinition","start":1806,"end":1921,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1806,"end":1808,"name":"on"},"value":{"type":"FunctionExpression","start":1809,"end":1921,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1810,"end":1813,"name":"evt"},{"type":"Identifier","start":1815,"end":1817,"name":"cb"}],"body":{"type":"BlockStatement","start":1819,"end":1921,"body":[{"type":"IfStatement","start":1825,"end":1901,"test":{"type":"BinaryExpression","start":1829,"end":1847,"left":{"type":"Identifier","start":1829,"end":1832,"name":"evt"},"operator":"===","right":{"type":"Literal","start":1837,"end":1847,"value":"response","raw":"'response'"}},"consequent":{"type":"BlockStatement","start":1849,"end":1901,"body":[{"type":"ExpressionStatement","start":1857,"end":1895,"expression":{"type":"CallExpression","start":1857,"end":1895,"callee":{"type":"Identifier","start":1857,"end":1859,"name":"cb"},"arguments":[{"type":"CallExpression","start":1860,"end":1894,"callee":{"type":"MemberExpression","start":1860,"end":1879,"object":{"type":"Identifier","start":1860,"end":1862,"name":"fs"},"property":{"type":"Identifier","start":1863,"end":1879,"name":"createReadStream"},"computed":false},"arguments":[{"type":"Literal","start":1880,"end":1893,"value":"./README.md","raw":"'./README.md'"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":1906,"end":1917,"argument":{"type":"ThisExpression","start":1913,"end":1917}}]}}}]}},{"type":"ExpressionStatement","start":1925,"end":1997,"expression":{"type":"AssignmentExpression","start":1925,"end":1997,"operator":"=","left":{"type":"MemberExpression","start":1925,"end":1939,"object":{"type":"Identifier","start":1925,"end":1931,"name":"module"},"property":{"type":"Identifier","start":1932,"end":1939,"name":"exports"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1942,"end":1997,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1948,"end":1997,"body":[{"type":"ReturnStatement","start":1952,"end":1995,"argument":{"type":"ArrowFunctionExpression","start":1959,"end":1995,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1960,"end":1967,"name":"options"}],"body":{"type":"NewExpression","start":1972,"end":1995,"callee":{"type":"Identifier","start":1976,"end":1986,"name":"MockPurest"},"arguments":[{"type":"Identifier","start":1987,"end":1994,"name":"options"}]}}}]}}}}],"sourceType":"script"}