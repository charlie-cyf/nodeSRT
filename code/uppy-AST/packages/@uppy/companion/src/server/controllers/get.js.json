{"type":"Program","start":0,"end":1751,"loc":{"start":{"line":1,"column":0},"end":{"line":49,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":39,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"declarations":[{"type":"VariableDeclarator","start":6,"end":39,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":39}},"id":{"type":"Identifier","start":6,"end":14,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":14}},"name":"Uploader"},"init":{"type":"CallExpression","start":17,"end":39,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":39}},"callee":{"type":"Identifier","start":17,"end":24,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":24}},"name":"require"},"arguments":[{"type":"Literal","start":25,"end":38,"loc":{"start":{"line":1,"column":25},"end":{"line":1,"column":38}},"value":"../Uploader","raw":"'../Uploader'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":40,"end":75,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"declarations":[{"type":"VariableDeclarator","start":46,"end":75,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":35}},"id":{"type":"Identifier","start":46,"end":52,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":12}},"name":"logger"},"init":{"type":"CallExpression","start":55,"end":75,"loc":{"start":{"line":2,"column":15},"end":{"line":2,"column":35}},"callee":{"type":"Identifier","start":55,"end":62,"loc":{"start":{"line":2,"column":15},"end":{"line":2,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":63,"end":74,"loc":{"start":{"line":2,"column":23},"end":{"line":2,"column":34}},"value":"../logger","raw":"'../logger'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":76,"end":132,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":56}},"declarations":[{"type":"VariableDeclarator","start":82,"end":132,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":56}},"id":{"type":"ObjectPattern","start":82,"end":101,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":25}},"properties":[{"type":"Property","start":84,"end":99,"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":23}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":84,"end":99,"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":23}},"name":"errorToResponse"},"kind":"init","value":{"type":"Identifier","start":84,"end":99,"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":23}},"name":"errorToResponse"}}]},"init":{"type":"CallExpression","start":104,"end":132,"loc":{"start":{"line":3,"column":28},"end":{"line":3,"column":56}},"callee":{"type":"Identifier","start":104,"end":111,"loc":{"start":{"line":3,"column":28},"end":{"line":3,"column":35}},"name":"require"},"arguments":[{"type":"Literal","start":112,"end":131,"loc":{"start":{"line":3,"column":36},"end":{"line":3,"column":55}},"value":"../provider/error","raw":"'../provider/error'"}]}}],"kind":"const"},{"type":"FunctionDeclaration","start":134,"end":1728,"loc":{"start":{"line":5,"column":0},"end":{"line":46,"column":1}},"id":{"type":"Identifier","start":143,"end":146,"loc":{"start":{"line":5,"column":9},"end":{"line":5,"column":12}},"name":"get"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":148,"end":151,"loc":{"start":{"line":5,"column":14},"end":{"line":5,"column":17}},"name":"req"},{"type":"Identifier","start":153,"end":156,"loc":{"start":{"line":5,"column":19},"end":{"line":5,"column":22}},"name":"res"},{"type":"Identifier","start":158,"end":162,"loc":{"start":{"line":5,"column":24},"end":{"line":5,"column":28}},"name":"next"}],"body":{"type":"BlockStatement","start":164,"end":1728,"loc":{"start":{"line":5,"column":30},"end":{"line":46,"column":1}},"body":[{"type":"VariableDeclaration","start":168,"end":212,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":46}},"declarations":[{"type":"VariableDeclarator","start":174,"end":212,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":46}},"id":{"type":"Identifier","start":174,"end":186,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":20}},"name":"providerName"},"init":{"type":"MemberExpression","start":189,"end":212,"loc":{"start":{"line":6,"column":23},"end":{"line":6,"column":46}},"object":{"type":"MemberExpression","start":189,"end":199,"loc":{"start":{"line":6,"column":23},"end":{"line":6,"column":33}},"object":{"type":"Identifier","start":189,"end":192,"loc":{"start":{"line":6,"column":23},"end":{"line":6,"column":26}},"name":"req"},"property":{"type":"Identifier","start":193,"end":199,"loc":{"start":{"line":6,"column":27},"end":{"line":6,"column":33}},"name":"params"},"computed":false},"property":{"type":"Identifier","start":200,"end":212,"loc":{"start":{"line":6,"column":34},"end":{"line":6,"column":46}},"name":"providerName"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":215,"end":239,"loc":{"start":{"line":7,"column":2},"end":{"line":7,"column":26}},"declarations":[{"type":"VariableDeclarator","start":221,"end":239,"loc":{"start":{"line":7,"column":8},"end":{"line":7,"column":26}},"id":{"type":"Identifier","start":221,"end":223,"loc":{"start":{"line":7,"column":8},"end":{"line":7,"column":10}},"name":"id"},"init":{"type":"MemberExpression","start":226,"end":239,"loc":{"start":{"line":7,"column":13},"end":{"line":7,"column":26}},"object":{"type":"MemberExpression","start":226,"end":236,"loc":{"start":{"line":7,"column":13},"end":{"line":7,"column":23}},"object":{"type":"Identifier","start":226,"end":229,"loc":{"start":{"line":7,"column":13},"end":{"line":7,"column":16}},"name":"req"},"property":{"type":"Identifier","start":230,"end":236,"loc":{"start":{"line":7,"column":17},"end":{"line":7,"column":23}},"name":"params"},"computed":false},"property":{"type":"Identifier","start":237,"end":239,"loc":{"start":{"line":7,"column":24},"end":{"line":7,"column":26}},"name":"id"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":242,"end":298,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":58}},"declarations":[{"type":"VariableDeclarator","start":248,"end":298,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":58}},"id":{"type":"Identifier","start":248,"end":253,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":13}},"name":"token"},"init":{"type":"MemberExpression","start":256,"end":298,"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":58}},"object":{"type":"MemberExpression","start":256,"end":284,"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":44}},"object":{"type":"MemberExpression","start":256,"end":269,"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":29}},"object":{"type":"Identifier","start":256,"end":259,"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":19}},"name":"req"},"property":{"type":"Identifier","start":260,"end":269,"loc":{"start":{"line":8,"column":20},"end":{"line":8,"column":29}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":270,"end":284,"loc":{"start":{"line":8,"column":30},"end":{"line":8,"column":44}},"name":"providerTokens"},"computed":false},"property":{"type":"Identifier","start":285,"end":297,"loc":{"start":{"line":8,"column":45},"end":{"line":8,"column":57}},"name":"providerName"},"computed":true}}],"kind":"const"},{"type":"VariableDeclaration","start":301,"end":340,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":41}},"declarations":[{"type":"VariableDeclarator","start":307,"end":340,"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":41}},"id":{"type":"Identifier","start":307,"end":315,"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":16}},"name":"provider"},"init":{"type":"MemberExpression","start":318,"end":340,"loc":{"start":{"line":9,"column":19},"end":{"line":9,"column":41}},"object":{"type":"MemberExpression","start":318,"end":331,"loc":{"start":{"line":9,"column":19},"end":{"line":9,"column":32}},"object":{"type":"Identifier","start":318,"end":321,"loc":{"start":{"line":9,"column":19},"end":{"line":9,"column":22}},"name":"req"},"property":{"type":"Identifier","start":322,"end":331,"loc":{"start":{"line":9,"column":23},"end":{"line":9,"column":32}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":332,"end":340,"loc":{"start":{"line":9,"column":33},"end":{"line":9,"column":41}},"name":"provider"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":385,"end":1726,"loc":{"start":{"line":12,"column":2},"end":{"line":45,"column":4}},"expression":{"type":"CallExpression","start":385,"end":1726,"loc":{"start":{"line":12,"column":2},"end":{"line":45,"column":4}},"callee":{"type":"MemberExpression","start":385,"end":398,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":15}},"object":{"type":"Identifier","start":385,"end":393,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":10}},"name":"provider"},"property":{"type":"Identifier","start":394,"end":398,"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":15}},"name":"size"},"computed":false},"arguments":[{"type":"ObjectExpression","start":399,"end":430,"loc":{"start":{"line":12,"column":16},"end":{"line":12,"column":47}},"properties":[{"type":"Property","start":401,"end":403,"loc":{"start":{"line":12,"column":18},"end":{"line":12,"column":20}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":401,"end":403,"loc":{"start":{"line":12,"column":18},"end":{"line":12,"column":20}},"name":"id"},"kind":"init","value":{"type":"Identifier","start":401,"end":403,"loc":{"start":{"line":12,"column":18},"end":{"line":12,"column":20}},"name":"id"}},{"type":"Property","start":405,"end":410,"loc":{"start":{"line":12,"column":22},"end":{"line":12,"column":27}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":405,"end":410,"loc":{"start":{"line":12,"column":22},"end":{"line":12,"column":27}},"name":"token"},"kind":"init","value":{"type":"Identifier","start":405,"end":410,"loc":{"start":{"line":12,"column":22},"end":{"line":12,"column":27}},"name":"token"}},{"type":"Property","start":412,"end":428,"loc":{"start":{"line":12,"column":29},"end":{"line":12,"column":45}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":412,"end":417,"loc":{"start":{"line":12,"column":29},"end":{"line":12,"column":34}},"name":"query"},"value":{"type":"MemberExpression","start":419,"end":428,"loc":{"start":{"line":12,"column":36},"end":{"line":12,"column":45}},"object":{"type":"Identifier","start":419,"end":422,"loc":{"start":{"line":12,"column":36},"end":{"line":12,"column":39}},"name":"req"},"property":{"type":"Identifier","start":423,"end":428,"loc":{"start":{"line":12,"column":40},"end":{"line":12,"column":45}},"name":"query"},"computed":false},"kind":"init"}]},{"type":"ArrowFunctionExpression","start":432,"end":1725,"loc":{"start":{"line":12,"column":49},"end":{"line":45,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":433,"end":436,"loc":{"start":{"line":12,"column":50},"end":{"line":12,"column":53}},"name":"err"},{"type":"Identifier","start":438,"end":442,"loc":{"start":{"line":12,"column":55},"end":{"line":12,"column":59}},"name":"size"}],"body":{"type":"BlockStatement","start":447,"end":1725,"loc":{"start":{"line":12,"column":64},"end":{"line":45,"column":3}},"body":[{"type":"IfStatement","start":453,"end":639,"loc":{"start":{"line":13,"column":4},"end":{"line":19,"column":5}},"test":{"type":"Identifier","start":457,"end":460,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":11}},"name":"err"},"consequent":{"type":"BlockStatement","start":462,"end":639,"loc":{"start":{"line":13,"column":13},"end":{"line":19,"column":5}},"body":[{"type":"VariableDeclaration","start":470,"end":506,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":42}},"declarations":[{"type":"VariableDeclarator","start":476,"end":506,"loc":{"start":{"line":14,"column":12},"end":{"line":14,"column":42}},"id":{"type":"Identifier","start":476,"end":483,"loc":{"start":{"line":14,"column":12},"end":{"line":14,"column":19}},"name":"errResp"},"init":{"type":"CallExpression","start":486,"end":506,"loc":{"start":{"line":14,"column":22},"end":{"line":14,"column":42}},"callee":{"type":"Identifier","start":486,"end":501,"loc":{"start":{"line":14,"column":22},"end":{"line":14,"column":37}},"name":"errorToResponse"},"arguments":[{"type":"Identifier","start":502,"end":505,"loc":{"start":{"line":14,"column":38},"end":{"line":14,"column":41}},"name":"err"}]}}],"kind":"const"},{"type":"IfStatement","start":513,"end":610,"loc":{"start":{"line":15,"column":6},"end":{"line":17,"column":7}},"test":{"type":"Identifier","start":517,"end":524,"loc":{"start":{"line":15,"column":10},"end":{"line":15,"column":17}},"name":"errResp"},"consequent":{"type":"BlockStatement","start":526,"end":610,"loc":{"start":{"line":15,"column":19},"end":{"line":17,"column":7}},"body":[{"type":"ReturnStatement","start":536,"end":602,"loc":{"start":{"line":16,"column":8},"end":{"line":16,"column":74}},"argument":{"type":"CallExpression","start":543,"end":602,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":74}},"callee":{"type":"MemberExpression","start":543,"end":572,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":44}},"object":{"type":"CallExpression","start":543,"end":567,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":39}},"callee":{"type":"MemberExpression","start":543,"end":553,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":25}},"object":{"type":"Identifier","start":543,"end":546,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":18}},"name":"res"},"property":{"type":"Identifier","start":547,"end":553,"loc":{"start":{"line":16,"column":19},"end":{"line":16,"column":25}},"name":"status"},"computed":false},"arguments":[{"type":"MemberExpression","start":554,"end":566,"loc":{"start":{"line":16,"column":26},"end":{"line":16,"column":38}},"object":{"type":"Identifier","start":554,"end":561,"loc":{"start":{"line":16,"column":26},"end":{"line":16,"column":33}},"name":"errResp"},"property":{"type":"Identifier","start":562,"end":566,"loc":{"start":{"line":16,"column":34},"end":{"line":16,"column":38}},"name":"code"},"computed":false}]},"property":{"type":"Identifier","start":568,"end":572,"loc":{"start":{"line":16,"column":40},"end":{"line":16,"column":44}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":573,"end":601,"loc":{"start":{"line":16,"column":45},"end":{"line":16,"column":73}},"properties":[{"type":"Property","start":575,"end":599,"loc":{"start":{"line":16,"column":47},"end":{"line":16,"column":71}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":575,"end":582,"loc":{"start":{"line":16,"column":47},"end":{"line":16,"column":54}},"name":"message"},"value":{"type":"MemberExpression","start":584,"end":599,"loc":{"start":{"line":16,"column":56},"end":{"line":16,"column":71}},"object":{"type":"Identifier","start":584,"end":591,"loc":{"start":{"line":16,"column":56},"end":{"line":16,"column":63}},"name":"errResp"},"property":{"type":"Identifier","start":592,"end":599,"loc":{"start":{"line":16,"column":64},"end":{"line":16,"column":71}},"name":"message"},"computed":false},"kind":"init"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":617,"end":633,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":22}},"argument":{"type":"CallExpression","start":624,"end":633,"loc":{"start":{"line":18,"column":13},"end":{"line":18,"column":22}},"callee":{"type":"Identifier","start":624,"end":628,"loc":{"start":{"line":18,"column":13},"end":{"line":18,"column":17}},"name":"next"},"arguments":[{"type":"Identifier","start":629,"end":632,"loc":{"start":{"line":18,"column":18},"end":{"line":18,"column":21}},"name":"err"}]}}]},"alternate":null},{"type":"IfStatement","start":645,"end":835,"loc":{"start":{"line":21,"column":4},"end":{"line":24,"column":5}},"test":{"type":"UnaryExpression","start":649,"end":654,"loc":{"start":{"line":21,"column":8},"end":{"line":21,"column":13}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":650,"end":654,"loc":{"start":{"line":21,"column":9},"end":{"line":21,"column":13}},"name":"size"}},"consequent":{"type":"BlockStatement","start":656,"end":835,"loc":{"start":{"line":21,"column":15},"end":{"line":24,"column":5}},"body":[{"type":"ExpressionStatement","start":664,"end":749,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":91}},"expression":{"type":"CallExpression","start":664,"end":749,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":91}},"callee":{"type":"MemberExpression","start":664,"end":676,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":18}},"object":{"type":"Identifier","start":664,"end":670,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":12}},"name":"logger"},"property":{"type":"Identifier","start":671,"end":676,"loc":{"start":{"line":22,"column":13},"end":{"line":22,"column":18}},"name":"error"},"computed":false},"arguments":[{"type":"Literal","start":677,"end":708,"loc":{"start":{"line":22,"column":19},"end":{"line":22,"column":50}},"value":"unable to determine file size","raw":"'unable to determine file size'"},{"type":"Literal","start":710,"end":740,"loc":{"start":{"line":22,"column":52},"end":{"line":22,"column":82}},"value":"controller.get.provider.size","raw":"'controller.get.provider.size'"},{"type":"MemberExpression","start":742,"end":748,"loc":{"start":{"line":22,"column":84},"end":{"line":22,"column":90}},"object":{"type":"Identifier","start":742,"end":745,"loc":{"start":{"line":22,"column":84},"end":{"line":22,"column":87}},"name":"req"},"property":{"type":"Identifier","start":746,"end":748,"loc":{"start":{"line":22,"column":88},"end":{"line":22,"column":90}},"name":"id"},"computed":false}]}},{"type":"ReturnStatement","start":756,"end":829,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":79}},"argument":{"type":"CallExpression","start":763,"end":829,"loc":{"start":{"line":23,"column":13},"end":{"line":23,"column":79}},"callee":{"type":"MemberExpression","start":763,"end":783,"loc":{"start":{"line":23,"column":13},"end":{"line":23,"column":33}},"object":{"type":"CallExpression","start":763,"end":778,"loc":{"start":{"line":23,"column":13},"end":{"line":23,"column":28}},"callee":{"type":"MemberExpression","start":763,"end":773,"loc":{"start":{"line":23,"column":13},"end":{"line":23,"column":23}},"object":{"type":"Identifier","start":763,"end":766,"loc":{"start":{"line":23,"column":13},"end":{"line":23,"column":16}},"name":"res"},"property":{"type":"Identifier","start":767,"end":773,"loc":{"start":{"line":23,"column":17},"end":{"line":23,"column":23}},"name":"status"},"computed":false},"arguments":[{"type":"Literal","start":774,"end":777,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":27}},"value":400,"raw":"400"}]},"property":{"type":"Identifier","start":779,"end":783,"loc":{"start":{"line":23,"column":29},"end":{"line":23,"column":33}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":784,"end":828,"loc":{"start":{"line":23,"column":34},"end":{"line":23,"column":78}},"properties":[{"type":"Property","start":786,"end":826,"loc":{"start":{"line":23,"column":36},"end":{"line":23,"column":76}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":786,"end":793,"loc":{"start":{"line":23,"column":36},"end":{"line":23,"column":43}},"name":"message"},"value":{"type":"Literal","start":795,"end":826,"loc":{"start":{"line":23,"column":45},"end":{"line":23,"column":76}},"value":"unable to determine file size","raw":"'unable to determine file size'"},"kind":"init"}]}]}}]},"alternate":null},{"type":"ExpressionStatement","start":841,"end":894,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":57}},"expression":{"type":"CallExpression","start":841,"end":894,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":57}},"callee":{"type":"MemberExpression","start":841,"end":853,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":16}},"object":{"type":"Identifier","start":841,"end":847,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":10}},"name":"logger"},"property":{"type":"Identifier","start":848,"end":853,"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":16}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":854,"end":879,"loc":{"start":{"line":26,"column":17},"end":{"line":26,"column":42}},"value":"Instantiating uploader.","raw":"'Instantiating uploader.'"},{"type":"Literal","start":881,"end":885,"loc":{"start":{"line":26,"column":44},"end":{"line":26,"column":48}},"value":null,"raw":"null"},{"type":"MemberExpression","start":887,"end":893,"loc":{"start":{"line":26,"column":50},"end":{"line":26,"column":56}},"object":{"type":"Identifier","start":887,"end":890,"loc":{"start":{"line":26,"column":50},"end":{"line":26,"column":53}},"name":"req"},"property":{"type":"Identifier","start":891,"end":893,"loc":{"start":{"line":26,"column":54},"end":{"line":26,"column":56}},"name":"id"},"computed":false}]}},{"type":"VariableDeclaration","start":899,"end":962,"loc":{"start":{"line":27,"column":4},"end":{"line":27,"column":67}},"declarations":[{"type":"VariableDeclarator","start":905,"end":962,"loc":{"start":{"line":27,"column":10},"end":{"line":27,"column":67}},"id":{"type":"Identifier","start":905,"end":913,"loc":{"start":{"line":27,"column":10},"end":{"line":27,"column":18}},"name":"uploader"},"init":{"type":"NewExpression","start":916,"end":962,"loc":{"start":{"line":27,"column":21},"end":{"line":27,"column":67}},"callee":{"type":"Identifier","start":920,"end":928,"loc":{"start":{"line":27,"column":25},"end":{"line":27,"column":33}},"name":"Uploader"},"arguments":[{"type":"CallExpression","start":929,"end":961,"loc":{"start":{"line":27,"column":34},"end":{"line":27,"column":66}},"callee":{"type":"MemberExpression","start":929,"end":950,"loc":{"start":{"line":27,"column":34},"end":{"line":27,"column":55}},"object":{"type":"Identifier","start":929,"end":937,"loc":{"start":{"line":27,"column":34},"end":{"line":27,"column":42}},"name":"Uploader"},"property":{"type":"Identifier","start":938,"end":950,"loc":{"start":{"line":27,"column":43},"end":{"line":27,"column":55}},"name":"reqToOptions"},"computed":false},"arguments":[{"type":"Identifier","start":951,"end":954,"loc":{"start":{"line":27,"column":56},"end":{"line":27,"column":59}},"name":"req"},{"type":"Identifier","start":956,"end":960,"loc":{"start":{"line":27,"column":61},"end":{"line":27,"column":65}},"name":"size"}]}]}}],"kind":"const"},{"type":"IfStatement","start":968,"end":1113,"loc":{"start":{"line":29,"column":4},"end":{"line":33,"column":5}},"test":{"type":"CallExpression","start":972,"end":991,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":27}},"callee":{"type":"MemberExpression","start":972,"end":989,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":25}},"object":{"type":"Identifier","start":972,"end":980,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":16}},"name":"uploader"},"property":{"type":"Identifier","start":981,"end":989,"loc":{"start":{"line":29,"column":17},"end":{"line":29,"column":25}},"name":"hasError"},"computed":false},"arguments":[]},"consequent":{"type":"BlockStatement","start":993,"end":1113,"loc":{"start":{"line":29,"column":29},"end":{"line":33,"column":5}},"body":[{"type":"VariableDeclaration","start":1001,"end":1040,"loc":{"start":{"line":30,"column":6},"end":{"line":30,"column":45}},"declarations":[{"type":"VariableDeclarator","start":1007,"end":1040,"loc":{"start":{"line":30,"column":12},"end":{"line":30,"column":45}},"id":{"type":"Identifier","start":1007,"end":1015,"loc":{"start":{"line":30,"column":12},"end":{"line":30,"column":20}},"name":"response"},"init":{"type":"CallExpression","start":1018,"end":1040,"loc":{"start":{"line":30,"column":23},"end":{"line":30,"column":45}},"callee":{"type":"MemberExpression","start":1018,"end":1038,"loc":{"start":{"line":30,"column":23},"end":{"line":30,"column":43}},"object":{"type":"Identifier","start":1018,"end":1026,"loc":{"start":{"line":30,"column":23},"end":{"line":30,"column":31}},"name":"uploader"},"property":{"type":"Identifier","start":1027,"end":1038,"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":43}},"name":"getResponse"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":1047,"end":1094,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":53}},"expression":{"type":"CallExpression","start":1047,"end":1094,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":53}},"callee":{"type":"MemberExpression","start":1047,"end":1079,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":38}},"object":{"type":"CallExpression","start":1047,"end":1074,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":33}},"callee":{"type":"MemberExpression","start":1047,"end":1057,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":16}},"object":{"type":"Identifier","start":1047,"end":1050,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":9}},"name":"res"},"property":{"type":"Identifier","start":1051,"end":1057,"loc":{"start":{"line":31,"column":10},"end":{"line":31,"column":16}},"name":"status"},"computed":false},"arguments":[{"type":"MemberExpression","start":1058,"end":1073,"loc":{"start":{"line":31,"column":17},"end":{"line":31,"column":32}},"object":{"type":"Identifier","start":1058,"end":1066,"loc":{"start":{"line":31,"column":17},"end":{"line":31,"column":25}},"name":"response"},"property":{"type":"Identifier","start":1067,"end":1073,"loc":{"start":{"line":31,"column":26},"end":{"line":31,"column":32}},"name":"status"},"computed":false}]},"property":{"type":"Identifier","start":1075,"end":1079,"loc":{"start":{"line":31,"column":34},"end":{"line":31,"column":38}},"name":"json"},"computed":false},"arguments":[{"type":"MemberExpression","start":1080,"end":1093,"loc":{"start":{"line":31,"column":39},"end":{"line":31,"column":52}},"object":{"type":"Identifier","start":1080,"end":1088,"loc":{"start":{"line":31,"column":39},"end":{"line":31,"column":47}},"name":"response"},"property":{"type":"Identifier","start":1089,"end":1093,"loc":{"start":{"line":31,"column":48},"end":{"line":31,"column":52}},"name":"body"},"computed":false}]}},{"type":"ReturnStatement","start":1101,"end":1107,"loc":{"start":{"line":32,"column":6},"end":{"line":32,"column":12}},"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":1274,"end":1367,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":97}},"expression":{"type":"CallExpression","start":1274,"end":1367,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":97}},"callee":{"type":"MemberExpression","start":1274,"end":1286,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":16}},"object":{"type":"Identifier","start":1274,"end":1280,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":10}},"name":"logger"},"property":{"type":"Identifier","start":1281,"end":1286,"loc":{"start":{"line":37,"column":11},"end":{"line":37,"column":16}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":1287,"end":1352,"loc":{"start":{"line":37,"column":17},"end":{"line":37,"column":82}},"value":"Waiting for socket connection before beginning remote download.","raw":"'Waiting for socket connection before beginning remote download.'"},{"type":"Literal","start":1354,"end":1358,"loc":{"start":{"line":37,"column":84},"end":{"line":37,"column":88}},"value":null,"raw":"null"},{"type":"MemberExpression","start":1360,"end":1366,"loc":{"start":{"line":37,"column":90},"end":{"line":37,"column":96}},"object":{"type":"Identifier","start":1360,"end":1363,"loc":{"start":{"line":37,"column":90},"end":{"line":37,"column":93}},"name":"req"},"property":{"type":"Identifier","start":1364,"end":1366,"loc":{"start":{"line":37,"column":94},"end":{"line":37,"column":96}},"name":"id"},"computed":false}]},"comments":[{"type":"Line","value":" wait till the client has connected to the socket, before starting","start":1119,"end":1187,"loc":{"start":{"line":35,"column":4},"end":{"line":35,"column":72}}},{"type":"Line","value":" the download, so that the client can receive all download/upload progress.","start":1192,"end":1269,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":81}}}]},{"type":"ExpressionStatement","start":1404,"end":1625,"loc":{"start":{"line":39,"column":4},"end":{"line":42,"column":6}},"expression":{"type":"CallExpression","start":1404,"end":1625,"loc":{"start":{"line":39,"column":4},"end":{"line":42,"column":6}},"callee":{"type":"MemberExpression","start":1404,"end":1426,"loc":{"start":{"line":39,"column":4},"end":{"line":39,"column":26}},"object":{"type":"Identifier","start":1404,"end":1412,"loc":{"start":{"line":39,"column":4},"end":{"line":39,"column":12}},"name":"uploader"},"property":{"type":"Identifier","start":1413,"end":1426,"loc":{"start":{"line":39,"column":13},"end":{"line":39,"column":26}},"name":"onSocketReady"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1427,"end":1624,"loc":{"start":{"line":39,"column":27},"end":{"line":42,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1433,"end":1624,"loc":{"start":{"line":39,"column":33},"end":{"line":42,"column":5}},"body":[{"type":"ExpressionStatement","start":1441,"end":1524,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":89}},"expression":{"type":"CallExpression","start":1441,"end":1524,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":89}},"callee":{"type":"MemberExpression","start":1441,"end":1453,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":18}},"object":{"type":"Identifier","start":1441,"end":1447,"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":12}},"name":"logger"},"property":{"type":"Identifier","start":1448,"end":1453,"loc":{"start":{"line":40,"column":13},"end":{"line":40,"column":18}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":1454,"end":1509,"loc":{"start":{"line":40,"column":19},"end":{"line":40,"column":74}},"value":"Socket connection received. Starting remote download.","raw":"'Socket connection received. Starting remote download.'"},{"type":"Literal","start":1511,"end":1515,"loc":{"start":{"line":40,"column":76},"end":{"line":40,"column":80}},"value":null,"raw":"null"},{"type":"MemberExpression","start":1517,"end":1523,"loc":{"start":{"line":40,"column":82},"end":{"line":40,"column":88}},"object":{"type":"Identifier","start":1517,"end":1520,"loc":{"start":{"line":40,"column":82},"end":{"line":40,"column":85}},"name":"req"},"property":{"type":"Identifier","start":1521,"end":1523,"loc":{"start":{"line":40,"column":86},"end":{"line":40,"column":88}},"name":"id"},"computed":false}]}},{"type":"ExpressionStatement","start":1531,"end":1618,"loc":{"start":{"line":41,"column":6},"end":{"line":41,"column":93}},"expression":{"type":"CallExpression","start":1531,"end":1618,"loc":{"start":{"line":41,"column":6},"end":{"line":41,"column":93}},"callee":{"type":"MemberExpression","start":1531,"end":1548,"loc":{"start":{"line":41,"column":6},"end":{"line":41,"column":23}},"object":{"type":"Identifier","start":1531,"end":1539,"loc":{"start":{"line":41,"column":6},"end":{"line":41,"column":14}},"name":"provider"},"property":{"type":"Identifier","start":1540,"end":1548,"loc":{"start":{"line":41,"column":15},"end":{"line":41,"column":23}},"name":"download"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1549,"end":1580,"loc":{"start":{"line":41,"column":24},"end":{"line":41,"column":55}},"properties":[{"type":"Property","start":1551,"end":1553,"loc":{"start":{"line":41,"column":26},"end":{"line":41,"column":28}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1551,"end":1553,"loc":{"start":{"line":41,"column":26},"end":{"line":41,"column":28}},"name":"id"},"kind":"init","value":{"type":"Identifier","start":1551,"end":1553,"loc":{"start":{"line":41,"column":26},"end":{"line":41,"column":28}},"name":"id"}},{"type":"Property","start":1555,"end":1560,"loc":{"start":{"line":41,"column":30},"end":{"line":41,"column":35}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1555,"end":1560,"loc":{"start":{"line":41,"column":30},"end":{"line":41,"column":35}},"name":"token"},"kind":"init","value":{"type":"Identifier","start":1555,"end":1560,"loc":{"start":{"line":41,"column":30},"end":{"line":41,"column":35}},"name":"token"}},{"type":"Property","start":1562,"end":1578,"loc":{"start":{"line":41,"column":37},"end":{"line":41,"column":53}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1562,"end":1567,"loc":{"start":{"line":41,"column":37},"end":{"line":41,"column":42}},"name":"query"},"value":{"type":"MemberExpression","start":1569,"end":1578,"loc":{"start":{"line":41,"column":44},"end":{"line":41,"column":53}},"object":{"type":"Identifier","start":1569,"end":1572,"loc":{"start":{"line":41,"column":44},"end":{"line":41,"column":47}},"name":"req"},"property":{"type":"Identifier","start":1573,"end":1578,"loc":{"start":{"line":41,"column":48},"end":{"line":41,"column":53}},"name":"query"},"computed":false},"kind":"init"}]},{"type":"CallExpression","start":1582,"end":1617,"loc":{"start":{"line":41,"column":57},"end":{"line":41,"column":92}},"callee":{"type":"MemberExpression","start":1582,"end":1607,"loc":{"start":{"line":41,"column":57},"end":{"line":41,"column":82}},"object":{"type":"MemberExpression","start":1582,"end":1602,"loc":{"start":{"line":41,"column":57},"end":{"line":41,"column":77}},"object":{"type":"Identifier","start":1582,"end":1590,"loc":{"start":{"line":41,"column":57},"end":{"line":41,"column":65}},"name":"uploader"},"property":{"type":"Identifier","start":1591,"end":1602,"loc":{"start":{"line":41,"column":66},"end":{"line":41,"column":77}},"name":"handleChunk"},"computed":false},"property":{"type":"Identifier","start":1603,"end":1607,"loc":{"start":{"line":41,"column":78},"end":{"line":41,"column":82}},"name":"bind"},"computed":false},"arguments":[{"type":"Identifier","start":1608,"end":1616,"loc":{"start":{"line":41,"column":83},"end":{"line":41,"column":91}},"name":"uploader"}]}]}}]}}]},"comments":[{"type":"Line","value":" waiting for socketReady.","start":1372,"end":1399,"loc":{"start":{"line":38,"column":4},"end":{"line":38,"column":31}}}]},{"type":"VariableDeclaration","start":1630,"end":1669,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":43}},"declarations":[{"type":"VariableDeclarator","start":1636,"end":1669,"loc":{"start":{"line":43,"column":10},"end":{"line":43,"column":43}},"id":{"type":"Identifier","start":1636,"end":1644,"loc":{"start":{"line":43,"column":10},"end":{"line":43,"column":18}},"name":"response"},"init":{"type":"CallExpression","start":1647,"end":1669,"loc":{"start":{"line":43,"column":21},"end":{"line":43,"column":43}},"callee":{"type":"MemberExpression","start":1647,"end":1667,"loc":{"start":{"line":43,"column":21},"end":{"line":43,"column":41}},"object":{"type":"Identifier","start":1647,"end":1655,"loc":{"start":{"line":43,"column":21},"end":{"line":43,"column":29}},"name":"uploader"},"property":{"type":"Identifier","start":1656,"end":1667,"loc":{"start":{"line":43,"column":30},"end":{"line":43,"column":41}},"name":"getResponse"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":1674,"end":1721,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":51}},"expression":{"type":"CallExpression","start":1674,"end":1721,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":51}},"callee":{"type":"MemberExpression","start":1674,"end":1706,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":36}},"object":{"type":"CallExpression","start":1674,"end":1701,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":31}},"callee":{"type":"MemberExpression","start":1674,"end":1684,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":14}},"object":{"type":"Identifier","start":1674,"end":1677,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":7}},"name":"res"},"property":{"type":"Identifier","start":1678,"end":1684,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":14}},"name":"status"},"computed":false},"arguments":[{"type":"MemberExpression","start":1685,"end":1700,"loc":{"start":{"line":44,"column":15},"end":{"line":44,"column":30}},"object":{"type":"Identifier","start":1685,"end":1693,"loc":{"start":{"line":44,"column":15},"end":{"line":44,"column":23}},"name":"response"},"property":{"type":"Identifier","start":1694,"end":1700,"loc":{"start":{"line":44,"column":24},"end":{"line":44,"column":30}},"name":"status"},"computed":false}]},"property":{"type":"Identifier","start":1702,"end":1706,"loc":{"start":{"line":44,"column":32},"end":{"line":44,"column":36}},"name":"json"},"computed":false},"arguments":[{"type":"MemberExpression","start":1707,"end":1720,"loc":{"start":{"line":44,"column":37},"end":{"line":44,"column":50}},"object":{"type":"Identifier","start":1707,"end":1715,"loc":{"start":{"line":44,"column":37},"end":{"line":44,"column":45}},"name":"response"},"property":{"type":"Identifier","start":1716,"end":1720,"loc":{"start":{"line":44,"column":46},"end":{"line":44,"column":50}},"name":"body"},"computed":false}]}}]}}]},"comments":[{"type":"Line","value":" get the file size before proceeding","start":344,"end":382,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":40}}}]}]}},{"type":"ExpressionStatement","start":1730,"end":1750,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":20}},"expression":{"type":"AssignmentExpression","start":1730,"end":1750,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":20}},"operator":"=","left":{"type":"MemberExpression","start":1730,"end":1744,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":14}},"object":{"type":"Identifier","start":1730,"end":1736,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":6}},"name":"module"},"property":{"type":"Identifier","start":1737,"end":1744,"loc":{"start":{"line":48,"column":7},"end":{"line":48,"column":14}},"name":"exports"},"computed":false},"right":{"type":"Identifier","start":1747,"end":1750,"loc":{"start":{"line":48,"column":17},"end":{"line":48,"column":20}},"name":"get"}}}],"sourceType":"script"}