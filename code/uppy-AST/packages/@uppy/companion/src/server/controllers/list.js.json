{"type":"Program","start":0,"end":556,"body":[{"type":"VariableDeclaration","start":0,"end":56,"declarations":[{"type":"VariableDeclarator","start":6,"end":56,"id":{"type":"ObjectPattern","start":6,"end":25,"properties":[{"type":"Property","start":8,"end":23,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":8,"end":23,"name":"errorToResponse"},"kind":"init","value":{"type":"Identifier","start":8,"end":23,"name":"errorToResponse"}}]},"init":{"type":"CallExpression","start":28,"end":56,"callee":{"type":"Identifier","start":28,"end":35,"name":"require"},"arguments":[{"type":"Literal","start":36,"end":55,"value":"../provider/error","raw":"'../provider/error'"}]}}],"kind":"const"},{"type":"FunctionDeclaration","start":58,"end":532,"id":{"type":"Identifier","start":67,"end":71,"name":"list"},"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":73,"end":101,"properties":[{"type":"Property","start":75,"end":80,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":75,"end":80,"name":"query"},"kind":"init","value":{"type":"Identifier","start":75,"end":80,"name":"query"}},{"type":"Property","start":82,"end":88,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":82,"end":88,"name":"params"},"kind":"init","value":{"type":"Identifier","start":82,"end":88,"name":"params"}},{"type":"Property","start":90,"end":99,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":90,"end":99,"name":"companion"},"kind":"init","value":{"type":"Identifier","start":90,"end":99,"name":"companion"}}]},{"type":"Identifier","start":103,"end":106,"name":"res"},{"type":"Identifier","start":108,"end":112,"name":"next"}],"body":{"type":"BlockStatement","start":114,"end":532,"body":[{"type":"VariableDeclaration","start":118,"end":158,"declarations":[{"type":"VariableDeclarator","start":124,"end":158,"id":{"type":"Identifier","start":124,"end":136,"name":"providerName"},"init":{"type":"MemberExpression","start":139,"end":158,"object":{"type":"Identifier","start":139,"end":145,"name":"params"},"property":{"type":"Identifier","start":146,"end":158,"name":"providerName"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":161,"end":213,"declarations":[{"type":"VariableDeclarator","start":167,"end":213,"id":{"type":"Identifier","start":167,"end":172,"name":"token"},"init":{"type":"MemberExpression","start":175,"end":213,"object":{"type":"MemberExpression","start":175,"end":199,"object":{"type":"Identifier","start":175,"end":184,"name":"companion"},"property":{"type":"Identifier","start":185,"end":199,"name":"providerTokens"},"computed":false},"property":{"type":"Identifier","start":200,"end":212,"name":"providerName"},"computed":true}}],"kind":"const"},{"type":"ExpressionStatement","start":217,"end":530,"expression":{"type":"CallExpression","start":217,"end":530,"callee":{"type":"MemberExpression","start":217,"end":240,"object":{"type":"MemberExpression","start":217,"end":235,"object":{"type":"Identifier","start":217,"end":226,"name":"companion"},"property":{"type":"Identifier","start":227,"end":235,"name":"provider"},"computed":false},"property":{"type":"Identifier","start":236,"end":240,"name":"list"},"computed":false},"arguments":[{"type":"ObjectExpression","start":241,"end":290,"properties":[{"type":"Property","start":243,"end":252,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":243,"end":252,"name":"companion"},"kind":"init","value":{"type":"Identifier","start":243,"end":252,"name":"companion"}},{"type":"Property","start":254,"end":259,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":254,"end":259,"name":"token"},"kind":"init","value":{"type":"Identifier","start":254,"end":259,"name":"token"}},{"type":"Property","start":261,"end":281,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":261,"end":270,"name":"directory"},"value":{"type":"MemberExpression","start":272,"end":281,"object":{"type":"Identifier","start":272,"end":278,"name":"params"},"property":{"type":"Identifier","start":279,"end":281,"name":"id"},"computed":false},"kind":"init"},{"type":"Property","start":283,"end":288,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":283,"end":288,"name":"query"},"kind":"init","value":{"type":"Identifier","start":283,"end":288,"name":"query"}}]},{"type":"ArrowFunctionExpression","start":292,"end":529,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":293,"end":296,"name":"err"},{"type":"Identifier","start":298,"end":302,"name":"data"}],"body":{"type":"BlockStatement","start":307,"end":529,"body":[{"type":"IfStatement","start":313,"end":499,"test":{"type":"Identifier","start":317,"end":320,"name":"err"},"consequent":{"type":"BlockStatement","start":322,"end":499,"body":[{"type":"VariableDeclaration","start":330,"end":366,"declarations":[{"type":"VariableDeclarator","start":336,"end":366,"id":{"type":"Identifier","start":336,"end":343,"name":"errResp"},"init":{"type":"CallExpression","start":346,"end":366,"callee":{"type":"Identifier","start":346,"end":361,"name":"errorToResponse"},"arguments":[{"type":"Identifier","start":362,"end":365,"name":"err"}]}}],"kind":"const"},{"type":"IfStatement","start":373,"end":470,"test":{"type":"Identifier","start":377,"end":384,"name":"errResp"},"consequent":{"type":"BlockStatement","start":386,"end":470,"body":[{"type":"ReturnStatement","start":396,"end":462,"argument":{"type":"CallExpression","start":403,"end":462,"callee":{"type":"MemberExpression","start":403,"end":432,"object":{"type":"CallExpression","start":403,"end":427,"callee":{"type":"MemberExpression","start":403,"end":413,"object":{"type":"Identifier","start":403,"end":406,"name":"res"},"property":{"type":"Identifier","start":407,"end":413,"name":"status"},"computed":false},"arguments":[{"type":"MemberExpression","start":414,"end":426,"object":{"type":"Identifier","start":414,"end":421,"name":"errResp"},"property":{"type":"Identifier","start":422,"end":426,"name":"code"},"computed":false}]},"property":{"type":"Identifier","start":428,"end":432,"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":433,"end":461,"properties":[{"type":"Property","start":435,"end":459,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":435,"end":442,"name":"message"},"value":{"type":"MemberExpression","start":444,"end":459,"object":{"type":"Identifier","start":444,"end":451,"name":"errResp"},"property":{"type":"Identifier","start":452,"end":459,"name":"message"},"computed":false},"kind":"init"}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":477,"end":493,"argument":{"type":"CallExpression","start":484,"end":493,"callee":{"type":"Identifier","start":484,"end":488,"name":"next"},"arguments":[{"type":"Identifier","start":489,"end":492,"name":"err"}]}}]},"alternate":null},{"type":"ReturnStatement","start":504,"end":525,"argument":{"type":"CallExpression","start":511,"end":525,"callee":{"type":"MemberExpression","start":511,"end":519,"object":{"type":"Identifier","start":511,"end":514,"name":"res"},"property":{"type":"Identifier","start":515,"end":519,"name":"json"},"computed":false},"arguments":[{"type":"Identifier","start":520,"end":524,"name":"data"}]}}]}}]}}]}},{"type":"ExpressionStatement","start":534,"end":555,"expression":{"type":"AssignmentExpression","start":534,"end":555,"operator":"=","left":{"type":"MemberExpression","start":534,"end":548,"object":{"type":"Identifier","start":534,"end":540,"name":"module"},"property":{"type":"Identifier","start":541,"end":548,"name":"exports"},"computed":false},"right":{"type":"Identifier","start":551,"end":555,"name":"list"}}}],"sourceType":"script"}