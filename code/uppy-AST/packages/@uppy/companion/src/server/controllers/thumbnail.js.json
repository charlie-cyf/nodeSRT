{"type":"Program","start":0,"end":496,"loc":{"start":{"line":1,"column":0},"end":{"line":21,"column":0}},"body":[{"type":"FunctionDeclaration","start":57,"end":467,"loc":{"start":{"line":6,"column":0},"end":{"line":18,"column":1}},"id":{"type":"Identifier","start":66,"end":75,"loc":{"start":{"line":6,"column":9},"end":{"line":6,"column":18}},"name":"thumbnail"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":77,"end":80,"loc":{"start":{"line":6,"column":20},"end":{"line":6,"column":23}},"name":"req"},{"type":"Identifier","start":82,"end":85,"loc":{"start":{"line":6,"column":25},"end":{"line":6,"column":28}},"name":"res"},{"type":"Identifier","start":87,"end":91,"loc":{"start":{"line":6,"column":30},"end":{"line":6,"column":34}},"name":"next"}],"body":{"type":"BlockStatement","start":93,"end":467,"loc":{"start":{"line":6,"column":36},"end":{"line":18,"column":1}},"body":[{"type":"VariableDeclaration","start":97,"end":141,"loc":{"start":{"line":7,"column":2},"end":{"line":7,"column":46}},"declarations":[{"type":"VariableDeclarator","start":103,"end":141,"loc":{"start":{"line":7,"column":8},"end":{"line":7,"column":46}},"id":{"type":"Identifier","start":103,"end":115,"loc":{"start":{"line":7,"column":8},"end":{"line":7,"column":20}},"name":"providerName"},"init":{"type":"MemberExpression","start":118,"end":141,"loc":{"start":{"line":7,"column":23},"end":{"line":7,"column":46}},"object":{"type":"MemberExpression","start":118,"end":128,"loc":{"start":{"line":7,"column":23},"end":{"line":7,"column":33}},"object":{"type":"Identifier","start":118,"end":121,"loc":{"start":{"line":7,"column":23},"end":{"line":7,"column":26}},"name":"req"},"property":{"type":"Identifier","start":122,"end":128,"loc":{"start":{"line":7,"column":27},"end":{"line":7,"column":33}},"name":"params"},"computed":false},"property":{"type":"Identifier","start":129,"end":141,"loc":{"start":{"line":7,"column":34},"end":{"line":7,"column":46}},"name":"providerName"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":144,"end":168,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":26}},"declarations":[{"type":"VariableDeclarator","start":150,"end":168,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":26}},"id":{"type":"Identifier","start":150,"end":152,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":10}},"name":"id"},"init":{"type":"MemberExpression","start":155,"end":168,"loc":{"start":{"line":8,"column":13},"end":{"line":8,"column":26}},"object":{"type":"MemberExpression","start":155,"end":165,"loc":{"start":{"line":8,"column":13},"end":{"line":8,"column":23}},"object":{"type":"Identifier","start":155,"end":158,"loc":{"start":{"line":8,"column":13},"end":{"line":8,"column":16}},"name":"req"},"property":{"type":"Identifier","start":159,"end":165,"loc":{"start":{"line":8,"column":17},"end":{"line":8,"column":23}},"name":"params"},"computed":false},"property":{"type":"Identifier","start":166,"end":168,"loc":{"start":{"line":8,"column":24},"end":{"line":8,"column":26}},"name":"id"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":171,"end":227,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":58}},"declarations":[{"type":"VariableDeclarator","start":177,"end":227,"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":58}},"id":{"type":"Identifier","start":177,"end":182,"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":13}},"name":"token"},"init":{"type":"MemberExpression","start":185,"end":227,"loc":{"start":{"line":9,"column":16},"end":{"line":9,"column":58}},"object":{"type":"MemberExpression","start":185,"end":213,"loc":{"start":{"line":9,"column":16},"end":{"line":9,"column":44}},"object":{"type":"MemberExpression","start":185,"end":198,"loc":{"start":{"line":9,"column":16},"end":{"line":9,"column":29}},"object":{"type":"Identifier","start":185,"end":188,"loc":{"start":{"line":9,"column":16},"end":{"line":9,"column":19}},"name":"req"},"property":{"type":"Identifier","start":189,"end":198,"loc":{"start":{"line":9,"column":20},"end":{"line":9,"column":29}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":199,"end":213,"loc":{"start":{"line":9,"column":30},"end":{"line":9,"column":44}},"name":"providerTokens"},"computed":false},"property":{"type":"Identifier","start":214,"end":226,"loc":{"start":{"line":9,"column":45},"end":{"line":9,"column":57}},"name":"providerName"},"computed":true}}],"kind":"const"},{"type":"VariableDeclaration","start":230,"end":269,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":41}},"declarations":[{"type":"VariableDeclarator","start":236,"end":269,"loc":{"start":{"line":10,"column":8},"end":{"line":10,"column":41}},"id":{"type":"Identifier","start":236,"end":244,"loc":{"start":{"line":10,"column":8},"end":{"line":10,"column":16}},"name":"provider"},"init":{"type":"MemberExpression","start":247,"end":269,"loc":{"start":{"line":10,"column":19},"end":{"line":10,"column":41}},"object":{"type":"MemberExpression","start":247,"end":260,"loc":{"start":{"line":10,"column":19},"end":{"line":10,"column":32}},"object":{"type":"Identifier","start":247,"end":250,"loc":{"start":{"line":10,"column":19},"end":{"line":10,"column":22}},"name":"req"},"property":{"type":"Identifier","start":251,"end":260,"loc":{"start":{"line":10,"column":23},"end":{"line":10,"column":32}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":261,"end":269,"loc":{"start":{"line":10,"column":33},"end":{"line":10,"column":41}},"name":"provider"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":273,"end":465,"loc":{"start":{"line":12,"column":2},"end":{"line":17,"column":4}},"expression":{"type":"CallExpression","start":273,"end":465,"loc":{"start":{"line":12,"column":2},"end":{"line":17,"column":4}},"callee":{"type":"MemberExpression","start":273,"end":291,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":20}},"object":{"type":"Identifier","start":273,"end":281,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":10}},"name":"provider"},"property":{"type":"Identifier","start":282,"end":291,"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":20}},"name":"thumbnail"},"computed":false},"arguments":[{"type":"ObjectExpression","start":292,"end":305,"loc":{"start":{"line":12,"column":21},"end":{"line":12,"column":34}},"properties":[{"type":"Property","start":294,"end":296,"loc":{"start":{"line":12,"column":23},"end":{"line":12,"column":25}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":294,"end":296,"loc":{"start":{"line":12,"column":23},"end":{"line":12,"column":25}},"name":"id"},"kind":"init","value":{"type":"Identifier","start":294,"end":296,"loc":{"start":{"line":12,"column":23},"end":{"line":12,"column":25}},"name":"id"}},{"type":"Property","start":298,"end":303,"loc":{"start":{"line":12,"column":27},"end":{"line":12,"column":32}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":298,"end":303,"loc":{"start":{"line":12,"column":27},"end":{"line":12,"column":32}},"name":"token"},"kind":"init","value":{"type":"Identifier","start":298,"end":303,"loc":{"start":{"line":12,"column":27},"end":{"line":12,"column":32}},"name":"token"}}]},{"type":"ArrowFunctionExpression","start":307,"end":464,"loc":{"start":{"line":12,"column":36},"end":{"line":17,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":308,"end":311,"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},"name":"err"},{"type":"Identifier","start":313,"end":321,"loc":{"start":{"line":12,"column":42},"end":{"line":12,"column":50}},"name":"response"}],"body":{"type":"BlockStatement","start":326,"end":464,"loc":{"start":{"line":12,"column":55},"end":{"line":17,"column":3}},"body":[{"type":"IfStatement","start":332,"end":404,"loc":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"test":{"type":"Identifier","start":336,"end":339,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":11}},"name":"err"},"consequent":{"type":"BlockStatement","start":341,"end":404,"loc":{"start":{"line":13,"column":13},"end":{"line":15,"column":5}},"body":[{"type":"ExpressionStatement","start":349,"end":398,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":55}},"expression":{"type":"ConditionalExpression","start":349,"end":398,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":55}},"test":{"type":"MemberExpression","start":349,"end":364,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":21}},"object":{"type":"Identifier","start":349,"end":352,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":9}},"name":"err"},"property":{"type":"Identifier","start":353,"end":364,"loc":{"start":{"line":14,"column":10},"end":{"line":14,"column":21}},"name":"isAuthError"},"computed":false},"consequent":{"type":"CallExpression","start":367,"end":386,"loc":{"start":{"line":14,"column":24},"end":{"line":14,"column":43}},"callee":{"type":"MemberExpression","start":367,"end":381,"loc":{"start":{"line":14,"column":24},"end":{"line":14,"column":38}},"object":{"type":"Identifier","start":367,"end":370,"loc":{"start":{"line":14,"column":24},"end":{"line":14,"column":27}},"name":"res"},"property":{"type":"Identifier","start":371,"end":381,"loc":{"start":{"line":14,"column":28},"end":{"line":14,"column":38}},"name":"sendStatus"},"computed":false},"arguments":[{"type":"Literal","start":382,"end":385,"loc":{"start":{"line":14,"column":39},"end":{"line":14,"column":42}},"value":401,"raw":"401"}]},"alternate":{"type":"CallExpression","start":389,"end":398,"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":55}},"callee":{"type":"Identifier","start":389,"end":393,"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":50}},"name":"next"},"arguments":[{"type":"Identifier","start":394,"end":397,"loc":{"start":{"line":14,"column":51},"end":{"line":14,"column":54}},"name":"err"}]}}}]},"alternate":null},{"type":"ExpressionStatement","start":409,"end":460,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":55}},"expression":{"type":"ConditionalExpression","start":409,"end":460,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":55}},"test":{"type":"Identifier","start":409,"end":417,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":12}},"name":"response"},"consequent":{"type":"CallExpression","start":420,"end":438,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":33}},"callee":{"type":"MemberExpression","start":420,"end":433,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":28}},"object":{"type":"Identifier","start":420,"end":428,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":23}},"name":"response"},"property":{"type":"Identifier","start":429,"end":433,"loc":{"start":{"line":16,"column":24},"end":{"line":16,"column":28}},"name":"pipe"},"computed":false},"arguments":[{"type":"Identifier","start":434,"end":437,"loc":{"start":{"line":16,"column":29},"end":{"line":16,"column":32}},"name":"res"}]},"alternate":{"type":"CallExpression","start":441,"end":460,"loc":{"start":{"line":16,"column":36},"end":{"line":16,"column":55}},"callee":{"type":"MemberExpression","start":441,"end":455,"loc":{"start":{"line":16,"column":36},"end":{"line":16,"column":50}},"object":{"type":"Identifier","start":441,"end":444,"loc":{"start":{"line":16,"column":36},"end":{"line":16,"column":39}},"name":"res"},"property":{"type":"Identifier","start":445,"end":455,"loc":{"start":{"line":16,"column":40},"end":{"line":16,"column":50}},"name":"sendStatus"},"computed":false},"arguments":[{"type":"Literal","start":456,"end":459,"loc":{"start":{"line":16,"column":51},"end":{"line":16,"column":54}},"value":404,"raw":"404"}]}}}]}}]}}]}},{"type":"ExpressionStatement","start":469,"end":495,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":26}},"expression":{"type":"AssignmentExpression","start":469,"end":495,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":26}},"operator":"=","left":{"type":"MemberExpression","start":469,"end":483,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":14}},"object":{"type":"Identifier","start":469,"end":475,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":6}},"name":"module"},"property":{"type":"Identifier","start":476,"end":483,"loc":{"start":{"line":20,"column":7},"end":{"line":20,"column":14}},"name":"exports"},"computed":false},"right":{"type":"Identifier","start":486,"end":495,"loc":{"start":{"line":20,"column":17},"end":{"line":20,"column":26}},"name":"thumbnail"}}}],"sourceType":"script","comments":[{"type":"Block","value":"*\n *\n * @param {object} req\n * @param {object} res\n ","start":0,"end":56,"loc":{"start":{"line":1,"column":0},"end":{"line":5,"column":3}}}]}