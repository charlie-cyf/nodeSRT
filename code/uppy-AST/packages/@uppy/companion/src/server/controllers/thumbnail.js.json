{"type":"Program","start":0,"end":496,"body":[{"type":"FunctionDeclaration","start":57,"end":467,"id":{"type":"Identifier","start":66,"end":75,"name":"thumbnail"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":77,"end":80,"name":"req"},{"type":"Identifier","start":82,"end":85,"name":"res"},{"type":"Identifier","start":87,"end":91,"name":"next"}],"body":{"type":"BlockStatement","start":93,"end":467,"body":[{"type":"VariableDeclaration","start":97,"end":141,"declarations":[{"type":"VariableDeclarator","start":103,"end":141,"id":{"type":"Identifier","start":103,"end":115,"name":"providerName"},"init":{"type":"MemberExpression","start":118,"end":141,"object":{"type":"MemberExpression","start":118,"end":128,"object":{"type":"Identifier","start":118,"end":121,"name":"req"},"property":{"type":"Identifier","start":122,"end":128,"name":"params"},"computed":false},"property":{"type":"Identifier","start":129,"end":141,"name":"providerName"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":144,"end":168,"declarations":[{"type":"VariableDeclarator","start":150,"end":168,"id":{"type":"Identifier","start":150,"end":152,"name":"id"},"init":{"type":"MemberExpression","start":155,"end":168,"object":{"type":"MemberExpression","start":155,"end":165,"object":{"type":"Identifier","start":155,"end":158,"name":"req"},"property":{"type":"Identifier","start":159,"end":165,"name":"params"},"computed":false},"property":{"type":"Identifier","start":166,"end":168,"name":"id"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":171,"end":227,"declarations":[{"type":"VariableDeclarator","start":177,"end":227,"id":{"type":"Identifier","start":177,"end":182,"name":"token"},"init":{"type":"MemberExpression","start":185,"end":227,"object":{"type":"MemberExpression","start":185,"end":213,"object":{"type":"MemberExpression","start":185,"end":198,"object":{"type":"Identifier","start":185,"end":188,"name":"req"},"property":{"type":"Identifier","start":189,"end":198,"name":"companion"},"computed":false},"property":{"type":"Identifier","start":199,"end":213,"name":"providerTokens"},"computed":false},"property":{"type":"Identifier","start":214,"end":226,"name":"providerName"},"computed":true}}],"kind":"const"},{"type":"VariableDeclaration","start":230,"end":269,"declarations":[{"type":"VariableDeclarator","start":236,"end":269,"id":{"type":"Identifier","start":236,"end":244,"name":"provider"},"init":{"type":"MemberExpression","start":247,"end":269,"object":{"type":"MemberExpression","start":247,"end":260,"object":{"type":"Identifier","start":247,"end":250,"name":"req"},"property":{"type":"Identifier","start":251,"end":260,"name":"companion"},"computed":false},"property":{"type":"Identifier","start":261,"end":269,"name":"provider"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":273,"end":465,"expression":{"type":"CallExpression","start":273,"end":465,"callee":{"type":"MemberExpression","start":273,"end":291,"object":{"type":"Identifier","start":273,"end":281,"name":"provider"},"property":{"type":"Identifier","start":282,"end":291,"name":"thumbnail"},"computed":false},"arguments":[{"type":"ObjectExpression","start":292,"end":305,"properties":[{"type":"Property","start":294,"end":296,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":294,"end":296,"name":"id"},"kind":"init","value":{"type":"Identifier","start":294,"end":296,"name":"id"}},{"type":"Property","start":298,"end":303,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":298,"end":303,"name":"token"},"kind":"init","value":{"type":"Identifier","start":298,"end":303,"name":"token"}}]},{"type":"ArrowFunctionExpression","start":307,"end":464,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":308,"end":311,"name":"err"},{"type":"Identifier","start":313,"end":321,"name":"response"}],"body":{"type":"BlockStatement","start":326,"end":464,"body":[{"type":"IfStatement","start":332,"end":404,"test":{"type":"Identifier","start":336,"end":339,"name":"err"},"consequent":{"type":"BlockStatement","start":341,"end":404,"body":[{"type":"ExpressionStatement","start":349,"end":398,"expression":{"type":"ConditionalExpression","start":349,"end":398,"test":{"type":"MemberExpression","start":349,"end":364,"object":{"type":"Identifier","start":349,"end":352,"name":"err"},"property":{"type":"Identifier","start":353,"end":364,"name":"isAuthError"},"computed":false},"consequent":{"type":"CallExpression","start":367,"end":386,"callee":{"type":"MemberExpression","start":367,"end":381,"object":{"type":"Identifier","start":367,"end":370,"name":"res"},"property":{"type":"Identifier","start":371,"end":381,"name":"sendStatus"},"computed":false},"arguments":[{"type":"Literal","start":382,"end":385,"value":401,"raw":"401"}]},"alternate":{"type":"CallExpression","start":389,"end":398,"callee":{"type":"Identifier","start":389,"end":393,"name":"next"},"arguments":[{"type":"Identifier","start":394,"end":397,"name":"err"}]}}}]},"alternate":null},{"type":"ExpressionStatement","start":409,"end":460,"expression":{"type":"ConditionalExpression","start":409,"end":460,"test":{"type":"Identifier","start":409,"end":417,"name":"response"},"consequent":{"type":"CallExpression","start":420,"end":438,"callee":{"type":"MemberExpression","start":420,"end":433,"object":{"type":"Identifier","start":420,"end":428,"name":"response"},"property":{"type":"Identifier","start":429,"end":433,"name":"pipe"},"computed":false},"arguments":[{"type":"Identifier","start":434,"end":437,"name":"res"}]},"alternate":{"type":"CallExpression","start":441,"end":460,"callee":{"type":"MemberExpression","start":441,"end":455,"object":{"type":"Identifier","start":441,"end":444,"name":"res"},"property":{"type":"Identifier","start":445,"end":455,"name":"sendStatus"},"computed":false},"arguments":[{"type":"Literal","start":456,"end":459,"value":404,"raw":"404"}]}}}]}}]}}]}},{"type":"ExpressionStatement","start":469,"end":495,"expression":{"type":"AssignmentExpression","start":469,"end":495,"operator":"=","left":{"type":"MemberExpression","start":469,"end":483,"object":{"type":"Identifier","start":469,"end":475,"name":"module"},"property":{"type":"Identifier","start":476,"end":483,"name":"exports"},"computed":false},"right":{"type":"Identifier","start":486,"end":495,"name":"thumbnail"}}}],"sourceType":"script"}