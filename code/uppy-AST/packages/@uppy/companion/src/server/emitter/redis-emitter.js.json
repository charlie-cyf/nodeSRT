{"type":"Program","start":0,"end":1612,"body":[{"type":"VariableDeclaration","start":14,"end":54,"declarations":[{"type":"VariableDeclarator","start":20,"end":54,"id":{"type":"Identifier","start":20,"end":23,"name":"NRP"},"init":{"type":"CallExpression","start":26,"end":54,"callee":{"type":"Identifier","start":26,"end":33,"name":"require"},"arguments":[{"type":"Literal","start":34,"end":53,"value":"node-redis-pubsub","raw":"'node-redis-pubsub'"}]}}],"kind":"const"},{"type":"ClassDeclaration","start":262,"end":1539,"id":{"type":"Identifier","start":268,"end":280,"name":"RedisEmitter"},"superClass":{"type":"Identifier","start":289,"end":292,"name":"NRP"},"body":{"type":"ClassBody","start":293,"end":1539,"body":[{"type":"MethodDefinition","start":354,"end":429,"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":354,"end":365,"name":"constructor"},"value":{"type":"FunctionExpression","start":366,"end":429,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":367,"end":375,"name":"redisUrl"}],"body":{"type":"BlockStatement","start":377,"end":429,"body":[{"type":"ExpressionStatement","start":401,"end":425,"expression":{"type":"CallExpression","start":401,"end":425,"callee":{"type":"Super","start":401,"end":406},"arguments":[{"type":"ObjectExpression","start":407,"end":424,"properties":[{"type":"Property","start":409,"end":422,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":409,"end":412,"name":"url"},"value":{"type":"Identifier","start":414,"end":422,"name":"redisUrl"},"kind":"init"}]}]}}]}}},{"type":"MethodDefinition","start":584,"end":729,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":584,"end":588,"name":"once"},"value":{"type":"FunctionExpression","start":589,"end":729,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":590,"end":599,"name":"eventName"},{"type":"Identifier","start":601,"end":608,"name":"handler"}],"body":{"type":"BlockStatement","start":610,"end":729,"body":[{"type":"VariableDeclaration","start":616,"end":725,"declarations":[{"type":"VariableDeclarator","start":622,"end":725,"id":{"type":"Identifier","start":622,"end":636,"name":"removeListener"},"init":{"type":"CallExpression","start":639,"end":725,"callee":{"type":"MemberExpression","start":639,"end":646,"object":{"type":"ThisExpression","start":639,"end":643},"property":{"type":"Identifier","start":644,"end":646,"name":"on"},"computed":false},"arguments":[{"type":"Identifier","start":647,"end":656,"name":"eventName"},{"type":"ArrowFunctionExpression","start":658,"end":724,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":659,"end":666,"name":"message"}],"body":{"type":"BlockStatement","start":671,"end":724,"body":[{"type":"ExpressionStatement","start":679,"end":695,"expression":{"type":"CallExpression","start":679,"end":695,"callee":{"type":"Identifier","start":679,"end":686,"name":"handler"},"arguments":[{"type":"Identifier","start":687,"end":694,"name":"message"}]}},{"type":"ExpressionStatement","start":702,"end":718,"expression":{"type":"CallExpression","start":702,"end":718,"callee":{"type":"Identifier","start":702,"end":716,"name":"removeListener"},"arguments":[]}}]}}]}}],"kind":"const"}]}}},{"type":"MethodDefinition","start":904,"end":983,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":904,"end":908,"name":"emit"},"value":{"type":"FunctionExpression","start":909,"end":983,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":910,"end":919,"name":"eventName"},{"type":"Identifier","start":921,"end":928,"name":"message"}],"body":{"type":"BlockStatement","start":930,"end":983,"body":[{"type":"ReturnStatement","start":936,"end":979,"argument":{"type":"CallExpression","start":943,"end":979,"callee":{"type":"MemberExpression","start":943,"end":953,"object":{"type":"Super","start":943,"end":948},"property":{"type":"Identifier","start":949,"end":953,"name":"emit"},"computed":false},"arguments":[{"type":"Identifier","start":954,"end":963,"name":"eventName"},{"type":"LogicalExpression","start":965,"end":978,"left":{"type":"Identifier","start":965,"end":972,"name":"message"},"operator":"||","right":{"type":"ObjectExpression","start":976,"end":978,"properties":[]}}]}}]}}},{"type":"MethodDefinition","start":1144,"end":1294,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1144,"end":1158,"name":"removeListener"},"value":{"type":"FunctionExpression","start":1159,"end":1294,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1160,"end":1169,"name":"eventName"},{"type":"Identifier","start":1171,"end":1178,"name":"handler"}],"body":{"type":"BlockStatement","start":1180,"end":1294,"body":[{"type":"ExpressionStatement","start":1186,"end":1234,"expression":{"type":"CallExpression","start":1186,"end":1234,"callee":{"type":"MemberExpression","start":1186,"end":1214,"object":{"type":"MemberExpression","start":1186,"end":1199,"object":{"type":"ThisExpression","start":1186,"end":1190},"property":{"type":"Identifier","start":1191,"end":1199,"name":"receiver"},"computed":false},"property":{"type":"Identifier","start":1200,"end":1214,"name":"removeListener"},"computed":false},"arguments":[{"type":"Identifier","start":1215,"end":1224,"name":"eventName"},{"type":"Identifier","start":1226,"end":1233,"name":"handler"}]}},{"type":"ExpressionStatement","start":1239,"end":1290,"expression":{"type":"CallExpression","start":1239,"end":1290,"callee":{"type":"MemberExpression","start":1239,"end":1265,"object":{"type":"MemberExpression","start":1239,"end":1252,"object":{"type":"ThisExpression","start":1239,"end":1243},"property":{"type":"Identifier","start":1244,"end":1252,"name":"receiver"},"computed":false},"property":{"type":"Identifier","start":1253,"end":1265,"name":"punsubscribe"},"computed":false},"arguments":[{"type":"BinaryExpression","start":1266,"end":1289,"left":{"type":"MemberExpression","start":1266,"end":1277,"object":{"type":"ThisExpression","start":1266,"end":1270},"property":{"type":"Identifier","start":1271,"end":1277,"name":"prefix"},"computed":false},"operator":"+","right":{"type":"Identifier","start":1280,"end":1289,"name":"eventName"}}]}}]}}},{"type":"MethodDefinition","start":1397,"end":1537,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1397,"end":1415,"name":"removeAllListeners"},"value":{"type":"FunctionExpression","start":1416,"end":1537,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1417,"end":1426,"name":"eventName"}],"body":{"type":"BlockStatement","start":1428,"end":1537,"body":[{"type":"ExpressionStatement","start":1434,"end":1477,"expression":{"type":"CallExpression","start":1434,"end":1477,"callee":{"type":"MemberExpression","start":1434,"end":1466,"object":{"type":"MemberExpression","start":1434,"end":1447,"object":{"type":"ThisExpression","start":1434,"end":1438},"property":{"type":"Identifier","start":1439,"end":1447,"name":"receiver"},"computed":false},"property":{"type":"Identifier","start":1448,"end":1466,"name":"removeAllListeners"},"computed":false},"arguments":[{"type":"Identifier","start":1467,"end":1476,"name":"eventName"}]}},{"type":"ExpressionStatement","start":1482,"end":1533,"expression":{"type":"CallExpression","start":1482,"end":1533,"callee":{"type":"MemberExpression","start":1482,"end":1508,"object":{"type":"MemberExpression","start":1482,"end":1495,"object":{"type":"ThisExpression","start":1482,"end":1486},"property":{"type":"Identifier","start":1487,"end":1495,"name":"receiver"},"computed":false},"property":{"type":"Identifier","start":1496,"end":1508,"name":"punsubscribe"},"computed":false},"arguments":[{"type":"BinaryExpression","start":1509,"end":1532,"left":{"type":"MemberExpression","start":1509,"end":1520,"object":{"type":"ThisExpression","start":1509,"end":1513},"property":{"type":"Identifier","start":1514,"end":1520,"name":"prefix"},"computed":false},"operator":"+","right":{"type":"Identifier","start":1523,"end":1532,"name":"eventName"}}]}}]}}}]}},{"type":"ExpressionStatement","start":1541,"end":1611,"expression":{"type":"AssignmentExpression","start":1541,"end":1611,"operator":"=","left":{"type":"MemberExpression","start":1541,"end":1555,"object":{"type":"Identifier","start":1541,"end":1547,"name":"module"},"property":{"type":"Identifier","start":1548,"end":1555,"name":"exports"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1558,"end":1611,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1559,"end":1567,"name":"redisUrl"}],"body":{"type":"BlockStatement","start":1572,"end":1611,"body":[{"type":"ReturnStatement","start":1576,"end":1609,"argument":{"type":"NewExpression","start":1583,"end":1609,"callee":{"type":"Identifier","start":1587,"end":1599,"name":"RedisEmitter"},"arguments":[{"type":"Identifier","start":1600,"end":1608,"name":"redisUrl"}]}}]}}}}],"sourceType":"script"}