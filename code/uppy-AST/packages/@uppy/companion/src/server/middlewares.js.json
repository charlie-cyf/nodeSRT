{"type":"Program","start":0,"end":1573,"loc":{"start":{"line":1,"column":0},"end":{"line":52,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":45,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"declarations":[{"type":"VariableDeclarator","start":6,"end":45,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":45}},"id":{"type":"Identifier","start":6,"end":18,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":18}},"name":"tokenService"},"init":{"type":"CallExpression","start":21,"end":45,"loc":{"start":{"line":1,"column":21},"end":{"line":1,"column":45}},"callee":{"type":"Identifier","start":21,"end":28,"loc":{"start":{"line":1,"column":21},"end":{"line":1,"column":28}},"name":"require"},"arguments":[{"type":"Literal","start":29,"end":44,"loc":{"start":{"line":1,"column":29},"end":{"line":1,"column":44}},"value":"./helpers/jwt","raw":"'./helpers/jwt'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":46,"end":80,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":34}},"declarations":[{"type":"VariableDeclarator","start":52,"end":80,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":34}},"id":{"type":"Identifier","start":52,"end":58,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":12}},"name":"logger"},"init":{"type":"CallExpression","start":61,"end":80,"loc":{"start":{"line":2,"column":15},"end":{"line":2,"column":34}},"callee":{"type":"Identifier","start":61,"end":68,"loc":{"start":{"line":2,"column":15},"end":{"line":2,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":69,"end":79,"loc":{"start":{"line":2,"column":23},"end":{"line":2,"column":33}},"value":"./logger","raw":"'./logger'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":82,"end":477,"loc":{"start":{"line":4,"column":0},"end":{"line":16,"column":1}},"expression":{"type":"AssignmentExpression","start":82,"end":477,"loc":{"start":{"line":4,"column":0},"end":{"line":16,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":82,"end":111,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}},"object":{"type":"Identifier","start":82,"end":89,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":7}},"name":"exports"},"property":{"type":"Identifier","start":90,"end":111,"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":29}},"name":"hasSessionAndProvider"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":114,"end":477,"loc":{"start":{"line":4,"column":32},"end":{"line":16,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":115,"end":118,"loc":{"start":{"line":4,"column":33},"end":{"line":4,"column":36}},"name":"req"},{"type":"Identifier","start":120,"end":123,"loc":{"start":{"line":4,"column":38},"end":{"line":4,"column":41}},"name":"res"},{"type":"Identifier","start":125,"end":129,"loc":{"start":{"line":4,"column":43},"end":{"line":4,"column":47}},"name":"next"}],"body":{"type":"BlockStatement","start":134,"end":477,"loc":{"start":{"line":4,"column":52},"end":{"line":16,"column":1}},"body":[{"type":"IfStatement","start":138,"end":299,"loc":{"start":{"line":5,"column":2},"end":{"line":8,"column":3}},"test":{"type":"LogicalExpression","start":142,"end":167,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":31}},"left":{"type":"UnaryExpression","start":142,"end":154,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":18}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":143,"end":154,"loc":{"start":{"line":5,"column":7},"end":{"line":5,"column":18}},"object":{"type":"Identifier","start":143,"end":146,"loc":{"start":{"line":5,"column":7},"end":{"line":5,"column":10}},"name":"req"},"property":{"type":"Identifier","start":147,"end":154,"loc":{"start":{"line":5,"column":11},"end":{"line":5,"column":18}},"name":"session"},"computed":false}},"operator":"||","right":{"type":"UnaryExpression","start":158,"end":167,"loc":{"start":{"line":5,"column":22},"end":{"line":5,"column":31}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":159,"end":167,"loc":{"start":{"line":5,"column":23},"end":{"line":5,"column":31}},"object":{"type":"Identifier","start":159,"end":162,"loc":{"start":{"line":5,"column":23},"end":{"line":5,"column":26}},"name":"req"},"property":{"type":"Identifier","start":163,"end":167,"loc":{"start":{"line":5,"column":27},"end":{"line":5,"column":31}},"name":"body"},"computed":false}}},"consequent":{"type":"BlockStatement","start":169,"end":299,"loc":{"start":{"line":5,"column":33},"end":{"line":8,"column":3}},"body":[{"type":"ExpressionStatement","start":175,"end":264,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":93}},"expression":{"type":"CallExpression","start":175,"end":264,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":93}},"callee":{"type":"MemberExpression","start":175,"end":187,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":16}},"object":{"type":"Identifier","start":175,"end":181,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":10}},"name":"logger"},"property":{"type":"Identifier","start":182,"end":187,"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":188,"end":249,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":78}},"value":"No session/body attached to req object. Exiting dispatcher.","raw":"'No session/body attached to req object. Exiting dispatcher.'"},{"type":"Literal","start":251,"end":255,"loc":{"start":{"line":6,"column":80},"end":{"line":6,"column":84}},"value":null,"raw":"null"},{"type":"MemberExpression","start":257,"end":263,"loc":{"start":{"line":6,"column":86},"end":{"line":6,"column":92}},"object":{"type":"Identifier","start":257,"end":260,"loc":{"start":{"line":6,"column":86},"end":{"line":6,"column":89}},"name":"req"},"property":{"type":"Identifier","start":261,"end":263,"loc":{"start":{"line":6,"column":90},"end":{"line":6,"column":92}},"name":"id"},"computed":false}]}},{"type":"ReturnStatement","start":269,"end":295,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":30}},"argument":{"type":"CallExpression","start":276,"end":295,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":30}},"callee":{"type":"MemberExpression","start":276,"end":290,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":25}},"object":{"type":"Identifier","start":276,"end":279,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":14}},"name":"res"},"property":{"type":"Identifier","start":280,"end":290,"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":25}},"name":"sendStatus"},"computed":false},"arguments":[{"type":"Literal","start":291,"end":294,"loc":{"start":{"line":7,"column":26},"end":{"line":7,"column":29}},"value":400,"raw":"400"}]}}]},"alternate":null},{"type":"IfStatement","start":303,"end":458,"loc":{"start":{"line":10,"column":2},"end":{"line":13,"column":3}},"test":{"type":"UnaryExpression","start":307,"end":330,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":29}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":308,"end":330,"loc":{"start":{"line":10,"column":7},"end":{"line":10,"column":29}},"object":{"type":"MemberExpression","start":308,"end":321,"loc":{"start":{"line":10,"column":7},"end":{"line":10,"column":20}},"object":{"type":"Identifier","start":308,"end":311,"loc":{"start":{"line":10,"column":7},"end":{"line":10,"column":10}},"name":"req"},"property":{"type":"Identifier","start":312,"end":321,"loc":{"start":{"line":10,"column":11},"end":{"line":10,"column":20}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":322,"end":330,"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":29}},"name":"provider"},"computed":false}},"consequent":{"type":"BlockStatement","start":332,"end":458,"loc":{"start":{"line":10,"column":31},"end":{"line":13,"column":3}},"body":[{"type":"ExpressionStatement","start":338,"end":423,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":89}},"expression":{"type":"CallExpression","start":338,"end":423,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":89}},"callee":{"type":"MemberExpression","start":338,"end":350,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":16}},"object":{"type":"Identifier","start":338,"end":344,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":10}},"name":"logger"},"property":{"type":"Identifier","start":345,"end":350,"loc":{"start":{"line":11,"column":11},"end":{"line":11,"column":16}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":351,"end":408,"loc":{"start":{"line":11,"column":17},"end":{"line":11,"column":74}},"value":"No provider/provider-handler found. Exiting dispatcher.","raw":"'No provider/provider-handler found. Exiting dispatcher.'"},{"type":"Literal","start":410,"end":414,"loc":{"start":{"line":11,"column":76},"end":{"line":11,"column":80}},"value":null,"raw":"null"},{"type":"MemberExpression","start":416,"end":422,"loc":{"start":{"line":11,"column":82},"end":{"line":11,"column":88}},"object":{"type":"Identifier","start":416,"end":419,"loc":{"start":{"line":11,"column":82},"end":{"line":11,"column":85}},"name":"req"},"property":{"type":"Identifier","start":420,"end":422,"loc":{"start":{"line":11,"column":86},"end":{"line":11,"column":88}},"name":"id"},"computed":false}]}},{"type":"ReturnStatement","start":428,"end":454,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":30}},"argument":{"type":"CallExpression","start":435,"end":454,"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":30}},"callee":{"type":"MemberExpression","start":435,"end":449,"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":25}},"object":{"type":"Identifier","start":435,"end":438,"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":14}},"name":"res"},"property":{"type":"Identifier","start":439,"end":449,"loc":{"start":{"line":12,"column":15},"end":{"line":12,"column":25}},"name":"sendStatus"},"computed":false},"arguments":[{"type":"Literal","start":450,"end":453,"loc":{"start":{"line":12,"column":26},"end":{"line":12,"column":29}},"value":400,"raw":"400"}]}}]},"alternate":null},{"type":"ReturnStatement","start":462,"end":475,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":15}},"argument":{"type":"CallExpression","start":469,"end":475,"loc":{"start":{"line":15,"column":9},"end":{"line":15,"column":15}},"callee":{"type":"Identifier","start":469,"end":473,"loc":{"start":{"line":15,"column":9},"end":{"line":15,"column":13}},"name":"next"},"arguments":[]}}]}}}},{"type":"ExpressionStatement","start":479,"end":1024,"loc":{"start":{"line":18,"column":0},"end":{"line":34,"column":1}},"expression":{"type":"AssignmentExpression","start":479,"end":1024,"loc":{"start":{"line":18,"column":0},"end":{"line":34,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":479,"end":498,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":19}},"object":{"type":"Identifier","start":479,"end":486,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":7}},"name":"exports"},"property":{"type":"Identifier","start":487,"end":498,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":19}},"name":"verifyToken"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":501,"end":1024,"loc":{"start":{"line":18,"column":22},"end":{"line":34,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":502,"end":505,"loc":{"start":{"line":18,"column":23},"end":{"line":18,"column":26}},"name":"req"},{"type":"Identifier","start":507,"end":510,"loc":{"start":{"line":18,"column":28},"end":{"line":18,"column":31}},"name":"res"},{"type":"Identifier","start":512,"end":516,"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":37}},"name":"next"}],"body":{"type":"BlockStatement","start":521,"end":1024,"loc":{"start":{"line":18,"column":42},"end":{"line":34,"column":1}},"body":[{"type":"VariableDeclaration","start":525,"end":562,"loc":{"start":{"line":19,"column":2},"end":{"line":19,"column":39}},"declarations":[{"type":"VariableDeclarator","start":531,"end":562,"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":39}},"id":{"type":"Identifier","start":531,"end":536,"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":13}},"name":"token"},"init":{"type":"MemberExpression","start":539,"end":562,"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":39}},"object":{"type":"MemberExpression","start":539,"end":552,"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":29}},"object":{"type":"Identifier","start":539,"end":542,"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":19}},"name":"req"},"property":{"type":"Identifier","start":543,"end":552,"loc":{"start":{"line":19,"column":20},"end":{"line":19,"column":29}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":553,"end":562,"loc":{"start":{"line":19,"column":30},"end":{"line":19,"column":39}},"name":"authToken"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":565,"end":687,"loc":{"start":{"line":20,"column":2},"end":{"line":23,"column":3}},"test":{"type":"BinaryExpression","start":569,"end":582,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":19}},"left":{"type":"Identifier","start":569,"end":574,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":11}},"name":"token"},"operator":"==","right":{"type":"Literal","start":578,"end":582,"loc":{"start":{"line":20,"column":15},"end":{"line":20,"column":19}},"value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","start":584,"end":687,"loc":{"start":{"line":20,"column":21},"end":{"line":23,"column":3}},"body":[{"type":"ExpressionStatement","start":590,"end":652,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":66}},"expression":{"type":"CallExpression","start":590,"end":652,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":66}},"callee":{"type":"MemberExpression","start":590,"end":601,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":15}},"object":{"type":"Identifier","start":590,"end":596,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":10}},"name":"logger"},"property":{"type":"Identifier","start":597,"end":601,"loc":{"start":{"line":21,"column":11},"end":{"line":21,"column":15}},"name":"info"},"computed":false},"arguments":[{"type":"Literal","start":602,"end":621,"loc":{"start":{"line":21,"column":16},"end":{"line":21,"column":35}},"value":"cannot auth token","raw":"'cannot auth token'"},{"type":"Literal","start":623,"end":643,"loc":{"start":{"line":21,"column":37},"end":{"line":21,"column":57}},"value":"token.verify.unset","raw":"'token.verify.unset'"},{"type":"MemberExpression","start":645,"end":651,"loc":{"start":{"line":21,"column":59},"end":{"line":21,"column":65}},"object":{"type":"Identifier","start":645,"end":648,"loc":{"start":{"line":21,"column":59},"end":{"line":21,"column":62}},"name":"req"},"property":{"type":"Identifier","start":649,"end":651,"loc":{"start":{"line":21,"column":63},"end":{"line":21,"column":65}},"name":"id"},"computed":false}]}},{"type":"ReturnStatement","start":657,"end":683,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":30}},"argument":{"type":"CallExpression","start":664,"end":683,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":30}},"callee":{"type":"MemberExpression","start":664,"end":678,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":25}},"object":{"type":"Identifier","start":664,"end":667,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":14}},"name":"res"},"property":{"type":"Identifier","start":668,"end":678,"loc":{"start":{"line":22,"column":15},"end":{"line":22,"column":25}},"name":"sendStatus"},"computed":false},"arguments":[{"type":"Literal","start":679,"end":682,"loc":{"start":{"line":22,"column":26},"end":{"line":22,"column":29}},"value":401,"raw":"401"}]}}]},"alternate":null},{"type":"VariableDeclaration","start":690,"end":734,"loc":{"start":{"line":24,"column":2},"end":{"line":24,"column":46}},"declarations":[{"type":"VariableDeclarator","start":696,"end":734,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":46}},"id":{"type":"Identifier","start":696,"end":708,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":20}},"name":"providerName"},"init":{"type":"MemberExpression","start":711,"end":734,"loc":{"start":{"line":24,"column":23},"end":{"line":24,"column":46}},"object":{"type":"MemberExpression","start":711,"end":721,"loc":{"start":{"line":24,"column":23},"end":{"line":24,"column":33}},"object":{"type":"Identifier","start":711,"end":714,"loc":{"start":{"line":24,"column":23},"end":{"line":24,"column":26}},"name":"req"},"property":{"type":"Identifier","start":715,"end":721,"loc":{"start":{"line":24,"column":27},"end":{"line":24,"column":33}},"name":"params"},"computed":false},"property":{"type":"Identifier","start":722,"end":734,"loc":{"start":{"line":24,"column":34},"end":{"line":24,"column":46}},"name":"providerName"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":737,"end":823,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":88}},"declarations":[{"type":"VariableDeclarator","start":743,"end":823,"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":88}},"id":{"type":"ObjectPattern","start":743,"end":759,"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":24}},"properties":[{"type":"Property","start":745,"end":748,"loc":{"start":{"line":25,"column":10},"end":{"line":25,"column":13}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":745,"end":748,"loc":{"start":{"line":25,"column":10},"end":{"line":25,"column":13}},"name":"err"},"kind":"init","value":{"type":"Identifier","start":745,"end":748,"loc":{"start":{"line":25,"column":10},"end":{"line":25,"column":13}},"name":"err"}},{"type":"Property","start":750,"end":757,"loc":{"start":{"line":25,"column":15},"end":{"line":25,"column":22}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":750,"end":757,"loc":{"start":{"line":25,"column":15},"end":{"line":25,"column":22}},"name":"payload"},"kind":"init","value":{"type":"Identifier","start":750,"end":757,"loc":{"start":{"line":25,"column":15},"end":{"line":25,"column":22}},"name":"payload"}}]},"init":{"type":"CallExpression","start":762,"end":823,"loc":{"start":{"line":25,"column":27},"end":{"line":25,"column":88}},"callee":{"type":"MemberExpression","start":762,"end":786,"loc":{"start":{"line":25,"column":27},"end":{"line":25,"column":51}},"object":{"type":"Identifier","start":762,"end":774,"loc":{"start":{"line":25,"column":27},"end":{"line":25,"column":39}},"name":"tokenService"},"property":{"type":"Identifier","start":775,"end":786,"loc":{"start":{"line":25,"column":40},"end":{"line":25,"column":51}},"name":"verifyToken"},"computed":false},"arguments":[{"type":"Identifier","start":787,"end":792,"loc":{"start":{"line":25,"column":52},"end":{"line":25,"column":57}},"name":"token"},{"type":"MemberExpression","start":794,"end":822,"loc":{"start":{"line":25,"column":59},"end":{"line":25,"column":87}},"object":{"type":"MemberExpression","start":794,"end":815,"loc":{"start":{"line":25,"column":59},"end":{"line":25,"column":80}},"object":{"type":"MemberExpression","start":794,"end":807,"loc":{"start":{"line":25,"column":59},"end":{"line":25,"column":72}},"object":{"type":"Identifier","start":794,"end":797,"loc":{"start":{"line":25,"column":59},"end":{"line":25,"column":62}},"name":"req"},"property":{"type":"Identifier","start":798,"end":807,"loc":{"start":{"line":25,"column":63},"end":{"line":25,"column":72}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":808,"end":815,"loc":{"start":{"line":25,"column":73},"end":{"line":25,"column":80}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":816,"end":822,"loc":{"start":{"line":25,"column":81},"end":{"line":25,"column":87}},"name":"secret"},"computed":false}]}}],"kind":"const"},{"type":"IfStatement","start":826,"end":972,"loc":{"start":{"line":26,"column":2},"end":{"line":31,"column":3}},"test":{"type":"LogicalExpression","start":830,"end":859,"loc":{"start":{"line":26,"column":6},"end":{"line":26,"column":35}},"left":{"type":"Identifier","start":830,"end":833,"loc":{"start":{"line":26,"column":6},"end":{"line":26,"column":9}},"name":"err"},"operator":"||","right":{"type":"UnaryExpression","start":837,"end":859,"loc":{"start":{"line":26,"column":13},"end":{"line":26,"column":35}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":838,"end":859,"loc":{"start":{"line":26,"column":14},"end":{"line":26,"column":35}},"object":{"type":"Identifier","start":838,"end":845,"loc":{"start":{"line":26,"column":14},"end":{"line":26,"column":21}},"name":"payload"},"property":{"type":"Identifier","start":846,"end":858,"loc":{"start":{"line":26,"column":22},"end":{"line":26,"column":34}},"name":"providerName"},"computed":true}}},"consequent":{"type":"BlockStatement","start":861,"end":972,"loc":{"start":{"line":26,"column":37},"end":{"line":31,"column":3}},"body":[{"type":"IfStatement","start":867,"end":937,"loc":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"test":{"type":"Identifier","start":871,"end":874,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":11}},"name":"err"},"consequent":{"type":"BlockStatement","start":876,"end":937,"loc":{"start":{"line":27,"column":13},"end":{"line":29,"column":5}},"body":[{"type":"ExpressionStatement","start":884,"end":931,"loc":{"start":{"line":28,"column":6},"end":{"line":28,"column":53}},"expression":{"type":"CallExpression","start":884,"end":931,"loc":{"start":{"line":28,"column":6},"end":{"line":28,"column":53}},"callee":{"type":"MemberExpression","start":884,"end":896,"loc":{"start":{"line":28,"column":6},"end":{"line":28,"column":18}},"object":{"type":"Identifier","start":884,"end":890,"loc":{"start":{"line":28,"column":6},"end":{"line":28,"column":12}},"name":"logger"},"property":{"type":"Identifier","start":891,"end":896,"loc":{"start":{"line":28,"column":13},"end":{"line":28,"column":18}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":897,"end":900,"loc":{"start":{"line":28,"column":19},"end":{"line":28,"column":22}},"name":"err"},{"type":"Literal","start":902,"end":922,"loc":{"start":{"line":28,"column":24},"end":{"line":28,"column":44}},"value":"token.verify.error","raw":"'token.verify.error'"},{"type":"MemberExpression","start":924,"end":930,"loc":{"start":{"line":28,"column":46},"end":{"line":28,"column":52}},"object":{"type":"Identifier","start":924,"end":927,"loc":{"start":{"line":28,"column":46},"end":{"line":28,"column":49}},"name":"req"},"property":{"type":"Identifier","start":928,"end":930,"loc":{"start":{"line":28,"column":50},"end":{"line":28,"column":52}},"name":"id"},"computed":false}]}}]},"alternate":null},{"type":"ReturnStatement","start":942,"end":968,"loc":{"start":{"line":30,"column":4},"end":{"line":30,"column":30}},"argument":{"type":"CallExpression","start":949,"end":968,"loc":{"start":{"line":30,"column":11},"end":{"line":30,"column":30}},"callee":{"type":"MemberExpression","start":949,"end":963,"loc":{"start":{"line":30,"column":11},"end":{"line":30,"column":25}},"object":{"type":"Identifier","start":949,"end":952,"loc":{"start":{"line":30,"column":11},"end":{"line":30,"column":14}},"name":"res"},"property":{"type":"Identifier","start":953,"end":963,"loc":{"start":{"line":30,"column":15},"end":{"line":30,"column":25}},"name":"sendStatus"},"computed":false},"arguments":[{"type":"Literal","start":964,"end":967,"loc":{"start":{"line":30,"column":26},"end":{"line":30,"column":29}},"value":401,"raw":"401"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":975,"end":1013,"loc":{"start":{"line":32,"column":2},"end":{"line":32,"column":40}},"expression":{"type":"AssignmentExpression","start":975,"end":1013,"loc":{"start":{"line":32,"column":2},"end":{"line":32,"column":40}},"operator":"=","left":{"type":"MemberExpression","start":975,"end":1003,"loc":{"start":{"line":32,"column":2},"end":{"line":32,"column":30}},"object":{"type":"MemberExpression","start":975,"end":988,"loc":{"start":{"line":32,"column":2},"end":{"line":32,"column":15}},"object":{"type":"Identifier","start":975,"end":978,"loc":{"start":{"line":32,"column":2},"end":{"line":32,"column":5}},"name":"req"},"property":{"type":"Identifier","start":979,"end":988,"loc":{"start":{"line":32,"column":6},"end":{"line":32,"column":15}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":989,"end":1003,"loc":{"start":{"line":32,"column":16},"end":{"line":32,"column":30}},"name":"providerTokens"},"computed":false},"right":{"type":"Identifier","start":1006,"end":1013,"loc":{"start":{"line":32,"column":33},"end":{"line":32,"column":40}},"name":"payload"}}},{"type":"ExpressionStatement","start":1016,"end":1022,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":8}},"expression":{"type":"CallExpression","start":1016,"end":1022,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":8}},"callee":{"type":"Identifier","start":1016,"end":1020,"loc":{"start":{"line":33,"column":2},"end":{"line":33,"column":6}},"name":"next"},"arguments":[]}}]}}}},{"type":"ExpressionStatement","start":1063,"end":1408,"loc":{"start":{"line":37,"column":0},"end":{"line":46,"column":1}},"expression":{"type":"AssignmentExpression","start":1063,"end":1408,"loc":{"start":{"line":37,"column":0},"end":{"line":46,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":1063,"end":1088,"loc":{"start":{"line":37,"column":0},"end":{"line":37,"column":25}},"object":{"type":"Identifier","start":1063,"end":1070,"loc":{"start":{"line":37,"column":0},"end":{"line":37,"column":7}},"name":"exports"},"property":{"type":"Identifier","start":1071,"end":1088,"loc":{"start":{"line":37,"column":8},"end":{"line":37,"column":25}},"name":"gentleVerifyToken"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1091,"end":1408,"loc":{"start":{"line":37,"column":28},"end":{"line":46,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1092,"end":1095,"loc":{"start":{"line":37,"column":29},"end":{"line":37,"column":32}},"name":"req"},{"type":"Identifier","start":1097,"end":1100,"loc":{"start":{"line":37,"column":34},"end":{"line":37,"column":37}},"name":"res"},{"type":"Identifier","start":1102,"end":1106,"loc":{"start":{"line":37,"column":39},"end":{"line":37,"column":43}},"name":"next"}],"body":{"type":"BlockStatement","start":1111,"end":1408,"loc":{"start":{"line":37,"column":48},"end":{"line":46,"column":1}},"body":[{"type":"VariableDeclaration","start":1115,"end":1159,"loc":{"start":{"line":38,"column":2},"end":{"line":38,"column":46}},"declarations":[{"type":"VariableDeclarator","start":1121,"end":1159,"loc":{"start":{"line":38,"column":8},"end":{"line":38,"column":46}},"id":{"type":"Identifier","start":1121,"end":1133,"loc":{"start":{"line":38,"column":8},"end":{"line":38,"column":20}},"name":"providerName"},"init":{"type":"MemberExpression","start":1136,"end":1159,"loc":{"start":{"line":38,"column":23},"end":{"line":38,"column":46}},"object":{"type":"MemberExpression","start":1136,"end":1146,"loc":{"start":{"line":38,"column":23},"end":{"line":38,"column":33}},"object":{"type":"Identifier","start":1136,"end":1139,"loc":{"start":{"line":38,"column":23},"end":{"line":38,"column":26}},"name":"req"},"property":{"type":"Identifier","start":1140,"end":1146,"loc":{"start":{"line":38,"column":27},"end":{"line":38,"column":33}},"name":"params"},"computed":false},"property":{"type":"Identifier","start":1147,"end":1159,"loc":{"start":{"line":38,"column":34},"end":{"line":38,"column":46}},"name":"providerName"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":1162,"end":1397,"loc":{"start":{"line":39,"column":2},"end":{"line":44,"column":3}},"test":{"type":"MemberExpression","start":1166,"end":1189,"loc":{"start":{"line":39,"column":6},"end":{"line":39,"column":29}},"object":{"type":"MemberExpression","start":1166,"end":1179,"loc":{"start":{"line":39,"column":6},"end":{"line":39,"column":19}},"object":{"type":"Identifier","start":1166,"end":1169,"loc":{"start":{"line":39,"column":6},"end":{"line":39,"column":9}},"name":"req"},"property":{"type":"Identifier","start":1170,"end":1179,"loc":{"start":{"line":39,"column":10},"end":{"line":39,"column":19}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":1180,"end":1189,"loc":{"start":{"line":39,"column":20},"end":{"line":39,"column":29}},"name":"authToken"},"computed":false},"consequent":{"type":"BlockStatement","start":1191,"end":1397,"loc":{"start":{"line":39,"column":31},"end":{"line":44,"column":3}},"body":[{"type":"VariableDeclaration","start":1197,"end":1301,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":108}},"declarations":[{"type":"VariableDeclarator","start":1203,"end":1301,"loc":{"start":{"line":40,"column":10},"end":{"line":40,"column":108}},"id":{"type":"ObjectPattern","start":1203,"end":1219,"loc":{"start":{"line":40,"column":10},"end":{"line":40,"column":26}},"properties":[{"type":"Property","start":1205,"end":1208,"loc":{"start":{"line":40,"column":12},"end":{"line":40,"column":15}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1205,"end":1208,"loc":{"start":{"line":40,"column":12},"end":{"line":40,"column":15}},"name":"err"},"kind":"init","value":{"type":"Identifier","start":1205,"end":1208,"loc":{"start":{"line":40,"column":12},"end":{"line":40,"column":15}},"name":"err"}},{"type":"Property","start":1210,"end":1217,"loc":{"start":{"line":40,"column":17},"end":{"line":40,"column":24}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1210,"end":1217,"loc":{"start":{"line":40,"column":17},"end":{"line":40,"column":24}},"name":"payload"},"kind":"init","value":{"type":"Identifier","start":1210,"end":1217,"loc":{"start":{"line":40,"column":17},"end":{"line":40,"column":24}},"name":"payload"}}]},"init":{"type":"CallExpression","start":1222,"end":1301,"loc":{"start":{"line":40,"column":29},"end":{"line":40,"column":108}},"callee":{"type":"MemberExpression","start":1222,"end":1246,"loc":{"start":{"line":40,"column":29},"end":{"line":40,"column":53}},"object":{"type":"Identifier","start":1222,"end":1234,"loc":{"start":{"line":40,"column":29},"end":{"line":40,"column":41}},"name":"tokenService"},"property":{"type":"Identifier","start":1235,"end":1246,"loc":{"start":{"line":40,"column":42},"end":{"line":40,"column":53}},"name":"verifyToken"},"computed":false},"arguments":[{"type":"MemberExpression","start":1247,"end":1270,"loc":{"start":{"line":40,"column":54},"end":{"line":40,"column":77}},"object":{"type":"MemberExpression","start":1247,"end":1260,"loc":{"start":{"line":40,"column":54},"end":{"line":40,"column":67}},"object":{"type":"Identifier","start":1247,"end":1250,"loc":{"start":{"line":40,"column":54},"end":{"line":40,"column":57}},"name":"req"},"property":{"type":"Identifier","start":1251,"end":1260,"loc":{"start":{"line":40,"column":58},"end":{"line":40,"column":67}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":1261,"end":1270,"loc":{"start":{"line":40,"column":68},"end":{"line":40,"column":77}},"name":"authToken"},"computed":false},{"type":"MemberExpression","start":1272,"end":1300,"loc":{"start":{"line":40,"column":79},"end":{"line":40,"column":107}},"object":{"type":"MemberExpression","start":1272,"end":1293,"loc":{"start":{"line":40,"column":79},"end":{"line":40,"column":100}},"object":{"type":"MemberExpression","start":1272,"end":1285,"loc":{"start":{"line":40,"column":79},"end":{"line":40,"column":92}},"object":{"type":"Identifier","start":1272,"end":1275,"loc":{"start":{"line":40,"column":79},"end":{"line":40,"column":82}},"name":"req"},"property":{"type":"Identifier","start":1276,"end":1285,"loc":{"start":{"line":40,"column":83},"end":{"line":40,"column":92}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":1286,"end":1293,"loc":{"start":{"line":40,"column":93},"end":{"line":40,"column":100}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":1294,"end":1300,"loc":{"start":{"line":40,"column":101},"end":{"line":40,"column":107}},"name":"secret"},"computed":false}]}}],"kind":"const"},{"type":"IfStatement","start":1306,"end":1393,"loc":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"test":{"type":"LogicalExpression","start":1310,"end":1339,"loc":{"start":{"line":41,"column":8},"end":{"line":41,"column":37}},"left":{"type":"UnaryExpression","start":1310,"end":1314,"loc":{"start":{"line":41,"column":8},"end":{"line":41,"column":12}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":1311,"end":1314,"loc":{"start":{"line":41,"column":9},"end":{"line":41,"column":12}},"name":"err"}},"operator":"&&","right":{"type":"MemberExpression","start":1318,"end":1339,"loc":{"start":{"line":41,"column":16},"end":{"line":41,"column":37}},"object":{"type":"Identifier","start":1318,"end":1325,"loc":{"start":{"line":41,"column":16},"end":{"line":41,"column":23}},"name":"payload"},"property":{"type":"Identifier","start":1326,"end":1338,"loc":{"start":{"line":41,"column":24},"end":{"line":41,"column":36}},"name":"providerName"},"computed":true}},"consequent":{"type":"BlockStatement","start":1341,"end":1393,"loc":{"start":{"line":41,"column":39},"end":{"line":43,"column":5}},"body":[{"type":"ExpressionStatement","start":1349,"end":1387,"loc":{"start":{"line":42,"column":6},"end":{"line":42,"column":44}},"expression":{"type":"AssignmentExpression","start":1349,"end":1387,"loc":{"start":{"line":42,"column":6},"end":{"line":42,"column":44}},"operator":"=","left":{"type":"MemberExpression","start":1349,"end":1377,"loc":{"start":{"line":42,"column":6},"end":{"line":42,"column":34}},"object":{"type":"MemberExpression","start":1349,"end":1362,"loc":{"start":{"line":42,"column":6},"end":{"line":42,"column":19}},"object":{"type":"Identifier","start":1349,"end":1352,"loc":{"start":{"line":42,"column":6},"end":{"line":42,"column":9}},"name":"req"},"property":{"type":"Identifier","start":1353,"end":1362,"loc":{"start":{"line":42,"column":10},"end":{"line":42,"column":19}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":1363,"end":1377,"loc":{"start":{"line":42,"column":20},"end":{"line":42,"column":34}},"name":"providerTokens"},"computed":false},"right":{"type":"Identifier","start":1380,"end":1387,"loc":{"start":{"line":42,"column":37},"end":{"line":42,"column":44}},"name":"payload"}}}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","start":1400,"end":1406,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":8}},"expression":{"type":"CallExpression","start":1400,"end":1406,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":8}},"callee":{"type":"Identifier","start":1400,"end":1404,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":6}},"name":"next"},"arguments":[]}}]}}}},{"type":"ExpressionStatement","start":1410,"end":1572,"loc":{"start":{"line":48,"column":0},"end":{"line":51,"column":1}},"expression":{"type":"AssignmentExpression","start":1410,"end":1572,"loc":{"start":{"line":48,"column":0},"end":{"line":51,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":1410,"end":1433,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":23}},"object":{"type":"Identifier","start":1410,"end":1417,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":7}},"name":"exports"},"property":{"type":"Identifier","start":1418,"end":1433,"loc":{"start":{"line":48,"column":8},"end":{"line":48,"column":23}},"name":"cookieAuthToken"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1436,"end":1572,"loc":{"start":{"line":48,"column":26},"end":{"line":51,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1437,"end":1440,"loc":{"start":{"line":48,"column":27},"end":{"line":48,"column":30}},"name":"req"},{"type":"Identifier","start":1442,"end":1445,"loc":{"start":{"line":48,"column":32},"end":{"line":48,"column":35}},"name":"res"},{"type":"Identifier","start":1447,"end":1451,"loc":{"start":{"line":48,"column":37},"end":{"line":48,"column":41}},"name":"next"}],"body":{"type":"BlockStatement","start":1456,"end":1572,"loc":{"start":{"line":48,"column":46},"end":{"line":51,"column":1}},"body":[{"type":"ExpressionStatement","start":1460,"end":1554,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":96}},"expression":{"type":"AssignmentExpression","start":1460,"end":1554,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":96}},"operator":"=","left":{"type":"MemberExpression","start":1460,"end":1483,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":25}},"object":{"type":"MemberExpression","start":1460,"end":1473,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":15}},"object":{"type":"Identifier","start":1460,"end":1463,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":5}},"name":"req"},"property":{"type":"Identifier","start":1464,"end":1473,"loc":{"start":{"line":49,"column":6},"end":{"line":49,"column":15}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":1474,"end":1483,"loc":{"start":{"line":49,"column":16},"end":{"line":49,"column":25}},"name":"authToken"},"computed":false},"right":{"type":"MemberExpression","start":1486,"end":1554,"loc":{"start":{"line":49,"column":28},"end":{"line":49,"column":96}},"object":{"type":"MemberExpression","start":1486,"end":1497,"loc":{"start":{"line":49,"column":28},"end":{"line":49,"column":39}},"object":{"type":"Identifier","start":1486,"end":1489,"loc":{"start":{"line":49,"column":28},"end":{"line":49,"column":31}},"name":"req"},"property":{"type":"Identifier","start":1490,"end":1497,"loc":{"start":{"line":49,"column":32},"end":{"line":49,"column":39}},"name":"cookies"},"computed":false},"property":{"type":"TemplateLiteral","start":1498,"end":1553,"loc":{"start":{"line":49,"column":40},"end":{"line":49,"column":95}},"expressions":[{"type":"MemberExpression","start":1516,"end":1551,"loc":{"start":{"line":49,"column":58},"end":{"line":49,"column":93}},"object":{"type":"MemberExpression","start":1516,"end":1538,"loc":{"start":{"line":49,"column":58},"end":{"line":49,"column":80}},"object":{"type":"MemberExpression","start":1516,"end":1529,"loc":{"start":{"line":49,"column":58},"end":{"line":49,"column":71}},"object":{"type":"Identifier","start":1516,"end":1519,"loc":{"start":{"line":49,"column":58},"end":{"line":49,"column":61}},"name":"req"},"property":{"type":"Identifier","start":1520,"end":1529,"loc":{"start":{"line":49,"column":62},"end":{"line":49,"column":71}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":1530,"end":1538,"loc":{"start":{"line":49,"column":72},"end":{"line":49,"column":80}},"name":"provider"},"computed":false},"property":{"type":"Identifier","start":1539,"end":1551,"loc":{"start":{"line":49,"column":81},"end":{"line":49,"column":93}},"name":"authProvider"},"computed":false}],"quasis":[{"type":"TemplateElement","start":1499,"end":1514,"loc":{"start":{"line":49,"column":41},"end":{"line":49,"column":56}},"value":{"raw":"uppyAuthToken--","cooked":"uppyAuthToken--"},"tail":false},{"type":"TemplateElement","start":1552,"end":1552,"loc":{"start":{"line":49,"column":94},"end":{"line":49,"column":94}},"value":{"raw":"","cooked":""},"tail":true}]},"computed":true}}},{"type":"ReturnStatement","start":1557,"end":1570,"loc":{"start":{"line":50,"column":2},"end":{"line":50,"column":15}},"argument":{"type":"CallExpression","start":1564,"end":1570,"loc":{"start":{"line":50,"column":9},"end":{"line":50,"column":15}},"callee":{"type":"Identifier","start":1564,"end":1568,"loc":{"start":{"line":50,"column":9},"end":{"line":50,"column":13}},"name":"next"},"arguments":[]}}]}}}}],"sourceType":"module"}