{"type":"Program","start":0,"end":10744,"loc":{"start":{"line":1,"column":0},"end":{"line":303,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":34,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"declarations":[{"type":"VariableDeclarator","start":6,"end":34,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":34}},"id":{"type":"Identifier","start":6,"end":13,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":13}},"name":"express"},"init":{"type":"CallExpression","start":16,"end":34,"loc":{"start":{"line":1,"column":16},"end":{"line":1,"column":34}},"callee":{"type":"Identifier","start":16,"end":23,"loc":{"start":{"line":1,"column":16},"end":{"line":1,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":24,"end":33,"loc":{"start":{"line":1,"column":24},"end":{"line":1,"column":33}},"value":"express","raw":"'express'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":49,"end":89,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"declarations":[{"type":"VariableDeclarator","start":55,"end":89,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":40}},"id":{"type":"Identifier","start":55,"end":60,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":11}},"name":"Grant"},"init":{"type":"CallExpression","start":63,"end":89,"loc":{"start":{"line":3,"column":14},"end":{"line":3,"column":40}},"callee":{"type":"MemberExpression","start":63,"end":87,"loc":{"start":{"line":3,"column":14},"end":{"line":3,"column":38}},"object":{"type":"CallExpression","start":63,"end":79,"loc":{"start":{"line":3,"column":14},"end":{"line":3,"column":30}},"callee":{"type":"Identifier","start":63,"end":70,"loc":{"start":{"line":3,"column":14},"end":{"line":3,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":71,"end":78,"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":29}},"value":"grant","raw":"'grant'"}]},"property":{"type":"Identifier","start":80,"end":87,"loc":{"start":{"line":3,"column":31},"end":{"line":3,"column":38}},"name":"express"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":90,"end":137,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":47}},"declarations":[{"type":"VariableDeclarator","start":96,"end":137,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":47}},"id":{"type":"Identifier","start":96,"end":107,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":17}},"name":"grantConfig"},"init":{"type":"CallExpression","start":110,"end":137,"loc":{"start":{"line":4,"column":20},"end":{"line":4,"column":47}},"callee":{"type":"CallExpression","start":110,"end":135,"loc":{"start":{"line":4,"column":20},"end":{"line":4,"column":45}},"callee":{"type":"Identifier","start":110,"end":117,"loc":{"start":{"line":4,"column":20},"end":{"line":4,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":118,"end":134,"loc":{"start":{"line":4,"column":28},"end":{"line":4,"column":44}},"value":"./config/grant","raw":"'./config/grant'"}]},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":138,"end":190,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}},"declarations":[{"type":"VariableDeclarator","start":144,"end":190,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":52}},"id":{"type":"Identifier","start":144,"end":159,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":21}},"name":"providerManager"},"init":{"type":"CallExpression","start":162,"end":190,"loc":{"start":{"line":5,"column":24},"end":{"line":5,"column":52}},"callee":{"type":"Identifier","start":162,"end":169,"loc":{"start":{"line":5,"column":24},"end":{"line":5,"column":31}},"name":"require"},"arguments":[{"type":"Literal","start":170,"end":189,"loc":{"start":{"line":5,"column":32},"end":{"line":5,"column":51}},"value":"./server/provider","raw":"'./server/provider'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":191,"end":242,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"declarations":[{"type":"VariableDeclarator","start":197,"end":242,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":51}},"id":{"type":"Identifier","start":197,"end":208,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":17}},"name":"controllers"},"init":{"type":"CallExpression","start":211,"end":242,"loc":{"start":{"line":6,"column":20},"end":{"line":6,"column":51}},"callee":{"type":"Identifier","start":211,"end":218,"loc":{"start":{"line":6,"column":20},"end":{"line":6,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":219,"end":241,"loc":{"start":{"line":6,"column":28},"end":{"line":6,"column":50}},"value":"./server/controllers","raw":"'./server/controllers'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":243,"end":288,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":45}},"declarations":[{"type":"VariableDeclarator","start":249,"end":288,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":45}},"id":{"type":"Identifier","start":249,"end":251,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":8}},"name":"s3"},"init":{"type":"CallExpression","start":254,"end":288,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":45}},"callee":{"type":"Identifier","start":254,"end":261,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":18}},"name":"require"},"arguments":[{"type":"Literal","start":262,"end":287,"loc":{"start":{"line":7,"column":19},"end":{"line":7,"column":44}},"value":"./server/controllers/s3","raw":"'./server/controllers/s3'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":289,"end":336,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":47}},"declarations":[{"type":"VariableDeclarator","start":295,"end":336,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":47}},"id":{"type":"Identifier","start":295,"end":298,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":9}},"name":"url"},"init":{"type":"CallExpression","start":301,"end":336,"loc":{"start":{"line":8,"column":12},"end":{"line":8,"column":47}},"callee":{"type":"Identifier","start":301,"end":308,"loc":{"start":{"line":8,"column":12},"end":{"line":8,"column":19}},"name":"require"},"arguments":[{"type":"Literal","start":309,"end":335,"loc":{"start":{"line":8,"column":20},"end":{"line":8,"column":46}},"value":"./server/controllers/url","raw":"'./server/controllers/url'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":337,"end":378,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":41}},"declarations":[{"type":"VariableDeclarator","start":343,"end":378,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":41}},"id":{"type":"Identifier","start":343,"end":355,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":18}},"name":"SocketServer"},"init":{"type":"MemberExpression","start":358,"end":378,"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":41}},"object":{"type":"CallExpression","start":358,"end":371,"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":34}},"callee":{"type":"Identifier","start":358,"end":365,"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":28}},"name":"require"},"arguments":[{"type":"Literal","start":366,"end":370,"loc":{"start":{"line":9,"column":29},"end":{"line":9,"column":33}},"value":"ws","raw":"'ws'"}]},"property":{"type":"Identifier","start":372,"end":378,"loc":{"start":{"line":9,"column":35},"end":{"line":9,"column":41}},"name":"Server"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":379,"end":422,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":43}},"declarations":[{"type":"VariableDeclarator","start":385,"end":422,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":43}},"id":{"type":"Identifier","start":385,"end":392,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":13}},"name":"emitter"},"init":{"type":"CallExpression","start":395,"end":422,"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":43}},"callee":{"type":"Identifier","start":395,"end":402,"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":403,"end":421,"loc":{"start":{"line":10,"column":24},"end":{"line":10,"column":42}},"value":"./server/emitter","raw":"'./server/emitter'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":423,"end":460,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":37}},"declarations":[{"type":"VariableDeclarator","start":429,"end":460,"loc":{"start":{"line":11,"column":6},"end":{"line":11,"column":37}},"id":{"type":"Identifier","start":429,"end":434,"loc":{"start":{"line":11,"column":6},"end":{"line":11,"column":11}},"name":"merge"},"init":{"type":"CallExpression","start":437,"end":460,"loc":{"start":{"line":11,"column":14},"end":{"line":11,"column":37}},"callee":{"type":"Identifier","start":437,"end":444,"loc":{"start":{"line":11,"column":14},"end":{"line":11,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":445,"end":459,"loc":{"start":{"line":11,"column":22},"end":{"line":11,"column":36}},"value":"lodash.merge","raw":"'lodash.merge'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":461,"end":500,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":39}},"declarations":[{"type":"VariableDeclarator","start":467,"end":500,"loc":{"start":{"line":12,"column":6},"end":{"line":12,"column":39}},"id":{"type":"Identifier","start":467,"end":472,"loc":{"start":{"line":12,"column":6},"end":{"line":12,"column":11}},"name":"redis"},"init":{"type":"CallExpression","start":475,"end":500,"loc":{"start":{"line":12,"column":14},"end":{"line":12,"column":39}},"callee":{"type":"Identifier","start":475,"end":482,"loc":{"start":{"line":12,"column":14},"end":{"line":12,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":483,"end":499,"loc":{"start":{"line":12,"column":22},"end":{"line":12,"column":38}},"value":"./server/redis","raw":"'./server/redis'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":501,"end":546,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":45}},"declarations":[{"type":"VariableDeclarator","start":507,"end":546,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":45}},"id":{"type":"Identifier","start":507,"end":519,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":18}},"name":"cookieParser"},"init":{"type":"CallExpression","start":522,"end":546,"loc":{"start":{"line":13,"column":21},"end":{"line":13,"column":45}},"callee":{"type":"Identifier","start":522,"end":529,"loc":{"start":{"line":13,"column":21},"end":{"line":13,"column":28}},"name":"require"},"arguments":[{"type":"Literal","start":530,"end":545,"loc":{"start":{"line":13,"column":29},"end":{"line":13,"column":44}},"value":"cookie-parser","raw":"'cookie-parser'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":547,"end":621,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":74}},"declarations":[{"type":"VariableDeclarator","start":553,"end":621,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":74}},"id":{"type":"ObjectPattern","start":553,"end":585,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":38}},"properties":[{"type":"Property","start":555,"end":568,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":21}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":555,"end":568,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":21}},"name":"jsonStringify"},"kind":"init","value":{"type":"Identifier","start":555,"end":568,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":21}},"name":"jsonStringify"}},{"type":"Property","start":570,"end":583,"loc":{"start":{"line":14,"column":23},"end":{"line":14,"column":36}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":570,"end":583,"loc":{"start":{"line":14,"column":23},"end":{"line":14,"column":36}},"name":"getURLBuilder"},"kind":"init","value":{"type":"Identifier","start":570,"end":583,"loc":{"start":{"line":14,"column":23},"end":{"line":14,"column":36}},"name":"getURLBuilder"}}]},"init":{"type":"CallExpression","start":588,"end":621,"loc":{"start":{"line":14,"column":41},"end":{"line":14,"column":74}},"callee":{"type":"Identifier","start":588,"end":595,"loc":{"start":{"line":14,"column":41},"end":{"line":14,"column":48}},"name":"require"},"arguments":[{"type":"Literal","start":596,"end":620,"loc":{"start":{"line":14,"column":49},"end":{"line":14,"column":73}},"value":"./server/helpers/utils","raw":"'./server/helpers/utils'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":622,"end":659,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":37}},"declarations":[{"type":"VariableDeclarator","start":628,"end":659,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":37}},"id":{"type":"Identifier","start":628,"end":632,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":10}},"name":"jobs"},"init":{"type":"CallExpression","start":635,"end":659,"loc":{"start":{"line":15,"column":13},"end":{"line":15,"column":37}},"callee":{"type":"Identifier","start":635,"end":642,"loc":{"start":{"line":15,"column":13},"end":{"line":15,"column":20}},"name":"require"},"arguments":[{"type":"Literal","start":643,"end":658,"loc":{"start":{"line":15,"column":21},"end":{"line":15,"column":36}},"value":"./server/jobs","raw":"'./server/jobs'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":660,"end":710,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":50}},"declarations":[{"type":"VariableDeclarator","start":666,"end":710,"loc":{"start":{"line":16,"column":6},"end":{"line":16,"column":50}},"id":{"type":"Identifier","start":666,"end":677,"loc":{"start":{"line":16,"column":6},"end":{"line":16,"column":17}},"name":"interceptor"},"init":{"type":"CallExpression","start":680,"end":710,"loc":{"start":{"line":16,"column":20},"end":{"line":16,"column":50}},"callee":{"type":"Identifier","start":680,"end":687,"loc":{"start":{"line":16,"column":20},"end":{"line":16,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":688,"end":709,"loc":{"start":{"line":16,"column":28},"end":{"line":16,"column":49}},"value":"express-interceptor","raw":"'express-interceptor'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":711,"end":752,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":41}},"declarations":[{"type":"VariableDeclarator","start":717,"end":752,"loc":{"start":{"line":17,"column":6},"end":{"line":17,"column":41}},"id":{"type":"Identifier","start":717,"end":723,"loc":{"start":{"line":17,"column":6},"end":{"line":17,"column":12}},"name":"logger"},"init":{"type":"CallExpression","start":726,"end":752,"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":41}},"callee":{"type":"Identifier","start":726,"end":733,"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":734,"end":751,"loc":{"start":{"line":17,"column":23},"end":{"line":17,"column":40}},"value":"./server/logger","raw":"'./server/logger'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":753,"end":808,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":55}},"declarations":[{"type":"VariableDeclarator","start":759,"end":808,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":55}},"id":{"type":"ObjectPattern","start":759,"end":777,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":24}},"properties":[{"type":"Property","start":761,"end":775,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":22}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":761,"end":775,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":22}},"name":"STORAGE_PREFIX"},"kind":"init","value":{"type":"Identifier","start":761,"end":775,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":22}},"name":"STORAGE_PREFIX"}}]},"init":{"type":"CallExpression","start":780,"end":808,"loc":{"start":{"line":18,"column":27},"end":{"line":18,"column":55}},"callee":{"type":"Identifier","start":780,"end":787,"loc":{"start":{"line":18,"column":27},"end":{"line":18,"column":34}},"name":"require"},"arguments":[{"type":"Literal","start":788,"end":807,"loc":{"start":{"line":18,"column":35},"end":{"line":18,"column":54}},"value":"./server/Uploader","raw":"'./server/Uploader'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":809,"end":860,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":51}},"declarations":[{"type":"VariableDeclarator","start":815,"end":860,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":51}},"id":{"type":"Identifier","start":815,"end":826,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":17}},"name":"middlewares"},"init":{"type":"CallExpression","start":829,"end":860,"loc":{"start":{"line":19,"column":20},"end":{"line":19,"column":51}},"callee":{"type":"Identifier","start":829,"end":836,"loc":{"start":{"line":19,"column":20},"end":{"line":19,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":837,"end":859,"loc":{"start":{"line":19,"column":28},"end":{"line":19,"column":50}},"value":"./server/middlewares","raw":"'./server/middlewares'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":861,"end":914,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":53}},"declarations":[{"type":"VariableDeclarator","start":867,"end":914,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":53}},"id":{"type":"ObjectPattern","start":867,"end":883,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":22}},"properties":[{"type":"Property","start":869,"end":881,"loc":{"start":{"line":20,"column":8},"end":{"line":20,"column":20}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":869,"end":881,"loc":{"start":{"line":20,"column":8},"end":{"line":20,"column":20}},"name":"shortenToken"},"kind":"init","value":{"type":"Identifier","start":869,"end":881,"loc":{"start":{"line":20,"column":8},"end":{"line":20,"column":20}},"name":"shortenToken"}}]},"init":{"type":"CallExpression","start":886,"end":914,"loc":{"start":{"line":20,"column":25},"end":{"line":20,"column":53}},"callee":{"type":"Identifier","start":886,"end":893,"loc":{"start":{"line":20,"column":25},"end":{"line":20,"column":32}},"name":"require"},"arguments":[{"type":"Literal","start":894,"end":913,"loc":{"start":{"line":20,"column":33},"end":{"line":20,"column":52}},"value":"./server/Uploader","raw":"'./server/Uploader'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":915,"end":997,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":82}},"declarations":[{"type":"VariableDeclarator","start":921,"end":997,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":82}},"id":{"type":"ObjectPattern","start":921,"end":960,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":45}},"properties":[{"type":"Property","start":923,"end":939,"loc":{"start":{"line":21,"column":8},"end":{"line":21,"column":24}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":923,"end":939,"loc":{"start":{"line":21,"column":8},"end":{"line":21,"column":24}},"name":"ProviderApiError"},"kind":"init","value":{"type":"Identifier","start":923,"end":939,"loc":{"start":{"line":21,"column":8},"end":{"line":21,"column":24}},"name":"ProviderApiError"}},{"type":"Property","start":941,"end":958,"loc":{"start":{"line":21,"column":26},"end":{"line":21,"column":43}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":941,"end":958,"loc":{"start":{"line":21,"column":26},"end":{"line":21,"column":43}},"name":"ProviderAuthError"},"kind":"init","value":{"type":"Identifier","start":941,"end":958,"loc":{"start":{"line":21,"column":26},"end":{"line":21,"column":43}},"name":"ProviderAuthError"}}]},"init":{"type":"CallExpression","start":963,"end":997,"loc":{"start":{"line":21,"column":48},"end":{"line":21,"column":82}},"callee":{"type":"Identifier","start":963,"end":970,"loc":{"start":{"line":21,"column":48},"end":{"line":21,"column":55}},"name":"require"},"arguments":[{"type":"Literal","start":971,"end":996,"loc":{"start":{"line":21,"column":56},"end":{"line":21,"column":81}},"value":"./server/provider/error","raw":"'./server/provider/error'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":998,"end":1022,"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":24}},"declarations":[{"type":"VariableDeclarator","start":1004,"end":1022,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":24}},"id":{"type":"Identifier","start":1004,"end":1006,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":8}},"name":"ms"},"init":{"type":"CallExpression","start":1009,"end":1022,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":24}},"callee":{"type":"Identifier","start":1009,"end":1016,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":18}},"name":"require"},"arguments":[{"type":"Literal","start":1017,"end":1021,"loc":{"start":{"line":22,"column":19},"end":{"line":22,"column":23}},"value":"ms","raw":"'ms'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":1024,"end":1383,"loc":{"start":{"line":24,"column":0},"end":{"line":40,"column":1}},"declarations":[{"type":"VariableDeclarator","start":1030,"end":1383,"loc":{"start":{"line":24,"column":6},"end":{"line":40,"column":1}},"id":{"type":"Identifier","start":1030,"end":1044,"loc":{"start":{"line":24,"column":6},"end":{"line":24,"column":20}},"name":"defaultOptions"},"init":{"type":"ObjectExpression","start":1047,"end":1383,"loc":{"start":{"line":24,"column":23},"end":{"line":40,"column":1}},"properties":[{"type":"Property","start":1051,"end":1099,"loc":{"start":{"line":25,"column":2},"end":{"line":28,"column":3}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1051,"end":1057,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":8}},"name":"server"},"value":{"type":"ObjectExpression","start":1059,"end":1099,"loc":{"start":{"line":25,"column":10},"end":{"line":28,"column":3}},"properties":[{"type":"Property","start":1065,"end":1081,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":20}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1065,"end":1073,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":12}},"name":"protocol"},"value":{"type":"Literal","start":1075,"end":1081,"loc":{"start":{"line":26,"column":14},"end":{"line":26,"column":20}},"value":"http","raw":"'http'"},"kind":"init"},{"type":"Property","start":1087,"end":1095,"loc":{"start":{"line":27,"column":4},"end":{"line":27,"column":12}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1087,"end":1091,"loc":{"start":{"line":27,"column":4},"end":{"line":27,"column":8}},"name":"path"},"value":{"type":"Literal","start":1093,"end":1095,"loc":{"start":{"line":27,"column":10},"end":{"line":27,"column":12}},"value":"","raw":"''"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":1103,"end":1366,"loc":{"start":{"line":29,"column":2},"end":{"line":38,"column":3}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1103,"end":1118,"loc":{"start":{"line":29,"column":2},"end":{"line":29,"column":17}},"name":"providerOptions"},"value":{"type":"ObjectExpression","start":1120,"end":1366,"loc":{"start":{"line":29,"column":19},"end":{"line":38,"column":3}},"properties":[{"type":"Property","start":1126,"end":1362,"loc":{"start":{"line":30,"column":4},"end":{"line":37,"column":5}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1126,"end":1128,"loc":{"start":{"line":30,"column":4},"end":{"line":30,"column":6}},"name":"s3"},"value":{"type":"ObjectExpression","start":1130,"end":1362,"loc":{"start":{"line":30,"column":8},"end":{"line":37,"column":5}},"properties":[{"type":"Property","start":1138,"end":1156,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":24}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1138,"end":1141,"loc":{"start":{"line":31,"column":6},"end":{"line":31,"column":9}},"name":"acl"},"value":{"type":"Literal","start":1143,"end":1156,"loc":{"start":{"line":31,"column":11},"end":{"line":31,"column":24}},"value":"public-read","raw":"'public-read'"},"kind":"init"},{"type":"Property","start":1164,"end":1216,"loc":{"start":{"line":32,"column":6},"end":{"line":32,"column":58}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1164,"end":1172,"loc":{"start":{"line":32,"column":6},"end":{"line":32,"column":14}},"name":"endpoint"},"value":{"type":"Literal","start":1174,"end":1216,"loc":{"start":{"line":32,"column":16},"end":{"line":32,"column":58}},"value":"https://{service}.{region}.amazonaws.com","raw":"'https://{service}.{region}.amazonaws.com'"},"kind":"init"},{"type":"Property","start":1224,"end":1238,"loc":{"start":{"line":33,"column":6},"end":{"line":33,"column":20}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1224,"end":1234,"loc":{"start":{"line":33,"column":6},"end":{"line":33,"column":16}},"name":"conditions"},"value":{"type":"ArrayExpression","start":1236,"end":1238,"loc":{"start":{"line":33,"column":18},"end":{"line":33,"column":20}},"elements":[]},"kind":"init"},{"type":"Property","start":1246,"end":1274,"loc":{"start":{"line":34,"column":6},"end":{"line":34,"column":34}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1246,"end":1267,"loc":{"start":{"line":34,"column":6},"end":{"line":34,"column":27}},"name":"useAccelerateEndpoint"},"value":{"type":"Literal","start":1269,"end":1274,"loc":{"start":{"line":34,"column":29},"end":{"line":34,"column":34}},"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":1282,"end":1317,"loc":{"start":{"line":35,"column":6},"end":{"line":35,"column":41}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1282,"end":1288,"loc":{"start":{"line":35,"column":6},"end":{"line":35,"column":12}},"name":"getKey"},"value":{"type":"ArrowFunctionExpression","start":1290,"end":1317,"loc":{"start":{"line":35,"column":14},"end":{"line":35,"column":41}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1291,"end":1294,"loc":{"start":{"line":35,"column":15},"end":{"line":35,"column":18}},"name":"req"},{"type":"Identifier","start":1296,"end":1304,"loc":{"start":{"line":35,"column":20},"end":{"line":35,"column":28}},"name":"filename"}],"body":{"type":"Identifier","start":1309,"end":1317,"loc":{"start":{"line":35,"column":33},"end":{"line":35,"column":41}},"name":"filename"}},"kind":"init"},{"type":"Property","start":1325,"end":1356,"loc":{"start":{"line":36,"column":6},"end":{"line":36,"column":37}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1325,"end":1332,"loc":{"start":{"line":36,"column":6},"end":{"line":36,"column":13}},"name":"expires"},"value":{"type":"BinaryExpression","start":1334,"end":1356,"loc":{"start":{"line":36,"column":15},"end":{"line":36,"column":37}},"left":{"type":"CallExpression","start":1334,"end":1349,"loc":{"start":{"line":36,"column":15},"end":{"line":36,"column":30}},"callee":{"type":"Identifier","start":1334,"end":1336,"loc":{"start":{"line":36,"column":15},"end":{"line":36,"column":17}},"name":"ms"},"arguments":[{"type":"Literal","start":1337,"end":1348,"loc":{"start":{"line":36,"column":18},"end":{"line":36,"column":29}},"value":"5 minutes","raw":"'5 minutes'"}]},"operator":"/","right":{"type":"Literal","start":1352,"end":1356,"loc":{"start":{"line":36,"column":33},"end":{"line":36,"column":37}},"value":1000,"raw":"1000"}},"kind":"init"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":1370,"end":1381,"loc":{"start":{"line":39,"column":2},"end":{"line":39,"column":13}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1370,"end":1375,"loc":{"start":{"line":39,"column":2},"end":{"line":39,"column":7}},"name":"debug"},"value":{"type":"Literal","start":1377,"end":1381,"loc":{"start":{"line":39,"column":9},"end":{"line":39,"column":13}},"value":true,"raw":"true"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1444,"end":1507,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":63}},"expression":{"type":"AssignmentExpression","start":1444,"end":1507,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":63}},"operator":"=","left":{"type":"MemberExpression","start":1444,"end":1465,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":21}},"object":{"type":"MemberExpression","start":1444,"end":1458,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":14}},"object":{"type":"Identifier","start":1444,"end":1450,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":6}},"name":"module"},"property":{"type":"Identifier","start":1451,"end":1458,"loc":{"start":{"line":43,"column":7},"end":{"line":43,"column":14}},"name":"exports"},"computed":false},"property":{"type":"Identifier","start":1459,"end":1465,"loc":{"start":{"line":43,"column":15},"end":{"line":43,"column":21}},"name":"errors"},"computed":false},"right":{"type":"ObjectExpression","start":1468,"end":1507,"loc":{"start":{"line":43,"column":24},"end":{"line":43,"column":63}},"properties":[{"type":"Property","start":1470,"end":1486,"loc":{"start":{"line":43,"column":26},"end":{"line":43,"column":42}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1470,"end":1486,"loc":{"start":{"line":43,"column":26},"end":{"line":43,"column":42}},"name":"ProviderApiError"},"kind":"init","value":{"type":"Identifier","start":1470,"end":1486,"loc":{"start":{"line":43,"column":26},"end":{"line":43,"column":42}},"name":"ProviderApiError"}},{"type":"Property","start":1488,"end":1505,"loc":{"start":{"line":43,"column":44},"end":{"line":43,"column":61}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1488,"end":1505,"loc":{"start":{"line":43,"column":44},"end":{"line":43,"column":61}},"name":"ProviderAuthError"},"kind":"init","value":{"type":"Identifier","start":1488,"end":1505,"loc":{"start":{"line":43,"column":44},"end":{"line":43,"column":61}},"name":"ProviderAuthError"}}]}}},{"type":"ExpressionStatement","start":1599,"end":4660,"loc":{"start":{"line":50,"column":0},"end":{"line":128,"column":1}},"expression":{"type":"AssignmentExpression","start":1599,"end":4660,"loc":{"start":{"line":50,"column":0},"end":{"line":128,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":1599,"end":1617,"loc":{"start":{"line":50,"column":0},"end":{"line":50,"column":18}},"object":{"type":"MemberExpression","start":1599,"end":1613,"loc":{"start":{"line":50,"column":0},"end":{"line":50,"column":14}},"object":{"type":"Identifier","start":1599,"end":1605,"loc":{"start":{"line":50,"column":0},"end":{"line":50,"column":6}},"name":"module"},"property":{"type":"Identifier","start":1606,"end":1613,"loc":{"start":{"line":50,"column":7},"end":{"line":50,"column":14}},"name":"exports"},"computed":false},"property":{"type":"Identifier","start":1614,"end":1617,"loc":{"start":{"line":50,"column":15},"end":{"line":50,"column":18}},"name":"app"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":1620,"end":4660,"loc":{"start":{"line":50,"column":21},"end":{"line":128,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":1621,"end":1633,"loc":{"start":{"line":50,"column":22},"end":{"line":50,"column":34}},"left":{"type":"Identifier","start":1621,"end":1628,"loc":{"start":{"line":50,"column":22},"end":{"line":50,"column":29}},"name":"options"},"right":{"type":"ObjectExpression","start":1631,"end":1633,"loc":{"start":{"line":50,"column":32},"end":{"line":50,"column":34}},"properties":[]}}],"body":{"type":"BlockStatement","start":1638,"end":4660,"loc":{"start":{"line":50,"column":39},"end":{"line":128,"column":1}},"body":[{"type":"ExpressionStatement","start":1642,"end":1686,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":46}},"expression":{"type":"AssignmentExpression","start":1642,"end":1686,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":46}},"operator":"=","left":{"type":"Identifier","start":1642,"end":1649,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":9}},"name":"options"},"right":{"type":"CallExpression","start":1652,"end":1686,"loc":{"start":{"line":51,"column":12},"end":{"line":51,"column":46}},"callee":{"type":"Identifier","start":1652,"end":1657,"loc":{"start":{"line":51,"column":12},"end":{"line":51,"column":17}},"name":"merge"},"arguments":[{"type":"ObjectExpression","start":1658,"end":1660,"loc":{"start":{"line":51,"column":18},"end":{"line":51,"column":20}},"properties":[]},{"type":"Identifier","start":1662,"end":1676,"loc":{"start":{"line":51,"column":22},"end":{"line":51,"column":36}},"name":"defaultOptions"},{"type":"Identifier","start":1678,"end":1685,"loc":{"start":{"line":51,"column":38},"end":{"line":51,"column":45}},"name":"options"}]}}},{"type":"VariableDeclaration","start":1689,"end":1751,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":64}},"declarations":[{"type":"VariableDeclarator","start":1695,"end":1751,"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":64}},"id":{"type":"Identifier","start":1695,"end":1704,"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":17}},"name":"providers"},"init":{"type":"CallExpression","start":1707,"end":1751,"loc":{"start":{"line":52,"column":20},"end":{"line":52,"column":64}},"callee":{"type":"MemberExpression","start":1707,"end":1742,"loc":{"start":{"line":52,"column":20},"end":{"line":52,"column":55}},"object":{"type":"Identifier","start":1707,"end":1722,"loc":{"start":{"line":52,"column":20},"end":{"line":52,"column":35}},"name":"providerManager"},"property":{"type":"Identifier","start":1723,"end":1742,"loc":{"start":{"line":52,"column":36},"end":{"line":52,"column":55}},"name":"getDefaultProviders"},"computed":false},"arguments":[{"type":"Identifier","start":1743,"end":1750,"loc":{"start":{"line":52,"column":56},"end":{"line":52,"column":63}},"name":"options"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1754,"end":1810,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":58}},"expression":{"type":"CallExpression","start":1754,"end":1810,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":58}},"callee":{"type":"MemberExpression","start":1754,"end":1788,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":36}},"object":{"type":"Identifier","start":1754,"end":1769,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":17}},"name":"providerManager"},"property":{"type":"Identifier","start":1770,"end":1788,"loc":{"start":{"line":53,"column":18},"end":{"line":53,"column":36}},"name":"addProviderOptions"},"computed":false},"arguments":[{"type":"Identifier","start":1789,"end":1796,"loc":{"start":{"line":53,"column":37},"end":{"line":53,"column":44}},"name":"options"},{"type":"Identifier","start":1798,"end":1809,"loc":{"start":{"line":53,"column":46},"end":{"line":53,"column":57}},"name":"grantConfig"}]}},{"type":"VariableDeclaration","start":1814,"end":1861,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":49}},"declarations":[{"type":"VariableDeclarator","start":1820,"end":1861,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":49}},"id":{"type":"Identifier","start":1820,"end":1835,"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":23}},"name":"customProviders"},"init":{"type":"MemberExpression","start":1838,"end":1861,"loc":{"start":{"line":55,"column":26},"end":{"line":55,"column":49}},"object":{"type":"Identifier","start":1838,"end":1845,"loc":{"start":{"line":55,"column":26},"end":{"line":55,"column":33}},"name":"options"},"property":{"type":"Identifier","start":1846,"end":1861,"loc":{"start":{"line":55,"column":34},"end":{"line":55,"column":49}},"name":"customProviders"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":1864,"end":1970,"loc":{"start":{"line":56,"column":2},"end":{"line":58,"column":3}},"test":{"type":"Identifier","start":1868,"end":1883,"loc":{"start":{"line":56,"column":6},"end":{"line":56,"column":21}},"name":"customProviders"},"consequent":{"type":"BlockStatement","start":1885,"end":1970,"loc":{"start":{"line":56,"column":23},"end":{"line":58,"column":3}},"body":[{"type":"ExpressionStatement","start":1891,"end":1966,"loc":{"start":{"line":57,"column":4},"end":{"line":57,"column":79}},"expression":{"type":"CallExpression","start":1891,"end":1966,"loc":{"start":{"line":57,"column":4},"end":{"line":57,"column":79}},"callee":{"type":"MemberExpression","start":1891,"end":1925,"loc":{"start":{"line":57,"column":4},"end":{"line":57,"column":38}},"object":{"type":"Identifier","start":1891,"end":1906,"loc":{"start":{"line":57,"column":4},"end":{"line":57,"column":19}},"name":"providerManager"},"property":{"type":"Identifier","start":1907,"end":1925,"loc":{"start":{"line":57,"column":20},"end":{"line":57,"column":38}},"name":"addCustomProviders"},"computed":false},"arguments":[{"type":"Identifier","start":1926,"end":1941,"loc":{"start":{"line":57,"column":39},"end":{"line":57,"column":54}},"name":"customProviders"},{"type":"Identifier","start":1943,"end":1952,"loc":{"start":{"line":57,"column":56},"end":{"line":57,"column":65}},"name":"providers"},{"type":"Identifier","start":1954,"end":1965,"loc":{"start":{"line":57,"column":67},"end":{"line":57,"column":78}},"name":"grantConfig"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":2019,"end":2038,"loc":{"start":{"line":61,"column":2},"end":{"line":61,"column":21}},"expression":{"type":"CallExpression","start":2019,"end":2038,"loc":{"start":{"line":61,"column":2},"end":{"line":61,"column":21}},"callee":{"type":"Identifier","start":2019,"end":2029,"loc":{"start":{"line":61,"column":2},"end":{"line":61,"column":12}},"name":"maskLogger"},"arguments":[{"type":"Identifier","start":2030,"end":2037,"loc":{"start":{"line":61,"column":13},"end":{"line":61,"column":20}},"name":"options"}]}},{"type":"IfStatement","start":2077,"end":2183,"loc":{"start":{"line":64,"column":2},"end":{"line":66,"column":3}},"test":{"type":"MemberExpression","start":2081,"end":2097,"loc":{"start":{"line":64,"column":6},"end":{"line":64,"column":22}},"object":{"type":"Identifier","start":2081,"end":2088,"loc":{"start":{"line":64,"column":6},"end":{"line":64,"column":13}},"name":"options"},"property":{"type":"Identifier","start":2089,"end":2097,"loc":{"start":{"line":64,"column":14},"end":{"line":64,"column":22}},"name":"redisUrl"},"computed":false},"consequent":{"type":"BlockStatement","start":2099,"end":2183,"loc":{"start":{"line":64,"column":24},"end":{"line":66,"column":3}},"body":[{"type":"ExpressionStatement","start":2105,"end":2179,"loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":78}},"expression":{"type":"CallExpression","start":2105,"end":2179,"loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":78}},"callee":{"type":"MemberExpression","start":2105,"end":2117,"loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":16}},"object":{"type":"Identifier","start":2105,"end":2110,"loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":9}},"name":"redis"},"property":{"type":"Identifier","start":2111,"end":2117,"loc":{"start":{"line":65,"column":10},"end":{"line":65,"column":16}},"name":"client"},"computed":false},"arguments":[{"type":"CallExpression","start":2118,"end":2178,"loc":{"start":{"line":65,"column":17},"end":{"line":65,"column":77}},"callee":{"type":"Identifier","start":2118,"end":2123,"loc":{"start":{"line":65,"column":17},"end":{"line":65,"column":22}},"name":"merge"},"arguments":[{"type":"ObjectExpression","start":2124,"end":2149,"loc":{"start":{"line":65,"column":23},"end":{"line":65,"column":48}},"properties":[{"type":"Property","start":2126,"end":2147,"loc":{"start":{"line":65,"column":25},"end":{"line":65,"column":46}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2126,"end":2129,"loc":{"start":{"line":65,"column":25},"end":{"line":65,"column":28}},"name":"url"},"value":{"type":"MemberExpression","start":2131,"end":2147,"loc":{"start":{"line":65,"column":30},"end":{"line":65,"column":46}},"object":{"type":"Identifier","start":2131,"end":2138,"loc":{"start":{"line":65,"column":30},"end":{"line":65,"column":37}},"name":"options"},"property":{"type":"Identifier","start":2139,"end":2147,"loc":{"start":{"line":65,"column":38},"end":{"line":65,"column":46}},"name":"redisUrl"},"computed":false},"kind":"init"}]},{"type":"LogicalExpression","start":2151,"end":2177,"loc":{"start":{"line":65,"column":50},"end":{"line":65,"column":76}},"left":{"type":"MemberExpression","start":2151,"end":2171,"loc":{"start":{"line":65,"column":50},"end":{"line":65,"column":70}},"object":{"type":"Identifier","start":2151,"end":2158,"loc":{"start":{"line":65,"column":50},"end":{"line":65,"column":57}},"name":"options"},"property":{"type":"Identifier","start":2159,"end":2171,"loc":{"start":{"line":65,"column":58},"end":{"line":65,"column":70}},"name":"redisOptions"},"computed":false},"operator":"||","right":{"type":"ObjectExpression","start":2175,"end":2177,"loc":{"start":{"line":65,"column":74},"end":{"line":65,"column":76}},"properties":[]}}]}]}}]},"alternate":null},{"type":"ExpressionStatement","start":2186,"end":2240,"loc":{"start":{"line":67,"column":2},"end":{"line":67,"column":56}},"expression":{"type":"CallExpression","start":2186,"end":2240,"loc":{"start":{"line":67,"column":2},"end":{"line":67,"column":56}},"callee":{"type":"Identifier","start":2186,"end":2193,"loc":{"start":{"line":67,"column":2},"end":{"line":67,"column":9}},"name":"emitter"},"arguments":[{"type":"LogicalExpression","start":2194,"end":2239,"loc":{"start":{"line":67,"column":10},"end":{"line":67,"column":55}},"left":{"type":"MemberExpression","start":2194,"end":2219,"loc":{"start":{"line":67,"column":10},"end":{"line":67,"column":35}},"object":{"type":"Identifier","start":2194,"end":2201,"loc":{"start":{"line":67,"column":10},"end":{"line":67,"column":17}},"name":"options"},"property":{"type":"Identifier","start":2202,"end":2219,"loc":{"start":{"line":67,"column":18},"end":{"line":67,"column":35}},"name":"multipleInstances"},"computed":false},"operator":"&&","right":{"type":"MemberExpression","start":2223,"end":2239,"loc":{"start":{"line":67,"column":39},"end":{"line":67,"column":55}},"object":{"type":"Identifier","start":2223,"end":2230,"loc":{"start":{"line":67,"column":39},"end":{"line":67,"column":46}},"name":"options"},"property":{"type":"Identifier","start":2231,"end":2239,"loc":{"start":{"line":67,"column":47},"end":{"line":67,"column":55}},"name":"redisUrl"},"computed":false}}]}},{"type":"VariableDeclaration","start":2244,"end":2265,"loc":{"start":{"line":69,"column":2},"end":{"line":69,"column":23}},"declarations":[{"type":"VariableDeclarator","start":2250,"end":2265,"loc":{"start":{"line":69,"column":8},"end":{"line":69,"column":23}},"id":{"type":"Identifier","start":2250,"end":2253,"loc":{"start":{"line":69,"column":8},"end":{"line":69,"column":11}},"name":"app"},"init":{"type":"CallExpression","start":2256,"end":2265,"loc":{"start":{"line":69,"column":14},"end":{"line":69,"column":23}},"callee":{"type":"Identifier","start":2256,"end":2263,"loc":{"start":{"line":69,"column":14},"end":{"line":69,"column":21}},"name":"express"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":2268,"end":2291,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":25}},"expression":{"type":"CallExpression","start":2268,"end":2291,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":25}},"callee":{"type":"MemberExpression","start":2268,"end":2275,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":9}},"object":{"type":"Identifier","start":2268,"end":2271,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":5}},"name":"app"},"property":{"type":"Identifier","start":2272,"end":2275,"loc":{"start":{"line":70,"column":6},"end":{"line":70,"column":9}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":2276,"end":2290,"loc":{"start":{"line":70,"column":10},"end":{"line":70,"column":24}},"callee":{"type":"Identifier","start":2276,"end":2288,"loc":{"start":{"line":70,"column":10},"end":{"line":70,"column":22}},"name":"cookieParser"},"arguments":[]}]}},{"type":"ExpressionStatement","start":2333,"end":2369,"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":38}},"expression":{"type":"CallExpression","start":2333,"end":2369,"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":38}},"callee":{"type":"MemberExpression","start":2333,"end":2340,"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":9}},"object":{"type":"Identifier","start":2333,"end":2336,"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":5}},"name":"app"},"property":{"type":"Identifier","start":2337,"end":2340,"loc":{"start":{"line":72,"column":6},"end":{"line":72,"column":9}},"name":"use"},"computed":false},"arguments":[{"type":"Identifier","start":2341,"end":2368,"loc":{"start":{"line":72,"column":10},"end":{"line":72,"column":37}},"name":"interceptGrantErrorResponse"}]}},{"type":"ExpressionStatement","start":2372,"end":2399,"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":29}},"expression":{"type":"CallExpression","start":2372,"end":2399,"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":29}},"callee":{"type":"MemberExpression","start":2372,"end":2379,"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":9}},"object":{"type":"Identifier","start":2372,"end":2375,"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":5}},"name":"app"},"property":{"type":"Identifier","start":2376,"end":2379,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":9}},"name":"use"},"computed":false},"arguments":[{"type":"CallExpression","start":2380,"end":2398,"loc":{"start":{"line":73,"column":10},"end":{"line":73,"column":28}},"callee":{"type":"Identifier","start":2380,"end":2385,"loc":{"start":{"line":73,"column":10},"end":{"line":73,"column":15}},"name":"Grant"},"arguments":[{"type":"Identifier","start":2386,"end":2397,"loc":{"start":{"line":73,"column":16},"end":{"line":73,"column":27}},"name":"grantConfig"}]}]}},{"type":"ExpressionStatement","start":2402,"end":3363,"loc":{"start":{"line":74,"column":2},"end":{"line":105,"column":4}},"expression":{"type":"CallExpression","start":2402,"end":3363,"loc":{"start":{"line":74,"column":2},"end":{"line":105,"column":4}},"callee":{"type":"MemberExpression","start":2402,"end":2409,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":9}},"object":{"type":"Identifier","start":2402,"end":2405,"loc":{"start":{"line":74,"column":2},"end":{"line":74,"column":5}},"name":"app"},"property":{"type":"Identifier","start":2406,"end":2409,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":9}},"name":"use"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2410,"end":3362,"loc":{"start":{"line":74,"column":10},"end":{"line":105,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2411,"end":2414,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":14}},"name":"req"},{"type":"Identifier","start":2416,"end":2419,"loc":{"start":{"line":74,"column":16},"end":{"line":74,"column":19}},"name":"res"},{"type":"Identifier","start":2421,"end":2425,"loc":{"start":{"line":74,"column":21},"end":{"line":74,"column":25}},"name":"next"}],"body":{"type":"BlockStatement","start":2430,"end":3362,"loc":{"start":{"line":74,"column":30},"end":{"line":105,"column":3}},"body":[{"type":"ExpressionStatement","start":2436,"end":2508,"loc":{"start":{"line":75,"column":4},"end":{"line":75,"column":76}},"expression":{"type":"CallExpression","start":2436,"end":2508,"loc":{"start":{"line":75,"column":4},"end":{"line":75,"column":76}},"callee":{"type":"MemberExpression","start":2436,"end":2446,"loc":{"start":{"line":75,"column":4},"end":{"line":75,"column":14}},"object":{"type":"Identifier","start":2436,"end":2439,"loc":{"start":{"line":75,"column":4},"end":{"line":75,"column":7}},"name":"res"},"property":{"type":"Identifier","start":2440,"end":2446,"loc":{"start":{"line":75,"column":8},"end":{"line":75,"column":14}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":2447,"end":2477,"loc":{"start":{"line":75,"column":15},"end":{"line":75,"column":45}},"value":"Access-Control-Allow-Methods","raw":"'Access-Control-Allow-Methods'"},{"type":"Literal","start":2479,"end":2507,"loc":{"start":{"line":75,"column":47},"end":{"line":75,"column":75}},"value":"GET, POST, OPTIONS, DELETE","raw":"'GET, POST, OPTIONS, DELETE'"}]}},{"type":"ExpressionStatement","start":2513,"end":2694,"loc":{"start":{"line":76,"column":4},"end":{"line":83,"column":5}},"expression":{"type":"CallExpression","start":2513,"end":2694,"loc":{"start":{"line":76,"column":4},"end":{"line":83,"column":5}},"callee":{"type":"MemberExpression","start":2513,"end":2523,"loc":{"start":{"line":76,"column":4},"end":{"line":76,"column":14}},"object":{"type":"Identifier","start":2513,"end":2516,"loc":{"start":{"line":76,"column":4},"end":{"line":76,"column":7}},"name":"res"},"property":{"type":"Identifier","start":2517,"end":2523,"loc":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":2531,"end":2561,"loc":{"start":{"line":77,"column":6},"end":{"line":77,"column":36}},"value":"Access-Control-Allow-Headers","raw":"'Access-Control-Allow-Headers'"},{"type":"CallExpression","start":2569,"end":2688,"loc":{"start":{"line":78,"column":6},"end":{"line":82,"column":17}},"callee":{"type":"MemberExpression","start":2569,"end":2683,"loc":{"start":{"line":78,"column":6},"end":{"line":82,"column":12}},"object":{"type":"ArrayExpression","start":2569,"end":2678,"loc":{"start":{"line":78,"column":6},"end":{"line":82,"column":7}},"elements":[{"type":"Literal","start":2579,"end":2596,"loc":{"start":{"line":79,"column":8},"end":{"line":79,"column":25}},"value":"uppy-auth-token","raw":"'uppy-auth-token'"},{"type":"Literal","start":2606,"end":2621,"loc":{"start":{"line":80,"column":8},"end":{"line":80,"column":23}},"value":"uppy-versions","raw":"'uppy-versions'"},{"type":"CallExpression","start":2631,"end":2670,"loc":{"start":{"line":81,"column":8},"end":{"line":81,"column":47}},"callee":{"type":"MemberExpression","start":2631,"end":2638,"loc":{"start":{"line":81,"column":8},"end":{"line":81,"column":15}},"object":{"type":"Identifier","start":2631,"end":2634,"loc":{"start":{"line":81,"column":8},"end":{"line":81,"column":11}},"name":"res"},"property":{"type":"Identifier","start":2635,"end":2638,"loc":{"start":{"line":81,"column":12},"end":{"line":81,"column":15}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":2639,"end":2669,"loc":{"start":{"line":81,"column":16},"end":{"line":81,"column":46}},"value":"Access-Control-Allow-Headers","raw":"'Access-Control-Allow-Headers'"}]}]},"property":{"type":"Identifier","start":2679,"end":2683,"loc":{"start":{"line":82,"column":8},"end":{"line":82,"column":12}},"name":"join"},"computed":false},"arguments":[{"type":"Literal","start":2684,"end":2687,"loc":{"start":{"line":82,"column":13},"end":{"line":82,"column":16}},"value":",","raw":"','"}]}]}},{"type":"VariableDeclaration","start":2700,"end":2836,"loc":{"start":{"line":85,"column":4},"end":{"line":88,"column":5}},"declarations":[{"type":"VariableDeclarator","start":2706,"end":2836,"loc":{"start":{"line":85,"column":10},"end":{"line":88,"column":5}},"id":{"type":"Identifier","start":2706,"end":2720,"loc":{"start":{"line":85,"column":10},"end":{"line":85,"column":24}},"name":"exposedHeaders"},"init":{"type":"ArrayExpression","start":2723,"end":2836,"loc":{"start":{"line":85,"column":27},"end":{"line":88,"column":5}},"elements":[{"type":"Literal","start":2800,"end":2830,"loc":{"start":{"line":87,"column":6},"end":{"line":87,"column":36}},"value":"Access-Control-Allow-Headers","raw":"'Access-Control-Allow-Headers'"}]}}],"kind":"const"},{"type":"IfStatement","start":2842,"end":3066,"loc":{"start":{"line":90,"column":4},"end":{"line":96,"column":5}},"test":{"type":"MemberExpression","start":2846,"end":2870,"loc":{"start":{"line":90,"column":8},"end":{"line":90,"column":32}},"object":{"type":"Identifier","start":2846,"end":2853,"loc":{"start":{"line":90,"column":8},"end":{"line":90,"column":15}},"name":"options"},"property":{"type":"Identifier","start":2854,"end":2870,"loc":{"start":{"line":90,"column":16},"end":{"line":90,"column":32}},"name":"sendSelfEndpoint"},"computed":false},"consequent":{"type":"BlockStatement","start":2872,"end":3066,"loc":{"start":{"line":90,"column":34},"end":{"line":96,"column":5}},"body":[{"type":"ExpressionStatement","start":2920,"end":2947,"loc":{"start":{"line":92,"column":6},"end":{"line":92,"column":33}},"expression":{"type":"CallExpression","start":2920,"end":2947,"loc":{"start":{"line":92,"column":6},"end":{"line":92,"column":33}},"callee":{"type":"MemberExpression","start":2920,"end":2939,"loc":{"start":{"line":92,"column":6},"end":{"line":92,"column":25}},"object":{"type":"Identifier","start":2920,"end":2934,"loc":{"start":{"line":92,"column":6},"end":{"line":92,"column":20}},"name":"exposedHeaders"},"property":{"type":"Identifier","start":2935,"end":2939,"loc":{"start":{"line":92,"column":21},"end":{"line":92,"column":25}},"name":"push"},"computed":false},"arguments":[{"type":"Literal","start":2940,"end":2946,"loc":{"start":{"line":92,"column":26},"end":{"line":92,"column":32}},"value":"i-am","raw":"'i-am'"}]}},{"type":"VariableDeclaration","start":2955,"end":2990,"loc":{"start":{"line":94,"column":6},"end":{"line":94,"column":41}},"declarations":[{"type":"VariableDeclarator","start":2961,"end":2990,"loc":{"start":{"line":94,"column":12},"end":{"line":94,"column":41}},"id":{"type":"ObjectPattern","start":2961,"end":2973,"loc":{"start":{"line":94,"column":12},"end":{"line":94,"column":24}},"properties":[{"type":"Property","start":2963,"end":2971,"loc":{"start":{"line":94,"column":14},"end":{"line":94,"column":22}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2963,"end":2971,"loc":{"start":{"line":94,"column":14},"end":{"line":94,"column":22}},"name":"protocol"},"kind":"init","value":{"type":"Identifier","start":2963,"end":2971,"loc":{"start":{"line":94,"column":14},"end":{"line":94,"column":22}},"name":"protocol"}}]},"init":{"type":"MemberExpression","start":2976,"end":2990,"loc":{"start":{"line":94,"column":27},"end":{"line":94,"column":41}},"object":{"type":"Identifier","start":2976,"end":2983,"loc":{"start":{"line":94,"column":27},"end":{"line":94,"column":34}},"name":"options"},"property":{"type":"Identifier","start":2984,"end":2990,"loc":{"start":{"line":94,"column":35},"end":{"line":94,"column":41}},"name":"server"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":2997,"end":3060,"loc":{"start":{"line":95,"column":6},"end":{"line":95,"column":69}},"expression":{"type":"CallExpression","start":2997,"end":3060,"loc":{"start":{"line":95,"column":6},"end":{"line":95,"column":69}},"callee":{"type":"MemberExpression","start":2997,"end":3007,"loc":{"start":{"line":95,"column":6},"end":{"line":95,"column":16}},"object":{"type":"Identifier","start":2997,"end":3000,"loc":{"start":{"line":95,"column":6},"end":{"line":95,"column":9}},"name":"res"},"property":{"type":"Identifier","start":3001,"end":3007,"loc":{"start":{"line":95,"column":10},"end":{"line":95,"column":16}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":3008,"end":3014,"loc":{"start":{"line":95,"column":17},"end":{"line":95,"column":23}},"value":"i-am","raw":"'i-am'"},{"type":"TemplateLiteral","start":3016,"end":3059,"loc":{"start":{"line":95,"column":25},"end":{"line":95,"column":68}},"expressions":[{"type":"Identifier","start":3019,"end":3027,"loc":{"start":{"line":95,"column":28},"end":{"line":95,"column":36}},"name":"protocol"},{"type":"MemberExpression","start":3033,"end":3057,"loc":{"start":{"line":95,"column":42},"end":{"line":95,"column":66}},"object":{"type":"Identifier","start":3033,"end":3040,"loc":{"start":{"line":95,"column":42},"end":{"line":95,"column":49}},"name":"options"},"property":{"type":"Identifier","start":3041,"end":3057,"loc":{"start":{"line":95,"column":50},"end":{"line":95,"column":66}},"name":"sendSelfEndpoint"},"computed":false}],"quasis":[{"type":"TemplateElement","start":3017,"end":3017,"loc":{"start":{"line":95,"column":26},"end":{"line":95,"column":26}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":3028,"end":3031,"loc":{"start":{"line":95,"column":37},"end":{"line":95,"column":40}},"value":{"raw":"://","cooked":"://"},"tail":false},{"type":"TemplateElement","start":3058,"end":3058,"loc":{"start":{"line":95,"column":67},"end":{"line":95,"column":67}},"value":{"raw":"","cooked":""},"tail":true}]}]}}]},"alternate":null},{"type":"IfStatement","start":3072,"end":3272,"loc":{"start":{"line":98,"column":4},"end":{"line":101,"column":5}},"test":{"type":"CallExpression","start":3076,"end":3116,"loc":{"start":{"line":98,"column":8},"end":{"line":98,"column":48}},"callee":{"type":"MemberExpression","start":3076,"end":3083,"loc":{"start":{"line":98,"column":8},"end":{"line":98,"column":15}},"object":{"type":"Identifier","start":3076,"end":3079,"loc":{"start":{"line":98,"column":8},"end":{"line":98,"column":11}},"name":"res"},"property":{"type":"Identifier","start":3080,"end":3083,"loc":{"start":{"line":98,"column":12},"end":{"line":98,"column":15}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":3084,"end":3115,"loc":{"start":{"line":98,"column":16},"end":{"line":98,"column":47}},"value":"Access-Control-Expose-Headers","raw":"'Access-Control-Expose-Headers'"}]},"consequent":{"type":"BlockStatement","start":3118,"end":3272,"loc":{"start":{"line":98,"column":50},"end":{"line":101,"column":5}},"body":[{"type":"ExpressionStatement","start":3205,"end":3266,"loc":{"start":{"line":100,"column":6},"end":{"line":100,"column":67}},"expression":{"type":"CallExpression","start":3205,"end":3266,"loc":{"start":{"line":100,"column":6},"end":{"line":100,"column":67}},"callee":{"type":"MemberExpression","start":3205,"end":3224,"loc":{"start":{"line":100,"column":6},"end":{"line":100,"column":25}},"object":{"type":"Identifier","start":3205,"end":3219,"loc":{"start":{"line":100,"column":6},"end":{"line":100,"column":20}},"name":"exposedHeaders"},"property":{"type":"Identifier","start":3220,"end":3224,"loc":{"start":{"line":100,"column":21},"end":{"line":100,"column":25}},"name":"push"},"computed":false},"arguments":[{"type":"CallExpression","start":3225,"end":3265,"loc":{"start":{"line":100,"column":26},"end":{"line":100,"column":66}},"callee":{"type":"MemberExpression","start":3225,"end":3232,"loc":{"start":{"line":100,"column":26},"end":{"line":100,"column":33}},"object":{"type":"Identifier","start":3225,"end":3228,"loc":{"start":{"line":100,"column":26},"end":{"line":100,"column":29}},"name":"res"},"property":{"type":"Identifier","start":3229,"end":3232,"loc":{"start":{"line":100,"column":30},"end":{"line":100,"column":33}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":3233,"end":3264,"loc":{"start":{"line":100,"column":34},"end":{"line":100,"column":65}},"value":"Access-Control-Expose-Headers","raw":"'Access-Control-Expose-Headers'"}]}]}}]},"alternate":null},{"type":"ExpressionStatement","start":3278,"end":3347,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":73}},"expression":{"type":"CallExpression","start":3278,"end":3347,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":73}},"callee":{"type":"MemberExpression","start":3278,"end":3288,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":14}},"object":{"type":"Identifier","start":3278,"end":3281,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":7}},"name":"res"},"property":{"type":"Identifier","start":3282,"end":3288,"loc":{"start":{"line":103,"column":8},"end":{"line":103,"column":14}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":3289,"end":3320,"loc":{"start":{"line":103,"column":15},"end":{"line":103,"column":46}},"value":"Access-Control-Expose-Headers","raw":"'Access-Control-Expose-Headers'"},{"type":"CallExpression","start":3322,"end":3346,"loc":{"start":{"line":103,"column":48},"end":{"line":103,"column":72}},"callee":{"type":"MemberExpression","start":3322,"end":3341,"loc":{"start":{"line":103,"column":48},"end":{"line":103,"column":67}},"object":{"type":"Identifier","start":3322,"end":3336,"loc":{"start":{"line":103,"column":48},"end":{"line":103,"column":62}},"name":"exposedHeaders"},"property":{"type":"Identifier","start":3337,"end":3341,"loc":{"start":{"line":103,"column":63},"end":{"line":103,"column":67}},"name":"join"},"computed":false},"arguments":[{"type":"Literal","start":3342,"end":3345,"loc":{"start":{"line":103,"column":68},"end":{"line":103,"column":71}},"value":",","raw":"','"}]}]}},{"type":"ExpressionStatement","start":3352,"end":3358,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":10}},"expression":{"type":"CallExpression","start":3352,"end":3358,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":10}},"callee":{"type":"Identifier","start":3352,"end":3356,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":8}},"name":"next"},"arguments":[]}}]}}]}},{"type":"ExpressionStatement","start":3457,"end":3500,"loc":{"start":{"line":108,"column":2},"end":{"line":108,"column":45}},"expression":{"type":"CallExpression","start":3457,"end":3500,"loc":{"start":{"line":108,"column":2},"end":{"line":108,"column":45}},"callee":{"type":"MemberExpression","start":3457,"end":3464,"loc":{"start":{"line":108,"column":2},"end":{"line":108,"column":9}},"object":{"type":"Identifier","start":3457,"end":3460,"loc":{"start":{"line":108,"column":2},"end":{"line":108,"column":5}},"name":"app"},"property":{"type":"Identifier","start":3461,"end":3464,"loc":{"start":{"line":108,"column":6},"end":{"line":108,"column":9}},"name":"use"},"computed":false},"arguments":[{"type":"Literal","start":3465,"end":3468,"loc":{"start":{"line":108,"column":10},"end":{"line":108,"column":13}},"value":"*","raw":"'*'"},{"type":"CallExpression","start":3470,"end":3499,"loc":{"start":{"line":108,"column":15},"end":{"line":108,"column":44}},"callee":{"type":"Identifier","start":3470,"end":3490,"loc":{"start":{"line":108,"column":15},"end":{"line":108,"column":35}},"name":"getOptionsMiddleware"},"arguments":[{"type":"Identifier","start":3491,"end":3498,"loc":{"start":{"line":108,"column":36},"end":{"line":108,"column":43}},"name":"options"}]}]}},{"type":"ExpressionStatement","start":3503,"end":3549,"loc":{"start":{"line":109,"column":2},"end":{"line":109,"column":48}},"expression":{"type":"CallExpression","start":3503,"end":3549,"loc":{"start":{"line":109,"column":2},"end":{"line":109,"column":48}},"callee":{"type":"MemberExpression","start":3503,"end":3510,"loc":{"start":{"line":109,"column":2},"end":{"line":109,"column":9}},"object":{"type":"Identifier","start":3503,"end":3506,"loc":{"start":{"line":109,"column":2},"end":{"line":109,"column":5}},"name":"app"},"property":{"type":"Identifier","start":3507,"end":3510,"loc":{"start":{"line":109,"column":6},"end":{"line":109,"column":9}},"name":"use"},"computed":false},"arguments":[{"type":"Literal","start":3511,"end":3516,"loc":{"start":{"line":109,"column":10},"end":{"line":109,"column":15}},"value":"/s3","raw":"'/s3'"},{"type":"CallExpression","start":3518,"end":3548,"loc":{"start":{"line":109,"column":17},"end":{"line":109,"column":47}},"callee":{"type":"Identifier","start":3518,"end":3520,"loc":{"start":{"line":109,"column":17},"end":{"line":109,"column":19}},"name":"s3"},"arguments":[{"type":"MemberExpression","start":3521,"end":3547,"loc":{"start":{"line":109,"column":20},"end":{"line":109,"column":46}},"object":{"type":"MemberExpression","start":3521,"end":3544,"loc":{"start":{"line":109,"column":20},"end":{"line":109,"column":43}},"object":{"type":"Identifier","start":3521,"end":3528,"loc":{"start":{"line":109,"column":20},"end":{"line":109,"column":27}},"name":"options"},"property":{"type":"Identifier","start":3529,"end":3544,"loc":{"start":{"line":109,"column":28},"end":{"line":109,"column":43}},"name":"providerOptions"},"computed":false},"property":{"type":"Identifier","start":3545,"end":3547,"loc":{"start":{"line":109,"column":44},"end":{"line":109,"column":46}},"name":"s3"},"computed":false}]}]}},{"type":"ExpressionStatement","start":3552,"end":3574,"loc":{"start":{"line":110,"column":2},"end":{"line":110,"column":24}},"expression":{"type":"CallExpression","start":3552,"end":3574,"loc":{"start":{"line":110,"column":2},"end":{"line":110,"column":24}},"callee":{"type":"MemberExpression","start":3552,"end":3559,"loc":{"start":{"line":110,"column":2},"end":{"line":110,"column":9}},"object":{"type":"Identifier","start":3552,"end":3555,"loc":{"start":{"line":110,"column":2},"end":{"line":110,"column":5}},"name":"app"},"property":{"type":"Identifier","start":3556,"end":3559,"loc":{"start":{"line":110,"column":6},"end":{"line":110,"column":9}},"name":"use"},"computed":false},"arguments":[{"type":"Literal","start":3560,"end":3566,"loc":{"start":{"line":110,"column":10},"end":{"line":110,"column":16}},"value":"/url","raw":"'/url'"},{"type":"CallExpression","start":3568,"end":3573,"loc":{"start":{"line":110,"column":18},"end":{"line":110,"column":23}},"callee":{"type":"Identifier","start":3568,"end":3571,"loc":{"start":{"line":110,"column":18},"end":{"line":110,"column":21}},"name":"url"},"arguments":[]}]}},{"type":"ExpressionStatement","start":3578,"end":3669,"loc":{"start":{"line":112,"column":2},"end":{"line":112,"column":93}},"expression":{"type":"CallExpression","start":3578,"end":3669,"loc":{"start":{"line":112,"column":2},"end":{"line":112,"column":93}},"callee":{"type":"MemberExpression","start":3578,"end":3585,"loc":{"start":{"line":112,"column":2},"end":{"line":112,"column":9}},"object":{"type":"Identifier","start":3578,"end":3581,"loc":{"start":{"line":112,"column":2},"end":{"line":112,"column":5}},"name":"app"},"property":{"type":"Identifier","start":3582,"end":3585,"loc":{"start":{"line":112,"column":6},"end":{"line":112,"column":9}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":3586,"end":3611,"loc":{"start":{"line":112,"column":10},"end":{"line":112,"column":35}},"value":"/:providerName/callback","raw":"'/:providerName/callback'"},{"type":"MemberExpression","start":3613,"end":3646,"loc":{"start":{"line":112,"column":37},"end":{"line":112,"column":70}},"object":{"type":"Identifier","start":3613,"end":3624,"loc":{"start":{"line":112,"column":37},"end":{"line":112,"column":48}},"name":"middlewares"},"property":{"type":"Identifier","start":3625,"end":3646,"loc":{"start":{"line":112,"column":49},"end":{"line":112,"column":70}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":3648,"end":3668,"loc":{"start":{"line":112,"column":72},"end":{"line":112,"column":92}},"object":{"type":"Identifier","start":3648,"end":3659,"loc":{"start":{"line":112,"column":72},"end":{"line":112,"column":83}},"name":"controllers"},"property":{"type":"Identifier","start":3660,"end":3668,"loc":{"start":{"line":112,"column":84},"end":{"line":112,"column":92}},"name":"callback"},"computed":false}]}},{"type":"ExpressionStatement","start":3672,"end":3761,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":91}},"expression":{"type":"CallExpression","start":3672,"end":3761,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":91}},"callee":{"type":"MemberExpression","start":3672,"end":3679,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":9}},"object":{"type":"Identifier","start":3672,"end":3675,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":5}},"name":"app"},"property":{"type":"Identifier","start":3676,"end":3679,"loc":{"start":{"line":113,"column":6},"end":{"line":113,"column":9}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":3680,"end":3704,"loc":{"start":{"line":113,"column":10},"end":{"line":113,"column":34}},"value":"/:providerName/connect","raw":"'/:providerName/connect'"},{"type":"MemberExpression","start":3706,"end":3739,"loc":{"start":{"line":113,"column":36},"end":{"line":113,"column":69}},"object":{"type":"Identifier","start":3706,"end":3717,"loc":{"start":{"line":113,"column":36},"end":{"line":113,"column":47}},"name":"middlewares"},"property":{"type":"Identifier","start":3718,"end":3739,"loc":{"start":{"line":113,"column":48},"end":{"line":113,"column":69}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":3741,"end":3760,"loc":{"start":{"line":113,"column":71},"end":{"line":113,"column":90}},"object":{"type":"Identifier","start":3741,"end":3752,"loc":{"start":{"line":113,"column":71},"end":{"line":113,"column":82}},"name":"controllers"},"property":{"type":"Identifier","start":3753,"end":3760,"loc":{"start":{"line":113,"column":83},"end":{"line":113,"column":90}},"name":"connect"},"computed":false}]}},{"type":"ExpressionStatement","start":3764,"end":3855,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":93}},"expression":{"type":"CallExpression","start":3764,"end":3855,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":93}},"callee":{"type":"MemberExpression","start":3764,"end":3771,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":9}},"object":{"type":"Identifier","start":3764,"end":3767,"loc":{"start":{"line":114,"column":2},"end":{"line":114,"column":5}},"name":"app"},"property":{"type":"Identifier","start":3768,"end":3771,"loc":{"start":{"line":114,"column":6},"end":{"line":114,"column":9}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":3772,"end":3797,"loc":{"start":{"line":114,"column":10},"end":{"line":114,"column":35}},"value":"/:providerName/redirect","raw":"'/:providerName/redirect'"},{"type":"MemberExpression","start":3799,"end":3832,"loc":{"start":{"line":114,"column":37},"end":{"line":114,"column":70}},"object":{"type":"Identifier","start":3799,"end":3810,"loc":{"start":{"line":114,"column":37},"end":{"line":114,"column":48}},"name":"middlewares"},"property":{"type":"Identifier","start":3811,"end":3832,"loc":{"start":{"line":114,"column":49},"end":{"line":114,"column":70}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":3834,"end":3854,"loc":{"start":{"line":114,"column":72},"end":{"line":114,"column":92}},"object":{"type":"Identifier","start":3834,"end":3845,"loc":{"start":{"line":114,"column":72},"end":{"line":114,"column":83}},"name":"controllers"},"property":{"type":"Identifier","start":3846,"end":3854,"loc":{"start":{"line":114,"column":84},"end":{"line":114,"column":92}},"name":"redirect"},"computed":false}]}},{"type":"ExpressionStatement","start":3858,"end":3976,"loc":{"start":{"line":115,"column":2},"end":{"line":115,"column":120}},"expression":{"type":"CallExpression","start":3858,"end":3976,"loc":{"start":{"line":115,"column":2},"end":{"line":115,"column":120}},"callee":{"type":"MemberExpression","start":3858,"end":3865,"loc":{"start":{"line":115,"column":2},"end":{"line":115,"column":9}},"object":{"type":"Identifier","start":3858,"end":3861,"loc":{"start":{"line":115,"column":2},"end":{"line":115,"column":5}},"name":"app"},"property":{"type":"Identifier","start":3862,"end":3865,"loc":{"start":{"line":115,"column":6},"end":{"line":115,"column":9}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":3866,"end":3889,"loc":{"start":{"line":115,"column":10},"end":{"line":115,"column":33}},"value":"/:providerName/logout","raw":"'/:providerName/logout'"},{"type":"MemberExpression","start":3891,"end":3924,"loc":{"start":{"line":115,"column":35},"end":{"line":115,"column":68}},"object":{"type":"Identifier","start":3891,"end":3902,"loc":{"start":{"line":115,"column":35},"end":{"line":115,"column":46}},"name":"middlewares"},"property":{"type":"Identifier","start":3903,"end":3924,"loc":{"start":{"line":115,"column":47},"end":{"line":115,"column":68}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":3926,"end":3955,"loc":{"start":{"line":115,"column":70},"end":{"line":115,"column":99}},"object":{"type":"Identifier","start":3926,"end":3937,"loc":{"start":{"line":115,"column":70},"end":{"line":115,"column":81}},"name":"middlewares"},"property":{"type":"Identifier","start":3938,"end":3955,"loc":{"start":{"line":115,"column":82},"end":{"line":115,"column":99}},"name":"gentleVerifyToken"},"computed":false},{"type":"MemberExpression","start":3957,"end":3975,"loc":{"start":{"line":115,"column":101},"end":{"line":115,"column":119}},"object":{"type":"Identifier","start":3957,"end":3968,"loc":{"start":{"line":115,"column":101},"end":{"line":115,"column":112}},"name":"controllers"},"property":{"type":"Identifier","start":3969,"end":3975,"loc":{"start":{"line":115,"column":113},"end":{"line":115,"column":119}},"name":"logout"},"computed":false}]}},{"type":"ExpressionStatement","start":3979,"end":4098,"loc":{"start":{"line":116,"column":2},"end":{"line":116,"column":121}},"expression":{"type":"CallExpression","start":3979,"end":4098,"loc":{"start":{"line":116,"column":2},"end":{"line":116,"column":121}},"callee":{"type":"MemberExpression","start":3979,"end":3986,"loc":{"start":{"line":116,"column":2},"end":{"line":116,"column":9}},"object":{"type":"Identifier","start":3979,"end":3982,"loc":{"start":{"line":116,"column":2},"end":{"line":116,"column":5}},"name":"app"},"property":{"type":"Identifier","start":3983,"end":3986,"loc":{"start":{"line":116,"column":6},"end":{"line":116,"column":9}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":3987,"end":4014,"loc":{"start":{"line":116,"column":10},"end":{"line":116,"column":37}},"value":"/:providerName/send-token","raw":"'/:providerName/send-token'"},{"type":"MemberExpression","start":4016,"end":4049,"loc":{"start":{"line":116,"column":39},"end":{"line":116,"column":72}},"object":{"type":"Identifier","start":4016,"end":4027,"loc":{"start":{"line":116,"column":39},"end":{"line":116,"column":50}},"name":"middlewares"},"property":{"type":"Identifier","start":4028,"end":4049,"loc":{"start":{"line":116,"column":51},"end":{"line":116,"column":72}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":4051,"end":4074,"loc":{"start":{"line":116,"column":74},"end":{"line":116,"column":97}},"object":{"type":"Identifier","start":4051,"end":4062,"loc":{"start":{"line":116,"column":74},"end":{"line":116,"column":85}},"name":"middlewares"},"property":{"type":"Identifier","start":4063,"end":4074,"loc":{"start":{"line":116,"column":86},"end":{"line":116,"column":97}},"name":"verifyToken"},"computed":false},{"type":"MemberExpression","start":4076,"end":4097,"loc":{"start":{"line":116,"column":99},"end":{"line":116,"column":120}},"object":{"type":"Identifier","start":4076,"end":4087,"loc":{"start":{"line":116,"column":99},"end":{"line":116,"column":110}},"name":"controllers"},"property":{"type":"Identifier","start":4088,"end":4097,"loc":{"start":{"line":116,"column":111},"end":{"line":116,"column":120}},"name":"sendToken"},"computed":false}]}},{"type":"ExpressionStatement","start":4101,"end":4214,"loc":{"start":{"line":117,"column":2},"end":{"line":117,"column":115}},"expression":{"type":"CallExpression","start":4101,"end":4214,"loc":{"start":{"line":117,"column":2},"end":{"line":117,"column":115}},"callee":{"type":"MemberExpression","start":4101,"end":4108,"loc":{"start":{"line":117,"column":2},"end":{"line":117,"column":9}},"object":{"type":"Identifier","start":4101,"end":4104,"loc":{"start":{"line":117,"column":2},"end":{"line":117,"column":5}},"name":"app"},"property":{"type":"Identifier","start":4105,"end":4108,"loc":{"start":{"line":117,"column":6},"end":{"line":117,"column":9}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":4109,"end":4135,"loc":{"start":{"line":117,"column":10},"end":{"line":117,"column":36}},"value":"/:providerName/list/:id?","raw":"'/:providerName/list/:id?'"},{"type":"MemberExpression","start":4137,"end":4170,"loc":{"start":{"line":117,"column":38},"end":{"line":117,"column":71}},"object":{"type":"Identifier","start":4137,"end":4148,"loc":{"start":{"line":117,"column":38},"end":{"line":117,"column":49}},"name":"middlewares"},"property":{"type":"Identifier","start":4149,"end":4170,"loc":{"start":{"line":117,"column":50},"end":{"line":117,"column":71}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":4172,"end":4195,"loc":{"start":{"line":117,"column":73},"end":{"line":117,"column":96}},"object":{"type":"Identifier","start":4172,"end":4183,"loc":{"start":{"line":117,"column":73},"end":{"line":117,"column":84}},"name":"middlewares"},"property":{"type":"Identifier","start":4184,"end":4195,"loc":{"start":{"line":117,"column":85},"end":{"line":117,"column":96}},"name":"verifyToken"},"computed":false},{"type":"MemberExpression","start":4197,"end":4213,"loc":{"start":{"line":117,"column":98},"end":{"line":117,"column":114}},"object":{"type":"Identifier","start":4197,"end":4208,"loc":{"start":{"line":117,"column":98},"end":{"line":117,"column":109}},"name":"controllers"},"property":{"type":"Identifier","start":4209,"end":4213,"loc":{"start":{"line":117,"column":110},"end":{"line":117,"column":114}},"name":"list"},"computed":false}]}},{"type":"ExpressionStatement","start":4217,"end":4328,"loc":{"start":{"line":118,"column":2},"end":{"line":118,"column":113}},"expression":{"type":"CallExpression","start":4217,"end":4328,"loc":{"start":{"line":118,"column":2},"end":{"line":118,"column":113}},"callee":{"type":"MemberExpression","start":4217,"end":4225,"loc":{"start":{"line":118,"column":2},"end":{"line":118,"column":10}},"object":{"type":"Identifier","start":4217,"end":4220,"loc":{"start":{"line":118,"column":2},"end":{"line":118,"column":5}},"name":"app"},"property":{"type":"Identifier","start":4221,"end":4225,"loc":{"start":{"line":118,"column":6},"end":{"line":118,"column":10}},"name":"post"},"computed":false},"arguments":[{"type":"Literal","start":4226,"end":4250,"loc":{"start":{"line":118,"column":11},"end":{"line":118,"column":35}},"value":"/:providerName/get/:id","raw":"'/:providerName/get/:id'"},{"type":"MemberExpression","start":4252,"end":4285,"loc":{"start":{"line":118,"column":37},"end":{"line":118,"column":70}},"object":{"type":"Identifier","start":4252,"end":4263,"loc":{"start":{"line":118,"column":37},"end":{"line":118,"column":48}},"name":"middlewares"},"property":{"type":"Identifier","start":4264,"end":4285,"loc":{"start":{"line":118,"column":49},"end":{"line":118,"column":70}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":4287,"end":4310,"loc":{"start":{"line":118,"column":72},"end":{"line":118,"column":95}},"object":{"type":"Identifier","start":4287,"end":4298,"loc":{"start":{"line":118,"column":72},"end":{"line":118,"column":83}},"name":"middlewares"},"property":{"type":"Identifier","start":4299,"end":4310,"loc":{"start":{"line":118,"column":84},"end":{"line":118,"column":95}},"name":"verifyToken"},"computed":false},{"type":"MemberExpression","start":4312,"end":4327,"loc":{"start":{"line":118,"column":97},"end":{"line":118,"column":112}},"object":{"type":"Identifier","start":4312,"end":4323,"loc":{"start":{"line":118,"column":97},"end":{"line":118,"column":108}},"name":"controllers"},"property":{"type":"Identifier","start":4324,"end":4327,"loc":{"start":{"line":118,"column":109},"end":{"line":118,"column":112}},"name":"get"},"computed":false}]}},{"type":"ExpressionStatement","start":4331,"end":4482,"loc":{"start":{"line":119,"column":2},"end":{"line":119,"column":153}},"expression":{"type":"CallExpression","start":4331,"end":4482,"loc":{"start":{"line":119,"column":2},"end":{"line":119,"column":153}},"callee":{"type":"MemberExpression","start":4331,"end":4338,"loc":{"start":{"line":119,"column":2},"end":{"line":119,"column":9}},"object":{"type":"Identifier","start":4331,"end":4334,"loc":{"start":{"line":119,"column":2},"end":{"line":119,"column":5}},"name":"app"},"property":{"type":"Identifier","start":4335,"end":4338,"loc":{"start":{"line":119,"column":6},"end":{"line":119,"column":9}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":4339,"end":4369,"loc":{"start":{"line":119,"column":10},"end":{"line":119,"column":40}},"value":"/:providerName/thumbnail/:id","raw":"'/:providerName/thumbnail/:id'"},{"type":"MemberExpression","start":4371,"end":4404,"loc":{"start":{"line":119,"column":42},"end":{"line":119,"column":75}},"object":{"type":"Identifier","start":4371,"end":4382,"loc":{"start":{"line":119,"column":42},"end":{"line":119,"column":53}},"name":"middlewares"},"property":{"type":"Identifier","start":4383,"end":4404,"loc":{"start":{"line":119,"column":54},"end":{"line":119,"column":75}},"name":"hasSessionAndProvider"},"computed":false},{"type":"MemberExpression","start":4406,"end":4433,"loc":{"start":{"line":119,"column":77},"end":{"line":119,"column":104}},"object":{"type":"Identifier","start":4406,"end":4417,"loc":{"start":{"line":119,"column":77},"end":{"line":119,"column":88}},"name":"middlewares"},"property":{"type":"Identifier","start":4418,"end":4433,"loc":{"start":{"line":119,"column":89},"end":{"line":119,"column":104}},"name":"cookieAuthToken"},"computed":false},{"type":"MemberExpression","start":4435,"end":4458,"loc":{"start":{"line":119,"column":106},"end":{"line":119,"column":129}},"object":{"type":"Identifier","start":4435,"end":4446,"loc":{"start":{"line":119,"column":106},"end":{"line":119,"column":117}},"name":"middlewares"},"property":{"type":"Identifier","start":4447,"end":4458,"loc":{"start":{"line":119,"column":118},"end":{"line":119,"column":129}},"name":"verifyToken"},"computed":false},{"type":"MemberExpression","start":4460,"end":4481,"loc":{"start":{"line":119,"column":131},"end":{"line":119,"column":152}},"object":{"type":"Identifier","start":4460,"end":4471,"loc":{"start":{"line":119,"column":131},"end":{"line":119,"column":142}},"name":"controllers"},"property":{"type":"Identifier","start":4472,"end":4481,"loc":{"start":{"line":119,"column":143},"end":{"line":119,"column":152}},"name":"thumbnail"},"computed":false}]}},{"type":"ExpressionStatement","start":4486,"end":4561,"loc":{"start":{"line":121,"column":2},"end":{"line":121,"column":77}},"expression":{"type":"CallExpression","start":4486,"end":4561,"loc":{"start":{"line":121,"column":2},"end":{"line":121,"column":77}},"callee":{"type":"MemberExpression","start":4486,"end":4495,"loc":{"start":{"line":121,"column":2},"end":{"line":121,"column":11}},"object":{"type":"Identifier","start":4486,"end":4489,"loc":{"start":{"line":121,"column":2},"end":{"line":121,"column":5}},"name":"app"},"property":{"type":"Identifier","start":4490,"end":4495,"loc":{"start":{"line":121,"column":6},"end":{"line":121,"column":11}},"name":"param"},"computed":false},"arguments":[{"type":"Literal","start":4496,"end":4510,"loc":{"start":{"line":121,"column":12},"end":{"line":121,"column":26}},"value":"providerName","raw":"'providerName'"},{"type":"CallExpression","start":4512,"end":4560,"loc":{"start":{"line":121,"column":28},"end":{"line":121,"column":76}},"callee":{"type":"MemberExpression","start":4512,"end":4549,"loc":{"start":{"line":121,"column":28},"end":{"line":121,"column":65}},"object":{"type":"Identifier","start":4512,"end":4527,"loc":{"start":{"line":121,"column":28},"end":{"line":121,"column":43}},"name":"providerManager"},"property":{"type":"Identifier","start":4528,"end":4549,"loc":{"start":{"line":121,"column":44},"end":{"line":121,"column":65}},"name":"getProviderMiddleware"},"computed":false},"arguments":[{"type":"Identifier","start":4550,"end":4559,"loc":{"start":{"line":121,"column":66},"end":{"line":121,"column":75}},"name":"providers"}]}]}},{"type":"IfStatement","start":4565,"end":4644,"loc":{"start":{"line":123,"column":2},"end":{"line":125,"column":3}},"test":{"type":"BinaryExpression","start":4569,"end":4594,"loc":{"start":{"line":123,"column":6},"end":{"line":123,"column":31}},"left":{"type":"CallExpression","start":4569,"end":4583,"loc":{"start":{"line":123,"column":6},"end":{"line":123,"column":20}},"callee":{"type":"MemberExpression","start":4569,"end":4576,"loc":{"start":{"line":123,"column":6},"end":{"line":123,"column":13}},"object":{"type":"Identifier","start":4569,"end":4572,"loc":{"start":{"line":123,"column":6},"end":{"line":123,"column":9}},"name":"app"},"property":{"type":"Identifier","start":4573,"end":4576,"loc":{"start":{"line":123,"column":10},"end":{"line":123,"column":13}},"name":"get"},"computed":false},"arguments":[{"type":"Literal","start":4577,"end":4582,"loc":{"start":{"line":123,"column":14},"end":{"line":123,"column":19}},"value":"env","raw":"'env'"}]},"operator":"!==","right":{"type":"Literal","start":4588,"end":4594,"loc":{"start":{"line":123,"column":25},"end":{"line":123,"column":31}},"value":"test","raw":"'test'"}},"consequent":{"type":"BlockStatement","start":4596,"end":4644,"loc":{"start":{"line":123,"column":33},"end":{"line":125,"column":3}},"body":[{"type":"ExpressionStatement","start":4602,"end":4640,"loc":{"start":{"line":124,"column":4},"end":{"line":124,"column":42}},"expression":{"type":"CallExpression","start":4602,"end":4640,"loc":{"start":{"line":124,"column":4},"end":{"line":124,"column":42}},"callee":{"type":"MemberExpression","start":4602,"end":4622,"loc":{"start":{"line":124,"column":4},"end":{"line":124,"column":24}},"object":{"type":"Identifier","start":4602,"end":4606,"loc":{"start":{"line":124,"column":4},"end":{"line":124,"column":8}},"name":"jobs"},"property":{"type":"Identifier","start":4607,"end":4622,"loc":{"start":{"line":124,"column":9},"end":{"line":124,"column":24}},"name":"startCleanUpJob"},"computed":false},"arguments":[{"type":"MemberExpression","start":4623,"end":4639,"loc":{"start":{"line":124,"column":25},"end":{"line":124,"column":41}},"object":{"type":"Identifier","start":4623,"end":4630,"loc":{"start":{"line":124,"column":25},"end":{"line":124,"column":32}},"name":"options"},"property":{"type":"Identifier","start":4631,"end":4639,"loc":{"start":{"line":124,"column":33},"end":{"line":124,"column":41}},"name":"filePath"},"computed":false}]}}]},"alternate":null},{"type":"ReturnStatement","start":4648,"end":4658,"loc":{"start":{"line":127,"column":2},"end":{"line":127,"column":12}},"argument":{"type":"Identifier","start":4655,"end":4658,"loc":{"start":{"line":127,"column":9},"end":{"line":127,"column":12}},"name":"app"}}]}}}},{"type":"ExpressionStatement","start":4762,"end":6514,"loc":{"start":{"line":135,"column":0},"end":{"line":187,"column":1}},"expression":{"type":"AssignmentExpression","start":4762,"end":6514,"loc":{"start":{"line":135,"column":0},"end":{"line":187,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":4762,"end":4783,"loc":{"start":{"line":135,"column":0},"end":{"line":135,"column":21}},"object":{"type":"MemberExpression","start":4762,"end":4776,"loc":{"start":{"line":135,"column":0},"end":{"line":135,"column":14}},"object":{"type":"Identifier","start":4762,"end":4768,"loc":{"start":{"line":135,"column":0},"end":{"line":135,"column":6}},"name":"module"},"property":{"type":"Identifier","start":4769,"end":4776,"loc":{"start":{"line":135,"column":7},"end":{"line":135,"column":14}},"name":"exports"},"computed":false},"property":{"type":"Identifier","start":4777,"end":4783,"loc":{"start":{"line":135,"column":15},"end":{"line":135,"column":21}},"name":"socket"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":4786,"end":6514,"loc":{"start":{"line":135,"column":24},"end":{"line":187,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4787,"end":4793,"loc":{"start":{"line":135,"column":25},"end":{"line":135,"column":31}},"name":"server"}],"body":{"type":"BlockStatement","start":4798,"end":6514,"loc":{"start":{"line":135,"column":36},"end":{"line":187,"column":1}},"body":[{"type":"VariableDeclaration","start":4802,"end":4842,"loc":{"start":{"line":136,"column":2},"end":{"line":136,"column":42}},"declarations":[{"type":"VariableDeclarator","start":4808,"end":4842,"loc":{"start":{"line":136,"column":8},"end":{"line":136,"column":42}},"id":{"type":"Identifier","start":4808,"end":4811,"loc":{"start":{"line":136,"column":8},"end":{"line":136,"column":11}},"name":"wss"},"init":{"type":"NewExpression","start":4814,"end":4842,"loc":{"start":{"line":136,"column":14},"end":{"line":136,"column":42}},"callee":{"type":"Identifier","start":4818,"end":4830,"loc":{"start":{"line":136,"column":18},"end":{"line":136,"column":30}},"name":"SocketServer"},"arguments":[{"type":"ObjectExpression","start":4831,"end":4841,"loc":{"start":{"line":136,"column":31},"end":{"line":136,"column":41}},"properties":[{"type":"Property","start":4833,"end":4839,"loc":{"start":{"line":136,"column":33},"end":{"line":136,"column":39}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":4833,"end":4839,"loc":{"start":{"line":136,"column":33},"end":{"line":136,"column":39}},"name":"server"},"kind":"init","value":{"type":"Identifier","start":4833,"end":4839,"loc":{"start":{"line":136,"column":33},"end":{"line":136,"column":39}},"name":"server"}}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":4845,"end":4879,"loc":{"start":{"line":137,"column":2},"end":{"line":137,"column":36}},"declarations":[{"type":"VariableDeclarator","start":4851,"end":4879,"loc":{"start":{"line":137,"column":8},"end":{"line":137,"column":36}},"id":{"type":"Identifier","start":4851,"end":4862,"loc":{"start":{"line":137,"column":8},"end":{"line":137,"column":19}},"name":"redisClient"},"init":{"type":"CallExpression","start":4865,"end":4879,"loc":{"start":{"line":137,"column":22},"end":{"line":137,"column":36}},"callee":{"type":"MemberExpression","start":4865,"end":4877,"loc":{"start":{"line":137,"column":22},"end":{"line":137,"column":34}},"object":{"type":"Identifier","start":4865,"end":4870,"loc":{"start":{"line":137,"column":22},"end":{"line":137,"column":27}},"name":"redis"},"property":{"type":"Identifier","start":4871,"end":4877,"loc":{"start":{"line":137,"column":28},"end":{"line":137,"column":34}},"name":"client"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":5045,"end":6512,"loc":{"start":{"line":142,"column":2},"end":{"line":186,"column":4}},"expression":{"type":"CallExpression","start":5045,"end":6512,"loc":{"start":{"line":142,"column":2},"end":{"line":186,"column":4}},"callee":{"type":"MemberExpression","start":5045,"end":5051,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":8}},"object":{"type":"Identifier","start":5045,"end":5048,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":5}},"name":"wss"},"property":{"type":"Identifier","start":5049,"end":5051,"loc":{"start":{"line":142,"column":6},"end":{"line":142,"column":8}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":5052,"end":5064,"loc":{"start":{"line":142,"column":9},"end":{"line":142,"column":21}},"value":"connection","raw":"'connection'"},{"type":"ArrowFunctionExpression","start":5066,"end":6511,"loc":{"start":{"line":142,"column":23},"end":{"line":186,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5067,"end":5069,"loc":{"start":{"line":142,"column":24},"end":{"line":142,"column":26}},"name":"ws"},{"type":"Identifier","start":5071,"end":5074,"loc":{"start":{"line":142,"column":28},"end":{"line":142,"column":31}},"name":"req"}],"body":{"type":"BlockStatement","start":5079,"end":6511,"loc":{"start":{"line":142,"column":36},"end":{"line":186,"column":3}},"body":[{"type":"VariableDeclaration","start":5103,"end":5127,"loc":{"start":{"line":144,"column":4},"end":{"line":144,"column":28}},"declarations":[{"type":"VariableDeclarator","start":5109,"end":5127,"loc":{"start":{"line":144,"column":10},"end":{"line":144,"column":28}},"id":{"type":"Identifier","start":5109,"end":5117,"loc":{"start":{"line":144,"column":10},"end":{"line":144,"column":18}},"name":"fullPath"},"init":{"type":"MemberExpression","start":5120,"end":5127,"loc":{"start":{"line":144,"column":21},"end":{"line":144,"column":28}},"object":{"type":"Identifier","start":5120,"end":5123,"loc":{"start":{"line":144,"column":21},"end":{"line":144,"column":24}},"name":"req"},"property":{"type":"Identifier","start":5124,"end":5127,"loc":{"start":{"line":144,"column":25},"end":{"line":144,"column":28}},"name":"url"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":5243,"end":5291,"loc":{"start":{"line":147,"column":4},"end":{"line":147,"column":52}},"declarations":[{"type":"VariableDeclarator","start":5249,"end":5291,"loc":{"start":{"line":147,"column":10},"end":{"line":147,"column":52}},"id":{"type":"Identifier","start":5249,"end":5254,"loc":{"start":{"line":147,"column":10},"end":{"line":147,"column":15}},"name":"token"},"init":{"type":"CallExpression","start":5257,"end":5291,"loc":{"start":{"line":147,"column":18},"end":{"line":147,"column":52}},"callee":{"type":"MemberExpression","start":5257,"end":5273,"loc":{"start":{"line":147,"column":18},"end":{"line":147,"column":34}},"object":{"type":"Identifier","start":5257,"end":5265,"loc":{"start":{"line":147,"column":18},"end":{"line":147,"column":26}},"name":"fullPath"},"property":{"type":"Identifier","start":5266,"end":5273,"loc":{"start":{"line":147,"column":27},"end":{"line":147,"column":34}},"name":"replace"},"computed":false},"arguments":[{"type":"Literal","start":5274,"end":5286,"loc":{"start":{"line":147,"column":35},"end":{"line":147,"column":47}},"value":{},"raw":"/^.*\\/api\\//","regex":{"pattern":"^.*\\/api\\/","flags":""}},{"type":"Literal","start":5288,"end":5290,"loc":{"start":{"line":147,"column":49},"end":{"line":147,"column":51}},"value":"","raw":"''"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":5296,"end":5362,"loc":{"start":{"line":148,"column":4},"end":{"line":148,"column":70}},"expression":{"type":"CallExpression","start":5296,"end":5362,"loc":{"start":{"line":148,"column":4},"end":{"line":148,"column":70}},"callee":{"type":"MemberExpression","start":5296,"end":5307,"loc":{"start":{"line":148,"column":4},"end":{"line":148,"column":15}},"object":{"type":"Identifier","start":5296,"end":5302,"loc":{"start":{"line":148,"column":4},"end":{"line":148,"column":10}},"name":"logger"},"property":{"type":"Identifier","start":5303,"end":5307,"loc":{"start":{"line":148,"column":11},"end":{"line":148,"column":15}},"name":"info"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":5308,"end":5343,"loc":{"start":{"line":148,"column":16},"end":{"line":148,"column":51}},"expressions":[{"type":"Identifier","start":5336,"end":5341,"loc":{"start":{"line":148,"column":44},"end":{"line":148,"column":49}},"name":"token"}],"quasis":[{"type":"TemplateElement","start":5309,"end":5334,"loc":{"start":{"line":148,"column":17},"end":{"line":148,"column":42}},"value":{"raw":"connection received from ","cooked":"connection received from "},"tail":false},{"type":"TemplateElement","start":5342,"end":5342,"loc":{"start":{"line":148,"column":50},"end":{"line":148,"column":50}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"Literal","start":5345,"end":5361,"loc":{"start":{"line":148,"column":53},"end":{"line":148,"column":69}},"value":"socket.connect","raw":"'socket.connect'"}]}},{"type":"FunctionDeclaration","start":5446,"end":5618,"loc":{"start":{"line":154,"column":4},"end":{"line":158,"column":5}},"id":{"type":"Identifier","start":5455,"end":5467,"loc":{"start":{"line":154,"column":13},"end":{"line":154,"column":25}},"name":"sendProgress"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5469,"end":5473,"loc":{"start":{"line":154,"column":27},"end":{"line":154,"column":31}},"name":"data"}],"body":{"type":"BlockStatement","start":5475,"end":5618,"loc":{"start":{"line":154,"column":33},"end":{"line":158,"column":5}},"body":[{"type":"ExpressionStatement","start":5483,"end":5612,"loc":{"start":{"line":155,"column":6},"end":{"line":157,"column":8}},"expression":{"type":"CallExpression","start":5483,"end":5612,"loc":{"start":{"line":155,"column":6},"end":{"line":157,"column":8}},"callee":{"type":"MemberExpression","start":5483,"end":5490,"loc":{"start":{"line":155,"column":6},"end":{"line":155,"column":13}},"object":{"type":"Identifier","start":5483,"end":5485,"loc":{"start":{"line":155,"column":6},"end":{"line":155,"column":8}},"name":"ws"},"property":{"type":"Identifier","start":5486,"end":5490,"loc":{"start":{"line":155,"column":9},"end":{"line":155,"column":13}},"name":"send"},"computed":false},"arguments":[{"type":"CallExpression","start":5491,"end":5510,"loc":{"start":{"line":155,"column":14},"end":{"line":155,"column":33}},"callee":{"type":"Identifier","start":5491,"end":5504,"loc":{"start":{"line":155,"column":14},"end":{"line":155,"column":27}},"name":"jsonStringify"},"arguments":[{"type":"Identifier","start":5505,"end":5509,"loc":{"start":{"line":155,"column":28},"end":{"line":155,"column":32}},"name":"data"}]},{"type":"ArrowFunctionExpression","start":5512,"end":5611,"loc":{"start":{"line":155,"column":35},"end":{"line":157,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5513,"end":5516,"loc":{"start":{"line":155,"column":36},"end":{"line":155,"column":39}},"name":"err"}],"body":{"type":"BlockStatement","start":5521,"end":5611,"loc":{"start":{"line":155,"column":44},"end":{"line":157,"column":7}},"body":[{"type":"IfStatement","start":5531,"end":5603,"loc":{"start":{"line":156,"column":8},"end":{"line":156,"column":80}},"test":{"type":"Identifier","start":5535,"end":5538,"loc":{"start":{"line":156,"column":12},"end":{"line":156,"column":15}},"name":"err"},"consequent":{"type":"ExpressionStatement","start":5540,"end":5603,"loc":{"start":{"line":156,"column":17},"end":{"line":156,"column":80}},"expression":{"type":"CallExpression","start":5540,"end":5603,"loc":{"start":{"line":156,"column":17},"end":{"line":156,"column":80}},"callee":{"type":"MemberExpression","start":5540,"end":5552,"loc":{"start":{"line":156,"column":17},"end":{"line":156,"column":29}},"object":{"type":"Identifier","start":5540,"end":5546,"loc":{"start":{"line":156,"column":17},"end":{"line":156,"column":23}},"name":"logger"},"property":{"type":"Identifier","start":5547,"end":5552,"loc":{"start":{"line":156,"column":24},"end":{"line":156,"column":29}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":5553,"end":5556,"loc":{"start":{"line":156,"column":30},"end":{"line":156,"column":33}},"name":"err"},{"type":"Literal","start":5558,"end":5581,"loc":{"start":{"line":156,"column":35},"end":{"line":156,"column":58}},"value":"socket.progress.error","raw":"'socket.progress.error'"},{"type":"CallExpression","start":5583,"end":5602,"loc":{"start":{"line":156,"column":60},"end":{"line":156,"column":79}},"callee":{"type":"Identifier","start":5583,"end":5595,"loc":{"start":{"line":156,"column":60},"end":{"line":156,"column":72}},"name":"shortenToken"},"arguments":[{"type":"Identifier","start":5596,"end":5601,"loc":{"start":{"line":156,"column":73},"end":{"line":156,"column":78}},"name":"token"}]}]}},"alternate":null}]}}]}}]}},{"type":"IfStatement","start":5767,"end":6083,"loc":{"start":{"line":162,"column":4},"end":{"line":170,"column":5}},"test":{"type":"Identifier","start":5771,"end":5782,"loc":{"start":{"line":162,"column":8},"end":{"line":162,"column":19}},"name":"redisClient"},"consequent":{"type":"BlockStatement","start":5784,"end":6083,"loc":{"start":{"line":162,"column":21},"end":{"line":170,"column":5}},"body":[{"type":"ExpressionStatement","start":5792,"end":6077,"loc":{"start":{"line":163,"column":6},"end":{"line":169,"column":8}},"expression":{"type":"CallExpression","start":5792,"end":6077,"loc":{"start":{"line":163,"column":6},"end":{"line":169,"column":8}},"callee":{"type":"MemberExpression","start":5792,"end":5807,"loc":{"start":{"line":163,"column":6},"end":{"line":163,"column":21}},"object":{"type":"Identifier","start":5792,"end":5803,"loc":{"start":{"line":163,"column":6},"end":{"line":163,"column":17}},"name":"redisClient"},"property":{"type":"Identifier","start":5804,"end":5807,"loc":{"start":{"line":163,"column":18},"end":{"line":163,"column":21}},"name":"get"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":5808,"end":5836,"loc":{"start":{"line":163,"column":22},"end":{"line":163,"column":50}},"expressions":[{"type":"Identifier","start":5811,"end":5825,"loc":{"start":{"line":163,"column":25},"end":{"line":163,"column":39}},"name":"STORAGE_PREFIX"},{"type":"Identifier","start":5829,"end":5834,"loc":{"start":{"line":163,"column":43},"end":{"line":163,"column":48}},"name":"token"}],"quasis":[{"type":"TemplateElement","start":5809,"end":5809,"loc":{"start":{"line":163,"column":23},"end":{"line":163,"column":23}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":5826,"end":5827,"loc":{"start":{"line":163,"column":40},"end":{"line":163,"column":41}},"value":{"raw":":","cooked":":"},"tail":false},{"type":"TemplateElement","start":5835,"end":5835,"loc":{"start":{"line":163,"column":49},"end":{"line":163,"column":49}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"ArrowFunctionExpression","start":5838,"end":6076,"loc":{"start":{"line":163,"column":52},"end":{"line":169,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5839,"end":5842,"loc":{"start":{"line":163,"column":53},"end":{"line":163,"column":56}},"name":"err"},{"type":"Identifier","start":5844,"end":5848,"loc":{"start":{"line":163,"column":58},"end":{"line":163,"column":62}},"name":"data"}],"body":{"type":"BlockStatement","start":5853,"end":6076,"loc":{"start":{"line":163,"column":67},"end":{"line":169,"column":7}},"body":[{"type":"IfStatement","start":5863,"end":5932,"loc":{"start":{"line":164,"column":8},"end":{"line":164,"column":77}},"test":{"type":"Identifier","start":5867,"end":5870,"loc":{"start":{"line":164,"column":12},"end":{"line":164,"column":15}},"name":"err"},"consequent":{"type":"ExpressionStatement","start":5872,"end":5932,"loc":{"start":{"line":164,"column":17},"end":{"line":164,"column":77}},"expression":{"type":"CallExpression","start":5872,"end":5932,"loc":{"start":{"line":164,"column":17},"end":{"line":164,"column":77}},"callee":{"type":"MemberExpression","start":5872,"end":5884,"loc":{"start":{"line":164,"column":17},"end":{"line":164,"column":29}},"object":{"type":"Identifier","start":5872,"end":5878,"loc":{"start":{"line":164,"column":17},"end":{"line":164,"column":23}},"name":"logger"},"property":{"type":"Identifier","start":5879,"end":5884,"loc":{"start":{"line":164,"column":24},"end":{"line":164,"column":29}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":5885,"end":5888,"loc":{"start":{"line":164,"column":30},"end":{"line":164,"column":33}},"name":"err"},{"type":"Literal","start":5890,"end":5910,"loc":{"start":{"line":164,"column":35},"end":{"line":164,"column":55}},"value":"socket.redis.error","raw":"'socket.redis.error'"},{"type":"CallExpression","start":5912,"end":5931,"loc":{"start":{"line":164,"column":57},"end":{"line":164,"column":76}},"callee":{"type":"Identifier","start":5912,"end":5924,"loc":{"start":{"line":164,"column":57},"end":{"line":164,"column":69}},"name":"shortenToken"},"arguments":[{"type":"Identifier","start":5925,"end":5930,"loc":{"start":{"line":164,"column":70},"end":{"line":164,"column":75}},"name":"token"}]}]}},"alternate":null},{"type":"IfStatement","start":5941,"end":6068,"loc":{"start":{"line":165,"column":8},"end":{"line":168,"column":9}},"test":{"type":"Identifier","start":5945,"end":5949,"loc":{"start":{"line":165,"column":12},"end":{"line":165,"column":16}},"name":"data"},"consequent":{"type":"BlockStatement","start":5951,"end":6068,"loc":{"start":{"line":165,"column":18},"end":{"line":168,"column":9}},"body":[{"type":"VariableDeclaration","start":5963,"end":6006,"loc":{"start":{"line":166,"column":10},"end":{"line":166,"column":53}},"declarations":[{"type":"VariableDeclarator","start":5969,"end":6006,"loc":{"start":{"line":166,"column":16},"end":{"line":166,"column":53}},"id":{"type":"Identifier","start":5969,"end":5976,"loc":{"start":{"line":166,"column":16},"end":{"line":166,"column":23}},"name":"dataObj"},"init":{"type":"CallExpression","start":5979,"end":6006,"loc":{"start":{"line":166,"column":26},"end":{"line":166,"column":53}},"callee":{"type":"MemberExpression","start":5979,"end":5989,"loc":{"start":{"line":166,"column":26},"end":{"line":166,"column":36}},"object":{"type":"Identifier","start":5979,"end":5983,"loc":{"start":{"line":166,"column":26},"end":{"line":166,"column":30}},"name":"JSON"},"property":{"type":"Identifier","start":5984,"end":5989,"loc":{"start":{"line":166,"column":31},"end":{"line":166,"column":36}},"name":"parse"},"computed":false},"arguments":[{"type":"CallExpression","start":5990,"end":6005,"loc":{"start":{"line":166,"column":37},"end":{"line":166,"column":52}},"callee":{"type":"MemberExpression","start":5990,"end":6003,"loc":{"start":{"line":166,"column":37},"end":{"line":166,"column":50}},"object":{"type":"Identifier","start":5990,"end":5994,"loc":{"start":{"line":166,"column":37},"end":{"line":166,"column":41}},"name":"data"},"property":{"type":"Identifier","start":5995,"end":6003,"loc":{"start":{"line":166,"column":42},"end":{"line":166,"column":50}},"name":"toString"},"computed":false},"arguments":[]}]}}],"kind":"const"},{"type":"IfStatement","start":6017,"end":6058,"loc":{"start":{"line":167,"column":10},"end":{"line":167,"column":51}},"test":{"type":"MemberExpression","start":6021,"end":6035,"loc":{"start":{"line":167,"column":14},"end":{"line":167,"column":28}},"object":{"type":"Identifier","start":6021,"end":6028,"loc":{"start":{"line":167,"column":14},"end":{"line":167,"column":21}},"name":"dataObj"},"property":{"type":"Identifier","start":6029,"end":6035,"loc":{"start":{"line":167,"column":22},"end":{"line":167,"column":28}},"name":"action"},"computed":false},"consequent":{"type":"ExpressionStatement","start":6037,"end":6058,"loc":{"start":{"line":167,"column":30},"end":{"line":167,"column":51}},"expression":{"type":"CallExpression","start":6037,"end":6058,"loc":{"start":{"line":167,"column":30},"end":{"line":167,"column":51}},"callee":{"type":"Identifier","start":6037,"end":6049,"loc":{"start":{"line":167,"column":30},"end":{"line":167,"column":42}},"name":"sendProgress"},"arguments":[{"type":"Identifier","start":6050,"end":6057,"loc":{"start":{"line":167,"column":43},"end":{"line":167,"column":50}},"name":"dataObj"}]}},"alternate":null}]},"alternate":null}]}}]}}]},"alternate":null},{"type":"ExpressionStatement","start":6089,"end":6126,"loc":{"start":{"line":172,"column":4},"end":{"line":172,"column":41}},"expression":{"type":"CallExpression","start":6089,"end":6126,"loc":{"start":{"line":172,"column":4},"end":{"line":172,"column":41}},"callee":{"type":"MemberExpression","start":6089,"end":6103,"loc":{"start":{"line":172,"column":4},"end":{"line":172,"column":18}},"object":{"type":"CallExpression","start":6089,"end":6098,"loc":{"start":{"line":172,"column":4},"end":{"line":172,"column":13}},"callee":{"type":"Identifier","start":6089,"end":6096,"loc":{"start":{"line":172,"column":4},"end":{"line":172,"column":11}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":6099,"end":6103,"loc":{"start":{"line":172,"column":14},"end":{"line":172,"column":18}},"name":"emit"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":6104,"end":6125,"loc":{"start":{"line":172,"column":19},"end":{"line":172,"column":40}},"expressions":[{"type":"Identifier","start":6118,"end":6123,"loc":{"start":{"line":172,"column":33},"end":{"line":172,"column":38}},"name":"token"}],"quasis":[{"type":"TemplateElement","start":6105,"end":6116,"loc":{"start":{"line":172,"column":20},"end":{"line":172,"column":31}},"value":{"raw":"connection:","cooked":"connection:"},"tail":false},{"type":"TemplateElement","start":6124,"end":6124,"loc":{"start":{"line":172,"column":39},"end":{"line":172,"column":39}},"value":{"raw":"","cooked":""},"tail":true}]}]}},{"type":"ExpressionStatement","start":6131,"end":6164,"loc":{"start":{"line":173,"column":4},"end":{"line":173,"column":37}},"expression":{"type":"CallExpression","start":6131,"end":6164,"loc":{"start":{"line":173,"column":4},"end":{"line":173,"column":37}},"callee":{"type":"MemberExpression","start":6131,"end":6143,"loc":{"start":{"line":173,"column":4},"end":{"line":173,"column":16}},"object":{"type":"CallExpression","start":6131,"end":6140,"loc":{"start":{"line":173,"column":4},"end":{"line":173,"column":13}},"callee":{"type":"Identifier","start":6131,"end":6138,"loc":{"start":{"line":173,"column":4},"end":{"line":173,"column":11}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":6141,"end":6143,"loc":{"start":{"line":173,"column":14},"end":{"line":173,"column":16}},"name":"on"},"computed":false},"arguments":[{"type":"Identifier","start":6144,"end":6149,"loc":{"start":{"line":173,"column":17},"end":{"line":173,"column":22}},"name":"token"},{"type":"Identifier","start":6151,"end":6163,"loc":{"start":{"line":173,"column":24},"end":{"line":173,"column":36}},"name":"sendProgress"}]}},{"type":"ExpressionStatement","start":6170,"end":6420,"loc":{"start":{"line":175,"column":4},"end":{"line":181,"column":6}},"expression":{"type":"CallExpression","start":6170,"end":6420,"loc":{"start":{"line":175,"column":4},"end":{"line":181,"column":6}},"callee":{"type":"MemberExpression","start":6170,"end":6175,"loc":{"start":{"line":175,"column":4},"end":{"line":175,"column":9}},"object":{"type":"Identifier","start":6170,"end":6172,"loc":{"start":{"line":175,"column":4},"end":{"line":175,"column":6}},"name":"ws"},"property":{"type":"Identifier","start":6173,"end":6175,"loc":{"start":{"line":175,"column":7},"end":{"line":175,"column":9}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":6176,"end":6185,"loc":{"start":{"line":175,"column":10},"end":{"line":175,"column":19}},"value":"message","raw":"'message'"},{"type":"ArrowFunctionExpression","start":6187,"end":6419,"loc":{"start":{"line":175,"column":21},"end":{"line":181,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6188,"end":6196,"loc":{"start":{"line":175,"column":22},"end":{"line":175,"column":30}},"name":"jsonData"}],"body":{"type":"BlockStatement","start":6201,"end":6419,"loc":{"start":{"line":175,"column":35},"end":{"line":181,"column":5}},"body":[{"type":"VariableDeclaration","start":6209,"end":6253,"loc":{"start":{"line":176,"column":6},"end":{"line":176,"column":50}},"declarations":[{"type":"VariableDeclarator","start":6215,"end":6253,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":50}},"id":{"type":"Identifier","start":6215,"end":6219,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":16}},"name":"data"},"init":{"type":"CallExpression","start":6222,"end":6253,"loc":{"start":{"line":176,"column":19},"end":{"line":176,"column":50}},"callee":{"type":"MemberExpression","start":6222,"end":6232,"loc":{"start":{"line":176,"column":19},"end":{"line":176,"column":29}},"object":{"type":"Identifier","start":6222,"end":6226,"loc":{"start":{"line":176,"column":19},"end":{"line":176,"column":23}},"name":"JSON"},"property":{"type":"Identifier","start":6227,"end":6232,"loc":{"start":{"line":176,"column":24},"end":{"line":176,"column":29}},"name":"parse"},"computed":false},"arguments":[{"type":"CallExpression","start":6233,"end":6252,"loc":{"start":{"line":176,"column":30},"end":{"line":176,"column":49}},"callee":{"type":"MemberExpression","start":6233,"end":6250,"loc":{"start":{"line":176,"column":30},"end":{"line":176,"column":47}},"object":{"type":"Identifier","start":6233,"end":6241,"loc":{"start":{"line":176,"column":30},"end":{"line":176,"column":38}},"name":"jsonData"},"property":{"type":"Identifier","start":6242,"end":6250,"loc":{"start":{"line":176,"column":39},"end":{"line":176,"column":47}},"name":"toString"},"computed":false},"arguments":[]}]}}],"kind":"const"},{"type":"IfStatement","start":6297,"end":6413,"loc":{"start":{"line":178,"column":6},"end":{"line":180,"column":7}},"test":{"type":"CallExpression","start":6301,"end":6352,"loc":{"start":{"line":178,"column":10},"end":{"line":178,"column":61}},"callee":{"type":"MemberExpression","start":6301,"end":6339,"loc":{"start":{"line":178,"column":10},"end":{"line":178,"column":48}},"object":{"type":"ArrayExpression","start":6301,"end":6330,"loc":{"start":{"line":178,"column":10},"end":{"line":178,"column":39}},"elements":[{"type":"Literal","start":6302,"end":6309,"loc":{"start":{"line":178,"column":11},"end":{"line":178,"column":18}},"value":"pause","raw":"'pause'"},{"type":"Literal","start":6311,"end":6319,"loc":{"start":{"line":178,"column":20},"end":{"line":178,"column":28}},"value":"resume","raw":"'resume'"},{"type":"Literal","start":6321,"end":6329,"loc":{"start":{"line":178,"column":30},"end":{"line":178,"column":38}},"value":"cancel","raw":"'cancel'"}]},"property":{"type":"Identifier","start":6331,"end":6339,"loc":{"start":{"line":178,"column":40},"end":{"line":178,"column":48}},"name":"includes"},"computed":false},"arguments":[{"type":"MemberExpression","start":6340,"end":6351,"loc":{"start":{"line":178,"column":49},"end":{"line":178,"column":60}},"object":{"type":"Identifier","start":6340,"end":6344,"loc":{"start":{"line":178,"column":49},"end":{"line":178,"column":53}},"name":"data"},"property":{"type":"Identifier","start":6345,"end":6351,"loc":{"start":{"line":178,"column":54},"end":{"line":178,"column":60}},"name":"action"},"computed":false}]},"consequent":{"type":"BlockStatement","start":6354,"end":6413,"loc":{"start":{"line":178,"column":63},"end":{"line":180,"column":7}},"body":[{"type":"ExpressionStatement","start":6364,"end":6405,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":49}},"expression":{"type":"CallExpression","start":6364,"end":6405,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":49}},"callee":{"type":"MemberExpression","start":6364,"end":6378,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":22}},"object":{"type":"CallExpression","start":6364,"end":6373,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":17}},"callee":{"type":"Identifier","start":6364,"end":6371,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":15}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":6374,"end":6378,"loc":{"start":{"line":179,"column":18},"end":{"line":179,"column":22}},"name":"emit"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":6379,"end":6404,"loc":{"start":{"line":179,"column":23},"end":{"line":179,"column":48}},"expressions":[{"type":"MemberExpression","start":6382,"end":6393,"loc":{"start":{"line":179,"column":26},"end":{"line":179,"column":37}},"object":{"type":"Identifier","start":6382,"end":6386,"loc":{"start":{"line":179,"column":26},"end":{"line":179,"column":30}},"name":"data"},"property":{"type":"Identifier","start":6387,"end":6393,"loc":{"start":{"line":179,"column":31},"end":{"line":179,"column":37}},"name":"action"},"computed":false},{"type":"Identifier","start":6397,"end":6402,"loc":{"start":{"line":179,"column":41},"end":{"line":179,"column":46}},"name":"token"}],"quasis":[{"type":"TemplateElement","start":6380,"end":6380,"loc":{"start":{"line":179,"column":24},"end":{"line":179,"column":24}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":6394,"end":6395,"loc":{"start":{"line":179,"column":38},"end":{"line":179,"column":39}},"value":{"raw":":","cooked":":"},"tail":false},{"type":"TemplateElement","start":6403,"end":6403,"loc":{"start":{"line":179,"column":47},"end":{"line":179,"column":47}},"value":{"raw":"","cooked":""},"tail":true}]}]}}]},"alternate":null}]}}]}},{"type":"ExpressionStatement","start":6426,"end":6507,"loc":{"start":{"line":183,"column":4},"end":{"line":185,"column":6}},"expression":{"type":"CallExpression","start":6426,"end":6507,"loc":{"start":{"line":183,"column":4},"end":{"line":185,"column":6}},"callee":{"type":"MemberExpression","start":6426,"end":6431,"loc":{"start":{"line":183,"column":4},"end":{"line":183,"column":9}},"object":{"type":"Identifier","start":6426,"end":6428,"loc":{"start":{"line":183,"column":4},"end":{"line":183,"column":6}},"name":"ws"},"property":{"type":"Identifier","start":6429,"end":6431,"loc":{"start":{"line":183,"column":7},"end":{"line":183,"column":9}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":6432,"end":6439,"loc":{"start":{"line":183,"column":10},"end":{"line":183,"column":17}},"value":"close","raw":"'close'"},{"type":"ArrowFunctionExpression","start":6441,"end":6506,"loc":{"start":{"line":183,"column":19},"end":{"line":185,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":6447,"end":6506,"loc":{"start":{"line":183,"column":25},"end":{"line":185,"column":5}},"body":[{"type":"ExpressionStatement","start":6455,"end":6500,"loc":{"start":{"line":184,"column":6},"end":{"line":184,"column":51}},"expression":{"type":"CallExpression","start":6455,"end":6500,"loc":{"start":{"line":184,"column":6},"end":{"line":184,"column":51}},"callee":{"type":"MemberExpression","start":6455,"end":6479,"loc":{"start":{"line":184,"column":6},"end":{"line":184,"column":30}},"object":{"type":"CallExpression","start":6455,"end":6464,"loc":{"start":{"line":184,"column":6},"end":{"line":184,"column":15}},"callee":{"type":"Identifier","start":6455,"end":6462,"loc":{"start":{"line":184,"column":6},"end":{"line":184,"column":13}},"name":"emitter"},"arguments":[]},"property":{"type":"Identifier","start":6465,"end":6479,"loc":{"start":{"line":184,"column":16},"end":{"line":184,"column":30}},"name":"removeListener"},"computed":false},"arguments":[{"type":"Identifier","start":6480,"end":6485,"loc":{"start":{"line":184,"column":31},"end":{"line":184,"column":36}},"name":"token"},{"type":"Identifier","start":6487,"end":6499,"loc":{"start":{"line":184,"column":38},"end":{"line":184,"column":50}},"name":"sendProgress"}]}}]}}]}}]}}]}}]}}}},{"type":"VariableDeclaration","start":6613,"end":7436,"loc":{"start":{"line":191,"column":0},"end":{"line":213,"column":2}},"declarations":[{"type":"VariableDeclarator","start":6619,"end":7436,"loc":{"start":{"line":191,"column":6},"end":{"line":213,"column":2}},"id":{"type":"Identifier","start":6619,"end":6646,"loc":{"start":{"line":191,"column":6},"end":{"line":191,"column":33}},"name":"interceptGrantErrorResponse"},"init":{"type":"CallExpression","start":6649,"end":7436,"loc":{"start":{"line":191,"column":36},"end":{"line":213,"column":2}},"callee":{"type":"Identifier","start":6649,"end":6660,"loc":{"start":{"line":191,"column":36},"end":{"line":191,"column":47}},"name":"interceptor"},"arguments":[{"type":"ArrowFunctionExpression","start":6661,"end":7435,"loc":{"start":{"line":191,"column":48},"end":{"line":213,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6662,"end":6665,"loc":{"start":{"line":191,"column":49},"end":{"line":191,"column":52}},"name":"req"},{"type":"Identifier","start":6667,"end":6670,"loc":{"start":{"line":191,"column":54},"end":{"line":191,"column":57}},"name":"res"}],"body":{"type":"BlockStatement","start":6675,"end":7435,"loc":{"start":{"line":191,"column":62},"end":{"line":213,"column":1}},"body":[{"type":"ReturnStatement","start":6679,"end":7433,"loc":{"start":{"line":192,"column":2},"end":{"line":212,"column":3}},"argument":{"type":"ObjectExpression","start":6686,"end":7433,"loc":{"start":{"line":192,"column":9},"end":{"line":212,"column":3}},"properties":[{"type":"Property","start":6692,"end":6816,"loc":{"start":{"line":193,"column":4},"end":{"line":196,"column":5}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6692,"end":6707,"loc":{"start":{"line":193,"column":4},"end":{"line":193,"column":19}},"name":"isInterceptable"},"value":{"type":"ArrowFunctionExpression","start":6709,"end":6816,"loc":{"start":{"line":193,"column":21},"end":{"line":196,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":6715,"end":6816,"loc":{"start":{"line":193,"column":27},"end":{"line":196,"column":5}},"body":[{"type":"ReturnStatement","start":6761,"end":6810,"loc":{"start":{"line":195,"column":6},"end":{"line":195,"column":55}},"argument":{"type":"CallExpression","start":6768,"end":6810,"loc":{"start":{"line":195,"column":13},"end":{"line":195,"column":55}},"callee":{"type":"MemberExpression","start":6768,"end":6800,"loc":{"start":{"line":195,"column":13},"end":{"line":195,"column":45}},"object":{"type":"Literal","start":6768,"end":6795,"loc":{"start":{"line":195,"column":13},"end":{"line":195,"column":40}},"value":{},"raw":"/^\\/connect\\/\\w+\\/callback/","regex":{"pattern":"^\\/connect\\/\\w+\\/callback","flags":""}},"property":{"type":"Identifier","start":6796,"end":6800,"loc":{"start":{"line":195,"column":41},"end":{"line":195,"column":45}},"name":"test"},"computed":false},"arguments":[{"type":"MemberExpression","start":6801,"end":6809,"loc":{"start":{"line":195,"column":46},"end":{"line":195,"column":54}},"object":{"type":"Identifier","start":6801,"end":6804,"loc":{"start":{"line":195,"column":46},"end":{"line":195,"column":49}},"name":"req"},"property":{"type":"Identifier","start":6805,"end":6809,"loc":{"start":{"line":195,"column":50},"end":{"line":195,"column":54}},"name":"path"},"computed":false}]}}]}},"kind":"init"},{"type":"Property","start":6822,"end":7429,"loc":{"start":{"line":197,"column":4},"end":{"line":211,"column":5}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6822,"end":6831,"loc":{"start":{"line":197,"column":4},"end":{"line":197,"column":13}},"name":"intercept"},"value":{"type":"ArrowFunctionExpression","start":6833,"end":7429,"loc":{"start":{"line":197,"column":15},"end":{"line":211,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6834,"end":6838,"loc":{"start":{"line":197,"column":16},"end":{"line":197,"column":20}},"name":"body"},{"type":"Identifier","start":6840,"end":6844,"loc":{"start":{"line":197,"column":22},"end":{"line":197,"column":26}},"name":"send"}],"body":{"type":"BlockStatement","start":6849,"end":7429,"loc":{"start":{"line":197,"column":31},"end":{"line":211,"column":5}},"body":[{"type":"VariableDeclaration","start":6857,"end":6946,"loc":{"start":{"line":198,"column":6},"end":{"line":198,"column":95}},"declarations":[{"type":"VariableDeclarator","start":6863,"end":6946,"loc":{"start":{"line":198,"column":12},"end":{"line":198,"column":95}},"id":{"type":"Identifier","start":6863,"end":6875,"loc":{"start":{"line":198,"column":12},"end":{"line":198,"column":24}},"name":"unwantedBody"},"init":{"type":"Literal","start":6878,"end":6946,"loc":{"start":{"line":198,"column":27},"end":{"line":198,"column":95}},"value":"error=Grant%3A%20missing%20session%20or%20misconfigured%20provider","raw":"'error=Grant%3A%20missing%20session%20or%20misconfigured%20provider'"}}],"kind":"const"},{"type":"IfStatement","start":6953,"end":7423,"loc":{"start":{"line":199,"column":6},"end":{"line":210,"column":7}},"test":{"type":"BinaryExpression","start":6957,"end":6978,"loc":{"start":{"line":199,"column":10},"end":{"line":199,"column":31}},"left":{"type":"Identifier","start":6957,"end":6961,"loc":{"start":{"line":199,"column":10},"end":{"line":199,"column":14}},"name":"body"},"operator":"===","right":{"type":"Identifier","start":6966,"end":6978,"loc":{"start":{"line":199,"column":19},"end":{"line":199,"column":31}},"name":"unwantedBody"}},"consequent":{"type":"BlockStatement","start":6980,"end":7389,"loc":{"start":{"line":199,"column":33},"end":{"line":208,"column":7}},"body":[{"type":"ExpressionStatement","start":6990,"end":7073,"loc":{"start":{"line":200,"column":8},"end":{"line":200,"column":91}},"expression":{"type":"CallExpression","start":6990,"end":7073,"loc":{"start":{"line":200,"column":8},"end":{"line":200,"column":91}},"callee":{"type":"MemberExpression","start":6990,"end":7002,"loc":{"start":{"line":200,"column":8},"end":{"line":200,"column":20}},"object":{"type":"Identifier","start":6990,"end":6996,"loc":{"start":{"line":200,"column":8},"end":{"line":200,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":6997,"end":7002,"loc":{"start":{"line":200,"column":15},"end":{"line":200,"column":20}},"name":"error"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":7003,"end":7043,"loc":{"start":{"line":200,"column":21},"end":{"line":200,"column":61}},"expressions":[{"type":"Identifier","start":7037,"end":7041,"loc":{"start":{"line":200,"column":55},"end":{"line":200,"column":59}},"name":"body"}],"quasis":[{"type":"TemplateElement","start":7004,"end":7035,"loc":{"start":{"line":200,"column":22},"end":{"line":200,"column":53}},"value":{"raw":"grant.js responded with error: ","cooked":"grant.js responded with error: "},"tail":false},{"type":"TemplateElement","start":7042,"end":7042,"loc":{"start":{"line":200,"column":60},"end":{"line":200,"column":60}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"Literal","start":7045,"end":7064,"loc":{"start":{"line":200,"column":63},"end":{"line":200,"column":82}},"value":"grant.oauth.error","raw":"'grant.oauth.error'"},{"type":"MemberExpression","start":7066,"end":7072,"loc":{"start":{"line":200,"column":84},"end":{"line":200,"column":90}},"object":{"type":"Identifier","start":7066,"end":7069,"loc":{"start":{"line":200,"column":84},"end":{"line":200,"column":87}},"name":"req"},"property":{"type":"Identifier","start":7070,"end":7072,"loc":{"start":{"line":200,"column":88},"end":{"line":200,"column":90}},"name":"id"},"computed":false}]}},{"type":"ExpressionStatement","start":7082,"end":7119,"loc":{"start":{"line":201,"column":8},"end":{"line":201,"column":45}},"expression":{"type":"CallExpression","start":7082,"end":7119,"loc":{"start":{"line":201,"column":8},"end":{"line":201,"column":45}},"callee":{"type":"MemberExpression","start":7082,"end":7089,"loc":{"start":{"line":201,"column":8},"end":{"line":201,"column":15}},"object":{"type":"Identifier","start":7082,"end":7085,"loc":{"start":{"line":201,"column":8},"end":{"line":201,"column":11}},"name":"res"},"property":{"type":"Identifier","start":7086,"end":7089,"loc":{"start":{"line":201,"column":12},"end":{"line":201,"column":15}},"name":"set"},"computed":false},"arguments":[{"type":"Literal","start":7090,"end":7104,"loc":{"start":{"line":201,"column":16},"end":{"line":201,"column":30}},"value":"Content-Type","raw":"'Content-Type'"},{"type":"Literal","start":7106,"end":7118,"loc":{"start":{"line":201,"column":32},"end":{"line":201,"column":44}},"value":"text/plain","raw":"'text/plain'"}]}},{"type":"VariableDeclaration","start":7128,"end":7181,"loc":{"start":{"line":202,"column":8},"end":{"line":202,"column":61}},"declarations":[{"type":"VariableDeclarator","start":7134,"end":7181,"loc":{"start":{"line":202,"column":14},"end":{"line":202,"column":61}},"id":{"type":"Identifier","start":7134,"end":7141,"loc":{"start":{"line":202,"column":14},"end":{"line":202,"column":21}},"name":"reqHint"},"init":{"type":"ConditionalExpression","start":7144,"end":7181,"loc":{"start":{"line":202,"column":24},"end":{"line":202,"column":61}},"test":{"type":"MemberExpression","start":7144,"end":7150,"loc":{"start":{"line":202,"column":24},"end":{"line":202,"column":30}},"object":{"type":"Identifier","start":7144,"end":7147,"loc":{"start":{"line":202,"column":24},"end":{"line":202,"column":27}},"name":"req"},"property":{"type":"Identifier","start":7148,"end":7150,"loc":{"start":{"line":202,"column":28},"end":{"line":202,"column":30}},"name":"id"},"computed":false},"consequent":{"type":"TemplateLiteral","start":7153,"end":7176,"loc":{"start":{"line":202,"column":33},"end":{"line":202,"column":56}},"expressions":[{"type":"MemberExpression","start":7168,"end":7174,"loc":{"start":{"line":202,"column":48},"end":{"line":202,"column":54}},"object":{"type":"Identifier","start":7168,"end":7171,"loc":{"start":{"line":202,"column":48},"end":{"line":202,"column":51}},"name":"req"},"property":{"type":"Identifier","start":7172,"end":7174,"loc":{"start":{"line":202,"column":52},"end":{"line":202,"column":54}},"name":"id"},"computed":false}],"quasis":[{"type":"TemplateElement","start":7154,"end":7166,"loc":{"start":{"line":202,"column":34},"end":{"line":202,"column":46}},"value":{"raw":"Request ID: ","cooked":"Request ID: "},"tail":false},{"type":"TemplateElement","start":7175,"end":7175,"loc":{"start":{"line":202,"column":55},"end":{"line":202,"column":55}},"value":{"raw":"","cooked":""},"tail":true}]},"alternate":{"type":"Literal","start":7179,"end":7181,"loc":{"start":{"line":202,"column":59},"end":{"line":202,"column":61}},"value":"","raw":"''"}}}],"kind":"const"},{"type":"ExpressionStatement","start":7190,"end":7381,"loc":{"start":{"line":203,"column":8},"end":{"line":207,"column":21}},"expression":{"type":"CallExpression","start":7190,"end":7381,"loc":{"start":{"line":203,"column":8},"end":{"line":207,"column":21}},"callee":{"type":"Identifier","start":7190,"end":7194,"loc":{"start":{"line":203,"column":8},"end":{"line":203,"column":12}},"name":"send"},"arguments":[{"type":"CallExpression","start":7195,"end":7380,"loc":{"start":{"line":203,"column":13},"end":{"line":207,"column":20}},"callee":{"type":"MemberExpression","start":7195,"end":7374,"loc":{"start":{"line":203,"column":13},"end":{"line":207,"column":14}},"object":{"type":"ArrayExpression","start":7195,"end":7369,"loc":{"start":{"line":203,"column":13},"end":{"line":207,"column":9}},"elements":[{"type":"Literal","start":7207,"end":7262,"loc":{"start":{"line":204,"column":10},"end":{"line":204,"column":65}},"value":"Companion was unable to complete the OAuth process :(","raw":"'Companion was unable to complete the OAuth process :('"},{"type":"Literal","start":7274,"end":7340,"loc":{"start":{"line":205,"column":10},"end":{"line":205,"column":76}},"value":"Error: User session is missing or the Provider was misconfigured","raw":"'Error: User session is missing or the Provider was misconfigured'"},{"type":"Identifier","start":7352,"end":7359,"loc":{"start":{"line":206,"column":10},"end":{"line":206,"column":17}},"name":"reqHint"}]},"property":{"type":"Identifier","start":7370,"end":7374,"loc":{"start":{"line":207,"column":10},"end":{"line":207,"column":14}},"name":"join"},"computed":false},"arguments":[{"type":"Literal","start":7375,"end":7379,"loc":{"start":{"line":207,"column":15},"end":{"line":207,"column":19}},"value":"\n","raw":"'\\n'"}]}]}}]},"alternate":{"type":"BlockStatement","start":7395,"end":7423,"loc":{"start":{"line":208,"column":13},"end":{"line":210,"column":7}},"body":[{"type":"ExpressionStatement","start":7405,"end":7415,"loc":{"start":{"line":209,"column":8},"end":{"line":209,"column":18}},"expression":{"type":"CallExpression","start":7405,"end":7415,"loc":{"start":{"line":209,"column":8},"end":{"line":209,"column":18}},"callee":{"type":"Identifier","start":7405,"end":7409,"loc":{"start":{"line":209,"column":8},"end":{"line":209,"column":12}},"name":"send"},"arguments":[{"type":"Identifier","start":7410,"end":7414,"loc":{"start":{"line":209,"column":13},"end":{"line":209,"column":17}},"name":"body"}]}}]}}]}},"kind":"init"}]}}]}}]}}],"kind":"const"},{"type":"VariableDeclaration","start":7476,"end":10011,"loc":{"start":{"line":219,"column":0},"end":{"line":277,"column":1}},"declarations":[{"type":"VariableDeclarator","start":7482,"end":10011,"loc":{"start":{"line":219,"column":6},"end":{"line":277,"column":1}},"id":{"type":"Identifier","start":7482,"end":7502,"loc":{"start":{"line":219,"column":6},"end":{"line":219,"column":26}},"name":"getOptionsMiddleware"},"init":{"type":"ArrowFunctionExpression","start":7505,"end":10011,"loc":{"start":{"line":219,"column":29},"end":{"line":277,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7506,"end":7513,"loc":{"start":{"line":219,"column":30},"end":{"line":219,"column":37}},"name":"options"}],"body":{"type":"BlockStatement","start":7518,"end":10011,"loc":{"start":{"line":219,"column":42},"end":{"line":277,"column":1}},"body":[{"type":"VariableDeclaration","start":7522,"end":7541,"loc":{"start":{"line":220,"column":2},"end":{"line":220,"column":21}},"declarations":[{"type":"VariableDeclarator","start":7526,"end":7541,"loc":{"start":{"line":220,"column":6},"end":{"line":220,"column":21}},"id":{"type":"Identifier","start":7526,"end":7534,"loc":{"start":{"line":220,"column":6},"end":{"line":220,"column":14}},"name":"s3Client"},"init":{"type":"Literal","start":7537,"end":7541,"loc":{"start":{"line":220,"column":17},"end":{"line":220,"column":21}},"value":null,"raw":"null"}}],"kind":"let"},{"type":"IfStatement","start":7544,"end":9302,"loc":{"start":{"line":221,"column":2},"end":{"line":253,"column":3}},"test":{"type":"MemberExpression","start":7548,"end":7574,"loc":{"start":{"line":221,"column":6},"end":{"line":221,"column":32}},"object":{"type":"MemberExpression","start":7548,"end":7571,"loc":{"start":{"line":221,"column":6},"end":{"line":221,"column":29}},"object":{"type":"Identifier","start":7548,"end":7555,"loc":{"start":{"line":221,"column":6},"end":{"line":221,"column":13}},"name":"options"},"property":{"type":"Identifier","start":7556,"end":7571,"loc":{"start":{"line":221,"column":14},"end":{"line":221,"column":29}},"name":"providerOptions"},"computed":false},"property":{"type":"Identifier","start":7572,"end":7574,"loc":{"start":{"line":221,"column":30},"end":{"line":221,"column":32}},"name":"s3"},"computed":false},"consequent":{"type":"BlockStatement","start":7576,"end":9302,"loc":{"start":{"line":221,"column":34},"end":{"line":253,"column":3}},"body":[{"type":"VariableDeclaration","start":7582,"end":7622,"loc":{"start":{"line":222,"column":4},"end":{"line":222,"column":44}},"declarations":[{"type":"VariableDeclarator","start":7588,"end":7622,"loc":{"start":{"line":222,"column":10},"end":{"line":222,"column":44}},"id":{"type":"Identifier","start":7588,"end":7590,"loc":{"start":{"line":222,"column":10},"end":{"line":222,"column":12}},"name":"S3"},"init":{"type":"CallExpression","start":7593,"end":7622,"loc":{"start":{"line":222,"column":15},"end":{"line":222,"column":44}},"callee":{"type":"Identifier","start":7593,"end":7600,"loc":{"start":{"line":222,"column":15},"end":{"line":222,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":7601,"end":7621,"loc":{"start":{"line":222,"column":23},"end":{"line":222,"column":43}},"value":"aws-sdk/clients/s3","raw":"'aws-sdk/clients/s3'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":7627,"end":7657,"loc":{"start":{"line":223,"column":4},"end":{"line":223,"column":34}},"declarations":[{"type":"VariableDeclarator","start":7633,"end":7657,"loc":{"start":{"line":223,"column":10},"end":{"line":223,"column":34}},"id":{"type":"Identifier","start":7633,"end":7636,"loc":{"start":{"line":223,"column":10},"end":{"line":223,"column":13}},"name":"AWS"},"init":{"type":"CallExpression","start":7639,"end":7657,"loc":{"start":{"line":223,"column":16},"end":{"line":223,"column":34}},"callee":{"type":"Identifier","start":7639,"end":7646,"loc":{"start":{"line":223,"column":16},"end":{"line":223,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":7647,"end":7656,"loc":{"start":{"line":223,"column":24},"end":{"line":223,"column":33}},"value":"aws-sdk","raw":"'aws-sdk'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":7662,"end":7714,"loc":{"start":{"line":224,"column":4},"end":{"line":224,"column":56}},"declarations":[{"type":"VariableDeclarator","start":7668,"end":7714,"loc":{"start":{"line":224,"column":10},"end":{"line":224,"column":56}},"id":{"type":"Identifier","start":7668,"end":7685,"loc":{"start":{"line":224,"column":10},"end":{"line":224,"column":27}},"name":"s3ProviderOptions"},"init":{"type":"MemberExpression","start":7688,"end":7714,"loc":{"start":{"line":224,"column":30},"end":{"line":224,"column":56}},"object":{"type":"MemberExpression","start":7688,"end":7711,"loc":{"start":{"line":224,"column":30},"end":{"line":224,"column":53}},"object":{"type":"Identifier","start":7688,"end":7695,"loc":{"start":{"line":224,"column":30},"end":{"line":224,"column":37}},"name":"options"},"property":{"type":"Identifier","start":7696,"end":7711,"loc":{"start":{"line":224,"column":38},"end":{"line":224,"column":53}},"name":"providerOptions"},"computed":false},"property":{"type":"Identifier","start":7712,"end":7714,"loc":{"start":{"line":224,"column":54},"end":{"line":224,"column":56}},"name":"s3"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":7720,"end":8093,"loc":{"start":{"line":226,"column":4},"end":{"line":228,"column":5}},"test":{"type":"LogicalExpression","start":7724,"end":7790,"loc":{"start":{"line":226,"column":8},"end":{"line":226,"column":74}},"left":{"type":"MemberExpression","start":7724,"end":7753,"loc":{"start":{"line":226,"column":8},"end":{"line":226,"column":37}},"object":{"type":"Identifier","start":7724,"end":7741,"loc":{"start":{"line":226,"column":8},"end":{"line":226,"column":25}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":7742,"end":7753,"loc":{"start":{"line":226,"column":26},"end":{"line":226,"column":37}},"name":"accessKeyId"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":7757,"end":7790,"loc":{"start":{"line":226,"column":41},"end":{"line":226,"column":74}},"object":{"type":"Identifier","start":7757,"end":7774,"loc":{"start":{"line":226,"column":41},"end":{"line":226,"column":58}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":7775,"end":7790,"loc":{"start":{"line":226,"column":59},"end":{"line":226,"column":74}},"name":"secretAccessKey"},"computed":false}},"consequent":{"type":"BlockStatement","start":7792,"end":8093,"loc":{"start":{"line":226,"column":76},"end":{"line":228,"column":5}},"body":[{"type":"ThrowStatement","start":7800,"end":8087,"loc":{"start":{"line":227,"column":6},"end":{"line":227,"column":293}},"argument":{"type":"NewExpression","start":7806,"end":8087,"loc":{"start":{"line":227,"column":12},"end":{"line":227,"column":293}},"callee":{"type":"Identifier","start":7810,"end":7815,"loc":{"start":{"line":227,"column":16},"end":{"line":227,"column":21}},"name":"Error"},"arguments":[{"type":"Literal","start":7816,"end":8086,"loc":{"start":{"line":227,"column":22},"end":{"line":227,"column":292}},"value":"Found `providerOptions.s3.accessKeyId` or `providerOptions.s3.secretAccessKey` configuration, but Companion requires `key` and `secret` option names instead. Please use the `key` property instead of `accessKeyId` and the `secret` property instead of `secretAccessKey`.","raw":"'Found `providerOptions.s3.accessKeyId` or `providerOptions.s3.secretAccessKey` configuration, but Companion requires `key` and `secret` option names instead. Please use the `key` property instead of `accessKeyId` and the `secret` property instead of `secretAccessKey`.'"}]}}]},"alternate":null},{"type":"VariableDeclaration","start":8099,"end":8158,"loc":{"start":{"line":230,"column":4},"end":{"line":230,"column":63}},"declarations":[{"type":"VariableDeclarator","start":8105,"end":8158,"loc":{"start":{"line":230,"column":10},"end":{"line":230,"column":63}},"id":{"type":"Identifier","start":8105,"end":8121,"loc":{"start":{"line":230,"column":10},"end":{"line":230,"column":26}},"name":"rawClientOptions"},"init":{"type":"MemberExpression","start":8124,"end":8158,"loc":{"start":{"line":230,"column":29},"end":{"line":230,"column":63}},"object":{"type":"Identifier","start":8124,"end":8141,"loc":{"start":{"line":230,"column":29},"end":{"line":230,"column":46}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":8142,"end":8158,"loc":{"start":{"line":230,"column":47},"end":{"line":230,"column":63}},"name":"awsClientOptions"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":8163,"end":8516,"loc":{"start":{"line":231,"column":4},"end":{"line":233,"column":5}},"test":{"type":"LogicalExpression","start":8167,"end":8253,"loc":{"start":{"line":231,"column":8},"end":{"line":231,"column":94}},"left":{"type":"Identifier","start":8167,"end":8183,"loc":{"start":{"line":231,"column":8},"end":{"line":231,"column":24}},"name":"rawClientOptions"},"operator":"&&","right":{"type":"LogicalExpression","start":8188,"end":8252,"loc":{"start":{"line":231,"column":29},"end":{"line":231,"column":93}},"left":{"type":"MemberExpression","start":8188,"end":8216,"loc":{"start":{"line":231,"column":29},"end":{"line":231,"column":57}},"object":{"type":"Identifier","start":8188,"end":8204,"loc":{"start":{"line":231,"column":29},"end":{"line":231,"column":45}},"name":"rawClientOptions"},"property":{"type":"Identifier","start":8205,"end":8216,"loc":{"start":{"line":231,"column":46},"end":{"line":231,"column":57}},"name":"accessKeyId"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":8220,"end":8252,"loc":{"start":{"line":231,"column":61},"end":{"line":231,"column":93}},"object":{"type":"Identifier","start":8220,"end":8236,"loc":{"start":{"line":231,"column":61},"end":{"line":231,"column":77}},"name":"rawClientOptions"},"property":{"type":"Identifier","start":8237,"end":8252,"loc":{"start":{"line":231,"column":78},"end":{"line":231,"column":93}},"name":"secretAccessKey"},"computed":false}}},"consequent":{"type":"BlockStatement","start":8255,"end":8516,"loc":{"start":{"line":231,"column":96},"end":{"line":233,"column":5}},"body":[{"type":"ThrowStatement","start":8263,"end":8510,"loc":{"start":{"line":232,"column":6},"end":{"line":232,"column":253}},"argument":{"type":"NewExpression","start":8269,"end":8510,"loc":{"start":{"line":232,"column":12},"end":{"line":232,"column":253}},"callee":{"type":"Identifier","start":8273,"end":8278,"loc":{"start":{"line":232,"column":16},"end":{"line":232,"column":21}},"name":"Error"},"arguments":[{"type":"Literal","start":8279,"end":8509,"loc":{"start":{"line":232,"column":22},"end":{"line":232,"column":252}},"value":"Found unsupported `providerOptions.s3.awsClientOptions.accessKeyId` or `providerOptions.s3.awsClientOptions.secretAccessKey` configuration. Please use the `providerOptions.s3.key` and `providerOptions.s3.secret` options instead.","raw":"'Found unsupported `providerOptions.s3.awsClientOptions.accessKeyId` or `providerOptions.s3.awsClientOptions.secretAccessKey` configuration. Please use the `providerOptions.s3.key` and `providerOptions.s3.secret` options instead.'"}]}}]},"alternate":null},{"type":"VariableDeclaration","start":8522,"end":8795,"loc":{"start":{"line":235,"column":4},"end":{"line":241,"column":24}},"declarations":[{"type":"VariableDeclarator","start":8528,"end":8795,"loc":{"start":{"line":235,"column":10},"end":{"line":241,"column":24}},"id":{"type":"Identifier","start":8528,"end":8543,"loc":{"start":{"line":235,"column":10},"end":{"line":235,"column":25}},"name":"s3ClientOptions"},"init":{"type":"CallExpression","start":8546,"end":8795,"loc":{"start":{"line":235,"column":28},"end":{"line":241,"column":24}},"callee":{"type":"MemberExpression","start":8546,"end":8559,"loc":{"start":{"line":235,"column":28},"end":{"line":235,"column":41}},"object":{"type":"Identifier","start":8546,"end":8552,"loc":{"start":{"line":235,"column":28},"end":{"line":235,"column":34}},"name":"Object"},"property":{"type":"Identifier","start":8553,"end":8559,"loc":{"start":{"line":235,"column":35},"end":{"line":235,"column":41}},"name":"assign"},"computed":false},"arguments":[{"type":"ObjectExpression","start":8560,"end":8776,"loc":{"start":{"line":235,"column":42},"end":{"line":241,"column":5}},"properties":[{"type":"Property","start":8568,"end":8590,"loc":{"start":{"line":236,"column":6},"end":{"line":236,"column":28}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8568,"end":8584,"loc":{"start":{"line":236,"column":6},"end":{"line":236,"column":22}},"name":"signatureVersion"},"value":{"type":"Literal","start":8586,"end":8590,"loc":{"start":{"line":236,"column":24},"end":{"line":236,"column":28}},"value":"v4","raw":"'v4'"},"kind":"init"},{"type":"Property","start":8598,"end":8634,"loc":{"start":{"line":237,"column":6},"end":{"line":237,"column":42}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8598,"end":8606,"loc":{"start":{"line":237,"column":6},"end":{"line":237,"column":14}},"name":"endpoint"},"value":{"type":"MemberExpression","start":8608,"end":8634,"loc":{"start":{"line":237,"column":16},"end":{"line":237,"column":42}},"object":{"type":"Identifier","start":8608,"end":8625,"loc":{"start":{"line":237,"column":16},"end":{"line":237,"column":33}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":8626,"end":8634,"loc":{"start":{"line":237,"column":34},"end":{"line":237,"column":42}},"name":"endpoint"},"computed":false},"kind":"init"},{"type":"Property","start":8642,"end":8674,"loc":{"start":{"line":238,"column":6},"end":{"line":238,"column":38}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8642,"end":8648,"loc":{"start":{"line":238,"column":6},"end":{"line":238,"column":12}},"name":"region"},"value":{"type":"MemberExpression","start":8650,"end":8674,"loc":{"start":{"line":238,"column":14},"end":{"line":238,"column":38}},"object":{"type":"Identifier","start":8650,"end":8667,"loc":{"start":{"line":238,"column":14},"end":{"line":238,"column":31}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":8668,"end":8674,"loc":{"start":{"line":238,"column":32},"end":{"line":238,"column":38}},"name":"region"},"computed":false},"kind":"init"},{"type":"Property","start":8708,"end":8770,"loc":{"start":{"line":240,"column":6},"end":{"line":240,"column":68}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8708,"end":8729,"loc":{"start":{"line":240,"column":6},"end":{"line":240,"column":27}},"name":"useAccelerateEndpoint"},"value":{"type":"MemberExpression","start":8731,"end":8770,"loc":{"start":{"line":240,"column":29},"end":{"line":240,"column":68}},"object":{"type":"Identifier","start":8731,"end":8748,"loc":{"start":{"line":240,"column":29},"end":{"line":240,"column":46}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":8749,"end":8770,"loc":{"start":{"line":240,"column":47},"end":{"line":240,"column":68}},"name":"useAccelerateEndpoint"},"computed":false},"kind":"init"}]},{"type":"Identifier","start":8778,"end":8794,"loc":{"start":{"line":241,"column":7},"end":{"line":241,"column":23}},"name":"rawClientOptions"}]}}],"kind":"const"},{"type":"IfStatement","start":9003,"end":9259,"loc":{"start":{"line":246,"column":4},"end":{"line":251,"column":5}},"test":{"type":"LogicalExpression","start":9007,"end":9088,"loc":{"start":{"line":246,"column":8},"end":{"line":246,"column":89}},"left":{"type":"LogicalExpression","start":9007,"end":9056,"loc":{"start":{"line":246,"column":8},"end":{"line":246,"column":57}},"left":{"type":"MemberExpression","start":9007,"end":9028,"loc":{"start":{"line":246,"column":8},"end":{"line":246,"column":29}},"object":{"type":"Identifier","start":9007,"end":9024,"loc":{"start":{"line":246,"column":8},"end":{"line":246,"column":25}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":9025,"end":9028,"loc":{"start":{"line":246,"column":26},"end":{"line":246,"column":29}},"name":"key"},"computed":false},"operator":"&&","right":{"type":"MemberExpression","start":9032,"end":9056,"loc":{"start":{"line":246,"column":33},"end":{"line":246,"column":57}},"object":{"type":"Identifier","start":9032,"end":9049,"loc":{"start":{"line":246,"column":33},"end":{"line":246,"column":50}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":9050,"end":9056,"loc":{"start":{"line":246,"column":51},"end":{"line":246,"column":57}},"name":"secret"},"computed":false}},"operator":"&&","right":{"type":"UnaryExpression","start":9060,"end":9088,"loc":{"start":{"line":246,"column":61},"end":{"line":246,"column":89}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":9061,"end":9088,"loc":{"start":{"line":246,"column":62},"end":{"line":246,"column":89}},"object":{"type":"Identifier","start":9061,"end":9076,"loc":{"start":{"line":246,"column":62},"end":{"line":246,"column":77}},"name":"s3ClientOptions"},"property":{"type":"Identifier","start":9077,"end":9088,"loc":{"start":{"line":246,"column":78},"end":{"line":246,"column":89}},"name":"credentials"},"computed":false}}},"consequent":{"type":"BlockStatement","start":9090,"end":9259,"loc":{"start":{"line":246,"column":91},"end":{"line":251,"column":5}},"body":[{"type":"ExpressionStatement","start":9098,"end":9253,"loc":{"start":{"line":247,"column":6},"end":{"line":250,"column":39}},"expression":{"type":"AssignmentExpression","start":9098,"end":9253,"loc":{"start":{"line":247,"column":6},"end":{"line":250,"column":39}},"operator":"=","left":{"type":"MemberExpression","start":9098,"end":9125,"loc":{"start":{"line":247,"column":6},"end":{"line":247,"column":33}},"object":{"type":"Identifier","start":9098,"end":9113,"loc":{"start":{"line":247,"column":6},"end":{"line":247,"column":21}},"name":"s3ClientOptions"},"property":{"type":"Identifier","start":9114,"end":9125,"loc":{"start":{"line":247,"column":22},"end":{"line":247,"column":33}},"name":"credentials"},"computed":false},"right":{"type":"NewExpression","start":9128,"end":9253,"loc":{"start":{"line":247,"column":36},"end":{"line":250,"column":39}},"callee":{"type":"MemberExpression","start":9132,"end":9147,"loc":{"start":{"line":247,"column":40},"end":{"line":247,"column":55}},"object":{"type":"Identifier","start":9132,"end":9135,"loc":{"start":{"line":247,"column":40},"end":{"line":247,"column":43}},"name":"AWS"},"property":{"type":"Identifier","start":9136,"end":9147,"loc":{"start":{"line":247,"column":44},"end":{"line":247,"column":55}},"name":"Credentials"},"computed":false},"arguments":[{"type":"MemberExpression","start":9157,"end":9178,"loc":{"start":{"line":248,"column":8},"end":{"line":248,"column":29}},"object":{"type":"Identifier","start":9157,"end":9174,"loc":{"start":{"line":248,"column":8},"end":{"line":248,"column":25}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":9175,"end":9178,"loc":{"start":{"line":248,"column":26},"end":{"line":248,"column":29}},"name":"key"},"computed":false},{"type":"MemberExpression","start":9188,"end":9212,"loc":{"start":{"line":249,"column":8},"end":{"line":249,"column":32}},"object":{"type":"Identifier","start":9188,"end":9205,"loc":{"start":{"line":249,"column":8},"end":{"line":249,"column":25}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":9206,"end":9212,"loc":{"start":{"line":249,"column":26},"end":{"line":249,"column":32}},"name":"secret"},"computed":false},{"type":"MemberExpression","start":9222,"end":9252,"loc":{"start":{"line":250,"column":8},"end":{"line":250,"column":38}},"object":{"type":"Identifier","start":9222,"end":9239,"loc":{"start":{"line":250,"column":8},"end":{"line":250,"column":25}},"name":"s3ProviderOptions"},"property":{"type":"Identifier","start":9240,"end":9252,"loc":{"start":{"line":250,"column":26},"end":{"line":250,"column":38}},"name":"sessionToken"},"computed":false}]}}}]},"alternate":null},{"type":"ExpressionStatement","start":9264,"end":9298,"loc":{"start":{"line":252,"column":4},"end":{"line":252,"column":38}},"expression":{"type":"AssignmentExpression","start":9264,"end":9298,"loc":{"start":{"line":252,"column":4},"end":{"line":252,"column":38}},"operator":"=","left":{"type":"Identifier","start":9264,"end":9272,"loc":{"start":{"line":252,"column":4},"end":{"line":252,"column":12}},"name":"s3Client"},"right":{"type":"NewExpression","start":9275,"end":9298,"loc":{"start":{"line":252,"column":15},"end":{"line":252,"column":38}},"callee":{"type":"Identifier","start":9279,"end":9281,"loc":{"start":{"line":252,"column":19},"end":{"line":252,"column":21}},"name":"S3"},"arguments":[{"type":"Identifier","start":9282,"end":9297,"loc":{"start":{"line":252,"column":22},"end":{"line":252,"column":37}},"name":"s3ClientOptions"}]}}}]},"alternate":null},{"type":"VariableDeclaration","start":9396,"end":9988,"loc":{"start":{"line":260,"column":2},"end":{"line":274,"column":3}},"declarations":[{"type":"VariableDeclarator","start":9402,"end":9988,"loc":{"start":{"line":260,"column":8},"end":{"line":274,"column":3}},"id":{"type":"Identifier","start":9402,"end":9412,"loc":{"start":{"line":260,"column":8},"end":{"line":260,"column":18}},"name":"middleware"},"init":{"type":"ArrowFunctionExpression","start":9415,"end":9988,"loc":{"start":{"line":260,"column":21},"end":{"line":274,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9416,"end":9419,"loc":{"start":{"line":260,"column":22},"end":{"line":260,"column":25}},"name":"req"},{"type":"Identifier","start":9421,"end":9424,"loc":{"start":{"line":260,"column":27},"end":{"line":260,"column":30}},"name":"res"},{"type":"Identifier","start":9426,"end":9430,"loc":{"start":{"line":260,"column":32},"end":{"line":260,"column":36}},"name":"next"}],"body":{"type":"BlockStatement","start":9435,"end":9988,"loc":{"start":{"line":260,"column":41},"end":{"line":274,"column":3}},"body":[{"type":"VariableDeclaration","start":9441,"end":9540,"loc":{"start":{"line":261,"column":4},"end":{"line":261,"column":103}},"declarations":[{"type":"VariableDeclarator","start":9447,"end":9540,"loc":{"start":{"line":261,"column":10},"end":{"line":261,"column":103}},"id":{"type":"Identifier","start":9447,"end":9463,"loc":{"start":{"line":261,"column":10},"end":{"line":261,"column":26}},"name":"versionFromQuery"},"init":{"type":"ConditionalExpression","start":9466,"end":9540,"loc":{"start":{"line":261,"column":29},"end":{"line":261,"column":103}},"test":{"type":"MemberExpression","start":9466,"end":9488,"loc":{"start":{"line":261,"column":29},"end":{"line":261,"column":51}},"object":{"type":"MemberExpression","start":9466,"end":9475,"loc":{"start":{"line":261,"column":29},"end":{"line":261,"column":38}},"object":{"type":"Identifier","start":9466,"end":9469,"loc":{"start":{"line":261,"column":29},"end":{"line":261,"column":32}},"name":"req"},"property":{"type":"Identifier","start":9470,"end":9475,"loc":{"start":{"line":261,"column":33},"end":{"line":261,"column":38}},"name":"query"},"computed":false},"property":{"type":"Identifier","start":9476,"end":9488,"loc":{"start":{"line":261,"column":39},"end":{"line":261,"column":51}},"name":"uppyVersions"},"computed":false},"consequent":{"type":"CallExpression","start":9491,"end":9533,"loc":{"start":{"line":261,"column":54},"end":{"line":261,"column":96}},"callee":{"type":"Identifier","start":9491,"end":9509,"loc":{"start":{"line":261,"column":54},"end":{"line":261,"column":72}},"name":"decodeURIComponent"},"arguments":[{"type":"MemberExpression","start":9510,"end":9532,"loc":{"start":{"line":261,"column":73},"end":{"line":261,"column":95}},"object":{"type":"MemberExpression","start":9510,"end":9519,"loc":{"start":{"line":261,"column":73},"end":{"line":261,"column":82}},"object":{"type":"Identifier","start":9510,"end":9513,"loc":{"start":{"line":261,"column":73},"end":{"line":261,"column":76}},"name":"req"},"property":{"type":"Identifier","start":9514,"end":9519,"loc":{"start":{"line":261,"column":77},"end":{"line":261,"column":82}},"name":"query"},"computed":false},"property":{"type":"Identifier","start":9520,"end":9532,"loc":{"start":{"line":261,"column":83},"end":{"line":261,"column":95}},"name":"uppyVersions"},"computed":false}]},"alternate":{"type":"Literal","start":9536,"end":9540,"loc":{"start":{"line":261,"column":99},"end":{"line":261,"column":103}},"value":null,"raw":"null"}}}],"kind":"const"},{"type":"ExpressionStatement","start":9545,"end":9794,"loc":{"start":{"line":262,"column":4},"end":{"line":268,"column":5}},"expression":{"type":"AssignmentExpression","start":9545,"end":9794,"loc":{"start":{"line":262,"column":4},"end":{"line":268,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":9545,"end":9558,"loc":{"start":{"line":262,"column":4},"end":{"line":262,"column":17}},"object":{"type":"Identifier","start":9545,"end":9548,"loc":{"start":{"line":262,"column":4},"end":{"line":262,"column":7}},"name":"req"},"property":{"type":"Identifier","start":9549,"end":9558,"loc":{"start":{"line":262,"column":8},"end":{"line":262,"column":17}},"name":"companion"},"computed":false},"right":{"type":"ObjectExpression","start":9561,"end":9794,"loc":{"start":{"line":262,"column":20},"end":{"line":268,"column":5}},"properties":[{"type":"Property","start":9569,"end":9576,"loc":{"start":{"line":263,"column":6},"end":{"line":263,"column":13}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":9569,"end":9576,"loc":{"start":{"line":263,"column":6},"end":{"line":263,"column":13}},"name":"options"},"kind":"init","value":{"type":"Identifier","start":9569,"end":9576,"loc":{"start":{"line":263,"column":6},"end":{"line":263,"column":13}},"name":"options"}},{"type":"Property","start":9584,"end":9592,"loc":{"start":{"line":264,"column":6},"end":{"line":264,"column":14}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":9584,"end":9592,"loc":{"start":{"line":264,"column":6},"end":{"line":264,"column":14}},"name":"s3Client"},"kind":"init","value":{"type":"Identifier","start":9584,"end":9592,"loc":{"start":{"line":264,"column":6},"end":{"line":264,"column":14}},"name":"s3Client"}},{"type":"Property","start":9600,"end":9667,"loc":{"start":{"line":265,"column":6},"end":{"line":265,"column":73}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9600,"end":9609,"loc":{"start":{"line":265,"column":6},"end":{"line":265,"column":15}},"name":"authToken"},"value":{"type":"LogicalExpression","start":9611,"end":9667,"loc":{"start":{"line":265,"column":17},"end":{"line":265,"column":73}},"left":{"type":"CallExpression","start":9611,"end":9640,"loc":{"start":{"line":265,"column":17},"end":{"line":265,"column":46}},"callee":{"type":"MemberExpression","start":9611,"end":9621,"loc":{"start":{"line":265,"column":17},"end":{"line":265,"column":27}},"object":{"type":"Identifier","start":9611,"end":9614,"loc":{"start":{"line":265,"column":17},"end":{"line":265,"column":20}},"name":"req"},"property":{"type":"Identifier","start":9615,"end":9621,"loc":{"start":{"line":265,"column":21},"end":{"line":265,"column":27}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":9622,"end":9639,"loc":{"start":{"line":265,"column":28},"end":{"line":265,"column":45}},"value":"uppy-auth-token","raw":"'uppy-auth-token'"}]},"operator":"||","right":{"type":"MemberExpression","start":9644,"end":9667,"loc":{"start":{"line":265,"column":50},"end":{"line":265,"column":73}},"object":{"type":"MemberExpression","start":9644,"end":9653,"loc":{"start":{"line":265,"column":50},"end":{"line":265,"column":59}},"object":{"type":"Identifier","start":9644,"end":9647,"loc":{"start":{"line":265,"column":50},"end":{"line":265,"column":53}},"name":"req"},"property":{"type":"Identifier","start":9648,"end":9653,"loc":{"start":{"line":265,"column":54},"end":{"line":265,"column":59}},"name":"query"},"computed":false},"property":{"type":"Identifier","start":9654,"end":9667,"loc":{"start":{"line":265,"column":60},"end":{"line":265,"column":73}},"name":"uppyAuthToken"},"computed":false}},"kind":"init"},{"type":"Property","start":9675,"end":9748,"loc":{"start":{"line":266,"column":6},"end":{"line":266,"column":79}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9675,"end":9688,"loc":{"start":{"line":266,"column":6},"end":{"line":266,"column":19}},"name":"clientVersion"},"value":{"type":"LogicalExpression","start":9690,"end":9748,"loc":{"start":{"line":266,"column":21},"end":{"line":266,"column":79}},"left":{"type":"LogicalExpression","start":9690,"end":9737,"loc":{"start":{"line":266,"column":21},"end":{"line":266,"column":68}},"left":{"type":"CallExpression","start":9690,"end":9717,"loc":{"start":{"line":266,"column":21},"end":{"line":266,"column":48}},"callee":{"type":"MemberExpression","start":9690,"end":9700,"loc":{"start":{"line":266,"column":21},"end":{"line":266,"column":31}},"object":{"type":"Identifier","start":9690,"end":9693,"loc":{"start":{"line":266,"column":21},"end":{"line":266,"column":24}},"name":"req"},"property":{"type":"Identifier","start":9694,"end":9700,"loc":{"start":{"line":266,"column":25},"end":{"line":266,"column":31}},"name":"header"},"computed":false},"arguments":[{"type":"Literal","start":9701,"end":9716,"loc":{"start":{"line":266,"column":32},"end":{"line":266,"column":47}},"value":"uppy-versions","raw":"'uppy-versions'"}]},"operator":"||","right":{"type":"Identifier","start":9721,"end":9737,"loc":{"start":{"line":266,"column":52},"end":{"line":266,"column":68}},"name":"versionFromQuery"}},"operator":"||","right":{"type":"Literal","start":9741,"end":9748,"loc":{"start":{"line":266,"column":72},"end":{"line":266,"column":79}},"value":"1.0.0","raw":"'1.0.0'"}},"kind":"init"},{"type":"Property","start":9756,"end":9788,"loc":{"start":{"line":267,"column":6},"end":{"line":267,"column":38}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9756,"end":9764,"loc":{"start":{"line":267,"column":6},"end":{"line":267,"column":14}},"name":"buildURL"},"value":{"type":"CallExpression","start":9766,"end":9788,"loc":{"start":{"line":267,"column":16},"end":{"line":267,"column":38}},"callee":{"type":"Identifier","start":9766,"end":9779,"loc":{"start":{"line":267,"column":16},"end":{"line":267,"column":29}},"name":"getURLBuilder"},"arguments":[{"type":"Identifier","start":9780,"end":9787,"loc":{"start":{"line":267,"column":30},"end":{"line":267,"column":37}},"name":"options"}]},"kind":"init"}]}}},{"type":"ExpressionStatement","start":9800,"end":9893,"loc":{"start":{"line":270,"column":4},"end":{"line":270,"column":97}},"expression":{"type":"CallExpression","start":9800,"end":9893,"loc":{"start":{"line":270,"column":4},"end":{"line":270,"column":97}},"callee":{"type":"MemberExpression","start":9800,"end":9811,"loc":{"start":{"line":270,"column":4},"end":{"line":270,"column":15}},"object":{"type":"Identifier","start":9800,"end":9806,"loc":{"start":{"line":270,"column":4},"end":{"line":270,"column":10}},"name":"logger"},"property":{"type":"Identifier","start":9807,"end":9811,"loc":{"start":{"line":270,"column":11},"end":{"line":270,"column":15}},"name":"info"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":9812,"end":9864,"loc":{"start":{"line":270,"column":16},"end":{"line":270,"column":68}},"expressions":[{"type":"MemberExpression","start":9835,"end":9862,"loc":{"start":{"line":270,"column":39},"end":{"line":270,"column":66}},"object":{"type":"MemberExpression","start":9835,"end":9848,"loc":{"start":{"line":270,"column":39},"end":{"line":270,"column":52}},"object":{"type":"Identifier","start":9835,"end":9838,"loc":{"start":{"line":270,"column":39},"end":{"line":270,"column":42}},"name":"req"},"property":{"type":"Identifier","start":9839,"end":9848,"loc":{"start":{"line":270,"column":43},"end":{"line":270,"column":52}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":9849,"end":9862,"loc":{"start":{"line":270,"column":53},"end":{"line":270,"column":66}},"name":"clientVersion"},"computed":false}],"quasis":[{"type":"TemplateElement","start":9813,"end":9833,"loc":{"start":{"line":270,"column":17},"end":{"line":270,"column":37}},"value":{"raw":"uppy client version ","cooked":"uppy client version "},"tail":false},{"type":"TemplateElement","start":9863,"end":9863,"loc":{"start":{"line":270,"column":67},"end":{"line":270,"column":67}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"Literal","start":9866,"end":9892,"loc":{"start":{"line":270,"column":70},"end":{"line":270,"column":96}},"value":"companion.client.version","raw":"'companion.client.version'"}]}},{"type":"ExpressionStatement","start":9949,"end":9973,"loc":{"start":{"line":272,"column":4},"end":{"line":272,"column":28}},"expression":{"type":"AssignmentExpression","start":9949,"end":9973,"loc":{"start":{"line":272,"column":4},"end":{"line":272,"column":28}},"operator":"=","left":{"type":"MemberExpression","start":9949,"end":9957,"loc":{"start":{"line":272,"column":4},"end":{"line":272,"column":12}},"object":{"type":"Identifier","start":9949,"end":9952,"loc":{"start":{"line":272,"column":4},"end":{"line":272,"column":7}},"name":"req"},"property":{"type":"Identifier","start":9953,"end":9957,"loc":{"start":{"line":272,"column":8},"end":{"line":272,"column":12}},"name":"uppy"},"computed":false},"right":{"type":"MemberExpression","start":9960,"end":9973,"loc":{"start":{"line":272,"column":15},"end":{"line":272,"column":28}},"object":{"type":"Identifier","start":9960,"end":9963,"loc":{"start":{"line":272,"column":15},"end":{"line":272,"column":18}},"name":"req"},"property":{"type":"Identifier","start":9964,"end":9973,"loc":{"start":{"line":272,"column":19},"end":{"line":272,"column":28}},"name":"companion"},"computed":false}}},{"type":"ExpressionStatement","start":9978,"end":9984,"loc":{"start":{"line":273,"column":4},"end":{"line":273,"column":10}},"expression":{"type":"CallExpression","start":9978,"end":9984,"loc":{"start":{"line":273,"column":4},"end":{"line":273,"column":10}},"callee":{"type":"Identifier","start":9978,"end":9982,"loc":{"start":{"line":273,"column":4},"end":{"line":273,"column":8}},"name":"next"},"arguments":[]}}]}}}],"kind":"const"},{"type":"ReturnStatement","start":9992,"end":10009,"loc":{"start":{"line":276,"column":2},"end":{"line":276,"column":19}},"argument":{"type":"Identifier","start":9999,"end":10009,"loc":{"start":{"line":276,"column":9},"end":{"line":276,"column":19}},"name":"middleware"}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":10166,"end":10743,"loc":{"start":{"line":284,"column":0},"end":{"line":302,"column":1}},"declarations":[{"type":"VariableDeclarator","start":10172,"end":10743,"loc":{"start":{"line":284,"column":6},"end":{"line":302,"column":1}},"id":{"type":"Identifier","start":10172,"end":10182,"loc":{"start":{"line":284,"column":6},"end":{"line":284,"column":16}},"name":"maskLogger"},"init":{"type":"ArrowFunctionExpression","start":10185,"end":10743,"loc":{"start":{"line":284,"column":19},"end":{"line":302,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10186,"end":10202,"loc":{"start":{"line":284,"column":20},"end":{"line":284,"column":36}},"name":"companionOptions"}],"body":{"type":"BlockStatement","start":10207,"end":10743,"loc":{"start":{"line":284,"column":41},"end":{"line":302,"column":1}},"body":[{"type":"VariableDeclaration","start":10211,"end":10229,"loc":{"start":{"line":285,"column":2},"end":{"line":285,"column":20}},"declarations":[{"type":"VariableDeclarator","start":10217,"end":10229,"loc":{"start":{"line":285,"column":8},"end":{"line":285,"column":20}},"id":{"type":"Identifier","start":10217,"end":10224,"loc":{"start":{"line":285,"column":8},"end":{"line":285,"column":15}},"name":"secrets"},"init":{"type":"ArrayExpression","start":10227,"end":10229,"loc":{"start":{"line":285,"column":18},"end":{"line":285,"column":20}},"elements":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":10232,"end":10293,"loc":{"start":{"line":286,"column":2},"end":{"line":286,"column":63}},"declarations":[{"type":"VariableDeclarator","start":10238,"end":10293,"loc":{"start":{"line":286,"column":8},"end":{"line":286,"column":63}},"id":{"type":"ObjectPattern","start":10238,"end":10274,"loc":{"start":{"line":286,"column":8},"end":{"line":286,"column":44}},"properties":[{"type":"Property","start":10240,"end":10255,"loc":{"start":{"line":286,"column":10},"end":{"line":286,"column":25}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":10240,"end":10255,"loc":{"start":{"line":286,"column":10},"end":{"line":286,"column":25}},"name":"providerOptions"},"kind":"init","value":{"type":"Identifier","start":10240,"end":10255,"loc":{"start":{"line":286,"column":10},"end":{"line":286,"column":25}},"name":"providerOptions"}},{"type":"Property","start":10257,"end":10272,"loc":{"start":{"line":286,"column":27},"end":{"line":286,"column":42}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":10257,"end":10272,"loc":{"start":{"line":286,"column":27},"end":{"line":286,"column":42}},"name":"customProviders"},"kind":"init","value":{"type":"Identifier","start":10257,"end":10272,"loc":{"start":{"line":286,"column":27},"end":{"line":286,"column":42}},"name":"customProviders"}}]},"init":{"type":"Identifier","start":10277,"end":10293,"loc":{"start":{"line":286,"column":47},"end":{"line":286,"column":63}},"name":"companionOptions"}}],"kind":"const"},{"type":"ExpressionStatement","start":10296,"end":10456,"loc":{"start":{"line":287,"column":2},"end":{"line":291,"column":4}},"expression":{"type":"CallExpression","start":10296,"end":10456,"loc":{"start":{"line":287,"column":2},"end":{"line":291,"column":4}},"callee":{"type":"MemberExpression","start":10296,"end":10332,"loc":{"start":{"line":287,"column":2},"end":{"line":287,"column":38}},"object":{"type":"CallExpression","start":10296,"end":10324,"loc":{"start":{"line":287,"column":2},"end":{"line":287,"column":30}},"callee":{"type":"MemberExpression","start":10296,"end":10307,"loc":{"start":{"line":287,"column":2},"end":{"line":287,"column":13}},"object":{"type":"Identifier","start":10296,"end":10302,"loc":{"start":{"line":287,"column":2},"end":{"line":287,"column":8}},"name":"Object"},"property":{"type":"Identifier","start":10303,"end":10307,"loc":{"start":{"line":287,"column":9},"end":{"line":287,"column":13}},"name":"keys"},"computed":false},"arguments":[{"type":"Identifier","start":10308,"end":10323,"loc":{"start":{"line":287,"column":14},"end":{"line":287,"column":29}},"name":"providerOptions"}]},"property":{"type":"Identifier","start":10325,"end":10332,"loc":{"start":{"line":287,"column":31},"end":{"line":287,"column":38}},"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":10333,"end":10455,"loc":{"start":{"line":287,"column":39},"end":{"line":291,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10334,"end":10342,"loc":{"start":{"line":287,"column":40},"end":{"line":287,"column":48}},"name":"provider"}],"body":{"type":"BlockStatement","start":10347,"end":10455,"loc":{"start":{"line":287,"column":53},"end":{"line":291,"column":3}},"body":[{"type":"IfStatement","start":10353,"end":10451,"loc":{"start":{"line":288,"column":4},"end":{"line":290,"column":5}},"test":{"type":"MemberExpression","start":10357,"end":10389,"loc":{"start":{"line":288,"column":8},"end":{"line":288,"column":40}},"object":{"type":"MemberExpression","start":10357,"end":10382,"loc":{"start":{"line":288,"column":8},"end":{"line":288,"column":33}},"object":{"type":"Identifier","start":10357,"end":10372,"loc":{"start":{"line":288,"column":8},"end":{"line":288,"column":23}},"name":"providerOptions"},"property":{"type":"Identifier","start":10373,"end":10381,"loc":{"start":{"line":288,"column":24},"end":{"line":288,"column":32}},"name":"provider"},"computed":true},"property":{"type":"Identifier","start":10383,"end":10389,"loc":{"start":{"line":288,"column":34},"end":{"line":288,"column":40}},"name":"secret"},"computed":false},"consequent":{"type":"BlockStatement","start":10391,"end":10451,"loc":{"start":{"line":288,"column":42},"end":{"line":290,"column":5}},"body":[{"type":"ExpressionStatement","start":10399,"end":10445,"loc":{"start":{"line":289,"column":6},"end":{"line":289,"column":52}},"expression":{"type":"CallExpression","start":10399,"end":10445,"loc":{"start":{"line":289,"column":6},"end":{"line":289,"column":52}},"callee":{"type":"MemberExpression","start":10399,"end":10411,"loc":{"start":{"line":289,"column":6},"end":{"line":289,"column":18}},"object":{"type":"Identifier","start":10399,"end":10406,"loc":{"start":{"line":289,"column":6},"end":{"line":289,"column":13}},"name":"secrets"},"property":{"type":"Identifier","start":10407,"end":10411,"loc":{"start":{"line":289,"column":14},"end":{"line":289,"column":18}},"name":"push"},"computed":false},"arguments":[{"type":"MemberExpression","start":10412,"end":10444,"loc":{"start":{"line":289,"column":19},"end":{"line":289,"column":51}},"object":{"type":"MemberExpression","start":10412,"end":10437,"loc":{"start":{"line":289,"column":19},"end":{"line":289,"column":44}},"object":{"type":"Identifier","start":10412,"end":10427,"loc":{"start":{"line":289,"column":19},"end":{"line":289,"column":34}},"name":"providerOptions"},"property":{"type":"Identifier","start":10428,"end":10436,"loc":{"start":{"line":289,"column":35},"end":{"line":289,"column":43}},"name":"provider"},"computed":true},"property":{"type":"Identifier","start":10438,"end":10444,"loc":{"start":{"line":289,"column":45},"end":{"line":289,"column":51}},"name":"secret"},"computed":false}]}}]},"alternate":null}]}}]}},{"type":"IfStatement","start":10460,"end":10709,"loc":{"start":{"line":293,"column":2},"end":{"line":299,"column":3}},"test":{"type":"Identifier","start":10464,"end":10479,"loc":{"start":{"line":293,"column":6},"end":{"line":293,"column":21}},"name":"customProviders"},"consequent":{"type":"BlockStatement","start":10481,"end":10709,"loc":{"start":{"line":293,"column":23},"end":{"line":299,"column":3}},"body":[{"type":"ExpressionStatement","start":10487,"end":10705,"loc":{"start":{"line":294,"column":4},"end":{"line":298,"column":6}},"expression":{"type":"CallExpression","start":10487,"end":10705,"loc":{"start":{"line":294,"column":4},"end":{"line":298,"column":6}},"callee":{"type":"MemberExpression","start":10487,"end":10523,"loc":{"start":{"line":294,"column":4},"end":{"line":294,"column":40}},"object":{"type":"CallExpression","start":10487,"end":10515,"loc":{"start":{"line":294,"column":4},"end":{"line":294,"column":32}},"callee":{"type":"MemberExpression","start":10487,"end":10498,"loc":{"start":{"line":294,"column":4},"end":{"line":294,"column":15}},"object":{"type":"Identifier","start":10487,"end":10493,"loc":{"start":{"line":294,"column":4},"end":{"line":294,"column":10}},"name":"Object"},"property":{"type":"Identifier","start":10494,"end":10498,"loc":{"start":{"line":294,"column":11},"end":{"line":294,"column":15}},"name":"keys"},"computed":false},"arguments":[{"type":"Identifier","start":10499,"end":10514,"loc":{"start":{"line":294,"column":16},"end":{"line":294,"column":31}},"name":"customProviders"}]},"property":{"type":"Identifier","start":10516,"end":10523,"loc":{"start":{"line":294,"column":33},"end":{"line":294,"column":40}},"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":10524,"end":10704,"loc":{"start":{"line":294,"column":41},"end":{"line":298,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10525,"end":10533,"loc":{"start":{"line":294,"column":42},"end":{"line":294,"column":50}},"name":"provider"}],"body":{"type":"BlockStatement","start":10538,"end":10704,"loc":{"start":{"line":294,"column":55},"end":{"line":298,"column":5}},"body":[{"type":"IfStatement","start":10546,"end":10698,"loc":{"start":{"line":295,"column":6},"end":{"line":297,"column":7}},"test":{"type":"LogicalExpression","start":10550,"end":10625,"loc":{"start":{"line":295,"column":10},"end":{"line":295,"column":85}},"left":{"type":"MemberExpression","start":10550,"end":10582,"loc":{"start":{"line":295,"column":10},"end":{"line":295,"column":42}},"object":{"type":"MemberExpression","start":10550,"end":10575,"loc":{"start":{"line":295,"column":10},"end":{"line":295,"column":35}},"object":{"type":"Identifier","start":10550,"end":10565,"loc":{"start":{"line":295,"column":10},"end":{"line":295,"column":25}},"name":"customProviders"},"property":{"type":"Identifier","start":10566,"end":10574,"loc":{"start":{"line":295,"column":26},"end":{"line":295,"column":34}},"name":"provider"},"computed":true},"property":{"type":"Identifier","start":10576,"end":10582,"loc":{"start":{"line":295,"column":36},"end":{"line":295,"column":42}},"name":"config"},"computed":false},"operator":"&&","right":{"type":"MemberExpression","start":10586,"end":10625,"loc":{"start":{"line":295,"column":46},"end":{"line":295,"column":85}},"object":{"type":"MemberExpression","start":10586,"end":10618,"loc":{"start":{"line":295,"column":46},"end":{"line":295,"column":78}},"object":{"type":"MemberExpression","start":10586,"end":10611,"loc":{"start":{"line":295,"column":46},"end":{"line":295,"column":71}},"object":{"type":"Identifier","start":10586,"end":10601,"loc":{"start":{"line":295,"column":46},"end":{"line":295,"column":61}},"name":"customProviders"},"property":{"type":"Identifier","start":10602,"end":10610,"loc":{"start":{"line":295,"column":62},"end":{"line":295,"column":70}},"name":"provider"},"computed":true},"property":{"type":"Identifier","start":10612,"end":10618,"loc":{"start":{"line":295,"column":72},"end":{"line":295,"column":78}},"name":"config"},"computed":false},"property":{"type":"Identifier","start":10619,"end":10625,"loc":{"start":{"line":295,"column":79},"end":{"line":295,"column":85}},"name":"secret"},"computed":false}},"consequent":{"type":"BlockStatement","start":10627,"end":10698,"loc":{"start":{"line":295,"column":87},"end":{"line":297,"column":7}},"body":[{"type":"ExpressionStatement","start":10637,"end":10690,"loc":{"start":{"line":296,"column":8},"end":{"line":296,"column":61}},"expression":{"type":"CallExpression","start":10637,"end":10690,"loc":{"start":{"line":296,"column":8},"end":{"line":296,"column":61}},"callee":{"type":"MemberExpression","start":10637,"end":10649,"loc":{"start":{"line":296,"column":8},"end":{"line":296,"column":20}},"object":{"type":"Identifier","start":10637,"end":10644,"loc":{"start":{"line":296,"column":8},"end":{"line":296,"column":15}},"name":"secrets"},"property":{"type":"Identifier","start":10645,"end":10649,"loc":{"start":{"line":296,"column":16},"end":{"line":296,"column":20}},"name":"push"},"computed":false},"arguments":[{"type":"MemberExpression","start":10650,"end":10689,"loc":{"start":{"line":296,"column":21},"end":{"line":296,"column":60}},"object":{"type":"MemberExpression","start":10650,"end":10682,"loc":{"start":{"line":296,"column":21},"end":{"line":296,"column":53}},"object":{"type":"MemberExpression","start":10650,"end":10675,"loc":{"start":{"line":296,"column":21},"end":{"line":296,"column":46}},"object":{"type":"Identifier","start":10650,"end":10665,"loc":{"start":{"line":296,"column":21},"end":{"line":296,"column":36}},"name":"customProviders"},"property":{"type":"Identifier","start":10666,"end":10674,"loc":{"start":{"line":296,"column":37},"end":{"line":296,"column":45}},"name":"provider"},"computed":true},"property":{"type":"Identifier","start":10676,"end":10682,"loc":{"start":{"line":296,"column":47},"end":{"line":296,"column":53}},"name":"config"},"computed":false},"property":{"type":"Identifier","start":10683,"end":10689,"loc":{"start":{"line":296,"column":54},"end":{"line":296,"column":60}},"name":"secret"},"computed":false}]}}]},"alternate":null}]}}]}}]},"alternate":null},{"type":"ExpressionStatement","start":10713,"end":10741,"loc":{"start":{"line":301,"column":2},"end":{"line":301,"column":30}},"expression":{"type":"CallExpression","start":10713,"end":10741,"loc":{"start":{"line":301,"column":2},"end":{"line":301,"column":30}},"callee":{"type":"MemberExpression","start":10713,"end":10732,"loc":{"start":{"line":301,"column":2},"end":{"line":301,"column":21}},"object":{"type":"Identifier","start":10713,"end":10719,"loc":{"start":{"line":301,"column":2},"end":{"line":301,"column":8}},"name":"logger"},"property":{"type":"Identifier","start":10720,"end":10732,"loc":{"start":{"line":301,"column":9},"end":{"line":301,"column":21}},"name":"setMaskables"},"computed":false},"arguments":[{"type":"Identifier","start":10733,"end":10740,"loc":{"start":{"line":301,"column":22},"end":{"line":301,"column":29}},"name":"secrets"}]}}]}}}],"kind":"const"}],"sourceType":"module"}