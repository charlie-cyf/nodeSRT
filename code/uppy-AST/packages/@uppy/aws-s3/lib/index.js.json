{"type":"Program","start":0,"end":11465,"loc":{"start":{"line":1,"column":0},"end":{"line":317,"column":71}},"body":[{"type":"VariableDeclaration","start":0,"end":18,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":18}},"declarations":[{"type":"VariableDeclarator","start":4,"end":10,"loc":{"start":{"line":1,"column":4},"end":{"line":1,"column":10}},"id":{"type":"Identifier","start":4,"end":10,"loc":{"start":{"line":1,"column":4},"end":{"line":1,"column":10}},"name":"_class"},"init":null},{"type":"VariableDeclarator","start":12,"end":17,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":17}},"id":{"type":"Identifier","start":12,"end":17,"loc":{"start":{"line":1,"column":12},"end":{"line":1,"column":17}},"name":"_temp"},"init":null}],"kind":"var"},{"type":"FunctionDeclaration","start":20,"end":186,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":166}},"id":{"type":"Identifier","start":29,"end":51,"loc":{"start":{"line":3,"column":9},"end":{"line":3,"column":31}},"name":"_assertThisInitialized"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":52,"end":56,"loc":{"start":{"line":3,"column":32},"end":{"line":3,"column":36}},"name":"self"}],"body":{"type":"BlockStatement","start":58,"end":186,"loc":{"start":{"line":3,"column":38},"end":{"line":3,"column":166}},"body":[{"type":"IfStatement","start":60,"end":171,"loc":{"start":{"line":3,"column":40},"end":{"line":3,"column":151}},"test":{"type":"BinaryExpression","start":64,"end":79,"loc":{"start":{"line":3,"column":44},"end":{"line":3,"column":59}},"left":{"type":"Identifier","start":64,"end":68,"loc":{"start":{"line":3,"column":44},"end":{"line":3,"column":48}},"name":"self"},"operator":"===","right":{"type":"UnaryExpression","start":73,"end":79,"loc":{"start":{"line":3,"column":53},"end":{"line":3,"column":59}},"operator":"void","prefix":true,"argument":{"type":"Literal","start":78,"end":79,"loc":{"start":{"line":3,"column":58},"end":{"line":3,"column":59}},"value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","start":81,"end":171,"loc":{"start":{"line":3,"column":61},"end":{"line":3,"column":151}},"body":[{"type":"ThrowStatement","start":83,"end":169,"loc":{"start":{"line":3,"column":63},"end":{"line":3,"column":149}},"argument":{"type":"NewExpression","start":89,"end":168,"loc":{"start":{"line":3,"column":69},"end":{"line":3,"column":148}},"callee":{"type":"Identifier","start":93,"end":107,"loc":{"start":{"line":3,"column":73},"end":{"line":3,"column":87}},"name":"ReferenceError"},"arguments":[{"type":"Literal","start":108,"end":167,"loc":{"start":{"line":3,"column":88},"end":{"line":3,"column":147}},"value":"this hasn't been initialised - super() hasn't been called","raw":"\"this hasn't been initialised - super() hasn't been called\""}]}}]},"alternate":null},{"type":"ReturnStatement","start":172,"end":184,"loc":{"start":{"line":3,"column":152},"end":{"line":3,"column":164}},"argument":{"type":"Identifier","start":179,"end":183,"loc":{"start":{"line":3,"column":159},"end":{"line":3,"column":163}},"name":"self"}}]}},{"type":"FunctionDeclaration","start":188,"end":371,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":183}},"id":{"type":"Identifier","start":197,"end":211,"loc":{"start":{"line":5,"column":9},"end":{"line":5,"column":23}},"name":"_inheritsLoose"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":212,"end":220,"loc":{"start":{"line":5,"column":24},"end":{"line":5,"column":32}},"name":"subClass"},{"type":"Identifier","start":222,"end":232,"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":44}},"name":"superClass"}],"body":{"type":"BlockStatement","start":234,"end":371,"loc":{"start":{"line":5,"column":46},"end":{"line":5,"column":183}},"body":[{"type":"ExpressionStatement","start":236,"end":293,"loc":{"start":{"line":5,"column":48},"end":{"line":5,"column":105}},"expression":{"type":"AssignmentExpression","start":236,"end":292,"loc":{"start":{"line":5,"column":48},"end":{"line":5,"column":104}},"operator":"=","left":{"type":"MemberExpression","start":236,"end":254,"loc":{"start":{"line":5,"column":48},"end":{"line":5,"column":66}},"object":{"type":"Identifier","start":236,"end":244,"loc":{"start":{"line":5,"column":48},"end":{"line":5,"column":56}},"name":"subClass"},"property":{"type":"Identifier","start":245,"end":254,"loc":{"start":{"line":5,"column":57},"end":{"line":5,"column":66}},"name":"prototype"},"computed":false},"right":{"type":"CallExpression","start":257,"end":292,"loc":{"start":{"line":5,"column":69},"end":{"line":5,"column":104}},"callee":{"type":"MemberExpression","start":257,"end":270,"loc":{"start":{"line":5,"column":69},"end":{"line":5,"column":82}},"object":{"type":"Identifier","start":257,"end":263,"loc":{"start":{"line":5,"column":69},"end":{"line":5,"column":75}},"name":"Object"},"property":{"type":"Identifier","start":264,"end":270,"loc":{"start":{"line":5,"column":76},"end":{"line":5,"column":82}},"name":"create"},"computed":false},"arguments":[{"type":"MemberExpression","start":271,"end":291,"loc":{"start":{"line":5,"column":83},"end":{"line":5,"column":103}},"object":{"type":"Identifier","start":271,"end":281,"loc":{"start":{"line":5,"column":83},"end":{"line":5,"column":93}},"name":"superClass"},"property":{"type":"Identifier","start":282,"end":291,"loc":{"start":{"line":5,"column":94},"end":{"line":5,"column":103}},"name":"prototype"},"computed":false}]}}},{"type":"ExpressionStatement","start":294,"end":336,"loc":{"start":{"line":5,"column":106},"end":{"line":5,"column":148}},"expression":{"type":"AssignmentExpression","start":294,"end":335,"loc":{"start":{"line":5,"column":106},"end":{"line":5,"column":147}},"operator":"=","left":{"type":"MemberExpression","start":294,"end":324,"loc":{"start":{"line":5,"column":106},"end":{"line":5,"column":136}},"object":{"type":"MemberExpression","start":294,"end":312,"loc":{"start":{"line":5,"column":106},"end":{"line":5,"column":124}},"object":{"type":"Identifier","start":294,"end":302,"loc":{"start":{"line":5,"column":106},"end":{"line":5,"column":114}},"name":"subClass"},"property":{"type":"Identifier","start":303,"end":312,"loc":{"start":{"line":5,"column":115},"end":{"line":5,"column":124}},"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":313,"end":324,"loc":{"start":{"line":5,"column":125},"end":{"line":5,"column":136}},"name":"constructor"},"computed":false},"right":{"type":"Identifier","start":327,"end":335,"loc":{"start":{"line":5,"column":139},"end":{"line":5,"column":147}},"name":"subClass"}}},{"type":"ExpressionStatement","start":337,"end":369,"loc":{"start":{"line":5,"column":149},"end":{"line":5,"column":181}},"expression":{"type":"AssignmentExpression","start":337,"end":368,"loc":{"start":{"line":5,"column":149},"end":{"line":5,"column":180}},"operator":"=","left":{"type":"MemberExpression","start":337,"end":355,"loc":{"start":{"line":5,"column":149},"end":{"line":5,"column":167}},"object":{"type":"Identifier","start":337,"end":345,"loc":{"start":{"line":5,"column":149},"end":{"line":5,"column":157}},"name":"subClass"},"property":{"type":"Identifier","start":346,"end":355,"loc":{"start":{"line":5,"column":158},"end":{"line":5,"column":167}},"name":"__proto__"},"computed":false},"right":{"type":"Identifier","start":358,"end":368,"loc":{"start":{"line":5,"column":170},"end":{"line":5,"column":180}},"name":"superClass"}}}]}},{"type":"FunctionDeclaration","start":373,"end":690,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":317}},"id":{"type":"Identifier","start":382,"end":390,"loc":{"start":{"line":7,"column":9},"end":{"line":7,"column":17}},"name":"_extends"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":393,"end":690,"loc":{"start":{"line":7,"column":20},"end":{"line":7,"column":317}},"body":[{"type":"ExpressionStatement","start":395,"end":648,"loc":{"start":{"line":7,"column":22},"end":{"line":7,"column":275}},"expression":{"type":"AssignmentExpression","start":395,"end":647,"loc":{"start":{"line":7,"column":22},"end":{"line":7,"column":274}},"operator":"=","left":{"type":"Identifier","start":395,"end":403,"loc":{"start":{"line":7,"column":22},"end":{"line":7,"column":30}},"name":"_extends"},"right":{"type":"LogicalExpression","start":406,"end":647,"loc":{"start":{"line":7,"column":33},"end":{"line":7,"column":274}},"left":{"type":"MemberExpression","start":406,"end":419,"loc":{"start":{"line":7,"column":33},"end":{"line":7,"column":46}},"object":{"type":"Identifier","start":406,"end":412,"loc":{"start":{"line":7,"column":33},"end":{"line":7,"column":39}},"name":"Object"},"property":{"type":"Identifier","start":413,"end":419,"loc":{"start":{"line":7,"column":40},"end":{"line":7,"column":46}},"name":"assign"},"computed":false},"operator":"||","right":{"type":"FunctionExpression","start":423,"end":647,"loc":{"start":{"line":7,"column":50},"end":{"line":7,"column":274}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":433,"end":439,"loc":{"start":{"line":7,"column":60},"end":{"line":7,"column":66}},"name":"target"}],"body":{"type":"BlockStatement","start":441,"end":647,"loc":{"start":{"line":7,"column":68},"end":{"line":7,"column":274}},"body":[{"type":"ForStatement","start":443,"end":630,"loc":{"start":{"line":7,"column":70},"end":{"line":7,"column":257}},"init":{"type":"VariableDeclaration","start":448,"end":457,"loc":{"start":{"line":7,"column":75},"end":{"line":7,"column":84}},"declarations":[{"type":"VariableDeclarator","start":452,"end":457,"loc":{"start":{"line":7,"column":79},"end":{"line":7,"column":84}},"id":{"type":"Identifier","start":452,"end":453,"loc":{"start":{"line":7,"column":79},"end":{"line":7,"column":80}},"name":"i"},"init":{"type":"Literal","start":456,"end":457,"loc":{"start":{"line":7,"column":83},"end":{"line":7,"column":84}},"value":1,"raw":"1"}}],"kind":"var"},"test":{"type":"BinaryExpression","start":459,"end":479,"loc":{"start":{"line":7,"column":86},"end":{"line":7,"column":106}},"left":{"type":"Identifier","start":459,"end":460,"loc":{"start":{"line":7,"column":86},"end":{"line":7,"column":87}},"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":463,"end":479,"loc":{"start":{"line":7,"column":90},"end":{"line":7,"column":106}},"object":{"type":"Identifier","start":463,"end":472,"loc":{"start":{"line":7,"column":90},"end":{"line":7,"column":99}},"name":"arguments"},"property":{"type":"Identifier","start":473,"end":479,"loc":{"start":{"line":7,"column":100},"end":{"line":7,"column":106}},"name":"length"},"computed":false}},"update":{"type":"UpdateExpression","start":481,"end":484,"loc":{"start":{"line":7,"column":108},"end":{"line":7,"column":111}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":481,"end":482,"loc":{"start":{"line":7,"column":108},"end":{"line":7,"column":109}},"name":"i"}},"body":{"type":"BlockStatement","start":486,"end":630,"loc":{"start":{"line":7,"column":113},"end":{"line":7,"column":257}},"body":[{"type":"VariableDeclaration","start":488,"end":514,"loc":{"start":{"line":7,"column":115},"end":{"line":7,"column":141}},"declarations":[{"type":"VariableDeclarator","start":492,"end":513,"loc":{"start":{"line":7,"column":119},"end":{"line":7,"column":140}},"id":{"type":"Identifier","start":492,"end":498,"loc":{"start":{"line":7,"column":119},"end":{"line":7,"column":125}},"name":"source"},"init":{"type":"MemberExpression","start":501,"end":513,"loc":{"start":{"line":7,"column":128},"end":{"line":7,"column":140}},"object":{"type":"Identifier","start":501,"end":510,"loc":{"start":{"line":7,"column":128},"end":{"line":7,"column":137}},"name":"arguments"},"property":{"type":"Identifier","start":511,"end":512,"loc":{"start":{"line":7,"column":138},"end":{"line":7,"column":139}},"name":"i"},"computed":true}}],"kind":"var"},{"type":"ForInStatement","start":515,"end":628,"loc":{"start":{"line":7,"column":142},"end":{"line":7,"column":255}},"left":{"type":"VariableDeclaration","start":520,"end":527,"loc":{"start":{"line":7,"column":147},"end":{"line":7,"column":154}},"declarations":[{"type":"VariableDeclarator","start":524,"end":527,"loc":{"start":{"line":7,"column":151},"end":{"line":7,"column":154}},"id":{"type":"Identifier","start":524,"end":527,"loc":{"start":{"line":7,"column":151},"end":{"line":7,"column":154}},"name":"key"},"init":null}],"kind":"var"},"right":{"type":"Identifier","start":531,"end":537,"loc":{"start":{"line":7,"column":158},"end":{"line":7,"column":164}},"name":"source"},"body":{"type":"BlockStatement","start":539,"end":628,"loc":{"start":{"line":7,"column":166},"end":{"line":7,"column":255}},"body":[{"type":"IfStatement","start":541,"end":626,"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":253}},"test":{"type":"CallExpression","start":545,"end":594,"loc":{"start":{"line":7,"column":172},"end":{"line":7,"column":221}},"callee":{"type":"MemberExpression","start":545,"end":581,"loc":{"start":{"line":7,"column":172},"end":{"line":7,"column":208}},"object":{"type":"MemberExpression","start":545,"end":576,"loc":{"start":{"line":7,"column":172},"end":{"line":7,"column":203}},"object":{"type":"MemberExpression","start":545,"end":561,"loc":{"start":{"line":7,"column":172},"end":{"line":7,"column":188}},"object":{"type":"Identifier","start":545,"end":551,"loc":{"start":{"line":7,"column":172},"end":{"line":7,"column":178}},"name":"Object"},"property":{"type":"Identifier","start":552,"end":561,"loc":{"start":{"line":7,"column":179},"end":{"line":7,"column":188}},"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":562,"end":576,"loc":{"start":{"line":7,"column":189},"end":{"line":7,"column":203}},"name":"hasOwnProperty"},"computed":false},"property":{"type":"Identifier","start":577,"end":581,"loc":{"start":{"line":7,"column":204},"end":{"line":7,"column":208}},"name":"call"},"computed":false},"arguments":[{"type":"Identifier","start":582,"end":588,"loc":{"start":{"line":7,"column":209},"end":{"line":7,"column":215}},"name":"source"},{"type":"Identifier","start":590,"end":593,"loc":{"start":{"line":7,"column":217},"end":{"line":7,"column":220}},"name":"key"}]},"consequent":{"type":"BlockStatement","start":596,"end":626,"loc":{"start":{"line":7,"column":223},"end":{"line":7,"column":253}},"body":[{"type":"ExpressionStatement","start":598,"end":624,"loc":{"start":{"line":7,"column":225},"end":{"line":7,"column":251}},"expression":{"type":"AssignmentExpression","start":598,"end":623,"loc":{"start":{"line":7,"column":225},"end":{"line":7,"column":250}},"operator":"=","left":{"type":"MemberExpression","start":598,"end":609,"loc":{"start":{"line":7,"column":225},"end":{"line":7,"column":236}},"object":{"type":"Identifier","start":598,"end":604,"loc":{"start":{"line":7,"column":225},"end":{"line":7,"column":231}},"name":"target"},"property":{"type":"Identifier","start":605,"end":608,"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":235}},"name":"key"},"computed":true},"right":{"type":"MemberExpression","start":612,"end":623,"loc":{"start":{"line":7,"column":239},"end":{"line":7,"column":250}},"object":{"type":"Identifier","start":612,"end":618,"loc":{"start":{"line":7,"column":239},"end":{"line":7,"column":245}},"name":"source"},"property":{"type":"Identifier","start":619,"end":622,"loc":{"start":{"line":7,"column":246},"end":{"line":7,"column":249}},"name":"key"},"computed":true}}}]},"alternate":null}]}}]}},{"type":"ReturnStatement","start":631,"end":645,"loc":{"start":{"line":7,"column":258},"end":{"line":7,"column":272}},"argument":{"type":"Identifier","start":638,"end":644,"loc":{"start":{"line":7,"column":265},"end":{"line":7,"column":271}},"name":"target"}}]}}}}},{"type":"ReturnStatement","start":649,"end":688,"loc":{"start":{"line":7,"column":276},"end":{"line":7,"column":315}},"argument":{"type":"CallExpression","start":656,"end":687,"loc":{"start":{"line":7,"column":283},"end":{"line":7,"column":314}},"callee":{"type":"MemberExpression","start":656,"end":670,"loc":{"start":{"line":7,"column":283},"end":{"line":7,"column":297}},"object":{"type":"Identifier","start":656,"end":664,"loc":{"start":{"line":7,"column":283},"end":{"line":7,"column":291}},"name":"_extends"},"property":{"type":"Identifier","start":665,"end":670,"loc":{"start":{"line":7,"column":292},"end":{"line":7,"column":297}},"name":"apply"},"computed":false},"arguments":[{"type":"ThisExpression","start":671,"end":675,"loc":{"start":{"line":7,"column":298},"end":{"line":7,"column":302}}},{"type":"Identifier","start":677,"end":686,"loc":{"start":{"line":7,"column":304},"end":{"line":7,"column":313}},"name":"arguments"}]}}]}},{"type":"VariableDeclaration","start":2443,"end":2509,"loc":{"start":{"line":36,"column":0},"end":{"line":36,"column":66}},"declarations":[{"type":"VariableDeclarator","start":2447,"end":2508,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":65}},"id":{"type":"Identifier","start":2447,"end":2451,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":8}},"name":"URL_"},"init":{"type":"ConditionalExpression","start":2454,"end":2508,"loc":{"start":{"line":36,"column":11},"end":{"line":36,"column":65}},"test":{"type":"BinaryExpression","start":2454,"end":2479,"loc":{"start":{"line":36,"column":11},"end":{"line":36,"column":36}},"left":{"type":"UnaryExpression","start":2454,"end":2464,"loc":{"start":{"line":36,"column":11},"end":{"line":36,"column":21}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":2461,"end":2464,"loc":{"start":{"line":36,"column":18},"end":{"line":36,"column":21}},"name":"URL"}},"operator":"===","right":{"type":"Literal","start":2469,"end":2479,"loc":{"start":{"line":36,"column":26},"end":{"line":36,"column":36}},"value":"function","raw":"'function'"}},"consequent":{"type":"Identifier","start":2482,"end":2485,"loc":{"start":{"line":36,"column":39},"end":{"line":36,"column":42}},"name":"URL"},"alternate":{"type":"CallExpression","start":2488,"end":2508,"loc":{"start":{"line":36,"column":45},"end":{"line":36,"column":65}},"callee":{"type":"Identifier","start":2488,"end":2495,"loc":{"start":{"line":36,"column":45},"end":{"line":36,"column":52}},"name":"require"},"arguments":[{"type":"Literal","start":2496,"end":2507,"loc":{"start":{"line":36,"column":53},"end":{"line":36,"column":64}},"value":"url-parse","raw":"'url-parse'"}]}}}],"kind":"var","comments":[{"type":"Block","value":"*\n * This plugin is currently a A Big Hackâ„¢! The core reason for that is how this plugin\n * interacts with Uppy's current pipeline design. The pipeline can handle files in steps,\n * including preprocessing, uploading, and postprocessing steps. This plugin initially\n * was designed to do its work in a preprocessing step, and let XHRUpload deal with the\n * actual file upload as an uploading step. However, Uppy runs steps on all files at once,\n * sequentially: first, all files go through a preprocessing step, then, once they are all\n * done, they go through the uploading step.\n *\n * For S3, this causes severely broken behaviour when users upload many files. The\n * preprocessing step will request S3 upload URLs that are valid for a short time only,\n * but it has to do this for _all_ files, which can take a long time if there are hundreds\n * or even thousands of files. By the time the uploader step starts, the first URLs may\n * already have expired. If not, the uploading might take such a long time that later URLs\n * will expire before some files can be uploaded.\n *\n * The long-term solution to this problem is to change the upload pipeline so that files\n * can be sent to the next step individually. That requires a breakig change, so it is\n * planned for Uppy v2.\n *\n * In the mean time, this plugin is stuck with a hackier approach: the necessary parts\n * of the XHRUpload implementation were copied into this plugin, as the MiniXHRUpload\n * class, and this plugin calls into it immediately once it receives an upload URL.\n * This isn't as nicely modular as we'd like and requires us to maintain two copies of\n * the XHRUpload code, but at least it's not horrifically broken :)\n ","start":692,"end":2390,"loc":{"start":{"line":9,"column":0},"end":{"line":34,"column":3}}},{"type":"Line","value":" If global `URL` constructor is available, use it","start":2391,"end":2442,"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":51}}}]},{"type":"VariableDeclaration","start":2511,"end":2578,"loc":{"start":{"line":38,"column":0},"end":{"line":39,"column":29}},"declarations":[{"type":"VariableDeclarator","start":2515,"end":2547,"loc":{"start":{"line":38,"column":4},"end":{"line":38,"column":36}},"id":{"type":"Identifier","start":2515,"end":2523,"loc":{"start":{"line":38,"column":4},"end":{"line":38,"column":12}},"name":"_require"},"init":{"type":"CallExpression","start":2526,"end":2547,"loc":{"start":{"line":38,"column":15},"end":{"line":38,"column":36}},"callee":{"type":"Identifier","start":2526,"end":2533,"loc":{"start":{"line":38,"column":15},"end":{"line":38,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":2534,"end":2546,"loc":{"start":{"line":38,"column":23},"end":{"line":38,"column":35}},"value":"@uppy/core","raw":"'@uppy/core'"}]}},{"type":"VariableDeclarator","start":2553,"end":2577,"loc":{"start":{"line":39,"column":4},"end":{"line":39,"column":28}},"id":{"type":"Identifier","start":2553,"end":2559,"loc":{"start":{"line":39,"column":4},"end":{"line":39,"column":10}},"name":"Plugin"},"init":{"type":"MemberExpression","start":2562,"end":2577,"loc":{"start":{"line":39,"column":13},"end":{"line":39,"column":28}},"object":{"type":"Identifier","start":2562,"end":2570,"loc":{"start":{"line":39,"column":13},"end":{"line":39,"column":21}},"name":"_require"},"property":{"type":"Identifier","start":2571,"end":2577,"loc":{"start":{"line":39,"column":22},"end":{"line":39,"column":28}},"name":"Plugin"},"computed":false}}],"kind":"var"},{"type":"VariableDeclaration","start":2580,"end":2647,"loc":{"start":{"line":41,"column":0},"end":{"line":41,"column":67}},"declarations":[{"type":"VariableDeclarator","start":2584,"end":2646,"loc":{"start":{"line":41,"column":4},"end":{"line":41,"column":66}},"id":{"type":"Identifier","start":2584,"end":2600,"loc":{"start":{"line":41,"column":4},"end":{"line":41,"column":20}},"name":"RateLimitedQueue"},"init":{"type":"CallExpression","start":2603,"end":2646,"loc":{"start":{"line":41,"column":23},"end":{"line":41,"column":66}},"callee":{"type":"Identifier","start":2603,"end":2610,"loc":{"start":{"line":41,"column":23},"end":{"line":41,"column":30}},"name":"require"},"arguments":[{"type":"Literal","start":2611,"end":2645,"loc":{"start":{"line":41,"column":31},"end":{"line":41,"column":65}},"value":"@uppy/utils/lib/RateLimitedQueue","raw":"'@uppy/utils/lib/RateLimitedQueue'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":2649,"end":2696,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":47}},"declarations":[{"type":"VariableDeclarator","start":2653,"end":2695,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":46}},"id":{"type":"Identifier","start":2653,"end":2659,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":10}},"name":"settle"},"init":{"type":"CallExpression","start":2662,"end":2695,"loc":{"start":{"line":43,"column":13},"end":{"line":43,"column":46}},"callee":{"type":"Identifier","start":2662,"end":2669,"loc":{"start":{"line":43,"column":13},"end":{"line":43,"column":20}},"name":"require"},"arguments":[{"type":"Literal","start":2670,"end":2694,"loc":{"start":{"line":43,"column":21},"end":{"line":43,"column":45}},"value":"@uppy/utils/lib/settle","raw":"'@uppy/utils/lib/settle'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":2698,"end":2755,"loc":{"start":{"line":45,"column":0},"end":{"line":45,"column":57}},"declarations":[{"type":"VariableDeclarator","start":2702,"end":2754,"loc":{"start":{"line":45,"column":4},"end":{"line":45,"column":56}},"id":{"type":"Identifier","start":2702,"end":2713,"loc":{"start":{"line":45,"column":4},"end":{"line":45,"column":15}},"name":"hasProperty"},"init":{"type":"CallExpression","start":2716,"end":2754,"loc":{"start":{"line":45,"column":18},"end":{"line":45,"column":56}},"callee":{"type":"Identifier","start":2716,"end":2723,"loc":{"start":{"line":45,"column":18},"end":{"line":45,"column":25}},"name":"require"},"arguments":[{"type":"Literal","start":2724,"end":2753,"loc":{"start":{"line":45,"column":26},"end":{"line":45,"column":55}},"value":"@uppy/utils/lib/hasProperty","raw":"'@uppy/utils/lib/hasProperty'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":2757,"end":2852,"loc":{"start":{"line":47,"column":0},"end":{"line":48,"column":44}},"declarations":[{"type":"VariableDeclarator","start":2761,"end":2806,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":49}},"id":{"type":"Identifier","start":2761,"end":2770,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":13}},"name":"_require2"},"init":{"type":"CallExpression","start":2773,"end":2806,"loc":{"start":{"line":47,"column":16},"end":{"line":47,"column":49}},"callee":{"type":"Identifier","start":2773,"end":2780,"loc":{"start":{"line":47,"column":16},"end":{"line":47,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":2781,"end":2805,"loc":{"start":{"line":47,"column":24},"end":{"line":47,"column":48}},"value":"@uppy/companion-client","raw":"'@uppy/companion-client'"}]}},{"type":"VariableDeclarator","start":2812,"end":2851,"loc":{"start":{"line":48,"column":4},"end":{"line":48,"column":43}},"id":{"type":"Identifier","start":2812,"end":2825,"loc":{"start":{"line":48,"column":4},"end":{"line":48,"column":17}},"name":"RequestClient"},"init":{"type":"MemberExpression","start":2828,"end":2851,"loc":{"start":{"line":48,"column":20},"end":{"line":48,"column":43}},"object":{"type":"Identifier","start":2828,"end":2837,"loc":{"start":{"line":48,"column":20},"end":{"line":48,"column":29}},"name":"_require2"},"property":{"type":"Identifier","start":2838,"end":2851,"loc":{"start":{"line":48,"column":30},"end":{"line":48,"column":43}},"name":"RequestClient"},"computed":false}}],"kind":"var"},{"type":"VariableDeclaration","start":2854,"end":2896,"loc":{"start":{"line":50,"column":0},"end":{"line":50,"column":42}},"declarations":[{"type":"VariableDeclarator","start":2858,"end":2895,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":41}},"id":{"type":"Identifier","start":2858,"end":2869,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":15}},"name":"qsStringify"},"init":{"type":"CallExpression","start":2872,"end":2895,"loc":{"start":{"line":50,"column":18},"end":{"line":50,"column":41}},"callee":{"type":"Identifier","start":2872,"end":2879,"loc":{"start":{"line":50,"column":18},"end":{"line":50,"column":25}},"name":"require"},"arguments":[{"type":"Literal","start":2880,"end":2894,"loc":{"start":{"line":50,"column":26},"end":{"line":50,"column":40}},"value":"qs-stringify","raw":"'qs-stringify'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":2898,"end":2945,"loc":{"start":{"line":52,"column":0},"end":{"line":52,"column":47}},"declarations":[{"type":"VariableDeclarator","start":2902,"end":2944,"loc":{"start":{"line":52,"column":4},"end":{"line":52,"column":46}},"id":{"type":"Identifier","start":2902,"end":2915,"loc":{"start":{"line":52,"column":4},"end":{"line":52,"column":17}},"name":"MiniXHRUpload"},"init":{"type":"CallExpression","start":2918,"end":2944,"loc":{"start":{"line":52,"column":20},"end":{"line":52,"column":46}},"callee":{"type":"Identifier","start":2918,"end":2925,"loc":{"start":{"line":52,"column":20},"end":{"line":52,"column":27}},"name":"require"},"arguments":[{"type":"Literal","start":2926,"end":2943,"loc":{"start":{"line":52,"column":28},"end":{"line":52,"column":45}},"value":"./MiniXHRUpload","raw":"'./MiniXHRUpload'"}]}}],"kind":"var"},{"type":"FunctionDeclaration","start":2947,"end":3065,"loc":{"start":{"line":54,"column":0},"end":{"line":56,"column":1}},"id":{"type":"Identifier","start":2956,"end":2966,"loc":{"start":{"line":54,"column":9},"end":{"line":54,"column":19}},"name":"resolveUrl"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2967,"end":2973,"loc":{"start":{"line":54,"column":20},"end":{"line":54,"column":26}},"name":"origin"},{"type":"Identifier","start":2975,"end":2979,"loc":{"start":{"line":54,"column":28},"end":{"line":54,"column":32}},"name":"link"}],"body":{"type":"BlockStatement","start":2981,"end":3065,"loc":{"start":{"line":54,"column":34},"end":{"line":56,"column":1}},"body":[{"type":"ReturnStatement","start":2985,"end":3063,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":80}},"argument":{"type":"ConditionalExpression","start":2992,"end":3062,"loc":{"start":{"line":55,"column":9},"end":{"line":55,"column":79}},"test":{"type":"Identifier","start":2992,"end":2998,"loc":{"start":{"line":55,"column":9},"end":{"line":55,"column":15}},"name":"origin"},"consequent":{"type":"CallExpression","start":3001,"end":3034,"loc":{"start":{"line":55,"column":18},"end":{"line":55,"column":51}},"callee":{"type":"MemberExpression","start":3001,"end":3032,"loc":{"start":{"line":55,"column":18},"end":{"line":55,"column":49}},"object":{"type":"NewExpression","start":3001,"end":3023,"loc":{"start":{"line":55,"column":18},"end":{"line":55,"column":40}},"callee":{"type":"Identifier","start":3005,"end":3009,"loc":{"start":{"line":55,"column":22},"end":{"line":55,"column":26}},"name":"URL_"},"arguments":[{"type":"Identifier","start":3010,"end":3014,"loc":{"start":{"line":55,"column":27},"end":{"line":55,"column":31}},"name":"link"},{"type":"Identifier","start":3016,"end":3022,"loc":{"start":{"line":55,"column":33},"end":{"line":55,"column":39}},"name":"origin"}]},"property":{"type":"Identifier","start":3024,"end":3032,"loc":{"start":{"line":55,"column":41},"end":{"line":55,"column":49}},"name":"toString"},"computed":false},"arguments":[]},"alternate":{"type":"CallExpression","start":3037,"end":3062,"loc":{"start":{"line":55,"column":54},"end":{"line":55,"column":79}},"callee":{"type":"MemberExpression","start":3037,"end":3060,"loc":{"start":{"line":55,"column":54},"end":{"line":55,"column":77}},"object":{"type":"NewExpression","start":3037,"end":3051,"loc":{"start":{"line":55,"column":54},"end":{"line":55,"column":68}},"callee":{"type":"Identifier","start":3041,"end":3045,"loc":{"start":{"line":55,"column":58},"end":{"line":55,"column":62}},"name":"URL_"},"arguments":[{"type":"Identifier","start":3046,"end":3050,"loc":{"start":{"line":55,"column":63},"end":{"line":55,"column":67}},"name":"link"}]},"property":{"type":"Identifier","start":3052,"end":3060,"loc":{"start":{"line":55,"column":69},"end":{"line":55,"column":77}},"name":"toString"},"computed":false},"arguments":[]}}}]}},{"type":"FunctionDeclaration","start":3067,"end":3731,"loc":{"start":{"line":58,"column":0},"end":{"line":81,"column":1}},"id":{"type":"Identifier","start":3076,"end":3081,"loc":{"start":{"line":58,"column":9},"end":{"line":58,"column":14}},"name":"isXml"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3082,"end":3089,"loc":{"start":{"line":58,"column":15},"end":{"line":58,"column":22}},"name":"content"},{"type":"Identifier","start":3091,"end":3094,"loc":{"start":{"line":58,"column":24},"end":{"line":58,"column":27}},"name":"xhr"}],"body":{"type":"BlockStatement","start":3096,"end":3731,"loc":{"start":{"line":58,"column":29},"end":{"line":81,"column":1}},"body":[{"type":"VariableDeclaration","start":3100,"end":3203,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":105}},"declarations":[{"type":"VariableDeclarator","start":3104,"end":3202,"loc":{"start":{"line":59,"column":6},"end":{"line":59,"column":104}},"id":{"type":"Identifier","start":3104,"end":3118,"loc":{"start":{"line":59,"column":6},"end":{"line":59,"column":20}},"name":"rawContentType"},"init":{"type":"ConditionalExpression","start":3121,"end":3202,"loc":{"start":{"line":59,"column":23},"end":{"line":59,"column":104}},"test":{"type":"MemberExpression","start":3121,"end":3132,"loc":{"start":{"line":59,"column":23},"end":{"line":59,"column":34}},"object":{"type":"Identifier","start":3121,"end":3124,"loc":{"start":{"line":59,"column":23},"end":{"line":59,"column":26}},"name":"xhr"},"property":{"type":"Identifier","start":3125,"end":3132,"loc":{"start":{"line":59,"column":27},"end":{"line":59,"column":34}},"name":"headers"},"computed":false},"consequent":{"type":"MemberExpression","start":3135,"end":3162,"loc":{"start":{"line":59,"column":37},"end":{"line":59,"column":64}},"object":{"type":"MemberExpression","start":3135,"end":3146,"loc":{"start":{"line":59,"column":37},"end":{"line":59,"column":48}},"object":{"type":"Identifier","start":3135,"end":3138,"loc":{"start":{"line":59,"column":37},"end":{"line":59,"column":40}},"name":"xhr"},"property":{"type":"Identifier","start":3139,"end":3146,"loc":{"start":{"line":59,"column":41},"end":{"line":59,"column":48}},"name":"headers"},"computed":false},"property":{"type":"Literal","start":3147,"end":3161,"loc":{"start":{"line":59,"column":49},"end":{"line":59,"column":63}},"value":"content-type","raw":"'content-type'"},"computed":true},"alternate":{"type":"CallExpression","start":3165,"end":3202,"loc":{"start":{"line":59,"column":67},"end":{"line":59,"column":104}},"callee":{"type":"MemberExpression","start":3165,"end":3186,"loc":{"start":{"line":59,"column":67},"end":{"line":59,"column":88}},"object":{"type":"Identifier","start":3165,"end":3168,"loc":{"start":{"line":59,"column":67},"end":{"line":59,"column":70}},"name":"xhr"},"property":{"type":"Identifier","start":3169,"end":3186,"loc":{"start":{"line":59,"column":71},"end":{"line":59,"column":88}},"name":"getResponseHeader"},"computed":false},"arguments":[{"type":"Literal","start":3187,"end":3201,"loc":{"start":{"line":59,"column":89},"end":{"line":59,"column":103}},"value":"Content-Type","raw":"'Content-Type'"}]}}}],"kind":"var"},{"type":"IfStatement","start":3207,"end":3259,"loc":{"start":{"line":61,"column":2},"end":{"line":63,"column":3}},"test":{"type":"BinaryExpression","start":3211,"end":3234,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":29}},"left":{"type":"Identifier","start":3211,"end":3225,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":20}},"name":"rawContentType"},"operator":"===","right":{"type":"Literal","start":3230,"end":3234,"loc":{"start":{"line":61,"column":25},"end":{"line":61,"column":29}},"value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","start":3236,"end":3259,"loc":{"start":{"line":61,"column":31},"end":{"line":63,"column":3}},"body":[{"type":"ReturnStatement","start":3242,"end":3255,"loc":{"start":{"line":62,"column":4},"end":{"line":62,"column":17}},"argument":{"type":"Literal","start":3249,"end":3254,"loc":{"start":{"line":62,"column":11},"end":{"line":62,"column":16}},"value":false,"raw":"false"}}]},"alternate":null,"comments":[{"type":"Line","value":" Get rid of mime parameters like charset=utf-8","start":3260,"end":3308,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":52}}}]},{"type":"VariableDeclaration","start":3313,"end":3380,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":69}},"declarations":[{"type":"VariableDeclarator","start":3317,"end":3379,"loc":{"start":{"line":66,"column":6},"end":{"line":66,"column":68}},"id":{"type":"Identifier","start":3317,"end":3328,"loc":{"start":{"line":66,"column":6},"end":{"line":66,"column":17}},"name":"contentType"},"init":{"type":"CallExpression","start":3331,"end":3379,"loc":{"start":{"line":66,"column":20},"end":{"line":66,"column":68}},"callee":{"type":"MemberExpression","start":3331,"end":3377,"loc":{"start":{"line":66,"column":20},"end":{"line":66,"column":66}},"object":{"type":"CallExpression","start":3331,"end":3365,"loc":{"start":{"line":66,"column":20},"end":{"line":66,"column":54}},"callee":{"type":"MemberExpression","start":3331,"end":3353,"loc":{"start":{"line":66,"column":20},"end":{"line":66,"column":42}},"object":{"type":"Identifier","start":3331,"end":3345,"loc":{"start":{"line":66,"column":20},"end":{"line":66,"column":34}},"name":"rawContentType"},"property":{"type":"Identifier","start":3346,"end":3353,"loc":{"start":{"line":66,"column":35},"end":{"line":66,"column":42}},"name":"replace"},"computed":false},"arguments":[{"type":"Literal","start":3354,"end":3360,"loc":{"start":{"line":66,"column":43},"end":{"line":66,"column":49}},"value":{},"raw":"/;.*$/","regex":{"pattern":";.*$","flags":""}},{"type":"Literal","start":3362,"end":3364,"loc":{"start":{"line":66,"column":51},"end":{"line":66,"column":53}},"value":"","raw":"''"}]},"property":{"type":"Identifier","start":3366,"end":3377,"loc":{"start":{"line":66,"column":55},"end":{"line":66,"column":66}},"name":"toLowerCase"},"computed":false},"arguments":[]}}],"kind":"var"},{"type":"IfStatement","start":3384,"end":3712,"loc":{"start":{"line":68,"column":2},"end":{"line":78,"column":3}},"test":{"type":"BinaryExpression","start":3388,"end":3419,"loc":{"start":{"line":68,"column":6},"end":{"line":68,"column":37}},"left":{"type":"UnaryExpression","start":3388,"end":3406,"loc":{"start":{"line":68,"column":6},"end":{"line":68,"column":24}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":3395,"end":3406,"loc":{"start":{"line":68,"column":13},"end":{"line":68,"column":24}},"name":"contentType"}},"operator":"===","right":{"type":"Literal","start":3411,"end":3419,"loc":{"start":{"line":68,"column":29},"end":{"line":68,"column":37}},"value":"string","raw":"'string'"}},"consequent":{"type":"BlockStatement","start":3421,"end":3712,"loc":{"start":{"line":68,"column":39},"end":{"line":78,"column":3}},"body":[{"type":"IfStatement","start":3427,"end":3522,"loc":{"start":{"line":69,"column":4},"end":{"line":71,"column":5}},"test":{"type":"LogicalExpression","start":3431,"end":3494,"loc":{"start":{"line":69,"column":8},"end":{"line":69,"column":71}},"left":{"type":"BinaryExpression","start":3431,"end":3464,"loc":{"start":{"line":69,"column":8},"end":{"line":69,"column":41}},"left":{"type":"Identifier","start":3431,"end":3442,"loc":{"start":{"line":69,"column":8},"end":{"line":69,"column":19}},"name":"contentType"},"operator":"===","right":{"type":"Literal","start":3447,"end":3464,"loc":{"start":{"line":69,"column":24},"end":{"line":69,"column":41}},"value":"application/xml","raw":"'application/xml'"}},"operator":"||","right":{"type":"BinaryExpression","start":3468,"end":3494,"loc":{"start":{"line":69,"column":45},"end":{"line":69,"column":71}},"left":{"type":"Identifier","start":3468,"end":3479,"loc":{"start":{"line":69,"column":45},"end":{"line":69,"column":56}},"name":"contentType"},"operator":"===","right":{"type":"Literal","start":3484,"end":3494,"loc":{"start":{"line":69,"column":61},"end":{"line":69,"column":71}},"value":"text/xml","raw":"'text/xml'"}}},"consequent":{"type":"BlockStatement","start":3496,"end":3522,"loc":{"start":{"line":69,"column":73},"end":{"line":71,"column":5}},"body":[{"type":"ReturnStatement","start":3504,"end":3516,"loc":{"start":{"line":70,"column":6},"end":{"line":70,"column":18}},"argument":{"type":"Literal","start":3511,"end":3515,"loc":{"start":{"line":70,"column":13},"end":{"line":70,"column":17}},"value":true,"raw":"true"}}]},"alternate":null,"comments":[{"type":"Line","value":" GCS uses text/html for some reason","start":3523,"end":3560,"loc":{"start":{"line":71,"column":6},"end":{"line":71,"column":43}}}]},{"type":"IfStatement","start":3621,"end":3708,"loc":{"start":{"line":75,"column":4},"end":{"line":77,"column":5}},"test":{"type":"LogicalExpression","start":3625,"end":3680,"loc":{"start":{"line":75,"column":8},"end":{"line":75,"column":63}},"left":{"type":"BinaryExpression","start":3625,"end":3652,"loc":{"start":{"line":75,"column":8},"end":{"line":75,"column":35}},"left":{"type":"Identifier","start":3625,"end":3636,"loc":{"start":{"line":75,"column":8},"end":{"line":75,"column":19}},"name":"contentType"},"operator":"===","right":{"type":"Literal","start":3641,"end":3652,"loc":{"start":{"line":75,"column":24},"end":{"line":75,"column":35}},"value":"text/html","raw":"'text/html'"}},"operator":"&&","right":{"type":"CallExpression","start":3656,"end":3680,"loc":{"start":{"line":75,"column":39},"end":{"line":75,"column":63}},"callee":{"type":"MemberExpression","start":3656,"end":3671,"loc":{"start":{"line":75,"column":39},"end":{"line":75,"column":54}},"object":{"type":"Literal","start":3656,"end":3666,"loc":{"start":{"line":75,"column":39},"end":{"line":75,"column":49}},"value":{},"raw":"/^<\\?xml /","regex":{"pattern":"^<\\?xml ","flags":""}},"property":{"type":"Identifier","start":3667,"end":3671,"loc":{"start":{"line":75,"column":50},"end":{"line":75,"column":54}},"name":"test"},"computed":false},"arguments":[{"type":"Identifier","start":3672,"end":3679,"loc":{"start":{"line":75,"column":55},"end":{"line":75,"column":62}},"name":"content"}]}},"consequent":{"type":"BlockStatement","start":3682,"end":3708,"loc":{"start":{"line":75,"column":65},"end":{"line":77,"column":5}},"body":[{"type":"ReturnStatement","start":3690,"end":3702,"loc":{"start":{"line":76,"column":6},"end":{"line":76,"column":18}},"argument":{"type":"Literal","start":3697,"end":3701,"loc":{"start":{"line":76,"column":13},"end":{"line":76,"column":17}},"value":true,"raw":"true"}}]},"alternate":null,"comments":[{"type":"Line","value":" https://github.com/transloadit/uppy/issues/896","start":3565,"end":3614,"loc":{"start":{"line":72,"column":4},"end":{"line":72,"column":53}}}]}]},"alternate":null},{"type":"ReturnStatement","start":3716,"end":3729,"loc":{"start":{"line":80,"column":2},"end":{"line":80,"column":15}},"argument":{"type":"Literal","start":3723,"end":3728,"loc":{"start":{"line":80,"column":9},"end":{"line":80,"column":14}},"value":false,"raw":"false"}}]}},{"type":"FunctionDeclaration","start":3733,"end":3956,"loc":{"start":{"line":83,"column":0},"end":{"line":87,"column":1}},"id":{"type":"Identifier","start":3742,"end":3753,"loc":{"start":{"line":83,"column":9},"end":{"line":83,"column":20}},"name":"getXmlValue"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3754,"end":3760,"loc":{"start":{"line":83,"column":21},"end":{"line":83,"column":27}},"name":"source"},{"type":"Identifier","start":3762,"end":3765,"loc":{"start":{"line":83,"column":29},"end":{"line":83,"column":32}},"name":"key"}],"body":{"type":"BlockStatement","start":3767,"end":3956,"loc":{"start":{"line":83,"column":34},"end":{"line":87,"column":1}},"body":[{"type":"VariableDeclaration","start":3771,"end":3815,"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":46}},"declarations":[{"type":"VariableDeclarator","start":3775,"end":3814,"loc":{"start":{"line":84,"column":6},"end":{"line":84,"column":45}},"id":{"type":"Identifier","start":3775,"end":3780,"loc":{"start":{"line":84,"column":6},"end":{"line":84,"column":11}},"name":"start"},"init":{"type":"CallExpression","start":3783,"end":3814,"loc":{"start":{"line":84,"column":14},"end":{"line":84,"column":45}},"callee":{"type":"MemberExpression","start":3783,"end":3797,"loc":{"start":{"line":84,"column":14},"end":{"line":84,"column":28}},"object":{"type":"Identifier","start":3783,"end":3789,"loc":{"start":{"line":84,"column":14},"end":{"line":84,"column":20}},"name":"source"},"property":{"type":"Identifier","start":3790,"end":3797,"loc":{"start":{"line":84,"column":21},"end":{"line":84,"column":28}},"name":"indexOf"},"computed":false},"arguments":[{"type":"BinaryExpression","start":3798,"end":3813,"loc":{"start":{"line":84,"column":29},"end":{"line":84,"column":44}},"left":{"type":"BinaryExpression","start":3798,"end":3807,"loc":{"start":{"line":84,"column":29},"end":{"line":84,"column":38}},"left":{"type":"Literal","start":3798,"end":3801,"loc":{"start":{"line":84,"column":29},"end":{"line":84,"column":32}},"value":"<","raw":"\"<\""},"operator":"+","right":{"type":"Identifier","start":3804,"end":3807,"loc":{"start":{"line":84,"column":35},"end":{"line":84,"column":38}},"name":"key"}},"operator":"+","right":{"type":"Literal","start":3810,"end":3813,"loc":{"start":{"line":84,"column":41},"end":{"line":84,"column":44}},"value":">","raw":"\">\""}}]}}],"kind":"var"},{"type":"VariableDeclaration","start":3818,"end":3868,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":52}},"declarations":[{"type":"VariableDeclarator","start":3822,"end":3867,"loc":{"start":{"line":85,"column":6},"end":{"line":85,"column":51}},"id":{"type":"Identifier","start":3822,"end":3825,"loc":{"start":{"line":85,"column":6},"end":{"line":85,"column":9}},"name":"end"},"init":{"type":"CallExpression","start":3828,"end":3867,"loc":{"start":{"line":85,"column":12},"end":{"line":85,"column":51}},"callee":{"type":"MemberExpression","start":3828,"end":3842,"loc":{"start":{"line":85,"column":12},"end":{"line":85,"column":26}},"object":{"type":"Identifier","start":3828,"end":3834,"loc":{"start":{"line":85,"column":12},"end":{"line":85,"column":18}},"name":"source"},"property":{"type":"Identifier","start":3835,"end":3842,"loc":{"start":{"line":85,"column":19},"end":{"line":85,"column":26}},"name":"indexOf"},"computed":false},"arguments":[{"type":"BinaryExpression","start":3843,"end":3859,"loc":{"start":{"line":85,"column":27},"end":{"line":85,"column":43}},"left":{"type":"BinaryExpression","start":3843,"end":3853,"loc":{"start":{"line":85,"column":27},"end":{"line":85,"column":37}},"left":{"type":"Literal","start":3843,"end":3847,"loc":{"start":{"line":85,"column":27},"end":{"line":85,"column":31}},"value":"</","raw":"\"</\""},"operator":"+","right":{"type":"Identifier","start":3850,"end":3853,"loc":{"start":{"line":85,"column":34},"end":{"line":85,"column":37}},"name":"key"}},"operator":"+","right":{"type":"Literal","start":3856,"end":3859,"loc":{"start":{"line":85,"column":40},"end":{"line":85,"column":43}},"value":">","raw":"\">\""}},{"type":"Identifier","start":3861,"end":3866,"loc":{"start":{"line":85,"column":45},"end":{"line":85,"column":50}},"name":"start"}]}}],"kind":"var"},{"type":"ReturnStatement","start":3871,"end":3954,"loc":{"start":{"line":86,"column":2},"end":{"line":86,"column":85}},"argument":{"type":"ConditionalExpression","start":3878,"end":3953,"loc":{"start":{"line":86,"column":9},"end":{"line":86,"column":84}},"test":{"type":"LogicalExpression","start":3878,"end":3904,"loc":{"start":{"line":86,"column":9},"end":{"line":86,"column":35}},"left":{"type":"BinaryExpression","start":3878,"end":3890,"loc":{"start":{"line":86,"column":9},"end":{"line":86,"column":21}},"left":{"type":"Identifier","start":3878,"end":3883,"loc":{"start":{"line":86,"column":9},"end":{"line":86,"column":14}},"name":"start"},"operator":"!==","right":{"type":"UnaryExpression","start":3888,"end":3890,"loc":{"start":{"line":86,"column":19},"end":{"line":86,"column":21}},"operator":"-","prefix":true,"argument":{"type":"Literal","start":3889,"end":3890,"loc":{"start":{"line":86,"column":20},"end":{"line":86,"column":21}},"value":1,"raw":"1"}}},"operator":"&&","right":{"type":"BinaryExpression","start":3894,"end":3904,"loc":{"start":{"line":86,"column":25},"end":{"line":86,"column":35}},"left":{"type":"Identifier","start":3894,"end":3897,"loc":{"start":{"line":86,"column":25},"end":{"line":86,"column":28}},"name":"end"},"operator":"!==","right":{"type":"UnaryExpression","start":3902,"end":3904,"loc":{"start":{"line":86,"column":33},"end":{"line":86,"column":35}},"operator":"-","prefix":true,"argument":{"type":"Literal","start":3903,"end":3904,"loc":{"start":{"line":86,"column":34},"end":{"line":86,"column":35}},"value":1,"raw":"1"}}}},"consequent":{"type":"CallExpression","start":3907,"end":3948,"loc":{"start":{"line":86,"column":38},"end":{"line":86,"column":79}},"callee":{"type":"MemberExpression","start":3907,"end":3919,"loc":{"start":{"line":86,"column":38},"end":{"line":86,"column":50}},"object":{"type":"Identifier","start":3907,"end":3913,"loc":{"start":{"line":86,"column":38},"end":{"line":86,"column":44}},"name":"source"},"property":{"type":"Identifier","start":3914,"end":3919,"loc":{"start":{"line":86,"column":45},"end":{"line":86,"column":50}},"name":"slice"},"computed":false},"arguments":[{"type":"BinaryExpression","start":3920,"end":3942,"loc":{"start":{"line":86,"column":51},"end":{"line":86,"column":73}},"left":{"type":"BinaryExpression","start":3920,"end":3938,"loc":{"start":{"line":86,"column":51},"end":{"line":86,"column":69}},"left":{"type":"Identifier","start":3920,"end":3925,"loc":{"start":{"line":86,"column":51},"end":{"line":86,"column":56}},"name":"start"},"operator":"+","right":{"type":"MemberExpression","start":3928,"end":3938,"loc":{"start":{"line":86,"column":59},"end":{"line":86,"column":69}},"object":{"type":"Identifier","start":3928,"end":3931,"loc":{"start":{"line":86,"column":59},"end":{"line":86,"column":62}},"name":"key"},"property":{"type":"Identifier","start":3932,"end":3938,"loc":{"start":{"line":86,"column":63},"end":{"line":86,"column":69}},"name":"length"},"computed":false}},"operator":"+","right":{"type":"Literal","start":3941,"end":3942,"loc":{"start":{"line":86,"column":72},"end":{"line":86,"column":73}},"value":2,"raw":"2"}},{"type":"Identifier","start":3944,"end":3947,"loc":{"start":{"line":86,"column":75},"end":{"line":86,"column":78}},"name":"end"}]},"alternate":{"type":"Literal","start":3951,"end":3953,"loc":{"start":{"line":86,"column":82},"end":{"line":86,"column":84}},"value":"","raw":"''"}}}]}},{"type":"FunctionDeclaration","start":3958,"end":4129,"loc":{"start":{"line":89,"column":0},"end":{"line":99,"column":1}},"id":{"type":"Identifier","start":3967,"end":3984,"loc":{"start":{"line":89,"column":9},"end":{"line":89,"column":26}},"name":"assertServerError"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3985,"end":3988,"loc":{"start":{"line":89,"column":27},"end":{"line":89,"column":30}},"name":"res"}],"body":{"type":"BlockStatement","start":3990,"end":4129,"loc":{"start":{"line":89,"column":32},"end":{"line":99,"column":1}},"body":[{"type":"IfStatement","start":3994,"end":4112,"loc":{"start":{"line":90,"column":2},"end":{"line":96,"column":3}},"test":{"type":"LogicalExpression","start":3998,"end":4014,"loc":{"start":{"line":90,"column":6},"end":{"line":90,"column":22}},"left":{"type":"Identifier","start":3998,"end":4001,"loc":{"start":{"line":90,"column":6},"end":{"line":90,"column":9}},"name":"res"},"operator":"&&","right":{"type":"MemberExpression","start":4005,"end":4014,"loc":{"start":{"line":90,"column":13},"end":{"line":90,"column":22}},"object":{"type":"Identifier","start":4005,"end":4008,"loc":{"start":{"line":90,"column":13},"end":{"line":90,"column":16}},"name":"res"},"property":{"type":"Identifier","start":4009,"end":4014,"loc":{"start":{"line":90,"column":17},"end":{"line":90,"column":22}},"name":"error"},"computed":false}},"consequent":{"type":"BlockStatement","start":4016,"end":4112,"loc":{"start":{"line":90,"column":24},"end":{"line":96,"column":3}},"body":[{"type":"VariableDeclaration","start":4022,"end":4057,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":39}},"declarations":[{"type":"VariableDeclarator","start":4026,"end":4056,"loc":{"start":{"line":91,"column":8},"end":{"line":91,"column":38}},"id":{"type":"Identifier","start":4026,"end":4031,"loc":{"start":{"line":91,"column":8},"end":{"line":91,"column":13}},"name":"error"},"init":{"type":"NewExpression","start":4034,"end":4056,"loc":{"start":{"line":91,"column":16},"end":{"line":91,"column":38}},"callee":{"type":"Identifier","start":4038,"end":4043,"loc":{"start":{"line":91,"column":20},"end":{"line":91,"column":25}},"name":"Error"},"arguments":[{"type":"MemberExpression","start":4044,"end":4055,"loc":{"start":{"line":91,"column":26},"end":{"line":91,"column":37}},"object":{"type":"Identifier","start":4044,"end":4047,"loc":{"start":{"line":91,"column":26},"end":{"line":91,"column":29}},"name":"res"},"property":{"type":"Identifier","start":4048,"end":4055,"loc":{"start":{"line":91,"column":30},"end":{"line":91,"column":37}},"name":"message"},"computed":false}]}}],"kind":"var"},{"type":"ExpressionStatement","start":4063,"end":4090,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":31}},"expression":{"type":"CallExpression","start":4063,"end":4089,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":30}},"callee":{"type":"Identifier","start":4063,"end":4071,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":12}},"name":"_extends"},"arguments":[{"type":"Identifier","start":4072,"end":4077,"loc":{"start":{"line":93,"column":13},"end":{"line":93,"column":18}},"name":"error"},{"type":"MemberExpression","start":4079,"end":4088,"loc":{"start":{"line":93,"column":20},"end":{"line":93,"column":29}},"object":{"type":"Identifier","start":4079,"end":4082,"loc":{"start":{"line":93,"column":20},"end":{"line":93,"column":23}},"name":"res"},"property":{"type":"Identifier","start":4083,"end":4088,"loc":{"start":{"line":93,"column":24},"end":{"line":93,"column":29}},"name":"error"},"computed":false}]}},{"type":"ThrowStatement","start":4096,"end":4108,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":16}},"argument":{"type":"Identifier","start":4102,"end":4107,"loc":{"start":{"line":95,"column":10},"end":{"line":95,"column":15}},"name":"error"}}]},"alternate":null},{"type":"ReturnStatement","start":4116,"end":4127,"loc":{"start":{"line":98,"column":2},"end":{"line":98,"column":13}},"argument":{"type":"Identifier","start":4123,"end":4126,"loc":{"start":{"line":98,"column":9},"end":{"line":98,"column":12}},"name":"res"}}]},"comments":[{"type":"Line","value":" warning deduplication flag: see `getResponseData()` XHRUpload option definition","start":4130,"end":4212,"loc":{"start":{"line":99,"column":2},"end":{"line":99,"column":84}}}]},{"type":"VariableDeclaration","start":4215,"end":4253,"loc":{"start":{"line":102,"column":0},"end":{"line":102,"column":38}},"declarations":[{"type":"VariableDeclarator","start":4219,"end":4252,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":37}},"id":{"type":"Identifier","start":4219,"end":4244,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":29}},"name":"warnedSuccessActionStatus"},"init":{"type":"Literal","start":4247,"end":4252,"loc":{"start":{"line":102,"column":32},"end":{"line":102,"column":37}},"value":false,"raw":"false"}}],"kind":"var"},{"type":"ExpressionStatement","start":4254,"end":11465,"loc":{"start":{"line":103,"column":0},"end":{"line":317,"column":71}},"expression":{"type":"AssignmentExpression","start":4254,"end":11464,"loc":{"start":{"line":103,"column":0},"end":{"line":317,"column":70}},"operator":"=","left":{"type":"MemberExpression","start":4254,"end":4268,"loc":{"start":{"line":103,"column":0},"end":{"line":103,"column":14}},"object":{"type":"Identifier","start":4254,"end":4260,"loc":{"start":{"line":103,"column":0},"end":{"line":103,"column":6}},"name":"module"},"property":{"type":"Identifier","start":4261,"end":4268,"loc":{"start":{"line":103,"column":7},"end":{"line":103,"column":14}},"name":"exports"},"computed":false},"right":{"type":"SequenceExpression","start":4272,"end":11463,"loc":{"start":{"line":103,"column":18},"end":{"line":317,"column":69}},"expressions":[{"type":"AssignmentExpression","start":4272,"end":11403,"loc":{"start":{"line":103,"column":18},"end":{"line":317,"column":9}},"operator":"=","left":{"type":"Identifier","start":4272,"end":4277,"loc":{"start":{"line":103,"column":18},"end":{"line":103,"column":23}},"name":"_temp"},"right":{"type":"AssignmentExpression","start":4280,"end":11403,"loc":{"start":{"line":103,"column":26},"end":{"line":317,"column":9}},"operator":"=","left":{"type":"Identifier","start":4280,"end":4286,"loc":{"start":{"line":103,"column":26},"end":{"line":103,"column":32}},"name":"_class"},"right":{"type":"CallExpression","start":4302,"end":11403,"loc":{"start":{"line":103,"column":48},"end":{"line":317,"column":9}},"callee":{"type":"FunctionExpression","start":4302,"end":11395,"loc":{"start":{"line":103,"column":48},"end":{"line":317,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4312,"end":4319,"loc":{"start":{"line":103,"column":58},"end":{"line":103,"column":65}},"name":"_Plugin"}],"body":{"type":"BlockStatement","start":4321,"end":11395,"loc":{"start":{"line":103,"column":67},"end":{"line":317,"column":1}},"body":[{"type":"ExpressionStatement","start":4325,"end":4356,"loc":{"start":{"line":104,"column":2},"end":{"line":104,"column":33}},"expression":{"type":"CallExpression","start":4325,"end":4355,"loc":{"start":{"line":104,"column":2},"end":{"line":104,"column":32}},"callee":{"type":"Identifier","start":4325,"end":4339,"loc":{"start":{"line":104,"column":2},"end":{"line":104,"column":16}},"name":"_inheritsLoose"},"arguments":[{"type":"Identifier","start":4340,"end":4345,"loc":{"start":{"line":104,"column":17},"end":{"line":104,"column":22}},"name":"AwsS3"},{"type":"Identifier","start":4347,"end":4354,"loc":{"start":{"line":104,"column":24},"end":{"line":104,"column":31}},"name":"_Plugin"}]}},{"type":"FunctionDeclaration","start":4360,"end":5036,"loc":{"start":{"line":106,"column":2},"end":{"line":125,"column":3}},"id":{"type":"Identifier","start":4369,"end":4374,"loc":{"start":{"line":106,"column":11},"end":{"line":106,"column":16}},"name":"AwsS3"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4375,"end":4379,"loc":{"start":{"line":106,"column":17},"end":{"line":106,"column":21}},"name":"uppy"},{"type":"Identifier","start":4381,"end":4385,"loc":{"start":{"line":106,"column":23},"end":{"line":106,"column":27}},"name":"opts"}],"body":{"type":"BlockStatement","start":4387,"end":5036,"loc":{"start":{"line":106,"column":29},"end":{"line":125,"column":3}},"body":[{"type":"VariableDeclaration","start":4393,"end":4403,"loc":{"start":{"line":107,"column":4},"end":{"line":107,"column":14}},"declarations":[{"type":"VariableDeclarator","start":4397,"end":4402,"loc":{"start":{"line":107,"column":8},"end":{"line":107,"column":13}},"id":{"type":"Identifier","start":4397,"end":4402,"loc":{"start":{"line":107,"column":8},"end":{"line":107,"column":13}},"name":"_this"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","start":4409,"end":4456,"loc":{"start":{"line":109,"column":4},"end":{"line":109,"column":51}},"expression":{"type":"AssignmentExpression","start":4409,"end":4455,"loc":{"start":{"line":109,"column":4},"end":{"line":109,"column":50}},"operator":"=","left":{"type":"Identifier","start":4409,"end":4414,"loc":{"start":{"line":109,"column":4},"end":{"line":109,"column":9}},"name":"_this"},"right":{"type":"LogicalExpression","start":4417,"end":4455,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":50}},"left":{"type":"CallExpression","start":4417,"end":4447,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":42}},"callee":{"type":"MemberExpression","start":4417,"end":4429,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":24}},"object":{"type":"Identifier","start":4417,"end":4424,"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":19}},"name":"_Plugin"},"property":{"type":"Identifier","start":4425,"end":4429,"loc":{"start":{"line":109,"column":20},"end":{"line":109,"column":24}},"name":"call"},"computed":false},"arguments":[{"type":"ThisExpression","start":4430,"end":4434,"loc":{"start":{"line":109,"column":25},"end":{"line":109,"column":29}}},{"type":"Identifier","start":4436,"end":4440,"loc":{"start":{"line":109,"column":31},"end":{"line":109,"column":35}},"name":"uppy"},{"type":"Identifier","start":4442,"end":4446,"loc":{"start":{"line":109,"column":37},"end":{"line":109,"column":41}},"name":"opts"}]},"operator":"||","right":{"type":"ThisExpression","start":4451,"end":4455,"loc":{"start":{"line":109,"column":46},"end":{"line":109,"column":50}}}}}},{"type":"ExpressionStatement","start":4461,"end":4485,"loc":{"start":{"line":110,"column":4},"end":{"line":110,"column":28}},"expression":{"type":"AssignmentExpression","start":4461,"end":4484,"loc":{"start":{"line":110,"column":4},"end":{"line":110,"column":27}},"operator":"=","left":{"type":"MemberExpression","start":4461,"end":4471,"loc":{"start":{"line":110,"column":4},"end":{"line":110,"column":14}},"object":{"type":"Identifier","start":4461,"end":4466,"loc":{"start":{"line":110,"column":4},"end":{"line":110,"column":9}},"name":"_this"},"property":{"type":"Identifier","start":4467,"end":4471,"loc":{"start":{"line":110,"column":10},"end":{"line":110,"column":14}},"name":"type"},"computed":false},"right":{"type":"Literal","start":4474,"end":4484,"loc":{"start":{"line":110,"column":17},"end":{"line":110,"column":27}},"value":"uploader","raw":"'uploader'"}}},{"type":"ExpressionStatement","start":4490,"end":4526,"loc":{"start":{"line":111,"column":4},"end":{"line":111,"column":40}},"expression":{"type":"AssignmentExpression","start":4490,"end":4525,"loc":{"start":{"line":111,"column":4},"end":{"line":111,"column":39}},"operator":"=","left":{"type":"MemberExpression","start":4490,"end":4498,"loc":{"start":{"line":111,"column":4},"end":{"line":111,"column":12}},"object":{"type":"Identifier","start":4490,"end":4495,"loc":{"start":{"line":111,"column":4},"end":{"line":111,"column":9}},"name":"_this"},"property":{"type":"Identifier","start":4496,"end":4498,"loc":{"start":{"line":111,"column":10},"end":{"line":111,"column":12}},"name":"id"},"computed":false},"right":{"type":"LogicalExpression","start":4501,"end":4525,"loc":{"start":{"line":111,"column":15},"end":{"line":111,"column":39}},"left":{"type":"MemberExpression","start":4501,"end":4514,"loc":{"start":{"line":111,"column":15},"end":{"line":111,"column":28}},"object":{"type":"MemberExpression","start":4501,"end":4511,"loc":{"start":{"line":111,"column":15},"end":{"line":111,"column":25}},"object":{"type":"Identifier","start":4501,"end":4506,"loc":{"start":{"line":111,"column":15},"end":{"line":111,"column":20}},"name":"_this"},"property":{"type":"Identifier","start":4507,"end":4511,"loc":{"start":{"line":111,"column":21},"end":{"line":111,"column":25}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4512,"end":4514,"loc":{"start":{"line":111,"column":26},"end":{"line":111,"column":28}},"name":"id"},"computed":false},"operator":"||","right":{"type":"Literal","start":4518,"end":4525,"loc":{"start":{"line":111,"column":32},"end":{"line":111,"column":39}},"value":"AwsS3","raw":"'AwsS3'"}}}},{"type":"ExpressionStatement","start":4531,"end":4554,"loc":{"start":{"line":112,"column":4},"end":{"line":112,"column":27}},"expression":{"type":"AssignmentExpression","start":4531,"end":4553,"loc":{"start":{"line":112,"column":4},"end":{"line":112,"column":26}},"operator":"=","left":{"type":"MemberExpression","start":4531,"end":4542,"loc":{"start":{"line":112,"column":4},"end":{"line":112,"column":15}},"object":{"type":"Identifier","start":4531,"end":4536,"loc":{"start":{"line":112,"column":4},"end":{"line":112,"column":9}},"name":"_this"},"property":{"type":"Identifier","start":4537,"end":4542,"loc":{"start":{"line":112,"column":10},"end":{"line":112,"column":15}},"name":"title"},"computed":false},"right":{"type":"Literal","start":4545,"end":4553,"loc":{"start":{"line":112,"column":18},"end":{"line":112,"column":26}},"value":"AWS S3","raw":"'AWS S3'"}}},{"type":"VariableDeclaration","start":4559,"end":4765,"loc":{"start":{"line":113,"column":4},"end":{"line":119,"column":6}},"declarations":[{"type":"VariableDeclarator","start":4563,"end":4764,"loc":{"start":{"line":113,"column":8},"end":{"line":119,"column":5}},"id":{"type":"Identifier","start":4563,"end":4577,"loc":{"start":{"line":113,"column":8},"end":{"line":113,"column":22}},"name":"defaultOptions"},"init":{"type":"ObjectExpression","start":4580,"end":4764,"loc":{"start":{"line":113,"column":25},"end":{"line":119,"column":5}},"properties":[{"type":"Property","start":4588,"end":4606,"loc":{"start":{"line":114,"column":6},"end":{"line":114,"column":24}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4588,"end":4595,"loc":{"start":{"line":114,"column":6},"end":{"line":114,"column":13}},"name":"timeout"},"value":{"type":"BinaryExpression","start":4597,"end":4606,"loc":{"start":{"line":114,"column":15},"end":{"line":114,"column":24}},"left":{"type":"Literal","start":4597,"end":4599,"loc":{"start":{"line":114,"column":15},"end":{"line":114,"column":17}},"value":30,"raw":"30"},"operator":"*","right":{"type":"Literal","start":4602,"end":4606,"loc":{"start":{"line":114,"column":20},"end":{"line":114,"column":24}},"value":1000,"raw":"1000"}},"kind":"init"},{"type":"Property","start":4614,"end":4622,"loc":{"start":{"line":115,"column":6},"end":{"line":115,"column":14}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4614,"end":4619,"loc":{"start":{"line":115,"column":6},"end":{"line":115,"column":11}},"name":"limit"},"value":{"type":"Literal","start":4621,"end":4622,"loc":{"start":{"line":115,"column":13},"end":{"line":115,"column":14}},"value":0,"raw":"0"},"kind":"init"},{"type":"Property","start":4630,"end":4644,"loc":{"start":{"line":116,"column":6},"end":{"line":116,"column":20}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4630,"end":4640,"loc":{"start":{"line":116,"column":6},"end":{"line":116,"column":16}},"name":"metaFields"},"value":{"type":"ArrayExpression","start":4642,"end":4644,"loc":{"start":{"line":116,"column":18},"end":{"line":116,"column":20}},"elements":[]},"kind":"init"},{"type":"Property","start":4676,"end":4758,"loc":{"start":{"line":118,"column":6},"end":{"line":118,"column":88}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4676,"end":4695,"loc":{"start":{"line":118,"column":6},"end":{"line":118,"column":25}},"name":"getUploadParameters"},"value":{"type":"CallExpression","start":4697,"end":4758,"loc":{"start":{"line":118,"column":27},"end":{"line":118,"column":88}},"callee":{"type":"MemberExpression","start":4697,"end":4727,"loc":{"start":{"line":118,"column":27},"end":{"line":118,"column":57}},"object":{"type":"MemberExpression","start":4697,"end":4722,"loc":{"start":{"line":118,"column":27},"end":{"line":118,"column":52}},"object":{"type":"Identifier","start":4697,"end":4702,"loc":{"start":{"line":118,"column":27},"end":{"line":118,"column":32}},"name":"_this"},"property":{"type":"Identifier","start":4703,"end":4722,"loc":{"start":{"line":118,"column":33},"end":{"line":118,"column":52}},"name":"getUploadParameters"},"computed":false},"property":{"type":"Identifier","start":4723,"end":4727,"loc":{"start":{"line":118,"column":53},"end":{"line":118,"column":57}},"name":"bind"},"computed":false},"arguments":[{"type":"CallExpression","start":4728,"end":4757,"loc":{"start":{"line":118,"column":58},"end":{"line":118,"column":87}},"callee":{"type":"Identifier","start":4728,"end":4750,"loc":{"start":{"line":118,"column":58},"end":{"line":118,"column":80}},"name":"_assertThisInitialized"},"arguments":[{"type":"Identifier","start":4751,"end":4756,"loc":{"start":{"line":118,"column":81},"end":{"line":118,"column":86}},"name":"_this"}]}]},"kind":"init","comments":[{"type":"Line","value":" have to opt in","start":4652,"end":4669,"loc":{"start":{"line":117,"column":6},"end":{"line":117,"column":23}}}]}]}}],"kind":"var"},{"type":"ExpressionStatement","start":4770,"end":4822,"loc":{"start":{"line":120,"column":4},"end":{"line":120,"column":56}},"expression":{"type":"AssignmentExpression","start":4770,"end":4821,"loc":{"start":{"line":120,"column":4},"end":{"line":120,"column":55}},"operator":"=","left":{"type":"MemberExpression","start":4770,"end":4780,"loc":{"start":{"line":120,"column":4},"end":{"line":120,"column":14}},"object":{"type":"Identifier","start":4770,"end":4775,"loc":{"start":{"line":120,"column":4},"end":{"line":120,"column":9}},"name":"_this"},"property":{"type":"Identifier","start":4776,"end":4780,"loc":{"start":{"line":120,"column":10},"end":{"line":120,"column":14}},"name":"opts"},"computed":false},"right":{"type":"CallExpression","start":4783,"end":4821,"loc":{"start":{"line":120,"column":17},"end":{"line":120,"column":55}},"callee":{"type":"Identifier","start":4783,"end":4791,"loc":{"start":{"line":120,"column":17},"end":{"line":120,"column":25}},"name":"_extends"},"arguments":[{"type":"ObjectExpression","start":4792,"end":4794,"loc":{"start":{"line":120,"column":26},"end":{"line":120,"column":28}},"properties":[]},{"type":"Identifier","start":4796,"end":4810,"loc":{"start":{"line":120,"column":30},"end":{"line":120,"column":44}},"name":"defaultOptions"},{"type":"ObjectExpression","start":4812,"end":4814,"loc":{"start":{"line":120,"column":46},"end":{"line":120,"column":48}},"properties":[]},{"type":"Identifier","start":4816,"end":4820,"loc":{"start":{"line":120,"column":50},"end":{"line":120,"column":54}},"name":"opts"}]}}},{"type":"ExpressionStatement","start":4827,"end":4872,"loc":{"start":{"line":121,"column":4},"end":{"line":121,"column":49}},"expression":{"type":"AssignmentExpression","start":4827,"end":4871,"loc":{"start":{"line":121,"column":4},"end":{"line":121,"column":48}},"operator":"=","left":{"type":"MemberExpression","start":4827,"end":4839,"loc":{"start":{"line":121,"column":4},"end":{"line":121,"column":16}},"object":{"type":"Identifier","start":4827,"end":4832,"loc":{"start":{"line":121,"column":4},"end":{"line":121,"column":9}},"name":"_this"},"property":{"type":"Identifier","start":4833,"end":4839,"loc":{"start":{"line":121,"column":10},"end":{"line":121,"column":16}},"name":"client"},"computed":false},"right":{"type":"NewExpression","start":4842,"end":4871,"loc":{"start":{"line":121,"column":19},"end":{"line":121,"column":48}},"callee":{"type":"Identifier","start":4846,"end":4859,"loc":{"start":{"line":121,"column":23},"end":{"line":121,"column":36}},"name":"RequestClient"},"arguments":[{"type":"Identifier","start":4860,"end":4864,"loc":{"start":{"line":121,"column":37},"end":{"line":121,"column":41}},"name":"uppy"},{"type":"Identifier","start":4866,"end":4870,"loc":{"start":{"line":121,"column":43},"end":{"line":121,"column":47}},"name":"opts"}]}}},{"type":"ExpressionStatement","start":4877,"end":4953,"loc":{"start":{"line":122,"column":4},"end":{"line":122,"column":80}},"expression":{"type":"AssignmentExpression","start":4877,"end":4952,"loc":{"start":{"line":122,"column":4},"end":{"line":122,"column":79}},"operator":"=","left":{"type":"MemberExpression","start":4877,"end":4895,"loc":{"start":{"line":122,"column":4},"end":{"line":122,"column":22}},"object":{"type":"Identifier","start":4877,"end":4882,"loc":{"start":{"line":122,"column":4},"end":{"line":122,"column":9}},"name":"_this"},"property":{"type":"Identifier","start":4883,"end":4895,"loc":{"start":{"line":122,"column":10},"end":{"line":122,"column":22}},"name":"handleUpload"},"computed":false},"right":{"type":"CallExpression","start":4898,"end":4952,"loc":{"start":{"line":122,"column":25},"end":{"line":122,"column":79}},"callee":{"type":"MemberExpression","start":4898,"end":4921,"loc":{"start":{"line":122,"column":25},"end":{"line":122,"column":48}},"object":{"type":"MemberExpression","start":4898,"end":4916,"loc":{"start":{"line":122,"column":25},"end":{"line":122,"column":43}},"object":{"type":"Identifier","start":4898,"end":4903,"loc":{"start":{"line":122,"column":25},"end":{"line":122,"column":30}},"name":"_this"},"property":{"type":"Identifier","start":4904,"end":4916,"loc":{"start":{"line":122,"column":31},"end":{"line":122,"column":43}},"name":"handleUpload"},"computed":false},"property":{"type":"Identifier","start":4917,"end":4921,"loc":{"start":{"line":122,"column":44},"end":{"line":122,"column":48}},"name":"bind"},"computed":false},"arguments":[{"type":"CallExpression","start":4922,"end":4951,"loc":{"start":{"line":122,"column":49},"end":{"line":122,"column":78}},"callee":{"type":"Identifier","start":4922,"end":4944,"loc":{"start":{"line":122,"column":49},"end":{"line":122,"column":71}},"name":"_assertThisInitialized"},"arguments":[{"type":"Identifier","start":4945,"end":4950,"loc":{"start":{"line":122,"column":72},"end":{"line":122,"column":77}},"name":"_this"}]}]}}},{"type":"ExpressionStatement","start":4958,"end":5014,"loc":{"start":{"line":123,"column":4},"end":{"line":123,"column":60}},"expression":{"type":"AssignmentExpression","start":4958,"end":5013,"loc":{"start":{"line":123,"column":4},"end":{"line":123,"column":59}},"operator":"=","left":{"type":"MemberExpression","start":4958,"end":4972,"loc":{"start":{"line":123,"column":4},"end":{"line":123,"column":18}},"object":{"type":"Identifier","start":4958,"end":4963,"loc":{"start":{"line":123,"column":4},"end":{"line":123,"column":9}},"name":"_this"},"property":{"type":"Identifier","start":4964,"end":4972,"loc":{"start":{"line":123,"column":10},"end":{"line":123,"column":18}},"name":"requests"},"computed":false},"right":{"type":"NewExpression","start":4975,"end":5013,"loc":{"start":{"line":123,"column":21},"end":{"line":123,"column":59}},"callee":{"type":"Identifier","start":4979,"end":4995,"loc":{"start":{"line":123,"column":25},"end":{"line":123,"column":41}},"name":"RateLimitedQueue"},"arguments":[{"type":"MemberExpression","start":4996,"end":5012,"loc":{"start":{"line":123,"column":42},"end":{"line":123,"column":58}},"object":{"type":"MemberExpression","start":4996,"end":5006,"loc":{"start":{"line":123,"column":42},"end":{"line":123,"column":52}},"object":{"type":"Identifier","start":4996,"end":5001,"loc":{"start":{"line":123,"column":42},"end":{"line":123,"column":47}},"name":"_this"},"property":{"type":"Identifier","start":5002,"end":5006,"loc":{"start":{"line":123,"column":48},"end":{"line":123,"column":52}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":5007,"end":5012,"loc":{"start":{"line":123,"column":53},"end":{"line":123,"column":58}},"name":"limit"},"computed":false}]}}},{"type":"ReturnStatement","start":5019,"end":5032,"loc":{"start":{"line":124,"column":4},"end":{"line":124,"column":17}},"argument":{"type":"Identifier","start":5026,"end":5031,"loc":{"start":{"line":124,"column":11},"end":{"line":124,"column":16}},"name":"_this"}}]}},{"type":"VariableDeclaration","start":5040,"end":5069,"loc":{"start":{"line":127,"column":2},"end":{"line":127,"column":31}},"declarations":[{"type":"VariableDeclarator","start":5044,"end":5068,"loc":{"start":{"line":127,"column":6},"end":{"line":127,"column":30}},"id":{"type":"Identifier","start":5044,"end":5050,"loc":{"start":{"line":127,"column":6},"end":{"line":127,"column":12}},"name":"_proto"},"init":{"type":"MemberExpression","start":5053,"end":5068,"loc":{"start":{"line":127,"column":15},"end":{"line":127,"column":30}},"object":{"type":"Identifier","start":5053,"end":5058,"loc":{"start":{"line":127,"column":15},"end":{"line":127,"column":20}},"name":"AwsS3"},"property":{"type":"Identifier","start":5059,"end":5068,"loc":{"start":{"line":127,"column":21},"end":{"line":127,"column":30}},"name":"prototype"},"computed":false}}],"kind":"var"},{"type":"ExpressionStatement","start":5073,"end":5699,"loc":{"start":{"line":129,"column":2},"end":{"line":148,"column":4}},"expression":{"type":"AssignmentExpression","start":5073,"end":5698,"loc":{"start":{"line":129,"column":2},"end":{"line":148,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":5073,"end":5099,"loc":{"start":{"line":129,"column":2},"end":{"line":129,"column":28}},"object":{"type":"Identifier","start":5073,"end":5079,"loc":{"start":{"line":129,"column":2},"end":{"line":129,"column":8}},"name":"_proto"},"property":{"type":"Identifier","start":5080,"end":5099,"loc":{"start":{"line":129,"column":9},"end":{"line":129,"column":28}},"name":"getUploadParameters"},"computed":false},"right":{"type":"FunctionExpression","start":5102,"end":5698,"loc":{"start":{"line":129,"column":31},"end":{"line":148,"column":3}},"id":{"type":"Identifier","start":5111,"end":5130,"loc":{"start":{"line":129,"column":40},"end":{"line":129,"column":59}},"name":"getUploadParameters"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5131,"end":5135,"loc":{"start":{"line":129,"column":60},"end":{"line":129,"column":64}},"name":"file"}],"body":{"type":"BlockStatement","start":5137,"end":5698,"loc":{"start":{"line":129,"column":66},"end":{"line":148,"column":3}},"body":[{"type":"IfStatement","start":5143,"end":5270,"loc":{"start":{"line":130,"column":4},"end":{"line":132,"column":5}},"test":{"type":"UnaryExpression","start":5147,"end":5170,"loc":{"start":{"line":130,"column":8},"end":{"line":130,"column":31}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":5148,"end":5170,"loc":{"start":{"line":130,"column":9},"end":{"line":130,"column":31}},"object":{"type":"MemberExpression","start":5148,"end":5157,"loc":{"start":{"line":130,"column":9},"end":{"line":130,"column":18}},"object":{"type":"ThisExpression","start":5148,"end":5152,"loc":{"start":{"line":130,"column":9},"end":{"line":130,"column":13}}},"property":{"type":"Identifier","start":5153,"end":5157,"loc":{"start":{"line":130,"column":14},"end":{"line":130,"column":18}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":5158,"end":5170,"loc":{"start":{"line":130,"column":19},"end":{"line":130,"column":31}},"name":"companionUrl"},"computed":false}},"consequent":{"type":"BlockStatement","start":5172,"end":5270,"loc":{"start":{"line":130,"column":33},"end":{"line":132,"column":5}},"body":[{"type":"ThrowStatement","start":5180,"end":5264,"loc":{"start":{"line":131,"column":6},"end":{"line":131,"column":90}},"argument":{"type":"NewExpression","start":5186,"end":5263,"loc":{"start":{"line":131,"column":12},"end":{"line":131,"column":89}},"callee":{"type":"Identifier","start":5190,"end":5195,"loc":{"start":{"line":131,"column":16},"end":{"line":131,"column":21}},"name":"Error"},"arguments":[{"type":"Literal","start":5196,"end":5262,"loc":{"start":{"line":131,"column":22},"end":{"line":131,"column":88}},"value":"Expected a `companionUrl` option containing a Companion address.","raw":"'Expected a `companionUrl` option containing a Companion address.'"}]}}]},"alternate":null},{"type":"VariableDeclaration","start":5276,"end":5306,"loc":{"start":{"line":134,"column":4},"end":{"line":134,"column":34}},"declarations":[{"type":"VariableDeclarator","start":5280,"end":5305,"loc":{"start":{"line":134,"column":8},"end":{"line":134,"column":33}},"id":{"type":"Identifier","start":5280,"end":5288,"loc":{"start":{"line":134,"column":8},"end":{"line":134,"column":16}},"name":"filename"},"init":{"type":"MemberExpression","start":5291,"end":5305,"loc":{"start":{"line":134,"column":19},"end":{"line":134,"column":33}},"object":{"type":"MemberExpression","start":5291,"end":5300,"loc":{"start":{"line":134,"column":19},"end":{"line":134,"column":28}},"object":{"type":"Identifier","start":5291,"end":5295,"loc":{"start":{"line":134,"column":19},"end":{"line":134,"column":23}},"name":"file"},"property":{"type":"Identifier","start":5296,"end":5300,"loc":{"start":{"line":134,"column":24},"end":{"line":134,"column":28}},"name":"meta"},"computed":false},"property":{"type":"Identifier","start":5301,"end":5305,"loc":{"start":{"line":134,"column":29},"end":{"line":134,"column":33}},"name":"name"},"computed":false}}],"kind":"var"},{"type":"VariableDeclaration","start":5311,"end":5337,"loc":{"start":{"line":135,"column":4},"end":{"line":135,"column":30}},"declarations":[{"type":"VariableDeclarator","start":5315,"end":5336,"loc":{"start":{"line":135,"column":8},"end":{"line":135,"column":29}},"id":{"type":"Identifier","start":5315,"end":5319,"loc":{"start":{"line":135,"column":8},"end":{"line":135,"column":12}},"name":"type"},"init":{"type":"MemberExpression","start":5322,"end":5336,"loc":{"start":{"line":135,"column":15},"end":{"line":135,"column":29}},"object":{"type":"MemberExpression","start":5322,"end":5331,"loc":{"start":{"line":135,"column":15},"end":{"line":135,"column":24}},"object":{"type":"Identifier","start":5322,"end":5326,"loc":{"start":{"line":135,"column":15},"end":{"line":135,"column":19}},"name":"file"},"property":{"type":"Identifier","start":5327,"end":5331,"loc":{"start":{"line":135,"column":20},"end":{"line":135,"column":24}},"name":"meta"},"computed":false},"property":{"type":"Identifier","start":5332,"end":5336,"loc":{"start":{"line":135,"column":25},"end":{"line":135,"column":29}},"name":"type"},"computed":false}}],"kind":"var"},{"type":"VariableDeclaration","start":5342,"end":5360,"loc":{"start":{"line":136,"column":4},"end":{"line":136,"column":22}},"declarations":[{"type":"VariableDeclarator","start":5346,"end":5359,"loc":{"start":{"line":136,"column":8},"end":{"line":136,"column":21}},"id":{"type":"Identifier","start":5346,"end":5354,"loc":{"start":{"line":136,"column":8},"end":{"line":136,"column":16}},"name":"metadata"},"init":{"type":"ObjectExpression","start":5357,"end":5359,"loc":{"start":{"line":136,"column":19},"end":{"line":136,"column":21}},"properties":[]}}],"kind":"var"},{"type":"ExpressionStatement","start":5365,"end":5513,"loc":{"start":{"line":137,"column":4},"end":{"line":141,"column":7}},"expression":{"type":"CallExpression","start":5365,"end":5512,"loc":{"start":{"line":137,"column":4},"end":{"line":141,"column":6}},"callee":{"type":"MemberExpression","start":5365,"end":5393,"loc":{"start":{"line":137,"column":4},"end":{"line":137,"column":32}},"object":{"type":"MemberExpression","start":5365,"end":5385,"loc":{"start":{"line":137,"column":4},"end":{"line":137,"column":24}},"object":{"type":"MemberExpression","start":5365,"end":5374,"loc":{"start":{"line":137,"column":4},"end":{"line":137,"column":13}},"object":{"type":"ThisExpression","start":5365,"end":5369,"loc":{"start":{"line":137,"column":4},"end":{"line":137,"column":8}}},"property":{"type":"Identifier","start":5370,"end":5374,"loc":{"start":{"line":137,"column":9},"end":{"line":137,"column":13}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":5375,"end":5385,"loc":{"start":{"line":137,"column":14},"end":{"line":137,"column":24}},"name":"metaFields"},"computed":false},"property":{"type":"Identifier","start":5386,"end":5393,"loc":{"start":{"line":137,"column":25},"end":{"line":137,"column":32}},"name":"forEach"},"computed":false},"arguments":[{"type":"FunctionExpression","start":5394,"end":5511,"loc":{"start":{"line":137,"column":33},"end":{"line":141,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5404,"end":5407,"loc":{"start":{"line":137,"column":43},"end":{"line":137,"column":46}},"name":"key"}],"body":{"type":"BlockStatement","start":5409,"end":5511,"loc":{"start":{"line":137,"column":48},"end":{"line":141,"column":5}},"body":[{"type":"IfStatement","start":5417,"end":5505,"loc":{"start":{"line":138,"column":6},"end":{"line":140,"column":7}},"test":{"type":"BinaryExpression","start":5421,"end":5443,"loc":{"start":{"line":138,"column":10},"end":{"line":138,"column":32}},"left":{"type":"MemberExpression","start":5421,"end":5435,"loc":{"start":{"line":138,"column":10},"end":{"line":138,"column":24}},"object":{"type":"MemberExpression","start":5421,"end":5430,"loc":{"start":{"line":138,"column":10},"end":{"line":138,"column":19}},"object":{"type":"Identifier","start":5421,"end":5425,"loc":{"start":{"line":138,"column":10},"end":{"line":138,"column":14}},"name":"file"},"property":{"type":"Identifier","start":5426,"end":5430,"loc":{"start":{"line":138,"column":15},"end":{"line":138,"column":19}},"name":"meta"},"computed":false},"property":{"type":"Identifier","start":5431,"end":5434,"loc":{"start":{"line":138,"column":20},"end":{"line":138,"column":23}},"name":"key"},"computed":true},"operator":"!=","right":{"type":"Literal","start":5439,"end":5443,"loc":{"start":{"line":138,"column":28},"end":{"line":138,"column":32}},"value":null,"raw":"null"}},"consequent":{"type":"BlockStatement","start":5445,"end":5505,"loc":{"start":{"line":138,"column":34},"end":{"line":140,"column":7}},"body":[{"type":"ExpressionStatement","start":5455,"end":5497,"loc":{"start":{"line":139,"column":8},"end":{"line":139,"column":50}},"expression":{"type":"AssignmentExpression","start":5455,"end":5496,"loc":{"start":{"line":139,"column":8},"end":{"line":139,"column":49}},"operator":"=","left":{"type":"MemberExpression","start":5455,"end":5468,"loc":{"start":{"line":139,"column":8},"end":{"line":139,"column":21}},"object":{"type":"Identifier","start":5455,"end":5463,"loc":{"start":{"line":139,"column":8},"end":{"line":139,"column":16}},"name":"metadata"},"property":{"type":"Identifier","start":5464,"end":5467,"loc":{"start":{"line":139,"column":17},"end":{"line":139,"column":20}},"name":"key"},"computed":true},"right":{"type":"CallExpression","start":5471,"end":5496,"loc":{"start":{"line":139,"column":24},"end":{"line":139,"column":49}},"callee":{"type":"MemberExpression","start":5471,"end":5494,"loc":{"start":{"line":139,"column":24},"end":{"line":139,"column":47}},"object":{"type":"MemberExpression","start":5471,"end":5485,"loc":{"start":{"line":139,"column":24},"end":{"line":139,"column":38}},"object":{"type":"MemberExpression","start":5471,"end":5480,"loc":{"start":{"line":139,"column":24},"end":{"line":139,"column":33}},"object":{"type":"Identifier","start":5471,"end":5475,"loc":{"start":{"line":139,"column":24},"end":{"line":139,"column":28}},"name":"file"},"property":{"type":"Identifier","start":5476,"end":5480,"loc":{"start":{"line":139,"column":29},"end":{"line":139,"column":33}},"name":"meta"},"computed":false},"property":{"type":"Identifier","start":5481,"end":5484,"loc":{"start":{"line":139,"column":34},"end":{"line":139,"column":37}},"name":"key"},"computed":true},"property":{"type":"Identifier","start":5486,"end":5494,"loc":{"start":{"line":139,"column":39},"end":{"line":139,"column":47}},"name":"toString"},"computed":false},"arguments":[]}}}]},"alternate":null}]}}]}},{"type":"VariableDeclaration","start":5518,"end":5620,"loc":{"start":{"line":142,"column":4},"end":{"line":146,"column":7}},"declarations":[{"type":"VariableDeclarator","start":5522,"end":5619,"loc":{"start":{"line":142,"column":8},"end":{"line":146,"column":6}},"id":{"type":"Identifier","start":5522,"end":5527,"loc":{"start":{"line":142,"column":8},"end":{"line":142,"column":13}},"name":"query"},"init":{"type":"CallExpression","start":5530,"end":5619,"loc":{"start":{"line":142,"column":16},"end":{"line":146,"column":6}},"callee":{"type":"Identifier","start":5530,"end":5541,"loc":{"start":{"line":142,"column":16},"end":{"line":142,"column":27}},"name":"qsStringify"},"arguments":[{"type":"ObjectExpression","start":5542,"end":5618,"loc":{"start":{"line":142,"column":28},"end":{"line":146,"column":5}},"properties":[{"type":"Property","start":5550,"end":5568,"loc":{"start":{"line":143,"column":6},"end":{"line":143,"column":24}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5550,"end":5558,"loc":{"start":{"line":143,"column":6},"end":{"line":143,"column":14}},"name":"filename"},"value":{"type":"Identifier","start":5560,"end":5568,"loc":{"start":{"line":143,"column":16},"end":{"line":143,"column":24}},"name":"filename"},"kind":"init"},{"type":"Property","start":5576,"end":5586,"loc":{"start":{"line":144,"column":6},"end":{"line":144,"column":16}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5576,"end":5580,"loc":{"start":{"line":144,"column":6},"end":{"line":144,"column":10}},"name":"type"},"value":{"type":"Identifier","start":5582,"end":5586,"loc":{"start":{"line":144,"column":12},"end":{"line":144,"column":16}},"name":"type"},"kind":"init"},{"type":"Property","start":5594,"end":5612,"loc":{"start":{"line":145,"column":6},"end":{"line":145,"column":24}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5594,"end":5602,"loc":{"start":{"line":145,"column":6},"end":{"line":145,"column":14}},"name":"metadata"},"value":{"type":"Identifier","start":5604,"end":5612,"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":24}},"name":"metadata"},"kind":"init"}]}]}}],"kind":"var"},{"type":"ReturnStatement","start":5625,"end":5694,"loc":{"start":{"line":147,"column":4},"end":{"line":147,"column":73}},"argument":{"type":"CallExpression","start":5632,"end":5693,"loc":{"start":{"line":147,"column":11},"end":{"line":147,"column":72}},"callee":{"type":"MemberExpression","start":5632,"end":5674,"loc":{"start":{"line":147,"column":11},"end":{"line":147,"column":53}},"object":{"type":"CallExpression","start":5632,"end":5669,"loc":{"start":{"line":147,"column":11},"end":{"line":147,"column":48}},"callee":{"type":"MemberExpression","start":5632,"end":5647,"loc":{"start":{"line":147,"column":11},"end":{"line":147,"column":26}},"object":{"type":"MemberExpression","start":5632,"end":5643,"loc":{"start":{"line":147,"column":11},"end":{"line":147,"column":22}},"object":{"type":"ThisExpression","start":5632,"end":5636,"loc":{"start":{"line":147,"column":11},"end":{"line":147,"column":15}}},"property":{"type":"Identifier","start":5637,"end":5643,"loc":{"start":{"line":147,"column":16},"end":{"line":147,"column":22}},"name":"client"},"computed":false},"property":{"type":"Identifier","start":5644,"end":5647,"loc":{"start":{"line":147,"column":23},"end":{"line":147,"column":26}},"name":"get"},"computed":false},"arguments":[{"type":"BinaryExpression","start":5648,"end":5668,"loc":{"start":{"line":147,"column":27},"end":{"line":147,"column":47}},"left":{"type":"Literal","start":5648,"end":5660,"loc":{"start":{"line":147,"column":27},"end":{"line":147,"column":39}},"value":"s3/params?","raw":"\"s3/params?\""},"operator":"+","right":{"type":"Identifier","start":5663,"end":5668,"loc":{"start":{"line":147,"column":42},"end":{"line":147,"column":47}},"name":"query"}}]},"property":{"type":"Identifier","start":5670,"end":5674,"loc":{"start":{"line":147,"column":49},"end":{"line":147,"column":53}},"name":"then"},"computed":false},"arguments":[{"type":"Identifier","start":5675,"end":5692,"loc":{"start":{"line":147,"column":54},"end":{"line":147,"column":71}},"name":"assertServerError"}]}}]}}}},{"type":"ExpressionStatement","start":5703,"end":6333,"loc":{"start":{"line":150,"column":2},"end":{"line":158,"column":4}},"expression":{"type":"AssignmentExpression","start":5703,"end":6332,"loc":{"start":{"line":150,"column":2},"end":{"line":158,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":5703,"end":5728,"loc":{"start":{"line":150,"column":2},"end":{"line":150,"column":27}},"object":{"type":"Identifier","start":5703,"end":5709,"loc":{"start":{"line":150,"column":2},"end":{"line":150,"column":8}},"name":"_proto"},"property":{"type":"Identifier","start":5710,"end":5728,"loc":{"start":{"line":150,"column":9},"end":{"line":150,"column":27}},"name":"validateParameters"},"computed":false},"right":{"type":"FunctionExpression","start":5731,"end":6332,"loc":{"start":{"line":150,"column":30},"end":{"line":158,"column":3}},"id":{"type":"Identifier","start":5740,"end":5758,"loc":{"start":{"line":150,"column":39},"end":{"line":150,"column":57}},"name":"validateParameters"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5759,"end":5763,"loc":{"start":{"line":150,"column":58},"end":{"line":150,"column":62}},"name":"file"},{"type":"Identifier","start":5765,"end":5771,"loc":{"start":{"line":150,"column":64},"end":{"line":150,"column":70}},"name":"params"}],"body":{"type":"BlockStatement","start":5773,"end":6332,"loc":{"start":{"line":150,"column":72},"end":{"line":158,"column":3}},"body":[{"type":"VariableDeclaration","start":5779,"end":5992,"loc":{"start":{"line":151,"column":4},"end":{"line":151,"column":217}},"declarations":[{"type":"VariableDeclarator","start":5783,"end":5991,"loc":{"start":{"line":151,"column":8},"end":{"line":151,"column":216}},"id":{"type":"Identifier","start":5783,"end":5788,"loc":{"start":{"line":151,"column":8},"end":{"line":151,"column":13}},"name":"valid"},"init":{"type":"LogicalExpression","start":5791,"end":5991,"loc":{"start":{"line":151,"column":16},"end":{"line":151,"column":216}},"left":{"type":"LogicalExpression","start":5791,"end":5925,"loc":{"start":{"line":151,"column":16},"end":{"line":151,"column":150}},"left":{"type":"LogicalExpression","start":5791,"end":5861,"loc":{"start":{"line":151,"column":16},"end":{"line":151,"column":86}},"left":{"type":"LogicalExpression","start":5791,"end":5827,"loc":{"start":{"line":151,"column":16},"end":{"line":151,"column":52}},"left":{"type":"BinaryExpression","start":5791,"end":5817,"loc":{"start":{"line":151,"column":16},"end":{"line":151,"column":42}},"left":{"type":"UnaryExpression","start":5791,"end":5804,"loc":{"start":{"line":151,"column":16},"end":{"line":151,"column":29}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":5798,"end":5804,"loc":{"start":{"line":151,"column":23},"end":{"line":151,"column":29}},"name":"params"}},"operator":"===","right":{"type":"Literal","start":5809,"end":5817,"loc":{"start":{"line":151,"column":34},"end":{"line":151,"column":42}},"value":"object","raw":"'object'"}},"operator":"&&","right":{"type":"Identifier","start":5821,"end":5827,"loc":{"start":{"line":151,"column":46},"end":{"line":151,"column":52}},"name":"params"}},"operator":"&&","right":{"type":"BinaryExpression","start":5831,"end":5861,"loc":{"start":{"line":151,"column":56},"end":{"line":151,"column":86}},"left":{"type":"UnaryExpression","start":5831,"end":5848,"loc":{"start":{"line":151,"column":56},"end":{"line":151,"column":73}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":5838,"end":5848,"loc":{"start":{"line":151,"column":63},"end":{"line":151,"column":73}},"object":{"type":"Identifier","start":5838,"end":5844,"loc":{"start":{"line":151,"column":63},"end":{"line":151,"column":69}},"name":"params"},"property":{"type":"Identifier","start":5845,"end":5848,"loc":{"start":{"line":151,"column":70},"end":{"line":151,"column":73}},"name":"url"},"computed":false}},"operator":"===","right":{"type":"Literal","start":5853,"end":5861,"loc":{"start":{"line":151,"column":78},"end":{"line":151,"column":86}},"value":"string","raw":"'string'"}}},"operator":"&&","right":{"type":"LogicalExpression","start":5866,"end":5924,"loc":{"start":{"line":151,"column":91},"end":{"line":151,"column":149}},"left":{"type":"BinaryExpression","start":5866,"end":5899,"loc":{"start":{"line":151,"column":91},"end":{"line":151,"column":124}},"left":{"type":"UnaryExpression","start":5866,"end":5886,"loc":{"start":{"line":151,"column":91},"end":{"line":151,"column":111}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":5873,"end":5886,"loc":{"start":{"line":151,"column":98},"end":{"line":151,"column":111}},"object":{"type":"Identifier","start":5873,"end":5879,"loc":{"start":{"line":151,"column":98},"end":{"line":151,"column":104}},"name":"params"},"property":{"type":"Identifier","start":5880,"end":5886,"loc":{"start":{"line":151,"column":105},"end":{"line":151,"column":111}},"name":"fields"},"computed":false}},"operator":"===","right":{"type":"Literal","start":5891,"end":5899,"loc":{"start":{"line":151,"column":116},"end":{"line":151,"column":124}},"value":"object","raw":"'object'"}},"operator":"||","right":{"type":"BinaryExpression","start":5903,"end":5924,"loc":{"start":{"line":151,"column":128},"end":{"line":151,"column":149}},"left":{"type":"MemberExpression","start":5903,"end":5916,"loc":{"start":{"line":151,"column":128},"end":{"line":151,"column":141}},"object":{"type":"Identifier","start":5903,"end":5909,"loc":{"start":{"line":151,"column":128},"end":{"line":151,"column":134}},"name":"params"},"property":{"type":"Identifier","start":5910,"end":5916,"loc":{"start":{"line":151,"column":135},"end":{"line":151,"column":141}},"name":"fields"},"computed":false},"operator":"==","right":{"type":"Literal","start":5920,"end":5924,"loc":{"start":{"line":151,"column":145},"end":{"line":151,"column":149}},"value":null,"raw":"null"}}}},"operator":"&&","right":{"type":"LogicalExpression","start":5930,"end":5990,"loc":{"start":{"line":151,"column":155},"end":{"line":151,"column":215}},"left":{"type":"BinaryExpression","start":5930,"end":5951,"loc":{"start":{"line":151,"column":155},"end":{"line":151,"column":176}},"left":{"type":"MemberExpression","start":5930,"end":5943,"loc":{"start":{"line":151,"column":155},"end":{"line":151,"column":168}},"object":{"type":"Identifier","start":5930,"end":5936,"loc":{"start":{"line":151,"column":155},"end":{"line":151,"column":161}},"name":"params"},"property":{"type":"Identifier","start":5937,"end":5943,"loc":{"start":{"line":151,"column":162},"end":{"line":151,"column":168}},"name":"method"},"computed":false},"operator":"==","right":{"type":"Literal","start":5947,"end":5951,"loc":{"start":{"line":151,"column":172},"end":{"line":151,"column":176}},"value":null,"raw":"null"}},"operator":"||","right":{"type":"CallExpression","start":5955,"end":5990,"loc":{"start":{"line":151,"column":180},"end":{"line":151,"column":215}},"callee":{"type":"MemberExpression","start":5955,"end":5975,"loc":{"start":{"line":151,"column":180},"end":{"line":151,"column":200}},"object":{"type":"Literal","start":5955,"end":5970,"loc":{"start":{"line":151,"column":180},"end":{"line":151,"column":195}},"value":{},"raw":"/^(put|post)$/i","regex":{"pattern":"^(put|post)$","flags":"i"}},"property":{"type":"Identifier","start":5971,"end":5975,"loc":{"start":{"line":151,"column":196},"end":{"line":151,"column":200}},"name":"test"},"computed":false},"arguments":[{"type":"MemberExpression","start":5976,"end":5989,"loc":{"start":{"line":151,"column":201},"end":{"line":151,"column":214}},"object":{"type":"Identifier","start":5976,"end":5982,"loc":{"start":{"line":151,"column":201},"end":{"line":151,"column":207}},"name":"params"},"property":{"type":"Identifier","start":5983,"end":5989,"loc":{"start":{"line":151,"column":208},"end":{"line":151,"column":214}},"name":"method"},"computed":false}]}}}}],"kind":"var"},{"type":"IfStatement","start":5998,"end":6328,"loc":{"start":{"line":153,"column":4},"end":{"line":157,"column":5}},"test":{"type":"UnaryExpression","start":6002,"end":6008,"loc":{"start":{"line":153,"column":8},"end":{"line":153,"column":14}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":6003,"end":6008,"loc":{"start":{"line":153,"column":9},"end":{"line":153,"column":14}},"name":"valid"}},"consequent":{"type":"BlockStatement","start":6010,"end":6328,"loc":{"start":{"line":153,"column":16},"end":{"line":157,"column":5}},"body":[{"type":"VariableDeclaration","start":6018,"end":6279,"loc":{"start":{"line":154,"column":6},"end":{"line":154,"column":267}},"declarations":[{"type":"VariableDeclarator","start":6022,"end":6278,"loc":{"start":{"line":154,"column":10},"end":{"line":154,"column":266}},"id":{"type":"Identifier","start":6022,"end":6025,"loc":{"start":{"line":154,"column":10},"end":{"line":154,"column":13}},"name":"err"},"init":{"type":"NewExpression","start":6028,"end":6278,"loc":{"start":{"line":154,"column":16},"end":{"line":154,"column":266}},"callee":{"type":"Identifier","start":6032,"end":6041,"loc":{"start":{"line":154,"column":20},"end":{"line":154,"column":29}},"name":"TypeError"},"arguments":[{"type":"BinaryExpression","start":6042,"end":6277,"loc":{"start":{"line":154,"column":30},"end":{"line":154,"column":265}},"left":{"type":"BinaryExpression","start":6042,"end":6123,"loc":{"start":{"line":154,"column":30},"end":{"line":154,"column":111}},"left":{"type":"Literal","start":6042,"end":6111,"loc":{"start":{"line":154,"column":30},"end":{"line":154,"column":99}},"value":"AwsS3: got incorrect result from 'getUploadParameters()' for file '","raw":"\"AwsS3: got incorrect result from 'getUploadParameters()' for file '\""},"operator":"+","right":{"type":"MemberExpression","start":6114,"end":6123,"loc":{"start":{"line":154,"column":102},"end":{"line":154,"column":111}},"object":{"type":"Identifier","start":6114,"end":6118,"loc":{"start":{"line":154,"column":102},"end":{"line":154,"column":106}},"name":"file"},"property":{"type":"Identifier","start":6119,"end":6123,"loc":{"start":{"line":154,"column":107},"end":{"line":154,"column":111}},"name":"name"},"computed":false}},"operator":"+","right":{"type":"Literal","start":6126,"end":6277,"loc":{"start":{"line":154,"column":114},"end":{"line":154,"column":265}},"value":"', expected an object '{ url, method, fields, headers }'.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.","raw":"\"', expected an object '{ url, method, fields, headers }'.\\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.\""}}]}}],"kind":"var"},{"type":"ExpressionStatement","start":6286,"end":6305,"loc":{"start":{"line":155,"column":6},"end":{"line":155,"column":25}},"expression":{"type":"CallExpression","start":6286,"end":6304,"loc":{"start":{"line":155,"column":6},"end":{"line":155,"column":24}},"callee":{"type":"MemberExpression","start":6286,"end":6299,"loc":{"start":{"line":155,"column":6},"end":{"line":155,"column":19}},"object":{"type":"Identifier","start":6286,"end":6293,"loc":{"start":{"line":155,"column":6},"end":{"line":155,"column":13}},"name":"console"},"property":{"type":"Identifier","start":6294,"end":6299,"loc":{"start":{"line":155,"column":14},"end":{"line":155,"column":19}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":6300,"end":6303,"loc":{"start":{"line":155,"column":20},"end":{"line":155,"column":23}},"name":"err"}]}},{"type":"ThrowStatement","start":6312,"end":6322,"loc":{"start":{"line":156,"column":6},"end":{"line":156,"column":16}},"argument":{"type":"Identifier","start":6318,"end":6321,"loc":{"start":{"line":156,"column":12},"end":{"line":156,"column":15}},"name":"err"}}]},"alternate":null}]}}}},{"type":"ExpressionStatement","start":6337,"end":8494,"loc":{"start":{"line":160,"column":2},"end":{"line":233,"column":4}},"expression":{"type":"AssignmentExpression","start":6337,"end":8493,"loc":{"start":{"line":160,"column":2},"end":{"line":233,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":6337,"end":6356,"loc":{"start":{"line":160,"column":2},"end":{"line":160,"column":21}},"object":{"type":"Identifier","start":6337,"end":6343,"loc":{"start":{"line":160,"column":2},"end":{"line":160,"column":8}},"name":"_proto"},"property":{"type":"Identifier","start":6344,"end":6356,"loc":{"start":{"line":160,"column":9},"end":{"line":160,"column":21}},"name":"handleUpload"},"computed":false},"right":{"type":"FunctionExpression","start":6359,"end":8493,"loc":{"start":{"line":160,"column":24},"end":{"line":233,"column":3}},"id":{"type":"Identifier","start":6368,"end":6380,"loc":{"start":{"line":160,"column":33},"end":{"line":160,"column":45}},"name":"handleUpload"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6381,"end":6388,"loc":{"start":{"line":160,"column":46},"end":{"line":160,"column":53}},"name":"fileIDs"}],"body":{"type":"BlockStatement","start":6390,"end":8493,"loc":{"start":{"line":160,"column":55},"end":{"line":233,"column":3}},"body":[{"type":"VariableDeclaration","start":6396,"end":6414,"loc":{"start":{"line":161,"column":4},"end":{"line":161,"column":22}},"declarations":[{"type":"VariableDeclarator","start":6400,"end":6413,"loc":{"start":{"line":161,"column":8},"end":{"line":161,"column":21}},"id":{"type":"Identifier","start":6400,"end":6406,"loc":{"start":{"line":161,"column":8},"end":{"line":161,"column":14}},"name":"_this2"},"init":{"type":"ThisExpression","start":6409,"end":6413,"loc":{"start":{"line":161,"column":17},"end":{"line":161,"column":21}}}}],"kind":"var"},{"type":"VariableDeclaration","start":6606,"end":6647,"loc":{"start":{"line":169,"column":4},"end":{"line":169,"column":45}},"declarations":[{"type":"VariableDeclarator","start":6610,"end":6646,"loc":{"start":{"line":169,"column":8},"end":{"line":169,"column":44}},"id":{"type":"Identifier","start":6610,"end":6624,"loc":{"start":{"line":169,"column":8},"end":{"line":169,"column":22}},"name":"paramsPromises"},"init":{"type":"CallExpression","start":6627,"end":6646,"loc":{"start":{"line":169,"column":25},"end":{"line":169,"column":44}},"callee":{"type":"MemberExpression","start":6627,"end":6640,"loc":{"start":{"line":169,"column":25},"end":{"line":169,"column":38}},"object":{"type":"Identifier","start":6627,"end":6633,"loc":{"start":{"line":169,"column":25},"end":{"line":169,"column":31}},"name":"Object"},"property":{"type":"Identifier","start":6634,"end":6640,"loc":{"start":{"line":169,"column":32},"end":{"line":169,"column":38}},"name":"create"},"computed":false},"arguments":[{"type":"Literal","start":6641,"end":6645,"loc":{"start":{"line":169,"column":39},"end":{"line":169,"column":43}},"value":null,"raw":"null"}]}}],"kind":"var","comments":[{"type":"Block","value":"*\n     * keep track of `getUploadParameters()` responses\n     * so we can cancel the calls individually using just a file ID\n     *\n     * @type {object.<string, Promise>}\n     ","start":6420,"end":6601,"loc":{"start":{"line":163,"column":4},"end":{"line":168,"column":7}}}]},{"type":"FunctionDeclaration","start":6653,"end":6798,"loc":{"start":{"line":171,"column":4},"end":{"line":177,"column":5}},"id":{"type":"Identifier","start":6662,"end":6670,"loc":{"start":{"line":171,"column":13},"end":{"line":171,"column":21}},"name":"onremove"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6671,"end":6675,"loc":{"start":{"line":171,"column":22},"end":{"line":171,"column":26}},"name":"file"}],"body":{"type":"BlockStatement","start":6677,"end":6798,"loc":{"start":{"line":171,"column":28},"end":{"line":177,"column":5}},"body":[{"type":"VariableDeclaration","start":6685,"end":6702,"loc":{"start":{"line":172,"column":6},"end":{"line":172,"column":23}},"declarations":[{"type":"VariableDeclarator","start":6689,"end":6701,"loc":{"start":{"line":172,"column":10},"end":{"line":172,"column":22}},"id":{"type":"Identifier","start":6689,"end":6691,"loc":{"start":{"line":172,"column":10},"end":{"line":172,"column":12}},"name":"id"},"init":{"type":"MemberExpression","start":6694,"end":6701,"loc":{"start":{"line":172,"column":15},"end":{"line":172,"column":22}},"object":{"type":"Identifier","start":6694,"end":6698,"loc":{"start":{"line":172,"column":15},"end":{"line":172,"column":19}},"name":"file"},"property":{"type":"Identifier","start":6699,"end":6701,"loc":{"start":{"line":172,"column":20},"end":{"line":172,"column":22}},"name":"id"},"computed":false}}],"kind":"var"},{"type":"IfStatement","start":6710,"end":6792,"loc":{"start":{"line":174,"column":6},"end":{"line":176,"column":7}},"test":{"type":"CallExpression","start":6714,"end":6745,"loc":{"start":{"line":174,"column":10},"end":{"line":174,"column":41}},"callee":{"type":"Identifier","start":6714,"end":6725,"loc":{"start":{"line":174,"column":10},"end":{"line":174,"column":21}},"name":"hasProperty"},"arguments":[{"type":"Identifier","start":6726,"end":6740,"loc":{"start":{"line":174,"column":22},"end":{"line":174,"column":36}},"name":"paramsPromises"},{"type":"Identifier","start":6742,"end":6744,"loc":{"start":{"line":174,"column":38},"end":{"line":174,"column":40}},"name":"id"}]},"consequent":{"type":"BlockStatement","start":6747,"end":6792,"loc":{"start":{"line":174,"column":43},"end":{"line":176,"column":7}},"body":[{"type":"ExpressionStatement","start":6757,"end":6784,"loc":{"start":{"line":175,"column":8},"end":{"line":175,"column":35}},"expression":{"type":"CallExpression","start":6757,"end":6783,"loc":{"start":{"line":175,"column":8},"end":{"line":175,"column":34}},"callee":{"type":"MemberExpression","start":6757,"end":6781,"loc":{"start":{"line":175,"column":8},"end":{"line":175,"column":32}},"object":{"type":"MemberExpression","start":6757,"end":6775,"loc":{"start":{"line":175,"column":8},"end":{"line":175,"column":26}},"object":{"type":"Identifier","start":6757,"end":6771,"loc":{"start":{"line":175,"column":8},"end":{"line":175,"column":22}},"name":"paramsPromises"},"property":{"type":"Identifier","start":6772,"end":6774,"loc":{"start":{"line":175,"column":23},"end":{"line":175,"column":25}},"name":"id"},"computed":true},"property":{"type":"Identifier","start":6776,"end":6781,"loc":{"start":{"line":175,"column":27},"end":{"line":175,"column":32}},"name":"abort"},"computed":false},"arguments":[]}}]},"alternate":null}]}},{"type":"ExpressionStatement","start":6804,"end":6843,"loc":{"start":{"line":179,"column":4},"end":{"line":179,"column":43}},"expression":{"type":"CallExpression","start":6804,"end":6842,"loc":{"start":{"line":179,"column":4},"end":{"line":179,"column":42}},"callee":{"type":"MemberExpression","start":6804,"end":6816,"loc":{"start":{"line":179,"column":4},"end":{"line":179,"column":16}},"object":{"type":"MemberExpression","start":6804,"end":6813,"loc":{"start":{"line":179,"column":4},"end":{"line":179,"column":13}},"object":{"type":"ThisExpression","start":6804,"end":6808,"loc":{"start":{"line":179,"column":4},"end":{"line":179,"column":8}}},"property":{"type":"Identifier","start":6809,"end":6813,"loc":{"start":{"line":179,"column":9},"end":{"line":179,"column":13}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":6814,"end":6816,"loc":{"start":{"line":179,"column":14},"end":{"line":179,"column":16}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":6817,"end":6831,"loc":{"start":{"line":179,"column":17},"end":{"line":179,"column":31}},"value":"file-removed","raw":"'file-removed'"},{"type":"Identifier","start":6833,"end":6841,"loc":{"start":{"line":179,"column":33},"end":{"line":179,"column":41}},"name":"onremove"}]}},{"type":"ExpressionStatement","start":6848,"end":6978,"loc":{"start":{"line":180,"column":4},"end":{"line":184,"column":7}},"expression":{"type":"CallExpression","start":6848,"end":6977,"loc":{"start":{"line":180,"column":4},"end":{"line":184,"column":6}},"callee":{"type":"MemberExpression","start":6848,"end":6863,"loc":{"start":{"line":180,"column":4},"end":{"line":180,"column":19}},"object":{"type":"Identifier","start":6848,"end":6855,"loc":{"start":{"line":180,"column":4},"end":{"line":180,"column":11}},"name":"fileIDs"},"property":{"type":"Identifier","start":6856,"end":6863,"loc":{"start":{"line":180,"column":12},"end":{"line":180,"column":19}},"name":"forEach"},"computed":false},"arguments":[{"type":"FunctionExpression","start":6864,"end":6976,"loc":{"start":{"line":180,"column":20},"end":{"line":184,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6874,"end":6876,"loc":{"start":{"line":180,"column":30},"end":{"line":180,"column":32}},"name":"id"}],"body":{"type":"BlockStatement","start":6878,"end":6976,"loc":{"start":{"line":180,"column":34},"end":{"line":184,"column":5}},"body":[{"type":"VariableDeclaration","start":6886,"end":6921,"loc":{"start":{"line":181,"column":6},"end":{"line":181,"column":41}},"declarations":[{"type":"VariableDeclarator","start":6890,"end":6920,"loc":{"start":{"line":181,"column":10},"end":{"line":181,"column":40}},"id":{"type":"Identifier","start":6890,"end":6894,"loc":{"start":{"line":181,"column":10},"end":{"line":181,"column":14}},"name":"file"},"init":{"type":"CallExpression","start":6897,"end":6920,"loc":{"start":{"line":181,"column":17},"end":{"line":181,"column":40}},"callee":{"type":"MemberExpression","start":6897,"end":6916,"loc":{"start":{"line":181,"column":17},"end":{"line":181,"column":36}},"object":{"type":"MemberExpression","start":6897,"end":6908,"loc":{"start":{"line":181,"column":17},"end":{"line":181,"column":28}},"object":{"type":"Identifier","start":6897,"end":6903,"loc":{"start":{"line":181,"column":17},"end":{"line":181,"column":23}},"name":"_this2"},"property":{"type":"Identifier","start":6904,"end":6908,"loc":{"start":{"line":181,"column":24},"end":{"line":181,"column":28}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":6909,"end":6916,"loc":{"start":{"line":181,"column":29},"end":{"line":181,"column":36}},"name":"getFile"},"computed":false},"arguments":[{"type":"Identifier","start":6917,"end":6919,"loc":{"start":{"line":181,"column":37},"end":{"line":181,"column":39}},"name":"id"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":6929,"end":6970,"loc":{"start":{"line":183,"column":6},"end":{"line":183,"column":47}},"expression":{"type":"CallExpression","start":6929,"end":6969,"loc":{"start":{"line":183,"column":6},"end":{"line":183,"column":46}},"callee":{"type":"MemberExpression","start":6929,"end":6945,"loc":{"start":{"line":183,"column":6},"end":{"line":183,"column":22}},"object":{"type":"MemberExpression","start":6929,"end":6940,"loc":{"start":{"line":183,"column":6},"end":{"line":183,"column":17}},"object":{"type":"Identifier","start":6929,"end":6935,"loc":{"start":{"line":183,"column":6},"end":{"line":183,"column":12}},"name":"_this2"},"property":{"type":"Identifier","start":6936,"end":6940,"loc":{"start":{"line":183,"column":13},"end":{"line":183,"column":17}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":6941,"end":6945,"loc":{"start":{"line":183,"column":18},"end":{"line":183,"column":22}},"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":6946,"end":6962,"loc":{"start":{"line":183,"column":23},"end":{"line":183,"column":39}},"value":"upload-started","raw":"'upload-started'"},{"type":"Identifier","start":6964,"end":6968,"loc":{"start":{"line":183,"column":41},"end":{"line":183,"column":45}},"name":"file"}]}}]}}]}},{"type":"VariableDeclaration","start":6983,"end":7120,"loc":{"start":{"line":185,"column":4},"end":{"line":187,"column":7}},"declarations":[{"type":"VariableDeclarator","start":6987,"end":7119,"loc":{"start":{"line":185,"column":8},"end":{"line":187,"column":6}},"id":{"type":"Identifier","start":6987,"end":7006,"loc":{"start":{"line":185,"column":8},"end":{"line":185,"column":27}},"name":"getUploadParameters"},"init":{"type":"CallExpression","start":7009,"end":7119,"loc":{"start":{"line":185,"column":30},"end":{"line":187,"column":6}},"callee":{"type":"MemberExpression","start":7009,"end":7042,"loc":{"start":{"line":185,"column":30},"end":{"line":185,"column":63}},"object":{"type":"MemberExpression","start":7009,"end":7022,"loc":{"start":{"line":185,"column":30},"end":{"line":185,"column":43}},"object":{"type":"ThisExpression","start":7009,"end":7013,"loc":{"start":{"line":185,"column":30},"end":{"line":185,"column":34}}},"property":{"type":"Identifier","start":7014,"end":7022,"loc":{"start":{"line":185,"column":35},"end":{"line":185,"column":43}},"name":"requests"},"computed":false},"property":{"type":"Identifier","start":7023,"end":7042,"loc":{"start":{"line":185,"column":44},"end":{"line":185,"column":63}},"name":"wrapPromiseFunction"},"computed":false},"arguments":[{"type":"FunctionExpression","start":7043,"end":7118,"loc":{"start":{"line":185,"column":64},"end":{"line":187,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7053,"end":7057,"loc":{"start":{"line":185,"column":74},"end":{"line":185,"column":78}},"name":"file"}],"body":{"type":"BlockStatement","start":7059,"end":7118,"loc":{"start":{"line":185,"column":80},"end":{"line":187,"column":5}},"body":[{"type":"ReturnStatement","start":7067,"end":7112,"loc":{"start":{"line":186,"column":6},"end":{"line":186,"column":51}},"argument":{"type":"CallExpression","start":7074,"end":7111,"loc":{"start":{"line":186,"column":13},"end":{"line":186,"column":50}},"callee":{"type":"MemberExpression","start":7074,"end":7105,"loc":{"start":{"line":186,"column":13},"end":{"line":186,"column":44}},"object":{"type":"MemberExpression","start":7074,"end":7085,"loc":{"start":{"line":186,"column":13},"end":{"line":186,"column":24}},"object":{"type":"Identifier","start":7074,"end":7080,"loc":{"start":{"line":186,"column":13},"end":{"line":186,"column":19}},"name":"_this2"},"property":{"type":"Identifier","start":7081,"end":7085,"loc":{"start":{"line":186,"column":20},"end":{"line":186,"column":24}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":7086,"end":7105,"loc":{"start":{"line":186,"column":25},"end":{"line":186,"column":44}},"name":"getUploadParameters"},"computed":false},"arguments":[{"type":"Identifier","start":7106,"end":7110,"loc":{"start":{"line":186,"column":45},"end":{"line":186,"column":49}},"name":"file"}]}}]}}]}}],"kind":"var"},{"type":"VariableDeclaration","start":7125,"end":7160,"loc":{"start":{"line":188,"column":4},"end":{"line":188,"column":39}},"declarations":[{"type":"VariableDeclarator","start":7129,"end":7159,"loc":{"start":{"line":188,"column":8},"end":{"line":188,"column":38}},"id":{"type":"Identifier","start":7129,"end":7142,"loc":{"start":{"line":188,"column":8},"end":{"line":188,"column":21}},"name":"numberOfFiles"},"init":{"type":"MemberExpression","start":7145,"end":7159,"loc":{"start":{"line":188,"column":24},"end":{"line":188,"column":38}},"object":{"type":"Identifier","start":7145,"end":7152,"loc":{"start":{"line":188,"column":24},"end":{"line":188,"column":31}},"name":"fileIDs"},"property":{"type":"Identifier","start":7153,"end":7159,"loc":{"start":{"line":188,"column":32},"end":{"line":188,"column":38}},"name":"length"},"computed":false}}],"kind":"var"},{"type":"ReturnStatement","start":7165,"end":8489,"loc":{"start":{"line":189,"column":4},"end":{"line":232,"column":7}},"argument":{"type":"CallExpression","start":7172,"end":8488,"loc":{"start":{"line":189,"column":11},"end":{"line":232,"column":6}},"callee":{"type":"MemberExpression","start":7172,"end":8370,"loc":{"start":{"line":189,"column":11},"end":{"line":227,"column":12}},"object":{"type":"CallExpression","start":7172,"end":8365,"loc":{"start":{"line":189,"column":11},"end":{"line":227,"column":7}},"callee":{"type":"Identifier","start":7172,"end":7178,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":17}},"name":"settle"},"arguments":[{"type":"CallExpression","start":7179,"end":8364,"loc":{"start":{"line":189,"column":18},"end":{"line":227,"column":6}},"callee":{"type":"MemberExpression","start":7179,"end":7190,"loc":{"start":{"line":189,"column":18},"end":{"line":189,"column":29}},"object":{"type":"Identifier","start":7179,"end":7186,"loc":{"start":{"line":189,"column":18},"end":{"line":189,"column":25}},"name":"fileIDs"},"property":{"type":"Identifier","start":7187,"end":7190,"loc":{"start":{"line":189,"column":26},"end":{"line":189,"column":29}},"name":"map"},"computed":false},"arguments":[{"type":"FunctionExpression","start":7191,"end":8363,"loc":{"start":{"line":189,"column":30},"end":{"line":227,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7201,"end":7203,"loc":{"start":{"line":189,"column":40},"end":{"line":189,"column":42}},"name":"id"},{"type":"Identifier","start":7205,"end":7210,"loc":{"start":{"line":189,"column":44},"end":{"line":189,"column":49}},"name":"index"}],"body":{"type":"BlockStatement","start":7212,"end":8363,"loc":{"start":{"line":189,"column":51},"end":{"line":227,"column":5}},"body":[{"type":"ExpressionStatement","start":7220,"end":7286,"loc":{"start":{"line":190,"column":6},"end":{"line":190,"column":72}},"expression":{"type":"AssignmentExpression","start":7220,"end":7285,"loc":{"start":{"line":190,"column":6},"end":{"line":190,"column":71}},"operator":"=","left":{"type":"MemberExpression","start":7220,"end":7238,"loc":{"start":{"line":190,"column":6},"end":{"line":190,"column":24}},"object":{"type":"Identifier","start":7220,"end":7234,"loc":{"start":{"line":190,"column":6},"end":{"line":190,"column":20}},"name":"paramsPromises"},"property":{"type":"Identifier","start":7235,"end":7237,"loc":{"start":{"line":190,"column":21},"end":{"line":190,"column":23}},"name":"id"},"computed":true},"right":{"type":"CallExpression","start":7241,"end":7285,"loc":{"start":{"line":190,"column":27},"end":{"line":190,"column":71}},"callee":{"type":"Identifier","start":7241,"end":7260,"loc":{"start":{"line":190,"column":27},"end":{"line":190,"column":46}},"name":"getUploadParameters"},"arguments":[{"type":"CallExpression","start":7261,"end":7284,"loc":{"start":{"line":190,"column":47},"end":{"line":190,"column":70}},"callee":{"type":"MemberExpression","start":7261,"end":7280,"loc":{"start":{"line":190,"column":47},"end":{"line":190,"column":66}},"object":{"type":"MemberExpression","start":7261,"end":7272,"loc":{"start":{"line":190,"column":47},"end":{"line":190,"column":58}},"object":{"type":"Identifier","start":7261,"end":7267,"loc":{"start":{"line":190,"column":47},"end":{"line":190,"column":53}},"name":"_this2"},"property":{"type":"Identifier","start":7268,"end":7272,"loc":{"start":{"line":190,"column":54},"end":{"line":190,"column":58}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":7273,"end":7280,"loc":{"start":{"line":190,"column":59},"end":{"line":190,"column":66}},"name":"getFile"},"computed":false},"arguments":[{"type":"Identifier","start":7281,"end":7283,"loc":{"start":{"line":190,"column":67},"end":{"line":190,"column":69}},"name":"id"}]}]}}},{"type":"ReturnStatement","start":7293,"end":8357,"loc":{"start":{"line":191,"column":6},"end":{"line":226,"column":9}},"argument":{"type":"CallExpression","start":7300,"end":8356,"loc":{"start":{"line":191,"column":13},"end":{"line":226,"column":8}},"callee":{"type":"MemberExpression","start":7300,"end":8192,"loc":{"start":{"line":191,"column":13},"end":{"line":220,"column":14}},"object":{"type":"CallExpression","start":7300,"end":8186,"loc":{"start":{"line":191,"column":13},"end":{"line":220,"column":8}},"callee":{"type":"MemberExpression","start":7300,"end":7323,"loc":{"start":{"line":191,"column":13},"end":{"line":191,"column":36}},"object":{"type":"MemberExpression","start":7300,"end":7318,"loc":{"start":{"line":191,"column":13},"end":{"line":191,"column":31}},"object":{"type":"Identifier","start":7300,"end":7314,"loc":{"start":{"line":191,"column":13},"end":{"line":191,"column":27}},"name":"paramsPromises"},"property":{"type":"Identifier","start":7315,"end":7317,"loc":{"start":{"line":191,"column":28},"end":{"line":191,"column":30}},"name":"id"},"computed":true},"property":{"type":"Identifier","start":7319,"end":7323,"loc":{"start":{"line":191,"column":32},"end":{"line":191,"column":36}},"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":7324,"end":8185,"loc":{"start":{"line":191,"column":37},"end":{"line":220,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7334,"end":7340,"loc":{"start":{"line":191,"column":47},"end":{"line":191,"column":53}},"name":"params"}],"body":{"type":"BlockStatement","start":7342,"end":8185,"loc":{"start":{"line":191,"column":55},"end":{"line":220,"column":7}},"body":[{"type":"ExpressionStatement","start":7352,"end":7378,"loc":{"start":{"line":192,"column":8},"end":{"line":192,"column":34}},"expression":{"type":"UnaryExpression","start":7352,"end":7377,"loc":{"start":{"line":192,"column":8},"end":{"line":192,"column":33}},"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":7359,"end":7377,"loc":{"start":{"line":192,"column":15},"end":{"line":192,"column":33}},"object":{"type":"Identifier","start":7359,"end":7373,"loc":{"start":{"line":192,"column":15},"end":{"line":192,"column":29}},"name":"paramsPromises"},"property":{"type":"Identifier","start":7374,"end":7376,"loc":{"start":{"line":192,"column":30},"end":{"line":192,"column":32}},"name":"id"},"computed":true}}},{"type":"VariableDeclaration","start":7388,"end":7423,"loc":{"start":{"line":194,"column":8},"end":{"line":194,"column":43}},"declarations":[{"type":"VariableDeclarator","start":7392,"end":7422,"loc":{"start":{"line":194,"column":12},"end":{"line":194,"column":42}},"id":{"type":"Identifier","start":7392,"end":7396,"loc":{"start":{"line":194,"column":12},"end":{"line":194,"column":16}},"name":"file"},"init":{"type":"CallExpression","start":7399,"end":7422,"loc":{"start":{"line":194,"column":19},"end":{"line":194,"column":42}},"callee":{"type":"MemberExpression","start":7399,"end":7418,"loc":{"start":{"line":194,"column":19},"end":{"line":194,"column":38}},"object":{"type":"MemberExpression","start":7399,"end":7410,"loc":{"start":{"line":194,"column":19},"end":{"line":194,"column":30}},"object":{"type":"Identifier","start":7399,"end":7405,"loc":{"start":{"line":194,"column":19},"end":{"line":194,"column":25}},"name":"_this2"},"property":{"type":"Identifier","start":7406,"end":7410,"loc":{"start":{"line":194,"column":26},"end":{"line":194,"column":30}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":7411,"end":7418,"loc":{"start":{"line":194,"column":31},"end":{"line":194,"column":38}},"name":"getFile"},"computed":false},"arguments":[{"type":"Identifier","start":7419,"end":7421,"loc":{"start":{"line":194,"column":39},"end":{"line":194,"column":41}},"name":"id"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":7433,"end":7473,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":48}},"expression":{"type":"CallExpression","start":7433,"end":7472,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":47}},"callee":{"type":"MemberExpression","start":7433,"end":7458,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":33}},"object":{"type":"Identifier","start":7433,"end":7439,"loc":{"start":{"line":196,"column":8},"end":{"line":196,"column":14}},"name":"_this2"},"property":{"type":"Identifier","start":7440,"end":7458,"loc":{"start":{"line":196,"column":15},"end":{"line":196,"column":33}},"name":"validateParameters"},"computed":false},"arguments":[{"type":"Identifier","start":7459,"end":7463,"loc":{"start":{"line":196,"column":34},"end":{"line":196,"column":38}},"name":"file"},{"type":"Identifier","start":7465,"end":7471,"loc":{"start":{"line":196,"column":40},"end":{"line":196,"column":46}},"name":"params"}]}},{"type":"VariableDeclaration","start":7483,"end":7696,"loc":{"start":{"line":198,"column":8},"end":{"line":202,"column":37}},"declarations":[{"type":"VariableDeclarator","start":7487,"end":7517,"loc":{"start":{"line":198,"column":12},"end":{"line":198,"column":42}},"id":{"type":"Identifier","start":7487,"end":7501,"loc":{"start":{"line":198,"column":12},"end":{"line":198,"column":26}},"name":"_params$method"},"init":{"type":"MemberExpression","start":7504,"end":7517,"loc":{"start":{"line":198,"column":29},"end":{"line":198,"column":42}},"object":{"type":"Identifier","start":7504,"end":7510,"loc":{"start":{"line":198,"column":29},"end":{"line":198,"column":35}},"name":"params"},"property":{"type":"Identifier","start":7511,"end":7517,"loc":{"start":{"line":198,"column":36},"end":{"line":198,"column":42}},"name":"method"},"computed":false}},{"type":"VariableDeclarator","start":7531,"end":7591,"loc":{"start":{"line":199,"column":12},"end":{"line":199,"column":72}},"id":{"type":"Identifier","start":7531,"end":7537,"loc":{"start":{"line":199,"column":12},"end":{"line":199,"column":18}},"name":"method"},"init":{"type":"ConditionalExpression","start":7540,"end":7591,"loc":{"start":{"line":199,"column":21},"end":{"line":199,"column":72}},"test":{"type":"BinaryExpression","start":7540,"end":7565,"loc":{"start":{"line":199,"column":21},"end":{"line":199,"column":46}},"left":{"type":"Identifier","start":7540,"end":7554,"loc":{"start":{"line":199,"column":21},"end":{"line":199,"column":35}},"name":"_params$method"},"operator":"===","right":{"type":"UnaryExpression","start":7559,"end":7565,"loc":{"start":{"line":199,"column":40},"end":{"line":199,"column":46}},"operator":"void","prefix":true,"argument":{"type":"Literal","start":7564,"end":7565,"loc":{"start":{"line":199,"column":45},"end":{"line":199,"column":46}},"value":0,"raw":"0"}}},"consequent":{"type":"Literal","start":7568,"end":7574,"loc":{"start":{"line":199,"column":49},"end":{"line":199,"column":55}},"value":"post","raw":"'post'"},"alternate":{"type":"Identifier","start":7577,"end":7591,"loc":{"start":{"line":199,"column":58},"end":{"line":199,"column":72}},"name":"_params$method"}}},{"type":"VariableDeclarator","start":7605,"end":7621,"loc":{"start":{"line":200,"column":12},"end":{"line":200,"column":28}},"id":{"type":"Identifier","start":7605,"end":7608,"loc":{"start":{"line":200,"column":12},"end":{"line":200,"column":15}},"name":"url"},"init":{"type":"MemberExpression","start":7611,"end":7621,"loc":{"start":{"line":200,"column":18},"end":{"line":200,"column":28}},"object":{"type":"Identifier","start":7611,"end":7617,"loc":{"start":{"line":200,"column":18},"end":{"line":200,"column":24}},"name":"params"},"property":{"type":"Identifier","start":7618,"end":7621,"loc":{"start":{"line":200,"column":25},"end":{"line":200,"column":28}},"name":"url"},"computed":false}},{"type":"VariableDeclarator","start":7635,"end":7657,"loc":{"start":{"line":201,"column":12},"end":{"line":201,"column":34}},"id":{"type":"Identifier","start":7635,"end":7641,"loc":{"start":{"line":201,"column":12},"end":{"line":201,"column":18}},"name":"fields"},"init":{"type":"MemberExpression","start":7644,"end":7657,"loc":{"start":{"line":201,"column":21},"end":{"line":201,"column":34}},"object":{"type":"Identifier","start":7644,"end":7650,"loc":{"start":{"line":201,"column":21},"end":{"line":201,"column":27}},"name":"params"},"property":{"type":"Identifier","start":7651,"end":7657,"loc":{"start":{"line":201,"column":28},"end":{"line":201,"column":34}},"name":"fields"},"computed":false}},{"type":"VariableDeclarator","start":7671,"end":7695,"loc":{"start":{"line":202,"column":12},"end":{"line":202,"column":36}},"id":{"type":"Identifier","start":7671,"end":7678,"loc":{"start":{"line":202,"column":12},"end":{"line":202,"column":19}},"name":"headers"},"init":{"type":"MemberExpression","start":7681,"end":7695,"loc":{"start":{"line":202,"column":22},"end":{"line":202,"column":36}},"object":{"type":"Identifier","start":7681,"end":7687,"loc":{"start":{"line":202,"column":22},"end":{"line":202,"column":28}},"name":"params"},"property":{"type":"Identifier","start":7688,"end":7695,"loc":{"start":{"line":202,"column":29},"end":{"line":202,"column":36}},"name":"headers"},"computed":false}}],"kind":"var"},{"type":"VariableDeclaration","start":7705,"end":7891,"loc":{"start":{"line":203,"column":8},"end":{"line":208,"column":10}},"declarations":[{"type":"VariableDeclarator","start":7709,"end":7890,"loc":{"start":{"line":203,"column":12},"end":{"line":208,"column":9}},"id":{"type":"Identifier","start":7709,"end":7716,"loc":{"start":{"line":203,"column":12},"end":{"line":203,"column":19}},"name":"xhrOpts"},"init":{"type":"ObjectExpression","start":7719,"end":7890,"loc":{"start":{"line":203,"column":22},"end":{"line":208,"column":9}},"properties":[{"type":"Property","start":7731,"end":7745,"loc":{"start":{"line":204,"column":10},"end":{"line":204,"column":24}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7731,"end":7737,"loc":{"start":{"line":204,"column":10},"end":{"line":204,"column":16}},"name":"method"},"value":{"type":"Identifier","start":7739,"end":7745,"loc":{"start":{"line":204,"column":18},"end":{"line":204,"column":24}},"name":"method"},"kind":"init"},{"type":"Property","start":7757,"end":7798,"loc":{"start":{"line":205,"column":10},"end":{"line":205,"column":51}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7757,"end":7765,"loc":{"start":{"line":205,"column":10},"end":{"line":205,"column":18}},"name":"formData"},"value":{"type":"BinaryExpression","start":7767,"end":7798,"loc":{"start":{"line":205,"column":20},"end":{"line":205,"column":51}},"left":{"type":"CallExpression","start":7767,"end":7787,"loc":{"start":{"line":205,"column":20},"end":{"line":205,"column":40}},"callee":{"type":"MemberExpression","start":7767,"end":7785,"loc":{"start":{"line":205,"column":20},"end":{"line":205,"column":38}},"object":{"type":"Identifier","start":7767,"end":7773,"loc":{"start":{"line":205,"column":20},"end":{"line":205,"column":26}},"name":"method"},"property":{"type":"Identifier","start":7774,"end":7785,"loc":{"start":{"line":205,"column":27},"end":{"line":205,"column":38}},"name":"toLowerCase"},"computed":false},"arguments":[]},"operator":"===","right":{"type":"Literal","start":7792,"end":7798,"loc":{"start":{"line":205,"column":45},"end":{"line":205,"column":51}},"value":"post","raw":"'post'"}},"kind":"init"},{"type":"Property","start":7810,"end":7823,"loc":{"start":{"line":206,"column":10},"end":{"line":206,"column":23}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7810,"end":7818,"loc":{"start":{"line":206,"column":10},"end":{"line":206,"column":18}},"name":"endpoint"},"value":{"type":"Identifier","start":7820,"end":7823,"loc":{"start":{"line":206,"column":20},"end":{"line":206,"column":23}},"name":"url"},"kind":"init"},{"type":"Property","start":7835,"end":7880,"loc":{"start":{"line":207,"column":10},"end":{"line":207,"column":55}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7835,"end":7845,"loc":{"start":{"line":207,"column":10},"end":{"line":207,"column":20}},"name":"metaFields"},"value":{"type":"ConditionalExpression","start":7847,"end":7880,"loc":{"start":{"line":207,"column":22},"end":{"line":207,"column":55}},"test":{"type":"Identifier","start":7847,"end":7853,"loc":{"start":{"line":207,"column":22},"end":{"line":207,"column":28}},"name":"fields"},"consequent":{"type":"CallExpression","start":7856,"end":7875,"loc":{"start":{"line":207,"column":31},"end":{"line":207,"column":50}},"callee":{"type":"MemberExpression","start":7856,"end":7867,"loc":{"start":{"line":207,"column":31},"end":{"line":207,"column":42}},"object":{"type":"Identifier","start":7856,"end":7862,"loc":{"start":{"line":207,"column":31},"end":{"line":207,"column":37}},"name":"Object"},"property":{"type":"Identifier","start":7863,"end":7867,"loc":{"start":{"line":207,"column":38},"end":{"line":207,"column":42}},"name":"keys"},"computed":false},"arguments":[{"type":"Identifier","start":7868,"end":7874,"loc":{"start":{"line":207,"column":43},"end":{"line":207,"column":49}},"name":"fields"}]},"alternate":{"type":"ArrayExpression","start":7878,"end":7880,"loc":{"start":{"line":207,"column":53},"end":{"line":207,"column":55}},"elements":[]}},"kind":"init"}]}}],"kind":"var"},{"type":"IfStatement","start":7901,"end":7962,"loc":{"start":{"line":210,"column":8},"end":{"line":212,"column":9}},"test":{"type":"Identifier","start":7905,"end":7912,"loc":{"start":{"line":210,"column":12},"end":{"line":210,"column":19}},"name":"headers"},"consequent":{"type":"BlockStatement","start":7914,"end":7962,"loc":{"start":{"line":210,"column":21},"end":{"line":212,"column":9}},"body":[{"type":"ExpressionStatement","start":7926,"end":7952,"loc":{"start":{"line":211,"column":10},"end":{"line":211,"column":36}},"expression":{"type":"AssignmentExpression","start":7926,"end":7951,"loc":{"start":{"line":211,"column":10},"end":{"line":211,"column":35}},"operator":"=","left":{"type":"MemberExpression","start":7926,"end":7941,"loc":{"start":{"line":211,"column":10},"end":{"line":211,"column":25}},"object":{"type":"Identifier","start":7926,"end":7933,"loc":{"start":{"line":211,"column":10},"end":{"line":211,"column":17}},"name":"xhrOpts"},"property":{"type":"Identifier","start":7934,"end":7941,"loc":{"start":{"line":211,"column":18},"end":{"line":211,"column":25}},"name":"headers"},"computed":false},"right":{"type":"Identifier","start":7944,"end":7951,"loc":{"start":{"line":211,"column":28},"end":{"line":211,"column":35}},"name":"headers"}}}]},"alternate":null},{"type":"ExpressionStatement","start":7972,"end":8101,"loc":{"start":{"line":214,"column":8},"end":{"line":217,"column":11}},"expression":{"type":"CallExpression","start":7972,"end":8100,"loc":{"start":{"line":214,"column":8},"end":{"line":217,"column":10}},"callee":{"type":"MemberExpression","start":7972,"end":7996,"loc":{"start":{"line":214,"column":8},"end":{"line":214,"column":32}},"object":{"type":"MemberExpression","start":7972,"end":7983,"loc":{"start":{"line":214,"column":8},"end":{"line":214,"column":19}},"object":{"type":"Identifier","start":7972,"end":7978,"loc":{"start":{"line":214,"column":8},"end":{"line":214,"column":14}},"name":"_this2"},"property":{"type":"Identifier","start":7979,"end":7983,"loc":{"start":{"line":214,"column":15},"end":{"line":214,"column":19}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":7984,"end":7996,"loc":{"start":{"line":214,"column":20},"end":{"line":214,"column":32}},"name":"setFileState"},"computed":false},"arguments":[{"type":"MemberExpression","start":7997,"end":8004,"loc":{"start":{"line":214,"column":33},"end":{"line":214,"column":40}},"object":{"type":"Identifier","start":7997,"end":8001,"loc":{"start":{"line":214,"column":33},"end":{"line":214,"column":37}},"name":"file"},"property":{"type":"Identifier","start":8002,"end":8004,"loc":{"start":{"line":214,"column":38},"end":{"line":214,"column":40}},"name":"id"},"computed":false},{"type":"ObjectExpression","start":8006,"end":8099,"loc":{"start":{"line":214,"column":42},"end":{"line":217,"column":9}},"properties":[{"type":"Property","start":8018,"end":8059,"loc":{"start":{"line":215,"column":10},"end":{"line":215,"column":51}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8018,"end":8022,"loc":{"start":{"line":215,"column":10},"end":{"line":215,"column":14}},"name":"meta"},"value":{"type":"CallExpression","start":8024,"end":8059,"loc":{"start":{"line":215,"column":16},"end":{"line":215,"column":51}},"callee":{"type":"Identifier","start":8024,"end":8032,"loc":{"start":{"line":215,"column":16},"end":{"line":215,"column":24}},"name":"_extends"},"arguments":[{"type":"ObjectExpression","start":8033,"end":8035,"loc":{"start":{"line":215,"column":25},"end":{"line":215,"column":27}},"properties":[]},{"type":"MemberExpression","start":8037,"end":8046,"loc":{"start":{"line":215,"column":29},"end":{"line":215,"column":38}},"object":{"type":"Identifier","start":8037,"end":8041,"loc":{"start":{"line":215,"column":29},"end":{"line":215,"column":33}},"name":"file"},"property":{"type":"Identifier","start":8042,"end":8046,"loc":{"start":{"line":215,"column":34},"end":{"line":215,"column":38}},"name":"meta"},"computed":false},{"type":"ObjectExpression","start":8048,"end":8050,"loc":{"start":{"line":215,"column":40},"end":{"line":215,"column":42}},"properties":[]},{"type":"Identifier","start":8052,"end":8058,"loc":{"start":{"line":215,"column":44},"end":{"line":215,"column":50}},"name":"fields"}]},"kind":"init"},{"type":"Property","start":8071,"end":8089,"loc":{"start":{"line":216,"column":10},"end":{"line":216,"column":28}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8071,"end":8080,"loc":{"start":{"line":216,"column":10},"end":{"line":216,"column":19}},"name":"xhrUpload"},"value":{"type":"Identifier","start":8082,"end":8089,"loc":{"start":{"line":216,"column":21},"end":{"line":216,"column":28}},"name":"xhrOpts"},"kind":"init"}]}]}},{"type":"ReturnStatement","start":8111,"end":8177,"loc":{"start":{"line":219,"column":8},"end":{"line":219,"column":74}},"argument":{"type":"CallExpression","start":8118,"end":8176,"loc":{"start":{"line":219,"column":15},"end":{"line":219,"column":73}},"callee":{"type":"MemberExpression","start":8118,"end":8145,"loc":{"start":{"line":219,"column":15},"end":{"line":219,"column":42}},"object":{"type":"MemberExpression","start":8118,"end":8134,"loc":{"start":{"line":219,"column":15},"end":{"line":219,"column":31}},"object":{"type":"Identifier","start":8118,"end":8124,"loc":{"start":{"line":219,"column":15},"end":{"line":219,"column":21}},"name":"_this2"},"property":{"type":"Identifier","start":8125,"end":8134,"loc":{"start":{"line":219,"column":22},"end":{"line":219,"column":31}},"name":"_uploader"},"computed":false},"property":{"type":"Identifier","start":8135,"end":8145,"loc":{"start":{"line":219,"column":32},"end":{"line":219,"column":42}},"name":"uploadFile"},"computed":false},"arguments":[{"type":"MemberExpression","start":8146,"end":8153,"loc":{"start":{"line":219,"column":43},"end":{"line":219,"column":50}},"object":{"type":"Identifier","start":8146,"end":8150,"loc":{"start":{"line":219,"column":43},"end":{"line":219,"column":47}},"name":"file"},"property":{"type":"Identifier","start":8151,"end":8153,"loc":{"start":{"line":219,"column":48},"end":{"line":219,"column":50}},"name":"id"},"computed":false},{"type":"Identifier","start":8155,"end":8160,"loc":{"start":{"line":219,"column":52},"end":{"line":219,"column":57}},"name":"index"},{"type":"Identifier","start":8162,"end":8175,"loc":{"start":{"line":219,"column":59},"end":{"line":219,"column":72}},"name":"numberOfFiles"}]}}]}}]},"property":{"type":"Identifier","start":8187,"end":8192,"loc":{"start":{"line":220,"column":9},"end":{"line":220,"column":14}},"name":"catch"},"computed":false},"arguments":[{"type":"FunctionExpression","start":8193,"end":8355,"loc":{"start":{"line":220,"column":15},"end":{"line":226,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8203,"end":8208,"loc":{"start":{"line":220,"column":25},"end":{"line":220,"column":30}},"name":"error"}],"body":{"type":"BlockStatement","start":8210,"end":8355,"loc":{"start":{"line":220,"column":32},"end":{"line":226,"column":7}},"body":[{"type":"ExpressionStatement","start":8220,"end":8246,"loc":{"start":{"line":221,"column":8},"end":{"line":221,"column":34}},"expression":{"type":"UnaryExpression","start":8220,"end":8245,"loc":{"start":{"line":221,"column":8},"end":{"line":221,"column":33}},"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":8227,"end":8245,"loc":{"start":{"line":221,"column":15},"end":{"line":221,"column":33}},"object":{"type":"Identifier","start":8227,"end":8241,"loc":{"start":{"line":221,"column":15},"end":{"line":221,"column":29}},"name":"paramsPromises"},"property":{"type":"Identifier","start":8242,"end":8244,"loc":{"start":{"line":221,"column":30},"end":{"line":221,"column":32}},"name":"id"},"computed":true}}},{"type":"VariableDeclaration","start":8256,"end":8291,"loc":{"start":{"line":223,"column":8},"end":{"line":223,"column":43}},"declarations":[{"type":"VariableDeclarator","start":8260,"end":8290,"loc":{"start":{"line":223,"column":12},"end":{"line":223,"column":42}},"id":{"type":"Identifier","start":8260,"end":8264,"loc":{"start":{"line":223,"column":12},"end":{"line":223,"column":16}},"name":"file"},"init":{"type":"CallExpression","start":8267,"end":8290,"loc":{"start":{"line":223,"column":19},"end":{"line":223,"column":42}},"callee":{"type":"MemberExpression","start":8267,"end":8286,"loc":{"start":{"line":223,"column":19},"end":{"line":223,"column":38}},"object":{"type":"MemberExpression","start":8267,"end":8278,"loc":{"start":{"line":223,"column":19},"end":{"line":223,"column":30}},"object":{"type":"Identifier","start":8267,"end":8273,"loc":{"start":{"line":223,"column":19},"end":{"line":223,"column":25}},"name":"_this2"},"property":{"type":"Identifier","start":8274,"end":8278,"loc":{"start":{"line":223,"column":26},"end":{"line":223,"column":30}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":8279,"end":8286,"loc":{"start":{"line":223,"column":31},"end":{"line":223,"column":38}},"name":"getFile"},"computed":false},"arguments":[{"type":"Identifier","start":8287,"end":8289,"loc":{"start":{"line":223,"column":39},"end":{"line":223,"column":41}},"name":"id"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":8301,"end":8347,"loc":{"start":{"line":225,"column":8},"end":{"line":225,"column":54}},"expression":{"type":"CallExpression","start":8301,"end":8346,"loc":{"start":{"line":225,"column":8},"end":{"line":225,"column":53}},"callee":{"type":"MemberExpression","start":8301,"end":8317,"loc":{"start":{"line":225,"column":8},"end":{"line":225,"column":24}},"object":{"type":"MemberExpression","start":8301,"end":8312,"loc":{"start":{"line":225,"column":8},"end":{"line":225,"column":19}},"object":{"type":"Identifier","start":8301,"end":8307,"loc":{"start":{"line":225,"column":8},"end":{"line":225,"column":14}},"name":"_this2"},"property":{"type":"Identifier","start":8308,"end":8312,"loc":{"start":{"line":225,"column":15},"end":{"line":225,"column":19}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":8313,"end":8317,"loc":{"start":{"line":225,"column":20},"end":{"line":225,"column":24}},"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":8318,"end":8332,"loc":{"start":{"line":225,"column":25},"end":{"line":225,"column":39}},"value":"upload-error","raw":"'upload-error'"},{"type":"Identifier","start":8334,"end":8338,"loc":{"start":{"line":225,"column":41},"end":{"line":225,"column":45}},"name":"file"},{"type":"Identifier","start":8340,"end":8345,"loc":{"start":{"line":225,"column":47},"end":{"line":225,"column":52}},"name":"error"}]}}]}}]}}]}}]}]},"property":{"type":"Identifier","start":8366,"end":8370,"loc":{"start":{"line":227,"column":8},"end":{"line":227,"column":12}},"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":8371,"end":8487,"loc":{"start":{"line":227,"column":13},"end":{"line":232,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8381,"end":8388,"loc":{"start":{"line":227,"column":23},"end":{"line":227,"column":30}},"name":"settled"}],"body":{"type":"BlockStatement","start":8390,"end":8487,"loc":{"start":{"line":227,"column":32},"end":{"line":232,"column":5}},"body":[{"type":"ExpressionStatement","start":8416,"end":8458,"loc":{"start":{"line":229,"column":6},"end":{"line":229,"column":48}},"expression":{"type":"CallExpression","start":8416,"end":8457,"loc":{"start":{"line":229,"column":6},"end":{"line":229,"column":47}},"callee":{"type":"MemberExpression","start":8416,"end":8431,"loc":{"start":{"line":229,"column":6},"end":{"line":229,"column":21}},"object":{"type":"MemberExpression","start":8416,"end":8427,"loc":{"start":{"line":229,"column":6},"end":{"line":229,"column":17}},"object":{"type":"Identifier","start":8416,"end":8422,"loc":{"start":{"line":229,"column":6},"end":{"line":229,"column":12}},"name":"_this2"},"property":{"type":"Identifier","start":8423,"end":8427,"loc":{"start":{"line":229,"column":13},"end":{"line":229,"column":17}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":8428,"end":8431,"loc":{"start":{"line":229,"column":18},"end":{"line":229,"column":21}},"name":"off"},"computed":false},"arguments":[{"type":"Literal","start":8432,"end":8446,"loc":{"start":{"line":229,"column":22},"end":{"line":229,"column":36}},"value":"file-removed","raw":"'file-removed'"},{"type":"Identifier","start":8448,"end":8456,"loc":{"start":{"line":229,"column":38},"end":{"line":229,"column":46}},"name":"onremove"}]},"comments":[{"type":"Line","value":" cleanup.","start":8398,"end":8409,"loc":{"start":{"line":228,"column":6},"end":{"line":228,"column":17}}}]},{"type":"ReturnStatement","start":8466,"end":8481,"loc":{"start":{"line":231,"column":6},"end":{"line":231,"column":21}},"argument":{"type":"Identifier","start":8473,"end":8480,"loc":{"start":{"line":231,"column":13},"end":{"line":231,"column":20}},"name":"settled"}}]}}]}}]}}}},{"type":"ExpressionStatement","start":8498,"end":11273,"loc":{"start":{"line":235,"column":2},"end":{"line":310,"column":4}},"expression":{"type":"AssignmentExpression","start":8498,"end":11272,"loc":{"start":{"line":235,"column":2},"end":{"line":310,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":8498,"end":8512,"loc":{"start":{"line":235,"column":2},"end":{"line":235,"column":16}},"object":{"type":"Identifier","start":8498,"end":8504,"loc":{"start":{"line":235,"column":2},"end":{"line":235,"column":8}},"name":"_proto"},"property":{"type":"Identifier","start":8505,"end":8512,"loc":{"start":{"line":235,"column":9},"end":{"line":235,"column":16}},"name":"install"},"computed":false},"right":{"type":"FunctionExpression","start":8515,"end":11272,"loc":{"start":{"line":235,"column":19},"end":{"line":310,"column":3}},"id":{"type":"Identifier","start":8524,"end":8531,"loc":{"start":{"line":235,"column":28},"end":{"line":235,"column":35}},"name":"install"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":8534,"end":11272,"loc":{"start":{"line":235,"column":38},"end":{"line":310,"column":3}},"body":[{"type":"VariableDeclaration","start":8540,"end":8561,"loc":{"start":{"line":236,"column":4},"end":{"line":236,"column":25}},"declarations":[{"type":"VariableDeclarator","start":8544,"end":8560,"loc":{"start":{"line":236,"column":8},"end":{"line":236,"column":24}},"id":{"type":"Identifier","start":8544,"end":8548,"loc":{"start":{"line":236,"column":8},"end":{"line":236,"column":12}},"name":"uppy"},"init":{"type":"MemberExpression","start":8551,"end":8560,"loc":{"start":{"line":236,"column":15},"end":{"line":236,"column":24}},"object":{"type":"ThisExpression","start":8551,"end":8555,"loc":{"start":{"line":236,"column":15},"end":{"line":236,"column":19}}},"property":{"type":"Identifier","start":8556,"end":8560,"loc":{"start":{"line":236,"column":20},"end":{"line":236,"column":24}},"name":"uppy"},"computed":false}}],"kind":"var"},{"type":"ExpressionStatement","start":8566,"end":8607,"loc":{"start":{"line":237,"column":4},"end":{"line":237,"column":45}},"expression":{"type":"CallExpression","start":8566,"end":8606,"loc":{"start":{"line":237,"column":4},"end":{"line":237,"column":44}},"callee":{"type":"MemberExpression","start":8566,"end":8587,"loc":{"start":{"line":237,"column":4},"end":{"line":237,"column":25}},"object":{"type":"MemberExpression","start":8566,"end":8575,"loc":{"start":{"line":237,"column":4},"end":{"line":237,"column":13}},"object":{"type":"ThisExpression","start":8566,"end":8570,"loc":{"start":{"line":237,"column":4},"end":{"line":237,"column":8}}},"property":{"type":"Identifier","start":8571,"end":8575,"loc":{"start":{"line":237,"column":9},"end":{"line":237,"column":13}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":8576,"end":8587,"loc":{"start":{"line":237,"column":14},"end":{"line":237,"column":25}},"name":"addUploader"},"computed":false},"arguments":[{"type":"MemberExpression","start":8588,"end":8605,"loc":{"start":{"line":237,"column":26},"end":{"line":237,"column":43}},"object":{"type":"ThisExpression","start":8588,"end":8592,"loc":{"start":{"line":237,"column":26},"end":{"line":237,"column":30}}},"property":{"type":"Identifier","start":8593,"end":8605,"loc":{"start":{"line":237,"column":31},"end":{"line":237,"column":43}},"name":"handleUpload"},"computed":false}]},"comments":[{"type":"Line","value":" Get the response data from a successful XMLHttpRequest instance.","start":8608,"end":8675,"loc":{"start":{"line":237,"column":46},"end":{"line":237,"column":113}}}]},{"type":"FunctionDeclaration","start":8775,"end":10248,"loc":{"start":{"line":241,"column":4},"end":{"line":281,"column":5}},"id":{"type":"Identifier","start":8784,"end":8806,"loc":{"start":{"line":241,"column":13},"end":{"line":241,"column":35}},"name":"defaultGetResponseData"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8807,"end":8814,"loc":{"start":{"line":241,"column":36},"end":{"line":241,"column":43}},"name":"content"},{"type":"Identifier","start":8816,"end":8819,"loc":{"start":{"line":241,"column":45},"end":{"line":241,"column":48}},"name":"xhr"}],"body":{"type":"BlockStatement","start":8821,"end":10248,"loc":{"start":{"line":241,"column":50},"end":{"line":281,"column":5}},"body":[{"type":"VariableDeclaration","start":8829,"end":8845,"loc":{"start":{"line":242,"column":6},"end":{"line":242,"column":22}},"declarations":[{"type":"VariableDeclarator","start":8833,"end":8844,"loc":{"start":{"line":242,"column":10},"end":{"line":242,"column":21}},"id":{"type":"Identifier","start":8833,"end":8837,"loc":{"start":{"line":242,"column":10},"end":{"line":242,"column":14}},"name":"opts"},"init":{"type":"ThisExpression","start":8840,"end":8844,"loc":{"start":{"line":242,"column":17},"end":{"line":242,"column":21}}}}],"kind":"var","comments":[{"type":"Line","value":" If no response, we've hopefully done a PUT request to the file","start":8846,"end":8911,"loc":{"start":{"line":242,"column":23},"end":{"line":242,"column":88}}}]},{"type":"IfStatement","start":8959,"end":9880,"loc":{"start":{"line":245,"column":6},"end":{"line":271,"column":7}},"test":{"type":"UnaryExpression","start":8963,"end":8983,"loc":{"start":{"line":245,"column":10},"end":{"line":245,"column":30}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":8964,"end":8983,"loc":{"start":{"line":245,"column":11},"end":{"line":245,"column":30}},"callee":{"type":"Identifier","start":8964,"end":8969,"loc":{"start":{"line":245,"column":11},"end":{"line":245,"column":16}},"name":"isXml"},"arguments":[{"type":"Identifier","start":8970,"end":8977,"loc":{"start":{"line":245,"column":17},"end":{"line":245,"column":24}},"name":"content"},{"type":"Identifier","start":8979,"end":8982,"loc":{"start":{"line":245,"column":26},"end":{"line":245,"column":29}},"name":"xhr"}]}},"consequent":{"type":"BlockStatement","start":8985,"end":9880,"loc":{"start":{"line":245,"column":32},"end":{"line":271,"column":7}},"body":[{"type":"IfStatement","start":8995,"end":9449,"loc":{"start":{"line":246,"column":8},"end":{"line":256,"column":9}},"test":{"type":"BinaryExpression","start":8999,"end":9035,"loc":{"start":{"line":246,"column":12},"end":{"line":246,"column":48}},"left":{"type":"CallExpression","start":8999,"end":9024,"loc":{"start":{"line":246,"column":12},"end":{"line":246,"column":37}},"callee":{"type":"MemberExpression","start":8999,"end":9022,"loc":{"start":{"line":246,"column":12},"end":{"line":246,"column":35}},"object":{"type":"MemberExpression","start":8999,"end":9010,"loc":{"start":{"line":246,"column":12},"end":{"line":246,"column":23}},"object":{"type":"Identifier","start":8999,"end":9003,"loc":{"start":{"line":246,"column":12},"end":{"line":246,"column":16}},"name":"opts"},"property":{"type":"Identifier","start":9004,"end":9010,"loc":{"start":{"line":246,"column":17},"end":{"line":246,"column":23}},"name":"method"},"computed":false},"property":{"type":"Identifier","start":9011,"end":9022,"loc":{"start":{"line":246,"column":24},"end":{"line":246,"column":35}},"name":"toUpperCase"},"computed":false},"arguments":[]},"operator":"===","right":{"type":"Literal","start":9029,"end":9035,"loc":{"start":{"line":246,"column":42},"end":{"line":246,"column":48}},"value":"POST","raw":"'POST'"}},"consequent":{"type":"BlockStatement","start":9037,"end":9449,"loc":{"start":{"line":246,"column":50},"end":{"line":256,"column":9}},"body":[{"type":"IfStatement","start":9049,"end":9320,"loc":{"start":{"line":247,"column":10},"end":{"line":250,"column":11}},"test":{"type":"UnaryExpression","start":9053,"end":9079,"loc":{"start":{"line":247,"column":14},"end":{"line":247,"column":40}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":9054,"end":9079,"loc":{"start":{"line":247,"column":15},"end":{"line":247,"column":40}},"name":"warnedSuccessActionStatus"}},"consequent":{"type":"BlockStatement","start":9081,"end":9320,"loc":{"start":{"line":247,"column":42},"end":{"line":250,"column":11}},"body":[{"type":"ExpressionStatement","start":9095,"end":9262,"loc":{"start":{"line":248,"column":12},"end":{"line":248,"column":179}},"expression":{"type":"CallExpression","start":9095,"end":9261,"loc":{"start":{"line":248,"column":12},"end":{"line":248,"column":178}},"callee":{"type":"MemberExpression","start":9095,"end":9103,"loc":{"start":{"line":248,"column":12},"end":{"line":248,"column":20}},"object":{"type":"Identifier","start":9095,"end":9099,"loc":{"start":{"line":248,"column":12},"end":{"line":248,"column":16}},"name":"uppy"},"property":{"type":"Identifier","start":9100,"end":9103,"loc":{"start":{"line":248,"column":17},"end":{"line":248,"column":20}},"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":9104,"end":9249,"loc":{"start":{"line":248,"column":21},"end":{"line":248,"column":166}},"value":"[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","raw":"'[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads'"},{"type":"Literal","start":9251,"end":9260,"loc":{"start":{"line":248,"column":168},"end":{"line":248,"column":177}},"value":"warning","raw":"'warning'"}]}},{"type":"ExpressionStatement","start":9275,"end":9308,"loc":{"start":{"line":249,"column":12},"end":{"line":249,"column":45}},"expression":{"type":"AssignmentExpression","start":9275,"end":9307,"loc":{"start":{"line":249,"column":12},"end":{"line":249,"column":44}},"operator":"=","left":{"type":"Identifier","start":9275,"end":9300,"loc":{"start":{"line":249,"column":12},"end":{"line":249,"column":37}},"name":"warnedSuccessActionStatus"},"right":{"type":"Literal","start":9303,"end":9307,"loc":{"start":{"line":249,"column":40},"end":{"line":249,"column":44}},"value":true,"raw":"true"}}}]},"alternate":null,"comments":[{"type":"Line","value":" The responseURL won't contain the object key. Give up.","start":9321,"end":9378,"loc":{"start":{"line":250,"column":12},"end":{"line":250,"column":69}}}]},{"type":"ReturnStatement","start":9391,"end":9439,"loc":{"start":{"line":253,"column":10},"end":{"line":255,"column":12}},"argument":{"type":"ObjectExpression","start":9398,"end":9438,"loc":{"start":{"line":253,"column":17},"end":{"line":255,"column":11}},"properties":[{"type":"Property","start":9412,"end":9426,"loc":{"start":{"line":254,"column":12},"end":{"line":254,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9412,"end":9420,"loc":{"start":{"line":254,"column":12},"end":{"line":254,"column":20}},"name":"location"},"value":{"type":"Literal","start":9422,"end":9426,"loc":{"start":{"line":254,"column":22},"end":{"line":254,"column":26}},"value":null,"raw":"null"},"kind":"init"}]}}]},"alternate":null},{"type":"IfStatement","start":9511,"end":9603,"loc":{"start":{"line":259,"column":8},"end":{"line":263,"column":9}},"test":{"type":"UnaryExpression","start":9515,"end":9531,"loc":{"start":{"line":259,"column":12},"end":{"line":259,"column":28}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":9516,"end":9531,"loc":{"start":{"line":259,"column":13},"end":{"line":259,"column":28}},"object":{"type":"Identifier","start":9516,"end":9519,"loc":{"start":{"line":259,"column":13},"end":{"line":259,"column":16}},"name":"xhr"},"property":{"type":"Identifier","start":9520,"end":9531,"loc":{"start":{"line":259,"column":17},"end":{"line":259,"column":28}},"name":"responseURL"},"computed":false}},"consequent":{"type":"BlockStatement","start":9533,"end":9603,"loc":{"start":{"line":259,"column":30},"end":{"line":263,"column":9}},"body":[{"type":"ReturnStatement","start":9545,"end":9593,"loc":{"start":{"line":260,"column":10},"end":{"line":262,"column":12}},"argument":{"type":"ObjectExpression","start":9552,"end":9592,"loc":{"start":{"line":260,"column":17},"end":{"line":262,"column":11}},"properties":[{"type":"Property","start":9566,"end":9580,"loc":{"start":{"line":261,"column":12},"end":{"line":261,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9566,"end":9574,"loc":{"start":{"line":261,"column":12},"end":{"line":261,"column":20}},"name":"location"},"value":{"type":"Literal","start":9576,"end":9580,"loc":{"start":{"line":261,"column":22},"end":{"line":261,"column":26}},"value":null,"raw":"null"},"kind":"init"}]}}]},"alternate":null,"comments":[{"type":"Line","value":" responseURL is not available in older browsers.","start":9450,"end":9500,"loc":{"start":{"line":256,"column":10},"end":{"line":256,"column":60}}},{"type":"Line","value":" Trim the query string because it's going to be a bunch of presign","start":9604,"end":9672,"loc":{"start":{"line":263,"column":10},"end":{"line":263,"column":78}}}]},{"type":"ReturnStatement","start":9796,"end":9872,"loc":{"start":{"line":268,"column":8},"end":{"line":270,"column":10}},"argument":{"type":"ObjectExpression","start":9803,"end":9871,"loc":{"start":{"line":268,"column":15},"end":{"line":270,"column":9}},"properties":[{"type":"Property","start":9815,"end":9861,"loc":{"start":{"line":269,"column":10},"end":{"line":269,"column":56}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9815,"end":9823,"loc":{"start":{"line":269,"column":10},"end":{"line":269,"column":18}},"name":"location"},"value":{"type":"CallExpression","start":9825,"end":9861,"loc":{"start":{"line":269,"column":20},"end":{"line":269,"column":56}},"callee":{"type":"MemberExpression","start":9825,"end":9848,"loc":{"start":{"line":269,"column":20},"end":{"line":269,"column":43}},"object":{"type":"MemberExpression","start":9825,"end":9840,"loc":{"start":{"line":269,"column":20},"end":{"line":269,"column":35}},"object":{"type":"Identifier","start":9825,"end":9828,"loc":{"start":{"line":269,"column":20},"end":{"line":269,"column":23}},"name":"xhr"},"property":{"type":"Identifier","start":9829,"end":9840,"loc":{"start":{"line":269,"column":24},"end":{"line":269,"column":35}},"name":"responseURL"},"computed":false},"property":{"type":"Identifier","start":9841,"end":9848,"loc":{"start":{"line":269,"column":36},"end":{"line":269,"column":43}},"name":"replace"},"computed":false},"arguments":[{"type":"Literal","start":9849,"end":9856,"loc":{"start":{"line":269,"column":44},"end":{"line":269,"column":51}},"value":{},"raw":"/\\?.*$/","regex":{"pattern":"\\?.*$","flags":""}},{"type":"Literal","start":9858,"end":9860,"loc":{"start":{"line":269,"column":53},"end":{"line":269,"column":55}},"value":"","raw":"''"}]},"kind":"init"}]},"comments":[{"type":"Line","value":" parameters for a PUT requestâ€”doing a GET request with those will","start":9681,"end":9748,"loc":{"start":{"line":264,"column":8},"end":{"line":264,"column":75}}},{"type":"Line","value":" always result in an error","start":9757,"end":9785,"loc":{"start":{"line":265,"column":8},"end":{"line":265,"column":36}}}]}]},"alternate":null,"comments":[{"type":"Line","value":" in the bucket on its full URL.","start":8918,"end":8951,"loc":{"start":{"line":243,"column":6},"end":{"line":243,"column":39}}}]},{"type":"ReturnStatement","start":9888,"end":10242,"loc":{"start":{"line":273,"column":6},"end":{"line":280,"column":8}},"argument":{"type":"ObjectExpression","start":9895,"end":10241,"loc":{"start":{"line":273,"column":13},"end":{"line":280,"column":7}},"properties":[{"type":"Property","start":10028,"end":10099,"loc":{"start":{"line":276,"column":8},"end":{"line":276,"column":79}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10028,"end":10036,"loc":{"start":{"line":276,"column":8},"end":{"line":276,"column":16}},"name":"location"},"value":{"type":"CallExpression","start":10038,"end":10099,"loc":{"start":{"line":276,"column":18},"end":{"line":276,"column":79}},"callee":{"type":"Identifier","start":10038,"end":10048,"loc":{"start":{"line":276,"column":18},"end":{"line":276,"column":28}},"name":"resolveUrl"},"arguments":[{"type":"MemberExpression","start":10049,"end":10064,"loc":{"start":{"line":276,"column":29},"end":{"line":276,"column":44}},"object":{"type":"Identifier","start":10049,"end":10052,"loc":{"start":{"line":276,"column":29},"end":{"line":276,"column":32}},"name":"xhr"},"property":{"type":"Identifier","start":10053,"end":10064,"loc":{"start":{"line":276,"column":33},"end":{"line":276,"column":44}},"name":"responseURL"},"computed":false},{"type":"CallExpression","start":10066,"end":10098,"loc":{"start":{"line":276,"column":46},"end":{"line":276,"column":78}},"callee":{"type":"Identifier","start":10066,"end":10077,"loc":{"start":{"line":276,"column":46},"end":{"line":276,"column":57}},"name":"getXmlValue"},"arguments":[{"type":"Identifier","start":10078,"end":10085,"loc":{"start":{"line":276,"column":58},"end":{"line":276,"column":65}},"name":"content"},{"type":"Literal","start":10087,"end":10097,"loc":{"start":{"line":276,"column":67},"end":{"line":276,"column":77}},"value":"Location","raw":"'Location'"}]}]},"kind":"init","comments":[{"type":"Line","value":" Some S3 alternatives do not reply with an absolute URL.","start":9905,"end":9963,"loc":{"start":{"line":274,"column":8},"end":{"line":274,"column":66}}},{"type":"Line","value":" Eg DigitalOcean Spaces uses /$bucketName/xyz","start":9972,"end":10019,"loc":{"start":{"line":275,"column":8},"end":{"line":275,"column":55}}}]},{"type":"Property","start":10109,"end":10147,"loc":{"start":{"line":277,"column":8},"end":{"line":277,"column":46}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10109,"end":10115,"loc":{"start":{"line":277,"column":8},"end":{"line":277,"column":14}},"name":"bucket"},"value":{"type":"CallExpression","start":10117,"end":10147,"loc":{"start":{"line":277,"column":16},"end":{"line":277,"column":46}},"callee":{"type":"Identifier","start":10117,"end":10128,"loc":{"start":{"line":277,"column":16},"end":{"line":277,"column":27}},"name":"getXmlValue"},"arguments":[{"type":"Identifier","start":10129,"end":10136,"loc":{"start":{"line":277,"column":28},"end":{"line":277,"column":35}},"name":"content"},{"type":"Literal","start":10138,"end":10146,"loc":{"start":{"line":277,"column":37},"end":{"line":277,"column":45}},"value":"Bucket","raw":"'Bucket'"}]},"kind":"init"},{"type":"Property","start":10157,"end":10189,"loc":{"start":{"line":278,"column":8},"end":{"line":278,"column":40}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10157,"end":10160,"loc":{"start":{"line":278,"column":8},"end":{"line":278,"column":11}},"name":"key"},"value":{"type":"CallExpression","start":10162,"end":10189,"loc":{"start":{"line":278,"column":13},"end":{"line":278,"column":40}},"callee":{"type":"Identifier","start":10162,"end":10173,"loc":{"start":{"line":278,"column":13},"end":{"line":278,"column":24}},"name":"getXmlValue"},"arguments":[{"type":"Identifier","start":10174,"end":10181,"loc":{"start":{"line":278,"column":25},"end":{"line":278,"column":32}},"name":"content"},{"type":"Literal","start":10183,"end":10188,"loc":{"start":{"line":278,"column":34},"end":{"line":278,"column":39}},"value":"Key","raw":"'Key'"}]},"kind":"init"},{"type":"Property","start":10199,"end":10233,"loc":{"start":{"line":279,"column":8},"end":{"line":279,"column":42}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10199,"end":10203,"loc":{"start":{"line":279,"column":8},"end":{"line":279,"column":12}},"name":"etag"},"value":{"type":"CallExpression","start":10205,"end":10233,"loc":{"start":{"line":279,"column":14},"end":{"line":279,"column":42}},"callee":{"type":"Identifier","start":10205,"end":10216,"loc":{"start":{"line":279,"column":14},"end":{"line":279,"column":25}},"name":"getXmlValue"},"arguments":[{"type":"Identifier","start":10217,"end":10224,"loc":{"start":{"line":279,"column":26},"end":{"line":279,"column":33}},"name":"content"},{"type":"Literal","start":10226,"end":10232,"loc":{"start":{"line":279,"column":35},"end":{"line":279,"column":41}},"value":"ETag","raw":"'ETag'"}]},"kind":"init"}]}}]},"comments":[{"type":"Line","value":" `content` is the S3 response as a string.","start":8680,"end":8724,"loc":{"start":{"line":238,"column":4},"end":{"line":238,"column":48}}},{"type":"Line","value":" `xhr` is the XMLHttpRequest instance.","start":8729,"end":8769,"loc":{"start":{"line":239,"column":4},"end":{"line":239,"column":44}}}]},{"type":"FunctionDeclaration","start":10410,"end":10687,"loc":{"start":{"line":286,"column":4},"end":{"line":294,"column":5}},"id":{"type":"Identifier","start":10419,"end":10442,"loc":{"start":{"line":286,"column":13},"end":{"line":286,"column":36}},"name":"defaultGetResponseError"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10443,"end":10450,"loc":{"start":{"line":286,"column":37},"end":{"line":286,"column":44}},"name":"content"},{"type":"Identifier","start":10452,"end":10455,"loc":{"start":{"line":286,"column":46},"end":{"line":286,"column":49}},"name":"xhr"}],"body":{"type":"BlockStatement","start":10457,"end":10687,"loc":{"start":{"line":286,"column":51},"end":{"line":294,"column":5}},"body":[{"type":"IfStatement","start":10547,"end":10598,"loc":{"start":{"line":288,"column":6},"end":{"line":290,"column":7}},"test":{"type":"UnaryExpression","start":10551,"end":10571,"loc":{"start":{"line":288,"column":10},"end":{"line":288,"column":30}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":10552,"end":10571,"loc":{"start":{"line":288,"column":11},"end":{"line":288,"column":30}},"callee":{"type":"Identifier","start":10552,"end":10557,"loc":{"start":{"line":288,"column":11},"end":{"line":288,"column":16}},"name":"isXml"},"arguments":[{"type":"Identifier","start":10558,"end":10565,"loc":{"start":{"line":288,"column":17},"end":{"line":288,"column":24}},"name":"content"},{"type":"Identifier","start":10567,"end":10570,"loc":{"start":{"line":288,"column":26},"end":{"line":288,"column":29}},"name":"xhr"}]}},"consequent":{"type":"BlockStatement","start":10573,"end":10598,"loc":{"start":{"line":288,"column":32},"end":{"line":290,"column":7}},"body":[{"type":"ReturnStatement","start":10583,"end":10590,"loc":{"start":{"line":289,"column":8},"end":{"line":289,"column":15}},"argument":null}]},"alternate":null,"comments":[{"type":"Line","value":" If no response, we don't have a specific error message, use the default.","start":10465,"end":10540,"loc":{"start":{"line":287,"column":6},"end":{"line":287,"column":81}}}]},{"type":"VariableDeclaration","start":10606,"end":10650,"loc":{"start":{"line":292,"column":6},"end":{"line":292,"column":50}},"declarations":[{"type":"VariableDeclarator","start":10610,"end":10649,"loc":{"start":{"line":292,"column":10},"end":{"line":292,"column":49}},"id":{"type":"Identifier","start":10610,"end":10615,"loc":{"start":{"line":292,"column":10},"end":{"line":292,"column":15}},"name":"error"},"init":{"type":"CallExpression","start":10618,"end":10649,"loc":{"start":{"line":292,"column":18},"end":{"line":292,"column":49}},"callee":{"type":"Identifier","start":10618,"end":10629,"loc":{"start":{"line":292,"column":18},"end":{"line":292,"column":29}},"name":"getXmlValue"},"arguments":[{"type":"Identifier","start":10630,"end":10637,"loc":{"start":{"line":292,"column":30},"end":{"line":292,"column":37}},"name":"content"},{"type":"Literal","start":10639,"end":10648,"loc":{"start":{"line":292,"column":39},"end":{"line":292,"column":48}},"value":"Message","raw":"'Message'"}]}}],"kind":"var"},{"type":"ReturnStatement","start":10657,"end":10681,"loc":{"start":{"line":293,"column":6},"end":{"line":293,"column":30}},"argument":{"type":"NewExpression","start":10664,"end":10680,"loc":{"start":{"line":293,"column":13},"end":{"line":293,"column":29}},"callee":{"type":"Identifier","start":10668,"end":10673,"loc":{"start":{"line":293,"column":17},"end":{"line":293,"column":22}},"name":"Error"},"arguments":[{"type":"Identifier","start":10674,"end":10679,"loc":{"start":{"line":293,"column":23},"end":{"line":293,"column":28}},"name":"error"}]}}]},"comments":[{"type":"Line","value":" Get the error data from a failed XMLHttpRequest instance.","start":10249,"end":10309,"loc":{"start":{"line":281,"column":6},"end":{"line":281,"column":66}}},{"type":"Line","value":" `content` is the S3 response as a string.","start":10314,"end":10358,"loc":{"start":{"line":282,"column":4},"end":{"line":282,"column":48}}},{"type":"Line","value":" `xhr` is the XMLHttpRequest instance.","start":10363,"end":10403,"loc":{"start":{"line":283,"column":4},"end":{"line":283,"column":44}}}]},{"type":"VariableDeclaration","start":10693,"end":11054,"loc":{"start":{"line":296,"column":4},"end":{"line":305,"column":6}},"declarations":[{"type":"VariableDeclarator","start":10697,"end":11053,"loc":{"start":{"line":296,"column":8},"end":{"line":305,"column":5}},"id":{"type":"Identifier","start":10697,"end":10707,"loc":{"start":{"line":296,"column":8},"end":{"line":296,"column":18}},"name":"xhrOptions"},"init":{"type":"ObjectExpression","start":10710,"end":11053,"loc":{"start":{"line":296,"column":21},"end":{"line":305,"column":5}},"properties":[{"type":"Property","start":10718,"end":10735,"loc":{"start":{"line":297,"column":6},"end":{"line":297,"column":23}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10718,"end":10727,"loc":{"start":{"line":297,"column":6},"end":{"line":297,"column":15}},"name":"fieldName"},"value":{"type":"Literal","start":10729,"end":10735,"loc":{"start":{"line":297,"column":17},"end":{"line":297,"column":23}},"value":"file","raw":"'file'"},"kind":"init"},{"type":"Property","start":10743,"end":10775,"loc":{"start":{"line":298,"column":6},"end":{"line":298,"column":38}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10743,"end":10763,"loc":{"start":{"line":298,"column":6},"end":{"line":298,"column":26}},"name":"responseUrlFieldName"},"value":{"type":"Literal","start":10765,"end":10775,"loc":{"start":{"line":298,"column":28},"end":{"line":298,"column":38}},"value":"location","raw":"'location'"},"kind":"init"},{"type":"Property","start":10783,"end":10809,"loc":{"start":{"line":299,"column":6},"end":{"line":299,"column":32}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10783,"end":10790,"loc":{"start":{"line":299,"column":6},"end":{"line":299,"column":13}},"name":"timeout"},"value":{"type":"MemberExpression","start":10792,"end":10809,"loc":{"start":{"line":299,"column":15},"end":{"line":299,"column":32}},"object":{"type":"MemberExpression","start":10792,"end":10801,"loc":{"start":{"line":299,"column":15},"end":{"line":299,"column":24}},"object":{"type":"ThisExpression","start":10792,"end":10796,"loc":{"start":{"line":299,"column":15},"end":{"line":299,"column":19}}},"property":{"type":"Identifier","start":10797,"end":10801,"loc":{"start":{"line":299,"column":20},"end":{"line":299,"column":24}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":10802,"end":10809,"loc":{"start":{"line":299,"column":25},"end":{"line":299,"column":32}},"name":"timeout"},"computed":false},"kind":"init"},{"type":"Property","start":10872,"end":10894,"loc":{"start":{"line":301,"column":6},"end":{"line":301,"column":28}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10872,"end":10879,"loc":{"start":{"line":301,"column":6},"end":{"line":301,"column":13}},"name":"__queue"},"value":{"type":"MemberExpression","start":10881,"end":10894,"loc":{"start":{"line":301,"column":15},"end":{"line":301,"column":28}},"object":{"type":"ThisExpression","start":10881,"end":10885,"loc":{"start":{"line":301,"column":15},"end":{"line":301,"column":19}}},"property":{"type":"Identifier","start":10886,"end":10894,"loc":{"start":{"line":301,"column":20},"end":{"line":301,"column":28}},"name":"requests"},"computed":false},"kind":"init","comments":[{"type":"Line","value":" Share the rate limiting queue with XHRUpload.","start":10817,"end":10865,"loc":{"start":{"line":300,"column":6},"end":{"line":300,"column":54}}}]},{"type":"Property","start":10902,"end":10922,"loc":{"start":{"line":302,"column":6},"end":{"line":302,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10902,"end":10914,"loc":{"start":{"line":302,"column":6},"end":{"line":302,"column":18}},"name":"responseType"},"value":{"type":"Literal","start":10916,"end":10922,"loc":{"start":{"line":302,"column":20},"end":{"line":302,"column":26}},"value":"text","raw":"'text'"},"kind":"init"},{"type":"Property","start":10930,"end":10998,"loc":{"start":{"line":303,"column":6},"end":{"line":303,"column":74}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10930,"end":10945,"loc":{"start":{"line":303,"column":6},"end":{"line":303,"column":21}},"name":"getResponseData"},"value":{"type":"LogicalExpression","start":10947,"end":10998,"loc":{"start":{"line":303,"column":23},"end":{"line":303,"column":74}},"left":{"type":"MemberExpression","start":10947,"end":10972,"loc":{"start":{"line":303,"column":23},"end":{"line":303,"column":48}},"object":{"type":"MemberExpression","start":10947,"end":10956,"loc":{"start":{"line":303,"column":23},"end":{"line":303,"column":32}},"object":{"type":"ThisExpression","start":10947,"end":10951,"loc":{"start":{"line":303,"column":23},"end":{"line":303,"column":27}}},"property":{"type":"Identifier","start":10952,"end":10956,"loc":{"start":{"line":303,"column":28},"end":{"line":303,"column":32}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":10957,"end":10972,"loc":{"start":{"line":303,"column":33},"end":{"line":303,"column":48}},"name":"getResponseData"},"computed":false},"operator":"||","right":{"type":"Identifier","start":10976,"end":10998,"loc":{"start":{"line":303,"column":52},"end":{"line":303,"column":74}},"name":"defaultGetResponseData"}},"kind":"init"},{"type":"Property","start":11006,"end":11047,"loc":{"start":{"line":304,"column":6},"end":{"line":304,"column":47}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11006,"end":11022,"loc":{"start":{"line":304,"column":6},"end":{"line":304,"column":22}},"name":"getResponseError"},"value":{"type":"Identifier","start":11024,"end":11047,"loc":{"start":{"line":304,"column":24},"end":{"line":304,"column":47}},"name":"defaultGetResponseError"},"kind":"init"}]}}],"kind":"var"},{"type":"ExpressionStatement","start":11168,"end":11226,"loc":{"start":{"line":308,"column":4},"end":{"line":308,"column":62}},"expression":{"type":"AssignmentExpression","start":11168,"end":11225,"loc":{"start":{"line":308,"column":4},"end":{"line":308,"column":61}},"operator":"=","left":{"type":"MemberExpression","start":11168,"end":11182,"loc":{"start":{"line":308,"column":4},"end":{"line":308,"column":18}},"object":{"type":"ThisExpression","start":11168,"end":11172,"loc":{"start":{"line":308,"column":4},"end":{"line":308,"column":8}}},"property":{"type":"Identifier","start":11173,"end":11182,"loc":{"start":{"line":308,"column":9},"end":{"line":308,"column":18}},"name":"_uploader"},"computed":false},"right":{"type":"NewExpression","start":11185,"end":11225,"loc":{"start":{"line":308,"column":21},"end":{"line":308,"column":61}},"callee":{"type":"Identifier","start":11189,"end":11202,"loc":{"start":{"line":308,"column":25},"end":{"line":308,"column":38}},"name":"MiniXHRUpload"},"arguments":[{"type":"MemberExpression","start":11203,"end":11212,"loc":{"start":{"line":308,"column":39},"end":{"line":308,"column":48}},"object":{"type":"ThisExpression","start":11203,"end":11207,"loc":{"start":{"line":308,"column":39},"end":{"line":308,"column":43}}},"property":{"type":"Identifier","start":11208,"end":11212,"loc":{"start":{"line":308,"column":44},"end":{"line":308,"column":48}},"name":"uppy"},"computed":false},{"type":"Identifier","start":11214,"end":11224,"loc":{"start":{"line":308,"column":50},"end":{"line":308,"column":60}},"name":"xhrOptions"}]}},"comments":[{"type":"Line","value":" Revert to `this.uppy.use(XHRUpload)` once the big comment block at the top of","start":11055,"end":11135,"loc":{"start":{"line":305,"column":7},"end":{"line":305,"column":87}}},{"type":"Line","value":" this file is solved","start":11140,"end":11162,"loc":{"start":{"line":306,"column":4},"end":{"line":306,"column":26}}}]},{"type":"ExpressionStatement","start":11231,"end":11268,"loc":{"start":{"line":309,"column":4},"end":{"line":309,"column":41}},"expression":{"type":"AssignmentExpression","start":11231,"end":11267,"loc":{"start":{"line":309,"column":4},"end":{"line":309,"column":40}},"operator":"=","left":{"type":"MemberExpression","start":11231,"end":11250,"loc":{"start":{"line":309,"column":4},"end":{"line":309,"column":23}},"object":{"type":"MemberExpression","start":11231,"end":11245,"loc":{"start":{"line":309,"column":4},"end":{"line":309,"column":18}},"object":{"type":"ThisExpression","start":11231,"end":11235,"loc":{"start":{"line":309,"column":4},"end":{"line":309,"column":8}}},"property":{"type":"Identifier","start":11236,"end":11245,"loc":{"start":{"line":309,"column":9},"end":{"line":309,"column":18}},"name":"_uploader"},"computed":false},"property":{"type":"Identifier","start":11246,"end":11250,"loc":{"start":{"line":309,"column":19},"end":{"line":309,"column":23}},"name":"i18n"},"computed":false},"right":{"type":"MemberExpression","start":11253,"end":11267,"loc":{"start":{"line":309,"column":26},"end":{"line":309,"column":40}},"object":{"type":"MemberExpression","start":11253,"end":11262,"loc":{"start":{"line":309,"column":26},"end":{"line":309,"column":35}},"object":{"type":"ThisExpression","start":11253,"end":11257,"loc":{"start":{"line":309,"column":26},"end":{"line":309,"column":30}}},"property":{"type":"Identifier","start":11258,"end":11262,"loc":{"start":{"line":309,"column":31},"end":{"line":309,"column":35}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":11263,"end":11267,"loc":{"start":{"line":309,"column":36},"end":{"line":309,"column":40}},"name":"i18n"},"computed":false}}}]}}}},{"type":"ExpressionStatement","start":11277,"end":11376,"loc":{"start":{"line":312,"column":2},"end":{"line":314,"column":4}},"expression":{"type":"AssignmentExpression","start":11277,"end":11375,"loc":{"start":{"line":312,"column":2},"end":{"line":314,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":11277,"end":11293,"loc":{"start":{"line":312,"column":2},"end":{"line":312,"column":18}},"object":{"type":"Identifier","start":11277,"end":11283,"loc":{"start":{"line":312,"column":2},"end":{"line":312,"column":8}},"name":"_proto"},"property":{"type":"Identifier","start":11284,"end":11293,"loc":{"start":{"line":312,"column":9},"end":{"line":312,"column":18}},"name":"uninstall"},"computed":false},"right":{"type":"FunctionExpression","start":11296,"end":11375,"loc":{"start":{"line":312,"column":21},"end":{"line":314,"column":3}},"id":{"type":"Identifier","start":11305,"end":11314,"loc":{"start":{"line":312,"column":30},"end":{"line":312,"column":39}},"name":"uninstall"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":11317,"end":11375,"loc":{"start":{"line":312,"column":42},"end":{"line":314,"column":3}},"body":[{"type":"ExpressionStatement","start":11323,"end":11371,"loc":{"start":{"line":313,"column":4},"end":{"line":313,"column":52}},"expression":{"type":"CallExpression","start":11323,"end":11370,"loc":{"start":{"line":313,"column":4},"end":{"line":313,"column":51}},"callee":{"type":"MemberExpression","start":11323,"end":11351,"loc":{"start":{"line":313,"column":4},"end":{"line":313,"column":32}},"object":{"type":"MemberExpression","start":11323,"end":11332,"loc":{"start":{"line":313,"column":4},"end":{"line":313,"column":13}},"object":{"type":"ThisExpression","start":11323,"end":11327,"loc":{"start":{"line":313,"column":4},"end":{"line":313,"column":8}}},"property":{"type":"Identifier","start":11328,"end":11332,"loc":{"start":{"line":313,"column":9},"end":{"line":313,"column":13}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":11333,"end":11351,"loc":{"start":{"line":313,"column":14},"end":{"line":313,"column":32}},"name":"removePreProcessor"},"computed":false},"arguments":[{"type":"MemberExpression","start":11352,"end":11369,"loc":{"start":{"line":313,"column":33},"end":{"line":313,"column":50}},"object":{"type":"ThisExpression","start":11352,"end":11356,"loc":{"start":{"line":313,"column":33},"end":{"line":313,"column":37}}},"property":{"type":"Identifier","start":11357,"end":11369,"loc":{"start":{"line":313,"column":38},"end":{"line":313,"column":50}},"name":"handleUpload"},"computed":false}]}}]}}}},{"type":"ReturnStatement","start":11380,"end":11393,"loc":{"start":{"line":316,"column":2},"end":{"line":316,"column":15}},"argument":{"type":"Identifier","start":11387,"end":11392,"loc":{"start":{"line":316,"column":9},"end":{"line":316,"column":14}},"name":"AwsS3"}}],"comments":[{"type":"Block","value":"#__PURE__","start":4289,"end":4302,"loc":{"start":{"line":103,"column":35},"end":{"line":103,"column":48}}}]}},"arguments":[{"type":"Identifier","start":11396,"end":11402,"loc":{"start":{"line":317,"column":2},"end":{"line":317,"column":8}},"name":"Plugin"}]}}},{"type":"AssignmentExpression","start":11405,"end":11456,"loc":{"start":{"line":317,"column":11},"end":{"line":317,"column":62}},"operator":"=","left":{"type":"MemberExpression","start":11405,"end":11419,"loc":{"start":{"line":317,"column":11},"end":{"line":317,"column":25}},"object":{"type":"Identifier","start":11405,"end":11411,"loc":{"start":{"line":317,"column":11},"end":{"line":317,"column":17}},"name":"_class"},"property":{"type":"Identifier","start":11412,"end":11419,"loc":{"start":{"line":317,"column":18},"end":{"line":317,"column":25}},"name":"VERSION"},"computed":false},"right":{"type":"MemberExpression","start":11422,"end":11456,"loc":{"start":{"line":317,"column":28},"end":{"line":317,"column":62}},"object":{"type":"CallExpression","start":11422,"end":11448,"loc":{"start":{"line":317,"column":28},"end":{"line":317,"column":54}},"callee":{"type":"Identifier","start":11422,"end":11429,"loc":{"start":{"line":317,"column":28},"end":{"line":317,"column":35}},"name":"require"},"arguments":[{"type":"Literal","start":11430,"end":11447,"loc":{"start":{"line":317,"column":36},"end":{"line":317,"column":53}},"value":"../package.json","raw":"'../package.json'"}]},"property":{"type":"Identifier","start":11449,"end":11456,"loc":{"start":{"line":317,"column":55},"end":{"line":317,"column":62}},"name":"version"},"computed":false}},{"type":"Identifier","start":11458,"end":11463,"loc":{"start":{"line":317,"column":64},"end":{"line":317,"column":69}},"name":"_temp"}]}}}],"sourceType":"script"}