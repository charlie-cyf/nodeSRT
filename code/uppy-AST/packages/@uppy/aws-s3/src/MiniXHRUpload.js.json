{"type":"Program","start":0,"end":11040,"body":[{"type":"VariableDeclaration","start":0,"end":28,"declarations":[{"type":"VariableDeclarator","start":6,"end":28,"id":{"type":"Identifier","start":6,"end":10,"name":"cuid"},"init":{"type":"CallExpression","start":13,"end":28,"callee":{"type":"Identifier","start":13,"end":20,"name":"require"},"arguments":[{"type":"Literal","start":21,"end":27,"value":"cuid","raw":"'cuid'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":29,"end":106,"declarations":[{"type":"VariableDeclarator","start":35,"end":106,"id":{"type":"ObjectPattern","start":35,"end":70,"properties":[{"type":"Property","start":37,"end":45,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":37,"end":45,"name":"Provider"},"kind":"init","value":{"type":"Identifier","start":37,"end":45,"name":"Provider"}},{"type":"Property","start":47,"end":60,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":47,"end":60,"name":"RequestClient"},"kind":"init","value":{"type":"Identifier","start":47,"end":60,"name":"RequestClient"}},{"type":"Property","start":62,"end":68,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":62,"end":68,"name":"Socket"},"kind":"init","value":{"type":"Identifier","start":62,"end":68,"name":"Socket"}}]},"init":{"type":"CallExpression","start":73,"end":106,"callee":{"type":"Identifier","start":73,"end":80,"name":"require"},"arguments":[{"type":"Literal","start":81,"end":105,"value":"@uppy/companion-client","raw":"'@uppy/companion-client'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":107,"end":179,"declarations":[{"type":"VariableDeclarator","start":113,"end":179,"id":{"type":"Identifier","start":113,"end":131,"name":"emitSocketProgress"},"init":{"type":"CallExpression","start":134,"end":179,"callee":{"type":"Identifier","start":134,"end":141,"name":"require"},"arguments":[{"type":"Literal","start":142,"end":178,"value":"@uppy/utils/lib/emitSocketProgress","raw":"'@uppy/utils/lib/emitSocketProgress'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":180,"end":242,"declarations":[{"type":"VariableDeclarator","start":186,"end":242,"id":{"type":"Identifier","start":186,"end":199,"name":"getSocketHost"},"init":{"type":"CallExpression","start":202,"end":242,"callee":{"type":"Identifier","start":202,"end":209,"name":"require"},"arguments":[{"type":"Literal","start":210,"end":241,"value":"@uppy/utils/lib/getSocketHost","raw":"'@uppy/utils/lib/getSocketHost'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":243,"end":303,"declarations":[{"type":"VariableDeclarator","start":249,"end":303,"id":{"type":"Identifier","start":249,"end":261,"name":"EventTracker"},"init":{"type":"CallExpression","start":264,"end":303,"callee":{"type":"Identifier","start":264,"end":271,"name":"require"},"arguments":[{"type":"Literal","start":272,"end":302,"value":"@uppy/utils/lib/EventTracker","raw":"'@uppy/utils/lib/EventTracker'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":304,"end":370,"declarations":[{"type":"VariableDeclarator","start":310,"end":370,"id":{"type":"Identifier","start":310,"end":325,"name":"ProgressTimeout"},"init":{"type":"CallExpression","start":328,"end":370,"callee":{"type":"Identifier","start":328,"end":335,"name":"require"},"arguments":[{"type":"Literal","start":336,"end":369,"value":"@uppy/utils/lib/ProgressTimeout","raw":"'@uppy/utils/lib/ProgressTimeout'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":371,"end":431,"declarations":[{"type":"VariableDeclarator","start":377,"end":431,"id":{"type":"Identifier","start":377,"end":389,"name":"NetworkError"},"init":{"type":"CallExpression","start":392,"end":431,"callee":{"type":"Identifier","start":392,"end":399,"name":"require"},"arguments":[{"type":"Literal","start":400,"end":430,"value":"@uppy/utils/lib/NetworkError","raw":"'@uppy/utils/lib/NetworkError'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":432,"end":496,"declarations":[{"type":"VariableDeclarator","start":438,"end":496,"id":{"type":"Identifier","start":438,"end":452,"name":"isNetworkError"},"init":{"type":"CallExpression","start":455,"end":496,"callee":{"type":"Identifier","start":455,"end":462,"name":"require"},"arguments":[{"type":"Literal","start":463,"end":495,"value":"@uppy/utils/lib/isNetworkError","raw":"'@uppy/utils/lib/isNetworkError'"}]}}],"kind":"const"},{"type":"FunctionDeclaration","start":515,"end":983,"id":{"type":"Identifier","start":524,"end":542,"name":"buildResponseError"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":544,"end":547,"name":"xhr"},{"type":"Identifier","start":549,"end":554,"name":"error"}],"body":{"type":"BlockStatement","start":556,"end":983,"body":[{"type":"IfStatement","start":582,"end":627,"test":{"type":"UnaryExpression","start":586,"end":592,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":587,"end":592,"name":"error"}},"consequent":{"type":"ExpressionStatement","start":594,"end":627,"expression":{"type":"AssignmentExpression","start":594,"end":627,"operator":"=","left":{"type":"Identifier","start":594,"end":599,"name":"error"},"right":{"type":"NewExpression","start":602,"end":627,"callee":{"type":"Identifier","start":606,"end":611,"name":"Error"},"arguments":[{"type":"Literal","start":612,"end":626,"value":"Upload error","raw":"'Upload error'"}]}}},"alternate":null},{"type":"IfStatement","start":663,"end":718,"test":{"type":"BinaryExpression","start":667,"end":692,"left":{"type":"UnaryExpression","start":667,"end":679,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":674,"end":679,"name":"error"}},"operator":"===","right":{"type":"Literal","start":684,"end":692,"value":"string","raw":"'string'"}},"consequent":{"type":"ExpressionStatement","start":694,"end":718,"expression":{"type":"AssignmentExpression","start":694,"end":718,"operator":"=","left":{"type":"Identifier","start":694,"end":699,"name":"error"},"right":{"type":"NewExpression","start":702,"end":718,"callee":{"type":"Identifier","start":706,"end":711,"name":"Error"},"arguments":[{"type":"Identifier","start":712,"end":717,"name":"error"}]}}},"alternate":null},{"type":"IfStatement","start":745,"end":851,"test":{"type":"UnaryExpression","start":749,"end":774,"operator":"!","prefix":true,"argument":{"type":"BinaryExpression","start":751,"end":773,"left":{"type":"Identifier","start":751,"end":756,"name":"error"},"operator":"instanceof","right":{"type":"Identifier","start":768,"end":773,"name":"Error"}}},"consequent":{"type":"BlockStatement","start":776,"end":851,"body":[{"type":"ExpressionStatement","start":782,"end":847,"expression":{"type":"AssignmentExpression","start":782,"end":847,"operator":"=","left":{"type":"Identifier","start":782,"end":787,"name":"error"},"right":{"type":"CallExpression","start":790,"end":847,"callee":{"type":"MemberExpression","start":790,"end":803,"object":{"type":"Identifier","start":790,"end":796,"name":"Object"},"property":{"type":"Identifier","start":797,"end":803,"name":"assign"},"computed":false},"arguments":[{"type":"NewExpression","start":804,"end":829,"callee":{"type":"Identifier","start":808,"end":813,"name":"Error"},"arguments":[{"type":"Literal","start":814,"end":828,"value":"Upload error","raw":"'Upload error'"}]},{"type":"ObjectExpression","start":831,"end":846,"properties":[{"type":"Property","start":833,"end":844,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":833,"end":837,"name":"data"},"value":{"type":"Identifier","start":839,"end":844,"name":"error"},"kind":"init"}]}]}}}]},"alternate":null},{"type":"IfStatement","start":855,"end":943,"test":{"type":"CallExpression","start":859,"end":878,"callee":{"type":"Identifier","start":859,"end":873,"name":"isNetworkError"},"arguments":[{"type":"Identifier","start":874,"end":877,"name":"xhr"}]},"consequent":{"type":"BlockStatement","start":880,"end":943,"body":[{"type":"ExpressionStatement","start":886,"end":922,"expression":{"type":"AssignmentExpression","start":886,"end":922,"operator":"=","left":{"type":"Identifier","start":886,"end":891,"name":"error"},"right":{"type":"NewExpression","start":894,"end":922,"callee":{"type":"Identifier","start":898,"end":910,"name":"NetworkError"},"arguments":[{"type":"Identifier","start":911,"end":916,"name":"error"},{"type":"Identifier","start":918,"end":921,"name":"xhr"}]}}},{"type":"ReturnStatement","start":927,"end":939,"argument":{"type":"Identifier","start":934,"end":939,"name":"error"}}]},"alternate":null},{"type":"ExpressionStatement","start":947,"end":966,"expression":{"type":"AssignmentExpression","start":947,"end":966,"operator":"=","left":{"type":"MemberExpression","start":947,"end":960,"object":{"type":"Identifier","start":947,"end":952,"name":"error"},"property":{"type":"Identifier","start":953,"end":960,"name":"request"},"computed":false},"right":{"type":"Identifier","start":963,"end":966,"name":"xhr"}}},{"type":"ReturnStatement","start":969,"end":981,"argument":{"type":"Identifier","start":976,"end":981,"name":"error"}}]}},{"type":"FunctionDeclaration","start":1002,"end":1145,"id":{"type":"Identifier","start":1011,"end":1024,"name":"setTypeInBlob"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1026,"end":1030,"name":"file"}],"body":{"type":"BlockStatement","start":1032,"end":1145,"body":[{"type":"VariableDeclaration","start":1036,"end":1114,"declarations":[{"type":"VariableDeclarator","start":1042,"end":1114,"id":{"type":"Identifier","start":1042,"end":1061,"name":"dataWithUpdatedType"},"init":{"type":"CallExpression","start":1064,"end":1114,"callee":{"type":"MemberExpression","start":1064,"end":1079,"object":{"type":"MemberExpression","start":1064,"end":1073,"object":{"type":"Identifier","start":1064,"end":1068,"name":"file"},"property":{"type":"Identifier","start":1069,"end":1073,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1074,"end":1079,"name":"slice"},"computed":false},"arguments":[{"type":"Literal","start":1080,"end":1081,"value":0,"raw":"0"},{"type":"MemberExpression","start":1083,"end":1097,"object":{"type":"MemberExpression","start":1083,"end":1092,"object":{"type":"Identifier","start":1083,"end":1087,"name":"file"},"property":{"type":"Identifier","start":1088,"end":1092,"name":"data"},"computed":false},"property":{"type":"Identifier","start":1093,"end":1097,"name":"size"},"computed":false},{"type":"MemberExpression","start":1099,"end":1113,"object":{"type":"MemberExpression","start":1099,"end":1108,"object":{"type":"Identifier","start":1099,"end":1103,"name":"file"},"property":{"type":"Identifier","start":1104,"end":1108,"name":"meta"},"computed":false},"property":{"type":"Identifier","start":1109,"end":1113,"name":"type"},"computed":false}]}}],"kind":"const"},{"type":"ReturnStatement","start":1117,"end":1143,"argument":{"type":"Identifier","start":1124,"end":1143,"name":"dataWithUpdatedType"}}]}},{"type":"ExpressionStatement","start":1147,"end":11039,"expression":{"type":"AssignmentExpression","start":1147,"end":11039,"operator":"=","left":{"type":"MemberExpression","start":1147,"end":1161,"object":{"type":"Identifier","start":1147,"end":1153,"name":"module"},"property":{"type":"Identifier","start":1154,"end":1161,"name":"exports"},"computed":false},"right":{"type":"ClassExpression","start":1164,"end":11039,"id":{"type":"Identifier","start":1170,"end":1183,"name":"MiniXHRUpload"},"superClass":null,"body":{"type":"ClassBody","start":1184,"end":11039,"body":[{"type":"MethodDefinition","start":1188,"end":1467,"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":1188,"end":1199,"name":"constructor"},"value":{"type":"FunctionExpression","start":1200,"end":1467,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1201,"end":1205,"name":"uppy"},{"type":"Identifier","start":1207,"end":1211,"name":"opts"}],"body":{"type":"BlockStatement","start":1213,"end":1467,"body":[{"type":"ExpressionStatement","start":1219,"end":1235,"expression":{"type":"AssignmentExpression","start":1219,"end":1235,"operator":"=","left":{"type":"MemberExpression","start":1219,"end":1228,"object":{"type":"ThisExpression","start":1219,"end":1223},"property":{"type":"Identifier","start":1224,"end":1228,"name":"uppy"},"computed":false},"right":{"type":"Identifier","start":1231,"end":1235,"name":"uppy"}}},{"type":"ExpressionStatement","start":1240,"end":1383,"expression":{"type":"AssignmentExpression","start":1240,"end":1383,"operator":"=","left":{"type":"MemberExpression","start":1240,"end":1249,"object":{"type":"ThisExpression","start":1240,"end":1244},"property":{"type":"Identifier","start":1245,"end":1249,"name":"opts"},"computed":false},"right":{"type":"ObjectExpression","start":1252,"end":1383,"properties":[{"type":"Property","start":1260,"end":1362,"method":true,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1260,"end":1274,"name":"validateStatus"},"kind":"init","value":{"type":"FunctionExpression","start":1275,"end":1362,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1276,"end":1282,"name":"status"},{"type":"Identifier","start":1284,"end":1296,"name":"responseText"},{"type":"Identifier","start":1298,"end":1306,"name":"response"}],"body":{"type":"BlockStatement","start":1308,"end":1362,"body":[{"type":"ReturnStatement","start":1318,"end":1354,"argument":{"type":"LogicalExpression","start":1325,"end":1354,"left":{"type":"BinaryExpression","start":1325,"end":1338,"left":{"type":"Identifier","start":1325,"end":1331,"name":"status"},"operator":">=","right":{"type":"Literal","start":1335,"end":1338,"value":200,"raw":"200"}},"operator":"&&","right":{"type":"BinaryExpression","start":1342,"end":1354,"left":{"type":"Identifier","start":1342,"end":1348,"name":"status"},"operator":"<","right":{"type":"Literal","start":1351,"end":1354,"value":300,"raw":"300"}}}}]}}},{"type":"SpreadElement","start":1370,"end":1377,"argument":{"type":"Identifier","start":1373,"end":1377,"name":"opts"}}]}}},{"type":"ExpressionStatement","start":1389,"end":1417,"expression":{"type":"AssignmentExpression","start":1389,"end":1417,"operator":"=","left":{"type":"MemberExpression","start":1389,"end":1402,"object":{"type":"ThisExpression","start":1389,"end":1393},"property":{"type":"Identifier","start":1394,"end":1402,"name":"requests"},"computed":false},"right":{"type":"MemberExpression","start":1405,"end":1417,"object":{"type":"Identifier","start":1405,"end":1409,"name":"opts"},"property":{"type":"Identifier","start":1410,"end":1417,"name":"__queue"},"computed":false}}},{"type":"ExpressionStatement","start":1422,"end":1463,"expression":{"type":"AssignmentExpression","start":1422,"end":1463,"operator":"=","left":{"type":"MemberExpression","start":1422,"end":1441,"object":{"type":"ThisExpression","start":1422,"end":1426},"property":{"type":"Identifier","start":1427,"end":1441,"name":"uploaderEvents"},"computed":false},"right":{"type":"CallExpression","start":1444,"end":1463,"callee":{"type":"MemberExpression","start":1444,"end":1457,"object":{"type":"Identifier","start":1444,"end":1450,"name":"Object"},"property":{"type":"Identifier","start":1451,"end":1457,"name":"create"},"computed":false},"arguments":[{"type":"Literal","start":1458,"end":1462,"value":null,"raw":"null"}]}}}]}}},{"type":"MethodDefinition","start":1471,"end":1933,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1471,"end":1482,"name":"_getOptions"},"value":{"type":"FunctionExpression","start":1483,"end":1933,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1484,"end":1488,"name":"file"}],"body":{"type":"BlockStatement","start":1490,"end":1933,"body":[{"type":"VariableDeclaration","start":1496,"end":1518,"declarations":[{"type":"VariableDeclarator","start":1502,"end":1518,"id":{"type":"Identifier","start":1502,"end":1506,"name":"uppy"},"init":{"type":"MemberExpression","start":1509,"end":1518,"object":{"type":"ThisExpression","start":1509,"end":1513},"property":{"type":"Identifier","start":1514,"end":1518,"name":"uppy"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":1524,"end":1567,"declarations":[{"type":"VariableDeclarator","start":1530,"end":1567,"id":{"type":"Identifier","start":1530,"end":1539,"name":"overrides"},"init":{"type":"MemberExpression","start":1542,"end":1567,"object":{"type":"CallExpression","start":1542,"end":1557,"callee":{"type":"MemberExpression","start":1542,"end":1555,"object":{"type":"Identifier","start":1542,"end":1546,"name":"uppy"},"property":{"type":"Identifier","start":1547,"end":1555,"name":"getState"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":1558,"end":1567,"name":"xhrUpload"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":1572,"end":1691,"declarations":[{"type":"VariableDeclarator","start":1578,"end":1691,"id":{"type":"Identifier","start":1578,"end":1582,"name":"opts"},"init":{"type":"ObjectExpression","start":1585,"end":1691,"properties":[{"type":"SpreadElement","start":1593,"end":1605,"argument":{"type":"MemberExpression","start":1596,"end":1605,"object":{"type":"ThisExpression","start":1596,"end":1600},"property":{"type":"Identifier","start":1601,"end":1605,"name":"opts"},"computed":false}},{"type":"SpreadElement","start":1613,"end":1633,"argument":{"type":"LogicalExpression","start":1617,"end":1632,"left":{"type":"Identifier","start":1617,"end":1626,"name":"overrides"},"operator":"||","right":{"type":"ObjectExpression","start":1630,"end":1632,"properties":[]}}},{"type":"SpreadElement","start":1641,"end":1666,"argument":{"type":"LogicalExpression","start":1645,"end":1665,"left":{"type":"MemberExpression","start":1645,"end":1659,"object":{"type":"Identifier","start":1645,"end":1649,"name":"file"},"property":{"type":"Identifier","start":1650,"end":1659,"name":"xhrUpload"},"computed":false},"operator":"||","right":{"type":"ObjectExpression","start":1663,"end":1665,"properties":[]}}},{"type":"Property","start":1674,"end":1685,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1674,"end":1681,"name":"headers"},"value":{"type":"ObjectExpression","start":1683,"end":1685,"properties":[]},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1696,"end":1742,"expression":{"type":"CallExpression","start":1696,"end":1742,"callee":{"type":"MemberExpression","start":1696,"end":1709,"object":{"type":"Identifier","start":1696,"end":1702,"name":"Object"},"property":{"type":"Identifier","start":1703,"end":1709,"name":"assign"},"computed":false},"arguments":[{"type":"MemberExpression","start":1710,"end":1722,"object":{"type":"Identifier","start":1710,"end":1714,"name":"opts"},"property":{"type":"Identifier","start":1715,"end":1722,"name":"headers"},"computed":false},{"type":"MemberExpression","start":1724,"end":1741,"object":{"type":"MemberExpression","start":1724,"end":1733,"object":{"type":"ThisExpression","start":1724,"end":1728},"property":{"type":"Identifier","start":1729,"end":1733,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":1734,"end":1741,"name":"headers"},"computed":false}]}},{"type":"IfStatement","start":1747,"end":1822,"test":{"type":"Identifier","start":1751,"end":1760,"name":"overrides"},"consequent":{"type":"BlockStatement","start":1762,"end":1822,"body":[{"type":"ExpressionStatement","start":1770,"end":1816,"expression":{"type":"CallExpression","start":1770,"end":1816,"callee":{"type":"MemberExpression","start":1770,"end":1783,"object":{"type":"Identifier","start":1770,"end":1776,"name":"Object"},"property":{"type":"Identifier","start":1777,"end":1783,"name":"assign"},"computed":false},"arguments":[{"type":"MemberExpression","start":1784,"end":1796,"object":{"type":"Identifier","start":1784,"end":1788,"name":"opts"},"property":{"type":"Identifier","start":1789,"end":1796,"name":"headers"},"computed":false},{"type":"MemberExpression","start":1798,"end":1815,"object":{"type":"Identifier","start":1798,"end":1807,"name":"overrides"},"property":{"type":"Identifier","start":1808,"end":1815,"name":"headers"},"computed":false}]}}]},"alternate":null},{"type":"IfStatement","start":1827,"end":1912,"test":{"type":"MemberExpression","start":1831,"end":1845,"object":{"type":"Identifier","start":1831,"end":1835,"name":"file"},"property":{"type":"Identifier","start":1836,"end":1845,"name":"xhrUpload"},"computed":false},"consequent":{"type":"BlockStatement","start":1847,"end":1912,"body":[{"type":"ExpressionStatement","start":1855,"end":1906,"expression":{"type":"CallExpression","start":1855,"end":1906,"callee":{"type":"MemberExpression","start":1855,"end":1868,"object":{"type":"Identifier","start":1855,"end":1861,"name":"Object"},"property":{"type":"Identifier","start":1862,"end":1868,"name":"assign"},"computed":false},"arguments":[{"type":"MemberExpression","start":1869,"end":1881,"object":{"type":"Identifier","start":1869,"end":1873,"name":"opts"},"property":{"type":"Identifier","start":1874,"end":1881,"name":"headers"},"computed":false},{"type":"MemberExpression","start":1883,"end":1905,"object":{"type":"MemberExpression","start":1883,"end":1897,"object":{"type":"Identifier","start":1883,"end":1887,"name":"file"},"property":{"type":"Identifier","start":1888,"end":1897,"name":"xhrUpload"},"computed":false},"property":{"type":"Identifier","start":1898,"end":1905,"name":"headers"},"computed":false}]}}]},"alternate":null},{"type":"ReturnStatement","start":1918,"end":1929,"argument":{"type":"Identifier","start":1925,"end":1929,"name":"opts"}}]}}},{"type":"MethodDefinition","start":1937,"end":2220,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1937,"end":1947,"name":"uploadFile"},"value":{"type":"FunctionExpression","start":1948,"end":2220,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1949,"end":1951,"name":"id"},{"type":"Identifier","start":1953,"end":1960,"name":"current"},{"type":"Identifier","start":1962,"end":1967,"name":"total"}],"body":{"type":"BlockStatement","start":1969,"end":2220,"body":[{"type":"VariableDeclaration","start":1975,"end":2009,"declarations":[{"type":"VariableDeclarator","start":1981,"end":2009,"id":{"type":"Identifier","start":1981,"end":1985,"name":"file"},"init":{"type":"CallExpression","start":1988,"end":2009,"callee":{"type":"MemberExpression","start":1988,"end":2005,"object":{"type":"MemberExpression","start":1988,"end":1997,"object":{"type":"ThisExpression","start":1988,"end":1992},"property":{"type":"Identifier","start":1993,"end":1997,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":1998,"end":2005,"name":"getFile"},"computed":false},"arguments":[{"type":"Identifier","start":2006,"end":2008,"name":"id"}]}}],"kind":"const"},{"type":"IfStatement","start":2014,"end":2161,"test":{"type":"MemberExpression","start":2018,"end":2028,"object":{"type":"Identifier","start":2018,"end":2022,"name":"file"},"property":{"type":"Identifier","start":2023,"end":2028,"name":"error"},"computed":false},"consequent":{"type":"BlockStatement","start":2030,"end":2071,"body":[{"type":"ThrowStatement","start":2038,"end":2065,"argument":{"type":"NewExpression","start":2044,"end":2065,"callee":{"type":"Identifier","start":2048,"end":2053,"name":"Error"},"arguments":[{"type":"MemberExpression","start":2054,"end":2064,"object":{"type":"Identifier","start":2054,"end":2058,"name":"file"},"property":{"type":"Identifier","start":2059,"end":2064,"name":"error"},"computed":false}]}}]},"alternate":{"type":"IfStatement","start":2077,"end":2161,"test":{"type":"MemberExpression","start":2081,"end":2094,"object":{"type":"Identifier","start":2081,"end":2085,"name":"file"},"property":{"type":"Identifier","start":2086,"end":2094,"name":"isRemote"},"computed":false},"consequent":{"type":"BlockStatement","start":2096,"end":2161,"body":[{"type":"ReturnStatement","start":2104,"end":2155,"argument":{"type":"CallExpression","start":2111,"end":2155,"callee":{"type":"MemberExpression","start":2111,"end":2133,"object":{"type":"ThisExpression","start":2111,"end":2115},"property":{"type":"Identifier","start":2116,"end":2133,"name":"_uploadRemoteFile"},"computed":false},"arguments":[{"type":"Identifier","start":2134,"end":2138,"name":"file"},{"type":"Identifier","start":2140,"end":2147,"name":"current"},{"type":"Identifier","start":2149,"end":2154,"name":"total"}]}}]},"alternate":null}},{"type":"ReturnStatement","start":2166,"end":2216,"argument":{"type":"CallExpression","start":2173,"end":2216,"callee":{"type":"MemberExpression","start":2173,"end":2194,"object":{"type":"ThisExpression","start":2173,"end":2177},"property":{"type":"Identifier","start":2178,"end":2194,"name":"_uploadLocalFile"},"computed":false},"arguments":[{"type":"Identifier","start":2195,"end":2199,"name":"file"},{"type":"Identifier","start":2201,"end":2208,"name":"current"},{"type":"Identifier","start":2210,"end":2215,"name":"total"}]}}]}}},{"type":"MethodDefinition","start":2224,"end":2494,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":2224,"end":2236,"name":"_addMetadata"},"value":{"type":"FunctionExpression","start":2237,"end":2494,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2238,"end":2246,"name":"formData"},{"type":"Identifier","start":2248,"end":2252,"name":"meta"},{"type":"Identifier","start":2254,"end":2258,"name":"opts"}],"body":{"type":"BlockStatement","start":2260,"end":2494,"body":[{"type":"VariableDeclaration","start":2266,"end":2408,"declarations":[{"type":"VariableDeclarator","start":2272,"end":2408,"id":{"type":"Identifier","start":2272,"end":2282,"name":"metaFields"},"init":{"type":"ConditionalExpression","start":2285,"end":2408,"test":{"type":"CallExpression","start":2285,"end":2315,"callee":{"type":"MemberExpression","start":2285,"end":2298,"object":{"type":"Identifier","start":2285,"end":2290,"name":"Array"},"property":{"type":"Identifier","start":2291,"end":2298,"name":"isArray"},"computed":false},"arguments":[{"type":"MemberExpression","start":2299,"end":2314,"object":{"type":"Identifier","start":2299,"end":2303,"name":"opts"},"property":{"type":"Identifier","start":2304,"end":2314,"name":"metaFields"},"computed":false}]},"consequent":{"type":"MemberExpression","start":2324,"end":2339,"object":{"type":"Identifier","start":2324,"end":2328,"name":"opts"},"property":{"type":"Identifier","start":2329,"end":2339,"name":"metaFields"},"computed":false},"alternate":{"type":"CallExpression","start":2391,"end":2408,"callee":{"type":"MemberExpression","start":2391,"end":2402,"object":{"type":"Identifier","start":2391,"end":2397,"name":"Object"},"property":{"type":"Identifier","start":2398,"end":2402,"name":"keys"},"computed":false},"arguments":[{"type":"Identifier","start":2403,"end":2407,"name":"meta"}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":2413,"end":2490,"expression":{"type":"CallExpression","start":2413,"end":2490,"callee":{"type":"MemberExpression","start":2413,"end":2431,"object":{"type":"Identifier","start":2413,"end":2423,"name":"metaFields"},"property":{"type":"Identifier","start":2424,"end":2431,"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2432,"end":2489,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2433,"end":2437,"name":"item"}],"body":{"type":"BlockStatement","start":2442,"end":2489,"body":[{"type":"ExpressionStatement","start":2450,"end":2483,"expression":{"type":"CallExpression","start":2450,"end":2483,"callee":{"type":"MemberExpression","start":2450,"end":2465,"object":{"type":"Identifier","start":2450,"end":2458,"name":"formData"},"property":{"type":"Identifier","start":2459,"end":2465,"name":"append"},"computed":false},"arguments":[{"type":"Identifier","start":2466,"end":2470,"name":"item"},{"type":"MemberExpression","start":2472,"end":2482,"object":{"type":"Identifier","start":2472,"end":2476,"name":"meta"},"property":{"type":"Identifier","start":2477,"end":2481,"name":"item"},"computed":true}]}}]}}]}}]}}},{"type":"MethodDefinition","start":2498,"end":2873,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":2498,"end":2519,"name":"_createFormDataUpload"},"value":{"type":"FunctionExpression","start":2520,"end":2873,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2521,"end":2525,"name":"file"},{"type":"Identifier","start":2527,"end":2531,"name":"opts"}],"body":{"type":"BlockStatement","start":2533,"end":2873,"body":[{"type":"VariableDeclaration","start":2539,"end":2570,"declarations":[{"type":"VariableDeclarator","start":2545,"end":2570,"id":{"type":"Identifier","start":2545,"end":2553,"name":"formPost"},"init":{"type":"NewExpression","start":2556,"end":2570,"callee":{"type":"Identifier","start":2560,"end":2568,"name":"FormData"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":2576,"end":2620,"expression":{"type":"CallExpression","start":2576,"end":2620,"callee":{"type":"MemberExpression","start":2576,"end":2593,"object":{"type":"ThisExpression","start":2576,"end":2580},"property":{"type":"Identifier","start":2581,"end":2593,"name":"_addMetadata"},"computed":false},"arguments":[{"type":"Identifier","start":2594,"end":2602,"name":"formPost"},{"type":"MemberExpression","start":2604,"end":2613,"object":{"type":"Identifier","start":2604,"end":2608,"name":"file"},"property":{"type":"Identifier","start":2609,"end":2613,"name":"meta"},"computed":false},{"type":"Identifier","start":2615,"end":2619,"name":"opts"}]}},{"type":"VariableDeclaration","start":2626,"end":2673,"declarations":[{"type":"VariableDeclarator","start":2632,"end":2673,"id":{"type":"Identifier","start":2632,"end":2651,"name":"dataWithUpdatedType"},"init":{"type":"CallExpression","start":2654,"end":2673,"callee":{"type":"Identifier","start":2654,"end":2667,"name":"setTypeInBlob"},"arguments":[{"type":"Identifier","start":2668,"end":2672,"name":"file"}]}}],"kind":"const"},{"type":"IfStatement","start":2679,"end":2848,"test":{"type":"MemberExpression","start":2683,"end":2692,"object":{"type":"Identifier","start":2683,"end":2687,"name":"file"},"property":{"type":"Identifier","start":2688,"end":2692,"name":"name"},"computed":false},"consequent":{"type":"BlockStatement","start":2694,"end":2776,"body":[{"type":"ExpressionStatement","start":2702,"end":2770,"expression":{"type":"CallExpression","start":2702,"end":2770,"callee":{"type":"MemberExpression","start":2702,"end":2717,"object":{"type":"Identifier","start":2702,"end":2710,"name":"formPost"},"property":{"type":"Identifier","start":2711,"end":2717,"name":"append"},"computed":false},"arguments":[{"type":"MemberExpression","start":2718,"end":2732,"object":{"type":"Identifier","start":2718,"end":2722,"name":"opts"},"property":{"type":"Identifier","start":2723,"end":2732,"name":"fieldName"},"computed":false},{"type":"Identifier","start":2734,"end":2753,"name":"dataWithUpdatedType"},{"type":"MemberExpression","start":2755,"end":2769,"object":{"type":"MemberExpression","start":2755,"end":2764,"object":{"type":"Identifier","start":2755,"end":2759,"name":"file"},"property":{"type":"Identifier","start":2760,"end":2764,"name":"meta"},"computed":false},"property":{"type":"Identifier","start":2765,"end":2769,"name":"name"},"computed":false}]}}]},"alternate":{"type":"BlockStatement","start":2782,"end":2848,"body":[{"type":"ExpressionStatement","start":2790,"end":2842,"expression":{"type":"CallExpression","start":2790,"end":2842,"callee":{"type":"MemberExpression","start":2790,"end":2805,"object":{"type":"Identifier","start":2790,"end":2798,"name":"formPost"},"property":{"type":"Identifier","start":2799,"end":2805,"name":"append"},"computed":false},"arguments":[{"type":"MemberExpression","start":2806,"end":2820,"object":{"type":"Identifier","start":2806,"end":2810,"name":"opts"},"property":{"type":"Identifier","start":2811,"end":2820,"name":"fieldName"},"computed":false},{"type":"Identifier","start":2822,"end":2841,"name":"dataWithUpdatedType"}]}}]}},{"type":"ReturnStatement","start":2854,"end":2869,"argument":{"type":"Identifier","start":2861,"end":2869,"name":"formPost"}}]}}},{"type":"MethodDefinition","start":2877,"end":2934,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":2877,"end":2894,"name":"_createBareUpload"},"value":{"type":"FunctionExpression","start":2895,"end":2934,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2896,"end":2900,"name":"file"},{"type":"Identifier","start":2902,"end":2906,"name":"opts"}],"body":{"type":"BlockStatement","start":2908,"end":2934,"body":[{"type":"ReturnStatement","start":2914,"end":2930,"argument":{"type":"MemberExpression","start":2921,"end":2930,"object":{"type":"Identifier","start":2921,"end":2925,"name":"file"},"property":{"type":"Identifier","start":2926,"end":2930,"name":"data"},"computed":false}}]}}},{"type":"MethodDefinition","start":2938,"end":3083,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":2938,"end":2952,"name":"_onFileRemoved"},"value":{"type":"FunctionExpression","start":2953,"end":3083,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2954,"end":2960,"name":"fileID"},{"type":"Identifier","start":2962,"end":2964,"name":"cb"}],"body":{"type":"BlockStatement","start":2966,"end":3083,"body":[{"type":"ExpressionStatement","start":2972,"end":3079,"expression":{"type":"CallExpression","start":2972,"end":3079,"callee":{"type":"MemberExpression","start":2972,"end":3002,"object":{"type":"MemberExpression","start":2972,"end":2999,"object":{"type":"MemberExpression","start":2972,"end":2991,"object":{"type":"ThisExpression","start":2972,"end":2976},"property":{"type":"Identifier","start":2977,"end":2991,"name":"uploaderEvents"},"computed":false},"property":{"type":"Identifier","start":2992,"end":2998,"name":"fileID"},"computed":true},"property":{"type":"Identifier","start":3000,"end":3002,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3003,"end":3017,"value":"file-removed","raw":"'file-removed'"},{"type":"ArrowFunctionExpression","start":3019,"end":3078,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3020,"end":3024,"name":"file"}],"body":{"type":"BlockStatement","start":3029,"end":3078,"body":[{"type":"IfStatement","start":3037,"end":3072,"test":{"type":"BinaryExpression","start":3041,"end":3059,"left":{"type":"Identifier","start":3041,"end":3047,"name":"fileID"},"operator":"===","right":{"type":"MemberExpression","start":3052,"end":3059,"object":{"type":"Identifier","start":3052,"end":3056,"name":"file"},"property":{"type":"Identifier","start":3057,"end":3059,"name":"id"},"computed":false}},"consequent":{"type":"ExpressionStatement","start":3061,"end":3072,"expression":{"type":"CallExpression","start":3061,"end":3072,"callee":{"type":"Identifier","start":3061,"end":3063,"name":"cb"},"arguments":[{"type":"MemberExpression","start":3064,"end":3071,"object":{"type":"Identifier","start":3064,"end":3068,"name":"file"},"property":{"type":"Identifier","start":3069,"end":3071,"name":"id"},"computed":false}]}},"alternate":null}]}}]}}]}}},{"type":"MethodDefinition","start":3087,"end":3250,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3087,"end":3095,"name":"_onRetry"},"value":{"type":"FunctionExpression","start":3096,"end":3250,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3097,"end":3103,"name":"fileID"},{"type":"Identifier","start":3105,"end":3107,"name":"cb"}],"body":{"type":"BlockStatement","start":3109,"end":3250,"body":[{"type":"ExpressionStatement","start":3115,"end":3246,"expression":{"type":"CallExpression","start":3115,"end":3246,"callee":{"type":"MemberExpression","start":3115,"end":3145,"object":{"type":"MemberExpression","start":3115,"end":3142,"object":{"type":"MemberExpression","start":3115,"end":3134,"object":{"type":"ThisExpression","start":3115,"end":3119},"property":{"type":"Identifier","start":3120,"end":3134,"name":"uploaderEvents"},"computed":false},"property":{"type":"Identifier","start":3135,"end":3141,"name":"fileID"},"computed":true},"property":{"type":"Identifier","start":3143,"end":3145,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3146,"end":3160,"value":"upload-retry","raw":"'upload-retry'"},{"type":"ArrowFunctionExpression","start":3162,"end":3245,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3163,"end":3175,"name":"targetFileID"}],"body":{"type":"BlockStatement","start":3180,"end":3245,"body":[{"type":"IfStatement","start":3188,"end":3239,"test":{"type":"BinaryExpression","start":3192,"end":3215,"left":{"type":"Identifier","start":3192,"end":3198,"name":"fileID"},"operator":"===","right":{"type":"Identifier","start":3203,"end":3215,"name":"targetFileID"}},"consequent":{"type":"BlockStatement","start":3217,"end":3239,"body":[{"type":"ExpressionStatement","start":3227,"end":3231,"expression":{"type":"CallExpression","start":3227,"end":3231,"callee":{"type":"Identifier","start":3227,"end":3229,"name":"cb"},"arguments":[]}}]},"alternate":null}]}}]}}]}}},{"type":"MethodDefinition","start":3254,"end":3415,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3254,"end":3265,"name":"_onRetryAll"},"value":{"type":"FunctionExpression","start":3266,"end":3415,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3267,"end":3273,"name":"fileID"},{"type":"Identifier","start":3275,"end":3277,"name":"cb"}],"body":{"type":"BlockStatement","start":3279,"end":3415,"body":[{"type":"ExpressionStatement","start":3285,"end":3411,"expression":{"type":"CallExpression","start":3285,"end":3411,"callee":{"type":"MemberExpression","start":3285,"end":3315,"object":{"type":"MemberExpression","start":3285,"end":3312,"object":{"type":"MemberExpression","start":3285,"end":3304,"object":{"type":"ThisExpression","start":3285,"end":3289},"property":{"type":"Identifier","start":3290,"end":3304,"name":"uploaderEvents"},"computed":false},"property":{"type":"Identifier","start":3305,"end":3311,"name":"fileID"},"computed":true},"property":{"type":"Identifier","start":3313,"end":3315,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3316,"end":3327,"value":"retry-all","raw":"'retry-all'"},{"type":"ArrowFunctionExpression","start":3329,"end":3410,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3330,"end":3342,"name":"filesToRetry"}],"body":{"type":"BlockStatement","start":3347,"end":3410,"body":[{"type":"IfStatement","start":3355,"end":3393,"test":{"type":"UnaryExpression","start":3359,"end":3385,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":3360,"end":3385,"callee":{"type":"MemberExpression","start":3360,"end":3377,"object":{"type":"MemberExpression","start":3360,"end":3369,"object":{"type":"ThisExpression","start":3360,"end":3364},"property":{"type":"Identifier","start":3365,"end":3369,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":3370,"end":3377,"name":"getFile"},"computed":false},"arguments":[{"type":"Identifier","start":3378,"end":3384,"name":"fileID"}]}},"consequent":{"type":"ReturnStatement","start":3387,"end":3393,"argument":null},"alternate":null},{"type":"ExpressionStatement","start":3400,"end":3404,"expression":{"type":"CallExpression","start":3400,"end":3404,"callee":{"type":"Identifier","start":3400,"end":3402,"name":"cb"},"arguments":[]}}]}}]}}]}}},{"type":"MethodDefinition","start":3419,"end":3570,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3419,"end":3431,"name":"_onCancelAll"},"value":{"type":"FunctionExpression","start":3432,"end":3570,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3433,"end":3439,"name":"fileID"},{"type":"Identifier","start":3441,"end":3443,"name":"cb"}],"body":{"type":"BlockStatement","start":3445,"end":3570,"body":[{"type":"ExpressionStatement","start":3451,"end":3566,"expression":{"type":"CallExpression","start":3451,"end":3566,"callee":{"type":"MemberExpression","start":3451,"end":3481,"object":{"type":"MemberExpression","start":3451,"end":3478,"object":{"type":"MemberExpression","start":3451,"end":3470,"object":{"type":"ThisExpression","start":3451,"end":3455},"property":{"type":"Identifier","start":3456,"end":3470,"name":"uploaderEvents"},"computed":false},"property":{"type":"Identifier","start":3471,"end":3477,"name":"fileID"},"computed":true},"property":{"type":"Identifier","start":3479,"end":3481,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3482,"end":3494,"value":"cancel-all","raw":"'cancel-all'"},{"type":"ArrowFunctionExpression","start":3496,"end":3565,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3502,"end":3565,"body":[{"type":"IfStatement","start":3510,"end":3548,"test":{"type":"UnaryExpression","start":3514,"end":3540,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":3515,"end":3540,"callee":{"type":"MemberExpression","start":3515,"end":3532,"object":{"type":"MemberExpression","start":3515,"end":3524,"object":{"type":"ThisExpression","start":3515,"end":3519},"property":{"type":"Identifier","start":3520,"end":3524,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":3525,"end":3532,"name":"getFile"},"computed":false},"arguments":[{"type":"Identifier","start":3533,"end":3539,"name":"fileID"}]}},"consequent":{"type":"ReturnStatement","start":3542,"end":3548,"argument":null},"alternate":null},{"type":"ExpressionStatement","start":3555,"end":3559,"expression":{"type":"CallExpression","start":3555,"end":3559,"callee":{"type":"Identifier","start":3555,"end":3557,"name":"cb"},"arguments":[]}}]}}]}}]}}},{"type":"MethodDefinition","start":3574,"end":7658,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":3574,"end":3590,"name":"_uploadLocalFile"},"value":{"type":"FunctionExpression","start":3591,"end":7658,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3592,"end":3596,"name":"file"},{"type":"Identifier","start":3598,"end":3605,"name":"current"},{"type":"Identifier","start":3607,"end":3612,"name":"total"}],"body":{"type":"BlockStatement","start":3614,"end":7658,"body":[{"type":"VariableDeclaration","start":3620,"end":3655,"declarations":[{"type":"VariableDeclarator","start":3626,"end":3655,"id":{"type":"Identifier","start":3626,"end":3630,"name":"opts"},"init":{"type":"CallExpression","start":3633,"end":3655,"callee":{"type":"MemberExpression","start":3633,"end":3649,"object":{"type":"ThisExpression","start":3633,"end":3637},"property":{"type":"Identifier","start":3638,"end":3649,"name":"_getOptions"},"computed":false},"arguments":[{"type":"Identifier","start":3650,"end":3654,"name":"file"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":3661,"end":3710,"expression":{"type":"CallExpression","start":3661,"end":3710,"callee":{"type":"MemberExpression","start":3661,"end":3674,"object":{"type":"MemberExpression","start":3661,"end":3670,"object":{"type":"ThisExpression","start":3661,"end":3665},"property":{"type":"Identifier","start":3666,"end":3670,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":3671,"end":3674,"name":"log"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":3675,"end":3709,"expressions":[{"type":"Identifier","start":3688,"end":3695,"name":"current"},{"type":"Identifier","start":3702,"end":3707,"name":"total"}],"quasis":[{"type":"TemplateElement","start":3676,"end":3686,"value":{"raw":"uploading ","cooked":"uploading "},"tail":false},{"type":"TemplateElement","start":3696,"end":3700,"value":{"raw":" of ","cooked":" of "},"tail":false},{"type":"TemplateElement","start":3708,"end":3708,"value":{"raw":"","cooked":""},"tail":true}]}]}},{"type":"ReturnStatement","start":3715,"end":7654,"argument":{"type":"NewExpression","start":3722,"end":7654,"callee":{"type":"Identifier","start":3726,"end":3733,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":3734,"end":7653,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3735,"end":3742,"name":"resolve"},{"type":"Identifier","start":3744,"end":3750,"name":"reject"}],"body":{"type":"BlockStatement","start":3755,"end":7653,"body":[{"type":"VariableDeclaration","start":3864,"end":3984,"declarations":[{"type":"VariableDeclarator","start":3870,"end":3984,"id":{"type":"Identifier","start":3870,"end":3874,"name":"data"},"init":{"type":"ConditionalExpression","start":3877,"end":3984,"test":{"type":"MemberExpression","start":3877,"end":3890,"object":{"type":"Identifier","start":3877,"end":3881,"name":"opts"},"property":{"type":"Identifier","start":3882,"end":3890,"name":"formData"},"computed":false},"consequent":{"type":"CallExpression","start":3901,"end":3939,"callee":{"type":"MemberExpression","start":3901,"end":3927,"object":{"type":"ThisExpression","start":3901,"end":3905},"property":{"type":"Identifier","start":3906,"end":3927,"name":"_createFormDataUpload"},"computed":false},"arguments":[{"type":"Identifier","start":3928,"end":3932,"name":"file"},{"type":"Identifier","start":3934,"end":3938,"name":"opts"}]},"alternate":{"type":"CallExpression","start":3950,"end":3984,"callee":{"type":"MemberExpression","start":3950,"end":3972,"object":{"type":"ThisExpression","start":3950,"end":3954},"property":{"type":"Identifier","start":3955,"end":3972,"name":"_createBareUpload"},"computed":false},"arguments":[{"type":"Identifier","start":3973,"end":3977,"name":"file"},{"type":"Identifier","start":3979,"end":3983,"name":"opts"}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":3992,"end":4024,"declarations":[{"type":"VariableDeclarator","start":3998,"end":4024,"id":{"type":"Identifier","start":3998,"end":4001,"name":"xhr"},"init":{"type":"NewExpression","start":4004,"end":4024,"callee":{"type":"Identifier","start":4008,"end":4022,"name":"XMLHttpRequest"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":4031,"end":4089,"expression":{"type":"AssignmentExpression","start":4031,"end":4089,"operator":"=","left":{"type":"MemberExpression","start":4031,"end":4059,"object":{"type":"MemberExpression","start":4031,"end":4050,"object":{"type":"ThisExpression","start":4031,"end":4035},"property":{"type":"Identifier","start":4036,"end":4050,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":4051,"end":4058,"object":{"type":"Identifier","start":4051,"end":4055,"name":"file"},"property":{"type":"Identifier","start":4056,"end":4058,"name":"id"},"computed":false},"computed":true},"right":{"type":"NewExpression","start":4062,"end":4089,"callee":{"type":"Identifier","start":4066,"end":4078,"name":"EventTracker"},"arguments":[{"type":"MemberExpression","start":4079,"end":4088,"object":{"type":"ThisExpression","start":4079,"end":4083},"property":{"type":"Identifier","start":4084,"end":4088,"name":"uppy"},"computed":false}]}}},{"type":"VariableDeclaration","start":4097,"end":4384,"declarations":[{"type":"VariableDeclarator","start":4103,"end":4384,"id":{"type":"Identifier","start":4103,"end":4108,"name":"timer"},"init":{"type":"NewExpression","start":4111,"end":4384,"callee":{"type":"Identifier","start":4115,"end":4130,"name":"ProgressTimeout"},"arguments":[{"type":"MemberExpression","start":4131,"end":4143,"object":{"type":"Identifier","start":4131,"end":4135,"name":"opts"},"property":{"type":"Identifier","start":4136,"end":4143,"name":"timeout"},"computed":false},{"type":"ArrowFunctionExpression","start":4145,"end":4383,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4151,"end":4383,"body":[{"type":"ExpressionStatement","start":4161,"end":4172,"expression":{"type":"CallExpression","start":4161,"end":4172,"callee":{"type":"MemberExpression","start":4161,"end":4170,"object":{"type":"Identifier","start":4161,"end":4164,"name":"xhr"},"property":{"type":"Identifier","start":4165,"end":4170,"name":"abort"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":4181,"end":4201,"expression":{"type":"CallExpression","start":4181,"end":4201,"callee":{"type":"MemberExpression","start":4181,"end":4199,"object":{"type":"Identifier","start":4181,"end":4194,"name":"queuedRequest"},"property":{"type":"Identifier","start":4195,"end":4199,"name":"done"},"computed":false},"arguments":[]}},{"type":"VariableDeclaration","start":4210,"end":4301,"declarations":[{"type":"VariableDeclarator","start":4216,"end":4301,"id":{"type":"Identifier","start":4216,"end":4221,"name":"error"},"init":{"type":"NewExpression","start":4224,"end":4301,"callee":{"type":"Identifier","start":4228,"end":4233,"name":"Error"},"arguments":[{"type":"CallExpression","start":4234,"end":4300,"callee":{"type":"MemberExpression","start":4234,"end":4243,"object":{"type":"ThisExpression","start":4234,"end":4238},"property":{"type":"Identifier","start":4239,"end":4243,"name":"i18n"},"computed":false},"arguments":[{"type":"Literal","start":4244,"end":4254,"value":"timedOut","raw":"'timedOut'"},{"type":"ObjectExpression","start":4256,"end":4299,"properties":[{"type":"Property","start":4258,"end":4297,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4258,"end":4265,"name":"seconds"},"value":{"type":"CallExpression","start":4267,"end":4297,"callee":{"type":"MemberExpression","start":4267,"end":4276,"object":{"type":"Identifier","start":4267,"end":4271,"name":"Math"},"property":{"type":"Identifier","start":4272,"end":4276,"name":"ceil"},"computed":false},"arguments":[{"type":"BinaryExpression","start":4277,"end":4296,"left":{"type":"MemberExpression","start":4277,"end":4289,"object":{"type":"Identifier","start":4277,"end":4281,"name":"opts"},"property":{"type":"Identifier","start":4282,"end":4289,"name":"timeout"},"computed":false},"operator":"/","right":{"type":"Literal","start":4292,"end":4296,"value":1000,"raw":"1000"}}]},"kind":"init"}]}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":4310,"end":4353,"expression":{"type":"CallExpression","start":4310,"end":4353,"callee":{"type":"MemberExpression","start":4310,"end":4324,"object":{"type":"MemberExpression","start":4310,"end":4319,"object":{"type":"ThisExpression","start":4310,"end":4314},"property":{"type":"Identifier","start":4315,"end":4319,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":4320,"end":4324,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":4325,"end":4339,"value":"upload-error","raw":"'upload-error'"},{"type":"Identifier","start":4341,"end":4345,"name":"file"},{"type":"Identifier","start":4347,"end":4352,"name":"error"}]}},{"type":"ExpressionStatement","start":4362,"end":4375,"expression":{"type":"CallExpression","start":4362,"end":4375,"callee":{"type":"Identifier","start":4362,"end":4368,"name":"reject"},"arguments":[{"type":"Identifier","start":4369,"end":4374,"name":"error"}]}}]}}]}}],"kind":"const"},{"type":"VariableDeclaration","start":4392,"end":4409,"declarations":[{"type":"VariableDeclarator","start":4398,"end":4409,"id":{"type":"Identifier","start":4398,"end":4400,"name":"id"},"init":{"type":"CallExpression","start":4403,"end":4409,"callee":{"type":"Identifier","start":4403,"end":4407,"name":"cuid"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":4417,"end":4533,"expression":{"type":"CallExpression","start":4417,"end":4533,"callee":{"type":"MemberExpression","start":4417,"end":4444,"object":{"type":"MemberExpression","start":4417,"end":4427,"object":{"type":"Identifier","start":4417,"end":4420,"name":"xhr"},"property":{"type":"Identifier","start":4421,"end":4427,"name":"upload"},"computed":false},"property":{"type":"Identifier","start":4428,"end":4444,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":4445,"end":4456,"value":"loadstart","raw":"'loadstart'"},{"type":"ArrowFunctionExpression","start":4458,"end":4532,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4459,"end":4461,"name":"ev"}],"body":{"type":"BlockStatement","start":4466,"end":4532,"body":[{"type":"ExpressionStatement","start":4476,"end":4524,"expression":{"type":"CallExpression","start":4476,"end":4524,"callee":{"type":"MemberExpression","start":4476,"end":4489,"object":{"type":"MemberExpression","start":4476,"end":4485,"object":{"type":"ThisExpression","start":4476,"end":4480},"property":{"type":"Identifier","start":4481,"end":4485,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":4486,"end":4489,"name":"log"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":4490,"end":4523,"expressions":[{"type":"Identifier","start":4511,"end":4513,"name":"id"}],"quasis":[{"type":"TemplateElement","start":4491,"end":4509,"value":{"raw":"[AwsS3/XHRUpload] ","cooked":"[AwsS3/XHRUpload] "},"tail":false},{"type":"TemplateElement","start":4514,"end":4522,"value":{"raw":" started","cooked":" started"},"tail":true}]}]}}]}}]}},{"type":"ExpressionStatement","start":4541,"end":5070,"expression":{"type":"CallExpression","start":4541,"end":5070,"callee":{"type":"MemberExpression","start":4541,"end":4568,"object":{"type":"MemberExpression","start":4541,"end":4551,"object":{"type":"Identifier","start":4541,"end":4544,"name":"xhr"},"property":{"type":"Identifier","start":4545,"end":4551,"name":"upload"},"computed":false},"property":{"type":"Identifier","start":4552,"end":4568,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":4569,"end":4579,"value":"progress","raw":"'progress'"},{"type":"ArrowFunctionExpression","start":4581,"end":5069,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4582,"end":4584,"name":"ev"}],"body":{"type":"BlockStatement","start":4589,"end":5069,"body":[{"type":"ExpressionStatement","start":4599,"end":4676,"expression":{"type":"CallExpression","start":4599,"end":4676,"callee":{"type":"MemberExpression","start":4599,"end":4612,"object":{"type":"MemberExpression","start":4599,"end":4608,"object":{"type":"ThisExpression","start":4599,"end":4603},"property":{"type":"Identifier","start":4604,"end":4608,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":4609,"end":4612,"name":"log"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":4613,"end":4675,"expressions":[{"type":"Identifier","start":4634,"end":4636,"name":"id"},{"type":"MemberExpression","start":4650,"end":4659,"object":{"type":"Identifier","start":4650,"end":4652,"name":"ev"},"property":{"type":"Identifier","start":4653,"end":4659,"name":"loaded"},"computed":false},{"type":"MemberExpression","start":4665,"end":4673,"object":{"type":"Identifier","start":4665,"end":4667,"name":"ev"},"property":{"type":"Identifier","start":4668,"end":4673,"name":"total"},"computed":false}],"quasis":[{"type":"TemplateElement","start":4614,"end":4632,"value":{"raw":"[AwsS3/XHRUpload] ","cooked":"[AwsS3/XHRUpload] "},"tail":false},{"type":"TemplateElement","start":4637,"end":4648,"value":{"raw":" progress: ","cooked":" progress: "},"tail":false},{"type":"TemplateElement","start":4660,"end":4663,"value":{"raw":" / ","cooked":" / "},"tail":false},{"type":"TemplateElement","start":4674,"end":4674,"value":{"raw":"","cooked":""},"tail":true}]}]}},{"type":"ExpressionStatement","start":4835,"end":4851,"expression":{"type":"CallExpression","start":4835,"end":4851,"callee":{"type":"MemberExpression","start":4835,"end":4849,"object":{"type":"Identifier","start":4835,"end":4840,"name":"timer"},"property":{"type":"Identifier","start":4841,"end":4849,"name":"progress"},"computed":false},"arguments":[]}},{"type":"IfStatement","start":4861,"end":5061,"test":{"type":"MemberExpression","start":4865,"end":4884,"object":{"type":"Identifier","start":4865,"end":4867,"name":"ev"},"property":{"type":"Identifier","start":4868,"end":4884,"name":"lengthComputable"},"computed":false},"consequent":{"type":"BlockStatement","start":4886,"end":5061,"body":[{"type":"ExpressionStatement","start":4898,"end":5051,"expression":{"type":"CallExpression","start":4898,"end":5051,"callee":{"type":"MemberExpression","start":4898,"end":4912,"object":{"type":"MemberExpression","start":4898,"end":4907,"object":{"type":"ThisExpression","start":4898,"end":4902},"property":{"type":"Identifier","start":4903,"end":4907,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":4908,"end":4912,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":4913,"end":4930,"value":"upload-progress","raw":"'upload-progress'"},{"type":"Identifier","start":4932,"end":4936,"name":"file"},{"type":"ObjectExpression","start":4938,"end":5050,"properties":[{"type":"Property","start":4952,"end":4966,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4952,"end":4960,"name":"uploader"},"value":{"type":"ThisExpression","start":4962,"end":4966},"kind":"init"},{"type":"Property","start":4980,"end":5004,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4980,"end":4993,"name":"bytesUploaded"},"value":{"type":"MemberExpression","start":4995,"end":5004,"object":{"type":"Identifier","start":4995,"end":4997,"name":"ev"},"property":{"type":"Identifier","start":4998,"end":5004,"name":"loaded"},"computed":false},"kind":"init"},{"type":"Property","start":5018,"end":5038,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5018,"end":5028,"name":"bytesTotal"},"value":{"type":"MemberExpression","start":5030,"end":5038,"object":{"type":"Identifier","start":5030,"end":5032,"name":"ev"},"property":{"type":"Identifier","start":5033,"end":5038,"name":"total"},"computed":false},"kind":"init"}]}]}}]},"alternate":null}]}}]}},{"type":"ExpressionStatement","start":5078,"end":6291,"expression":{"type":"CallExpression","start":5078,"end":6291,"callee":{"type":"MemberExpression","start":5078,"end":5098,"object":{"type":"Identifier","start":5078,"end":5081,"name":"xhr"},"property":{"type":"Identifier","start":5082,"end":5098,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":5099,"end":5105,"value":"load","raw":"'load'"},{"type":"ArrowFunctionExpression","start":5107,"end":6290,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5108,"end":5110,"name":"ev"}],"body":{"type":"BlockStatement","start":5115,"end":6290,"body":[{"type":"ExpressionStatement","start":5125,"end":5174,"expression":{"type":"CallExpression","start":5125,"end":5174,"callee":{"type":"MemberExpression","start":5125,"end":5138,"object":{"type":"MemberExpression","start":5125,"end":5134,"object":{"type":"ThisExpression","start":5125,"end":5129},"property":{"type":"Identifier","start":5130,"end":5134,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":5135,"end":5138,"name":"log"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":5139,"end":5173,"expressions":[{"type":"Identifier","start":5160,"end":5162,"name":"id"}],"quasis":[{"type":"TemplateElement","start":5140,"end":5158,"value":{"raw":"[AwsS3/XHRUpload] ","cooked":"[AwsS3/XHRUpload] "},"tail":false},{"type":"TemplateElement","start":5163,"end":5172,"value":{"raw":" finished","cooked":" finished"},"tail":true}]}]}},{"type":"ExpressionStatement","start":5183,"end":5195,"expression":{"type":"CallExpression","start":5183,"end":5195,"callee":{"type":"MemberExpression","start":5183,"end":5193,"object":{"type":"Identifier","start":5183,"end":5188,"name":"timer"},"property":{"type":"Identifier","start":5189,"end":5193,"name":"done"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":5204,"end":5224,"expression":{"type":"CallExpression","start":5204,"end":5224,"callee":{"type":"MemberExpression","start":5204,"end":5222,"object":{"type":"Identifier","start":5204,"end":5217,"name":"queuedRequest"},"property":{"type":"Identifier","start":5218,"end":5222,"name":"done"},"computed":false},"arguments":[]}},{"type":"IfStatement","start":5233,"end":5372,"test":{"type":"MemberExpression","start":5237,"end":5265,"object":{"type":"MemberExpression","start":5237,"end":5256,"object":{"type":"ThisExpression","start":5237,"end":5241},"property":{"type":"Identifier","start":5242,"end":5256,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":5257,"end":5264,"object":{"type":"Identifier","start":5257,"end":5261,"name":"file"},"property":{"type":"Identifier","start":5262,"end":5264,"name":"id"},"computed":false},"computed":true},"consequent":{"type":"BlockStatement","start":5267,"end":5372,"body":[{"type":"ExpressionStatement","start":5279,"end":5316,"expression":{"type":"CallExpression","start":5279,"end":5316,"callee":{"type":"MemberExpression","start":5279,"end":5314,"object":{"type":"MemberExpression","start":5279,"end":5307,"object":{"type":"MemberExpression","start":5279,"end":5298,"object":{"type":"ThisExpression","start":5279,"end":5283},"property":{"type":"Identifier","start":5284,"end":5298,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":5299,"end":5306,"object":{"type":"Identifier","start":5299,"end":5303,"name":"file"},"property":{"type":"Identifier","start":5304,"end":5306,"name":"id"},"computed":false},"computed":true},"property":{"type":"Identifier","start":5308,"end":5314,"name":"remove"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":5327,"end":5362,"expression":{"type":"AssignmentExpression","start":5327,"end":5362,"operator":"=","left":{"type":"MemberExpression","start":5327,"end":5355,"object":{"type":"MemberExpression","start":5327,"end":5346,"object":{"type":"ThisExpression","start":5327,"end":5331},"property":{"type":"Identifier","start":5332,"end":5346,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":5347,"end":5354,"object":{"type":"Identifier","start":5347,"end":5351,"name":"file"},"property":{"type":"Identifier","start":5352,"end":5354,"name":"id"},"computed":false},"computed":true},"right":{"type":"Literal","start":5358,"end":5362,"value":null,"raw":"null"}}}]},"alternate":null},{"type":"IfStatement","start":5382,"end":6282,"test":{"type":"CallExpression","start":5386,"end":5446,"callee":{"type":"MemberExpression","start":5386,"end":5405,"object":{"type":"Identifier","start":5386,"end":5390,"name":"opts"},"property":{"type":"Identifier","start":5391,"end":5405,"name":"validateStatus"},"computed":false},"arguments":[{"type":"MemberExpression","start":5406,"end":5422,"object":{"type":"MemberExpression","start":5406,"end":5415,"object":{"type":"Identifier","start":5406,"end":5408,"name":"ev"},"property":{"type":"Identifier","start":5409,"end":5415,"name":"target"},"computed":false},"property":{"type":"Identifier","start":5416,"end":5422,"name":"status"},"computed":false},{"type":"MemberExpression","start":5424,"end":5440,"object":{"type":"Identifier","start":5424,"end":5427,"name":"xhr"},"property":{"type":"Identifier","start":5428,"end":5440,"name":"responseText"},"computed":false},{"type":"Identifier","start":5442,"end":5445,"name":"xhr"}]},"consequent":{"type":"BlockStatement","start":5448,"end":5911,"body":[{"type":"VariableDeclaration","start":5460,"end":5516,"declarations":[{"type":"VariableDeclarator","start":5466,"end":5516,"id":{"type":"Identifier","start":5466,"end":5470,"name":"body"},"init":{"type":"CallExpression","start":5473,"end":5516,"callee":{"type":"MemberExpression","start":5473,"end":5493,"object":{"type":"Identifier","start":5473,"end":5477,"name":"opts"},"property":{"type":"Identifier","start":5478,"end":5493,"name":"getResponseData"},"computed":false},"arguments":[{"type":"MemberExpression","start":5494,"end":5510,"object":{"type":"Identifier","start":5494,"end":5497,"name":"xhr"},"property":{"type":"Identifier","start":5498,"end":5510,"name":"responseText"},"computed":false},{"type":"Identifier","start":5512,"end":5515,"name":"xhr"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5527,"end":5576,"declarations":[{"type":"VariableDeclarator","start":5533,"end":5576,"id":{"type":"Identifier","start":5533,"end":5542,"name":"uploadURL"},"init":{"type":"MemberExpression","start":5545,"end":5576,"object":{"type":"Identifier","start":5545,"end":5549,"name":"body"},"property":{"type":"MemberExpression","start":5550,"end":5575,"object":{"type":"Identifier","start":5550,"end":5554,"name":"opts"},"property":{"type":"Identifier","start":5555,"end":5575,"name":"responseUrlFieldName"},"computed":false},"computed":true}}],"kind":"const"},{"type":"VariableDeclaration","start":5588,"end":5698,"declarations":[{"type":"VariableDeclarator","start":5594,"end":5698,"id":{"type":"Identifier","start":5594,"end":5604,"name":"uploadResp"},"init":{"type":"ObjectExpression","start":5607,"end":5698,"properties":[{"type":"Property","start":5621,"end":5645,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5621,"end":5627,"name":"status"},"value":{"type":"MemberExpression","start":5629,"end":5645,"object":{"type":"MemberExpression","start":5629,"end":5638,"object":{"type":"Identifier","start":5629,"end":5631,"name":"ev"},"property":{"type":"Identifier","start":5632,"end":5638,"name":"target"},"computed":false},"property":{"type":"Identifier","start":5639,"end":5645,"name":"status"},"computed":false},"kind":"init"},{"type":"Property","start":5659,"end":5663,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5659,"end":5663,"name":"body"},"kind":"init","value":{"type":"Identifier","start":5659,"end":5663,"name":"body"}},{"type":"Property","start":5677,"end":5686,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":5677,"end":5686,"name":"uploadURL"},"kind":"init","value":{"type":"Identifier","start":5677,"end":5686,"name":"uploadURL"}}]}}],"kind":"const"},{"type":"ExpressionStatement","start":5710,"end":5760,"expression":{"type":"CallExpression","start":5710,"end":5760,"callee":{"type":"MemberExpression","start":5710,"end":5724,"object":{"type":"MemberExpression","start":5710,"end":5719,"object":{"type":"ThisExpression","start":5710,"end":5714},"property":{"type":"Identifier","start":5715,"end":5719,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":5720,"end":5724,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":5725,"end":5741,"value":"upload-success","raw":"'upload-success'"},{"type":"Identifier","start":5743,"end":5747,"name":"file"},{"type":"Identifier","start":5749,"end":5759,"name":"uploadResp"}]}},{"type":"IfStatement","start":5772,"end":5869,"test":{"type":"Identifier","start":5776,"end":5785,"name":"uploadURL"},"consequent":{"type":"BlockStatement","start":5787,"end":5869,"body":[{"type":"ExpressionStatement","start":5801,"end":5857,"expression":{"type":"CallExpression","start":5801,"end":5857,"callee":{"type":"MemberExpression","start":5801,"end":5814,"object":{"type":"MemberExpression","start":5801,"end":5810,"object":{"type":"ThisExpression","start":5801,"end":5805},"property":{"type":"Identifier","start":5806,"end":5810,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":5811,"end":5814,"name":"log"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":5815,"end":5856,"expressions":[{"type":"MemberExpression","start":5827,"end":5836,"object":{"type":"Identifier","start":5827,"end":5831,"name":"file"},"property":{"type":"Identifier","start":5832,"end":5836,"name":"name"},"computed":false},{"type":"Identifier","start":5845,"end":5854,"name":"uploadURL"}],"quasis":[{"type":"TemplateElement","start":5816,"end":5825,"value":{"raw":"Download ","cooked":"Download "},"tail":false},{"type":"TemplateElement","start":5837,"end":5843,"value":{"raw":" from ","cooked":" from "},"tail":false},{"type":"TemplateElement","start":5855,"end":5855,"value":{"raw":"","cooked":""},"tail":true}]}]}}]},"alternate":null},{"type":"ReturnStatement","start":5881,"end":5901,"argument":{"type":"CallExpression","start":5888,"end":5901,"callee":{"type":"Identifier","start":5888,"end":5895,"name":"resolve"},"arguments":[{"type":"Identifier","start":5896,"end":5900,"name":"file"}]}}]},"alternate":{"type":"BlockStatement","start":5917,"end":6282,"body":[{"type":"VariableDeclaration","start":5929,"end":5985,"declarations":[{"type":"VariableDeclarator","start":5935,"end":5985,"id":{"type":"Identifier","start":5935,"end":5939,"name":"body"},"init":{"type":"CallExpression","start":5942,"end":5985,"callee":{"type":"MemberExpression","start":5942,"end":5962,"object":{"type":"Identifier","start":5942,"end":5946,"name":"opts"},"property":{"type":"Identifier","start":5947,"end":5962,"name":"getResponseData"},"computed":false},"arguments":[{"type":"MemberExpression","start":5963,"end":5979,"object":{"type":"Identifier","start":5963,"end":5966,"name":"xhr"},"property":{"type":"Identifier","start":5967,"end":5979,"name":"responseText"},"computed":false},{"type":"Identifier","start":5981,"end":5984,"name":"xhr"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5996,"end":6079,"declarations":[{"type":"VariableDeclarator","start":6002,"end":6079,"id":{"type":"Identifier","start":6002,"end":6007,"name":"error"},"init":{"type":"CallExpression","start":6010,"end":6079,"callee":{"type":"Identifier","start":6010,"end":6028,"name":"buildResponseError"},"arguments":[{"type":"Identifier","start":6029,"end":6032,"name":"xhr"},{"type":"CallExpression","start":6034,"end":6078,"callee":{"type":"MemberExpression","start":6034,"end":6055,"object":{"type":"Identifier","start":6034,"end":6038,"name":"opts"},"property":{"type":"Identifier","start":6039,"end":6055,"name":"getResponseError"},"computed":false},"arguments":[{"type":"MemberExpression","start":6056,"end":6072,"object":{"type":"Identifier","start":6056,"end":6059,"name":"xhr"},"property":{"type":"Identifier","start":6060,"end":6072,"name":"responseText"},"computed":false},{"type":"Identifier","start":6074,"end":6077,"name":"xhr"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":6091,"end":6176,"declarations":[{"type":"VariableDeclarator","start":6097,"end":6176,"id":{"type":"Identifier","start":6097,"end":6105,"name":"response"},"init":{"type":"ObjectExpression","start":6108,"end":6176,"properties":[{"type":"Property","start":6122,"end":6146,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6122,"end":6128,"name":"status"},"value":{"type":"MemberExpression","start":6130,"end":6146,"object":{"type":"MemberExpression","start":6130,"end":6139,"object":{"type":"Identifier","start":6130,"end":6132,"name":"ev"},"property":{"type":"Identifier","start":6133,"end":6139,"name":"target"},"computed":false},"property":{"type":"Identifier","start":6140,"end":6146,"name":"status"},"computed":false},"kind":"init"},{"type":"Property","start":6160,"end":6164,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6160,"end":6164,"name":"body"},"kind":"init","value":{"type":"Identifier","start":6160,"end":6164,"name":"body"}}]}}],"kind":"const"},{"type":"ExpressionStatement","start":6188,"end":6241,"expression":{"type":"CallExpression","start":6188,"end":6241,"callee":{"type":"MemberExpression","start":6188,"end":6202,"object":{"type":"MemberExpression","start":6188,"end":6197,"object":{"type":"ThisExpression","start":6188,"end":6192},"property":{"type":"Identifier","start":6193,"end":6197,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":6198,"end":6202,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":6203,"end":6217,"value":"upload-error","raw":"'upload-error'"},{"type":"Identifier","start":6219,"end":6223,"name":"file"},{"type":"Identifier","start":6225,"end":6230,"name":"error"},{"type":"Identifier","start":6232,"end":6240,"name":"response"}]}},{"type":"ReturnStatement","start":6252,"end":6272,"argument":{"type":"CallExpression","start":6259,"end":6272,"callee":{"type":"Identifier","start":6259,"end":6265,"name":"reject"},"arguments":[{"type":"Identifier","start":6266,"end":6271,"name":"error"}]}}]}}]}}]}},{"type":"ExpressionStatement","start":6299,"end":6776,"expression":{"type":"CallExpression","start":6299,"end":6776,"callee":{"type":"MemberExpression","start":6299,"end":6319,"object":{"type":"Identifier","start":6299,"end":6302,"name":"xhr"},"property":{"type":"Identifier","start":6303,"end":6319,"name":"addEventListener"},"computed":false},"arguments":[{"type":"Literal","start":6320,"end":6327,"value":"error","raw":"'error'"},{"type":"ArrowFunctionExpression","start":6329,"end":6775,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6330,"end":6332,"name":"ev"}],"body":{"type":"BlockStatement","start":6337,"end":6775,"body":[{"type":"ExpressionStatement","start":6347,"end":6395,"expression":{"type":"CallExpression","start":6347,"end":6395,"callee":{"type":"MemberExpression","start":6347,"end":6360,"object":{"type":"MemberExpression","start":6347,"end":6356,"object":{"type":"ThisExpression","start":6347,"end":6351},"property":{"type":"Identifier","start":6352,"end":6356,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":6357,"end":6360,"name":"log"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":6361,"end":6394,"expressions":[{"type":"Identifier","start":6382,"end":6384,"name":"id"}],"quasis":[{"type":"TemplateElement","start":6362,"end":6380,"value":{"raw":"[AwsS3/XHRUpload] ","cooked":"[AwsS3/XHRUpload] "},"tail":false},{"type":"TemplateElement","start":6385,"end":6393,"value":{"raw":" errored","cooked":" errored"},"tail":true}]}]}},{"type":"ExpressionStatement","start":6404,"end":6416,"expression":{"type":"CallExpression","start":6404,"end":6416,"callee":{"type":"MemberExpression","start":6404,"end":6414,"object":{"type":"Identifier","start":6404,"end":6409,"name":"timer"},"property":{"type":"Identifier","start":6410,"end":6414,"name":"done"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":6425,"end":6445,"expression":{"type":"CallExpression","start":6425,"end":6445,"callee":{"type":"MemberExpression","start":6425,"end":6443,"object":{"type":"Identifier","start":6425,"end":6438,"name":"queuedRequest"},"property":{"type":"Identifier","start":6439,"end":6443,"name":"done"},"computed":false},"arguments":[]}},{"type":"IfStatement","start":6454,"end":6593,"test":{"type":"MemberExpression","start":6458,"end":6486,"object":{"type":"MemberExpression","start":6458,"end":6477,"object":{"type":"ThisExpression","start":6458,"end":6462},"property":{"type":"Identifier","start":6463,"end":6477,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":6478,"end":6485,"object":{"type":"Identifier","start":6478,"end":6482,"name":"file"},"property":{"type":"Identifier","start":6483,"end":6485,"name":"id"},"computed":false},"computed":true},"consequent":{"type":"BlockStatement","start":6488,"end":6593,"body":[{"type":"ExpressionStatement","start":6500,"end":6537,"expression":{"type":"CallExpression","start":6500,"end":6537,"callee":{"type":"MemberExpression","start":6500,"end":6535,"object":{"type":"MemberExpression","start":6500,"end":6528,"object":{"type":"MemberExpression","start":6500,"end":6519,"object":{"type":"ThisExpression","start":6500,"end":6504},"property":{"type":"Identifier","start":6505,"end":6519,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":6520,"end":6527,"object":{"type":"Identifier","start":6520,"end":6524,"name":"file"},"property":{"type":"Identifier","start":6525,"end":6527,"name":"id"},"computed":false},"computed":true},"property":{"type":"Identifier","start":6529,"end":6535,"name":"remove"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":6548,"end":6583,"expression":{"type":"AssignmentExpression","start":6548,"end":6583,"operator":"=","left":{"type":"MemberExpression","start":6548,"end":6576,"object":{"type":"MemberExpression","start":6548,"end":6567,"object":{"type":"ThisExpression","start":6548,"end":6552},"property":{"type":"Identifier","start":6553,"end":6567,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":6568,"end":6575,"object":{"type":"Identifier","start":6568,"end":6572,"name":"file"},"property":{"type":"Identifier","start":6573,"end":6575,"name":"id"},"computed":false},"computed":true},"right":{"type":"Literal","start":6579,"end":6583,"value":null,"raw":"null"}}}]},"alternate":null},{"type":"VariableDeclaration","start":6603,"end":6686,"declarations":[{"type":"VariableDeclarator","start":6609,"end":6686,"id":{"type":"Identifier","start":6609,"end":6614,"name":"error"},"init":{"type":"CallExpression","start":6617,"end":6686,"callee":{"type":"Identifier","start":6617,"end":6635,"name":"buildResponseError"},"arguments":[{"type":"Identifier","start":6636,"end":6639,"name":"xhr"},{"type":"CallExpression","start":6641,"end":6685,"callee":{"type":"MemberExpression","start":6641,"end":6662,"object":{"type":"Identifier","start":6641,"end":6645,"name":"opts"},"property":{"type":"Identifier","start":6646,"end":6662,"name":"getResponseError"},"computed":false},"arguments":[{"type":"MemberExpression","start":6663,"end":6679,"object":{"type":"Identifier","start":6663,"end":6666,"name":"xhr"},"property":{"type":"Identifier","start":6667,"end":6679,"name":"responseText"},"computed":false},{"type":"Identifier","start":6681,"end":6684,"name":"xhr"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":6695,"end":6738,"expression":{"type":"CallExpression","start":6695,"end":6738,"callee":{"type":"MemberExpression","start":6695,"end":6709,"object":{"type":"MemberExpression","start":6695,"end":6704,"object":{"type":"ThisExpression","start":6695,"end":6699},"property":{"type":"Identifier","start":6700,"end":6704,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":6705,"end":6709,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":6710,"end":6724,"value":"upload-error","raw":"'upload-error'"},{"type":"Identifier","start":6726,"end":6730,"name":"file"},{"type":"Identifier","start":6732,"end":6737,"name":"error"}]}},{"type":"ReturnStatement","start":6747,"end":6767,"argument":{"type":"CallExpression","start":6754,"end":6767,"callee":{"type":"Identifier","start":6754,"end":6760,"name":"reject"},"arguments":[{"type":"Identifier","start":6761,"end":6766,"name":"error"}]}}]}}]}},{"type":"ExpressionStatement","start":6784,"end":6840,"expression":{"type":"CallExpression","start":6784,"end":6840,"callee":{"type":"MemberExpression","start":6784,"end":6792,"object":{"type":"Identifier","start":6784,"end":6787,"name":"xhr"},"property":{"type":"Identifier","start":6788,"end":6792,"name":"open"},"computed":false},"arguments":[{"type":"CallExpression","start":6793,"end":6818,"callee":{"type":"MemberExpression","start":6793,"end":6816,"object":{"type":"MemberExpression","start":6793,"end":6804,"object":{"type":"Identifier","start":6793,"end":6797,"name":"opts"},"property":{"type":"Identifier","start":6798,"end":6804,"name":"method"},"computed":false},"property":{"type":"Identifier","start":6805,"end":6816,"name":"toUpperCase"},"computed":false},"arguments":[]},{"type":"MemberExpression","start":6820,"end":6833,"object":{"type":"Identifier","start":6820,"end":6824,"name":"opts"},"property":{"type":"Identifier","start":6825,"end":6833,"name":"endpoint"},"computed":false},{"type":"Literal","start":6835,"end":6839,"value":true,"raw":"true"}]}},{"type":"ExpressionStatement","start":6957,"end":6999,"expression":{"type":"AssignmentExpression","start":6957,"end":6999,"operator":"=","left":{"type":"MemberExpression","start":6957,"end":6976,"object":{"type":"Identifier","start":6957,"end":6960,"name":"xhr"},"property":{"type":"Identifier","start":6961,"end":6976,"name":"withCredentials"},"computed":false},"right":{"type":"MemberExpression","start":6979,"end":6999,"object":{"type":"Identifier","start":6979,"end":6983,"name":"opts"},"property":{"type":"Identifier","start":6984,"end":6999,"name":"withCredentials"},"computed":false}}},{"type":"IfStatement","start":7006,"end":7090,"test":{"type":"BinaryExpression","start":7010,"end":7034,"left":{"type":"MemberExpression","start":7010,"end":7027,"object":{"type":"Identifier","start":7010,"end":7014,"name":"opts"},"property":{"type":"Identifier","start":7015,"end":7027,"name":"responseType"},"computed":false},"operator":"!==","right":{"type":"Literal","start":7032,"end":7034,"value":"","raw":"''"}},"consequent":{"type":"BlockStatement","start":7036,"end":7090,"body":[{"type":"ExpressionStatement","start":7046,"end":7082,"expression":{"type":"AssignmentExpression","start":7046,"end":7082,"operator":"=","left":{"type":"MemberExpression","start":7046,"end":7062,"object":{"type":"Identifier","start":7046,"end":7049,"name":"xhr"},"property":{"type":"Identifier","start":7050,"end":7062,"name":"responseType"},"computed":false},"right":{"type":"MemberExpression","start":7065,"end":7082,"object":{"type":"Identifier","start":7065,"end":7069,"name":"opts"},"property":{"type":"Identifier","start":7070,"end":7082,"name":"responseType"},"computed":false}}}]},"alternate":null},{"type":"ExpressionStatement","start":7098,"end":7213,"expression":{"type":"CallExpression","start":7098,"end":7213,"callee":{"type":"MemberExpression","start":7098,"end":7131,"object":{"type":"CallExpression","start":7098,"end":7123,"callee":{"type":"MemberExpression","start":7098,"end":7109,"object":{"type":"Identifier","start":7098,"end":7104,"name":"Object"},"property":{"type":"Identifier","start":7105,"end":7109,"name":"keys"},"computed":false},"arguments":[{"type":"MemberExpression","start":7110,"end":7122,"object":{"type":"Identifier","start":7110,"end":7114,"name":"opts"},"property":{"type":"Identifier","start":7115,"end":7122,"name":"headers"},"computed":false}]},"property":{"type":"Identifier","start":7124,"end":7131,"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":7132,"end":7212,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7133,"end":7139,"name":"header"}],"body":{"type":"BlockStatement","start":7144,"end":7212,"body":[{"type":"ExpressionStatement","start":7154,"end":7204,"expression":{"type":"CallExpression","start":7154,"end":7204,"callee":{"type":"MemberExpression","start":7154,"end":7174,"object":{"type":"Identifier","start":7154,"end":7157,"name":"xhr"},"property":{"type":"Identifier","start":7158,"end":7174,"name":"setRequestHeader"},"computed":false},"arguments":[{"type":"Identifier","start":7175,"end":7181,"name":"header"},{"type":"MemberExpression","start":7183,"end":7203,"object":{"type":"MemberExpression","start":7183,"end":7195,"object":{"type":"Identifier","start":7183,"end":7187,"name":"opts"},"property":{"type":"Identifier","start":7188,"end":7195,"name":"headers"},"computed":false},"property":{"type":"Identifier","start":7196,"end":7202,"name":"header"},"computed":true}]}}]}}]}},{"type":"VariableDeclaration","start":7221,"end":7395,"declarations":[{"type":"VariableDeclarator","start":7227,"end":7395,"id":{"type":"Identifier","start":7227,"end":7240,"name":"queuedRequest"},"init":{"type":"CallExpression","start":7243,"end":7395,"callee":{"type":"MemberExpression","start":7243,"end":7260,"object":{"type":"MemberExpression","start":7243,"end":7256,"object":{"type":"ThisExpression","start":7243,"end":7247},"property":{"type":"Identifier","start":7248,"end":7256,"name":"requests"},"computed":false},"property":{"type":"Identifier","start":7257,"end":7260,"name":"run"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":7261,"end":7377,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":7267,"end":7377,"body":[{"type":"ExpressionStatement","start":7277,"end":7291,"expression":{"type":"CallExpression","start":7277,"end":7291,"callee":{"type":"MemberExpression","start":7277,"end":7285,"object":{"type":"Identifier","start":7277,"end":7280,"name":"xhr"},"property":{"type":"Identifier","start":7281,"end":7285,"name":"send"},"computed":false},"arguments":[{"type":"Identifier","start":7286,"end":7290,"name":"data"}]}},{"type":"ReturnStatement","start":7300,"end":7369,"argument":{"type":"ArrowFunctionExpression","start":7307,"end":7369,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":7313,"end":7369,"body":[{"type":"ExpressionStatement","start":7325,"end":7337,"expression":{"type":"CallExpression","start":7325,"end":7337,"callee":{"type":"MemberExpression","start":7325,"end":7335,"object":{"type":"Identifier","start":7325,"end":7330,"name":"timer"},"property":{"type":"Identifier","start":7331,"end":7335,"name":"done"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":7348,"end":7359,"expression":{"type":"CallExpression","start":7348,"end":7359,"callee":{"type":"MemberExpression","start":7348,"end":7357,"object":{"type":"Identifier","start":7348,"end":7351,"name":"xhr"},"property":{"type":"Identifier","start":7352,"end":7357,"name":"abort"},"computed":false},"arguments":[]}}]}}}]}},{"type":"ObjectExpression","start":7379,"end":7394,"properties":[{"type":"Property","start":7381,"end":7392,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7381,"end":7389,"name":"priority"},"value":{"type":"Literal","start":7391,"end":7392,"value":1,"raw":"1"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":7403,"end":7520,"expression":{"type":"CallExpression","start":7403,"end":7520,"callee":{"type":"MemberExpression","start":7403,"end":7422,"object":{"type":"ThisExpression","start":7403,"end":7407},"property":{"type":"Identifier","start":7408,"end":7422,"name":"_onFileRemoved"},"computed":false},"arguments":[{"type":"MemberExpression","start":7423,"end":7430,"object":{"type":"Identifier","start":7423,"end":7427,"name":"file"},"property":{"type":"Identifier","start":7428,"end":7430,"name":"id"},"computed":false},{"type":"ArrowFunctionExpression","start":7432,"end":7519,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":7438,"end":7519,"body":[{"type":"ExpressionStatement","start":7448,"end":7469,"expression":{"type":"CallExpression","start":7448,"end":7469,"callee":{"type":"MemberExpression","start":7448,"end":7467,"object":{"type":"Identifier","start":7448,"end":7461,"name":"queuedRequest"},"property":{"type":"Identifier","start":7462,"end":7467,"name":"abort"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":7478,"end":7511,"expression":{"type":"CallExpression","start":7478,"end":7511,"callee":{"type":"Identifier","start":7478,"end":7484,"name":"reject"},"arguments":[{"type":"NewExpression","start":7485,"end":7510,"callee":{"type":"Identifier","start":7489,"end":7494,"name":"Error"},"arguments":[{"type":"Literal","start":7495,"end":7509,"value":"File removed","raw":"'File removed'"}]}]}}]}}]}},{"type":"ExpressionStatement","start":7528,"end":7647,"expression":{"type":"CallExpression","start":7528,"end":7647,"callee":{"type":"MemberExpression","start":7528,"end":7545,"object":{"type":"ThisExpression","start":7528,"end":7532},"property":{"type":"Identifier","start":7533,"end":7545,"name":"_onCancelAll"},"computed":false},"arguments":[{"type":"MemberExpression","start":7546,"end":7553,"object":{"type":"Identifier","start":7546,"end":7550,"name":"file"},"property":{"type":"Identifier","start":7551,"end":7553,"name":"id"},"computed":false},{"type":"ArrowFunctionExpression","start":7555,"end":7646,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":7561,"end":7646,"body":[{"type":"ExpressionStatement","start":7571,"end":7592,"expression":{"type":"CallExpression","start":7571,"end":7592,"callee":{"type":"MemberExpression","start":7571,"end":7590,"object":{"type":"Identifier","start":7571,"end":7584,"name":"queuedRequest"},"property":{"type":"Identifier","start":7585,"end":7590,"name":"abort"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":7601,"end":7638,"expression":{"type":"CallExpression","start":7601,"end":7638,"callee":{"type":"Identifier","start":7601,"end":7607,"name":"reject"},"arguments":[{"type":"NewExpression","start":7608,"end":7637,"callee":{"type":"Identifier","start":7612,"end":7617,"name":"Error"},"arguments":[{"type":"Literal","start":7618,"end":7636,"value":"Upload cancelled","raw":"'Upload cancelled'"}]}]}}]}}]}}]}}]}}]}}},{"type":"MethodDefinition","start":7662,"end":11037,"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":7662,"end":7679,"name":"_uploadRemoteFile"},"value":{"type":"FunctionExpression","start":7680,"end":11037,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7681,"end":7685,"name":"file"},{"type":"Identifier","start":7687,"end":7694,"name":"current"},{"type":"Identifier","start":7696,"end":7701,"name":"total"}],"body":{"type":"BlockStatement","start":7703,"end":11037,"body":[{"type":"VariableDeclaration","start":7709,"end":7744,"declarations":[{"type":"VariableDeclarator","start":7715,"end":7744,"id":{"type":"Identifier","start":7715,"end":7719,"name":"opts"},"init":{"type":"CallExpression","start":7722,"end":7744,"callee":{"type":"MemberExpression","start":7722,"end":7738,"object":{"type":"ThisExpression","start":7722,"end":7726},"property":{"type":"Identifier","start":7727,"end":7738,"name":"_getOptions"},"computed":false},"arguments":[{"type":"Identifier","start":7739,"end":7743,"name":"file"}]}}],"kind":"const"},{"type":"ReturnStatement","start":7749,"end":11033,"argument":{"type":"NewExpression","start":7756,"end":11033,"callee":{"type":"Identifier","start":7760,"end":7767,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":7768,"end":11032,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7769,"end":7776,"name":"resolve"},{"type":"Identifier","start":7778,"end":7784,"name":"reject"}],"body":{"type":"BlockStatement","start":7789,"end":11032,"body":[{"type":"VariableDeclaration","start":7898,"end":7915,"declarations":[{"type":"VariableDeclarator","start":7904,"end":7915,"id":{"type":"Identifier","start":7904,"end":7910,"name":"fields"},"init":{"type":"ObjectExpression","start":7913,"end":7915,"properties":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":7922,"end":8075,"declarations":[{"type":"VariableDeclarator","start":7928,"end":8075,"id":{"type":"Identifier","start":7928,"end":7938,"name":"metaFields"},"init":{"type":"ConditionalExpression","start":7941,"end":8075,"test":{"type":"CallExpression","start":7941,"end":7971,"callee":{"type":"MemberExpression","start":7941,"end":7954,"object":{"type":"Identifier","start":7941,"end":7946,"name":"Array"},"property":{"type":"Identifier","start":7947,"end":7954,"name":"isArray"},"computed":false},"arguments":[{"type":"MemberExpression","start":7955,"end":7970,"object":{"type":"Identifier","start":7955,"end":7959,"name":"opts"},"property":{"type":"Identifier","start":7960,"end":7970,"name":"metaFields"},"computed":false}]},"consequent":{"type":"MemberExpression","start":7982,"end":7997,"object":{"type":"Identifier","start":7982,"end":7986,"name":"opts"},"property":{"type":"Identifier","start":7987,"end":7997,"name":"metaFields"},"computed":false},"alternate":{"type":"CallExpression","start":8053,"end":8075,"callee":{"type":"MemberExpression","start":8053,"end":8064,"object":{"type":"Identifier","start":8053,"end":8059,"name":"Object"},"property":{"type":"Identifier","start":8060,"end":8064,"name":"keys"},"computed":false},"arguments":[{"type":"MemberExpression","start":8065,"end":8074,"object":{"type":"Identifier","start":8065,"end":8069,"name":"file"},"property":{"type":"Identifier","start":8070,"end":8074,"name":"meta"},"computed":false}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":8083,"end":8161,"expression":{"type":"CallExpression","start":8083,"end":8161,"callee":{"type":"MemberExpression","start":8083,"end":8101,"object":{"type":"Identifier","start":8083,"end":8093,"name":"metaFields"},"property":{"type":"Identifier","start":8094,"end":8101,"name":"forEach"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":8102,"end":8160,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8103,"end":8107,"name":"name"}],"body":{"type":"BlockStatement","start":8112,"end":8160,"body":[{"type":"ExpressionStatement","start":8122,"end":8152,"expression":{"type":"AssignmentExpression","start":8122,"end":8152,"operator":"=","left":{"type":"MemberExpression","start":8122,"end":8134,"object":{"type":"Identifier","start":8122,"end":8128,"name":"fields"},"property":{"type":"Identifier","start":8129,"end":8133,"name":"name"},"computed":true},"right":{"type":"MemberExpression","start":8137,"end":8152,"object":{"type":"MemberExpression","start":8137,"end":8146,"object":{"type":"Identifier","start":8137,"end":8141,"name":"file"},"property":{"type":"Identifier","start":8142,"end":8146,"name":"meta"},"computed":false},"property":{"type":"Identifier","start":8147,"end":8151,"name":"name"},"computed":true}}}]}}]}},{"type":"VariableDeclaration","start":8169,"end":8247,"declarations":[{"type":"VariableDeclarator","start":8175,"end":8247,"id":{"type":"Identifier","start":8175,"end":8181,"name":"Client"},"init":{"type":"ConditionalExpression","start":8184,"end":8247,"test":{"type":"MemberExpression","start":8184,"end":8220,"object":{"type":"MemberExpression","start":8184,"end":8211,"object":{"type":"MemberExpression","start":8184,"end":8195,"object":{"type":"Identifier","start":8184,"end":8188,"name":"file"},"property":{"type":"Identifier","start":8189,"end":8195,"name":"remote"},"computed":false},"property":{"type":"Identifier","start":8196,"end":8211,"name":"providerOptions"},"computed":false},"property":{"type":"Identifier","start":8212,"end":8220,"name":"provider"},"computed":false},"consequent":{"type":"Identifier","start":8223,"end":8231,"name":"Provider"},"alternate":{"type":"Identifier","start":8234,"end":8247,"name":"RequestClient"}}}],"kind":"const"},{"type":"VariableDeclaration","start":8254,"end":8319,"declarations":[{"type":"VariableDeclarator","start":8260,"end":8319,"id":{"type":"Identifier","start":8260,"end":8266,"name":"client"},"init":{"type":"NewExpression","start":8269,"end":8319,"callee":{"type":"Identifier","start":8273,"end":8279,"name":"Client"},"arguments":[{"type":"MemberExpression","start":8280,"end":8289,"object":{"type":"ThisExpression","start":8280,"end":8284},"property":{"type":"Identifier","start":8285,"end":8289,"name":"uppy"},"computed":false},{"type":"MemberExpression","start":8291,"end":8318,"object":{"type":"MemberExpression","start":8291,"end":8302,"object":{"type":"Identifier","start":8291,"end":8295,"name":"file"},"property":{"type":"Identifier","start":8296,"end":8302,"name":"remote"},"computed":false},"property":{"type":"Identifier","start":8303,"end":8318,"name":"providerOptions"},"computed":false}]}}],"kind":"const"},{"type":"ExpressionStatement","start":8326,"end":11026,"expression":{"type":"CallExpression","start":8326,"end":11026,"callee":{"type":"MemberExpression","start":8326,"end":10936,"object":{"type":"CallExpression","start":8326,"end":10930,"callee":{"type":"MemberExpression","start":8326,"end":8622,"object":{"type":"CallExpression","start":8326,"end":8617,"callee":{"type":"MemberExpression","start":8326,"end":8337,"object":{"type":"Identifier","start":8326,"end":8332,"name":"client"},"property":{"type":"Identifier","start":8333,"end":8337,"name":"post"},"computed":false},"arguments":[{"type":"MemberExpression","start":8338,"end":8353,"object":{"type":"MemberExpression","start":8338,"end":8349,"object":{"type":"Identifier","start":8338,"end":8342,"name":"file"},"property":{"type":"Identifier","start":8343,"end":8349,"name":"remote"},"computed":false},"property":{"type":"Identifier","start":8350,"end":8353,"name":"url"},"computed":false},{"type":"ObjectExpression","start":8355,"end":8616,"properties":[{"type":"SpreadElement","start":8365,"end":8384,"argument":{"type":"MemberExpression","start":8368,"end":8384,"object":{"type":"MemberExpression","start":8368,"end":8379,"object":{"type":"Identifier","start":8368,"end":8372,"name":"file"},"property":{"type":"Identifier","start":8373,"end":8379,"name":"remote"},"computed":false},"property":{"type":"Identifier","start":8380,"end":8384,"name":"body"},"computed":false}},{"type":"Property","start":8394,"end":8417,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8394,"end":8402,"name":"endpoint"},"value":{"type":"MemberExpression","start":8404,"end":8417,"object":{"type":"Identifier","start":8404,"end":8408,"name":"opts"},"property":{"type":"Identifier","start":8409,"end":8417,"name":"endpoint"},"computed":false},"kind":"init"},{"type":"Property","start":8427,"end":8447,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8427,"end":8431,"name":"size"},"value":{"type":"MemberExpression","start":8433,"end":8447,"object":{"type":"MemberExpression","start":8433,"end":8442,"object":{"type":"Identifier","start":8433,"end":8437,"name":"file"},"property":{"type":"Identifier","start":8438,"end":8442,"name":"data"},"computed":false},"property":{"type":"Identifier","start":8443,"end":8447,"name":"size"},"computed":false},"kind":"init"},{"type":"Property","start":8457,"end":8482,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8457,"end":8466,"name":"fieldname"},"value":{"type":"MemberExpression","start":8468,"end":8482,"object":{"type":"Identifier","start":8468,"end":8472,"name":"opts"},"property":{"type":"Identifier","start":8473,"end":8482,"name":"fieldName"},"computed":false},"kind":"init"},{"type":"Property","start":8492,"end":8508,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8492,"end":8500,"name":"metadata"},"value":{"type":"Identifier","start":8502,"end":8508,"name":"fields"},"kind":"init"},{"type":"Property","start":8518,"end":8541,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8518,"end":8528,"name":"httpMethod"},"value":{"type":"MemberExpression","start":8530,"end":8541,"object":{"type":"Identifier","start":8530,"end":8534,"name":"opts"},"property":{"type":"Identifier","start":8535,"end":8541,"name":"method"},"computed":false},"kind":"init"},{"type":"Property","start":8551,"end":8577,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8551,"end":8562,"name":"useFormData"},"value":{"type":"MemberExpression","start":8564,"end":8577,"object":{"type":"Identifier","start":8564,"end":8568,"name":"opts"},"property":{"type":"Identifier","start":8569,"end":8577,"name":"formData"},"computed":false},"kind":"init"},{"type":"Property","start":8587,"end":8608,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8587,"end":8594,"name":"headers"},"value":{"type":"MemberExpression","start":8596,"end":8608,"object":{"type":"Identifier","start":8596,"end":8600,"name":"opts"},"property":{"type":"Identifier","start":8601,"end":8608,"name":"headers"},"computed":false},"kind":"init"}]}]},"property":{"type":"Identifier","start":8618,"end":8622,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":8623,"end":10929,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8624,"end":8627,"name":"res"}],"body":{"type":"BlockStatement","start":8632,"end":10929,"body":[{"type":"VariableDeclaration","start":8642,"end":8665,"declarations":[{"type":"VariableDeclarator","start":8648,"end":8665,"id":{"type":"Identifier","start":8648,"end":8653,"name":"token"},"init":{"type":"MemberExpression","start":8656,"end":8665,"object":{"type":"Identifier","start":8656,"end":8659,"name":"res"},"property":{"type":"Identifier","start":8660,"end":8665,"name":"token"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":8674,"end":8726,"declarations":[{"type":"VariableDeclarator","start":8680,"end":8726,"id":{"type":"Identifier","start":8680,"end":8684,"name":"host"},"init":{"type":"CallExpression","start":8687,"end":8726,"callee":{"type":"Identifier","start":8687,"end":8700,"name":"getSocketHost"},"arguments":[{"type":"MemberExpression","start":8701,"end":8725,"object":{"type":"MemberExpression","start":8701,"end":8712,"object":{"type":"Identifier","start":8701,"end":8705,"name":"file"},"property":{"type":"Identifier","start":8706,"end":8712,"name":"remote"},"computed":false},"property":{"type":"Identifier","start":8713,"end":8725,"name":"companionUrl"},"computed":false}]}}],"kind":"const"},{"type":"VariableDeclaration","start":8735,"end":8813,"declarations":[{"type":"VariableDeclarator","start":8741,"end":8813,"id":{"type":"Identifier","start":8741,"end":8747,"name":"socket"},"init":{"type":"NewExpression","start":8750,"end":8813,"callee":{"type":"Identifier","start":8754,"end":8760,"name":"Socket"},"arguments":[{"type":"ObjectExpression","start":8761,"end":8812,"properties":[{"type":"Property","start":8763,"end":8793,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8763,"end":8769,"name":"target"},"value":{"type":"TemplateLiteral","start":8771,"end":8793,"expressions":[{"type":"Identifier","start":8774,"end":8778,"name":"host"},{"type":"Identifier","start":8786,"end":8791,"name":"token"}],"quasis":[{"type":"TemplateElement","start":8772,"end":8772,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":8779,"end":8784,"value":{"raw":"/api/","cooked":"/api/"},"tail":false},{"type":"TemplateElement","start":8792,"end":8792,"value":{"raw":"","cooked":""},"tail":true}]},"kind":"init"},{"type":"Property","start":8795,"end":8810,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8795,"end":8803,"name":"autoOpen"},"value":{"type":"Literal","start":8805,"end":8810,"value":false,"raw":"false"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":8822,"end":8880,"expression":{"type":"AssignmentExpression","start":8822,"end":8880,"operator":"=","left":{"type":"MemberExpression","start":8822,"end":8850,"object":{"type":"MemberExpression","start":8822,"end":8841,"object":{"type":"ThisExpression","start":8822,"end":8826},"property":{"type":"Identifier","start":8827,"end":8841,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":8842,"end":8849,"object":{"type":"Identifier","start":8842,"end":8846,"name":"file"},"property":{"type":"Identifier","start":8847,"end":8849,"name":"id"},"computed":false},"computed":true},"right":{"type":"NewExpression","start":8853,"end":8880,"callee":{"type":"Identifier","start":8857,"end":8869,"name":"EventTracker"},"arguments":[{"type":"MemberExpression","start":8870,"end":8879,"object":{"type":"ThisExpression","start":8870,"end":8874},"property":{"type":"Identifier","start":8875,"end":8879,"name":"uppy"},"computed":false}]}}},{"type":"ExpressionStatement","start":8890,"end":9055,"expression":{"type":"CallExpression","start":8890,"end":9055,"callee":{"type":"MemberExpression","start":8890,"end":8909,"object":{"type":"ThisExpression","start":8890,"end":8894},"property":{"type":"Identifier","start":8895,"end":8909,"name":"_onFileRemoved"},"computed":false},"arguments":[{"type":"MemberExpression","start":8910,"end":8917,"object":{"type":"Identifier","start":8910,"end":8914,"name":"file"},"property":{"type":"Identifier","start":8915,"end":8917,"name":"id"},"computed":false},{"type":"ArrowFunctionExpression","start":8919,"end":9054,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":8925,"end":9054,"body":[{"type":"ExpressionStatement","start":8937,"end":8961,"expression":{"type":"CallExpression","start":8937,"end":8961,"callee":{"type":"MemberExpression","start":8937,"end":8948,"object":{"type":"Identifier","start":8937,"end":8943,"name":"socket"},"property":{"type":"Identifier","start":8944,"end":8948,"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":8949,"end":8956,"value":"pause","raw":"'pause'"},{"type":"ObjectExpression","start":8958,"end":8960,"properties":[]}]}},{"type":"ExpressionStatement","start":8972,"end":8993,"expression":{"type":"CallExpression","start":8972,"end":8993,"callee":{"type":"MemberExpression","start":8972,"end":8991,"object":{"type":"Identifier","start":8972,"end":8985,"name":"queuedRequest"},"property":{"type":"Identifier","start":8986,"end":8991,"name":"abort"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":9004,"end":9044,"expression":{"type":"CallExpression","start":9004,"end":9044,"callee":{"type":"Identifier","start":9004,"end":9011,"name":"resolve"},"arguments":[{"type":"TemplateLiteral","start":9012,"end":9043,"expressions":[{"type":"MemberExpression","start":9022,"end":9029,"object":{"type":"Identifier","start":9022,"end":9026,"name":"file"},"property":{"type":"Identifier","start":9027,"end":9029,"name":"id"},"computed":false}],"quasis":[{"type":"TemplateElement","start":9013,"end":9020,"value":{"raw":"upload ","cooked":"upload "},"tail":false},{"type":"TemplateElement","start":9030,"end":9042,"value":{"raw":" was removed","cooked":" was removed"},"tail":true}]}]}}]}}]}},{"type":"ExpressionStatement","start":9065,"end":9229,"expression":{"type":"CallExpression","start":9065,"end":9229,"callee":{"type":"MemberExpression","start":9065,"end":9082,"object":{"type":"ThisExpression","start":9065,"end":9069},"property":{"type":"Identifier","start":9070,"end":9082,"name":"_onCancelAll"},"computed":false},"arguments":[{"type":"MemberExpression","start":9083,"end":9090,"object":{"type":"Identifier","start":9083,"end":9087,"name":"file"},"property":{"type":"Identifier","start":9088,"end":9090,"name":"id"},"computed":false},{"type":"ArrowFunctionExpression","start":9092,"end":9228,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":9098,"end":9228,"body":[{"type":"ExpressionStatement","start":9110,"end":9134,"expression":{"type":"CallExpression","start":9110,"end":9134,"callee":{"type":"MemberExpression","start":9110,"end":9121,"object":{"type":"Identifier","start":9110,"end":9116,"name":"socket"},"property":{"type":"Identifier","start":9117,"end":9121,"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":9122,"end":9129,"value":"pause","raw":"'pause'"},{"type":"ObjectExpression","start":9131,"end":9133,"properties":[]}]}},{"type":"ExpressionStatement","start":9145,"end":9166,"expression":{"type":"CallExpression","start":9145,"end":9166,"callee":{"type":"MemberExpression","start":9145,"end":9164,"object":{"type":"Identifier","start":9145,"end":9158,"name":"queuedRequest"},"property":{"type":"Identifier","start":9159,"end":9164,"name":"abort"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":9177,"end":9218,"expression":{"type":"CallExpression","start":9177,"end":9218,"callee":{"type":"Identifier","start":9177,"end":9184,"name":"resolve"},"arguments":[{"type":"TemplateLiteral","start":9185,"end":9217,"expressions":[{"type":"MemberExpression","start":9195,"end":9202,"object":{"type":"Identifier","start":9195,"end":9199,"name":"file"},"property":{"type":"Identifier","start":9200,"end":9202,"name":"id"},"computed":false}],"quasis":[{"type":"TemplateElement","start":9186,"end":9193,"value":{"raw":"upload ","cooked":"upload "},"tail":false},{"type":"TemplateElement","start":9203,"end":9216,"value":{"raw":" was canceled","cooked":" was canceled"},"tail":true}]}]}}]}}]}},{"type":"ExpressionStatement","start":9239,"end":9351,"expression":{"type":"CallExpression","start":9239,"end":9351,"callee":{"type":"MemberExpression","start":9239,"end":9252,"object":{"type":"ThisExpression","start":9239,"end":9243},"property":{"type":"Identifier","start":9244,"end":9252,"name":"_onRetry"},"computed":false},"arguments":[{"type":"MemberExpression","start":9253,"end":9260,"object":{"type":"Identifier","start":9253,"end":9257,"name":"file"},"property":{"type":"Identifier","start":9258,"end":9260,"name":"id"},"computed":false},{"type":"ArrowFunctionExpression","start":9262,"end":9350,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":9268,"end":9350,"body":[{"type":"ExpressionStatement","start":9280,"end":9304,"expression":{"type":"CallExpression","start":9280,"end":9304,"callee":{"type":"MemberExpression","start":9280,"end":9291,"object":{"type":"Identifier","start":9280,"end":9286,"name":"socket"},"property":{"type":"Identifier","start":9287,"end":9291,"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":9292,"end":9299,"value":"pause","raw":"'pause'"},{"type":"ObjectExpression","start":9301,"end":9303,"properties":[]}]}},{"type":"ExpressionStatement","start":9315,"end":9340,"expression":{"type":"CallExpression","start":9315,"end":9340,"callee":{"type":"MemberExpression","start":9315,"end":9326,"object":{"type":"Identifier","start":9315,"end":9321,"name":"socket"},"property":{"type":"Identifier","start":9322,"end":9326,"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":9327,"end":9335,"value":"resume","raw":"'resume'"},{"type":"ObjectExpression","start":9337,"end":9339,"properties":[]}]}}]}}]}},{"type":"ExpressionStatement","start":9361,"end":9476,"expression":{"type":"CallExpression","start":9361,"end":9476,"callee":{"type":"MemberExpression","start":9361,"end":9377,"object":{"type":"ThisExpression","start":9361,"end":9365},"property":{"type":"Identifier","start":9366,"end":9377,"name":"_onRetryAll"},"computed":false},"arguments":[{"type":"MemberExpression","start":9378,"end":9385,"object":{"type":"Identifier","start":9378,"end":9382,"name":"file"},"property":{"type":"Identifier","start":9383,"end":9385,"name":"id"},"computed":false},{"type":"ArrowFunctionExpression","start":9387,"end":9475,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":9393,"end":9475,"body":[{"type":"ExpressionStatement","start":9405,"end":9429,"expression":{"type":"CallExpression","start":9405,"end":9429,"callee":{"type":"MemberExpression","start":9405,"end":9416,"object":{"type":"Identifier","start":9405,"end":9411,"name":"socket"},"property":{"type":"Identifier","start":9412,"end":9416,"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":9417,"end":9424,"value":"pause","raw":"'pause'"},{"type":"ObjectExpression","start":9426,"end":9428,"properties":[]}]}},{"type":"ExpressionStatement","start":9440,"end":9465,"expression":{"type":"CallExpression","start":9440,"end":9465,"callee":{"type":"MemberExpression","start":9440,"end":9451,"object":{"type":"Identifier","start":9440,"end":9446,"name":"socket"},"property":{"type":"Identifier","start":9447,"end":9451,"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":9452,"end":9460,"value":"resume","raw":"'resume'"},{"type":"ObjectExpression","start":9462,"end":9464,"properties":[]}]}}]}}]}},{"type":"ExpressionStatement","start":9486,"end":9571,"expression":{"type":"CallExpression","start":9486,"end":9571,"callee":{"type":"MemberExpression","start":9486,"end":9495,"object":{"type":"Identifier","start":9486,"end":9492,"name":"socket"},"property":{"type":"Identifier","start":9493,"end":9495,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":9496,"end":9506,"value":"progress","raw":"'progress'"},{"type":"ArrowFunctionExpression","start":9508,"end":9570,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":9509,"end":9521,"name":"progressData"}],"body":{"type":"CallExpression","start":9526,"end":9570,"callee":{"type":"Identifier","start":9526,"end":9544,"name":"emitSocketProgress"},"arguments":[{"type":"ThisExpression","start":9545,"end":9549},{"type":"Identifier","start":9551,"end":9563,"name":"progressData"},{"type":"Identifier","start":9565,"end":9569,"name":"file"}]}}]}},{"type":"ExpressionStatement","start":9581,"end":10173,"expression":{"type":"CallExpression","start":9581,"end":10173,"callee":{"type":"MemberExpression","start":9581,"end":9590,"object":{"type":"Identifier","start":9581,"end":9587,"name":"socket"},"property":{"type":"Identifier","start":9588,"end":9590,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":9591,"end":9600,"value":"success","raw":"'success'"},{"type":"ArrowFunctionExpression","start":9602,"end":10172,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9603,"end":9607,"name":"data"}],"body":{"type":"BlockStatement","start":9612,"end":10172,"body":[{"type":"VariableDeclaration","start":9624,"end":9700,"declarations":[{"type":"VariableDeclarator","start":9630,"end":9700,"id":{"type":"Identifier","start":9630,"end":9634,"name":"body"},"init":{"type":"CallExpression","start":9637,"end":9700,"callee":{"type":"MemberExpression","start":9637,"end":9657,"object":{"type":"Identifier","start":9637,"end":9641,"name":"opts"},"property":{"type":"Identifier","start":9642,"end":9657,"name":"getResponseData"},"computed":false},"arguments":[{"type":"MemberExpression","start":9658,"end":9684,"object":{"type":"MemberExpression","start":9658,"end":9671,"object":{"type":"Identifier","start":9658,"end":9662,"name":"data"},"property":{"type":"Identifier","start":9663,"end":9671,"name":"response"},"computed":false},"property":{"type":"Identifier","start":9672,"end":9684,"name":"responseText"},"computed":false},{"type":"MemberExpression","start":9686,"end":9699,"object":{"type":"Identifier","start":9686,"end":9690,"name":"data"},"property":{"type":"Identifier","start":9691,"end":9699,"name":"response"},"computed":false}]}}],"kind":"const"},{"type":"VariableDeclaration","start":9711,"end":9760,"declarations":[{"type":"VariableDeclarator","start":9717,"end":9760,"id":{"type":"Identifier","start":9717,"end":9726,"name":"uploadURL"},"init":{"type":"MemberExpression","start":9729,"end":9760,"object":{"type":"Identifier","start":9729,"end":9733,"name":"body"},"property":{"type":"MemberExpression","start":9734,"end":9759,"object":{"type":"Identifier","start":9734,"end":9738,"name":"opts"},"property":{"type":"Identifier","start":9739,"end":9759,"name":"responseUrlFieldName"},"computed":false},"computed":true}}],"kind":"const"},{"type":"VariableDeclaration","start":9772,"end":9886,"declarations":[{"type":"VariableDeclarator","start":9778,"end":9886,"id":{"type":"Identifier","start":9778,"end":9788,"name":"uploadResp"},"init":{"type":"ObjectExpression","start":9791,"end":9886,"properties":[{"type":"Property","start":9805,"end":9833,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9805,"end":9811,"name":"status"},"value":{"type":"MemberExpression","start":9813,"end":9833,"object":{"type":"MemberExpression","start":9813,"end":9826,"object":{"type":"Identifier","start":9813,"end":9817,"name":"data"},"property":{"type":"Identifier","start":9818,"end":9826,"name":"response"},"computed":false},"property":{"type":"Identifier","start":9827,"end":9833,"name":"status"},"computed":false},"kind":"init"},{"type":"Property","start":9847,"end":9851,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":9847,"end":9851,"name":"body"},"kind":"init","value":{"type":"Identifier","start":9847,"end":9851,"name":"body"}},{"type":"Property","start":9865,"end":9874,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":9865,"end":9874,"name":"uploadURL"},"kind":"init","value":{"type":"Identifier","start":9865,"end":9874,"name":"uploadURL"}}]}}],"kind":"const"},{"type":"ExpressionStatement","start":9898,"end":9948,"expression":{"type":"CallExpression","start":9898,"end":9948,"callee":{"type":"MemberExpression","start":9898,"end":9912,"object":{"type":"MemberExpression","start":9898,"end":9907,"object":{"type":"ThisExpression","start":9898,"end":9902},"property":{"type":"Identifier","start":9903,"end":9907,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":9908,"end":9912,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":9913,"end":9929,"value":"upload-success","raw":"'upload-success'"},{"type":"Identifier","start":9931,"end":9935,"name":"file"},{"type":"Identifier","start":9937,"end":9947,"name":"uploadResp"}]}},{"type":"ExpressionStatement","start":9959,"end":9979,"expression":{"type":"CallExpression","start":9959,"end":9979,"callee":{"type":"MemberExpression","start":9959,"end":9977,"object":{"type":"Identifier","start":9959,"end":9972,"name":"queuedRequest"},"property":{"type":"Identifier","start":9973,"end":9977,"name":"done"},"computed":false},"arguments":[]}},{"type":"IfStatement","start":9990,"end":10135,"test":{"type":"MemberExpression","start":9994,"end":10022,"object":{"type":"MemberExpression","start":9994,"end":10013,"object":{"type":"ThisExpression","start":9994,"end":9998},"property":{"type":"Identifier","start":9999,"end":10013,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":10014,"end":10021,"object":{"type":"Identifier","start":10014,"end":10018,"name":"file"},"property":{"type":"Identifier","start":10019,"end":10021,"name":"id"},"computed":false},"computed":true},"consequent":{"type":"BlockStatement","start":10024,"end":10135,"body":[{"type":"ExpressionStatement","start":10038,"end":10075,"expression":{"type":"CallExpression","start":10038,"end":10075,"callee":{"type":"MemberExpression","start":10038,"end":10073,"object":{"type":"MemberExpression","start":10038,"end":10066,"object":{"type":"MemberExpression","start":10038,"end":10057,"object":{"type":"ThisExpression","start":10038,"end":10042},"property":{"type":"Identifier","start":10043,"end":10057,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":10058,"end":10065,"object":{"type":"Identifier","start":10058,"end":10062,"name":"file"},"property":{"type":"Identifier","start":10063,"end":10065,"name":"id"},"computed":false},"computed":true},"property":{"type":"Identifier","start":10067,"end":10073,"name":"remove"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":10088,"end":10123,"expression":{"type":"AssignmentExpression","start":10088,"end":10123,"operator":"=","left":{"type":"MemberExpression","start":10088,"end":10116,"object":{"type":"MemberExpression","start":10088,"end":10107,"object":{"type":"ThisExpression","start":10088,"end":10092},"property":{"type":"Identifier","start":10093,"end":10107,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":10108,"end":10115,"object":{"type":"Identifier","start":10108,"end":10112,"name":"file"},"property":{"type":"Identifier","start":10113,"end":10115,"name":"id"},"computed":false},"computed":true},"right":{"type":"Literal","start":10119,"end":10123,"value":null,"raw":"null"}}}]},"alternate":null},{"type":"ReturnStatement","start":10146,"end":10162,"argument":{"type":"CallExpression","start":10153,"end":10162,"callee":{"type":"Identifier","start":10153,"end":10160,"name":"resolve"},"arguments":[]}}]}}]}},{"type":"ExpressionStatement","start":10183,"end":10710,"expression":{"type":"CallExpression","start":10183,"end":10710,"callee":{"type":"MemberExpression","start":10183,"end":10192,"object":{"type":"Identifier","start":10183,"end":10189,"name":"socket"},"property":{"type":"Identifier","start":10190,"end":10192,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":10193,"end":10200,"value":"error","raw":"'error'"},{"type":"ArrowFunctionExpression","start":10202,"end":10709,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10203,"end":10210,"name":"errData"}],"body":{"type":"BlockStatement","start":10215,"end":10709,"body":[{"type":"VariableDeclaration","start":10227,"end":10256,"declarations":[{"type":"VariableDeclarator","start":10233,"end":10256,"id":{"type":"Identifier","start":10233,"end":10237,"name":"resp"},"init":{"type":"MemberExpression","start":10240,"end":10256,"object":{"type":"Identifier","start":10240,"end":10247,"name":"errData"},"property":{"type":"Identifier","start":10248,"end":10256,"name":"response"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":10267,"end":10434,"declarations":[{"type":"VariableDeclarator","start":10273,"end":10434,"id":{"type":"Identifier","start":10273,"end":10278,"name":"error"},"init":{"type":"ConditionalExpression","start":10281,"end":10434,"test":{"type":"Identifier","start":10281,"end":10285,"name":"resp"},"consequent":{"type":"CallExpression","start":10300,"end":10346,"callee":{"type":"MemberExpression","start":10300,"end":10321,"object":{"type":"Identifier","start":10300,"end":10304,"name":"opts"},"property":{"type":"Identifier","start":10305,"end":10321,"name":"getResponseError"},"computed":false},"arguments":[{"type":"MemberExpression","start":10322,"end":10339,"object":{"type":"Identifier","start":10322,"end":10326,"name":"resp"},"property":{"type":"Identifier","start":10327,"end":10339,"name":"responseText"},"computed":false},{"type":"Identifier","start":10341,"end":10345,"name":"resp"}]},"alternate":{"type":"CallExpression","start":10361,"end":10434,"callee":{"type":"MemberExpression","start":10361,"end":10374,"object":{"type":"Identifier","start":10361,"end":10367,"name":"Object"},"property":{"type":"Identifier","start":10368,"end":10374,"name":"assign"},"computed":false},"arguments":[{"type":"NewExpression","start":10375,"end":10407,"callee":{"type":"Identifier","start":10379,"end":10384,"name":"Error"},"arguments":[{"type":"MemberExpression","start":10385,"end":10406,"object":{"type":"MemberExpression","start":10385,"end":10398,"object":{"type":"Identifier","start":10385,"end":10392,"name":"errData"},"property":{"type":"Identifier","start":10393,"end":10398,"name":"error"},"computed":false},"property":{"type":"Identifier","start":10399,"end":10406,"name":"message"},"computed":false}]},{"type":"ObjectExpression","start":10409,"end":10433,"properties":[{"type":"Property","start":10411,"end":10431,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10411,"end":10416,"name":"cause"},"value":{"type":"MemberExpression","start":10418,"end":10431,"object":{"type":"Identifier","start":10418,"end":10425,"name":"errData"},"property":{"type":"Identifier","start":10426,"end":10431,"name":"error"},"computed":false},"kind":"init"}]}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":10445,"end":10488,"expression":{"type":"CallExpression","start":10445,"end":10488,"callee":{"type":"MemberExpression","start":10445,"end":10459,"object":{"type":"MemberExpression","start":10445,"end":10454,"object":{"type":"ThisExpression","start":10445,"end":10449},"property":{"type":"Identifier","start":10450,"end":10454,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":10455,"end":10459,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":10460,"end":10474,"value":"upload-error","raw":"'upload-error'"},{"type":"Identifier","start":10476,"end":10480,"name":"file"},{"type":"Identifier","start":10482,"end":10487,"name":"error"}]}},{"type":"ExpressionStatement","start":10499,"end":10519,"expression":{"type":"CallExpression","start":10499,"end":10519,"callee":{"type":"MemberExpression","start":10499,"end":10517,"object":{"type":"Identifier","start":10499,"end":10512,"name":"queuedRequest"},"property":{"type":"Identifier","start":10513,"end":10517,"name":"done"},"computed":false},"arguments":[]}},{"type":"IfStatement","start":10530,"end":10675,"test":{"type":"MemberExpression","start":10534,"end":10562,"object":{"type":"MemberExpression","start":10534,"end":10553,"object":{"type":"ThisExpression","start":10534,"end":10538},"property":{"type":"Identifier","start":10539,"end":10553,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":10554,"end":10561,"object":{"type":"Identifier","start":10554,"end":10558,"name":"file"},"property":{"type":"Identifier","start":10559,"end":10561,"name":"id"},"computed":false},"computed":true},"consequent":{"type":"BlockStatement","start":10564,"end":10675,"body":[{"type":"ExpressionStatement","start":10578,"end":10615,"expression":{"type":"CallExpression","start":10578,"end":10615,"callee":{"type":"MemberExpression","start":10578,"end":10613,"object":{"type":"MemberExpression","start":10578,"end":10606,"object":{"type":"MemberExpression","start":10578,"end":10597,"object":{"type":"ThisExpression","start":10578,"end":10582},"property":{"type":"Identifier","start":10583,"end":10597,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":10598,"end":10605,"object":{"type":"Identifier","start":10598,"end":10602,"name":"file"},"property":{"type":"Identifier","start":10603,"end":10605,"name":"id"},"computed":false},"computed":true},"property":{"type":"Identifier","start":10607,"end":10613,"name":"remove"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":10628,"end":10663,"expression":{"type":"AssignmentExpression","start":10628,"end":10663,"operator":"=","left":{"type":"MemberExpression","start":10628,"end":10656,"object":{"type":"MemberExpression","start":10628,"end":10647,"object":{"type":"ThisExpression","start":10628,"end":10632},"property":{"type":"Identifier","start":10633,"end":10647,"name":"uploaderEvents"},"computed":false},"property":{"type":"MemberExpression","start":10648,"end":10655,"object":{"type":"Identifier","start":10648,"end":10652,"name":"file"},"property":{"type":"Identifier","start":10653,"end":10655,"name":"id"},"computed":false},"computed":true},"right":{"type":"Literal","start":10659,"end":10663,"value":null,"raw":"null"}}}]},"alternate":null},{"type":"ExpressionStatement","start":10686,"end":10699,"expression":{"type":"CallExpression","start":10686,"end":10699,"callee":{"type":"Identifier","start":10686,"end":10692,"name":"reject"},"arguments":[{"type":"Identifier","start":10693,"end":10698,"name":"error"}]}}]}}]}},{"type":"VariableDeclaration","start":10720,"end":10921,"declarations":[{"type":"VariableDeclarator","start":10726,"end":10921,"id":{"type":"Identifier","start":10726,"end":10739,"name":"queuedRequest"},"init":{"type":"CallExpression","start":10742,"end":10921,"callee":{"type":"MemberExpression","start":10742,"end":10759,"object":{"type":"MemberExpression","start":10742,"end":10755,"object":{"type":"ThisExpression","start":10742,"end":10746},"property":{"type":"Identifier","start":10747,"end":10755,"name":"requests"},"computed":false},"property":{"type":"Identifier","start":10756,"end":10759,"name":"run"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":10760,"end":10920,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":10766,"end":10920,"body":[{"type":"ExpressionStatement","start":10778,"end":10791,"expression":{"type":"CallExpression","start":10778,"end":10791,"callee":{"type":"MemberExpression","start":10778,"end":10789,"object":{"type":"Identifier","start":10778,"end":10784,"name":"socket"},"property":{"type":"Identifier","start":10785,"end":10789,"name":"open"},"computed":false},"arguments":[]}},{"type":"IfStatement","start":10802,"end":10871,"test":{"type":"MemberExpression","start":10806,"end":10819,"object":{"type":"Identifier","start":10806,"end":10810,"name":"file"},"property":{"type":"Identifier","start":10811,"end":10819,"name":"isPaused"},"computed":false},"consequent":{"type":"BlockStatement","start":10821,"end":10871,"body":[{"type":"ExpressionStatement","start":10835,"end":10859,"expression":{"type":"CallExpression","start":10835,"end":10859,"callee":{"type":"MemberExpression","start":10835,"end":10846,"object":{"type":"Identifier","start":10835,"end":10841,"name":"socket"},"property":{"type":"Identifier","start":10842,"end":10846,"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":10847,"end":10854,"value":"pause","raw":"'pause'"},{"type":"ObjectExpression","start":10856,"end":10858,"properties":[]}]}}]},"alternate":null},{"type":"ReturnStatement","start":10883,"end":10910,"argument":{"type":"ArrowFunctionExpression","start":10890,"end":10910,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":10896,"end":10910,"callee":{"type":"MemberExpression","start":10896,"end":10908,"object":{"type":"Identifier","start":10896,"end":10902,"name":"socket"},"property":{"type":"Identifier","start":10903,"end":10908,"name":"close"},"computed":false},"arguments":[]}}}]}}]}}],"kind":"const"}]}}]},"property":{"type":"Identifier","start":10931,"end":10936,"name":"catch"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":10937,"end":11025,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10938,"end":10941,"name":"err"}],"body":{"type":"BlockStatement","start":10946,"end":11025,"body":[{"type":"ExpressionStatement","start":10956,"end":10997,"expression":{"type":"CallExpression","start":10956,"end":10997,"callee":{"type":"MemberExpression","start":10956,"end":10970,"object":{"type":"MemberExpression","start":10956,"end":10965,"object":{"type":"ThisExpression","start":10956,"end":10960},"property":{"type":"Identifier","start":10961,"end":10965,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":10966,"end":10970,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":10971,"end":10985,"value":"upload-error","raw":"'upload-error'"},{"type":"Identifier","start":10987,"end":10991,"name":"file"},{"type":"Identifier","start":10993,"end":10996,"name":"err"}]}},{"type":"ExpressionStatement","start":11006,"end":11017,"expression":{"type":"CallExpression","start":11006,"end":11017,"callee":{"type":"Identifier","start":11006,"end":11012,"name":"reject"},"arguments":[{"type":"Identifier","start":11013,"end":11016,"name":"err"}]}}]}}]}}]}}]}}]}}}]}}}}],"sourceType":"script"}