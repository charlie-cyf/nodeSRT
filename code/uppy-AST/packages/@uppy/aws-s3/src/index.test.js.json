{"type":"Program","start":0,"end":1011,"body":[{"type":"VariableDeclaration","start":0,"end":34,"declarations":[{"type":"VariableDeclarator","start":6,"end":34,"id":{"type":"Identifier","start":6,"end":10,"name":"Core"},"init":{"type":"CallExpression","start":13,"end":34,"callee":{"type":"Identifier","start":13,"end":20,"name":"require"},"arguments":[{"type":"Literal","start":21,"end":33,"value":"@uppy/core","raw":"'@uppy/core'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":35,"end":62,"declarations":[{"type":"VariableDeclarator","start":41,"end":62,"id":{"type":"Identifier","start":41,"end":46,"name":"AwsS3"},"init":{"type":"CallExpression","start":49,"end":62,"callee":{"type":"Identifier","start":49,"end":56,"name":"require"},"arguments":[{"type":"Literal","start":57,"end":61,"value":"./","raw":"'./'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":64,"end":1010,"expression":{"type":"CallExpression","start":64,"end":1010,"callee":{"type":"Identifier","start":64,"end":72,"name":"describe"},"arguments":[{"type":"Literal","start":73,"end":80,"value":"AwsS3","raw":"'AwsS3'"},{"type":"ArrowFunctionExpression","start":82,"end":1009,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":88,"end":1009,"body":[{"type":"ExpressionStatement","start":92,"end":319,"expression":{"type":"CallExpression","start":92,"end":319,"callee":{"type":"Identifier","start":92,"end":94,"name":"it"},"arguments":[{"type":"Literal","start":95,"end":126,"value":"Registers AwsS3 upload plugin","raw":"'Registers AwsS3 upload plugin'"},{"type":"ArrowFunctionExpression","start":128,"end":318,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":134,"end":318,"body":[{"type":"VariableDeclaration","start":140,"end":163,"declarations":[{"type":"VariableDeclarator","start":146,"end":163,"id":{"type":"Identifier","start":146,"end":150,"name":"core"},"init":{"type":"NewExpression","start":153,"end":163,"callee":{"type":"Identifier","start":157,"end":161,"name":"Core"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":168,"end":183,"expression":{"type":"CallExpression","start":168,"end":183,"callee":{"type":"MemberExpression","start":168,"end":176,"object":{"type":"Identifier","start":168,"end":172,"name":"core"},"property":{"type":"Identifier","start":173,"end":176,"name":"use"},"computed":false},"arguments":[{"type":"Identifier","start":177,"end":182,"name":"AwsS3"}]}},{"type":"VariableDeclaration","start":189,"end":271,"declarations":[{"type":"VariableDeclarator","start":195,"end":271,"id":{"type":"Identifier","start":195,"end":206,"name":"pluginNames"},"init":{"type":"CallExpression","start":209,"end":271,"callee":{"type":"MemberExpression","start":209,"end":234,"object":{"type":"MemberExpression","start":209,"end":230,"object":{"type":"MemberExpression","start":209,"end":221,"object":{"type":"Identifier","start":209,"end":213,"name":"core"},"property":{"type":"Identifier","start":214,"end":221,"name":"plugins"},"computed":false},"property":{"type":"Identifier","start":222,"end":230,"name":"uploader"},"computed":false},"property":{"type":"Identifier","start":231,"end":234,"name":"map"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":235,"end":270,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":236,"end":242,"name":"plugin"}],"body":{"type":"MemberExpression","start":247,"end":270,"object":{"type":"MemberExpression","start":247,"end":265,"object":{"type":"Identifier","start":247,"end":253,"name":"plugin"},"property":{"type":"Identifier","start":254,"end":265,"name":"constructor"},"computed":false},"property":{"type":"Identifier","start":266,"end":270,"name":"name"},"computed":false}}]}}],"kind":"const"},{"type":"ExpressionStatement","start":276,"end":314,"expression":{"type":"CallExpression","start":276,"end":314,"callee":{"type":"MemberExpression","start":276,"end":305,"object":{"type":"CallExpression","start":276,"end":295,"callee":{"type":"Identifier","start":276,"end":282,"name":"expect"},"arguments":[{"type":"Identifier","start":283,"end":294,"name":"pluginNames"}]},"property":{"type":"Identifier","start":296,"end":305,"name":"toContain"},"computed":false},"arguments":[{"type":"Literal","start":306,"end":313,"value":"AwsS3","raw":"'AwsS3'"}]}}]}}]}},{"type":"ExpressionStatement","start":323,"end":1007,"expression":{"type":"CallExpression","start":323,"end":1007,"callee":{"type":"Identifier","start":323,"end":331,"name":"describe"},"arguments":[{"type":"Literal","start":332,"end":353,"value":"getUploadParameters","raw":"'getUploadParameters'"},{"type":"ArrowFunctionExpression","start":355,"end":1006,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":361,"end":1006,"body":[{"type":"ExpressionStatement","start":367,"end":590,"expression":{"type":"CallExpression","start":367,"end":590,"callee":{"type":"Identifier","start":367,"end":369,"name":"it"},"arguments":[{"type":"Literal","start":370,"end":422,"value":"Throws an error if configured without companionUrl","raw":"'Throws an error if configured without companionUrl'"},{"type":"ArrowFunctionExpression","start":424,"end":589,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":430,"end":589,"body":[{"type":"VariableDeclaration","start":438,"end":461,"declarations":[{"type":"VariableDeclarator","start":444,"end":461,"id":{"type":"Identifier","start":444,"end":448,"name":"core"},"init":{"type":"NewExpression","start":451,"end":461,"callee":{"type":"Identifier","start":455,"end":459,"name":"Core"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":468,"end":483,"expression":{"type":"CallExpression","start":468,"end":483,"callee":{"type":"MemberExpression","start":468,"end":476,"object":{"type":"Identifier","start":468,"end":472,"name":"core"},"property":{"type":"Identifier","start":473,"end":476,"name":"use"},"computed":false},"arguments":[{"type":"Identifier","start":477,"end":482,"name":"AwsS3"}]}},{"type":"VariableDeclaration","start":490,"end":527,"declarations":[{"type":"VariableDeclarator","start":496,"end":527,"id":{"type":"Identifier","start":496,"end":501,"name":"awsS3"},"init":{"type":"CallExpression","start":504,"end":527,"callee":{"type":"MemberExpression","start":504,"end":518,"object":{"type":"Identifier","start":504,"end":508,"name":"core"},"property":{"type":"Identifier","start":509,"end":518,"name":"getPlugin"},"computed":false},"arguments":[{"type":"Literal","start":519,"end":526,"value":"AwsS3","raw":"'AwsS3'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":535,"end":583,"expression":{"type":"CallExpression","start":535,"end":583,"callee":{"type":"MemberExpression","start":535,"end":581,"object":{"type":"CallExpression","start":535,"end":573,"callee":{"type":"Identifier","start":535,"end":541,"name":"expect"},"arguments":[{"type":"MemberExpression","start":542,"end":572,"object":{"type":"MemberExpression","start":542,"end":552,"object":{"type":"Identifier","start":542,"end":547,"name":"awsS3"},"property":{"type":"Identifier","start":548,"end":552,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":553,"end":572,"name":"getUploadParameters"},"computed":false}]},"property":{"type":"Identifier","start":574,"end":581,"name":"toThrow"},"computed":false},"arguments":[]}}]}}]}},{"type":"ExpressionStatement","start":596,"end":1002,"expression":{"type":"CallExpression","start":596,"end":1002,"callee":{"type":"Identifier","start":596,"end":598,"name":"it"},"arguments":[{"type":"Literal","start":599,"end":653,"value":"Does not throw an error with campanionUrl configured","raw":"'Does not throw an error with campanionUrl configured'"},{"type":"ArrowFunctionExpression","start":655,"end":1001,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":661,"end":1001,"body":[{"type":"VariableDeclaration","start":669,"end":692,"declarations":[{"type":"VariableDeclarator","start":675,"end":692,"id":{"type":"Identifier","start":675,"end":679,"name":"core"},"init":{"type":"NewExpression","start":682,"end":692,"callee":{"type":"Identifier","start":686,"end":690,"name":"Core"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":699,"end":769,"expression":{"type":"CallExpression","start":699,"end":769,"callee":{"type":"MemberExpression","start":699,"end":707,"object":{"type":"Identifier","start":699,"end":703,"name":"core"},"property":{"type":"Identifier","start":704,"end":707,"name":"use"},"computed":false},"arguments":[{"type":"Identifier","start":708,"end":713,"name":"AwsS3"},{"type":"ObjectExpression","start":715,"end":768,"properties":[{"type":"Property","start":717,"end":766,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":717,"end":729,"name":"companionUrl"},"value":{"type":"Literal","start":731,"end":766,"value":"https://uppy-companion.myapp.com/","raw":"'https://uppy-companion.myapp.com/'"},"kind":"init"}]}]}},{"type":"VariableDeclaration","start":776,"end":813,"declarations":[{"type":"VariableDeclarator","start":782,"end":813,"id":{"type":"Identifier","start":782,"end":787,"name":"awsS3"},"init":{"type":"CallExpression","start":790,"end":813,"callee":{"type":"MemberExpression","start":790,"end":804,"object":{"type":"Identifier","start":790,"end":794,"name":"core"},"property":{"type":"Identifier","start":795,"end":804,"name":"getPlugin"},"computed":false},"arguments":[{"type":"Literal","start":805,"end":812,"value":"AwsS3","raw":"'AwsS3'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":820,"end":923,"declarations":[{"type":"VariableDeclarator","start":826,"end":923,"id":{"type":"Identifier","start":826,"end":830,"name":"file"},"init":{"type":"ObjectExpression","start":833,"end":923,"properties":[{"type":"Property","start":843,"end":915,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":843,"end":847,"name":"meta"},"value":{"type":"ObjectExpression","start":849,"end":915,"properties":[{"type":"Property","start":861,"end":876,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":861,"end":865,"name":"name"},"value":{"type":"Literal","start":867,"end":876,"value":"foo.jpg","raw":"'foo.jpg'"},"kind":"init"},{"type":"Property","start":888,"end":905,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":888,"end":892,"name":"type"},"value":{"type":"Literal","start":894,"end":905,"value":"image/jpg","raw":"'image/jpg'"},"kind":"init"}]},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":931,"end":995,"expression":{"type":"CallExpression","start":931,"end":995,"callee":{"type":"MemberExpression","start":931,"end":993,"object":{"type":"MemberExpression","start":931,"end":985,"object":{"type":"CallExpression","start":931,"end":981,"callee":{"type":"Identifier","start":931,"end":937,"name":"expect"},"arguments":[{"type":"ArrowFunctionExpression","start":938,"end":980,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":944,"end":980,"callee":{"type":"MemberExpression","start":944,"end":974,"object":{"type":"MemberExpression","start":944,"end":954,"object":{"type":"Identifier","start":944,"end":949,"name":"awsS3"},"property":{"type":"Identifier","start":950,"end":954,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":955,"end":974,"name":"getUploadParameters"},"computed":false},"arguments":[{"type":"Identifier","start":975,"end":979,"name":"file"}]}}]},"property":{"type":"Identifier","start":982,"end":985,"name":"not"},"computed":false},"property":{"type":"Identifier","start":986,"end":993,"name":"toThrow"},"computed":false},"arguments":[]}}]}}]}}]}}]}}]}}]}}],"sourceType":"script"}