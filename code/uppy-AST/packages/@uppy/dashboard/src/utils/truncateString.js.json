{"type":"Program","start":0,"end":1036,"loc":{"start":{"line":1,"column":0},"end":{"line":27,"column":0}},"body":[{"type":"ExpressionStatement","start":332,"end":1035,"loc":{"start":{"line":9,"column":0},"end":{"line":26,"column":1}},"expression":{"type":"AssignmentExpression","start":332,"end":1035,"loc":{"start":{"line":9,"column":0},"end":{"line":26,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":332,"end":346,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":14}},"object":{"type":"Identifier","start":332,"end":338,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":6}},"name":"module"},"property":{"type":"Identifier","start":339,"end":346,"loc":{"start":{"line":9,"column":7},"end":{"line":9,"column":14}},"name":"exports"},"computed":false},"right":{"type":"FunctionExpression","start":349,"end":1035,"loc":{"start":{"line":9,"column":17},"end":{"line":26,"column":1}},"id":{"type":"Identifier","start":358,"end":372,"loc":{"start":{"line":9,"column":26},"end":{"line":9,"column":40}},"name":"truncateString"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":374,"end":380,"loc":{"start":{"line":9,"column":42},"end":{"line":9,"column":48}},"name":"string"},{"type":"Identifier","start":382,"end":391,"loc":{"start":{"line":9,"column":50},"end":{"line":9,"column":59}},"name":"maxLength"}],"body":{"type":"BlockStatement","start":393,"end":1035,"loc":{"start":{"line":9,"column":61},"end":{"line":26,"column":1}},"body":[{"type":"VariableDeclaration","start":397,"end":420,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":25}},"declarations":[{"type":"VariableDeclarator","start":403,"end":420,"loc":{"start":{"line":10,"column":8},"end":{"line":10,"column":25}},"id":{"type":"Identifier","start":403,"end":412,"loc":{"start":{"line":10,"column":8},"end":{"line":10,"column":17}},"name":"separator"},"init":{"type":"Literal","start":415,"end":420,"loc":{"start":{"line":10,"column":20},"end":{"line":10,"column":25}},"value":"...","raw":"'...'"}}],"kind":"const"},{"type":"IfStatement","start":491,"end":1033,"loc":{"start":{"line":13,"column":2},"end":{"line":25,"column":3}},"test":{"type":"BinaryExpression","start":495,"end":521,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":32}},"left":{"type":"MemberExpression","start":495,"end":508,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":19}},"object":{"type":"Identifier","start":495,"end":501,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":12}},"name":"string"},"property":{"type":"Identifier","start":502,"end":508,"loc":{"start":{"line":13,"column":13},"end":{"line":13,"column":19}},"name":"length"},"computed":false},"operator":"<=","right":{"type":"Identifier","start":512,"end":521,"loc":{"start":{"line":13,"column":23},"end":{"line":13,"column":32}},"name":"maxLength"}},"consequent":{"type":"BlockStatement","start":523,"end":634,"loc":{"start":{"line":13,"column":34},"end":{"line":16,"column":3}},"body":[{"type":"ReturnStatement","start":529,"end":542,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":17}},"argument":{"type":"Identifier","start":536,"end":542,"loc":{"start":{"line":14,"column":11},"end":{"line":14,"column":17}},"name":"string"}}],"trailingComments":[{"type":"Line","value":" Return truncated substring without '...' if string can't be meaningfully truncated","start":545,"end":630,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":87}}}]},"alternate":{"type":"IfStatement","start":640,"end":1033,"loc":{"start":{"line":16,"column":9},"end":{"line":25,"column":3}},"test":{"type":"BinaryExpression","start":644,"end":673,"loc":{"start":{"line":16,"column":13},"end":{"line":16,"column":42}},"left":{"type":"Identifier","start":644,"end":653,"loc":{"start":{"line":16,"column":13},"end":{"line":16,"column":22}},"name":"maxLength"},"operator":"<=","right":{"type":"MemberExpression","start":657,"end":673,"loc":{"start":{"line":16,"column":26},"end":{"line":16,"column":42}},"object":{"type":"Identifier","start":657,"end":666,"loc":{"start":{"line":16,"column":26},"end":{"line":16,"column":35}},"name":"separator"},"property":{"type":"Identifier","start":667,"end":673,"loc":{"start":{"line":16,"column":36},"end":{"line":16,"column":42}},"name":"length"},"computed":false}},"consequent":{"type":"BlockStatement","start":675,"end":773,"loc":{"start":{"line":16,"column":44},"end":{"line":19,"column":3}},"body":[{"type":"ReturnStatement","start":681,"end":715,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":38}},"argument":{"type":"CallExpression","start":688,"end":715,"loc":{"start":{"line":17,"column":11},"end":{"line":17,"column":38}},"callee":{"type":"MemberExpression","start":688,"end":701,"loc":{"start":{"line":17,"column":11},"end":{"line":17,"column":24}},"object":{"type":"Identifier","start":688,"end":694,"loc":{"start":{"line":17,"column":11},"end":{"line":17,"column":17}},"name":"string"},"property":{"type":"Identifier","start":695,"end":701,"loc":{"start":{"line":17,"column":18},"end":{"line":17,"column":24}},"name":"substr"},"computed":false},"arguments":[{"type":"Literal","start":702,"end":703,"loc":{"start":{"line":17,"column":25},"end":{"line":17,"column":26}},"value":0,"raw":"0"},{"type":"Identifier","start":705,"end":714,"loc":{"start":{"line":17,"column":28},"end":{"line":17,"column":37}},"name":"maxLength"}]}}],"trailingComments":[{"type":"Line","value":" Return truncated string divided in half by '...'","start":718,"end":769,"loc":{"start":{"line":18,"column":2},"end":{"line":18,"column":53}}}]},"alternate":{"type":"BlockStatement","start":779,"end":1033,"loc":{"start":{"line":19,"column":9},"end":{"line":25,"column":3}},"body":[{"type":"VariableDeclaration","start":785,"end":833,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":52}},"declarations":[{"type":"VariableDeclarator","start":791,"end":833,"loc":{"start":{"line":20,"column":10},"end":{"line":20,"column":52}},"id":{"type":"Identifier","start":791,"end":802,"loc":{"start":{"line":20,"column":10},"end":{"line":20,"column":21}},"name":"charsToShow"},"init":{"type":"BinaryExpression","start":805,"end":833,"loc":{"start":{"line":20,"column":24},"end":{"line":20,"column":52}},"left":{"type":"Identifier","start":805,"end":814,"loc":{"start":{"line":20,"column":24},"end":{"line":20,"column":33}},"name":"maxLength"},"operator":"-","right":{"type":"MemberExpression","start":817,"end":833,"loc":{"start":{"line":20,"column":36},"end":{"line":20,"column":52}},"object":{"type":"Identifier","start":817,"end":826,"loc":{"start":{"line":20,"column":36},"end":{"line":20,"column":45}},"name":"separator"},"property":{"type":"Identifier","start":827,"end":833,"loc":{"start":{"line":20,"column":46},"end":{"line":20,"column":52}},"name":"length"},"computed":false}}}],"kind":"const"},{"type":"VariableDeclaration","start":838,"end":883,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":49}},"declarations":[{"type":"VariableDeclarator","start":844,"end":883,"loc":{"start":{"line":21,"column":10},"end":{"line":21,"column":49}},"id":{"type":"Identifier","start":844,"end":854,"loc":{"start":{"line":21,"column":10},"end":{"line":21,"column":20}},"name":"frontChars"},"init":{"type":"CallExpression","start":857,"end":883,"loc":{"start":{"line":21,"column":23},"end":{"line":21,"column":49}},"callee":{"type":"MemberExpression","start":857,"end":866,"loc":{"start":{"line":21,"column":23},"end":{"line":21,"column":32}},"object":{"type":"Identifier","start":857,"end":861,"loc":{"start":{"line":21,"column":23},"end":{"line":21,"column":27}},"name":"Math"},"property":{"type":"Identifier","start":862,"end":866,"loc":{"start":{"line":21,"column":28},"end":{"line":21,"column":32}},"name":"ceil"},"computed":false},"arguments":[{"type":"BinaryExpression","start":867,"end":882,"loc":{"start":{"line":21,"column":33},"end":{"line":21,"column":48}},"left":{"type":"Identifier","start":867,"end":878,"loc":{"start":{"line":21,"column":33},"end":{"line":21,"column":44}},"name":"charsToShow"},"operator":"/","right":{"type":"Literal","start":881,"end":882,"loc":{"start":{"line":21,"column":47},"end":{"line":21,"column":48}},"value":2,"raw":"2"}}]}}],"kind":"const"},{"type":"VariableDeclaration","start":888,"end":933,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":49}},"declarations":[{"type":"VariableDeclarator","start":894,"end":933,"loc":{"start":{"line":22,"column":10},"end":{"line":22,"column":49}},"id":{"type":"Identifier","start":894,"end":903,"loc":{"start":{"line":22,"column":10},"end":{"line":22,"column":19}},"name":"backChars"},"init":{"type":"CallExpression","start":906,"end":933,"loc":{"start":{"line":22,"column":22},"end":{"line":22,"column":49}},"callee":{"type":"MemberExpression","start":906,"end":916,"loc":{"start":{"line":22,"column":22},"end":{"line":22,"column":32}},"object":{"type":"Identifier","start":906,"end":910,"loc":{"start":{"line":22,"column":22},"end":{"line":22,"column":26}},"name":"Math"},"property":{"type":"Identifier","start":911,"end":916,"loc":{"start":{"line":22,"column":27},"end":{"line":22,"column":32}},"name":"floor"},"computed":false},"arguments":[{"type":"BinaryExpression","start":917,"end":932,"loc":{"start":{"line":22,"column":33},"end":{"line":22,"column":48}},"left":{"type":"Identifier","start":917,"end":928,"loc":{"start":{"line":22,"column":33},"end":{"line":22,"column":44}},"name":"charsToShow"},"operator":"/","right":{"type":"Literal","start":931,"end":932,"loc":{"start":{"line":22,"column":47},"end":{"line":22,"column":48}},"value":2,"raw":"2"}}]}}],"kind":"const"},{"type":"ReturnStatement","start":939,"end":1029,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":94}},"argument":{"type":"BinaryExpression","start":946,"end":1029,"loc":{"start":{"line":24,"column":11},"end":{"line":24,"column":94}},"left":{"type":"BinaryExpression","start":946,"end":986,"loc":{"start":{"line":24,"column":11},"end":{"line":24,"column":51}},"left":{"type":"CallExpression","start":946,"end":974,"loc":{"start":{"line":24,"column":11},"end":{"line":24,"column":39}},"callee":{"type":"MemberExpression","start":946,"end":959,"loc":{"start":{"line":24,"column":11},"end":{"line":24,"column":24}},"object":{"type":"Identifier","start":946,"end":952,"loc":{"start":{"line":24,"column":11},"end":{"line":24,"column":17}},"name":"string"},"property":{"type":"Identifier","start":953,"end":959,"loc":{"start":{"line":24,"column":18},"end":{"line":24,"column":24}},"name":"substr"},"computed":false},"arguments":[{"type":"Literal","start":960,"end":961,"loc":{"start":{"line":24,"column":25},"end":{"line":24,"column":26}},"value":0,"raw":"0"},{"type":"Identifier","start":963,"end":973,"loc":{"start":{"line":24,"column":28},"end":{"line":24,"column":38}},"name":"frontChars"}]},"operator":"+","right":{"type":"Identifier","start":977,"end":986,"loc":{"start":{"line":24,"column":42},"end":{"line":24,"column":51}},"name":"separator"}},"operator":"+","right":{"type":"CallExpression","start":989,"end":1029,"loc":{"start":{"line":24,"column":54},"end":{"line":24,"column":94}},"callee":{"type":"MemberExpression","start":989,"end":1002,"loc":{"start":{"line":24,"column":54},"end":{"line":24,"column":67}},"object":{"type":"Identifier","start":989,"end":995,"loc":{"start":{"line":24,"column":54},"end":{"line":24,"column":60}},"name":"string"},"property":{"type":"Identifier","start":996,"end":1002,"loc":{"start":{"line":24,"column":61},"end":{"line":24,"column":67}},"name":"substr"},"computed":false},"arguments":[{"type":"BinaryExpression","start":1003,"end":1028,"loc":{"start":{"line":24,"column":68},"end":{"line":24,"column":93}},"left":{"type":"MemberExpression","start":1003,"end":1016,"loc":{"start":{"line":24,"column":68},"end":{"line":24,"column":81}},"object":{"type":"Identifier","start":1003,"end":1009,"loc":{"start":{"line":24,"column":68},"end":{"line":24,"column":74}},"name":"string"},"property":{"type":"Identifier","start":1010,"end":1016,"loc":{"start":{"line":24,"column":75},"end":{"line":24,"column":81}},"name":"length"},"computed":false},"operator":"-","right":{"type":"Identifier","start":1019,"end":1028,"loc":{"start":{"line":24,"column":84},"end":{"line":24,"column":93}},"name":"backChars"}}]}}}]}},"comments":[{"type":"Line","value":" Return original string if it's already shorter than maxLength","start":424,"end":488,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":66}}}]}]}}}}],"sourceType":"script","comments":[{"type":"Block","value":"*\n * Truncates a string to the given number of chars (maxLength) by inserting '...' in the middle of that string.\n * Partially taken from https://stackoverflow.com/a/5723274/3192470.\n *\n * @param {string} string - string to be truncated\n * @param {number} maxLength - maximum size of the resulting string\n * @returns {string}\n ","start":0,"end":331,"loc":{"start":{"line":1,"column":0},"end":{"line":8,"column":3}}}]}