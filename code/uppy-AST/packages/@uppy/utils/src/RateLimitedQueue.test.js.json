{"type":"Program","start":0,"end":1384,"loc":{"start":{"line":1,"column":0},"end":{"line":60,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":54,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"declarations":[{"type":"VariableDeclarator","start":6,"end":54,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":54}},"id":{"type":"Identifier","start":6,"end":22,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":22}},"name":"RateLimitedQueue"},"init":{"type":"CallExpression","start":25,"end":54,"loc":{"start":{"line":1,"column":25},"end":{"line":1,"column":54}},"callee":{"type":"Identifier","start":25,"end":32,"loc":{"start":{"line":1,"column":25},"end":{"line":1,"column":32}},"name":"require"},"arguments":[{"type":"Literal","start":33,"end":53,"loc":{"start":{"line":1,"column":33},"end":{"line":1,"column":53}},"value":"./RateLimitedQueue","raw":"'./RateLimitedQueue'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":56,"end":123,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":67}},"declarations":[{"type":"VariableDeclarator","start":62,"end":123,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":67}},"id":{"type":"Identifier","start":62,"end":67,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":11}},"name":"delay"},"init":{"type":"ArrowFunctionExpression","start":70,"end":123,"loc":{"start":{"line":3,"column":14},"end":{"line":3,"column":67}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":70,"end":72,"loc":{"start":{"line":3,"column":14},"end":{"line":3,"column":16}},"name":"ms"}],"body":{"type":"NewExpression","start":76,"end":123,"loc":{"start":{"line":3,"column":20},"end":{"line":3,"column":67}},"callee":{"type":"Identifier","start":80,"end":87,"loc":{"start":{"line":3,"column":24},"end":{"line":3,"column":31}},"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":88,"end":122,"loc":{"start":{"line":3,"column":32},"end":{"line":3,"column":66}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":88,"end":95,"loc":{"start":{"line":3,"column":32},"end":{"line":3,"column":39}},"name":"resolve"}],"body":{"type":"CallExpression","start":99,"end":122,"loc":{"start":{"line":3,"column":43},"end":{"line":3,"column":66}},"callee":{"type":"Identifier","start":99,"end":109,"loc":{"start":{"line":3,"column":43},"end":{"line":3,"column":53}},"name":"setTimeout"},"arguments":[{"type":"Identifier","start":110,"end":117,"loc":{"start":{"line":3,"column":54},"end":{"line":3,"column":61}},"name":"resolve"},{"type":"Identifier","start":119,"end":121,"loc":{"start":{"line":3,"column":63},"end":{"line":3,"column":65}},"name":"ms"}]}}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":125,"end":1383,"loc":{"start":{"line":5,"column":0},"end":{"line":59,"column":2}},"expression":{"type":"CallExpression","start":125,"end":1383,"loc":{"start":{"line":5,"column":0},"end":{"line":59,"column":2}},"callee":{"type":"Identifier","start":125,"end":133,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":8}},"name":"describe"},"arguments":[{"type":"Literal","start":134,"end":152,"loc":{"start":{"line":5,"column":9},"end":{"line":5,"column":27}},"value":"RateLimitedQueue","raw":"'RateLimitedQueue'"},{"type":"ArrowFunctionExpression","start":154,"end":1382,"loc":{"start":{"line":5,"column":29},"end":{"line":59,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":160,"end":1382,"loc":{"start":{"line":5,"column":35},"end":{"line":59,"column":1}},"body":[{"type":"VariableDeclaration","start":164,"end":179,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":17}},"declarations":[{"type":"VariableDeclarator","start":168,"end":179,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":17}},"id":{"type":"Identifier","start":168,"end":175,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":13}},"name":"pending"},"init":{"type":"Literal","start":178,"end":179,"loc":{"start":{"line":6,"column":16},"end":{"line":6,"column":17}},"value":0,"raw":"0"}}],"kind":"let"},{"type":"FunctionDeclaration","start":182,"end":259,"loc":{"start":{"line":7,"column":2},"end":{"line":10,"column":3}},"id":{"type":"Identifier","start":191,"end":193,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":13}},"name":"fn"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":197,"end":259,"loc":{"start":{"line":7,"column":17},"end":{"line":10,"column":3}},"body":[{"type":"ExpressionStatement","start":203,"end":212,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":13}},"expression":{"type":"UpdateExpression","start":203,"end":212,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":13}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":203,"end":210,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":11}},"name":"pending"}}},{"type":"ReturnStatement","start":217,"end":255,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":42}},"argument":{"type":"CallExpression","start":224,"end":255,"loc":{"start":{"line":9,"column":11},"end":{"line":9,"column":42}},"callee":{"type":"MemberExpression","start":224,"end":238,"loc":{"start":{"line":9,"column":11},"end":{"line":9,"column":25}},"object":{"type":"CallExpression","start":224,"end":233,"loc":{"start":{"line":9,"column":11},"end":{"line":9,"column":20}},"callee":{"type":"Identifier","start":224,"end":229,"loc":{"start":{"line":9,"column":11},"end":{"line":9,"column":16}},"name":"delay"},"arguments":[{"type":"Literal","start":230,"end":232,"loc":{"start":{"line":9,"column":17},"end":{"line":9,"column":19}},"value":15,"raw":"15"}]},"property":{"type":"Identifier","start":234,"end":238,"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":25}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":239,"end":254,"loc":{"start":{"line":9,"column":26},"end":{"line":9,"column":41}},"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"UpdateExpression","start":245,"end":254,"loc":{"start":{"line":9,"column":32},"end":{"line":9,"column":41}},"operator":"--","prefix":false,"argument":{"type":"Identifier","start":245,"end":252,"loc":{"start":{"line":9,"column":32},"end":{"line":9,"column":39}},"name":"pending"}}}]}}]}},{"type":"ExpressionStatement","start":263,"end":674,"loc":{"start":{"line":12,"column":2},"end":{"line":29,"column":4}},"expression":{"type":"CallExpression","start":263,"end":674,"loc":{"start":{"line":12,"column":2},"end":{"line":29,"column":4}},"callee":{"type":"Identifier","start":263,"end":265,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":266,"end":314,"loc":{"start":{"line":12,"column":5},"end":{"line":12,"column":53}},"value":"should run at most N promises at the same time","raw":"'should run at most N promises at the same time'"},{"type":"ArrowFunctionExpression","start":316,"end":673,"loc":{"start":{"line":12,"column":55},"end":{"line":29,"column":3}},"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":328,"end":673,"loc":{"start":{"line":12,"column":67},"end":{"line":29,"column":3}},"body":[{"type":"VariableDeclaration","start":334,"end":371,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":41}},"declarations":[{"type":"VariableDeclarator","start":340,"end":371,"loc":{"start":{"line":13,"column":10},"end":{"line":13,"column":41}},"id":{"type":"Identifier","start":340,"end":345,"loc":{"start":{"line":13,"column":10},"end":{"line":13,"column":15}},"name":"queue"},"init":{"type":"NewExpression","start":348,"end":371,"loc":{"start":{"line":13,"column":18},"end":{"line":13,"column":41}},"callee":{"type":"Identifier","start":352,"end":368,"loc":{"start":{"line":13,"column":22},"end":{"line":13,"column":38}},"name":"RateLimitedQueue"},"arguments":[{"type":"Literal","start":369,"end":370,"loc":{"start":{"line":13,"column":39},"end":{"line":13,"column":40}},"value":4,"raw":"4"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":376,"end":417,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":45}},"declarations":[{"type":"VariableDeclarator","start":382,"end":417,"loc":{"start":{"line":14,"column":10},"end":{"line":14,"column":45}},"id":{"type":"Identifier","start":382,"end":385,"loc":{"start":{"line":14,"column":10},"end":{"line":14,"column":13}},"name":"fn2"},"init":{"type":"CallExpression","start":388,"end":417,"loc":{"start":{"line":14,"column":16},"end":{"line":14,"column":45}},"callee":{"type":"MemberExpression","start":388,"end":413,"loc":{"start":{"line":14,"column":16},"end":{"line":14,"column":41}},"object":{"type":"Identifier","start":388,"end":393,"loc":{"start":{"line":14,"column":16},"end":{"line":14,"column":21}},"name":"queue"},"property":{"type":"Identifier","start":394,"end":413,"loc":{"start":{"line":14,"column":22},"end":{"line":14,"column":41}},"name":"wrapPromiseFunction"},"computed":false},"arguments":[{"type":"Identifier","start":414,"end":416,"loc":{"start":{"line":14,"column":42},"end":{"line":14,"column":44}},"name":"fn"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":423,"end":545,"loc":{"start":{"line":16,"column":4},"end":{"line":20,"column":6}},"declarations":[{"type":"VariableDeclarator","start":429,"end":545,"loc":{"start":{"line":16,"column":10},"end":{"line":20,"column":6}},"id":{"type":"Identifier","start":429,"end":435,"loc":{"start":{"line":16,"column":10},"end":{"line":16,"column":16}},"name":"result"},"init":{"type":"CallExpression","start":438,"end":545,"loc":{"start":{"line":16,"column":19},"end":{"line":20,"column":6}},"callee":{"type":"MemberExpression","start":438,"end":449,"loc":{"start":{"line":16,"column":19},"end":{"line":16,"column":30}},"object":{"type":"Identifier","start":438,"end":445,"loc":{"start":{"line":16,"column":19},"end":{"line":16,"column":26}},"name":"Promise"},"property":{"type":"Identifier","start":446,"end":449,"loc":{"start":{"line":16,"column":27},"end":{"line":16,"column":30}},"name":"all"},"computed":false},"arguments":[{"type":"ArrayExpression","start":450,"end":544,"loc":{"start":{"line":16,"column":31},"end":{"line":20,"column":5}},"elements":[{"type":"CallExpression","start":458,"end":463,"loc":{"start":{"line":17,"column":6},"end":{"line":17,"column":11}},"callee":{"type":"Identifier","start":458,"end":461,"loc":{"start":{"line":17,"column":6},"end":{"line":17,"column":9}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":465,"end":470,"loc":{"start":{"line":17,"column":13},"end":{"line":17,"column":18}},"callee":{"type":"Identifier","start":465,"end":468,"loc":{"start":{"line":17,"column":13},"end":{"line":17,"column":16}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":472,"end":477,"loc":{"start":{"line":17,"column":20},"end":{"line":17,"column":25}},"callee":{"type":"Identifier","start":472,"end":475,"loc":{"start":{"line":17,"column":20},"end":{"line":17,"column":23}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":479,"end":484,"loc":{"start":{"line":17,"column":27},"end":{"line":17,"column":32}},"callee":{"type":"Identifier","start":479,"end":482,"loc":{"start":{"line":17,"column":27},"end":{"line":17,"column":30}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":492,"end":497,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":11}},"callee":{"type":"Identifier","start":492,"end":495,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":9}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":499,"end":504,"loc":{"start":{"line":18,"column":13},"end":{"line":18,"column":18}},"callee":{"type":"Identifier","start":499,"end":502,"loc":{"start":{"line":18,"column":13},"end":{"line":18,"column":16}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":506,"end":511,"loc":{"start":{"line":18,"column":20},"end":{"line":18,"column":25}},"callee":{"type":"Identifier","start":506,"end":509,"loc":{"start":{"line":18,"column":20},"end":{"line":18,"column":23}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":513,"end":518,"loc":{"start":{"line":18,"column":27},"end":{"line":18,"column":32}},"callee":{"type":"Identifier","start":513,"end":516,"loc":{"start":{"line":18,"column":27},"end":{"line":18,"column":30}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":526,"end":531,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":11}},"callee":{"type":"Identifier","start":526,"end":529,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":9}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":533,"end":538,"loc":{"start":{"line":19,"column":13},"end":{"line":19,"column":18}},"callee":{"type":"Identifier","start":533,"end":536,"loc":{"start":{"line":19,"column":13},"end":{"line":19,"column":16}},"name":"fn2"},"arguments":[]}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":551,"end":574,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":27}},"expression":{"type":"CallExpression","start":551,"end":574,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":27}},"callee":{"type":"MemberExpression","start":551,"end":571,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":24}},"object":{"type":"CallExpression","start":551,"end":566,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":19}},"callee":{"type":"Identifier","start":551,"end":557,"loc":{"start":{"line":22,"column":4},"end":{"line":22,"column":10}},"name":"expect"},"arguments":[{"type":"Identifier","start":558,"end":565,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":18}},"name":"pending"}]},"property":{"type":"Identifier","start":567,"end":571,"loc":{"start":{"line":22,"column":20},"end":{"line":22,"column":24}},"name":"toBe"},"computed":false},"arguments":[{"type":"Literal","start":572,"end":573,"loc":{"start":{"line":22,"column":25},"end":{"line":22,"column":26}},"value":4,"raw":"4"}]}},{"type":"ExpressionStatement","start":580,"end":595,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":19}},"expression":{"type":"AwaitExpression","start":580,"end":595,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":19}},"argument":{"type":"CallExpression","start":586,"end":595,"loc":{"start":{"line":24,"column":10},"end":{"line":24,"column":19}},"callee":{"type":"Identifier","start":586,"end":591,"loc":{"start":{"line":24,"column":10},"end":{"line":24,"column":15}},"name":"delay"},"arguments":[{"type":"Literal","start":592,"end":594,"loc":{"start":{"line":24,"column":16},"end":{"line":24,"column":18}},"value":10,"raw":"10"}]}}},{"type":"ExpressionStatement","start":600,"end":623,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":27}},"expression":{"type":"CallExpression","start":600,"end":623,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":27}},"callee":{"type":"MemberExpression","start":600,"end":620,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":24}},"object":{"type":"CallExpression","start":600,"end":615,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":19}},"callee":{"type":"Identifier","start":600,"end":606,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":10}},"name":"expect"},"arguments":[{"type":"Identifier","start":607,"end":614,"loc":{"start":{"line":25,"column":11},"end":{"line":25,"column":18}},"name":"pending"}]},"property":{"type":"Identifier","start":616,"end":620,"loc":{"start":{"line":25,"column":20},"end":{"line":25,"column":24}},"name":"toBe"},"computed":false},"arguments":[{"type":"Literal","start":621,"end":622,"loc":{"start":{"line":25,"column":25},"end":{"line":25,"column":26}},"value":4,"raw":"4"}]}},{"type":"ExpressionStatement","start":629,"end":641,"loc":{"start":{"line":27,"column":4},"end":{"line":27,"column":16}},"expression":{"type":"AwaitExpression","start":629,"end":641,"loc":{"start":{"line":27,"column":4},"end":{"line":27,"column":16}},"argument":{"type":"Identifier","start":635,"end":641,"loc":{"start":{"line":27,"column":10},"end":{"line":27,"column":16}},"name":"result"}}},{"type":"ExpressionStatement","start":646,"end":669,"loc":{"start":{"line":28,"column":4},"end":{"line":28,"column":27}},"expression":{"type":"CallExpression","start":646,"end":669,"loc":{"start":{"line":28,"column":4},"end":{"line":28,"column":27}},"callee":{"type":"MemberExpression","start":646,"end":666,"loc":{"start":{"line":28,"column":4},"end":{"line":28,"column":24}},"object":{"type":"CallExpression","start":646,"end":661,"loc":{"start":{"line":28,"column":4},"end":{"line":28,"column":19}},"callee":{"type":"Identifier","start":646,"end":652,"loc":{"start":{"line":28,"column":4},"end":{"line":28,"column":10}},"name":"expect"},"arguments":[{"type":"Identifier","start":653,"end":660,"loc":{"start":{"line":28,"column":11},"end":{"line":28,"column":18}},"name":"pending"}]},"property":{"type":"Identifier","start":662,"end":666,"loc":{"start":{"line":28,"column":20},"end":{"line":28,"column":24}},"name":"toBe"},"computed":false},"arguments":[{"type":"Literal","start":667,"end":668,"loc":{"start":{"line":28,"column":25},"end":{"line":28,"column":26}},"value":0,"raw":"0"}]}}]}}]}},{"type":"ExpressionStatement","start":678,"end":1050,"loc":{"start":{"line":31,"column":2},"end":{"line":46,"column":4}},"expression":{"type":"CallExpression","start":678,"end":1050,"loc":{"start":{"line":31,"column":2},"end":{"line":46,"column":4}},"callee":{"type":"Identifier","start":678,"end":680,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":681,"end":714,"loc":{"start":{"line":31,"column":5},"end":{"line":31,"column":38}},"value":"should accept Infinity as limit","raw":"'should accept Infinity as limit'"},{"type":"ArrowFunctionExpression","start":716,"end":1049,"loc":{"start":{"line":31,"column":40},"end":{"line":46,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":722,"end":1049,"loc":{"start":{"line":31,"column":46},"end":{"line":46,"column":3}},"body":[{"type":"VariableDeclaration","start":728,"end":772,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":48}},"declarations":[{"type":"VariableDeclarator","start":734,"end":772,"loc":{"start":{"line":32,"column":10},"end":{"line":32,"column":48}},"id":{"type":"Identifier","start":734,"end":739,"loc":{"start":{"line":32,"column":10},"end":{"line":32,"column":15}},"name":"queue"},"init":{"type":"NewExpression","start":742,"end":772,"loc":{"start":{"line":32,"column":18},"end":{"line":32,"column":48}},"callee":{"type":"Identifier","start":746,"end":762,"loc":{"start":{"line":32,"column":22},"end":{"line":32,"column":38}},"name":"RateLimitedQueue"},"arguments":[{"type":"Identifier","start":763,"end":771,"loc":{"start":{"line":32,"column":39},"end":{"line":32,"column":47}},"name":"Infinity"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":777,"end":818,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":45}},"declarations":[{"type":"VariableDeclarator","start":783,"end":818,"loc":{"start":{"line":33,"column":10},"end":{"line":33,"column":45}},"id":{"type":"Identifier","start":783,"end":786,"loc":{"start":{"line":33,"column":10},"end":{"line":33,"column":13}},"name":"fn2"},"init":{"type":"CallExpression","start":789,"end":818,"loc":{"start":{"line":33,"column":16},"end":{"line":33,"column":45}},"callee":{"type":"MemberExpression","start":789,"end":814,"loc":{"start":{"line":33,"column":16},"end":{"line":33,"column":41}},"object":{"type":"Identifier","start":789,"end":794,"loc":{"start":{"line":33,"column":16},"end":{"line":33,"column":21}},"name":"queue"},"property":{"type":"Identifier","start":795,"end":814,"loc":{"start":{"line":33,"column":22},"end":{"line":33,"column":41}},"name":"wrapPromiseFunction"},"computed":false},"arguments":[{"type":"Identifier","start":815,"end":817,"loc":{"start":{"line":33,"column":42},"end":{"line":33,"column":44}},"name":"fn"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":824,"end":946,"loc":{"start":{"line":35,"column":4},"end":{"line":39,"column":6}},"declarations":[{"type":"VariableDeclarator","start":830,"end":946,"loc":{"start":{"line":35,"column":10},"end":{"line":39,"column":6}},"id":{"type":"Identifier","start":830,"end":836,"loc":{"start":{"line":35,"column":10},"end":{"line":35,"column":16}},"name":"result"},"init":{"type":"CallExpression","start":839,"end":946,"loc":{"start":{"line":35,"column":19},"end":{"line":39,"column":6}},"callee":{"type":"MemberExpression","start":839,"end":850,"loc":{"start":{"line":35,"column":19},"end":{"line":35,"column":30}},"object":{"type":"Identifier","start":839,"end":846,"loc":{"start":{"line":35,"column":19},"end":{"line":35,"column":26}},"name":"Promise"},"property":{"type":"Identifier","start":847,"end":850,"loc":{"start":{"line":35,"column":27},"end":{"line":35,"column":30}},"name":"all"},"computed":false},"arguments":[{"type":"ArrayExpression","start":851,"end":945,"loc":{"start":{"line":35,"column":31},"end":{"line":39,"column":5}},"elements":[{"type":"CallExpression","start":859,"end":864,"loc":{"start":{"line":36,"column":6},"end":{"line":36,"column":11}},"callee":{"type":"Identifier","start":859,"end":862,"loc":{"start":{"line":36,"column":6},"end":{"line":36,"column":9}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":866,"end":871,"loc":{"start":{"line":36,"column":13},"end":{"line":36,"column":18}},"callee":{"type":"Identifier","start":866,"end":869,"loc":{"start":{"line":36,"column":13},"end":{"line":36,"column":16}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":873,"end":878,"loc":{"start":{"line":36,"column":20},"end":{"line":36,"column":25}},"callee":{"type":"Identifier","start":873,"end":876,"loc":{"start":{"line":36,"column":20},"end":{"line":36,"column":23}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":880,"end":885,"loc":{"start":{"line":36,"column":27},"end":{"line":36,"column":32}},"callee":{"type":"Identifier","start":880,"end":883,"loc":{"start":{"line":36,"column":27},"end":{"line":36,"column":30}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":893,"end":898,"loc":{"start":{"line":37,"column":6},"end":{"line":37,"column":11}},"callee":{"type":"Identifier","start":893,"end":896,"loc":{"start":{"line":37,"column":6},"end":{"line":37,"column":9}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":900,"end":905,"loc":{"start":{"line":37,"column":13},"end":{"line":37,"column":18}},"callee":{"type":"Identifier","start":900,"end":903,"loc":{"start":{"line":37,"column":13},"end":{"line":37,"column":16}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":907,"end":912,"loc":{"start":{"line":37,"column":20},"end":{"line":37,"column":25}},"callee":{"type":"Identifier","start":907,"end":910,"loc":{"start":{"line":37,"column":20},"end":{"line":37,"column":23}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":914,"end":919,"loc":{"start":{"line":37,"column":27},"end":{"line":37,"column":32}},"callee":{"type":"Identifier","start":914,"end":917,"loc":{"start":{"line":37,"column":27},"end":{"line":37,"column":30}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":927,"end":932,"loc":{"start":{"line":38,"column":6},"end":{"line":38,"column":11}},"callee":{"type":"Identifier","start":927,"end":930,"loc":{"start":{"line":38,"column":6},"end":{"line":38,"column":9}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":934,"end":939,"loc":{"start":{"line":38,"column":13},"end":{"line":38,"column":18}},"callee":{"type":"Identifier","start":934,"end":937,"loc":{"start":{"line":38,"column":13},"end":{"line":38,"column":16}},"name":"fn2"},"arguments":[]}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":952,"end":976,"loc":{"start":{"line":41,"column":4},"end":{"line":41,"column":28}},"expression":{"type":"CallExpression","start":952,"end":976,"loc":{"start":{"line":41,"column":4},"end":{"line":41,"column":28}},"callee":{"type":"MemberExpression","start":952,"end":972,"loc":{"start":{"line":41,"column":4},"end":{"line":41,"column":24}},"object":{"type":"CallExpression","start":952,"end":967,"loc":{"start":{"line":41,"column":4},"end":{"line":41,"column":19}},"callee":{"type":"Identifier","start":952,"end":958,"loc":{"start":{"line":41,"column":4},"end":{"line":41,"column":10}},"name":"expect"},"arguments":[{"type":"Identifier","start":959,"end":966,"loc":{"start":{"line":41,"column":11},"end":{"line":41,"column":18}},"name":"pending"}]},"property":{"type":"Identifier","start":968,"end":972,"loc":{"start":{"line":41,"column":20},"end":{"line":41,"column":24}},"name":"toBe"},"computed":false},"arguments":[{"type":"Literal","start":973,"end":975,"loc":{"start":{"line":41,"column":25},"end":{"line":41,"column":27}},"value":10,"raw":"10"}]}},{"type":"ReturnStatement","start":982,"end":1045,"loc":{"start":{"line":43,"column":4},"end":{"line":45,"column":6}},"argument":{"type":"CallExpression","start":989,"end":1045,"loc":{"start":{"line":43,"column":11},"end":{"line":45,"column":6}},"callee":{"type":"MemberExpression","start":989,"end":1000,"loc":{"start":{"line":43,"column":11},"end":{"line":43,"column":22}},"object":{"type":"Identifier","start":989,"end":995,"loc":{"start":{"line":43,"column":11},"end":{"line":43,"column":17}},"name":"result"},"property":{"type":"Identifier","start":996,"end":1000,"loc":{"start":{"line":43,"column":18},"end":{"line":43,"column":22}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1001,"end":1044,"loc":{"start":{"line":43,"column":23},"end":{"line":45,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1007,"end":1044,"loc":{"start":{"line":43,"column":29},"end":{"line":45,"column":5}},"body":[{"type":"ExpressionStatement","start":1015,"end":1038,"loc":{"start":{"line":44,"column":6},"end":{"line":44,"column":29}},"expression":{"type":"CallExpression","start":1015,"end":1038,"loc":{"start":{"line":44,"column":6},"end":{"line":44,"column":29}},"callee":{"type":"MemberExpression","start":1015,"end":1035,"loc":{"start":{"line":44,"column":6},"end":{"line":44,"column":26}},"object":{"type":"CallExpression","start":1015,"end":1030,"loc":{"start":{"line":44,"column":6},"end":{"line":44,"column":21}},"callee":{"type":"Identifier","start":1015,"end":1021,"loc":{"start":{"line":44,"column":6},"end":{"line":44,"column":12}},"name":"expect"},"arguments":[{"type":"Identifier","start":1022,"end":1029,"loc":{"start":{"line":44,"column":13},"end":{"line":44,"column":20}},"name":"pending"}]},"property":{"type":"Identifier","start":1031,"end":1035,"loc":{"start":{"line":44,"column":22},"end":{"line":44,"column":26}},"name":"toBe"},"computed":false},"arguments":[{"type":"Literal","start":1036,"end":1037,"loc":{"start":{"line":44,"column":27},"end":{"line":44,"column":28}},"value":0,"raw":"0"}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":1054,"end":1380,"loc":{"start":{"line":48,"column":2},"end":{"line":58,"column":4}},"expression":{"type":"CallExpression","start":1054,"end":1380,"loc":{"start":{"line":48,"column":2},"end":{"line":58,"column":4}},"callee":{"type":"Identifier","start":1054,"end":1056,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":1057,"end":1118,"loc":{"start":{"line":48,"column":5},"end":{"line":48,"column":66}},"value":"should accept non-promise function in wrapPromiseFunction()","raw":"'should accept non-promise function in wrapPromiseFunction()'"},{"type":"ArrowFunctionExpression","start":1120,"end":1379,"loc":{"start":{"line":48,"column":68},"end":{"line":58,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1126,"end":1379,"loc":{"start":{"line":48,"column":74},"end":{"line":58,"column":3}},"body":[{"type":"VariableDeclaration","start":1132,"end":1169,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":41}},"declarations":[{"type":"VariableDeclarator","start":1138,"end":1169,"loc":{"start":{"line":49,"column":10},"end":{"line":49,"column":41}},"id":{"type":"Identifier","start":1138,"end":1143,"loc":{"start":{"line":49,"column":10},"end":{"line":49,"column":15}},"name":"queue"},"init":{"type":"NewExpression","start":1146,"end":1169,"loc":{"start":{"line":49,"column":18},"end":{"line":49,"column":41}},"callee":{"type":"Identifier","start":1150,"end":1166,"loc":{"start":{"line":49,"column":22},"end":{"line":49,"column":38}},"name":"RateLimitedQueue"},"arguments":[{"type":"Literal","start":1167,"end":1168,"loc":{"start":{"line":49,"column":39},"end":{"line":49,"column":40}},"value":1,"raw":"1"}]}}],"kind":"const"},{"type":"FunctionDeclaration","start":1174,"end":1205,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":35}},"id":{"type":"Identifier","start":1183,"end":1189,"loc":{"start":{"line":50,"column":13},"end":{"line":50,"column":19}},"name":"syncFn"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1193,"end":1205,"loc":{"start":{"line":50,"column":23},"end":{"line":50,"column":35}},"body":[{"type":"ReturnStatement","start":1195,"end":1203,"loc":{"start":{"line":50,"column":25},"end":{"line":50,"column":33}},"argument":{"type":"Literal","start":1202,"end":1203,"loc":{"start":{"line":50,"column":32},"end":{"line":50,"column":33}},"value":1,"raw":"1"}}]}},{"type":"VariableDeclaration","start":1210,"end":1255,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":49}},"declarations":[{"type":"VariableDeclarator","start":1216,"end":1255,"loc":{"start":{"line":51,"column":10},"end":{"line":51,"column":49}},"id":{"type":"Identifier","start":1216,"end":1219,"loc":{"start":{"line":51,"column":10},"end":{"line":51,"column":13}},"name":"fn2"},"init":{"type":"CallExpression","start":1222,"end":1255,"loc":{"start":{"line":51,"column":16},"end":{"line":51,"column":49}},"callee":{"type":"MemberExpression","start":1222,"end":1247,"loc":{"start":{"line":51,"column":16},"end":{"line":51,"column":41}},"object":{"type":"Identifier","start":1222,"end":1227,"loc":{"start":{"line":51,"column":16},"end":{"line":51,"column":21}},"name":"queue"},"property":{"type":"Identifier","start":1228,"end":1247,"loc":{"start":{"line":51,"column":22},"end":{"line":51,"column":41}},"name":"wrapPromiseFunction"},"computed":false},"arguments":[{"type":"Identifier","start":1248,"end":1254,"loc":{"start":{"line":51,"column":42},"end":{"line":51,"column":48}},"name":"syncFn"}]}}],"kind":"const"},{"type":"ReturnStatement","start":1261,"end":1375,"loc":{"start":{"line":53,"column":4},"end":{"line":57,"column":6}},"argument":{"type":"CallExpression","start":1268,"end":1375,"loc":{"start":{"line":53,"column":11},"end":{"line":57,"column":6}},"callee":{"type":"MemberExpression","start":1268,"end":1279,"loc":{"start":{"line":53,"column":11},"end":{"line":53,"column":22}},"object":{"type":"Identifier","start":1268,"end":1275,"loc":{"start":{"line":53,"column":11},"end":{"line":53,"column":18}},"name":"Promise"},"property":{"type":"Identifier","start":1276,"end":1279,"loc":{"start":{"line":53,"column":19},"end":{"line":53,"column":22}},"name":"all"},"computed":false},"arguments":[{"type":"ArrayExpression","start":1280,"end":1374,"loc":{"start":{"line":53,"column":23},"end":{"line":57,"column":5}},"elements":[{"type":"CallExpression","start":1288,"end":1293,"loc":{"start":{"line":54,"column":6},"end":{"line":54,"column":11}},"callee":{"type":"Identifier","start":1288,"end":1291,"loc":{"start":{"line":54,"column":6},"end":{"line":54,"column":9}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":1295,"end":1300,"loc":{"start":{"line":54,"column":13},"end":{"line":54,"column":18}},"callee":{"type":"Identifier","start":1295,"end":1298,"loc":{"start":{"line":54,"column":13},"end":{"line":54,"column":16}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":1302,"end":1307,"loc":{"start":{"line":54,"column":20},"end":{"line":54,"column":25}},"callee":{"type":"Identifier","start":1302,"end":1305,"loc":{"start":{"line":54,"column":20},"end":{"line":54,"column":23}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":1309,"end":1314,"loc":{"start":{"line":54,"column":27},"end":{"line":54,"column":32}},"callee":{"type":"Identifier","start":1309,"end":1312,"loc":{"start":{"line":54,"column":27},"end":{"line":54,"column":30}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":1322,"end":1327,"loc":{"start":{"line":55,"column":6},"end":{"line":55,"column":11}},"callee":{"type":"Identifier","start":1322,"end":1325,"loc":{"start":{"line":55,"column":6},"end":{"line":55,"column":9}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":1329,"end":1334,"loc":{"start":{"line":55,"column":13},"end":{"line":55,"column":18}},"callee":{"type":"Identifier","start":1329,"end":1332,"loc":{"start":{"line":55,"column":13},"end":{"line":55,"column":16}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":1336,"end":1341,"loc":{"start":{"line":55,"column":20},"end":{"line":55,"column":25}},"callee":{"type":"Identifier","start":1336,"end":1339,"loc":{"start":{"line":55,"column":20},"end":{"line":55,"column":23}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":1343,"end":1348,"loc":{"start":{"line":55,"column":27},"end":{"line":55,"column":32}},"callee":{"type":"Identifier","start":1343,"end":1346,"loc":{"start":{"line":55,"column":27},"end":{"line":55,"column":30}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":1356,"end":1361,"loc":{"start":{"line":56,"column":6},"end":{"line":56,"column":11}},"callee":{"type":"Identifier","start":1356,"end":1359,"loc":{"start":{"line":56,"column":6},"end":{"line":56,"column":9}},"name":"fn2"},"arguments":[]},{"type":"CallExpression","start":1363,"end":1368,"loc":{"start":{"line":56,"column":13},"end":{"line":56,"column":18}},"callee":{"type":"Identifier","start":1363,"end":1366,"loc":{"start":{"line":56,"column":13},"end":{"line":56,"column":16}},"name":"fn2"},"arguments":[]}]}]}}]}}]}}]}}]}}],"sourceType":"script"}