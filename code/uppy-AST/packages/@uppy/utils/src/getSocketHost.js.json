{"type":"Program","start":0,"end":280,"body":[{"type":"ExpressionStatement","start":0,"end":279,"expression":{"type":"AssignmentExpression","start":0,"end":279,"operator":"=","left":{"type":"MemberExpression","start":0,"end":14,"object":{"type":"Identifier","start":0,"end":6,"name":"module"},"property":{"type":"Identifier","start":7,"end":14,"name":"exports"},"computed":false},"right":{"type":"FunctionExpression","start":17,"end":279,"id":{"type":"Identifier","start":26,"end":39,"name":"getSocketHost"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":41,"end":44,"name":"url"}],"body":{"type":"BlockStatement","start":46,"end":279,"body":[{"type":"VariableDeclaration","start":75,"end":143,"declarations":[{"type":"VariableDeclarator","start":79,"end":143,"id":{"type":"Identifier","start":79,"end":84,"name":"regex"},"init":{"type":"Literal","start":87,"end":143,"value":{},"raw":"/^(?:https?:\\/\\/|\\/\\/)?(?:[^@\\n]+@)?(?:www\\.)?([^\\n]+)/i","regex":{"pattern":"^(?:https?:\\/\\/|\\/\\/)?(?:[^@\\n]+@)?(?:www\\.)?([^\\n]+)","flags":"i"}}}],"kind":"var"},{"type":"VariableDeclaration","start":146,"end":175,"declarations":[{"type":"VariableDeclarator","start":150,"end":175,"id":{"type":"Identifier","start":150,"end":154,"name":"host"},"init":{"type":"MemberExpression","start":157,"end":175,"object":{"type":"CallExpression","start":157,"end":172,"callee":{"type":"MemberExpression","start":157,"end":167,"object":{"type":"Identifier","start":157,"end":162,"name":"regex"},"property":{"type":"Identifier","start":163,"end":167,"name":"exec"},"computed":false},"arguments":[{"type":"Identifier","start":168,"end":171,"name":"url"}]},"property":{"type":"Literal","start":173,"end":174,"value":1,"raw":"1"},"computed":true}}],"kind":"var"},{"type":"VariableDeclaration","start":178,"end":237,"declarations":[{"type":"VariableDeclarator","start":182,"end":237,"id":{"type":"Identifier","start":182,"end":196,"name":"socketProtocol"},"init":{"type":"ConditionalExpression","start":199,"end":237,"test":{"type":"CallExpression","start":199,"end":222,"callee":{"type":"MemberExpression","start":199,"end":217,"object":{"type":"Literal","start":199,"end":212,"value":{},"raw":"/^http:\\/\\//i","regex":{"pattern":"^http:\\/\\/","flags":"i"}},"property":{"type":"Identifier","start":213,"end":217,"name":"test"},"computed":false},"arguments":[{"type":"Identifier","start":218,"end":221,"name":"url"}]},"consequent":{"type":"Literal","start":225,"end":229,"value":"ws","raw":"'ws'"},"alternate":{"type":"Literal","start":232,"end":237,"value":"wss","raw":"'wss'"}}}],"kind":"var"},{"type":"ReturnStatement","start":241,"end":277,"argument":{"type":"TemplateLiteral","start":248,"end":277,"expressions":[{"type":"Identifier","start":251,"end":265,"name":"socketProtocol"},{"type":"Identifier","start":271,"end":275,"name":"host"}],"quasis":[{"type":"TemplateElement","start":249,"end":249,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":266,"end":269,"value":{"raw":"://","cooked":"://"},"tail":false},{"type":"TemplateElement","start":276,"end":276,"value":{"raw":"","cooked":""},"tail":true}]}}]}}}}],"sourceType":"script"}