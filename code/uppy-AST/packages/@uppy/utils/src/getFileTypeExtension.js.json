{"type":"Program","start":0,"end":860,"loc":{"start":{"line":1,"column":0},"end":{"line":28,"column":0}},"body":[{"type":"VariableDeclaration","start":265,"end":654,"loc":{"start":{"line":5,"column":0},"end":{"line":21,"column":1}},"declarations":[{"type":"VariableDeclarator","start":271,"end":654,"loc":{"start":{"line":5,"column":6},"end":{"line":21,"column":1}},"id":{"type":"Identifier","start":271,"end":287,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":22}},"name":"mimeToExtensions"},"init":{"type":"ObjectExpression","start":290,"end":654,"loc":{"start":{"line":5,"column":25},"end":{"line":21,"column":1}},"properties":[{"type":"Property","start":294,"end":312,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":20}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":294,"end":305,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":13}},"value":"audio/mp3","raw":"'audio/mp3'"},"value":{"type":"Literal","start":307,"end":312,"loc":{"start":{"line":6,"column":15},"end":{"line":6,"column":20}},"value":"mp3","raw":"'mp3'"},"kind":"init"},{"type":"Property","start":316,"end":334,"loc":{"start":{"line":7,"column":2},"end":{"line":7,"column":20}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":316,"end":327,"loc":{"start":{"line":7,"column":2},"end":{"line":7,"column":13}},"value":"audio/ogg","raw":"'audio/ogg'"},"value":{"type":"Literal","start":329,"end":334,"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":20}},"value":"ogg","raw":"'ogg'"},"kind":"init"},{"type":"Property","start":338,"end":358,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":22}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":338,"end":350,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":14}},"value":"audio/webm","raw":"'audio/webm'"},"value":{"type":"Literal","start":352,"end":358,"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":22}},"value":"webm","raw":"'webm'"},"kind":"init"},{"type":"Property","start":362,"end":380,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":20}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":362,"end":373,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":13}},"value":"image/gif","raw":"'image/gif'"},"value":{"type":"Literal","start":375,"end":380,"loc":{"start":{"line":9,"column":15},"end":{"line":9,"column":20}},"value":"gif","raw":"'gif'"},"kind":"init"},{"type":"Property","start":384,"end":404,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":22}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":384,"end":396,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":14}},"value":"image/heic","raw":"'image/heic'"},"value":{"type":"Literal","start":398,"end":404,"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":22}},"value":"heic","raw":"'heic'"},"kind":"init"},{"type":"Property","start":408,"end":428,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":22}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":408,"end":420,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":14}},"value":"image/heif","raw":"'image/heif'"},"value":{"type":"Literal","start":422,"end":428,"loc":{"start":{"line":11,"column":16},"end":{"line":11,"column":22}},"value":"heif","raw":"'heif'"},"kind":"init"},{"type":"Property","start":432,"end":451,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":21}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":432,"end":444,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":14}},"value":"image/jpeg","raw":"'image/jpeg'"},"value":{"type":"Literal","start":446,"end":451,"loc":{"start":{"line":12,"column":16},"end":{"line":12,"column":21}},"value":"jpg","raw":"'jpg'"},"kind":"init"},{"type":"Property","start":455,"end":473,"loc":{"start":{"line":13,"column":2},"end":{"line":13,"column":20}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":455,"end":466,"loc":{"start":{"line":13,"column":2},"end":{"line":13,"column":13}},"value":"image/png","raw":"'image/png'"},"value":{"type":"Literal","start":468,"end":473,"loc":{"start":{"line":13,"column":15},"end":{"line":13,"column":20}},"value":"png","raw":"'png'"},"kind":"init"},{"type":"Property","start":477,"end":499,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":24}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":477,"end":492,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":17}},"value":"image/svg+xml","raw":"'image/svg+xml'"},"value":{"type":"Literal","start":494,"end":499,"loc":{"start":{"line":14,"column":19},"end":{"line":14,"column":24}},"value":"svg","raw":"'svg'"},"kind":"init"},{"type":"Property","start":503,"end":521,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":20}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":503,"end":514,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":13}},"value":"video/mp4","raw":"'video/mp4'"},"value":{"type":"Literal","start":516,"end":521,"loc":{"start":{"line":15,"column":15},"end":{"line":15,"column":20}},"value":"mp4","raw":"'mp4'"},"kind":"init"},{"type":"Property","start":525,"end":543,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":20}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":525,"end":536,"loc":{"start":{"line":16,"column":2},"end":{"line":16,"column":13}},"value":"video/ogg","raw":"'video/ogg'"},"value":{"type":"Literal","start":538,"end":543,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":20}},"value":"ogv","raw":"'ogv'"},"kind":"init"},{"type":"Property","start":547,"end":571,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":547,"end":564,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":19}},"value":"video/quicktime","raw":"'video/quicktime'"},"value":{"type":"Literal","start":566,"end":571,"loc":{"start":{"line":17,"column":21},"end":{"line":17,"column":26}},"value":"mov","raw":"'mov'"},"kind":"init"},{"type":"Property","start":575,"end":595,"loc":{"start":{"line":18,"column":2},"end":{"line":18,"column":22}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":575,"end":587,"loc":{"start":{"line":18,"column":2},"end":{"line":18,"column":14}},"value":"video/webm","raw":"'video/webm'"},"value":{"type":"Literal","start":589,"end":595,"loc":{"start":{"line":18,"column":16},"end":{"line":18,"column":22}},"value":"webm","raw":"'webm'"},"kind":"init"},{"type":"Property","start":599,"end":624,"loc":{"start":{"line":19,"column":2},"end":{"line":19,"column":27}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":599,"end":617,"loc":{"start":{"line":19,"column":2},"end":{"line":19,"column":20}},"value":"video/x-matroska","raw":"'video/x-matroska'"},"value":{"type":"Literal","start":619,"end":624,"loc":{"start":{"line":19,"column":22},"end":{"line":19,"column":27}},"value":"mkv","raw":"'mkv'"},"kind":"init"},{"type":"Property","start":628,"end":652,"loc":{"start":{"line":20,"column":2},"end":{"line":20,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":628,"end":645,"loc":{"start":{"line":20,"column":2},"end":{"line":20,"column":19}},"value":"video/x-msvideo","raw":"'video/x-msvideo'"},"value":{"type":"Literal","start":647,"end":652,"loc":{"start":{"line":20,"column":21},"end":{"line":20,"column":26}},"value":"avi","raw":"'avi'"},"kind":"init"}]}}],"kind":"const","comments":[{"type":"Line","value":" TODO Check which types are actually supported in browsers. Chrome likes webm","start":0,"end":79,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":79}}},{"type":"Line","value":" from my testing, but we may need more.","start":80,"end":121,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}}},{"type":"Line","value":" We could use a library but they tend to contain dozens of KBs of mappings,","start":122,"end":199,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":77}}},{"type":"Line","value":" most of which will go unused, so not sure if that's worth it.","start":200,"end":264,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":64}}}]},{"type":"ExpressionStatement","start":656,"end":859,"loc":{"start":{"line":23,"column":0},"end":{"line":27,"column":1}},"expression":{"type":"AssignmentExpression","start":656,"end":859,"loc":{"start":{"line":23,"column":0},"end":{"line":27,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":656,"end":670,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":14}},"object":{"type":"Identifier","start":656,"end":662,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":6}},"name":"module"},"property":{"type":"Identifier","start":663,"end":670,"loc":{"start":{"line":23,"column":7},"end":{"line":23,"column":14}},"name":"exports"},"computed":false},"right":{"type":"FunctionExpression","start":673,"end":859,"loc":{"start":{"line":23,"column":17},"end":{"line":27,"column":1}},"id":{"type":"Identifier","start":682,"end":702,"loc":{"start":{"line":23,"column":26},"end":{"line":23,"column":46}},"name":"getFileTypeExtension"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":704,"end":712,"loc":{"start":{"line":23,"column":48},"end":{"line":23,"column":56}},"name":"mimeType"}],"body":{"type":"BlockStatement","start":714,"end":859,"loc":{"start":{"line":23,"column":58},"end":{"line":27,"column":1}},"body":[{"type":"ExpressionStatement","start":774,"end":813,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":41}},"expression":{"type":"AssignmentExpression","start":774,"end":813,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":41}},"operator":"=","left":{"type":"Identifier","start":774,"end":782,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":10}},"name":"mimeType"},"right":{"type":"CallExpression","start":785,"end":813,"loc":{"start":{"line":25,"column":13},"end":{"line":25,"column":41}},"callee":{"type":"MemberExpression","start":785,"end":801,"loc":{"start":{"line":25,"column":13},"end":{"line":25,"column":29}},"object":{"type":"Identifier","start":785,"end":793,"loc":{"start":{"line":25,"column":13},"end":{"line":25,"column":21}},"name":"mimeType"},"property":{"type":"Identifier","start":794,"end":801,"loc":{"start":{"line":25,"column":22},"end":{"line":25,"column":29}},"name":"replace"},"computed":false},"arguments":[{"type":"Literal","start":802,"end":808,"loc":{"start":{"line":25,"column":30},"end":{"line":25,"column":36}},"value":{},"raw":"/;.*$/","regex":{"pattern":";.*$","flags":""}},{"type":"Literal","start":810,"end":812,"loc":{"start":{"line":25,"column":38},"end":{"line":25,"column":40}},"value":"","raw":"''"}]}},"comments":[{"type":"Line","value":" Remove the ; bit in 'video/x-matroska;codecs=avc1'","start":718,"end":771,"loc":{"start":{"line":24,"column":2},"end":{"line":24,"column":55}}}]},{"type":"ReturnStatement","start":816,"end":857,"loc":{"start":{"line":26,"column":2},"end":{"line":26,"column":43}},"argument":{"type":"LogicalExpression","start":823,"end":857,"loc":{"start":{"line":26,"column":9},"end":{"line":26,"column":43}},"left":{"type":"MemberExpression","start":823,"end":849,"loc":{"start":{"line":26,"column":9},"end":{"line":26,"column":35}},"object":{"type":"Identifier","start":823,"end":839,"loc":{"start":{"line":26,"column":9},"end":{"line":26,"column":25}},"name":"mimeToExtensions"},"property":{"type":"Identifier","start":840,"end":848,"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":34}},"name":"mimeType"},"computed":true},"operator":"||","right":{"type":"Literal","start":853,"end":857,"loc":{"start":{"line":26,"column":39},"end":{"line":26,"column":43}},"value":null,"raw":"null"}}}]}}}}],"sourceType":"script"}