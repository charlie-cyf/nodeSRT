{"type":"Program","start":0,"end":1530,"body":[{"type":"VariableDeclaration","start":0,"end":44,"declarations":[{"type":"VariableDeclarator","start":6,"end":44,"id":{"type":"Identifier","start":6,"end":17,"name":"getFileType"},"init":{"type":"CallExpression","start":20,"end":44,"callee":{"type":"Identifier","start":20,"end":27,"name":"require"},"arguments":[{"type":"Literal","start":28,"end":43,"value":"./getFileType","raw":"'./getFileType'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":46,"end":1529,"expression":{"type":"CallExpression","start":46,"end":1529,"callee":{"type":"Identifier","start":46,"end":54,"name":"describe"},"arguments":[{"type":"Literal","start":55,"end":68,"value":"getFileType","raw":"'getFileType'"},{"type":"ArrowFunctionExpression","start":70,"end":1528,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":76,"end":1528,"body":[{"type":"ExpressionStatement","start":80,"end":311,"expression":{"type":"CallExpression","start":80,"end":311,"callee":{"type":"Identifier","start":80,"end":82,"name":"it"},"arguments":[{"type":"Literal","start":83,"end":149,"value":"should trust the filetype if the file comes from a remote source","raw":"'should trust the filetype if the file comes from a remote source'"},{"type":"ArrowFunctionExpression","start":151,"end":310,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":157,"end":310,"body":[{"type":"VariableDeclaration","start":163,"end":254,"declarations":[{"type":"VariableDeclarator","start":169,"end":254,"id":{"type":"Identifier","start":169,"end":173,"name":"file"},"init":{"type":"ObjectExpression","start":176,"end":254,"properties":[{"type":"Property","start":184,"end":198,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":184,"end":192,"name":"isRemote"},"value":{"type":"Literal","start":194,"end":198,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":206,"end":224,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":206,"end":210,"name":"type"},"value":{"type":"Literal","start":212,"end":224,"value":"audio/webm","raw":"'audio/webm'"},"kind":"init"},{"type":"Property","start":232,"end":248,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":232,"end":236,"name":"name"},"value":{"type":"Literal","start":238,"end":248,"value":"foo.webm","raw":"'foo.webm'"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":259,"end":306,"expression":{"type":"CallExpression","start":259,"end":306,"callee":{"type":"MemberExpression","start":259,"end":292,"object":{"type":"CallExpression","start":259,"end":284,"callee":{"type":"Identifier","start":259,"end":265,"name":"expect"},"arguments":[{"type":"CallExpression","start":266,"end":283,"callee":{"type":"Identifier","start":266,"end":277,"name":"getFileType"},"arguments":[{"type":"Identifier","start":278,"end":282,"name":"file"}]}]},"property":{"type":"Identifier","start":285,"end":292,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":293,"end":305,"value":"audio/webm","raw":"'audio/webm'"}]}}]}}]}},{"type":"ExpressionStatement","start":315,"end":538,"expression":{"type":"CallExpression","start":315,"end":538,"callee":{"type":"Identifier","start":315,"end":317,"name":"it"},"arguments":[{"type":"Literal","start":318,"end":367,"value":"should determine the filetype from the mimetype","raw":"'should determine the filetype from the mimetype'"},{"type":"ArrowFunctionExpression","start":369,"end":537,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":375,"end":537,"body":[{"type":"VariableDeclaration","start":381,"end":481,"declarations":[{"type":"VariableDeclarator","start":387,"end":481,"id":{"type":"Identifier","start":387,"end":391,"name":"file"},"init":{"type":"ObjectExpression","start":394,"end":481,"properties":[{"type":"Property","start":402,"end":420,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":402,"end":406,"name":"type"},"value":{"type":"Literal","start":408,"end":420,"value":"audio/webm","raw":"'audio/webm'"},"kind":"init"},{"type":"Property","start":428,"end":444,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":428,"end":432,"name":"name"},"value":{"type":"Literal","start":434,"end":444,"value":"foo.webm","raw":"'foo.webm'"},"kind":"init"},{"type":"Property","start":452,"end":475,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":452,"end":456,"name":"data"},"value":{"type":"Literal","start":458,"end":475,"value":"sdfsdfhq9efbicw","raw":"'sdfsdfhq9efbicw'"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":486,"end":533,"expression":{"type":"CallExpression","start":486,"end":533,"callee":{"type":"MemberExpression","start":486,"end":519,"object":{"type":"CallExpression","start":486,"end":511,"callee":{"type":"Identifier","start":486,"end":492,"name":"expect"},"arguments":[{"type":"CallExpression","start":493,"end":510,"callee":{"type":"Identifier","start":493,"end":504,"name":"getFileType"},"arguments":[{"type":"Identifier","start":505,"end":509,"name":"file"}]}]},"property":{"type":"Identifier","start":512,"end":519,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":520,"end":532,"value":"audio/webm","raw":"'audio/webm'"}]}}]}}]}},{"type":"ExpressionStatement","start":542,"end":1316,"expression":{"type":"CallExpression","start":542,"end":1316,"callee":{"type":"Identifier","start":542,"end":544,"name":"it"},"arguments":[{"type":"Literal","start":545,"end":595,"value":"should determine the filetype from the extension","raw":"'should determine the filetype from the extension'"},{"type":"ArrowFunctionExpression","start":597,"end":1315,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":603,"end":1315,"body":[{"type":"VariableDeclaration","start":609,"end":687,"declarations":[{"type":"VariableDeclarator","start":615,"end":687,"id":{"type":"Identifier","start":615,"end":622,"name":"fileMP3"},"init":{"type":"ObjectExpression","start":625,"end":687,"properties":[{"type":"Property","start":633,"end":648,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":633,"end":637,"name":"name"},"value":{"type":"Literal","start":639,"end":648,"value":"foo.mp3","raw":"'foo.mp3'"},"kind":"init"},{"type":"Property","start":656,"end":681,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":656,"end":660,"name":"data"},"value":{"type":"Literal","start":662,"end":681,"value":"sdfsfhfh329fhwihs","raw":"'sdfsfhfh329fhwihs'"},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":692,"end":772,"declarations":[{"type":"VariableDeclarator","start":698,"end":772,"id":{"type":"Identifier","start":698,"end":706,"name":"fileYAML"},"init":{"type":"ObjectExpression","start":709,"end":772,"properties":[{"type":"Property","start":717,"end":733,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":717,"end":721,"name":"name"},"value":{"type":"Literal","start":723,"end":733,"value":"bar.yaml","raw":"'bar.yaml'"},"kind":"init"},{"type":"Property","start":741,"end":766,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":741,"end":745,"name":"data"},"value":{"type":"Literal","start":747,"end":766,"value":"sdfsfhfh329fhwihs","raw":"'sdfsfhfh329fhwihs'"},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":777,"end":855,"declarations":[{"type":"VariableDeclarator","start":783,"end":855,"id":{"type":"Identifier","start":783,"end":790,"name":"fileMKV"},"init":{"type":"ObjectExpression","start":793,"end":855,"properties":[{"type":"Property","start":801,"end":816,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":801,"end":805,"name":"name"},"value":{"type":"Literal","start":807,"end":816,"value":"bar.mkv","raw":"'bar.mkv'"},"kind":"init"},{"type":"Property","start":824,"end":849,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":824,"end":828,"name":"data"},"value":{"type":"Literal","start":830,"end":849,"value":"sdfsfhfh329fhwihs","raw":"'sdfsfhfh329fhwihs'"},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":860,"end":944,"declarations":[{"type":"VariableDeclarator","start":866,"end":944,"id":{"type":"Identifier","start":866,"end":873,"name":"toUpper"},"init":{"type":"ArrowFunctionExpression","start":876,"end":944,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":877,"end":881,"name":"file"}],"body":{"type":"CallExpression","start":886,"end":944,"callee":{"type":"MemberExpression","start":886,"end":899,"object":{"type":"Identifier","start":886,"end":892,"name":"Object"},"property":{"type":"Identifier","start":893,"end":899,"name":"assign"},"computed":false},"arguments":[{"type":"ObjectExpression","start":900,"end":902,"properties":[]},{"type":"Identifier","start":904,"end":908,"name":"file"},{"type":"ObjectExpression","start":910,"end":943,"properties":[{"type":"Property","start":912,"end":941,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":912,"end":916,"name":"name"},"value":{"type":"CallExpression","start":918,"end":941,"callee":{"type":"MemberExpression","start":918,"end":939,"object":{"type":"MemberExpression","start":918,"end":927,"object":{"type":"Identifier","start":918,"end":922,"name":"file"},"property":{"type":"Identifier","start":923,"end":927,"name":"name"},"computed":false},"property":{"type":"Identifier","start":928,"end":939,"name":"toUpperCase"},"computed":false},"arguments":[]},"kind":"init"}]}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":949,"end":998,"expression":{"type":"CallExpression","start":949,"end":998,"callee":{"type":"MemberExpression","start":949,"end":985,"object":{"type":"CallExpression","start":949,"end":977,"callee":{"type":"Identifier","start":949,"end":955,"name":"expect"},"arguments":[{"type":"CallExpression","start":956,"end":976,"callee":{"type":"Identifier","start":956,"end":967,"name":"getFileType"},"arguments":[{"type":"Identifier","start":968,"end":975,"name":"fileMP3"}]}]},"property":{"type":"Identifier","start":978,"end":985,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":986,"end":997,"value":"audio/mp3","raw":"'audio/mp3'"}]}},{"type":"ExpressionStatement","start":1003,"end":1061,"expression":{"type":"CallExpression","start":1003,"end":1061,"callee":{"type":"MemberExpression","start":1003,"end":1048,"object":{"type":"CallExpression","start":1003,"end":1040,"callee":{"type":"Identifier","start":1003,"end":1009,"name":"expect"},"arguments":[{"type":"CallExpression","start":1010,"end":1039,"callee":{"type":"Identifier","start":1010,"end":1021,"name":"getFileType"},"arguments":[{"type":"CallExpression","start":1022,"end":1038,"callee":{"type":"Identifier","start":1022,"end":1029,"name":"toUpper"},"arguments":[{"type":"Identifier","start":1030,"end":1037,"name":"fileMP3"}]}]}]},"property":{"type":"Identifier","start":1041,"end":1048,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1049,"end":1060,"value":"audio/mp3","raw":"'audio/mp3'"}]}},{"type":"ExpressionStatement","start":1066,"end":1116,"expression":{"type":"CallExpression","start":1066,"end":1116,"callee":{"type":"MemberExpression","start":1066,"end":1103,"object":{"type":"CallExpression","start":1066,"end":1095,"callee":{"type":"Identifier","start":1066,"end":1072,"name":"expect"},"arguments":[{"type":"CallExpression","start":1073,"end":1094,"callee":{"type":"Identifier","start":1073,"end":1084,"name":"getFileType"},"arguments":[{"type":"Identifier","start":1085,"end":1093,"name":"fileYAML"}]}]},"property":{"type":"Identifier","start":1096,"end":1103,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1104,"end":1115,"value":"text/yaml","raw":"'text/yaml'"}]}},{"type":"ExpressionStatement","start":1121,"end":1180,"expression":{"type":"CallExpression","start":1121,"end":1180,"callee":{"type":"MemberExpression","start":1121,"end":1167,"object":{"type":"CallExpression","start":1121,"end":1159,"callee":{"type":"Identifier","start":1121,"end":1127,"name":"expect"},"arguments":[{"type":"CallExpression","start":1128,"end":1158,"callee":{"type":"Identifier","start":1128,"end":1139,"name":"getFileType"},"arguments":[{"type":"CallExpression","start":1140,"end":1157,"callee":{"type":"Identifier","start":1140,"end":1147,"name":"toUpper"},"arguments":[{"type":"Identifier","start":1148,"end":1156,"name":"fileYAML"}]}]}]},"property":{"type":"Identifier","start":1160,"end":1167,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1168,"end":1179,"value":"text/yaml","raw":"'text/yaml'"}]}},{"type":"ExpressionStatement","start":1185,"end":1241,"expression":{"type":"CallExpression","start":1185,"end":1241,"callee":{"type":"MemberExpression","start":1185,"end":1221,"object":{"type":"CallExpression","start":1185,"end":1213,"callee":{"type":"Identifier","start":1185,"end":1191,"name":"expect"},"arguments":[{"type":"CallExpression","start":1192,"end":1212,"callee":{"type":"Identifier","start":1192,"end":1203,"name":"getFileType"},"arguments":[{"type":"Identifier","start":1204,"end":1211,"name":"fileMKV"}]}]},"property":{"type":"Identifier","start":1214,"end":1221,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1222,"end":1240,"value":"video/x-matroska","raw":"'video/x-matroska'"}]}},{"type":"ExpressionStatement","start":1246,"end":1311,"expression":{"type":"CallExpression","start":1246,"end":1311,"callee":{"type":"MemberExpression","start":1246,"end":1291,"object":{"type":"CallExpression","start":1246,"end":1283,"callee":{"type":"Identifier","start":1246,"end":1252,"name":"expect"},"arguments":[{"type":"CallExpression","start":1253,"end":1282,"callee":{"type":"Identifier","start":1253,"end":1264,"name":"getFileType"},"arguments":[{"type":"CallExpression","start":1265,"end":1281,"callee":{"type":"Identifier","start":1265,"end":1272,"name":"toUpper"},"arguments":[{"type":"Identifier","start":1273,"end":1280,"name":"fileMKV"}]}]}]},"property":{"type":"Identifier","start":1284,"end":1291,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1292,"end":1310,"value":"video/x-matroska","raw":"'video/x-matroska'"}]}}]}}]}},{"type":"ExpressionStatement","start":1320,"end":1526,"expression":{"type":"CallExpression","start":1320,"end":1526,"callee":{"type":"Identifier","start":1320,"end":1322,"name":"it"},"arguments":[{"type":"Literal","start":1323,"end":1367,"value":"should fail gracefully if unable to detect","raw":"'should fail gracefully if unable to detect'"},{"type":"ArrowFunctionExpression","start":1369,"end":1525,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1375,"end":1525,"body":[{"type":"VariableDeclaration","start":1381,"end":1455,"declarations":[{"type":"VariableDeclarator","start":1387,"end":1455,"id":{"type":"Identifier","start":1387,"end":1391,"name":"file"},"init":{"type":"ObjectExpression","start":1394,"end":1455,"properties":[{"type":"Property","start":1402,"end":1416,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1402,"end":1406,"name":"name"},"value":{"type":"Literal","start":1408,"end":1416,"value":"foobar","raw":"'foobar'"},"kind":"init"},{"type":"Property","start":1424,"end":1449,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1424,"end":1428,"name":"data"},"value":{"type":"Literal","start":1430,"end":1449,"value":"sdfsfhfh329fhwihs","raw":"'sdfsfhfh329fhwihs'"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1460,"end":1521,"expression":{"type":"CallExpression","start":1460,"end":1521,"callee":{"type":"MemberExpression","start":1460,"end":1493,"object":{"type":"CallExpression","start":1460,"end":1485,"callee":{"type":"Identifier","start":1460,"end":1466,"name":"expect"},"arguments":[{"type":"CallExpression","start":1467,"end":1484,"callee":{"type":"Identifier","start":1467,"end":1478,"name":"getFileType"},"arguments":[{"type":"Identifier","start":1479,"end":1483,"name":"file"}]}]},"property":{"type":"Identifier","start":1486,"end":1493,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1494,"end":1520,"value":"application/octet-stream","raw":"'application/octet-stream'"}]}}]}}]}}]}}]}}],"sourceType":"script"}