{"type":"Program","start":0,"end":1189,"loc":{"start":{"line":1,"column":0},"end":{"line":28,"column":2}},"body":[{"type":"ExpressionStatement","start":320,"end":1189,"loc":{"start":{"line":9,"column":0},"end":{"line":28,"column":2}},"expression":{"type":"AssignmentExpression","start":320,"end":1188,"loc":{"start":{"line":9,"column":0},"end":{"line":28,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":320,"end":334,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":14}},"object":{"type":"Identifier","start":320,"end":326,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":6}},"name":"module"},"property":{"type":"Identifier","start":327,"end":334,"loc":{"start":{"line":9,"column":7},"end":{"line":9,"column":14}},"name":"exports"},"computed":false},"right":{"type":"FunctionExpression","start":337,"end":1188,"loc":{"start":{"line":9,"column":17},"end":{"line":28,"column":1}},"id":{"type":"Identifier","start":346,"end":381,"loc":{"start":{"line":9,"column":26},"end":{"line":9,"column":61}},"name":"getFilesAndDirectoriesFromDirectory"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":382,"end":397,"loc":{"start":{"line":9,"column":62},"end":{"line":9,"column":77}},"name":"directoryReader"},{"type":"Identifier","start":399,"end":409,"loc":{"start":{"line":9,"column":79},"end":{"line":9,"column":89}},"name":"oldEntries"},{"type":"Identifier","start":411,"end":423,"loc":{"start":{"line":9,"column":91},"end":{"line":9,"column":103}},"name":"logDropError"},{"type":"Identifier","start":425,"end":429,"loc":{"start":{"line":9,"column":105},"end":{"line":9,"column":109}},"name":"_ref"}],"body":{"type":"BlockStatement","start":431,"end":1188,"loc":{"start":{"line":9,"column":111},"end":{"line":28,"column":1}},"body":[{"type":"VariableDeclaration","start":435,"end":466,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":33}},"declarations":[{"type":"VariableDeclarator","start":439,"end":465,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":32}},"id":{"type":"Identifier","start":439,"end":448,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":15}},"name":"onSuccess"},"init":{"type":"MemberExpression","start":451,"end":465,"loc":{"start":{"line":10,"column":18},"end":{"line":10,"column":32}},"object":{"type":"Identifier","start":451,"end":455,"loc":{"start":{"line":10,"column":18},"end":{"line":10,"column":22}},"name":"_ref"},"property":{"type":"Identifier","start":456,"end":465,"loc":{"start":{"line":10,"column":23},"end":{"line":10,"column":32}},"name":"onSuccess"},"computed":false}}],"kind":"var"},{"type":"ExpressionStatement","start":469,"end":1186,"loc":{"start":{"line":11,"column":2},"end":{"line":27,"column":5}},"expression":{"type":"CallExpression","start":469,"end":1185,"loc":{"start":{"line":11,"column":2},"end":{"line":27,"column":4}},"callee":{"type":"MemberExpression","start":469,"end":496,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":29}},"object":{"type":"Identifier","start":469,"end":484,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":17}},"name":"directoryReader"},"property":{"type":"Identifier","start":485,"end":496,"loc":{"start":{"line":11,"column":18},"end":{"line":11,"column":29}},"name":"readEntries"},"computed":false},"arguments":[{"type":"FunctionExpression","start":497,"end":1013,"loc":{"start":{"line":11,"column":30},"end":{"line":23,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":507,"end":514,"loc":{"start":{"line":11,"column":40},"end":{"line":11,"column":47}},"name":"entries"}],"body":{"type":"BlockStatement","start":516,"end":1013,"loc":{"start":{"line":11,"column":49},"end":{"line":23,"column":3}},"body":[{"type":"VariableDeclaration","start":522,"end":570,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":52}},"declarations":[{"type":"VariableDeclarator","start":526,"end":569,"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":51}},"id":{"type":"Identifier","start":526,"end":536,"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":18}},"name":"newEntries"},"init":{"type":"CallExpression","start":539,"end":569,"loc":{"start":{"line":12,"column":21},"end":{"line":12,"column":51}},"callee":{"type":"MemberExpression","start":539,"end":548,"loc":{"start":{"line":12,"column":21},"end":{"line":12,"column":30}},"object":{"type":"ArrayExpression","start":539,"end":541,"loc":{"start":{"line":12,"column":21},"end":{"line":12,"column":23}},"elements":[]},"property":{"type":"Identifier","start":542,"end":548,"loc":{"start":{"line":12,"column":24},"end":{"line":12,"column":30}},"name":"concat"},"computed":false},"arguments":[{"type":"Identifier","start":549,"end":559,"loc":{"start":{"line":12,"column":31},"end":{"line":12,"column":41}},"name":"oldEntries"},{"type":"Identifier","start":561,"end":568,"loc":{"start":{"line":12,"column":43},"end":{"line":12,"column":50}},"name":"entries"}]}}],"kind":"var","comments":[{"type":"Line","value":" According to the FileSystem API spec, getFilesAndDirectoriesFromDirectory() must be called until it calls the onSuccess with an empty array.","start":571,"end":714,"loc":{"start":{"line":12,"column":53},"end":{"line":12,"column":196}}}]},{"type":"IfStatement","start":720,"end":1009,"loc":{"start":{"line":14,"column":4},"end":{"line":22,"column":5}},"test":{"type":"MemberExpression","start":724,"end":738,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":22}},"object":{"type":"Identifier","start":724,"end":731,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":15}},"name":"entries"},"property":{"type":"Identifier","start":732,"end":738,"loc":{"start":{"line":14,"column":16},"end":{"line":14,"column":22}},"name":"length"},"computed":false},"consequent":{"type":"BlockStatement","start":740,"end":967,"loc":{"start":{"line":14,"column":24},"end":{"line":20,"column":5}},"body":[{"type":"ExpressionStatement","start":748,"end":917,"loc":{"start":{"line":15,"column":6},"end":{"line":19,"column":12}},"expression":{"type":"CallExpression","start":748,"end":916,"loc":{"start":{"line":15,"column":6},"end":{"line":19,"column":11}},"callee":{"type":"Identifier","start":748,"end":758,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":16}},"name":"setTimeout"},"arguments":[{"type":"FunctionExpression","start":759,"end":912,"loc":{"start":{"line":15,"column":17},"end":{"line":19,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":771,"end":912,"loc":{"start":{"line":15,"column":29},"end":{"line":19,"column":7}},"body":[{"type":"ExpressionStatement","start":781,"end":904,"loc":{"start":{"line":16,"column":8},"end":{"line":18,"column":11}},"expression":{"type":"CallExpression","start":781,"end":903,"loc":{"start":{"line":16,"column":8},"end":{"line":18,"column":10}},"callee":{"type":"Identifier","start":781,"end":816,"loc":{"start":{"line":16,"column":8},"end":{"line":16,"column":43}},"name":"getFilesAndDirectoriesFromDirectory"},"arguments":[{"type":"Identifier","start":817,"end":832,"loc":{"start":{"line":16,"column":44},"end":{"line":16,"column":59}},"name":"directoryReader"},{"type":"Identifier","start":834,"end":844,"loc":{"start":{"line":16,"column":61},"end":{"line":16,"column":71}},"name":"newEntries"},{"type":"Identifier","start":846,"end":858,"loc":{"start":{"line":16,"column":73},"end":{"line":16,"column":85}},"name":"logDropError"},{"type":"ObjectExpression","start":860,"end":902,"loc":{"start":{"line":16,"column":87},"end":{"line":18,"column":9}},"properties":[{"type":"Property","start":872,"end":892,"loc":{"start":{"line":17,"column":10},"end":{"line":17,"column":30}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":872,"end":881,"loc":{"start":{"line":17,"column":10},"end":{"line":17,"column":19}},"name":"onSuccess"},"value":{"type":"Identifier","start":883,"end":892,"loc":{"start":{"line":17,"column":21},"end":{"line":17,"column":30}},"name":"onSuccess"},"kind":"init"}]}]}}]}},{"type":"Literal","start":914,"end":915,"loc":{"start":{"line":19,"column":9},"end":{"line":19,"column":10}},"value":0,"raw":"0"}]},"comments":[{"type":"Line","value":" Done iterating this particular directory","start":918,"end":961,"loc":{"start":{"line":19,"column":13},"end":{"line":19,"column":56}}}]}]},"alternate":{"type":"BlockStatement","start":973,"end":1009,"loc":{"start":{"line":20,"column":11},"end":{"line":22,"column":5}},"body":[{"type":"ExpressionStatement","start":981,"end":1003,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":28}},"expression":{"type":"CallExpression","start":981,"end":1002,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":27}},"callee":{"type":"Identifier","start":981,"end":990,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":15}},"name":"onSuccess"},"arguments":[{"type":"Identifier","start":991,"end":1001,"loc":{"start":{"line":21,"column":16},"end":{"line":21,"column":26}},"name":"newEntries"}]}}]}}]}},{"type":"FunctionExpression","start":1110,"end":1184,"loc":{"start":{"line":24,"column":2},"end":{"line":27,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1120,"end":1125,"loc":{"start":{"line":24,"column":12},"end":{"line":24,"column":17}},"name":"error"}],"body":{"type":"BlockStatement","start":1127,"end":1184,"loc":{"start":{"line":24,"column":19},"end":{"line":27,"column":3}},"body":[{"type":"ExpressionStatement","start":1133,"end":1153,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":24}},"expression":{"type":"CallExpression","start":1133,"end":1152,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":23}},"callee":{"type":"Identifier","start":1133,"end":1145,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":16}},"name":"logDropError"},"arguments":[{"type":"Identifier","start":1146,"end":1151,"loc":{"start":{"line":25,"column":17},"end":{"line":25,"column":22}},"name":"error"}]},"comments":[{"type":"Line","value":" Make sure we resolve on error anyway, it's fine if only one directory couldn't be parsed!","start":1015,"end":1107,"loc":{"start":{"line":23,"column":5},"end":{"line":23,"column":97}}}]},{"type":"ExpressionStatement","start":1158,"end":1180,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":26}},"expression":{"type":"CallExpression","start":1158,"end":1179,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":25}},"callee":{"type":"Identifier","start":1158,"end":1167,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":13}},"name":"onSuccess"},"arguments":[{"type":"Identifier","start":1168,"end":1178,"loc":{"start":{"line":26,"column":14},"end":{"line":26,"column":24}},"name":"oldEntries"}]}}]}}]}}]}}}}],"sourceType":"script","comments":[{"type":"Block","value":"*\n * Recursive function, calls the original callback() when the directory is entirely parsed.\n *\n * @param {FileSystemDirectoryReader} directoryReader\n * @param {Array} oldEntries\n * @param {Function} logDropError\n * @param {Function} callback - called with ([ all files and directories in that directoryReader ])\n ","start":0,"end":319,"loc":{"start":{"line":1,"column":0},"end":{"line":8,"column":3}}}]}