{"type":"Program","start":0,"end":4587,"body":[{"type":"ExpressionStatement","start":0,"end":13,"expression":{"type":"Literal","start":0,"end":12,"value":"use strict","raw":"'use strict'"},"directive":"use strict"},{"type":"FunctionDeclaration","start":15,"end":332,"id":{"type":"Identifier","start":24,"end":32,"name":"_extends"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":35,"end":332,"body":[{"type":"ExpressionStatement","start":37,"end":290,"expression":{"type":"AssignmentExpression","start":37,"end":289,"operator":"=","left":{"type":"Identifier","start":37,"end":45,"name":"_extends"},"right":{"type":"LogicalExpression","start":48,"end":289,"left":{"type":"MemberExpression","start":48,"end":61,"object":{"type":"Identifier","start":48,"end":54,"name":"Object"},"property":{"type":"Identifier","start":55,"end":61,"name":"assign"},"computed":false},"operator":"||","right":{"type":"FunctionExpression","start":65,"end":289,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":75,"end":81,"name":"target"}],"body":{"type":"BlockStatement","start":83,"end":289,"body":[{"type":"ForStatement","start":85,"end":272,"init":{"type":"VariableDeclaration","start":90,"end":99,"declarations":[{"type":"VariableDeclarator","start":94,"end":99,"id":{"type":"Identifier","start":94,"end":95,"name":"i"},"init":{"type":"Literal","start":98,"end":99,"value":1,"raw":"1"}}],"kind":"var"},"test":{"type":"BinaryExpression","start":101,"end":121,"left":{"type":"Identifier","start":101,"end":102,"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":105,"end":121,"object":{"type":"Identifier","start":105,"end":114,"name":"arguments"},"property":{"type":"Identifier","start":115,"end":121,"name":"length"},"computed":false}},"update":{"type":"UpdateExpression","start":123,"end":126,"operator":"++","prefix":false,"argument":{"type":"Identifier","start":123,"end":124,"name":"i"}},"body":{"type":"BlockStatement","start":128,"end":272,"body":[{"type":"VariableDeclaration","start":130,"end":156,"declarations":[{"type":"VariableDeclarator","start":134,"end":155,"id":{"type":"Identifier","start":134,"end":140,"name":"source"},"init":{"type":"MemberExpression","start":143,"end":155,"object":{"type":"Identifier","start":143,"end":152,"name":"arguments"},"property":{"type":"Identifier","start":153,"end":154,"name":"i"},"computed":true}}],"kind":"var"},{"type":"ForInStatement","start":157,"end":270,"left":{"type":"VariableDeclaration","start":162,"end":169,"declarations":[{"type":"VariableDeclarator","start":166,"end":169,"id":{"type":"Identifier","start":166,"end":169,"name":"key"},"init":null}],"kind":"var"},"right":{"type":"Identifier","start":173,"end":179,"name":"source"},"body":{"type":"BlockStatement","start":181,"end":270,"body":[{"type":"IfStatement","start":183,"end":268,"test":{"type":"CallExpression","start":187,"end":236,"callee":{"type":"MemberExpression","start":187,"end":223,"object":{"type":"MemberExpression","start":187,"end":218,"object":{"type":"MemberExpression","start":187,"end":203,"object":{"type":"Identifier","start":187,"end":193,"name":"Object"},"property":{"type":"Identifier","start":194,"end":203,"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":204,"end":218,"name":"hasOwnProperty"},"computed":false},"property":{"type":"Identifier","start":219,"end":223,"name":"call"},"computed":false},"arguments":[{"type":"Identifier","start":224,"end":230,"name":"source"},{"type":"Identifier","start":232,"end":235,"name":"key"}]},"consequent":{"type":"BlockStatement","start":238,"end":268,"body":[{"type":"ExpressionStatement","start":240,"end":266,"expression":{"type":"AssignmentExpression","start":240,"end":265,"operator":"=","left":{"type":"MemberExpression","start":240,"end":251,"object":{"type":"Identifier","start":240,"end":246,"name":"target"},"property":{"type":"Identifier","start":247,"end":250,"name":"key"},"computed":true},"right":{"type":"MemberExpression","start":254,"end":265,"object":{"type":"Identifier","start":254,"end":260,"name":"source"},"property":{"type":"Identifier","start":261,"end":264,"name":"key"},"computed":true}}}]},"alternate":null}]}}]}},{"type":"ReturnStatement","start":273,"end":287,"argument":{"type":"Identifier","start":280,"end":286,"name":"target"}}]}}}}},{"type":"ReturnStatement","start":291,"end":330,"argument":{"type":"CallExpression","start":298,"end":329,"callee":{"type":"MemberExpression","start":298,"end":312,"object":{"type":"Identifier","start":298,"end":306,"name":"_extends"},"property":{"type":"Identifier","start":307,"end":312,"name":"apply"},"computed":false},"arguments":[{"type":"ThisExpression","start":313,"end":317},{"type":"Identifier","start":319,"end":328,"name":"arguments"}]}}]}},{"type":"FunctionDeclaration","start":334,"end":517,"id":{"type":"Identifier","start":343,"end":357,"name":"_inheritsLoose"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":358,"end":366,"name":"subClass"},{"type":"Identifier","start":368,"end":378,"name":"superClass"}],"body":{"type":"BlockStatement","start":380,"end":517,"body":[{"type":"ExpressionStatement","start":382,"end":439,"expression":{"type":"AssignmentExpression","start":382,"end":438,"operator":"=","left":{"type":"MemberExpression","start":382,"end":400,"object":{"type":"Identifier","start":382,"end":390,"name":"subClass"},"property":{"type":"Identifier","start":391,"end":400,"name":"prototype"},"computed":false},"right":{"type":"CallExpression","start":403,"end":438,"callee":{"type":"MemberExpression","start":403,"end":416,"object":{"type":"Identifier","start":403,"end":409,"name":"Object"},"property":{"type":"Identifier","start":410,"end":416,"name":"create"},"computed":false},"arguments":[{"type":"MemberExpression","start":417,"end":437,"object":{"type":"Identifier","start":417,"end":427,"name":"superClass"},"property":{"type":"Identifier","start":428,"end":437,"name":"prototype"},"computed":false}]}}},{"type":"ExpressionStatement","start":440,"end":482,"expression":{"type":"AssignmentExpression","start":440,"end":481,"operator":"=","left":{"type":"MemberExpression","start":440,"end":470,"object":{"type":"MemberExpression","start":440,"end":458,"object":{"type":"Identifier","start":440,"end":448,"name":"subClass"},"property":{"type":"Identifier","start":449,"end":458,"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":459,"end":470,"name":"constructor"},"computed":false},"right":{"type":"Identifier","start":473,"end":481,"name":"subClass"}}},{"type":"ExpressionStatement","start":483,"end":515,"expression":{"type":"AssignmentExpression","start":483,"end":514,"operator":"=","left":{"type":"MemberExpression","start":483,"end":501,"object":{"type":"Identifier","start":483,"end":491,"name":"subClass"},"property":{"type":"Identifier","start":492,"end":501,"name":"__proto__"},"computed":false},"right":{"type":"Identifier","start":504,"end":514,"name":"superClass"}}}]}},{"type":"VariableDeclaration","start":519,"end":566,"declarations":[{"type":"VariableDeclarator","start":523,"end":565,"id":{"type":"Identifier","start":523,"end":536,"name":"RequestClient"},"init":{"type":"CallExpression","start":539,"end":565,"callee":{"type":"Identifier","start":539,"end":546,"name":"require"},"arguments":[{"type":"Literal","start":547,"end":564,"value":"./RequestClient","raw":"'./RequestClient'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":568,"end":613,"declarations":[{"type":"VariableDeclarator","start":572,"end":612,"id":{"type":"Identifier","start":572,"end":584,"name":"tokenStorage"},"init":{"type":"CallExpression","start":587,"end":612,"callee":{"type":"Identifier","start":587,"end":594,"name":"require"},"arguments":[{"type":"Literal","start":595,"end":611,"value":"./tokenStorage","raw":"'./tokenStorage'"}]}}],"kind":"var"},{"type":"VariableDeclaration","start":615,"end":765,"declarations":[{"type":"VariableDeclarator","start":619,"end":764,"id":{"type":"Identifier","start":619,"end":627,"name":"_getName"},"init":{"type":"FunctionExpression","start":630,"end":764,"id":{"type":"Identifier","start":639,"end":647,"name":"_getName"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":648,"end":650,"name":"id"}],"body":{"type":"BlockStatement","start":652,"end":764,"body":[{"type":"ReturnStatement","start":656,"end":762,"argument":{"type":"CallExpression","start":663,"end":761,"callee":{"type":"MemberExpression","start":663,"end":756,"object":{"type":"CallExpression","start":663,"end":751,"callee":{"type":"MemberExpression","start":663,"end":680,"object":{"type":"CallExpression","start":663,"end":676,"callee":{"type":"MemberExpression","start":663,"end":671,"object":{"type":"Identifier","start":663,"end":665,"name":"id"},"property":{"type":"Identifier","start":666,"end":671,"name":"split"},"computed":false},"arguments":[{"type":"Literal","start":672,"end":675,"value":"-","raw":"'-'"}]},"property":{"type":"Identifier","start":677,"end":680,"name":"map"},"computed":false},"arguments":[{"type":"FunctionExpression","start":681,"end":750,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":691,"end":692,"name":"s"}],"body":{"type":"BlockStatement","start":694,"end":750,"body":[{"type":"ReturnStatement","start":700,"end":746,"argument":{"type":"BinaryExpression","start":707,"end":745,"left":{"type":"CallExpression","start":707,"end":732,"callee":{"type":"MemberExpression","start":707,"end":730,"object":{"type":"CallExpression","start":707,"end":718,"callee":{"type":"MemberExpression","start":707,"end":715,"object":{"type":"Identifier","start":707,"end":708,"name":"s"},"property":{"type":"Identifier","start":709,"end":715,"name":"charAt"},"computed":false},"arguments":[{"type":"Literal","start":716,"end":717,"value":0,"raw":"0"}]},"property":{"type":"Identifier","start":719,"end":730,"name":"toUpperCase"},"computed":false},"arguments":[]},"operator":"+","right":{"type":"CallExpression","start":735,"end":745,"callee":{"type":"MemberExpression","start":735,"end":742,"object":{"type":"Identifier","start":735,"end":736,"name":"s"},"property":{"type":"Identifier","start":737,"end":742,"name":"slice"},"computed":false},"arguments":[{"type":"Literal","start":743,"end":744,"value":1,"raw":"1"}]}}}]}}]},"property":{"type":"Identifier","start":752,"end":756,"name":"join"},"computed":false},"arguments":[{"type":"Literal","start":757,"end":760,"value":" ","raw":"' '"}]}}]}}}],"kind":"var"},{"type":"ExpressionStatement","start":767,"end":4587,"expression":{"type":"AssignmentExpression","start":767,"end":4586,"operator":"=","left":{"type":"MemberExpression","start":767,"end":781,"object":{"type":"Identifier","start":767,"end":773,"name":"module"},"property":{"type":"Identifier","start":774,"end":781,"name":"exports"},"computed":false},"right":{"type":"CallExpression","start":797,"end":4586,"callee":{"type":"FunctionExpression","start":797,"end":4571,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":807,"end":821,"name":"_RequestClient"}],"body":{"type":"BlockStatement","start":823,"end":4571,"body":[{"type":"ExpressionStatement","start":827,"end":868,"expression":{"type":"CallExpression","start":827,"end":867,"callee":{"type":"Identifier","start":827,"end":841,"name":"_inheritsLoose"},"arguments":[{"type":"Identifier","start":842,"end":850,"name":"Provider"},{"type":"Identifier","start":852,"end":866,"name":"_RequestClient"}]}},{"type":"FunctionDeclaration","start":872,"end":1295,"id":{"type":"Identifier","start":881,"end":889,"name":"Provider"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":890,"end":894,"name":"uppy"},{"type":"Identifier","start":896,"end":900,"name":"opts"}],"body":{"type":"BlockStatement","start":902,"end":1295,"body":[{"type":"VariableDeclaration","start":908,"end":918,"declarations":[{"type":"VariableDeclarator","start":912,"end":917,"id":{"type":"Identifier","start":912,"end":917,"name":"_this"},"init":null}],"kind":"var"},{"type":"ExpressionStatement","start":924,"end":978,"expression":{"type":"AssignmentExpression","start":924,"end":977,"operator":"=","left":{"type":"Identifier","start":924,"end":929,"name":"_this"},"right":{"type":"LogicalExpression","start":932,"end":977,"left":{"type":"CallExpression","start":932,"end":969,"callee":{"type":"MemberExpression","start":932,"end":951,"object":{"type":"Identifier","start":932,"end":946,"name":"_RequestClient"},"property":{"type":"Identifier","start":947,"end":951,"name":"call"},"computed":false},"arguments":[{"type":"ThisExpression","start":952,"end":956},{"type":"Identifier","start":958,"end":962,"name":"uppy"},{"type":"Identifier","start":964,"end":968,"name":"opts"}]},"operator":"||","right":{"type":"ThisExpression","start":973,"end":977}}}},{"type":"ExpressionStatement","start":983,"end":1014,"expression":{"type":"AssignmentExpression","start":983,"end":1013,"operator":"=","left":{"type":"MemberExpression","start":983,"end":997,"object":{"type":"Identifier","start":983,"end":988,"name":"_this"},"property":{"type":"Identifier","start":989,"end":997,"name":"provider"},"computed":false},"right":{"type":"MemberExpression","start":1000,"end":1013,"object":{"type":"Identifier","start":1000,"end":1004,"name":"opts"},"property":{"type":"Identifier","start":1005,"end":1013,"name":"provider"},"computed":false}}},{"type":"ExpressionStatement","start":1019,"end":1045,"expression":{"type":"AssignmentExpression","start":1019,"end":1044,"operator":"=","left":{"type":"MemberExpression","start":1019,"end":1027,"object":{"type":"Identifier","start":1019,"end":1024,"name":"_this"},"property":{"type":"Identifier","start":1025,"end":1027,"name":"id"},"computed":false},"right":{"type":"MemberExpression","start":1030,"end":1044,"object":{"type":"Identifier","start":1030,"end":1035,"name":"_this"},"property":{"type":"Identifier","start":1036,"end":1044,"name":"provider"},"computed":false}}},{"type":"ExpressionStatement","start":1050,"end":1107,"expression":{"type":"AssignmentExpression","start":1050,"end":1106,"operator":"=","left":{"type":"MemberExpression","start":1050,"end":1068,"object":{"type":"Identifier","start":1050,"end":1055,"name":"_this"},"property":{"type":"Identifier","start":1056,"end":1068,"name":"authProvider"},"computed":false},"right":{"type":"LogicalExpression","start":1071,"end":1106,"left":{"type":"MemberExpression","start":1071,"end":1088,"object":{"type":"Identifier","start":1071,"end":1075,"name":"opts"},"property":{"type":"Identifier","start":1076,"end":1088,"name":"authProvider"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":1092,"end":1106,"object":{"type":"Identifier","start":1092,"end":1097,"name":"_this"},"property":{"type":"Identifier","start":1098,"end":1106,"name":"provider"},"computed":false}}}},{"type":"ExpressionStatement","start":1112,"end":1163,"expression":{"type":"AssignmentExpression","start":1112,"end":1162,"operator":"=","left":{"type":"MemberExpression","start":1112,"end":1122,"object":{"type":"Identifier","start":1112,"end":1117,"name":"_this"},"property":{"type":"Identifier","start":1118,"end":1122,"name":"name"},"computed":false},"right":{"type":"LogicalExpression","start":1125,"end":1162,"left":{"type":"MemberExpression","start":1125,"end":1140,"object":{"type":"MemberExpression","start":1125,"end":1135,"object":{"type":"Identifier","start":1125,"end":1130,"name":"_this"},"property":{"type":"Identifier","start":1131,"end":1135,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":1136,"end":1140,"name":"name"},"computed":false},"operator":"||","right":{"type":"CallExpression","start":1144,"end":1162,"callee":{"type":"Identifier","start":1144,"end":1152,"name":"_getName"},"arguments":[{"type":"MemberExpression","start":1153,"end":1161,"object":{"type":"Identifier","start":1153,"end":1158,"name":"_this"},"property":{"type":"Identifier","start":1159,"end":1161,"name":"id"},"computed":false}]}}}},{"type":"ExpressionStatement","start":1168,"end":1205,"expression":{"type":"AssignmentExpression","start":1168,"end":1204,"operator":"=","left":{"type":"MemberExpression","start":1168,"end":1182,"object":{"type":"Identifier","start":1168,"end":1173,"name":"_this"},"property":{"type":"Identifier","start":1174,"end":1182,"name":"pluginId"},"computed":false},"right":{"type":"MemberExpression","start":1185,"end":1204,"object":{"type":"MemberExpression","start":1185,"end":1195,"object":{"type":"Identifier","start":1185,"end":1190,"name":"_this"},"property":{"type":"Identifier","start":1191,"end":1195,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":1196,"end":1204,"name":"pluginId"},"computed":false}}},{"type":"ExpressionStatement","start":1210,"end":1273,"expression":{"type":"AssignmentExpression","start":1210,"end":1272,"operator":"=","left":{"type":"MemberExpression","start":1210,"end":1224,"object":{"type":"Identifier","start":1210,"end":1215,"name":"_this"},"property":{"type":"Identifier","start":1216,"end":1224,"name":"tokenKey"},"computed":false},"right":{"type":"BinaryExpression","start":1227,"end":1272,"left":{"type":"BinaryExpression","start":1227,"end":1256,"left":{"type":"Literal","start":1227,"end":1239,"value":"companion-","raw":"\"companion-\""},"operator":"+","right":{"type":"MemberExpression","start":1242,"end":1256,"object":{"type":"Identifier","start":1242,"end":1247,"name":"_this"},"property":{"type":"Identifier","start":1248,"end":1256,"name":"pluginId"},"computed":false}},"operator":"+","right":{"type":"Literal","start":1259,"end":1272,"value":"-auth-token","raw":"\"-auth-token\""}}}},{"type":"ReturnStatement","start":1278,"end":1291,"argument":{"type":"Identifier","start":1285,"end":1290,"name":"_this"}}]}},{"type":"VariableDeclaration","start":1299,"end":1331,"declarations":[{"type":"VariableDeclarator","start":1303,"end":1330,"id":{"type":"Identifier","start":1303,"end":1309,"name":"_proto"},"init":{"type":"MemberExpression","start":1312,"end":1330,"object":{"type":"Identifier","start":1312,"end":1320,"name":"Provider"},"property":{"type":"Identifier","start":1321,"end":1330,"name":"prototype"},"computed":false}}],"kind":"var"},{"type":"ExpressionStatement","start":1335,"end":1723,"expression":{"type":"AssignmentExpression","start":1335,"end":1722,"operator":"=","left":{"type":"MemberExpression","start":1335,"end":1349,"object":{"type":"Identifier","start":1335,"end":1341,"name":"_proto"},"property":{"type":"Identifier","start":1342,"end":1349,"name":"headers"},"computed":false},"right":{"type":"FunctionExpression","start":1352,"end":1722,"id":{"type":"Identifier","start":1361,"end":1368,"name":"headers"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1371,"end":1722,"body":[{"type":"VariableDeclaration","start":1377,"end":1395,"declarations":[{"type":"VariableDeclarator","start":1381,"end":1394,"id":{"type":"Identifier","start":1381,"end":1387,"name":"_this2"},"init":{"type":"ThisExpression","start":1390,"end":1394}}],"kind":"var"},{"type":"ReturnStatement","start":1401,"end":1718,"argument":{"type":"NewExpression","start":1408,"end":1717,"callee":{"type":"Identifier","start":1412,"end":1419,"name":"Promise"},"arguments":[{"type":"FunctionExpression","start":1420,"end":1716,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1430,"end":1437,"name":"resolve"},{"type":"Identifier","start":1439,"end":1445,"name":"reject"}],"body":{"type":"BlockStatement","start":1447,"end":1716,"body":[{"type":"ExpressionStatement","start":1455,"end":1710,"expression":{"type":"CallExpression","start":1455,"end":1709,"callee":{"type":"MemberExpression","start":1455,"end":1701,"object":{"type":"CallExpression","start":1455,"end":1695,"callee":{"type":"MemberExpression","start":1455,"end":1505,"object":{"type":"CallExpression","start":1455,"end":1500,"callee":{"type":"MemberExpression","start":1455,"end":1492,"object":{"type":"MemberExpression","start":1455,"end":1487,"object":{"type":"MemberExpression","start":1455,"end":1479,"object":{"type":"Identifier","start":1455,"end":1469,"name":"_RequestClient"},"property":{"type":"Identifier","start":1470,"end":1479,"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":1480,"end":1487,"name":"headers"},"computed":false},"property":{"type":"Identifier","start":1488,"end":1492,"name":"call"},"computed":false},"arguments":[{"type":"Identifier","start":1493,"end":1499,"name":"_this2"}]},"property":{"type":"Identifier","start":1501,"end":1505,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":1506,"end":1694,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1516,"end":1523,"name":"headers"}],"body":{"type":"BlockStatement","start":1525,"end":1694,"body":[{"type":"ExpressionStatement","start":1535,"end":1686,"expression":{"type":"CallExpression","start":1535,"end":1685,"callee":{"type":"MemberExpression","start":1535,"end":1561,"object":{"type":"CallExpression","start":1535,"end":1556,"callee":{"type":"MemberExpression","start":1535,"end":1554,"object":{"type":"Identifier","start":1535,"end":1541,"name":"_this2"},"property":{"type":"Identifier","start":1542,"end":1554,"name":"getAuthToken"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":1557,"end":1561,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":1562,"end":1684,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1572,"end":1577,"name":"token"}],"body":{"type":"BlockStatement","start":1579,"end":1684,"body":[{"type":"ExpressionStatement","start":1591,"end":1674,"expression":{"type":"CallExpression","start":1591,"end":1673,"callee":{"type":"Identifier","start":1591,"end":1598,"name":"resolve"},"arguments":[{"type":"CallExpression","start":1599,"end":1672,"callee":{"type":"Identifier","start":1599,"end":1607,"name":"_extends"},"arguments":[{"type":"ObjectExpression","start":1608,"end":1610,"properties":[]},{"type":"Identifier","start":1612,"end":1619,"name":"headers"},{"type":"ObjectExpression","start":1621,"end":1671,"properties":[{"type":"Property","start":1635,"end":1659,"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":1635,"end":1652,"value":"uppy-auth-token","raw":"'uppy-auth-token'"},"value":{"type":"Identifier","start":1654,"end":1659,"name":"token"},"kind":"init"}]}]}]}}]}}]}}]}}]},"property":{"type":"Identifier","start":1696,"end":1701,"name":"catch"},"computed":false},"arguments":[{"type":"Identifier","start":1702,"end":1708,"name":"reject"}]}}]}}]}}]}}}},{"type":"ExpressionStatement","start":1727,"end":2259,"expression":{"type":"AssignmentExpression","start":1727,"end":2179,"operator":"=","left":{"type":"MemberExpression","start":1727,"end":1751,"object":{"type":"Identifier","start":1727,"end":1733,"name":"_proto"},"property":{"type":"Identifier","start":1734,"end":1751,"name":"onReceiveResponse"},"computed":false},"right":{"type":"FunctionExpression","start":1754,"end":2179,"id":{"type":"Identifier","start":1763,"end":1780,"name":"onReceiveResponse"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1781,"end":1789,"name":"response"}],"body":{"type":"BlockStatement","start":1791,"end":2179,"body":[{"type":"ExpressionStatement","start":1797,"end":1872,"expression":{"type":"AssignmentExpression","start":1797,"end":1871,"operator":"=","left":{"type":"Identifier","start":1797,"end":1805,"name":"response"},"right":{"type":"CallExpression","start":1808,"end":1871,"callee":{"type":"MemberExpression","start":1808,"end":1855,"object":{"type":"MemberExpression","start":1808,"end":1850,"object":{"type":"MemberExpression","start":1808,"end":1832,"object":{"type":"Identifier","start":1808,"end":1822,"name":"_RequestClient"},"property":{"type":"Identifier","start":1823,"end":1832,"name":"prototype"},"computed":false},"property":{"type":"Identifier","start":1833,"end":1850,"name":"onReceiveResponse"},"computed":false},"property":{"type":"Identifier","start":1851,"end":1855,"name":"call"},"computed":false},"arguments":[{"type":"ThisExpression","start":1856,"end":1860},{"type":"Identifier","start":1862,"end":1870,"name":"response"}]}}},{"type":"VariableDeclaration","start":1877,"end":1925,"declarations":[{"type":"VariableDeclarator","start":1881,"end":1924,"id":{"type":"Identifier","start":1881,"end":1887,"name":"plugin"},"init":{"type":"CallExpression","start":1890,"end":1924,"callee":{"type":"MemberExpression","start":1890,"end":1909,"object":{"type":"MemberExpression","start":1890,"end":1899,"object":{"type":"ThisExpression","start":1890,"end":1894},"property":{"type":"Identifier","start":1895,"end":1899,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":1900,"end":1909,"name":"getPlugin"},"computed":false},"arguments":[{"type":"MemberExpression","start":1910,"end":1923,"object":{"type":"ThisExpression","start":1910,"end":1914},"property":{"type":"Identifier","start":1915,"end":1923,"name":"pluginId"},"computed":false}]}}],"kind":"var"},{"type":"VariableDeclaration","start":1930,"end":1991,"declarations":[{"type":"VariableDeclarator","start":1934,"end":1990,"id":{"type":"Identifier","start":1934,"end":1950,"name":"oldAuthenticated"},"init":{"type":"MemberExpression","start":1953,"end":1990,"object":{"type":"CallExpression","start":1953,"end":1976,"callee":{"type":"MemberExpression","start":1953,"end":1974,"object":{"type":"Identifier","start":1953,"end":1959,"name":"plugin"},"property":{"type":"Identifier","start":1960,"end":1974,"name":"getPluginState"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":1977,"end":1990,"name":"authenticated"},"computed":false}}],"kind":"var"},{"type":"VariableDeclaration","start":1996,"end":2083,"declarations":[{"type":"VariableDeclarator","start":2000,"end":2082,"id":{"type":"Identifier","start":2000,"end":2013,"name":"authenticated"},"init":{"type":"ConditionalExpression","start":2016,"end":2082,"test":{"type":"Identifier","start":2016,"end":2032,"name":"oldAuthenticated"},"consequent":{"type":"BinaryExpression","start":2035,"end":2058,"left":{"type":"MemberExpression","start":2035,"end":2050,"object":{"type":"Identifier","start":2035,"end":2043,"name":"response"},"property":{"type":"Identifier","start":2044,"end":2050,"name":"status"},"computed":false},"operator":"!==","right":{"type":"Literal","start":2055,"end":2058,"value":401,"raw":"401"}},"alternate":{"type":"BinaryExpression","start":2061,"end":2082,"left":{"type":"MemberExpression","start":2061,"end":2076,"object":{"type":"Identifier","start":2061,"end":2069,"name":"response"},"property":{"type":"Identifier","start":2070,"end":2076,"name":"status"},"computed":false},"operator":"<","right":{"type":"Literal","start":2079,"end":2082,"value":400,"raw":"400"}}}}],"kind":"var"},{"type":"ExpressionStatement","start":2088,"end":2154,"expression":{"type":"CallExpression","start":2088,"end":2153,"callee":{"type":"MemberExpression","start":2088,"end":2109,"object":{"type":"Identifier","start":2088,"end":2094,"name":"plugin"},"property":{"type":"Identifier","start":2095,"end":2109,"name":"setPluginState"},"computed":false},"arguments":[{"type":"ObjectExpression","start":2110,"end":2152,"properties":[{"type":"Property","start":2118,"end":2146,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2118,"end":2131,"name":"authenticated"},"value":{"type":"Identifier","start":2133,"end":2146,"name":"authenticated"},"kind":"init"}]}]}},{"type":"ReturnStatement","start":2159,"end":2175,"argument":{"type":"Identifier","start":2166,"end":2174,"name":"response"}}]}}}},{"type":"ExpressionStatement","start":2263,"end":2405,"expression":{"type":"AssignmentExpression","start":2263,"end":2404,"operator":"=","left":{"type":"MemberExpression","start":2263,"end":2282,"object":{"type":"Identifier","start":2263,"end":2269,"name":"_proto"},"property":{"type":"Identifier","start":2270,"end":2282,"name":"setAuthToken"},"computed":false},"right":{"type":"FunctionExpression","start":2285,"end":2404,"id":{"type":"Identifier","start":2294,"end":2306,"name":"setAuthToken"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2307,"end":2312,"name":"token"}],"body":{"type":"BlockStatement","start":2314,"end":2404,"body":[{"type":"ReturnStatement","start":2320,"end":2400,"argument":{"type":"CallExpression","start":2327,"end":2399,"callee":{"type":"MemberExpression","start":2327,"end":2377,"object":{"type":"MemberExpression","start":2327,"end":2369,"object":{"type":"CallExpression","start":2327,"end":2361,"callee":{"type":"MemberExpression","start":2327,"end":2346,"object":{"type":"MemberExpression","start":2327,"end":2336,"object":{"type":"ThisExpression","start":2327,"end":2331},"property":{"type":"Identifier","start":2332,"end":2336,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":2337,"end":2346,"name":"getPlugin"},"computed":false},"arguments":[{"type":"MemberExpression","start":2347,"end":2360,"object":{"type":"ThisExpression","start":2347,"end":2351},"property":{"type":"Identifier","start":2352,"end":2360,"name":"pluginId"},"computed":false}]},"property":{"type":"Identifier","start":2362,"end":2369,"name":"storage"},"computed":false},"property":{"type":"Identifier","start":2370,"end":2377,"name":"setItem"},"computed":false},"arguments":[{"type":"MemberExpression","start":2378,"end":2391,"object":{"type":"ThisExpression","start":2378,"end":2382},"property":{"type":"Identifier","start":2383,"end":2391,"name":"tokenKey"},"computed":false},{"type":"Identifier","start":2393,"end":2398,"name":"token"}]}}]}}}},{"type":"ExpressionStatement","start":2409,"end":2539,"expression":{"type":"AssignmentExpression","start":2409,"end":2538,"operator":"=","left":{"type":"MemberExpression","start":2409,"end":2428,"object":{"type":"Identifier","start":2409,"end":2415,"name":"_proto"},"property":{"type":"Identifier","start":2416,"end":2428,"name":"getAuthToken"},"computed":false},"right":{"type":"FunctionExpression","start":2431,"end":2538,"id":{"type":"Identifier","start":2440,"end":2452,"name":"getAuthToken"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2455,"end":2538,"body":[{"type":"ReturnStatement","start":2461,"end":2534,"argument":{"type":"CallExpression","start":2468,"end":2533,"callee":{"type":"MemberExpression","start":2468,"end":2518,"object":{"type":"MemberExpression","start":2468,"end":2510,"object":{"type":"CallExpression","start":2468,"end":2502,"callee":{"type":"MemberExpression","start":2468,"end":2487,"object":{"type":"MemberExpression","start":2468,"end":2477,"object":{"type":"ThisExpression","start":2468,"end":2472},"property":{"type":"Identifier","start":2473,"end":2477,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":2478,"end":2487,"name":"getPlugin"},"computed":false},"arguments":[{"type":"MemberExpression","start":2488,"end":2501,"object":{"type":"ThisExpression","start":2488,"end":2492},"property":{"type":"Identifier","start":2493,"end":2501,"name":"pluginId"},"computed":false}]},"property":{"type":"Identifier","start":2503,"end":2510,"name":"storage"},"computed":false},"property":{"type":"Identifier","start":2511,"end":2518,"name":"getItem"},"computed":false},"arguments":[{"type":"MemberExpression","start":2519,"end":2532,"object":{"type":"ThisExpression","start":2519,"end":2523},"property":{"type":"Identifier","start":2524,"end":2532,"name":"tokenKey"},"computed":false}]}}]}}}},{"type":"ExpressionStatement","start":2543,"end":2640,"expression":{"type":"AssignmentExpression","start":2543,"end":2639,"operator":"=","left":{"type":"MemberExpression","start":2543,"end":2557,"object":{"type":"Identifier","start":2543,"end":2549,"name":"_proto"},"property":{"type":"Identifier","start":2550,"end":2557,"name":"authUrl"},"computed":false},"right":{"type":"FunctionExpression","start":2560,"end":2639,"id":{"type":"Identifier","start":2569,"end":2576,"name":"authUrl"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2579,"end":2639,"body":[{"type":"ReturnStatement","start":2585,"end":2635,"argument":{"type":"BinaryExpression","start":2592,"end":2634,"left":{"type":"BinaryExpression","start":2592,"end":2621,"left":{"type":"BinaryExpression","start":2592,"end":2611,"left":{"type":"MemberExpression","start":2592,"end":2605,"object":{"type":"ThisExpression","start":2592,"end":2596},"property":{"type":"Identifier","start":2597,"end":2605,"name":"hostname"},"computed":false},"operator":"+","right":{"type":"Literal","start":2608,"end":2611,"value":"/","raw":"\"/\""}},"operator":"+","right":{"type":"MemberExpression","start":2614,"end":2621,"object":{"type":"ThisExpression","start":2614,"end":2618},"property":{"type":"Identifier","start":2619,"end":2621,"name":"id"},"computed":false}},"operator":"+","right":{"type":"Literal","start":2624,"end":2634,"value":"/connect","raw":"\"/connect\""}}}]}}}},{"type":"ExpressionStatement","start":2644,"end":2745,"expression":{"type":"AssignmentExpression","start":2644,"end":2744,"operator":"=","left":{"type":"MemberExpression","start":2644,"end":2658,"object":{"type":"Identifier","start":2644,"end":2650,"name":"_proto"},"property":{"type":"Identifier","start":2651,"end":2658,"name":"fileUrl"},"computed":false},"right":{"type":"FunctionExpression","start":2661,"end":2744,"id":{"type":"Identifier","start":2670,"end":2677,"name":"fileUrl"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2678,"end":2680,"name":"id"}],"body":{"type":"BlockStatement","start":2682,"end":2744,"body":[{"type":"ReturnStatement","start":2688,"end":2740,"argument":{"type":"BinaryExpression","start":2695,"end":2739,"left":{"type":"BinaryExpression","start":2695,"end":2734,"left":{"type":"BinaryExpression","start":2695,"end":2724,"left":{"type":"BinaryExpression","start":2695,"end":2714,"left":{"type":"MemberExpression","start":2695,"end":2708,"object":{"type":"ThisExpression","start":2695,"end":2699},"property":{"type":"Identifier","start":2700,"end":2708,"name":"hostname"},"computed":false},"operator":"+","right":{"type":"Literal","start":2711,"end":2714,"value":"/","raw":"\"/\""}},"operator":"+","right":{"type":"MemberExpression","start":2717,"end":2724,"object":{"type":"ThisExpression","start":2717,"end":2721},"property":{"type":"Identifier","start":2722,"end":2724,"name":"id"},"computed":false}},"operator":"+","right":{"type":"Literal","start":2727,"end":2734,"value":"/get/","raw":"\"/get/\""}},"operator":"+","right":{"type":"Identifier","start":2737,"end":2739,"name":"id"}}}]}}}},{"type":"ExpressionStatement","start":2749,"end":2855,"expression":{"type":"AssignmentExpression","start":2749,"end":2854,"operator":"=","left":{"type":"MemberExpression","start":2749,"end":2760,"object":{"type":"Identifier","start":2749,"end":2755,"name":"_proto"},"property":{"type":"Identifier","start":2756,"end":2760,"name":"list"},"computed":false},"right":{"type":"FunctionExpression","start":2763,"end":2854,"id":{"type":"Identifier","start":2772,"end":2776,"name":"list"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2777,"end":2786,"name":"directory"}],"body":{"type":"BlockStatement","start":2788,"end":2854,"body":[{"type":"ReturnStatement","start":2794,"end":2850,"argument":{"type":"CallExpression","start":2801,"end":2849,"callee":{"type":"MemberExpression","start":2801,"end":2809,"object":{"type":"ThisExpression","start":2801,"end":2805},"property":{"type":"Identifier","start":2806,"end":2809,"name":"get"},"computed":false},"arguments":[{"type":"BinaryExpression","start":2810,"end":2848,"left":{"type":"BinaryExpression","start":2810,"end":2828,"left":{"type":"MemberExpression","start":2810,"end":2817,"object":{"type":"ThisExpression","start":2810,"end":2814},"property":{"type":"Identifier","start":2815,"end":2817,"name":"id"},"computed":false},"operator":"+","right":{"type":"Literal","start":2820,"end":2828,"value":"/list/","raw":"\"/list/\""}},"operator":"+","right":{"type":"LogicalExpression","start":2832,"end":2847,"left":{"type":"Identifier","start":2832,"end":2841,"name":"directory"},"operator":"||","right":{"type":"Literal","start":2845,"end":2847,"value":"","raw":"''"}}}]}}]}}}},{"type":"ExpressionStatement","start":2859,"end":3228,"expression":{"type":"AssignmentExpression","start":2859,"end":3227,"operator":"=","left":{"type":"MemberExpression","start":2859,"end":2872,"object":{"type":"Identifier","start":2859,"end":2865,"name":"_proto"},"property":{"type":"Identifier","start":2866,"end":2872,"name":"logout"},"computed":false},"right":{"type":"FunctionExpression","start":2875,"end":3227,"id":{"type":"Identifier","start":2884,"end":2890,"name":"logout"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2893,"end":3227,"body":[{"type":"VariableDeclaration","start":2899,"end":2917,"declarations":[{"type":"VariableDeclarator","start":2903,"end":2916,"id":{"type":"Identifier","start":2903,"end":2909,"name":"_this3"},"init":{"type":"ThisExpression","start":2912,"end":2916}}],"kind":"var"},{"type":"ReturnStatement","start":2923,"end":3223,"argument":{"type":"NewExpression","start":2930,"end":3222,"callee":{"type":"Identifier","start":2934,"end":2941,"name":"Promise"},"arguments":[{"type":"FunctionExpression","start":2942,"end":3221,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2952,"end":2959,"name":"resolve"},{"type":"Identifier","start":2961,"end":2967,"name":"reject"}],"body":{"type":"BlockStatement","start":2969,"end":3221,"body":[{"type":"ExpressionStatement","start":2977,"end":3215,"expression":{"type":"CallExpression","start":2977,"end":3214,"callee":{"type":"MemberExpression","start":2977,"end":3206,"object":{"type":"CallExpression","start":2977,"end":3200,"callee":{"type":"MemberExpression","start":2977,"end":3015,"object":{"type":"CallExpression","start":2977,"end":3010,"callee":{"type":"MemberExpression","start":2977,"end":2987,"object":{"type":"Identifier","start":2977,"end":2983,"name":"_this3"},"property":{"type":"Identifier","start":2984,"end":2987,"name":"get"},"computed":false},"arguments":[{"type":"BinaryExpression","start":2988,"end":3009,"left":{"type":"MemberExpression","start":2988,"end":2997,"object":{"type":"Identifier","start":2988,"end":2994,"name":"_this3"},"property":{"type":"Identifier","start":2995,"end":2997,"name":"id"},"computed":false},"operator":"+","right":{"type":"Literal","start":3000,"end":3009,"value":"/logout","raw":"\"/logout\""}}]},"property":{"type":"Identifier","start":3011,"end":3015,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":3016,"end":3199,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3026,"end":3029,"name":"res"}],"body":{"type":"BlockStatement","start":3031,"end":3199,"body":[{"type":"ExpressionStatement","start":3041,"end":3191,"expression":{"type":"CallExpression","start":3041,"end":3190,"callee":{"type":"MemberExpression","start":3041,"end":3182,"object":{"type":"CallExpression","start":3041,"end":3176,"callee":{"type":"MemberExpression","start":3041,"end":3120,"object":{"type":"CallExpression","start":3041,"end":3115,"callee":{"type":"MemberExpression","start":3041,"end":3098,"object":{"type":"MemberExpression","start":3041,"end":3087,"object":{"type":"CallExpression","start":3041,"end":3079,"callee":{"type":"MemberExpression","start":3041,"end":3062,"object":{"type":"MemberExpression","start":3041,"end":3052,"object":{"type":"Identifier","start":3041,"end":3047,"name":"_this3"},"property":{"type":"Identifier","start":3048,"end":3052,"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":3053,"end":3062,"name":"getPlugin"},"computed":false},"arguments":[{"type":"MemberExpression","start":3063,"end":3078,"object":{"type":"Identifier","start":3063,"end":3069,"name":"_this3"},"property":{"type":"Identifier","start":3070,"end":3078,"name":"pluginId"},"computed":false}]},"property":{"type":"Identifier","start":3080,"end":3087,"name":"storage"},"computed":false},"property":{"type":"Identifier","start":3088,"end":3098,"name":"removeItem"},"computed":false},"arguments":[{"type":"MemberExpression","start":3099,"end":3114,"object":{"type":"Identifier","start":3099,"end":3105,"name":"_this3"},"property":{"type":"Identifier","start":3106,"end":3114,"name":"tokenKey"},"computed":false}]},"property":{"type":"Identifier","start":3116,"end":3120,"name":"then"},"computed":false},"arguments":[{"type":"FunctionExpression","start":3121,"end":3175,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3133,"end":3175,"body":[{"type":"ReturnStatement","start":3145,"end":3165,"argument":{"type":"CallExpression","start":3152,"end":3164,"callee":{"type":"Identifier","start":3152,"end":3159,"name":"resolve"},"arguments":[{"type":"Identifier","start":3160,"end":3163,"name":"res"}]}}]}}]},"property":{"type":"Identifier","start":3177,"end":3182,"name":"catch"},"computed":false},"arguments":[{"type":"Identifier","start":3183,"end":3189,"name":"reject"}]}}]}}]},"property":{"type":"Identifier","start":3201,"end":3206,"name":"catch"},"computed":false},"arguments":[{"type":"Identifier","start":3207,"end":3213,"name":"reject"}]}}]}}]}}]}}}},{"type":"ExpressionStatement","start":3232,"end":4549,"expression":{"type":"AssignmentExpression","start":3232,"end":4548,"operator":"=","left":{"type":"MemberExpression","start":3232,"end":3251,"object":{"type":"Identifier","start":3232,"end":3240,"name":"Provider"},"property":{"type":"Identifier","start":3241,"end":3251,"name":"initPlugin"},"computed":false},"right":{"type":"FunctionExpression","start":3254,"end":4548,"id":{"type":"Identifier","start":3263,"end":3273,"name":"initPlugin"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3274,"end":3280,"name":"plugin"},{"type":"Identifier","start":3282,"end":3286,"name":"opts"},{"type":"Identifier","start":3288,"end":3299,"name":"defaultOpts"}],"body":{"type":"BlockStatement","start":3301,"end":4548,"body":[{"type":"ExpressionStatement","start":3307,"end":3332,"expression":{"type":"AssignmentExpression","start":3307,"end":3331,"operator":"=","left":{"type":"MemberExpression","start":3307,"end":3318,"object":{"type":"Identifier","start":3307,"end":3313,"name":"plugin"},"property":{"type":"Identifier","start":3314,"end":3318,"name":"type"},"computed":false},"right":{"type":"Literal","start":3321,"end":3331,"value":"acquirer","raw":"'acquirer'"}}},{"type":"ExpressionStatement","start":3337,"end":3355,"expression":{"type":"AssignmentExpression","start":3337,"end":3354,"operator":"=","left":{"type":"MemberExpression","start":3337,"end":3349,"object":{"type":"Identifier","start":3337,"end":3343,"name":"plugin"},"property":{"type":"Identifier","start":3344,"end":3349,"name":"files"},"computed":false},"right":{"type":"ArrayExpression","start":3352,"end":3354,"elements":[]}}},{"type":"IfStatement","start":3361,"end":3438,"test":{"type":"Identifier","start":3365,"end":3376,"name":"defaultOpts"},"consequent":{"type":"BlockStatement","start":3378,"end":3438,"body":[{"type":"ExpressionStatement","start":3386,"end":3432,"expression":{"type":"AssignmentExpression","start":3386,"end":3431,"operator":"=","left":{"type":"MemberExpression","start":3386,"end":3397,"object":{"type":"Identifier","start":3386,"end":3392,"name":"plugin"},"property":{"type":"Identifier","start":3393,"end":3397,"name":"opts"},"computed":false},"right":{"type":"CallExpression","start":3400,"end":3431,"callee":{"type":"Identifier","start":3400,"end":3408,"name":"_extends"},"arguments":[{"type":"ObjectExpression","start":3409,"end":3411,"properties":[]},{"type":"Identifier","start":3413,"end":3424,"name":"defaultOpts"},{"type":"Identifier","start":3426,"end":3430,"name":"opts"}]}}}]},"alternate":null},{"type":"IfStatement","start":3444,"end":3777,"test":{"type":"LogicalExpression","start":3448,"end":3484,"left":{"type":"MemberExpression","start":3448,"end":3462,"object":{"type":"Identifier","start":3448,"end":3452,"name":"opts"},"property":{"type":"Identifier","start":3453,"end":3462,"name":"serverUrl"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":3466,"end":3484,"object":{"type":"Identifier","start":3466,"end":3470,"name":"opts"},"property":{"type":"Identifier","start":3471,"end":3484,"name":"serverPattern"},"computed":false}},"consequent":{"type":"BlockStatement","start":3486,"end":3777,"body":[{"type":"ThrowStatement","start":3494,"end":3771,"argument":{"type":"NewExpression","start":3500,"end":3770,"callee":{"type":"Identifier","start":3504,"end":3509,"name":"Error"},"arguments":[{"type":"Literal","start":3510,"end":3769,"value":"`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`","raw":"'`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`'"}]}}]},"alternate":null},{"type":"IfStatement","start":3783,"end":4485,"test":{"type":"MemberExpression","start":3787,"end":3813,"object":{"type":"Identifier","start":3787,"end":3791,"name":"opts"},"property":{"type":"Identifier","start":3792,"end":3813,"name":"companionAllowedHosts"},"computed":false},"consequent":{"type":"BlockStatement","start":3815,"end":4191,"body":[{"type":"VariableDeclaration","start":3823,"end":3864,"declarations":[{"type":"VariableDeclarator","start":3827,"end":3863,"id":{"type":"Identifier","start":3827,"end":3834,"name":"pattern"},"init":{"type":"MemberExpression","start":3837,"end":3863,"object":{"type":"Identifier","start":3837,"end":3841,"name":"opts"},"property":{"type":"Identifier","start":3842,"end":3863,"name":"companionAllowedHosts"},"computed":false}}],"kind":"var"},{"type":"IfStatement","start":3912,"end":4133,"test":{"type":"LogicalExpression","start":3916,"end":4002,"left":{"type":"LogicalExpression","start":3916,"end":3970,"left":{"type":"BinaryExpression","start":3916,"end":3943,"left":{"type":"UnaryExpression","start":3916,"end":3930,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":3923,"end":3930,"name":"pattern"}},"operator":"!==","right":{"type":"Literal","start":3935,"end":3943,"value":"string","raw":"'string'"}},"operator":"&&","right":{"type":"UnaryExpression","start":3947,"end":3970,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":3948,"end":3970,"callee":{"type":"MemberExpression","start":3948,"end":3961,"object":{"type":"Identifier","start":3948,"end":3953,"name":"Array"},"property":{"type":"Identifier","start":3954,"end":3961,"name":"isArray"},"computed":false},"arguments":[{"type":"Identifier","start":3962,"end":3969,"name":"pattern"}]}}},"operator":"&&","right":{"type":"UnaryExpression","start":3974,"end":4002,"operator":"!","prefix":true,"argument":{"type":"BinaryExpression","start":3976,"end":4001,"left":{"type":"Identifier","start":3976,"end":3983,"name":"pattern"},"operator":"instanceof","right":{"type":"Identifier","start":3995,"end":4001,"name":"RegExp"}}}},"consequent":{"type":"BlockStatement","start":4004,"end":4133,"body":[{"type":"ThrowStatement","start":4014,"end":4125,"argument":{"type":"NewExpression","start":4020,"end":4124,"callee":{"type":"Identifier","start":4024,"end":4033,"name":"TypeError"},"arguments":[{"type":"BinaryExpression","start":4034,"end":4123,"left":{"type":"MemberExpression","start":4034,"end":4043,"object":{"type":"Identifier","start":4034,"end":4040,"name":"plugin"},"property":{"type":"Identifier","start":4041,"end":4043,"name":"id"},"computed":false},"operator":"+","right":{"type":"Literal","start":4046,"end":4123,"value":": the option \"companionAllowedHosts\" must be one of string, Array, RegExp","raw":"\": the option \\\"companionAllowedHosts\\\" must be one of string, Array, RegExp\""}}]}}]},"alternate":null},{"type":"ExpressionStatement","start":4141,"end":4185,"expression":{"type":"AssignmentExpression","start":4141,"end":4184,"operator":"=","left":{"type":"MemberExpression","start":4141,"end":4174,"object":{"type":"MemberExpression","start":4141,"end":4152,"object":{"type":"Identifier","start":4141,"end":4147,"name":"plugin"},"property":{"type":"Identifier","start":4148,"end":4152,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4153,"end":4174,"name":"companionAllowedHosts"},"computed":false},"right":{"type":"Identifier","start":4177,"end":4184,"name":"pattern"}}}]},"alternate":{"type":"BlockStatement","start":4197,"end":4485,"body":[{"type":"IfStatement","start":4243,"end":4479,"test":{"type":"CallExpression","start":4247,"end":4293,"callee":{"type":"MemberExpression","start":4247,"end":4274,"object":{"type":"Literal","start":4247,"end":4269,"value":{},"raw":"/^(?!https?:\\/\\/).*$/i","regex":{"pattern":"^(?!https?:\\/\\/).*$","flags":"i"}},"property":{"type":"Identifier","start":4270,"end":4274,"name":"test"},"computed":false},"arguments":[{"type":"MemberExpression","start":4275,"end":4292,"object":{"type":"Identifier","start":4275,"end":4279,"name":"opts"},"property":{"type":"Identifier","start":4280,"end":4292,"name":"companionUrl"},"computed":false}]},"consequent":{"type":"BlockStatement","start":4295,"end":4401,"body":[{"type":"ExpressionStatement","start":4305,"end":4393,"expression":{"type":"AssignmentExpression","start":4305,"end":4392,"operator":"=","left":{"type":"MemberExpression","start":4305,"end":4338,"object":{"type":"MemberExpression","start":4305,"end":4316,"object":{"type":"Identifier","start":4305,"end":4311,"name":"plugin"},"property":{"type":"Identifier","start":4312,"end":4316,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4317,"end":4338,"name":"companionAllowedHosts"},"computed":false},"right":{"type":"BinaryExpression","start":4341,"end":4392,"left":{"type":"Literal","start":4341,"end":4351,"value":"https://","raw":"\"https://\""},"operator":"+","right":{"type":"CallExpression","start":4354,"end":4392,"callee":{"type":"MemberExpression","start":4354,"end":4379,"object":{"type":"MemberExpression","start":4354,"end":4371,"object":{"type":"Identifier","start":4354,"end":4358,"name":"opts"},"property":{"type":"Identifier","start":4359,"end":4371,"name":"companionUrl"},"computed":false},"property":{"type":"Identifier","start":4372,"end":4379,"name":"replace"},"computed":false},"arguments":[{"type":"Literal","start":4380,"end":4387,"value":{},"raw":"/^\\/\\//","regex":{"pattern":"^\\/\\/","flags":""}},{"type":"Literal","start":4389,"end":4391,"value":"","raw":"''"}]}}}}]},"alternate":{"type":"BlockStatement","start":4407,"end":4479,"body":[{"type":"ExpressionStatement","start":4417,"end":4471,"expression":{"type":"AssignmentExpression","start":4417,"end":4470,"operator":"=","left":{"type":"MemberExpression","start":4417,"end":4450,"object":{"type":"MemberExpression","start":4417,"end":4428,"object":{"type":"Identifier","start":4417,"end":4423,"name":"plugin"},"property":{"type":"Identifier","start":4424,"end":4428,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4429,"end":4450,"name":"companionAllowedHosts"},"computed":false},"right":{"type":"MemberExpression","start":4453,"end":4470,"object":{"type":"Identifier","start":4453,"end":4457,"name":"opts"},"property":{"type":"Identifier","start":4458,"end":4470,"name":"companionUrl"},"computed":false}}}]}}]}},{"type":"ExpressionStatement","start":4491,"end":4544,"expression":{"type":"AssignmentExpression","start":4491,"end":4543,"operator":"=","left":{"type":"MemberExpression","start":4491,"end":4505,"object":{"type":"Identifier","start":4491,"end":4497,"name":"plugin"},"property":{"type":"Identifier","start":4498,"end":4505,"name":"storage"},"computed":false},"right":{"type":"LogicalExpression","start":4508,"end":4543,"left":{"type":"MemberExpression","start":4508,"end":4527,"object":{"type":"MemberExpression","start":4508,"end":4519,"object":{"type":"Identifier","start":4508,"end":4514,"name":"plugin"},"property":{"type":"Identifier","start":4515,"end":4519,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":4520,"end":4527,"name":"storage"},"computed":false},"operator":"||","right":{"type":"Identifier","start":4531,"end":4543,"name":"tokenStorage"}}}}]}}}},{"type":"ReturnStatement","start":4553,"end":4569,"argument":{"type":"Identifier","start":4560,"end":4568,"name":"Provider"}}]}},"arguments":[{"type":"Identifier","start":4572,"end":4585,"name":"RequestClient"}]}}}],"sourceType":"script"}