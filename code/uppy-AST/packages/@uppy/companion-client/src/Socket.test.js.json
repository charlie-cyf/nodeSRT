{"type":"Program","start":0,"end":5221,"loc":{"start":{"line":1,"column":0},"end":{"line":174,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":38,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"declarations":[{"type":"VariableDeclarator","start":6,"end":38,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":38}},"id":{"type":"Identifier","start":6,"end":16,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":16}},"name":"UppySocket"},"init":{"type":"CallExpression","start":19,"end":38,"loc":{"start":{"line":1,"column":19},"end":{"line":1,"column":38}},"callee":{"type":"Identifier","start":19,"end":26,"loc":{"start":{"line":1,"column":19},"end":{"line":1,"column":26}},"name":"require"},"arguments":[{"type":"Literal","start":27,"end":37,"loc":{"start":{"line":1,"column":27},"end":{"line":1,"column":37}},"value":"./Socket","raw":"'./Socket'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":40,"end":5220,"loc":{"start":{"line":3,"column":0},"end":{"line":173,"column":2}},"expression":{"type":"CallExpression","start":40,"end":5220,"loc":{"start":{"line":3,"column":0},"end":{"line":173,"column":2}},"callee":{"type":"Identifier","start":40,"end":48,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":8}},"name":"describe"},"arguments":[{"type":"Literal","start":49,"end":57,"loc":{"start":{"line":3,"column":9},"end":{"line":3,"column":17}},"value":"Socket","raw":"'Socket'"},{"type":"ArrowFunctionExpression","start":59,"end":5219,"loc":{"start":{"line":3,"column":19},"end":{"line":173,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":65,"end":5219,"loc":{"start":{"line":3,"column":25},"end":{"line":173,"column":1}},"body":[{"type":"VariableDeclaration","start":69,"end":96,"loc":{"start":{"line":4,"column":2},"end":{"line":4,"column":29}},"declarations":[{"type":"VariableDeclarator","start":73,"end":96,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":29}},"id":{"type":"Identifier","start":73,"end":96,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":29}},"name":"webSocketConstructorSpy"},"init":null}],"kind":"let"},{"type":"VariableDeclaration","start":99,"end":120,"loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":23}},"declarations":[{"type":"VariableDeclarator","start":103,"end":120,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":23}},"id":{"type":"Identifier","start":103,"end":120,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":23}},"name":"webSocketCloseSpy"},"init":null}],"kind":"let"},{"type":"VariableDeclaration","start":123,"end":143,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":22}},"declarations":[{"type":"VariableDeclarator","start":127,"end":143,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":22}},"id":{"type":"Identifier","start":127,"end":143,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":22}},"name":"webSocketSendSpy"},"init":null}],"kind":"let"},{"type":"ExpressionStatement","start":147,"end":634,"loc":{"start":{"line":8,"column":2},"end":{"line":34,"column":4}},"expression":{"type":"CallExpression","start":147,"end":634,"loc":{"start":{"line":8,"column":2},"end":{"line":34,"column":4}},"callee":{"type":"Identifier","start":147,"end":157,"loc":{"start":{"line":8,"column":2},"end":{"line":8,"column":12}},"name":"beforeEach"},"arguments":[{"type":"ArrowFunctionExpression","start":158,"end":633,"loc":{"start":{"line":8,"column":13},"end":{"line":34,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":164,"end":633,"loc":{"start":{"line":8,"column":19},"end":{"line":34,"column":3}},"body":[{"type":"ExpressionStatement","start":170,"end":205,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":39}},"expression":{"type":"AssignmentExpression","start":170,"end":205,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":39}},"operator":"=","left":{"type":"Identifier","start":170,"end":193,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":27}},"name":"webSocketConstructorSpy"},"right":{"type":"CallExpression","start":196,"end":205,"loc":{"start":{"line":9,"column":30},"end":{"line":9,"column":39}},"callee":{"type":"MemberExpression","start":196,"end":203,"loc":{"start":{"line":9,"column":30},"end":{"line":9,"column":37}},"object":{"type":"Identifier","start":196,"end":200,"loc":{"start":{"line":9,"column":30},"end":{"line":9,"column":34}},"name":"jest"},"property":{"type":"Identifier","start":201,"end":203,"loc":{"start":{"line":9,"column":35},"end":{"line":9,"column":37}},"name":"fn"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":210,"end":239,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"expression":{"type":"AssignmentExpression","start":210,"end":239,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"operator":"=","left":{"type":"Identifier","start":210,"end":227,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":21}},"name":"webSocketCloseSpy"},"right":{"type":"CallExpression","start":230,"end":239,"loc":{"start":{"line":10,"column":24},"end":{"line":10,"column":33}},"callee":{"type":"MemberExpression","start":230,"end":237,"loc":{"start":{"line":10,"column":24},"end":{"line":10,"column":31}},"object":{"type":"Identifier","start":230,"end":234,"loc":{"start":{"line":10,"column":24},"end":{"line":10,"column":28}},"name":"jest"},"property":{"type":"Identifier","start":235,"end":237,"loc":{"start":{"line":10,"column":29},"end":{"line":10,"column":31}},"name":"fn"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":244,"end":272,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":32}},"expression":{"type":"AssignmentExpression","start":244,"end":272,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":32}},"operator":"=","left":{"type":"Identifier","start":244,"end":260,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":20}},"name":"webSocketSendSpy"},"right":{"type":"CallExpression","start":263,"end":272,"loc":{"start":{"line":11,"column":23},"end":{"line":11,"column":32}},"callee":{"type":"MemberExpression","start":263,"end":270,"loc":{"start":{"line":11,"column":23},"end":{"line":11,"column":30}},"object":{"type":"Identifier","start":263,"end":267,"loc":{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},"name":"jest"},"property":{"type":"Identifier","start":268,"end":270,"loc":{"start":{"line":11,"column":28},"end":{"line":11,"column":30}},"name":"fn"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":278,"end":629,"loc":{"start":{"line":13,"column":4},"end":{"line":33,"column":5}},"expression":{"type":"AssignmentExpression","start":278,"end":629,"loc":{"start":{"line":13,"column":4},"end":{"line":33,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":278,"end":294,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":20}},"object":{"type":"Identifier","start":278,"end":284,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":10}},"name":"global"},"property":{"type":"Identifier","start":285,"end":294,"loc":{"start":{"line":13,"column":11},"end":{"line":13,"column":20}},"name":"WebSocket"},"computed":false},"right":{"type":"ClassExpression","start":297,"end":629,"loc":{"start":{"line":13,"column":23},"end":{"line":33,"column":5}},"id":{"type":"Identifier","start":303,"end":312,"loc":{"start":{"line":13,"column":29},"end":{"line":13,"column":38}},"name":"WebSocket"},"superClass":null,"body":{"type":"ClassBody","start":313,"end":629,"loc":{"start":{"line":13,"column":39},"end":{"line":33,"column":5}},"body":[{"type":"MethodDefinition","start":321,"end":391,"loc":{"start":{"line":14,"column":6},"end":{"line":16,"column":7}},"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":321,"end":332,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":17}},"name":"constructor"},"value":{"type":"FunctionExpression","start":333,"end":391,"loc":{"start":{"line":14,"column":18},"end":{"line":16,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":334,"end":340,"loc":{"start":{"line":14,"column":19},"end":{"line":14,"column":25}},"name":"target"}],"body":{"type":"BlockStatement","start":342,"end":391,"loc":{"start":{"line":14,"column":27},"end":{"line":16,"column":7}},"body":[{"type":"ExpressionStatement","start":352,"end":383,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":39}},"expression":{"type":"CallExpression","start":352,"end":383,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":39}},"callee":{"type":"Identifier","start":352,"end":375,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":31}},"name":"webSocketConstructorSpy"},"arguments":[{"type":"Identifier","start":376,"end":382,"loc":{"start":{"line":15,"column":32},"end":{"line":15,"column":38}},"name":"target"}]}}]}}},{"type":"MethodDefinition","start":399,"end":453,"loc":{"start":{"line":18,"column":6},"end":{"line":20,"column":7}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":399,"end":404,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":11}},"name":"close"},"value":{"type":"FunctionExpression","start":405,"end":453,"loc":{"start":{"line":18,"column":12},"end":{"line":20,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":406,"end":410,"loc":{"start":{"line":18,"column":13},"end":{"line":18,"column":17}},"name":"args"}],"body":{"type":"BlockStatement","start":412,"end":453,"loc":{"start":{"line":18,"column":19},"end":{"line":20,"column":7}},"body":[{"type":"ExpressionStatement","start":422,"end":445,"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":31}},"expression":{"type":"CallExpression","start":422,"end":445,"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":31}},"callee":{"type":"Identifier","start":422,"end":439,"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":25}},"name":"webSocketCloseSpy"},"arguments":[{"type":"Identifier","start":440,"end":444,"loc":{"start":{"line":19,"column":26},"end":{"line":19,"column":30}},"name":"args"}]}}]}}},{"type":"MethodDefinition","start":461,"end":513,"loc":{"start":{"line":22,"column":6},"end":{"line":24,"column":7}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":461,"end":465,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":10}},"name":"send"},"value":{"type":"FunctionExpression","start":466,"end":513,"loc":{"start":{"line":22,"column":11},"end":{"line":24,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":467,"end":471,"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":16}},"name":"json"}],"body":{"type":"BlockStatement","start":473,"end":513,"loc":{"start":{"line":22,"column":18},"end":{"line":24,"column":7}},"body":[{"type":"ExpressionStatement","start":483,"end":505,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":30}},"expression":{"type":"CallExpression","start":483,"end":505,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":30}},"callee":{"type":"Identifier","start":483,"end":499,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":24}},"name":"webSocketSendSpy"},"arguments":[{"type":"Identifier","start":500,"end":504,"loc":{"start":{"line":23,"column":25},"end":{"line":23,"column":29}},"name":"json"}]}}]}}},{"type":"MethodDefinition","start":521,"end":567,"loc":{"start":{"line":26,"column":6},"end":{"line":28,"column":7}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":521,"end":532,"loc":{"start":{"line":26,"column":6},"end":{"line":26,"column":17}},"name":"triggerOpen"},"value":{"type":"FunctionExpression","start":533,"end":567,"loc":{"start":{"line":26,"column":18},"end":{"line":28,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":536,"end":567,"loc":{"start":{"line":26,"column":21},"end":{"line":28,"column":7}},"body":[{"type":"ExpressionStatement","start":546,"end":559,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":21}},"expression":{"type":"CallExpression","start":546,"end":559,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":21}},"callee":{"type":"MemberExpression","start":546,"end":557,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":19}},"object":{"type":"ThisExpression","start":546,"end":550,"loc":{"start":{"line":27,"column":8},"end":{"line":27,"column":12}}},"property":{"type":"Identifier","start":551,"end":557,"loc":{"start":{"line":27,"column":13},"end":{"line":27,"column":19}},"name":"onopen"},"computed":false},"arguments":[]}}]}}},{"type":"MethodDefinition","start":575,"end":623,"loc":{"start":{"line":30,"column":6},"end":{"line":32,"column":7}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":575,"end":587,"loc":{"start":{"line":30,"column":6},"end":{"line":30,"column":18}},"name":"triggerClose"},"value":{"type":"FunctionExpression","start":588,"end":623,"loc":{"start":{"line":30,"column":19},"end":{"line":32,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":591,"end":623,"loc":{"start":{"line":30,"column":22},"end":{"line":32,"column":7}},"body":[{"type":"ExpressionStatement","start":601,"end":615,"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":22}},"expression":{"type":"CallExpression","start":601,"end":615,"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":22}},"callee":{"type":"MemberExpression","start":601,"end":613,"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":20}},"object":{"type":"ThisExpression","start":601,"end":605,"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":12}}},"property":{"type":"Identifier","start":606,"end":613,"loc":{"start":{"line":31,"column":13},"end":{"line":31,"column":20}},"name":"onclose"},"computed":false},"arguments":[]}}]}}}]}}}}]}}]}},{"type":"ExpressionStatement","start":637,"end":692,"loc":{"start":{"line":35,"column":2},"end":{"line":37,"column":4}},"expression":{"type":"CallExpression","start":637,"end":692,"loc":{"start":{"line":35,"column":2},"end":{"line":37,"column":4}},"callee":{"type":"Identifier","start":637,"end":646,"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":11}},"name":"afterEach"},"arguments":[{"type":"ArrowFunctionExpression","start":647,"end":691,"loc":{"start":{"line":35,"column":12},"end":{"line":37,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":653,"end":691,"loc":{"start":{"line":35,"column":18},"end":{"line":37,"column":3}},"body":[{"type":"ExpressionStatement","start":659,"end":687,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":32}},"expression":{"type":"AssignmentExpression","start":659,"end":687,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":32}},"operator":"=","left":{"type":"MemberExpression","start":659,"end":675,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":20}},"object":{"type":"Identifier","start":659,"end":665,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":10}},"name":"global"},"property":{"type":"Identifier","start":666,"end":675,"loc":{"start":{"line":36,"column":11},"end":{"line":36,"column":20}},"name":"WebSocket"},"computed":false},"right":{"type":"Identifier","start":678,"end":687,"loc":{"start":{"line":36,"column":23},"end":{"line":36,"column":32}},"name":"undefined"}}}]}}]}},{"type":"ExpressionStatement","start":696,"end":880,"loc":{"start":{"line":39,"column":2},"end":{"line":46,"column":4}},"expression":{"type":"CallExpression","start":696,"end":880,"loc":{"start":{"line":39,"column":2},"end":{"line":46,"column":4}},"callee":{"type":"Identifier","start":696,"end":698,"loc":{"start":{"line":39,"column":2},"end":{"line":39,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":699,"end":722,"loc":{"start":{"line":39,"column":5},"end":{"line":39,"column":28}},"value":"should expose a class","raw":"'should expose a class'"},{"type":"ArrowFunctionExpression","start":724,"end":879,"loc":{"start":{"line":39,"column":30},"end":{"line":46,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":730,"end":879,"loc":{"start":{"line":39,"column":36},"end":{"line":46,"column":3}},"body":[{"type":"ExpressionStatement","start":736,"end":781,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":49}},"expression":{"type":"CallExpression","start":736,"end":781,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":49}},"callee":{"type":"MemberExpression","start":736,"end":767,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":35}},"object":{"type":"CallExpression","start":736,"end":759,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":27}},"callee":{"type":"Identifier","start":736,"end":742,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":743,"end":758,"loc":{"start":{"line":40,"column":11},"end":{"line":40,"column":26}},"object":{"type":"Identifier","start":743,"end":753,"loc":{"start":{"line":40,"column":11},"end":{"line":40,"column":21}},"name":"UppySocket"},"property":{"type":"Identifier","start":754,"end":758,"loc":{"start":{"line":40,"column":22},"end":{"line":40,"column":26}},"name":"name"},"computed":false}]},"property":{"type":"Identifier","start":760,"end":767,"loc":{"start":{"line":40,"column":28},"end":{"line":40,"column":35}},"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":768,"end":780,"loc":{"start":{"line":40,"column":36},"end":{"line":40,"column":48}},"value":"UppySocket","raw":"'UppySocket'"}]}},{"type":"ExpressionStatement","start":786,"end":875,"loc":{"start":{"line":41,"column":4},"end":{"line":45,"column":5}},"expression":{"type":"CallExpression","start":786,"end":875,"loc":{"start":{"line":41,"column":4},"end":{"line":45,"column":5}},"callee":{"type":"Identifier","start":786,"end":792,"loc":{"start":{"line":41,"column":4},"end":{"line":41,"column":10}},"name":"expect"},"arguments":[{"type":"BinaryExpression","start":800,"end":869,"loc":{"start":{"line":42,"column":6},"end":{"line":44,"column":30}},"left":{"type":"NewExpression","start":800,"end":847,"loc":{"start":{"line":42,"column":6},"end":{"line":44,"column":8}},"callee":{"type":"Identifier","start":804,"end":814,"loc":{"start":{"line":42,"column":10},"end":{"line":42,"column":20}},"name":"UppySocket"},"arguments":[{"type":"ObjectExpression","start":815,"end":846,"loc":{"start":{"line":42,"column":21},"end":{"line":44,"column":7}},"properties":[{"type":"Property","start":825,"end":838,"loc":{"start":{"line":43,"column":8},"end":{"line":43,"column":21}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":825,"end":831,"loc":{"start":{"line":43,"column":8},"end":{"line":43,"column":14}},"name":"target"},"value":{"type":"Literal","start":833,"end":838,"loc":{"start":{"line":43,"column":16},"end":{"line":43,"column":21}},"value":"foo","raw":"'foo'"},"kind":"init"}]}]},"operator":"instanceof","right":{"type":"Identifier","start":859,"end":869,"loc":{"start":{"line":44,"column":20},"end":{"line":44,"column":30}},"name":"UppySocket"}}]}}]}}]}},{"type":"ExpressionStatement","start":884,"end":1067,"loc":{"start":{"line":48,"column":2},"end":{"line":51,"column":4}},"expression":{"type":"CallExpression","start":884,"end":1067,"loc":{"start":{"line":48,"column":2},"end":{"line":51,"column":4}},"callee":{"type":"Identifier","start":884,"end":886,"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":887,"end":917,"loc":{"start":{"line":48,"column":5},"end":{"line":48,"column":35}},"value":"should setup a new WebSocket","raw":"'should setup a new WebSocket'"},{"type":"ArrowFunctionExpression","start":919,"end":1066,"loc":{"start":{"line":48,"column":37},"end":{"line":51,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":925,"end":1066,"loc":{"start":{"line":48,"column":43},"end":{"line":51,"column":3}},"body":[{"type":"ExpressionStatement","start":931,"end":964,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":37}},"expression":{"type":"NewExpression","start":931,"end":964,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":37}},"callee":{"type":"Identifier","start":935,"end":945,"loc":{"start":{"line":49,"column":8},"end":{"line":49,"column":18}},"name":"UppySocket"},"arguments":[{"type":"ObjectExpression","start":946,"end":963,"loc":{"start":{"line":49,"column":19},"end":{"line":49,"column":36}},"properties":[{"type":"Property","start":948,"end":961,"loc":{"start":{"line":49,"column":21},"end":{"line":49,"column":34}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":948,"end":954,"loc":{"start":{"line":49,"column":21},"end":{"line":49,"column":27}},"name":"target"},"value":{"type":"Literal","start":956,"end":961,"loc":{"start":{"line":49,"column":29},"end":{"line":49,"column":34}},"value":"foo","raw":"'foo'"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":999,"end":1062,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":67}},"expression":{"type":"CallExpression","start":999,"end":1062,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":67}},"callee":{"type":"MemberExpression","start":999,"end":1055,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":60}},"object":{"type":"CallExpression","start":999,"end":1047,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":52}},"callee":{"type":"Identifier","start":999,"end":1005,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":1006,"end":1046,"loc":{"start":{"line":50,"column":11},"end":{"line":50,"column":51}},"object":{"type":"MemberExpression","start":1006,"end":1043,"loc":{"start":{"line":50,"column":11},"end":{"line":50,"column":48}},"object":{"type":"MemberExpression","start":1006,"end":1040,"loc":{"start":{"line":50,"column":11},"end":{"line":50,"column":45}},"object":{"type":"MemberExpression","start":1006,"end":1034,"loc":{"start":{"line":50,"column":11},"end":{"line":50,"column":39}},"object":{"type":"Identifier","start":1006,"end":1029,"loc":{"start":{"line":50,"column":11},"end":{"line":50,"column":34}},"name":"webSocketConstructorSpy"},"property":{"type":"Identifier","start":1030,"end":1034,"loc":{"start":{"line":50,"column":35},"end":{"line":50,"column":39}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":1035,"end":1040,"loc":{"start":{"line":50,"column":40},"end":{"line":50,"column":45}},"name":"calls"},"computed":false},"property":{"type":"Literal","start":1041,"end":1042,"loc":{"start":{"line":50,"column":46},"end":{"line":50,"column":47}},"value":0,"raw":"0"},"computed":true},"property":{"type":"Literal","start":1044,"end":1045,"loc":{"start":{"line":50,"column":49},"end":{"line":50,"column":50}},"value":0,"raw":"0"},"computed":true}]},"property":{"type":"Identifier","start":1048,"end":1055,"loc":{"start":{"line":50,"column":53},"end":{"line":50,"column":60}},"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1056,"end":1061,"loc":{"start":{"line":50,"column":61},"end":{"line":50,"column":66}},"value":"foo","raw":"'foo'"}]}}]}}]}},{"type":"ExpressionStatement","start":1071,"end":1505,"loc":{"start":{"line":53,"column":2},"end":{"line":63,"column":4}},"expression":{"type":"CallExpression","start":1071,"end":1505,"loc":{"start":{"line":53,"column":2},"end":{"line":63,"column":4}},"callee":{"type":"Identifier","start":1071,"end":1073,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":1074,"end":1141,"loc":{"start":{"line":53,"column":5},"end":{"line":53,"column":72}},"value":"should send a message via the websocket if the connection is open","raw":"'should send a message via the websocket if the connection is open'"},{"type":"ArrowFunctionExpression","start":1143,"end":1504,"loc":{"start":{"line":53,"column":74},"end":{"line":63,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1149,"end":1504,"loc":{"start":{"line":53,"column":80},"end":{"line":63,"column":3}},"body":[{"type":"VariableDeclaration","start":1155,"end":1207,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":56}},"declarations":[{"type":"VariableDeclarator","start":1161,"end":1207,"loc":{"start":{"line":54,"column":10},"end":{"line":54,"column":56}},"id":{"type":"Identifier","start":1161,"end":1171,"loc":{"start":{"line":54,"column":10},"end":{"line":54,"column":20}},"name":"uppySocket"},"init":{"type":"NewExpression","start":1174,"end":1207,"loc":{"start":{"line":54,"column":23},"end":{"line":54,"column":56}},"callee":{"type":"Identifier","start":1178,"end":1188,"loc":{"start":{"line":54,"column":27},"end":{"line":54,"column":37}},"name":"UppySocket"},"arguments":[{"type":"ObjectExpression","start":1189,"end":1206,"loc":{"start":{"line":54,"column":38},"end":{"line":54,"column":55}},"properties":[{"type":"Property","start":1191,"end":1204,"loc":{"start":{"line":54,"column":40},"end":{"line":54,"column":53}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1191,"end":1197,"loc":{"start":{"line":54,"column":40},"end":{"line":54,"column":46}},"name":"target"},"value":{"type":"Literal","start":1199,"end":1204,"loc":{"start":{"line":54,"column":48},"end":{"line":54,"column":53}},"value":"foo","raw":"'foo'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":1212,"end":1255,"loc":{"start":{"line":55,"column":4},"end":{"line":55,"column":47}},"declarations":[{"type":"VariableDeclarator","start":1218,"end":1255,"loc":{"start":{"line":55,"column":10},"end":{"line":55,"column":47}},"id":{"type":"Identifier","start":1218,"end":1235,"loc":{"start":{"line":55,"column":10},"end":{"line":55,"column":27}},"name":"webSocketInstance"},"init":{"type":"MemberExpression","start":1238,"end":1255,"loc":{"start":{"line":55,"column":30},"end":{"line":55,"column":47}},"object":{"type":"Identifier","start":1238,"end":1248,"loc":{"start":{"line":55,"column":30},"end":{"line":55,"column":40}},"name":"uppySocket"},"property":{"type":"Identifier","start":1249,"end":1255,"loc":{"start":{"line":55,"column":41},"end":{"line":55,"column":47}},"name":"socket"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":1260,"end":1291,"loc":{"start":{"line":56,"column":4},"end":{"line":56,"column":35}},"expression":{"type":"CallExpression","start":1260,"end":1291,"loc":{"start":{"line":56,"column":4},"end":{"line":56,"column":35}},"callee":{"type":"MemberExpression","start":1260,"end":1289,"loc":{"start":{"line":56,"column":4},"end":{"line":56,"column":33}},"object":{"type":"Identifier","start":1260,"end":1277,"loc":{"start":{"line":56,"column":4},"end":{"line":56,"column":21}},"name":"webSocketInstance"},"property":{"type":"Identifier","start":1278,"end":1289,"loc":{"start":{"line":56,"column":22},"end":{"line":56,"column":33}},"name":"triggerOpen"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":1297,"end":1326,"loc":{"start":{"line":58,"column":4},"end":{"line":58,"column":33}},"expression":{"type":"CallExpression","start":1297,"end":1326,"loc":{"start":{"line":58,"column":4},"end":{"line":58,"column":33}},"callee":{"type":"MemberExpression","start":1297,"end":1312,"loc":{"start":{"line":58,"column":4},"end":{"line":58,"column":19}},"object":{"type":"Identifier","start":1297,"end":1307,"loc":{"start":{"line":58,"column":4},"end":{"line":58,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":1308,"end":1312,"loc":{"start":{"line":58,"column":15},"end":{"line":58,"column":19}},"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":1313,"end":1318,"loc":{"start":{"line":58,"column":20},"end":{"line":58,"column":25}},"value":"bar","raw":"'bar'"},{"type":"Literal","start":1320,"end":1325,"loc":{"start":{"line":58,"column":27},"end":{"line":58,"column":32}},"value":"boo","raw":"'boo'"}]}},{"type":"ExpressionStatement","start":1331,"end":1384,"loc":{"start":{"line":59,"column":4},"end":{"line":59,"column":57}},"expression":{"type":"CallExpression","start":1331,"end":1384,"loc":{"start":{"line":59,"column":4},"end":{"line":59,"column":57}},"callee":{"type":"MemberExpression","start":1331,"end":1381,"loc":{"start":{"line":59,"column":4},"end":{"line":59,"column":54}},"object":{"type":"CallExpression","start":1331,"end":1373,"loc":{"start":{"line":59,"column":4},"end":{"line":59,"column":46}},"callee":{"type":"Identifier","start":1331,"end":1337,"loc":{"start":{"line":59,"column":4},"end":{"line":59,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":1338,"end":1372,"loc":{"start":{"line":59,"column":11},"end":{"line":59,"column":45}},"object":{"type":"MemberExpression","start":1338,"end":1365,"loc":{"start":{"line":59,"column":11},"end":{"line":59,"column":38}},"object":{"type":"MemberExpression","start":1338,"end":1359,"loc":{"start":{"line":59,"column":11},"end":{"line":59,"column":32}},"object":{"type":"Identifier","start":1338,"end":1354,"loc":{"start":{"line":59,"column":11},"end":{"line":59,"column":27}},"name":"webSocketSendSpy"},"property":{"type":"Identifier","start":1355,"end":1359,"loc":{"start":{"line":59,"column":28},"end":{"line":59,"column":32}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":1360,"end":1365,"loc":{"start":{"line":59,"column":33},"end":{"line":59,"column":38}},"name":"calls"},"computed":false},"property":{"type":"Identifier","start":1366,"end":1372,"loc":{"start":{"line":59,"column":39},"end":{"line":59,"column":45}},"name":"length"},"computed":false}]},"property":{"type":"Identifier","start":1374,"end":1381,"loc":{"start":{"line":59,"column":47},"end":{"line":59,"column":54}},"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1382,"end":1383,"loc":{"start":{"line":59,"column":55},"end":{"line":59,"column":56}},"value":1,"raw":"1"}]}},{"type":"ExpressionStatement","start":1389,"end":1500,"loc":{"start":{"line":60,"column":4},"end":{"line":62,"column":6}},"expression":{"type":"CallExpression","start":1389,"end":1500,"loc":{"start":{"line":60,"column":4},"end":{"line":62,"column":6}},"callee":{"type":"MemberExpression","start":1389,"end":1435,"loc":{"start":{"line":60,"column":4},"end":{"line":60,"column":50}},"object":{"type":"CallExpression","start":1389,"end":1427,"loc":{"start":{"line":60,"column":4},"end":{"line":60,"column":42}},"callee":{"type":"Identifier","start":1389,"end":1395,"loc":{"start":{"line":60,"column":4},"end":{"line":60,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":1396,"end":1426,"loc":{"start":{"line":60,"column":11},"end":{"line":60,"column":41}},"object":{"type":"MemberExpression","start":1396,"end":1423,"loc":{"start":{"line":60,"column":11},"end":{"line":60,"column":38}},"object":{"type":"MemberExpression","start":1396,"end":1417,"loc":{"start":{"line":60,"column":11},"end":{"line":60,"column":32}},"object":{"type":"Identifier","start":1396,"end":1412,"loc":{"start":{"line":60,"column":11},"end":{"line":60,"column":27}},"name":"webSocketSendSpy"},"property":{"type":"Identifier","start":1413,"end":1417,"loc":{"start":{"line":60,"column":28},"end":{"line":60,"column":32}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":1418,"end":1423,"loc":{"start":{"line":60,"column":33},"end":{"line":60,"column":38}},"name":"calls"},"computed":false},"property":{"type":"Literal","start":1424,"end":1425,"loc":{"start":{"line":60,"column":39},"end":{"line":60,"column":40}},"value":0,"raw":"0"},"computed":true}]},"property":{"type":"Identifier","start":1428,"end":1435,"loc":{"start":{"line":60,"column":43},"end":{"line":60,"column":50}},"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":1436,"end":1499,"loc":{"start":{"line":60,"column":51},"end":{"line":62,"column":5}},"elements":[{"type":"CallExpression","start":1444,"end":1493,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":55}},"callee":{"type":"MemberExpression","start":1444,"end":1458,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":20}},"object":{"type":"Identifier","start":1444,"end":1448,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":10}},"name":"JSON"},"property":{"type":"Identifier","start":1449,"end":1458,"loc":{"start":{"line":61,"column":11},"end":{"line":61,"column":20}},"name":"stringify"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1459,"end":1492,"loc":{"start":{"line":61,"column":21},"end":{"line":61,"column":54}},"properties":[{"type":"Property","start":1461,"end":1474,"loc":{"start":{"line":61,"column":23},"end":{"line":61,"column":36}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1461,"end":1467,"loc":{"start":{"line":61,"column":23},"end":{"line":61,"column":29}},"name":"action"},"value":{"type":"Literal","start":1469,"end":1474,"loc":{"start":{"line":61,"column":31},"end":{"line":61,"column":36}},"value":"bar","raw":"'bar'"},"kind":"init"},{"type":"Property","start":1476,"end":1490,"loc":{"start":{"line":61,"column":38},"end":{"line":61,"column":52}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1476,"end":1483,"loc":{"start":{"line":61,"column":38},"end":{"line":61,"column":45}},"name":"payload"},"value":{"type":"Literal","start":1485,"end":1490,"loc":{"start":{"line":61,"column":47},"end":{"line":61,"column":52}},"value":"boo","raw":"'boo'"},"kind":"init"}]}]}]}]}}]}}]}},{"type":"ExpressionStatement","start":1509,"end":1826,"loc":{"start":{"line":65,"column":2},"end":{"line":71,"column":4}},"expression":{"type":"CallExpression","start":1509,"end":1826,"loc":{"start":{"line":65,"column":2},"end":{"line":71,"column":4}},"callee":{"type":"Identifier","start":1509,"end":1511,"loc":{"start":{"line":65,"column":2},"end":{"line":65,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":1512,"end":1586,"loc":{"start":{"line":65,"column":5},"end":{"line":65,"column":79}},"value":"should queue the message for the websocket if the connection is not open","raw":"'should queue the message for the websocket if the connection is not open'"},{"type":"ArrowFunctionExpression","start":1588,"end":1825,"loc":{"start":{"line":65,"column":81},"end":{"line":71,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1594,"end":1825,"loc":{"start":{"line":65,"column":87},"end":{"line":71,"column":3}},"body":[{"type":"VariableDeclaration","start":1600,"end":1652,"loc":{"start":{"line":66,"column":4},"end":{"line":66,"column":56}},"declarations":[{"type":"VariableDeclarator","start":1606,"end":1652,"loc":{"start":{"line":66,"column":10},"end":{"line":66,"column":56}},"id":{"type":"Identifier","start":1606,"end":1616,"loc":{"start":{"line":66,"column":10},"end":{"line":66,"column":20}},"name":"uppySocket"},"init":{"type":"NewExpression","start":1619,"end":1652,"loc":{"start":{"line":66,"column":23},"end":{"line":66,"column":56}},"callee":{"type":"Identifier","start":1623,"end":1633,"loc":{"start":{"line":66,"column":27},"end":{"line":66,"column":37}},"name":"UppySocket"},"arguments":[{"type":"ObjectExpression","start":1634,"end":1651,"loc":{"start":{"line":66,"column":38},"end":{"line":66,"column":55}},"properties":[{"type":"Property","start":1636,"end":1649,"loc":{"start":{"line":66,"column":40},"end":{"line":66,"column":53}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1636,"end":1642,"loc":{"start":{"line":66,"column":40},"end":{"line":66,"column":46}},"name":"target"},"value":{"type":"Literal","start":1644,"end":1649,"loc":{"start":{"line":66,"column":48},"end":{"line":66,"column":53}},"value":"foo","raw":"'foo'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1658,"end":1687,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":33}},"expression":{"type":"CallExpression","start":1658,"end":1687,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":33}},"callee":{"type":"MemberExpression","start":1658,"end":1673,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":19}},"object":{"type":"Identifier","start":1658,"end":1668,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":1669,"end":1673,"loc":{"start":{"line":68,"column":15},"end":{"line":68,"column":19}},"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":1674,"end":1679,"loc":{"start":{"line":68,"column":20},"end":{"line":68,"column":25}},"value":"bar","raw":"'bar'"},{"type":"Literal","start":1681,"end":1686,"loc":{"start":{"line":68,"column":27},"end":{"line":68,"column":32}},"value":"boo","raw":"'boo'"}]}},{"type":"ExpressionStatement","start":1692,"end":1763,"loc":{"start":{"line":69,"column":4},"end":{"line":69,"column":75}},"expression":{"type":"CallExpression","start":1692,"end":1763,"loc":{"start":{"line":69,"column":4},"end":{"line":69,"column":75}},"callee":{"type":"MemberExpression","start":1692,"end":1726,"loc":{"start":{"line":69,"column":4},"end":{"line":69,"column":38}},"object":{"type":"CallExpression","start":1692,"end":1718,"loc":{"start":{"line":69,"column":4},"end":{"line":69,"column":30}},"callee":{"type":"Identifier","start":1692,"end":1698,"loc":{"start":{"line":69,"column":4},"end":{"line":69,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":1699,"end":1717,"loc":{"start":{"line":69,"column":11},"end":{"line":69,"column":29}},"object":{"type":"Identifier","start":1699,"end":1709,"loc":{"start":{"line":69,"column":11},"end":{"line":69,"column":21}},"name":"uppySocket"},"property":{"type":"Identifier","start":1710,"end":1717,"loc":{"start":{"line":69,"column":22},"end":{"line":69,"column":29}},"name":"_queued"},"computed":false}]},"property":{"type":"Identifier","start":1719,"end":1726,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":38}},"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":1727,"end":1762,"loc":{"start":{"line":69,"column":39},"end":{"line":69,"column":74}},"elements":[{"type":"ObjectExpression","start":1728,"end":1761,"loc":{"start":{"line":69,"column":40},"end":{"line":69,"column":73}},"properties":[{"type":"Property","start":1730,"end":1743,"loc":{"start":{"line":69,"column":42},"end":{"line":69,"column":55}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1730,"end":1736,"loc":{"start":{"line":69,"column":42},"end":{"line":69,"column":48}},"name":"action"},"value":{"type":"Literal","start":1738,"end":1743,"loc":{"start":{"line":69,"column":50},"end":{"line":69,"column":55}},"value":"bar","raw":"'bar'"},"kind":"init"},{"type":"Property","start":1745,"end":1759,"loc":{"start":{"line":69,"column":57},"end":{"line":69,"column":71}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1745,"end":1752,"loc":{"start":{"line":69,"column":57},"end":{"line":69,"column":64}},"name":"payload"},"value":{"type":"Literal","start":1754,"end":1759,"loc":{"start":{"line":69,"column":66},"end":{"line":69,"column":71}},"value":"boo","raw":"'boo'"},"kind":"init"}]}]}]}},{"type":"ExpressionStatement","start":1768,"end":1821,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":57}},"expression":{"type":"CallExpression","start":1768,"end":1821,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":57}},"callee":{"type":"MemberExpression","start":1768,"end":1818,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":54}},"object":{"type":"CallExpression","start":1768,"end":1810,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":46}},"callee":{"type":"Identifier","start":1768,"end":1774,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":1775,"end":1809,"loc":{"start":{"line":70,"column":11},"end":{"line":70,"column":45}},"object":{"type":"MemberExpression","start":1775,"end":1802,"loc":{"start":{"line":70,"column":11},"end":{"line":70,"column":38}},"object":{"type":"MemberExpression","start":1775,"end":1796,"loc":{"start":{"line":70,"column":11},"end":{"line":70,"column":32}},"object":{"type":"Identifier","start":1775,"end":1791,"loc":{"start":{"line":70,"column":11},"end":{"line":70,"column":27}},"name":"webSocketSendSpy"},"property":{"type":"Identifier","start":1792,"end":1796,"loc":{"start":{"line":70,"column":28},"end":{"line":70,"column":32}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":1797,"end":1802,"loc":{"start":{"line":70,"column":33},"end":{"line":70,"column":38}},"name":"calls"},"computed":false},"property":{"type":"Identifier","start":1803,"end":1809,"loc":{"start":{"line":70,"column":39},"end":{"line":70,"column":45}},"name":"length"},"computed":false}]},"property":{"type":"Identifier","start":1811,"end":1818,"loc":{"start":{"line":70,"column":47},"end":{"line":70,"column":54}},"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1819,"end":1820,"loc":{"start":{"line":70,"column":55},"end":{"line":70,"column":56}},"value":0,"raw":"0"}]}}]}}]}},{"type":"ExpressionStatement","start":1830,"end":2698,"loc":{"start":{"line":73,"column":2},"end":{"line":95,"column":4}},"expression":{"type":"CallExpression","start":1830,"end":2698,"loc":{"start":{"line":73,"column":2},"end":{"line":95,"column":4}},"callee":{"type":"Identifier","start":1830,"end":1832,"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":1833,"end":1952,"loc":{"start":{"line":73,"column":5},"end":{"line":73,"column":124}},"value":"should queue any messages for the websocket if the connection is not open, then send them when the connection is open","raw":"'should queue any messages for the websocket if the connection is not open, then send them when the connection is open'"},{"type":"ArrowFunctionExpression","start":1954,"end":2697,"loc":{"start":{"line":73,"column":126},"end":{"line":95,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1960,"end":2697,"loc":{"start":{"line":73,"column":132},"end":{"line":95,"column":3}},"body":[{"type":"VariableDeclaration","start":1966,"end":2018,"loc":{"start":{"line":74,"column":4},"end":{"line":74,"column":56}},"declarations":[{"type":"VariableDeclarator","start":1972,"end":2018,"loc":{"start":{"line":74,"column":10},"end":{"line":74,"column":56}},"id":{"type":"Identifier","start":1972,"end":1982,"loc":{"start":{"line":74,"column":10},"end":{"line":74,"column":20}},"name":"uppySocket"},"init":{"type":"NewExpression","start":1985,"end":2018,"loc":{"start":{"line":74,"column":23},"end":{"line":74,"column":56}},"callee":{"type":"Identifier","start":1989,"end":1999,"loc":{"start":{"line":74,"column":27},"end":{"line":74,"column":37}},"name":"UppySocket"},"arguments":[{"type":"ObjectExpression","start":2000,"end":2017,"loc":{"start":{"line":74,"column":38},"end":{"line":74,"column":55}},"properties":[{"type":"Property","start":2002,"end":2015,"loc":{"start":{"line":74,"column":40},"end":{"line":74,"column":53}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2002,"end":2008,"loc":{"start":{"line":74,"column":40},"end":{"line":74,"column":46}},"name":"target"},"value":{"type":"Literal","start":2010,"end":2015,"loc":{"start":{"line":74,"column":48},"end":{"line":74,"column":53}},"value":"foo","raw":"'foo'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2023,"end":2066,"loc":{"start":{"line":75,"column":4},"end":{"line":75,"column":47}},"declarations":[{"type":"VariableDeclarator","start":2029,"end":2066,"loc":{"start":{"line":75,"column":10},"end":{"line":75,"column":47}},"id":{"type":"Identifier","start":2029,"end":2046,"loc":{"start":{"line":75,"column":10},"end":{"line":75,"column":27}},"name":"webSocketInstance"},"init":{"type":"MemberExpression","start":2049,"end":2066,"loc":{"start":{"line":75,"column":30},"end":{"line":75,"column":47}},"object":{"type":"Identifier","start":2049,"end":2059,"loc":{"start":{"line":75,"column":30},"end":{"line":75,"column":40}},"name":"uppySocket"},"property":{"type":"Identifier","start":2060,"end":2066,"loc":{"start":{"line":75,"column":41},"end":{"line":75,"column":47}},"name":"socket"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":2072,"end":2101,"loc":{"start":{"line":77,"column":4},"end":{"line":77,"column":33}},"expression":{"type":"CallExpression","start":2072,"end":2101,"loc":{"start":{"line":77,"column":4},"end":{"line":77,"column":33}},"callee":{"type":"MemberExpression","start":2072,"end":2087,"loc":{"start":{"line":77,"column":4},"end":{"line":77,"column":19}},"object":{"type":"Identifier","start":2072,"end":2082,"loc":{"start":{"line":77,"column":4},"end":{"line":77,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":2083,"end":2087,"loc":{"start":{"line":77,"column":15},"end":{"line":77,"column":19}},"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":2088,"end":2093,"loc":{"start":{"line":77,"column":20},"end":{"line":77,"column":25}},"value":"bar","raw":"'bar'"},{"type":"Literal","start":2095,"end":2100,"loc":{"start":{"line":77,"column":27},"end":{"line":77,"column":32}},"value":"boo","raw":"'boo'"}]}},{"type":"ExpressionStatement","start":2106,"end":2135,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":33}},"expression":{"type":"CallExpression","start":2106,"end":2135,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":33}},"callee":{"type":"MemberExpression","start":2106,"end":2121,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":19}},"object":{"type":"Identifier","start":2106,"end":2116,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":2117,"end":2121,"loc":{"start":{"line":78,"column":15},"end":{"line":78,"column":19}},"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":2122,"end":2127,"loc":{"start":{"line":78,"column":20},"end":{"line":78,"column":25}},"value":"moo","raw":"'moo'"},{"type":"Literal","start":2129,"end":2134,"loc":{"start":{"line":78,"column":27},"end":{"line":78,"column":32}},"value":"baa","raw":"'baa'"}]}},{"type":"ExpressionStatement","start":2140,"end":2264,"loc":{"start":{"line":79,"column":4},"end":{"line":82,"column":6}},"expression":{"type":"CallExpression","start":2140,"end":2264,"loc":{"start":{"line":79,"column":4},"end":{"line":82,"column":6}},"callee":{"type":"MemberExpression","start":2140,"end":2174,"loc":{"start":{"line":79,"column":4},"end":{"line":79,"column":38}},"object":{"type":"CallExpression","start":2140,"end":2166,"loc":{"start":{"line":79,"column":4},"end":{"line":79,"column":30}},"callee":{"type":"Identifier","start":2140,"end":2146,"loc":{"start":{"line":79,"column":4},"end":{"line":79,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":2147,"end":2165,"loc":{"start":{"line":79,"column":11},"end":{"line":79,"column":29}},"object":{"type":"Identifier","start":2147,"end":2157,"loc":{"start":{"line":79,"column":11},"end":{"line":79,"column":21}},"name":"uppySocket"},"property":{"type":"Identifier","start":2158,"end":2165,"loc":{"start":{"line":79,"column":22},"end":{"line":79,"column":29}},"name":"_queued"},"computed":false}]},"property":{"type":"Identifier","start":2167,"end":2174,"loc":{"start":{"line":79,"column":31},"end":{"line":79,"column":38}},"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":2175,"end":2263,"loc":{"start":{"line":79,"column":39},"end":{"line":82,"column":5}},"elements":[{"type":"ObjectExpression","start":2183,"end":2216,"loc":{"start":{"line":80,"column":6},"end":{"line":80,"column":39}},"properties":[{"type":"Property","start":2185,"end":2198,"loc":{"start":{"line":80,"column":8},"end":{"line":80,"column":21}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2185,"end":2191,"loc":{"start":{"line":80,"column":8},"end":{"line":80,"column":14}},"name":"action"},"value":{"type":"Literal","start":2193,"end":2198,"loc":{"start":{"line":80,"column":16},"end":{"line":80,"column":21}},"value":"bar","raw":"'bar'"},"kind":"init"},{"type":"Property","start":2200,"end":2214,"loc":{"start":{"line":80,"column":23},"end":{"line":80,"column":37}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2200,"end":2207,"loc":{"start":{"line":80,"column":23},"end":{"line":80,"column":30}},"name":"payload"},"value":{"type":"Literal","start":2209,"end":2214,"loc":{"start":{"line":80,"column":32},"end":{"line":80,"column":37}},"value":"boo","raw":"'boo'"},"kind":"init"}]},{"type":"ObjectExpression","start":2224,"end":2257,"loc":{"start":{"line":81,"column":6},"end":{"line":81,"column":39}},"properties":[{"type":"Property","start":2226,"end":2239,"loc":{"start":{"line":81,"column":8},"end":{"line":81,"column":21}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2226,"end":2232,"loc":{"start":{"line":81,"column":8},"end":{"line":81,"column":14}},"name":"action"},"value":{"type":"Literal","start":2234,"end":2239,"loc":{"start":{"line":81,"column":16},"end":{"line":81,"column":21}},"value":"moo","raw":"'moo'"},"kind":"init"},{"type":"Property","start":2241,"end":2255,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":37}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2241,"end":2248,"loc":{"start":{"line":81,"column":23},"end":{"line":81,"column":30}},"name":"payload"},"value":{"type":"Literal","start":2250,"end":2255,"loc":{"start":{"line":81,"column":32},"end":{"line":81,"column":37}},"value":"baa","raw":"'baa'"},"kind":"init"}]}]}]}},{"type":"ExpressionStatement","start":2269,"end":2322,"loc":{"start":{"line":83,"column":4},"end":{"line":83,"column":57}},"expression":{"type":"CallExpression","start":2269,"end":2322,"loc":{"start":{"line":83,"column":4},"end":{"line":83,"column":57}},"callee":{"type":"MemberExpression","start":2269,"end":2319,"loc":{"start":{"line":83,"column":4},"end":{"line":83,"column":54}},"object":{"type":"CallExpression","start":2269,"end":2311,"loc":{"start":{"line":83,"column":4},"end":{"line":83,"column":46}},"callee":{"type":"Identifier","start":2269,"end":2275,"loc":{"start":{"line":83,"column":4},"end":{"line":83,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":2276,"end":2310,"loc":{"start":{"line":83,"column":11},"end":{"line":83,"column":45}},"object":{"type":"MemberExpression","start":2276,"end":2303,"loc":{"start":{"line":83,"column":11},"end":{"line":83,"column":38}},"object":{"type":"MemberExpression","start":2276,"end":2297,"loc":{"start":{"line":83,"column":11},"end":{"line":83,"column":32}},"object":{"type":"Identifier","start":2276,"end":2292,"loc":{"start":{"line":83,"column":11},"end":{"line":83,"column":27}},"name":"webSocketSendSpy"},"property":{"type":"Identifier","start":2293,"end":2297,"loc":{"start":{"line":83,"column":28},"end":{"line":83,"column":32}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":2298,"end":2303,"loc":{"start":{"line":83,"column":33},"end":{"line":83,"column":38}},"name":"calls"},"computed":false},"property":{"type":"Identifier","start":2304,"end":2310,"loc":{"start":{"line":83,"column":39},"end":{"line":83,"column":45}},"name":"length"},"computed":false}]},"property":{"type":"Identifier","start":2312,"end":2319,"loc":{"start":{"line":83,"column":47},"end":{"line":83,"column":54}},"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":2320,"end":2321,"loc":{"start":{"line":83,"column":55},"end":{"line":83,"column":56}},"value":0,"raw":"0"}]}},{"type":"ExpressionStatement","start":2328,"end":2359,"loc":{"start":{"line":85,"column":4},"end":{"line":85,"column":35}},"expression":{"type":"CallExpression","start":2328,"end":2359,"loc":{"start":{"line":85,"column":4},"end":{"line":85,"column":35}},"callee":{"type":"MemberExpression","start":2328,"end":2357,"loc":{"start":{"line":85,"column":4},"end":{"line":85,"column":33}},"object":{"type":"Identifier","start":2328,"end":2345,"loc":{"start":{"line":85,"column":4},"end":{"line":85,"column":21}},"name":"webSocketInstance"},"property":{"type":"Identifier","start":2346,"end":2357,"loc":{"start":{"line":85,"column":22},"end":{"line":85,"column":33}},"name":"triggerOpen"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":2365,"end":2403,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":42}},"expression":{"type":"CallExpression","start":2365,"end":2403,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":42}},"callee":{"type":"MemberExpression","start":2365,"end":2399,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":38}},"object":{"type":"CallExpression","start":2365,"end":2391,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":30}},"callee":{"type":"Identifier","start":2365,"end":2371,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":2372,"end":2390,"loc":{"start":{"line":87,"column":11},"end":{"line":87,"column":29}},"object":{"type":"Identifier","start":2372,"end":2382,"loc":{"start":{"line":87,"column":11},"end":{"line":87,"column":21}},"name":"uppySocket"},"property":{"type":"Identifier","start":2383,"end":2390,"loc":{"start":{"line":87,"column":22},"end":{"line":87,"column":29}},"name":"_queued"},"computed":false}]},"property":{"type":"Identifier","start":2392,"end":2399,"loc":{"start":{"line":87,"column":31},"end":{"line":87,"column":38}},"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":2400,"end":2402,"loc":{"start":{"line":87,"column":39},"end":{"line":87,"column":41}},"elements":[]}]}},{"type":"ExpressionStatement","start":2408,"end":2461,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":57}},"expression":{"type":"CallExpression","start":2408,"end":2461,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":57}},"callee":{"type":"MemberExpression","start":2408,"end":2458,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":54}},"object":{"type":"CallExpression","start":2408,"end":2450,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":46}},"callee":{"type":"Identifier","start":2408,"end":2414,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":2415,"end":2449,"loc":{"start":{"line":88,"column":11},"end":{"line":88,"column":45}},"object":{"type":"MemberExpression","start":2415,"end":2442,"loc":{"start":{"line":88,"column":11},"end":{"line":88,"column":38}},"object":{"type":"MemberExpression","start":2415,"end":2436,"loc":{"start":{"line":88,"column":11},"end":{"line":88,"column":32}},"object":{"type":"Identifier","start":2415,"end":2431,"loc":{"start":{"line":88,"column":11},"end":{"line":88,"column":27}},"name":"webSocketSendSpy"},"property":{"type":"Identifier","start":2432,"end":2436,"loc":{"start":{"line":88,"column":28},"end":{"line":88,"column":32}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":2437,"end":2442,"loc":{"start":{"line":88,"column":33},"end":{"line":88,"column":38}},"name":"calls"},"computed":false},"property":{"type":"Identifier","start":2443,"end":2449,"loc":{"start":{"line":88,"column":39},"end":{"line":88,"column":45}},"name":"length"},"computed":false}]},"property":{"type":"Identifier","start":2451,"end":2458,"loc":{"start":{"line":88,"column":47},"end":{"line":88,"column":54}},"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":2459,"end":2460,"loc":{"start":{"line":88,"column":55},"end":{"line":88,"column":56}},"value":2,"raw":"2"}]}},{"type":"ExpressionStatement","start":2466,"end":2577,"loc":{"start":{"line":89,"column":4},"end":{"line":91,"column":6}},"expression":{"type":"CallExpression","start":2466,"end":2577,"loc":{"start":{"line":89,"column":4},"end":{"line":91,"column":6}},"callee":{"type":"MemberExpression","start":2466,"end":2512,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":50}},"object":{"type":"CallExpression","start":2466,"end":2504,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":42}},"callee":{"type":"Identifier","start":2466,"end":2472,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":2473,"end":2503,"loc":{"start":{"line":89,"column":11},"end":{"line":89,"column":41}},"object":{"type":"MemberExpression","start":2473,"end":2500,"loc":{"start":{"line":89,"column":11},"end":{"line":89,"column":38}},"object":{"type":"MemberExpression","start":2473,"end":2494,"loc":{"start":{"line":89,"column":11},"end":{"line":89,"column":32}},"object":{"type":"Identifier","start":2473,"end":2489,"loc":{"start":{"line":89,"column":11},"end":{"line":89,"column":27}},"name":"webSocketSendSpy"},"property":{"type":"Identifier","start":2490,"end":2494,"loc":{"start":{"line":89,"column":28},"end":{"line":89,"column":32}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":2495,"end":2500,"loc":{"start":{"line":89,"column":33},"end":{"line":89,"column":38}},"name":"calls"},"computed":false},"property":{"type":"Literal","start":2501,"end":2502,"loc":{"start":{"line":89,"column":39},"end":{"line":89,"column":40}},"value":0,"raw":"0"},"computed":true}]},"property":{"type":"Identifier","start":2505,"end":2512,"loc":{"start":{"line":89,"column":43},"end":{"line":89,"column":50}},"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":2513,"end":2576,"loc":{"start":{"line":89,"column":51},"end":{"line":91,"column":5}},"elements":[{"type":"CallExpression","start":2521,"end":2570,"loc":{"start":{"line":90,"column":6},"end":{"line":90,"column":55}},"callee":{"type":"MemberExpression","start":2521,"end":2535,"loc":{"start":{"line":90,"column":6},"end":{"line":90,"column":20}},"object":{"type":"Identifier","start":2521,"end":2525,"loc":{"start":{"line":90,"column":6},"end":{"line":90,"column":10}},"name":"JSON"},"property":{"type":"Identifier","start":2526,"end":2535,"loc":{"start":{"line":90,"column":11},"end":{"line":90,"column":20}},"name":"stringify"},"computed":false},"arguments":[{"type":"ObjectExpression","start":2536,"end":2569,"loc":{"start":{"line":90,"column":21},"end":{"line":90,"column":54}},"properties":[{"type":"Property","start":2538,"end":2551,"loc":{"start":{"line":90,"column":23},"end":{"line":90,"column":36}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2538,"end":2544,"loc":{"start":{"line":90,"column":23},"end":{"line":90,"column":29}},"name":"action"},"value":{"type":"Literal","start":2546,"end":2551,"loc":{"start":{"line":90,"column":31},"end":{"line":90,"column":36}},"value":"bar","raw":"'bar'"},"kind":"init"},{"type":"Property","start":2553,"end":2567,"loc":{"start":{"line":90,"column":38},"end":{"line":90,"column":52}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2553,"end":2560,"loc":{"start":{"line":90,"column":38},"end":{"line":90,"column":45}},"name":"payload"},"value":{"type":"Literal","start":2562,"end":2567,"loc":{"start":{"line":90,"column":47},"end":{"line":90,"column":52}},"value":"boo","raw":"'boo'"},"kind":"init"}]}]}]}]}},{"type":"ExpressionStatement","start":2582,"end":2693,"loc":{"start":{"line":92,"column":4},"end":{"line":94,"column":6}},"expression":{"type":"CallExpression","start":2582,"end":2693,"loc":{"start":{"line":92,"column":4},"end":{"line":94,"column":6}},"callee":{"type":"MemberExpression","start":2582,"end":2628,"loc":{"start":{"line":92,"column":4},"end":{"line":92,"column":50}},"object":{"type":"CallExpression","start":2582,"end":2620,"loc":{"start":{"line":92,"column":4},"end":{"line":92,"column":42}},"callee":{"type":"Identifier","start":2582,"end":2588,"loc":{"start":{"line":92,"column":4},"end":{"line":92,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":2589,"end":2619,"loc":{"start":{"line":92,"column":11},"end":{"line":92,"column":41}},"object":{"type":"MemberExpression","start":2589,"end":2616,"loc":{"start":{"line":92,"column":11},"end":{"line":92,"column":38}},"object":{"type":"MemberExpression","start":2589,"end":2610,"loc":{"start":{"line":92,"column":11},"end":{"line":92,"column":32}},"object":{"type":"Identifier","start":2589,"end":2605,"loc":{"start":{"line":92,"column":11},"end":{"line":92,"column":27}},"name":"webSocketSendSpy"},"property":{"type":"Identifier","start":2606,"end":2610,"loc":{"start":{"line":92,"column":28},"end":{"line":92,"column":32}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":2611,"end":2616,"loc":{"start":{"line":92,"column":33},"end":{"line":92,"column":38}},"name":"calls"},"computed":false},"property":{"type":"Literal","start":2617,"end":2618,"loc":{"start":{"line":92,"column":39},"end":{"line":92,"column":40}},"value":1,"raw":"1"},"computed":true}]},"property":{"type":"Identifier","start":2621,"end":2628,"loc":{"start":{"line":92,"column":43},"end":{"line":92,"column":50}},"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":2629,"end":2692,"loc":{"start":{"line":92,"column":51},"end":{"line":94,"column":5}},"elements":[{"type":"CallExpression","start":2637,"end":2686,"loc":{"start":{"line":93,"column":6},"end":{"line":93,"column":55}},"callee":{"type":"MemberExpression","start":2637,"end":2651,"loc":{"start":{"line":93,"column":6},"end":{"line":93,"column":20}},"object":{"type":"Identifier","start":2637,"end":2641,"loc":{"start":{"line":93,"column":6},"end":{"line":93,"column":10}},"name":"JSON"},"property":{"type":"Identifier","start":2642,"end":2651,"loc":{"start":{"line":93,"column":11},"end":{"line":93,"column":20}},"name":"stringify"},"computed":false},"arguments":[{"type":"ObjectExpression","start":2652,"end":2685,"loc":{"start":{"line":93,"column":21},"end":{"line":93,"column":54}},"properties":[{"type":"Property","start":2654,"end":2667,"loc":{"start":{"line":93,"column":23},"end":{"line":93,"column":36}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2654,"end":2660,"loc":{"start":{"line":93,"column":23},"end":{"line":93,"column":29}},"name":"action"},"value":{"type":"Literal","start":2662,"end":2667,"loc":{"start":{"line":93,"column":31},"end":{"line":93,"column":36}},"value":"moo","raw":"'moo'"},"kind":"init"},{"type":"Property","start":2669,"end":2683,"loc":{"start":{"line":93,"column":38},"end":{"line":93,"column":52}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2669,"end":2676,"loc":{"start":{"line":93,"column":38},"end":{"line":93,"column":45}},"name":"payload"},"value":{"type":"Literal","start":2678,"end":2683,"loc":{"start":{"line":93,"column":47},"end":{"line":93,"column":52}},"value":"baa","raw":"'baa'"},"kind":"init"}]}]}]}]}}]}}]}},{"type":"ExpressionStatement","start":2702,"end":3160,"loc":{"start":{"line":97,"column":2},"end":{"line":107,"column":4}},"expression":{"type":"CallExpression","start":2702,"end":3160,"loc":{"start":{"line":97,"column":2},"end":{"line":107,"column":4}},"callee":{"type":"Identifier","start":2702,"end":2704,"loc":{"start":{"line":97,"column":2},"end":{"line":97,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":2705,"end":2780,"loc":{"start":{"line":97,"column":5},"end":{"line":97,"column":80}},"value":"should start queuing any messages when the websocket connection is closed","raw":"'should start queuing any messages when the websocket connection is closed'"},{"type":"ArrowFunctionExpression","start":2782,"end":3159,"loc":{"start":{"line":97,"column":82},"end":{"line":107,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2788,"end":3159,"loc":{"start":{"line":97,"column":88},"end":{"line":107,"column":3}},"body":[{"type":"VariableDeclaration","start":2794,"end":2846,"loc":{"start":{"line":98,"column":4},"end":{"line":98,"column":56}},"declarations":[{"type":"VariableDeclarator","start":2800,"end":2846,"loc":{"start":{"line":98,"column":10},"end":{"line":98,"column":56}},"id":{"type":"Identifier","start":2800,"end":2810,"loc":{"start":{"line":98,"column":10},"end":{"line":98,"column":20}},"name":"uppySocket"},"init":{"type":"NewExpression","start":2813,"end":2846,"loc":{"start":{"line":98,"column":23},"end":{"line":98,"column":56}},"callee":{"type":"Identifier","start":2817,"end":2827,"loc":{"start":{"line":98,"column":27},"end":{"line":98,"column":37}},"name":"UppySocket"},"arguments":[{"type":"ObjectExpression","start":2828,"end":2845,"loc":{"start":{"line":98,"column":38},"end":{"line":98,"column":55}},"properties":[{"type":"Property","start":2830,"end":2843,"loc":{"start":{"line":98,"column":40},"end":{"line":98,"column":53}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2830,"end":2836,"loc":{"start":{"line":98,"column":40},"end":{"line":98,"column":46}},"name":"target"},"value":{"type":"Literal","start":2838,"end":2843,"loc":{"start":{"line":98,"column":48},"end":{"line":98,"column":53}},"value":"foo","raw":"'foo'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2851,"end":2894,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":47}},"declarations":[{"type":"VariableDeclarator","start":2857,"end":2894,"loc":{"start":{"line":99,"column":10},"end":{"line":99,"column":47}},"id":{"type":"Identifier","start":2857,"end":2874,"loc":{"start":{"line":99,"column":10},"end":{"line":99,"column":27}},"name":"webSocketInstance"},"init":{"type":"MemberExpression","start":2877,"end":2894,"loc":{"start":{"line":99,"column":30},"end":{"line":99,"column":47}},"object":{"type":"Identifier","start":2877,"end":2887,"loc":{"start":{"line":99,"column":30},"end":{"line":99,"column":40}},"name":"uppySocket"},"property":{"type":"Identifier","start":2888,"end":2894,"loc":{"start":{"line":99,"column":41},"end":{"line":99,"column":47}},"name":"socket"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":2899,"end":2930,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":35}},"expression":{"type":"CallExpression","start":2899,"end":2930,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":35}},"callee":{"type":"MemberExpression","start":2899,"end":2928,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":33}},"object":{"type":"Identifier","start":2899,"end":2916,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":21}},"name":"webSocketInstance"},"property":{"type":"Identifier","start":2917,"end":2928,"loc":{"start":{"line":100,"column":22},"end":{"line":100,"column":33}},"name":"triggerOpen"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":2935,"end":2964,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":33}},"expression":{"type":"CallExpression","start":2935,"end":2964,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":33}},"callee":{"type":"MemberExpression","start":2935,"end":2950,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":19}},"object":{"type":"Identifier","start":2935,"end":2945,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":2946,"end":2950,"loc":{"start":{"line":101,"column":15},"end":{"line":101,"column":19}},"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":2951,"end":2956,"loc":{"start":{"line":101,"column":20},"end":{"line":101,"column":25}},"value":"bar","raw":"'bar'"},{"type":"Literal","start":2958,"end":2963,"loc":{"start":{"line":101,"column":27},"end":{"line":101,"column":32}},"value":"boo","raw":"'boo'"}]}},{"type":"ExpressionStatement","start":2969,"end":3007,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":42}},"expression":{"type":"CallExpression","start":2969,"end":3007,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":42}},"callee":{"type":"MemberExpression","start":2969,"end":3003,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":38}},"object":{"type":"CallExpression","start":2969,"end":2995,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":30}},"callee":{"type":"Identifier","start":2969,"end":2975,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":2976,"end":2994,"loc":{"start":{"line":102,"column":11},"end":{"line":102,"column":29}},"object":{"type":"Identifier","start":2976,"end":2986,"loc":{"start":{"line":102,"column":11},"end":{"line":102,"column":21}},"name":"uppySocket"},"property":{"type":"Identifier","start":2987,"end":2994,"loc":{"start":{"line":102,"column":22},"end":{"line":102,"column":29}},"name":"_queued"},"computed":false}]},"property":{"type":"Identifier","start":2996,"end":3003,"loc":{"start":{"line":102,"column":31},"end":{"line":102,"column":38}},"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":3004,"end":3006,"loc":{"start":{"line":102,"column":39},"end":{"line":102,"column":41}},"elements":[]}]}},{"type":"ExpressionStatement","start":3013,"end":3045,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":36}},"expression":{"type":"CallExpression","start":3013,"end":3045,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":36}},"callee":{"type":"MemberExpression","start":3013,"end":3043,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":34}},"object":{"type":"Identifier","start":3013,"end":3030,"loc":{"start":{"line":104,"column":4},"end":{"line":104,"column":21}},"name":"webSocketInstance"},"property":{"type":"Identifier","start":3031,"end":3043,"loc":{"start":{"line":104,"column":22},"end":{"line":104,"column":34}},"name":"triggerClose"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":3050,"end":3079,"loc":{"start":{"line":105,"column":4},"end":{"line":105,"column":33}},"expression":{"type":"CallExpression","start":3050,"end":3079,"loc":{"start":{"line":105,"column":4},"end":{"line":105,"column":33}},"callee":{"type":"MemberExpression","start":3050,"end":3065,"loc":{"start":{"line":105,"column":4},"end":{"line":105,"column":19}},"object":{"type":"Identifier","start":3050,"end":3060,"loc":{"start":{"line":105,"column":4},"end":{"line":105,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":3061,"end":3065,"loc":{"start":{"line":105,"column":15},"end":{"line":105,"column":19}},"name":"send"},"computed":false},"arguments":[{"type":"Literal","start":3066,"end":3071,"loc":{"start":{"line":105,"column":20},"end":{"line":105,"column":25}},"value":"bar","raw":"'bar'"},{"type":"Literal","start":3073,"end":3078,"loc":{"start":{"line":105,"column":27},"end":{"line":105,"column":32}},"value":"boo","raw":"'boo'"}]}},{"type":"ExpressionStatement","start":3084,"end":3155,"loc":{"start":{"line":106,"column":4},"end":{"line":106,"column":75}},"expression":{"type":"CallExpression","start":3084,"end":3155,"loc":{"start":{"line":106,"column":4},"end":{"line":106,"column":75}},"callee":{"type":"MemberExpression","start":3084,"end":3118,"loc":{"start":{"line":106,"column":4},"end":{"line":106,"column":38}},"object":{"type":"CallExpression","start":3084,"end":3110,"loc":{"start":{"line":106,"column":4},"end":{"line":106,"column":30}},"callee":{"type":"Identifier","start":3084,"end":3090,"loc":{"start":{"line":106,"column":4},"end":{"line":106,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":3091,"end":3109,"loc":{"start":{"line":106,"column":11},"end":{"line":106,"column":29}},"object":{"type":"Identifier","start":3091,"end":3101,"loc":{"start":{"line":106,"column":11},"end":{"line":106,"column":21}},"name":"uppySocket"},"property":{"type":"Identifier","start":3102,"end":3109,"loc":{"start":{"line":106,"column":22},"end":{"line":106,"column":29}},"name":"_queued"},"computed":false}]},"property":{"type":"Identifier","start":3111,"end":3118,"loc":{"start":{"line":106,"column":31},"end":{"line":106,"column":38}},"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":3119,"end":3154,"loc":{"start":{"line":106,"column":39},"end":{"line":106,"column":74}},"elements":[{"type":"ObjectExpression","start":3120,"end":3153,"loc":{"start":{"line":106,"column":40},"end":{"line":106,"column":73}},"properties":[{"type":"Property","start":3122,"end":3135,"loc":{"start":{"line":106,"column":42},"end":{"line":106,"column":55}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3122,"end":3128,"loc":{"start":{"line":106,"column":42},"end":{"line":106,"column":48}},"name":"action"},"value":{"type":"Literal","start":3130,"end":3135,"loc":{"start":{"line":106,"column":50},"end":{"line":106,"column":55}},"value":"bar","raw":"'bar'"},"kind":"init"},{"type":"Property","start":3137,"end":3151,"loc":{"start":{"line":106,"column":57},"end":{"line":106,"column":71}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3137,"end":3144,"loc":{"start":{"line":106,"column":57},"end":{"line":106,"column":64}},"name":"payload"},"value":{"type":"Literal","start":3146,"end":3151,"loc":{"start":{"line":106,"column":66},"end":{"line":106,"column":71}},"value":"boo","raw":"'boo'"},"kind":"init"}]}]}]}}]}}]}},{"type":"ExpressionStatement","start":3164,"end":3457,"loc":{"start":{"line":109,"column":2},"end":{"line":116,"column":4}},"expression":{"type":"CallExpression","start":3164,"end":3457,"loc":{"start":{"line":109,"column":2},"end":{"line":116,"column":4}},"callee":{"type":"Identifier","start":3164,"end":3166,"loc":{"start":{"line":109,"column":2},"end":{"line":109,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":3167,"end":3219,"loc":{"start":{"line":109,"column":5},"end":{"line":109,"column":57}},"value":"should close the websocket when it is force closed","raw":"'should close the websocket when it is force closed'"},{"type":"ArrowFunctionExpression","start":3221,"end":3456,"loc":{"start":{"line":109,"column":59},"end":{"line":116,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3227,"end":3456,"loc":{"start":{"line":109,"column":65},"end":{"line":116,"column":3}},"body":[{"type":"VariableDeclaration","start":3233,"end":3285,"loc":{"start":{"line":110,"column":4},"end":{"line":110,"column":56}},"declarations":[{"type":"VariableDeclarator","start":3239,"end":3285,"loc":{"start":{"line":110,"column":10},"end":{"line":110,"column":56}},"id":{"type":"Identifier","start":3239,"end":3249,"loc":{"start":{"line":110,"column":10},"end":{"line":110,"column":20}},"name":"uppySocket"},"init":{"type":"NewExpression","start":3252,"end":3285,"loc":{"start":{"line":110,"column":23},"end":{"line":110,"column":56}},"callee":{"type":"Identifier","start":3256,"end":3266,"loc":{"start":{"line":110,"column":27},"end":{"line":110,"column":37}},"name":"UppySocket"},"arguments":[{"type":"ObjectExpression","start":3267,"end":3284,"loc":{"start":{"line":110,"column":38},"end":{"line":110,"column":55}},"properties":[{"type":"Property","start":3269,"end":3282,"loc":{"start":{"line":110,"column":40},"end":{"line":110,"column":53}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3269,"end":3275,"loc":{"start":{"line":110,"column":40},"end":{"line":110,"column":46}},"name":"target"},"value":{"type":"Literal","start":3277,"end":3282,"loc":{"start":{"line":110,"column":48},"end":{"line":110,"column":53}},"value":"foo","raw":"'foo'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3290,"end":3333,"loc":{"start":{"line":111,"column":4},"end":{"line":111,"column":47}},"declarations":[{"type":"VariableDeclarator","start":3296,"end":3333,"loc":{"start":{"line":111,"column":10},"end":{"line":111,"column":47}},"id":{"type":"Identifier","start":3296,"end":3313,"loc":{"start":{"line":111,"column":10},"end":{"line":111,"column":27}},"name":"webSocketInstance"},"init":{"type":"MemberExpression","start":3316,"end":3333,"loc":{"start":{"line":111,"column":30},"end":{"line":111,"column":47}},"object":{"type":"Identifier","start":3316,"end":3326,"loc":{"start":{"line":111,"column":30},"end":{"line":111,"column":40}},"name":"uppySocket"},"property":{"type":"Identifier","start":3327,"end":3333,"loc":{"start":{"line":111,"column":41},"end":{"line":111,"column":47}},"name":"socket"},"computed":false}}],"kind":"const"},{"type":"ExpressionStatement","start":3338,"end":3369,"loc":{"start":{"line":112,"column":4},"end":{"line":112,"column":35}},"expression":{"type":"CallExpression","start":3338,"end":3369,"loc":{"start":{"line":112,"column":4},"end":{"line":112,"column":35}},"callee":{"type":"MemberExpression","start":3338,"end":3367,"loc":{"start":{"line":112,"column":4},"end":{"line":112,"column":33}},"object":{"type":"Identifier","start":3338,"end":3355,"loc":{"start":{"line":112,"column":4},"end":{"line":112,"column":21}},"name":"webSocketInstance"},"property":{"type":"Identifier","start":3356,"end":3367,"loc":{"start":{"line":112,"column":22},"end":{"line":112,"column":33}},"name":"triggerOpen"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":3375,"end":3393,"loc":{"start":{"line":114,"column":4},"end":{"line":114,"column":22}},"expression":{"type":"CallExpression","start":3375,"end":3393,"loc":{"start":{"line":114,"column":4},"end":{"line":114,"column":22}},"callee":{"type":"MemberExpression","start":3375,"end":3391,"loc":{"start":{"line":114,"column":4},"end":{"line":114,"column":20}},"object":{"type":"Identifier","start":3375,"end":3385,"loc":{"start":{"line":114,"column":4},"end":{"line":114,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":3386,"end":3391,"loc":{"start":{"line":114,"column":15},"end":{"line":114,"column":20}},"name":"close"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":3398,"end":3452,"loc":{"start":{"line":115,"column":4},"end":{"line":115,"column":58}},"expression":{"type":"CallExpression","start":3398,"end":3452,"loc":{"start":{"line":115,"column":4},"end":{"line":115,"column":58}},"callee":{"type":"MemberExpression","start":3398,"end":3449,"loc":{"start":{"line":115,"column":4},"end":{"line":115,"column":55}},"object":{"type":"CallExpression","start":3398,"end":3441,"loc":{"start":{"line":115,"column":4},"end":{"line":115,"column":47}},"callee":{"type":"Identifier","start":3398,"end":3404,"loc":{"start":{"line":115,"column":4},"end":{"line":115,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":3405,"end":3440,"loc":{"start":{"line":115,"column":11},"end":{"line":115,"column":46}},"object":{"type":"MemberExpression","start":3405,"end":3433,"loc":{"start":{"line":115,"column":11},"end":{"line":115,"column":39}},"object":{"type":"MemberExpression","start":3405,"end":3427,"loc":{"start":{"line":115,"column":11},"end":{"line":115,"column":33}},"object":{"type":"Identifier","start":3405,"end":3422,"loc":{"start":{"line":115,"column":11},"end":{"line":115,"column":28}},"name":"webSocketCloseSpy"},"property":{"type":"Identifier","start":3423,"end":3427,"loc":{"start":{"line":115,"column":29},"end":{"line":115,"column":33}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":3428,"end":3433,"loc":{"start":{"line":115,"column":34},"end":{"line":115,"column":39}},"name":"calls"},"computed":false},"property":{"type":"Identifier","start":3434,"end":3440,"loc":{"start":{"line":115,"column":40},"end":{"line":115,"column":46}},"name":"length"},"computed":false}]},"property":{"type":"Identifier","start":3442,"end":3449,"loc":{"start":{"line":115,"column":48},"end":{"line":115,"column":55}},"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":3450,"end":3451,"loc":{"start":{"line":115,"column":56},"end":{"line":115,"column":57}},"value":1,"raw":"1"}]}}]}}]}},{"type":"ExpressionStatement","start":3461,"end":4004,"loc":{"start":{"line":118,"column":2},"end":{"line":132,"column":4}},"expression":{"type":"CallExpression","start":3461,"end":4004,"loc":{"start":{"line":118,"column":2},"end":{"line":132,"column":4}},"callee":{"type":"Identifier","start":3461,"end":3463,"loc":{"start":{"line":118,"column":2},"end":{"line":118,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":3464,"end":3531,"loc":{"start":{"line":118,"column":5},"end":{"line":118,"column":72}},"value":"should be able to subscribe to messages received on the websocket","raw":"'should be able to subscribe to messages received on the websocket'"},{"type":"ArrowFunctionExpression","start":3533,"end":4003,"loc":{"start":{"line":118,"column":74},"end":{"line":132,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3539,"end":4003,"loc":{"start":{"line":118,"column":80},"end":{"line":132,"column":3}},"body":[{"type":"VariableDeclaration","start":3545,"end":3597,"loc":{"start":{"line":119,"column":4},"end":{"line":119,"column":56}},"declarations":[{"type":"VariableDeclarator","start":3551,"end":3597,"loc":{"start":{"line":119,"column":10},"end":{"line":119,"column":56}},"id":{"type":"Identifier","start":3551,"end":3561,"loc":{"start":{"line":119,"column":10},"end":{"line":119,"column":20}},"name":"uppySocket"},"init":{"type":"NewExpression","start":3564,"end":3597,"loc":{"start":{"line":119,"column":23},"end":{"line":119,"column":56}},"callee":{"type":"Identifier","start":3568,"end":3578,"loc":{"start":{"line":119,"column":27},"end":{"line":119,"column":37}},"name":"UppySocket"},"arguments":[{"type":"ObjectExpression","start":3579,"end":3596,"loc":{"start":{"line":119,"column":38},"end":{"line":119,"column":55}},"properties":[{"type":"Property","start":3581,"end":3594,"loc":{"start":{"line":119,"column":40},"end":{"line":119,"column":53}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3581,"end":3587,"loc":{"start":{"line":119,"column":40},"end":{"line":119,"column":46}},"name":"target"},"value":{"type":"Literal","start":3589,"end":3594,"loc":{"start":{"line":119,"column":48},"end":{"line":119,"column":53}},"value":"foo","raw":"'foo'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3602,"end":3645,"loc":{"start":{"line":120,"column":4},"end":{"line":120,"column":47}},"declarations":[{"type":"VariableDeclarator","start":3608,"end":3645,"loc":{"start":{"line":120,"column":10},"end":{"line":120,"column":47}},"id":{"type":"Identifier","start":3608,"end":3625,"loc":{"start":{"line":120,"column":10},"end":{"line":120,"column":27}},"name":"webSocketInstance"},"init":{"type":"MemberExpression","start":3628,"end":3645,"loc":{"start":{"line":120,"column":30},"end":{"line":120,"column":47}},"object":{"type":"Identifier","start":3628,"end":3638,"loc":{"start":{"line":120,"column":30},"end":{"line":120,"column":40}},"name":"uppySocket"},"property":{"type":"Identifier","start":3639,"end":3645,"loc":{"start":{"line":120,"column":41},"end":{"line":120,"column":47}},"name":"socket"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":3651,"end":3688,"loc":{"start":{"line":122,"column":4},"end":{"line":122,"column":41}},"declarations":[{"type":"VariableDeclarator","start":3657,"end":3688,"loc":{"start":{"line":122,"column":10},"end":{"line":122,"column":41}},"id":{"type":"Identifier","start":3657,"end":3676,"loc":{"start":{"line":122,"column":10},"end":{"line":122,"column":29}},"name":"emitterListenerMock"},"init":{"type":"CallExpression","start":3679,"end":3688,"loc":{"start":{"line":122,"column":32},"end":{"line":122,"column":41}},"callee":{"type":"MemberExpression","start":3679,"end":3686,"loc":{"start":{"line":122,"column":32},"end":{"line":122,"column":39}},"object":{"type":"Identifier","start":3679,"end":3683,"loc":{"start":{"line":122,"column":32},"end":{"line":122,"column":36}},"name":"jest"},"property":{"type":"Identifier","start":3684,"end":3686,"loc":{"start":{"line":122,"column":37},"end":{"line":122,"column":39}},"name":"fn"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":3693,"end":3733,"loc":{"start":{"line":123,"column":4},"end":{"line":123,"column":44}},"expression":{"type":"CallExpression","start":3693,"end":3733,"loc":{"start":{"line":123,"column":4},"end":{"line":123,"column":44}},"callee":{"type":"MemberExpression","start":3693,"end":3706,"loc":{"start":{"line":123,"column":4},"end":{"line":123,"column":17}},"object":{"type":"Identifier","start":3693,"end":3703,"loc":{"start":{"line":123,"column":4},"end":{"line":123,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":3704,"end":3706,"loc":{"start":{"line":123,"column":15},"end":{"line":123,"column":17}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3707,"end":3711,"loc":{"start":{"line":123,"column":18},"end":{"line":123,"column":22}},"value":"hi","raw":"'hi'"},{"type":"Identifier","start":3713,"end":3732,"loc":{"start":{"line":123,"column":24},"end":{"line":123,"column":43}},"name":"emitterListenerMock"}]}},{"type":"ExpressionStatement","start":3739,"end":3770,"loc":{"start":{"line":125,"column":4},"end":{"line":125,"column":35}},"expression":{"type":"CallExpression","start":3739,"end":3770,"loc":{"start":{"line":125,"column":4},"end":{"line":125,"column":35}},"callee":{"type":"MemberExpression","start":3739,"end":3768,"loc":{"start":{"line":125,"column":4},"end":{"line":125,"column":33}},"object":{"type":"Identifier","start":3739,"end":3756,"loc":{"start":{"line":125,"column":4},"end":{"line":125,"column":21}},"name":"webSocketInstance"},"property":{"type":"Identifier","start":3757,"end":3768,"loc":{"start":{"line":125,"column":22},"end":{"line":125,"column":33}},"name":"triggerOpen"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":3775,"end":3871,"loc":{"start":{"line":126,"column":4},"end":{"line":128,"column":6}},"expression":{"type":"CallExpression","start":3775,"end":3871,"loc":{"start":{"line":126,"column":4},"end":{"line":128,"column":6}},"callee":{"type":"MemberExpression","start":3775,"end":3802,"loc":{"start":{"line":126,"column":4},"end":{"line":126,"column":31}},"object":{"type":"Identifier","start":3775,"end":3792,"loc":{"start":{"line":126,"column":4},"end":{"line":126,"column":21}},"name":"webSocketInstance"},"property":{"type":"Identifier","start":3793,"end":3802,"loc":{"start":{"line":126,"column":22},"end":{"line":126,"column":31}},"name":"onmessage"},"computed":false},"arguments":[{"type":"ObjectExpression","start":3803,"end":3870,"loc":{"start":{"line":126,"column":32},"end":{"line":128,"column":5}},"properties":[{"type":"Property","start":3811,"end":3864,"loc":{"start":{"line":127,"column":6},"end":{"line":127,"column":59}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3811,"end":3815,"loc":{"start":{"line":127,"column":6},"end":{"line":127,"column":10}},"name":"data"},"value":{"type":"CallExpression","start":3817,"end":3864,"loc":{"start":{"line":127,"column":12},"end":{"line":127,"column":59}},"callee":{"type":"MemberExpression","start":3817,"end":3831,"loc":{"start":{"line":127,"column":12},"end":{"line":127,"column":26}},"object":{"type":"Identifier","start":3817,"end":3821,"loc":{"start":{"line":127,"column":12},"end":{"line":127,"column":16}},"name":"JSON"},"property":{"type":"Identifier","start":3822,"end":3831,"loc":{"start":{"line":127,"column":17},"end":{"line":127,"column":26}},"name":"stringify"},"computed":false},"arguments":[{"type":"ObjectExpression","start":3832,"end":3863,"loc":{"start":{"line":127,"column":27},"end":{"line":127,"column":58}},"properties":[{"type":"Property","start":3834,"end":3846,"loc":{"start":{"line":127,"column":29},"end":{"line":127,"column":41}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3834,"end":3840,"loc":{"start":{"line":127,"column":29},"end":{"line":127,"column":35}},"name":"action"},"value":{"type":"Literal","start":3842,"end":3846,"loc":{"start":{"line":127,"column":37},"end":{"line":127,"column":41}},"value":"hi","raw":"'hi'"},"kind":"init"},{"type":"Property","start":3848,"end":3861,"loc":{"start":{"line":127,"column":43},"end":{"line":127,"column":56}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3848,"end":3855,"loc":{"start":{"line":127,"column":43},"end":{"line":127,"column":50}},"name":"payload"},"value":{"type":"Literal","start":3857,"end":3861,"loc":{"start":{"line":127,"column":52},"end":{"line":127,"column":56}},"value":"ho","raw":"'ho'"},"kind":"init"}]}]},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":3876,"end":3999,"loc":{"start":{"line":129,"column":4},"end":{"line":131,"column":6}},"expression":{"type":"CallExpression","start":3876,"end":3999,"loc":{"start":{"line":129,"column":4},"end":{"line":131,"column":6}},"callee":{"type":"MemberExpression","start":3876,"end":3922,"loc":{"start":{"line":129,"column":4},"end":{"line":129,"column":50}},"object":{"type":"CallExpression","start":3876,"end":3914,"loc":{"start":{"line":129,"column":4},"end":{"line":129,"column":42}},"callee":{"type":"Identifier","start":3876,"end":3882,"loc":{"start":{"line":129,"column":4},"end":{"line":129,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":3883,"end":3913,"loc":{"start":{"line":129,"column":11},"end":{"line":129,"column":41}},"object":{"type":"MemberExpression","start":3883,"end":3907,"loc":{"start":{"line":129,"column":11},"end":{"line":129,"column":35}},"object":{"type":"Identifier","start":3883,"end":3902,"loc":{"start":{"line":129,"column":11},"end":{"line":129,"column":30}},"name":"emitterListenerMock"},"property":{"type":"Identifier","start":3903,"end":3907,"loc":{"start":{"line":129,"column":31},"end":{"line":129,"column":35}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":3908,"end":3913,"loc":{"start":{"line":129,"column":36},"end":{"line":129,"column":41}},"name":"calls"},"computed":false}]},"property":{"type":"Identifier","start":3915,"end":3922,"loc":{"start":{"line":129,"column":43},"end":{"line":129,"column":50}},"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":3923,"end":3998,"loc":{"start":{"line":129,"column":51},"end":{"line":131,"column":5}},"elements":[{"type":"ArrayExpression","start":3931,"end":3992,"loc":{"start":{"line":130,"column":6},"end":{"line":130,"column":67}},"elements":[{"type":"Literal","start":3932,"end":3936,"loc":{"start":{"line":130,"column":7},"end":{"line":130,"column":11}},"value":"ho","raw":"'ho'"},{"type":"Identifier","start":3938,"end":3947,"loc":{"start":{"line":130,"column":13},"end":{"line":130,"column":22}},"name":"undefined"},{"type":"Identifier","start":3949,"end":3958,"loc":{"start":{"line":130,"column":24},"end":{"line":130,"column":33}},"name":"undefined"},{"type":"Identifier","start":3960,"end":3969,"loc":{"start":{"line":130,"column":35},"end":{"line":130,"column":44}},"name":"undefined"},{"type":"Identifier","start":3971,"end":3980,"loc":{"start":{"line":130,"column":46},"end":{"line":130,"column":55}},"name":"undefined"},{"type":"Identifier","start":3982,"end":3991,"loc":{"start":{"line":130,"column":57},"end":{"line":130,"column":66}},"name":"undefined"}]}]}]}}]}}]}},{"type":"ExpressionStatement","start":4008,"end":4675,"loc":{"start":{"line":134,"column":2},"end":{"line":156,"column":4}},"expression":{"type":"CallExpression","start":4008,"end":4675,"loc":{"start":{"line":134,"column":2},"end":{"line":156,"column":4}},"callee":{"type":"Identifier","start":4008,"end":4010,"loc":{"start":{"line":134,"column":2},"end":{"line":134,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":4011,"end":4066,"loc":{"start":{"line":134,"column":5},"end":{"line":134,"column":60}},"value":"should be able to emit messages and subscribe to them","raw":"'should be able to emit messages and subscribe to them'"},{"type":"ArrowFunctionExpression","start":4068,"end":4674,"loc":{"start":{"line":134,"column":62},"end":{"line":156,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4074,"end":4674,"loc":{"start":{"line":134,"column":68},"end":{"line":156,"column":3}},"body":[{"type":"VariableDeclaration","start":4080,"end":4132,"loc":{"start":{"line":135,"column":4},"end":{"line":135,"column":56}},"declarations":[{"type":"VariableDeclarator","start":4086,"end":4132,"loc":{"start":{"line":135,"column":10},"end":{"line":135,"column":56}},"id":{"type":"Identifier","start":4086,"end":4096,"loc":{"start":{"line":135,"column":10},"end":{"line":135,"column":20}},"name":"uppySocket"},"init":{"type":"NewExpression","start":4099,"end":4132,"loc":{"start":{"line":135,"column":23},"end":{"line":135,"column":56}},"callee":{"type":"Identifier","start":4103,"end":4113,"loc":{"start":{"line":135,"column":27},"end":{"line":135,"column":37}},"name":"UppySocket"},"arguments":[{"type":"ObjectExpression","start":4114,"end":4131,"loc":{"start":{"line":135,"column":38},"end":{"line":135,"column":55}},"properties":[{"type":"Property","start":4116,"end":4129,"loc":{"start":{"line":135,"column":40},"end":{"line":135,"column":53}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4116,"end":4122,"loc":{"start":{"line":135,"column":40},"end":{"line":135,"column":46}},"name":"target"},"value":{"type":"Literal","start":4124,"end":4129,"loc":{"start":{"line":135,"column":48},"end":{"line":135,"column":53}},"value":"foo","raw":"'foo'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":4138,"end":4175,"loc":{"start":{"line":137,"column":4},"end":{"line":137,"column":41}},"declarations":[{"type":"VariableDeclarator","start":4144,"end":4175,"loc":{"start":{"line":137,"column":10},"end":{"line":137,"column":41}},"id":{"type":"Identifier","start":4144,"end":4163,"loc":{"start":{"line":137,"column":10},"end":{"line":137,"column":29}},"name":"emitterListenerMock"},"init":{"type":"CallExpression","start":4166,"end":4175,"loc":{"start":{"line":137,"column":32},"end":{"line":137,"column":41}},"callee":{"type":"MemberExpression","start":4166,"end":4173,"loc":{"start":{"line":137,"column":32},"end":{"line":137,"column":39}},"object":{"type":"Identifier","start":4166,"end":4170,"loc":{"start":{"line":137,"column":32},"end":{"line":137,"column":36}},"name":"jest"},"property":{"type":"Identifier","start":4171,"end":4173,"loc":{"start":{"line":137,"column":37},"end":{"line":137,"column":39}},"name":"fn"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":4180,"end":4220,"loc":{"start":{"line":138,"column":4},"end":{"line":138,"column":44}},"expression":{"type":"CallExpression","start":4180,"end":4220,"loc":{"start":{"line":138,"column":4},"end":{"line":138,"column":44}},"callee":{"type":"MemberExpression","start":4180,"end":4193,"loc":{"start":{"line":138,"column":4},"end":{"line":138,"column":17}},"object":{"type":"Identifier","start":4180,"end":4190,"loc":{"start":{"line":138,"column":4},"end":{"line":138,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":4191,"end":4193,"loc":{"start":{"line":138,"column":15},"end":{"line":138,"column":17}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":4194,"end":4198,"loc":{"start":{"line":138,"column":18},"end":{"line":138,"column":22}},"value":"hi","raw":"'hi'"},{"type":"Identifier","start":4200,"end":4219,"loc":{"start":{"line":138,"column":24},"end":{"line":138,"column":43}},"name":"emitterListenerMock"}]}},{"type":"ExpressionStatement","start":4226,"end":4253,"loc":{"start":{"line":140,"column":4},"end":{"line":140,"column":31}},"expression":{"type":"CallExpression","start":4226,"end":4253,"loc":{"start":{"line":140,"column":4},"end":{"line":140,"column":31}},"callee":{"type":"MemberExpression","start":4226,"end":4241,"loc":{"start":{"line":140,"column":4},"end":{"line":140,"column":19}},"object":{"type":"Identifier","start":4226,"end":4236,"loc":{"start":{"line":140,"column":4},"end":{"line":140,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":4237,"end":4241,"loc":{"start":{"line":140,"column":15},"end":{"line":140,"column":19}},"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":4242,"end":4246,"loc":{"start":{"line":140,"column":20},"end":{"line":140,"column":24}},"value":"hi","raw":"'hi'"},{"type":"Literal","start":4248,"end":4252,"loc":{"start":{"line":140,"column":26},"end":{"line":140,"column":30}},"value":"ho","raw":"'ho'"}]}},{"type":"ExpressionStatement","start":4258,"end":4285,"loc":{"start":{"line":141,"column":4},"end":{"line":141,"column":31}},"expression":{"type":"CallExpression","start":4258,"end":4285,"loc":{"start":{"line":141,"column":4},"end":{"line":141,"column":31}},"callee":{"type":"MemberExpression","start":4258,"end":4273,"loc":{"start":{"line":141,"column":4},"end":{"line":141,"column":19}},"object":{"type":"Identifier","start":4258,"end":4268,"loc":{"start":{"line":141,"column":4},"end":{"line":141,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":4269,"end":4273,"loc":{"start":{"line":141,"column":15},"end":{"line":141,"column":19}},"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":4274,"end":4278,"loc":{"start":{"line":141,"column":20},"end":{"line":141,"column":24}},"value":"hi","raw":"'hi'"},{"type":"Literal","start":4280,"end":4284,"loc":{"start":{"line":141,"column":26},"end":{"line":141,"column":30}},"value":"ho","raw":"'ho'"}]}},{"type":"ExpressionStatement","start":4290,"end":4332,"loc":{"start":{"line":142,"column":4},"end":{"line":142,"column":46}},"expression":{"type":"CallExpression","start":4290,"end":4332,"loc":{"start":{"line":142,"column":4},"end":{"line":142,"column":46}},"callee":{"type":"MemberExpression","start":4290,"end":4305,"loc":{"start":{"line":142,"column":4},"end":{"line":142,"column":19}},"object":{"type":"Identifier","start":4290,"end":4300,"loc":{"start":{"line":142,"column":4},"end":{"line":142,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":4301,"end":4305,"loc":{"start":{"line":142,"column":15},"end":{"line":142,"column":19}},"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":4306,"end":4310,"loc":{"start":{"line":142,"column":20},"end":{"line":142,"column":24}},"value":"hi","raw":"'hi'"},{"type":"Literal","start":4312,"end":4331,"loc":{"start":{"line":142,"column":26},"end":{"line":142,"column":45}},"value":"off to work we go","raw":"'off to work we go'"}]}},{"type":"ExpressionStatement","start":4338,"end":4670,"loc":{"start":{"line":144,"column":4},"end":{"line":155,"column":6}},"expression":{"type":"CallExpression","start":4338,"end":4670,"loc":{"start":{"line":144,"column":4},"end":{"line":155,"column":6}},"callee":{"type":"MemberExpression","start":4338,"end":4384,"loc":{"start":{"line":144,"column":4},"end":{"line":144,"column":50}},"object":{"type":"CallExpression","start":4338,"end":4376,"loc":{"start":{"line":144,"column":4},"end":{"line":144,"column":42}},"callee":{"type":"Identifier","start":4338,"end":4344,"loc":{"start":{"line":144,"column":4},"end":{"line":144,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":4345,"end":4375,"loc":{"start":{"line":144,"column":11},"end":{"line":144,"column":41}},"object":{"type":"MemberExpression","start":4345,"end":4369,"loc":{"start":{"line":144,"column":11},"end":{"line":144,"column":35}},"object":{"type":"Identifier","start":4345,"end":4364,"loc":{"start":{"line":144,"column":11},"end":{"line":144,"column":30}},"name":"emitterListenerMock"},"property":{"type":"Identifier","start":4365,"end":4369,"loc":{"start":{"line":144,"column":31},"end":{"line":144,"column":35}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":4370,"end":4375,"loc":{"start":{"line":144,"column":36},"end":{"line":144,"column":41}},"name":"calls"},"computed":false}]},"property":{"type":"Identifier","start":4377,"end":4384,"loc":{"start":{"line":144,"column":43},"end":{"line":144,"column":50}},"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":4385,"end":4669,"loc":{"start":{"line":144,"column":51},"end":{"line":155,"column":5}},"elements":[{"type":"ArrayExpression","start":4393,"end":4454,"loc":{"start":{"line":145,"column":6},"end":{"line":145,"column":67}},"elements":[{"type":"Literal","start":4394,"end":4398,"loc":{"start":{"line":145,"column":7},"end":{"line":145,"column":11}},"value":"ho","raw":"'ho'"},{"type":"Identifier","start":4400,"end":4409,"loc":{"start":{"line":145,"column":13},"end":{"line":145,"column":22}},"name":"undefined"},{"type":"Identifier","start":4411,"end":4420,"loc":{"start":{"line":145,"column":24},"end":{"line":145,"column":33}},"name":"undefined"},{"type":"Identifier","start":4422,"end":4431,"loc":{"start":{"line":145,"column":35},"end":{"line":145,"column":44}},"name":"undefined"},{"type":"Identifier","start":4433,"end":4442,"loc":{"start":{"line":145,"column":46},"end":{"line":145,"column":55}},"name":"undefined"},{"type":"Identifier","start":4444,"end":4453,"loc":{"start":{"line":145,"column":57},"end":{"line":145,"column":66}},"name":"undefined"}]},{"type":"ArrayExpression","start":4462,"end":4523,"loc":{"start":{"line":146,"column":6},"end":{"line":146,"column":67}},"elements":[{"type":"Literal","start":4463,"end":4467,"loc":{"start":{"line":146,"column":7},"end":{"line":146,"column":11}},"value":"ho","raw":"'ho'"},{"type":"Identifier","start":4469,"end":4478,"loc":{"start":{"line":146,"column":13},"end":{"line":146,"column":22}},"name":"undefined"},{"type":"Identifier","start":4480,"end":4489,"loc":{"start":{"line":146,"column":24},"end":{"line":146,"column":33}},"name":"undefined"},{"type":"Identifier","start":4491,"end":4500,"loc":{"start":{"line":146,"column":35},"end":{"line":146,"column":44}},"name":"undefined"},{"type":"Identifier","start":4502,"end":4511,"loc":{"start":{"line":146,"column":46},"end":{"line":146,"column":55}},"name":"undefined"},{"type":"Identifier","start":4513,"end":4522,"loc":{"start":{"line":146,"column":57},"end":{"line":146,"column":66}},"name":"undefined"}]},{"type":"ArrayExpression","start":4531,"end":4663,"loc":{"start":{"line":147,"column":6},"end":{"line":154,"column":7}},"elements":[{"type":"Literal","start":4541,"end":4560,"loc":{"start":{"line":148,"column":8},"end":{"line":148,"column":27}},"value":"off to work we go","raw":"'off to work we go'"},{"type":"Identifier","start":4570,"end":4579,"loc":{"start":{"line":149,"column":8},"end":{"line":149,"column":17}},"name":"undefined"},{"type":"Identifier","start":4589,"end":4598,"loc":{"start":{"line":150,"column":8},"end":{"line":150,"column":17}},"name":"undefined"},{"type":"Identifier","start":4608,"end":4617,"loc":{"start":{"line":151,"column":8},"end":{"line":151,"column":17}},"name":"undefined"},{"type":"Identifier","start":4627,"end":4636,"loc":{"start":{"line":152,"column":8},"end":{"line":152,"column":17}},"name":"undefined"},{"type":"Identifier","start":4646,"end":4655,"loc":{"start":{"line":153,"column":8},"end":{"line":153,"column":17}},"name":"undefined"}]}]}]}}]}}]}},{"type":"ExpressionStatement","start":4679,"end":5217,"loc":{"start":{"line":158,"column":2},"end":{"line":172,"column":4}},"expression":{"type":"CallExpression","start":4679,"end":5217,"loc":{"start":{"line":158,"column":2},"end":{"line":172,"column":4}},"callee":{"type":"Identifier","start":4679,"end":4681,"loc":{"start":{"line":158,"column":2},"end":{"line":158,"column":4}},"name":"it"},"arguments":[{"type":"Literal","start":4682,"end":4754,"loc":{"start":{"line":158,"column":5},"end":{"line":158,"column":77}},"value":"should be able to subscribe to the first event for a particular action","raw":"'should be able to subscribe to the first event for a particular action'"},{"type":"ArrowFunctionExpression","start":4756,"end":5216,"loc":{"start":{"line":158,"column":79},"end":{"line":172,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4762,"end":5216,"loc":{"start":{"line":158,"column":85},"end":{"line":172,"column":3}},"body":[{"type":"VariableDeclaration","start":4768,"end":4820,"loc":{"start":{"line":159,"column":4},"end":{"line":159,"column":56}},"declarations":[{"type":"VariableDeclarator","start":4774,"end":4820,"loc":{"start":{"line":159,"column":10},"end":{"line":159,"column":56}},"id":{"type":"Identifier","start":4774,"end":4784,"loc":{"start":{"line":159,"column":10},"end":{"line":159,"column":20}},"name":"uppySocket"},"init":{"type":"NewExpression","start":4787,"end":4820,"loc":{"start":{"line":159,"column":23},"end":{"line":159,"column":56}},"callee":{"type":"Identifier","start":4791,"end":4801,"loc":{"start":{"line":159,"column":27},"end":{"line":159,"column":37}},"name":"UppySocket"},"arguments":[{"type":"ObjectExpression","start":4802,"end":4819,"loc":{"start":{"line":159,"column":38},"end":{"line":159,"column":55}},"properties":[{"type":"Property","start":4804,"end":4817,"loc":{"start":{"line":159,"column":40},"end":{"line":159,"column":53}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4804,"end":4810,"loc":{"start":{"line":159,"column":40},"end":{"line":159,"column":46}},"name":"target"},"value":{"type":"Literal","start":4812,"end":4817,"loc":{"start":{"line":159,"column":48},"end":{"line":159,"column":53}},"value":"foo","raw":"'foo'"},"kind":"init"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":4826,"end":4863,"loc":{"start":{"line":161,"column":4},"end":{"line":161,"column":41}},"declarations":[{"type":"VariableDeclarator","start":4832,"end":4863,"loc":{"start":{"line":161,"column":10},"end":{"line":161,"column":41}},"id":{"type":"Identifier","start":4832,"end":4851,"loc":{"start":{"line":161,"column":10},"end":{"line":161,"column":29}},"name":"emitterListenerMock"},"init":{"type":"CallExpression","start":4854,"end":4863,"loc":{"start":{"line":161,"column":32},"end":{"line":161,"column":41}},"callee":{"type":"MemberExpression","start":4854,"end":4861,"loc":{"start":{"line":161,"column":32},"end":{"line":161,"column":39}},"object":{"type":"Identifier","start":4854,"end":4858,"loc":{"start":{"line":161,"column":32},"end":{"line":161,"column":36}},"name":"jest"},"property":{"type":"Identifier","start":4859,"end":4861,"loc":{"start":{"line":161,"column":37},"end":{"line":161,"column":39}},"name":"fn"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":4868,"end":4910,"loc":{"start":{"line":162,"column":4},"end":{"line":162,"column":46}},"expression":{"type":"CallExpression","start":4868,"end":4910,"loc":{"start":{"line":162,"column":4},"end":{"line":162,"column":46}},"callee":{"type":"MemberExpression","start":4868,"end":4883,"loc":{"start":{"line":162,"column":4},"end":{"line":162,"column":19}},"object":{"type":"Identifier","start":4868,"end":4878,"loc":{"start":{"line":162,"column":4},"end":{"line":162,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":4879,"end":4883,"loc":{"start":{"line":162,"column":15},"end":{"line":162,"column":19}},"name":"once"},"computed":false},"arguments":[{"type":"Literal","start":4884,"end":4888,"loc":{"start":{"line":162,"column":20},"end":{"line":162,"column":24}},"value":"hi","raw":"'hi'"},{"type":"Identifier","start":4890,"end":4909,"loc":{"start":{"line":162,"column":26},"end":{"line":162,"column":45}},"name":"emitterListenerMock"}]}},{"type":"ExpressionStatement","start":4916,"end":4943,"loc":{"start":{"line":164,"column":4},"end":{"line":164,"column":31}},"expression":{"type":"CallExpression","start":4916,"end":4943,"loc":{"start":{"line":164,"column":4},"end":{"line":164,"column":31}},"callee":{"type":"MemberExpression","start":4916,"end":4931,"loc":{"start":{"line":164,"column":4},"end":{"line":164,"column":19}},"object":{"type":"Identifier","start":4916,"end":4926,"loc":{"start":{"line":164,"column":4},"end":{"line":164,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":4927,"end":4931,"loc":{"start":{"line":164,"column":15},"end":{"line":164,"column":19}},"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":4932,"end":4936,"loc":{"start":{"line":164,"column":20},"end":{"line":164,"column":24}},"value":"hi","raw":"'hi'"},{"type":"Literal","start":4938,"end":4942,"loc":{"start":{"line":164,"column":26},"end":{"line":164,"column":30}},"value":"ho","raw":"'ho'"}]}},{"type":"ExpressionStatement","start":4948,"end":4975,"loc":{"start":{"line":165,"column":4},"end":{"line":165,"column":31}},"expression":{"type":"CallExpression","start":4948,"end":4975,"loc":{"start":{"line":165,"column":4},"end":{"line":165,"column":31}},"callee":{"type":"MemberExpression","start":4948,"end":4963,"loc":{"start":{"line":165,"column":4},"end":{"line":165,"column":19}},"object":{"type":"Identifier","start":4948,"end":4958,"loc":{"start":{"line":165,"column":4},"end":{"line":165,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":4959,"end":4963,"loc":{"start":{"line":165,"column":15},"end":{"line":165,"column":19}},"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":4964,"end":4968,"loc":{"start":{"line":165,"column":20},"end":{"line":165,"column":24}},"value":"hi","raw":"'hi'"},{"type":"Literal","start":4970,"end":4974,"loc":{"start":{"line":165,"column":26},"end":{"line":165,"column":30}},"value":"ho","raw":"'ho'"}]}},{"type":"ExpressionStatement","start":4980,"end":5022,"loc":{"start":{"line":166,"column":4},"end":{"line":166,"column":46}},"expression":{"type":"CallExpression","start":4980,"end":5022,"loc":{"start":{"line":166,"column":4},"end":{"line":166,"column":46}},"callee":{"type":"MemberExpression","start":4980,"end":4995,"loc":{"start":{"line":166,"column":4},"end":{"line":166,"column":19}},"object":{"type":"Identifier","start":4980,"end":4990,"loc":{"start":{"line":166,"column":4},"end":{"line":166,"column":14}},"name":"uppySocket"},"property":{"type":"Identifier","start":4991,"end":4995,"loc":{"start":{"line":166,"column":15},"end":{"line":166,"column":19}},"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":4996,"end":5000,"loc":{"start":{"line":166,"column":20},"end":{"line":166,"column":24}},"value":"hi","raw":"'hi'"},{"type":"Literal","start":5002,"end":5021,"loc":{"start":{"line":166,"column":26},"end":{"line":166,"column":45}},"value":"off to work we go","raw":"'off to work we go'"}]}},{"type":"ExpressionStatement","start":5028,"end":5084,"loc":{"start":{"line":168,"column":4},"end":{"line":168,"column":60}},"expression":{"type":"CallExpression","start":5028,"end":5084,"loc":{"start":{"line":168,"column":4},"end":{"line":168,"column":60}},"callee":{"type":"MemberExpression","start":5028,"end":5081,"loc":{"start":{"line":168,"column":4},"end":{"line":168,"column":57}},"object":{"type":"CallExpression","start":5028,"end":5073,"loc":{"start":{"line":168,"column":4},"end":{"line":168,"column":49}},"callee":{"type":"Identifier","start":5028,"end":5034,"loc":{"start":{"line":168,"column":4},"end":{"line":168,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":5035,"end":5072,"loc":{"start":{"line":168,"column":11},"end":{"line":168,"column":48}},"object":{"type":"MemberExpression","start":5035,"end":5065,"loc":{"start":{"line":168,"column":11},"end":{"line":168,"column":41}},"object":{"type":"MemberExpression","start":5035,"end":5059,"loc":{"start":{"line":168,"column":11},"end":{"line":168,"column":35}},"object":{"type":"Identifier","start":5035,"end":5054,"loc":{"start":{"line":168,"column":11},"end":{"line":168,"column":30}},"name":"emitterListenerMock"},"property":{"type":"Identifier","start":5055,"end":5059,"loc":{"start":{"line":168,"column":31},"end":{"line":168,"column":35}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":5060,"end":5065,"loc":{"start":{"line":168,"column":36},"end":{"line":168,"column":41}},"name":"calls"},"computed":false},"property":{"type":"Identifier","start":5066,"end":5072,"loc":{"start":{"line":168,"column":42},"end":{"line":168,"column":48}},"name":"length"},"computed":false}]},"property":{"type":"Identifier","start":5074,"end":5081,"loc":{"start":{"line":168,"column":50},"end":{"line":168,"column":57}},"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":5082,"end":5083,"loc":{"start":{"line":168,"column":58},"end":{"line":168,"column":59}},"value":1,"raw":"1"}]}},{"type":"ExpressionStatement","start":5089,"end":5212,"loc":{"start":{"line":169,"column":4},"end":{"line":171,"column":6}},"expression":{"type":"CallExpression","start":5089,"end":5212,"loc":{"start":{"line":169,"column":4},"end":{"line":171,"column":6}},"callee":{"type":"MemberExpression","start":5089,"end":5135,"loc":{"start":{"line":169,"column":4},"end":{"line":169,"column":50}},"object":{"type":"CallExpression","start":5089,"end":5127,"loc":{"start":{"line":169,"column":4},"end":{"line":169,"column":42}},"callee":{"type":"Identifier","start":5089,"end":5095,"loc":{"start":{"line":169,"column":4},"end":{"line":169,"column":10}},"name":"expect"},"arguments":[{"type":"MemberExpression","start":5096,"end":5126,"loc":{"start":{"line":169,"column":11},"end":{"line":169,"column":41}},"object":{"type":"MemberExpression","start":5096,"end":5120,"loc":{"start":{"line":169,"column":11},"end":{"line":169,"column":35}},"object":{"type":"Identifier","start":5096,"end":5115,"loc":{"start":{"line":169,"column":11},"end":{"line":169,"column":30}},"name":"emitterListenerMock"},"property":{"type":"Identifier","start":5116,"end":5120,"loc":{"start":{"line":169,"column":31},"end":{"line":169,"column":35}},"name":"mock"},"computed":false},"property":{"type":"Identifier","start":5121,"end":5126,"loc":{"start":{"line":169,"column":36},"end":{"line":169,"column":41}},"name":"calls"},"computed":false}]},"property":{"type":"Identifier","start":5128,"end":5135,"loc":{"start":{"line":169,"column":43},"end":{"line":169,"column":50}},"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":5136,"end":5211,"loc":{"start":{"line":169,"column":51},"end":{"line":171,"column":5}},"elements":[{"type":"ArrayExpression","start":5144,"end":5205,"loc":{"start":{"line":170,"column":6},"end":{"line":170,"column":67}},"elements":[{"type":"Literal","start":5145,"end":5149,"loc":{"start":{"line":170,"column":7},"end":{"line":170,"column":11}},"value":"ho","raw":"'ho'"},{"type":"Identifier","start":5151,"end":5160,"loc":{"start":{"line":170,"column":13},"end":{"line":170,"column":22}},"name":"undefined"},{"type":"Identifier","start":5162,"end":5171,"loc":{"start":{"line":170,"column":24},"end":{"line":170,"column":33}},"name":"undefined"},{"type":"Identifier","start":5173,"end":5182,"loc":{"start":{"line":170,"column":35},"end":{"line":170,"column":44}},"name":"undefined"},{"type":"Identifier","start":5184,"end":5193,"loc":{"start":{"line":170,"column":46},"end":{"line":170,"column":55}},"name":"undefined"},{"type":"Identifier","start":5195,"end":5204,"loc":{"start":{"line":170,"column":57},"end":{"line":170,"column":66}},"name":"undefined"}]}]}]}}]}}]}}]}}]}}],"sourceType":"module"}