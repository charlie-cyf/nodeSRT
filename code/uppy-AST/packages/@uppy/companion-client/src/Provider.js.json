{"type":"Program","start":0,"end":3364,"loc":{"start":{"line":1,"column":0},"end":{"line":102,"column":0}},"body":[{"type":"ExpressionStatement","start":0,"end":12,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":12}},"expression":{"type":"Literal","start":0,"end":12,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":12}},"value":"use strict","raw":"'use strict'"},"directive":"use strict"},{"type":"VariableDeclaration","start":14,"end":62,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}},"declarations":[{"type":"VariableDeclarator","start":20,"end":62,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":48}},"id":{"type":"Identifier","start":20,"end":33,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":19}},"name":"RequestClient"},"init":{"type":"CallExpression","start":36,"end":62,"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":48}},"callee":{"type":"Identifier","start":36,"end":43,"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":29}},"name":"require"},"arguments":[{"type":"Literal","start":44,"end":61,"loc":{"start":{"line":3,"column":30},"end":{"line":3,"column":47}},"value":"./RequestClient","raw":"'./RequestClient'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":63,"end":109,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}},"declarations":[{"type":"VariableDeclarator","start":69,"end":109,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":46}},"id":{"type":"Identifier","start":69,"end":81,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":18}},"name":"tokenStorage"},"init":{"type":"CallExpression","start":84,"end":109,"loc":{"start":{"line":4,"column":21},"end":{"line":4,"column":46}},"callee":{"type":"Identifier","start":84,"end":91,"loc":{"start":{"line":4,"column":21},"end":{"line":4,"column":28}},"name":"require"},"arguments":[{"type":"Literal","start":92,"end":108,"loc":{"start":{"line":4,"column":29},"end":{"line":4,"column":45}},"value":"./tokenStorage","raw":"'./tokenStorage'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":111,"end":223,"loc":{"start":{"line":6,"column":0},"end":{"line":8,"column":1}},"declarations":[{"type":"VariableDeclarator","start":117,"end":223,"loc":{"start":{"line":6,"column":6},"end":{"line":8,"column":1}},"id":{"type":"Identifier","start":117,"end":125,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":14}},"name":"_getName"},"init":{"type":"ArrowFunctionExpression","start":128,"end":223,"loc":{"start":{"line":6,"column":17},"end":{"line":8,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":129,"end":131,"loc":{"start":{"line":6,"column":18},"end":{"line":6,"column":20}},"name":"id"}],"body":{"type":"BlockStatement","start":136,"end":223,"loc":{"start":{"line":6,"column":25},"end":{"line":8,"column":1}},"body":[{"type":"ReturnStatement","start":140,"end":221,"loc":{"start":{"line":7,"column":2},"end":{"line":7,"column":83}},"argument":{"type":"CallExpression","start":147,"end":221,"loc":{"start":{"line":7,"column":9},"end":{"line":7,"column":83}},"callee":{"type":"MemberExpression","start":147,"end":216,"loc":{"start":{"line":7,"column":9},"end":{"line":7,"column":78}},"object":{"type":"CallExpression","start":147,"end":211,"loc":{"start":{"line":7,"column":9},"end":{"line":7,"column":73}},"callee":{"type":"MemberExpression","start":147,"end":164,"loc":{"start":{"line":7,"column":9},"end":{"line":7,"column":26}},"object":{"type":"CallExpression","start":147,"end":160,"loc":{"start":{"line":7,"column":9},"end":{"line":7,"column":22}},"callee":{"type":"MemberExpression","start":147,"end":155,"loc":{"start":{"line":7,"column":9},"end":{"line":7,"column":17}},"object":{"type":"Identifier","start":147,"end":149,"loc":{"start":{"line":7,"column":9},"end":{"line":7,"column":11}},"name":"id"},"property":{"type":"Identifier","start":150,"end":155,"loc":{"start":{"line":7,"column":12},"end":{"line":7,"column":17}},"name":"split"},"computed":false},"arguments":[{"type":"Literal","start":156,"end":159,"loc":{"start":{"line":7,"column":18},"end":{"line":7,"column":21}},"value":"-","raw":"'-'"}]},"property":{"type":"Identifier","start":161,"end":164,"loc":{"start":{"line":7,"column":23},"end":{"line":7,"column":26}},"name":"map"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":165,"end":210,"loc":{"start":{"line":7,"column":27},"end":{"line":7,"column":72}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":166,"end":167,"loc":{"start":{"line":7,"column":28},"end":{"line":7,"column":29}},"name":"s"}],"body":{"type":"BinaryExpression","start":172,"end":210,"loc":{"start":{"line":7,"column":34},"end":{"line":7,"column":72}},"left":{"type":"CallExpression","start":172,"end":197,"loc":{"start":{"line":7,"column":34},"end":{"line":7,"column":59}},"callee":{"type":"MemberExpression","start":172,"end":195,"loc":{"start":{"line":7,"column":34},"end":{"line":7,"column":57}},"object":{"type":"CallExpression","start":172,"end":183,"loc":{"start":{"line":7,"column":34},"end":{"line":7,"column":45}},"callee":{"type":"MemberExpression","start":172,"end":180,"loc":{"start":{"line":7,"column":34},"end":{"line":7,"column":42}},"object":{"type":"Identifier","start":172,"end":173,"loc":{"start":{"line":7,"column":34},"end":{"line":7,"column":35}},"name":"s"},"property":{"type":"Identifier","start":174,"end":180,"loc":{"start":{"line":7,"column":36},"end":{"line":7,"column":42}},"name":"charAt"},"computed":false},"arguments":[{"type":"Literal","start":181,"end":182,"loc":{"start":{"line":7,"column":43},"end":{"line":7,"column":44}},"value":0,"raw":"0"}]},"property":{"type":"Identifier","start":184,"end":195,"loc":{"start":{"line":7,"column":46},"end":{"line":7,"column":57}},"name":"toUpperCase"},"computed":false},"arguments":[]},"operator":"+","right":{"type":"CallExpression","start":200,"end":210,"loc":{"start":{"line":7,"column":62},"end":{"line":7,"column":72}},"callee":{"type":"MemberExpression","start":200,"end":207,"loc":{"start":{"line":7,"column":62},"end":{"line":7,"column":69}},"object":{"type":"Identifier","start":200,"end":201,"loc":{"start":{"line":7,"column":62},"end":{"line":7,"column":63}},"name":"s"},"property":{"type":"Identifier","start":202,"end":207,"loc":{"start":{"line":7,"column":64},"end":{"line":7,"column":69}},"name":"slice"},"computed":false},"arguments":[{"type":"Literal","start":208,"end":209,"loc":{"start":{"line":7,"column":70},"end":{"line":7,"column":71}},"value":1,"raw":"1"}]}}}]},"property":{"type":"Identifier","start":212,"end":216,"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":78}},"name":"join"},"computed":false},"arguments":[{"type":"Literal","start":217,"end":220,"loc":{"start":{"line":7,"column":79},"end":{"line":7,"column":82}},"value":" ","raw":"' '"}]}}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":225,"end":3363,"loc":{"start":{"line":10,"column":0},"end":{"line":101,"column":1}},"expression":{"type":"AssignmentExpression","start":225,"end":3363,"loc":{"start":{"line":10,"column":0},"end":{"line":101,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":225,"end":239,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":14}},"object":{"type":"Identifier","start":225,"end":231,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":6}},"name":"module"},"property":{"type":"Identifier","start":232,"end":239,"loc":{"start":{"line":10,"column":7},"end":{"line":10,"column":14}},"name":"exports"},"computed":false},"right":{"type":"ClassExpression","start":242,"end":3363,"loc":{"start":{"line":10,"column":17},"end":{"line":101,"column":1}},"id":{"type":"Identifier","start":248,"end":256,"loc":{"start":{"line":10,"column":23},"end":{"line":10,"column":31}},"name":"Provider"},"superClass":{"type":"Identifier","start":265,"end":278,"loc":{"start":{"line":10,"column":40},"end":{"line":10,"column":53}},"name":"RequestClient"},"body":{"type":"ClassBody","start":279,"end":3363,"loc":{"start":{"line":10,"column":54},"end":{"line":101,"column":1}},"body":[{"type":"MethodDefinition","start":283,"end":607,"loc":{"start":{"line":11,"column":2},"end":{"line":19,"column":3}},"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":283,"end":294,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":13}},"name":"constructor"},"value":{"type":"FunctionExpression","start":295,"end":607,"loc":{"start":{"line":11,"column":14},"end":{"line":19,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":296,"end":300,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},"name":"uppy"},{"type":"Identifier","start":302,"end":306,"loc":{"start":{"line":11,"column":21},"end":{"line":11,"column":25}},"name":"opts"}],"body":{"type":"BlockStatement","start":308,"end":607,"loc":{"start":{"line":11,"column":27},"end":{"line":19,"column":3}},"body":[{"type":"ExpressionStatement","start":314,"end":331,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"expression":{"type":"CallExpression","start":314,"end":331,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"callee":{"type":"Super","start":314,"end":319,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":9}}},"arguments":[{"type":"Identifier","start":320,"end":324,"loc":{"start":{"line":12,"column":10},"end":{"line":12,"column":14}},"name":"uppy"},{"type":"Identifier","start":326,"end":330,"loc":{"start":{"line":12,"column":16},"end":{"line":12,"column":20}},"name":"opts"}]}},{"type":"ExpressionStatement","start":336,"end":365,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":33}},"expression":{"type":"AssignmentExpression","start":336,"end":365,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":33}},"operator":"=","left":{"type":"MemberExpression","start":336,"end":349,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":17}},"object":{"type":"ThisExpression","start":336,"end":340,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":8}}},"property":{"type":"Identifier","start":341,"end":349,"loc":{"start":{"line":13,"column":9},"end":{"line":13,"column":17}},"name":"provider"},"computed":false},"right":{"type":"MemberExpression","start":352,"end":365,"loc":{"start":{"line":13,"column":20},"end":{"line":13,"column":33}},"object":{"type":"Identifier","start":352,"end":356,"loc":{"start":{"line":13,"column":20},"end":{"line":13,"column":24}},"name":"opts"},"property":{"type":"Identifier","start":357,"end":365,"loc":{"start":{"line":13,"column":25},"end":{"line":13,"column":33}},"name":"provider"},"computed":false}}},{"type":"ExpressionStatement","start":370,"end":393,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":27}},"expression":{"type":"AssignmentExpression","start":370,"end":393,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":27}},"operator":"=","left":{"type":"MemberExpression","start":370,"end":377,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":11}},"object":{"type":"ThisExpression","start":370,"end":374,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":8}}},"property":{"type":"Identifier","start":375,"end":377,"loc":{"start":{"line":14,"column":9},"end":{"line":14,"column":11}},"name":"id"},"computed":false},"right":{"type":"MemberExpression","start":380,"end":393,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":27}},"object":{"type":"ThisExpression","start":380,"end":384,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":18}}},"property":{"type":"Identifier","start":385,"end":393,"loc":{"start":{"line":14,"column":19},"end":{"line":14,"column":27}},"name":"provider"},"computed":false}}},{"type":"ExpressionStatement","start":398,"end":452,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":58}},"expression":{"type":"AssignmentExpression","start":398,"end":452,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":58}},"operator":"=","left":{"type":"MemberExpression","start":398,"end":415,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":21}},"object":{"type":"ThisExpression","start":398,"end":402,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":8}}},"property":{"type":"Identifier","start":403,"end":415,"loc":{"start":{"line":15,"column":9},"end":{"line":15,"column":21}},"name":"authProvider"},"computed":false},"right":{"type":"LogicalExpression","start":418,"end":452,"loc":{"start":{"line":15,"column":24},"end":{"line":15,"column":58}},"left":{"type":"MemberExpression","start":418,"end":435,"loc":{"start":{"line":15,"column":24},"end":{"line":15,"column":41}},"object":{"type":"Identifier","start":418,"end":422,"loc":{"start":{"line":15,"column":24},"end":{"line":15,"column":28}},"name":"opts"},"property":{"type":"Identifier","start":423,"end":435,"loc":{"start":{"line":15,"column":29},"end":{"line":15,"column":41}},"name":"authProvider"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":439,"end":452,"loc":{"start":{"line":15,"column":45},"end":{"line":15,"column":58}},"object":{"type":"ThisExpression","start":439,"end":443,"loc":{"start":{"line":15,"column":45},"end":{"line":15,"column":49}}},"property":{"type":"Identifier","start":444,"end":452,"loc":{"start":{"line":15,"column":50},"end":{"line":15,"column":58}},"name":"provider"},"computed":false}}}},{"type":"ExpressionStatement","start":457,"end":504,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":51}},"expression":{"type":"AssignmentExpression","start":457,"end":504,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":51}},"operator":"=","left":{"type":"MemberExpression","start":457,"end":466,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":13}},"object":{"type":"ThisExpression","start":457,"end":461,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":8}}},"property":{"type":"Identifier","start":462,"end":466,"loc":{"start":{"line":16,"column":9},"end":{"line":16,"column":13}},"name":"name"},"computed":false},"right":{"type":"LogicalExpression","start":469,"end":504,"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":51}},"left":{"type":"MemberExpression","start":469,"end":483,"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":30}},"object":{"type":"MemberExpression","start":469,"end":478,"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":25}},"object":{"type":"ThisExpression","start":469,"end":473,"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":20}}},"property":{"type":"Identifier","start":474,"end":478,"loc":{"start":{"line":16,"column":21},"end":{"line":16,"column":25}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":479,"end":483,"loc":{"start":{"line":16,"column":26},"end":{"line":16,"column":30}},"name":"name"},"computed":false},"operator":"||","right":{"type":"CallExpression","start":487,"end":504,"loc":{"start":{"line":16,"column":34},"end":{"line":16,"column":51}},"callee":{"type":"Identifier","start":487,"end":495,"loc":{"start":{"line":16,"column":34},"end":{"line":16,"column":42}},"name":"_getName"},"arguments":[{"type":"MemberExpression","start":496,"end":503,"loc":{"start":{"line":16,"column":43},"end":{"line":16,"column":50}},"object":{"type":"ThisExpression","start":496,"end":500,"loc":{"start":{"line":16,"column":43},"end":{"line":16,"column":47}}},"property":{"type":"Identifier","start":501,"end":503,"loc":{"start":{"line":16,"column":48},"end":{"line":16,"column":50}},"name":"id"},"computed":false}]}}}},{"type":"ExpressionStatement","start":509,"end":543,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":38}},"expression":{"type":"AssignmentExpression","start":509,"end":543,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":38}},"operator":"=","left":{"type":"MemberExpression","start":509,"end":522,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":17}},"object":{"type":"ThisExpression","start":509,"end":513,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":8}}},"property":{"type":"Identifier","start":514,"end":522,"loc":{"start":{"line":17,"column":9},"end":{"line":17,"column":17}},"name":"pluginId"},"computed":false},"right":{"type":"MemberExpression","start":525,"end":543,"loc":{"start":{"line":17,"column":20},"end":{"line":17,"column":38}},"object":{"type":"MemberExpression","start":525,"end":534,"loc":{"start":{"line":17,"column":20},"end":{"line":17,"column":29}},"object":{"type":"ThisExpression","start":525,"end":529,"loc":{"start":{"line":17,"column":20},"end":{"line":17,"column":24}}},"property":{"type":"Identifier","start":530,"end":534,"loc":{"start":{"line":17,"column":25},"end":{"line":17,"column":29}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":535,"end":543,"loc":{"start":{"line":17,"column":30},"end":{"line":17,"column":38}},"name":"pluginId"},"computed":false}}},{"type":"ExpressionStatement","start":548,"end":603,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":59}},"expression":{"type":"AssignmentExpression","start":548,"end":603,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":59}},"operator":"=","left":{"type":"MemberExpression","start":548,"end":561,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":17}},"object":{"type":"ThisExpression","start":548,"end":552,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":8}}},"property":{"type":"Identifier","start":553,"end":561,"loc":{"start":{"line":18,"column":9},"end":{"line":18,"column":17}},"name":"tokenKey"},"computed":false},"right":{"type":"TemplateLiteral","start":564,"end":603,"loc":{"start":{"line":18,"column":20},"end":{"line":18,"column":59}},"expressions":[{"type":"MemberExpression","start":577,"end":590,"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":46}},"object":{"type":"ThisExpression","start":577,"end":581,"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":37}}},"property":{"type":"Identifier","start":582,"end":590,"loc":{"start":{"line":18,"column":38},"end":{"line":18,"column":46}},"name":"pluginId"},"computed":false}],"quasis":[{"type":"TemplateElement","start":565,"end":575,"loc":{"start":{"line":18,"column":21},"end":{"line":18,"column":31}},"value":{"raw":"companion-","cooked":"companion-"},"tail":false},{"type":"TemplateElement","start":591,"end":602,"loc":{"start":{"line":18,"column":47},"end":{"line":18,"column":58}},"value":{"raw":"-auth-token","cooked":"-auth-token"},"tail":true}]}}}]}}},{"type":"MethodDefinition","start":611,"end":878,"loc":{"start":{"line":21,"column":2},"end":{"line":29,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":611,"end":618,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":9}},"name":"headers"},"value":{"type":"FunctionExpression","start":619,"end":878,"loc":{"start":{"line":21,"column":10},"end":{"line":29,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":622,"end":878,"loc":{"start":{"line":21,"column":13},"end":{"line":29,"column":3}},"body":[{"type":"ReturnStatement","start":628,"end":874,"loc":{"start":{"line":22,"column":4},"end":{"line":28,"column":6}},"argument":{"type":"NewExpression","start":635,"end":874,"loc":{"start":{"line":22,"column":11},"end":{"line":28,"column":6}},"callee":{"type":"Identifier","start":639,"end":646,"loc":{"start":{"line":22,"column":15},"end":{"line":22,"column":22}},"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":647,"end":873,"loc":{"start":{"line":22,"column":23},"end":{"line":28,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":648,"end":655,"loc":{"start":{"line":22,"column":24},"end":{"line":22,"column":31}},"name":"resolve"},{"type":"Identifier","start":657,"end":663,"loc":{"start":{"line":22,"column":33},"end":{"line":22,"column":39}},"name":"reject"}],"body":{"type":"BlockStatement","start":668,"end":873,"loc":{"start":{"line":22,"column":44},"end":{"line":28,"column":5}},"body":[{"type":"ExpressionStatement","start":676,"end":867,"loc":{"start":{"line":23,"column":6},"end":{"line":27,"column":22}},"expression":{"type":"CallExpression","start":676,"end":867,"loc":{"start":{"line":23,"column":6},"end":{"line":27,"column":22}},"callee":{"type":"MemberExpression","start":676,"end":859,"loc":{"start":{"line":23,"column":6},"end":{"line":27,"column":14}},"object":{"type":"CallExpression","start":676,"end":853,"loc":{"start":{"line":23,"column":6},"end":{"line":27,"column":8}},"callee":{"type":"MemberExpression","start":676,"end":696,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":26}},"object":{"type":"CallExpression","start":676,"end":691,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":21}},"callee":{"type":"MemberExpression","start":676,"end":689,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":19}},"object":{"type":"Super","start":676,"end":681,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":11}}},"property":{"type":"Identifier","start":682,"end":689,"loc":{"start":{"line":23,"column":12},"end":{"line":23,"column":19}},"name":"headers"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":692,"end":696,"loc":{"start":{"line":23,"column":22},"end":{"line":23,"column":26}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":697,"end":852,"loc":{"start":{"line":23,"column":27},"end":{"line":27,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":698,"end":705,"loc":{"start":{"line":23,"column":28},"end":{"line":23,"column":35}},"name":"headers"}],"body":{"type":"BlockStatement","start":710,"end":852,"loc":{"start":{"line":23,"column":40},"end":{"line":27,"column":7}},"body":[{"type":"ExpressionStatement","start":720,"end":844,"loc":{"start":{"line":24,"column":8},"end":{"line":26,"column":10}},"expression":{"type":"CallExpression","start":720,"end":844,"loc":{"start":{"line":24,"column":8},"end":{"line":26,"column":10}},"callee":{"type":"MemberExpression","start":720,"end":744,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":32}},"object":{"type":"CallExpression","start":720,"end":739,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":27}},"callee":{"type":"MemberExpression","start":720,"end":737,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":25}},"object":{"type":"ThisExpression","start":720,"end":724,"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":12}}},"property":{"type":"Identifier","start":725,"end":737,"loc":{"start":{"line":24,"column":13},"end":{"line":24,"column":25}},"name":"getAuthToken"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":740,"end":744,"loc":{"start":{"line":24,"column":28},"end":{"line":24,"column":32}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":745,"end":843,"loc":{"start":{"line":24,"column":33},"end":{"line":26,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":746,"end":751,"loc":{"start":{"line":24,"column":34},"end":{"line":24,"column":39}},"name":"token"}],"body":{"type":"BlockStatement","start":756,"end":843,"loc":{"start":{"line":24,"column":44},"end":{"line":26,"column":9}},"body":[{"type":"ExpressionStatement","start":768,"end":833,"loc":{"start":{"line":25,"column":10},"end":{"line":25,"column":75}},"expression":{"type":"CallExpression","start":768,"end":833,"loc":{"start":{"line":25,"column":10},"end":{"line":25,"column":75}},"callee":{"type":"Identifier","start":768,"end":775,"loc":{"start":{"line":25,"column":10},"end":{"line":25,"column":17}},"name":"resolve"},"arguments":[{"type":"CallExpression","start":776,"end":832,"loc":{"start":{"line":25,"column":18},"end":{"line":25,"column":74}},"callee":{"type":"MemberExpression","start":776,"end":789,"loc":{"start":{"line":25,"column":18},"end":{"line":25,"column":31}},"object":{"type":"Identifier","start":776,"end":782,"loc":{"start":{"line":25,"column":18},"end":{"line":25,"column":24}},"name":"Object"},"property":{"type":"Identifier","start":783,"end":789,"loc":{"start":{"line":25,"column":25},"end":{"line":25,"column":31}},"name":"assign"},"computed":false},"arguments":[{"type":"ObjectExpression","start":790,"end":792,"loc":{"start":{"line":25,"column":32},"end":{"line":25,"column":34}},"properties":[]},{"type":"Identifier","start":794,"end":801,"loc":{"start":{"line":25,"column":36},"end":{"line":25,"column":43}},"name":"headers"},{"type":"ObjectExpression","start":803,"end":831,"loc":{"start":{"line":25,"column":45},"end":{"line":25,"column":73}},"properties":[{"type":"Property","start":805,"end":829,"loc":{"start":{"line":25,"column":47},"end":{"line":25,"column":71}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":805,"end":822,"loc":{"start":{"line":25,"column":47},"end":{"line":25,"column":64}},"value":"uppy-auth-token","raw":"'uppy-auth-token'"},"value":{"type":"Identifier","start":824,"end":829,"loc":{"start":{"line":25,"column":66},"end":{"line":25,"column":71}},"name":"token"},"kind":"init"}]}]}]}}]}}]}}]}}]},"property":{"type":"Identifier","start":854,"end":859,"loc":{"start":{"line":27,"column":9},"end":{"line":27,"column":14}},"name":"catch"},"computed":false},"arguments":[{"type":"Identifier","start":860,"end":866,"loc":{"start":{"line":27,"column":15},"end":{"line":27,"column":21}},"name":"reject"}]}}]}}]}}]}}},{"type":"MethodDefinition","start":882,"end":1244,"loc":{"start":{"line":31,"column":2},"end":{"line":38,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":882,"end":899,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":19}},"name":"onReceiveResponse"},"value":{"type":"FunctionExpression","start":900,"end":1244,"loc":{"start":{"line":31,"column":20},"end":{"line":38,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":901,"end":909,"loc":{"start":{"line":31,"column":21},"end":{"line":31,"column":29}},"name":"response"}],"body":{"type":"BlockStatement","start":911,"end":1244,"loc":{"start":{"line":31,"column":31},"end":{"line":38,"column":3}},"body":[{"type":"ExpressionStatement","start":917,"end":961,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":48}},"expression":{"type":"AssignmentExpression","start":917,"end":961,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":48}},"operator":"=","left":{"type":"Identifier","start":917,"end":925,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":12}},"name":"response"},"right":{"type":"CallExpression","start":928,"end":961,"loc":{"start":{"line":32,"column":15},"end":{"line":32,"column":48}},"callee":{"type":"MemberExpression","start":928,"end":951,"loc":{"start":{"line":32,"column":15},"end":{"line":32,"column":38}},"object":{"type":"Super","start":928,"end":933,"loc":{"start":{"line":32,"column":15},"end":{"line":32,"column":20}}},"property":{"type":"Identifier","start":934,"end":951,"loc":{"start":{"line":32,"column":21},"end":{"line":32,"column":38}},"name":"onReceiveResponse"},"computed":false},"arguments":[{"type":"Identifier","start":952,"end":960,"loc":{"start":{"line":32,"column":39},"end":{"line":32,"column":47}},"name":"response"}]}}},{"type":"VariableDeclaration","start":966,"end":1015,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":53}},"declarations":[{"type":"VariableDeclarator","start":972,"end":1015,"loc":{"start":{"line":33,"column":10},"end":{"line":33,"column":53}},"id":{"type":"Identifier","start":972,"end":978,"loc":{"start":{"line":33,"column":10},"end":{"line":33,"column":16}},"name":"plugin"},"init":{"type":"CallExpression","start":981,"end":1015,"loc":{"start":{"line":33,"column":19},"end":{"line":33,"column":53}},"callee":{"type":"MemberExpression","start":981,"end":1000,"loc":{"start":{"line":33,"column":19},"end":{"line":33,"column":38}},"object":{"type":"MemberExpression","start":981,"end":990,"loc":{"start":{"line":33,"column":19},"end":{"line":33,"column":28}},"object":{"type":"ThisExpression","start":981,"end":985,"loc":{"start":{"line":33,"column":19},"end":{"line":33,"column":23}}},"property":{"type":"Identifier","start":986,"end":990,"loc":{"start":{"line":33,"column":24},"end":{"line":33,"column":28}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":991,"end":1000,"loc":{"start":{"line":33,"column":29},"end":{"line":33,"column":38}},"name":"getPlugin"},"computed":false},"arguments":[{"type":"MemberExpression","start":1001,"end":1014,"loc":{"start":{"line":33,"column":39},"end":{"line":33,"column":52}},"object":{"type":"ThisExpression","start":1001,"end":1005,"loc":{"start":{"line":33,"column":39},"end":{"line":33,"column":43}}},"property":{"type":"Identifier","start":1006,"end":1014,"loc":{"start":{"line":33,"column":44},"end":{"line":33,"column":52}},"name":"pluginId"},"computed":false}]}}],"kind":"const"},{"type":"VariableDeclaration","start":1020,"end":1082,"loc":{"start":{"line":34,"column":4},"end":{"line":34,"column":66}},"declarations":[{"type":"VariableDeclarator","start":1026,"end":1082,"loc":{"start":{"line":34,"column":10},"end":{"line":34,"column":66}},"id":{"type":"Identifier","start":1026,"end":1042,"loc":{"start":{"line":34,"column":10},"end":{"line":34,"column":26}},"name":"oldAuthenticated"},"init":{"type":"MemberExpression","start":1045,"end":1082,"loc":{"start":{"line":34,"column":29},"end":{"line":34,"column":66}},"object":{"type":"CallExpression","start":1045,"end":1068,"loc":{"start":{"line":34,"column":29},"end":{"line":34,"column":52}},"callee":{"type":"MemberExpression","start":1045,"end":1066,"loc":{"start":{"line":34,"column":29},"end":{"line":34,"column":50}},"object":{"type":"Identifier","start":1045,"end":1051,"loc":{"start":{"line":34,"column":29},"end":{"line":34,"column":35}},"name":"plugin"},"property":{"type":"Identifier","start":1052,"end":1066,"loc":{"start":{"line":34,"column":36},"end":{"line":34,"column":50}},"name":"getPluginState"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":1069,"end":1082,"loc":{"start":{"line":34,"column":53},"end":{"line":34,"column":66}},"name":"authenticated"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":1087,"end":1175,"loc":{"start":{"line":35,"column":4},"end":{"line":35,"column":92}},"declarations":[{"type":"VariableDeclarator","start":1093,"end":1175,"loc":{"start":{"line":35,"column":10},"end":{"line":35,"column":92}},"id":{"type":"Identifier","start":1093,"end":1106,"loc":{"start":{"line":35,"column":10},"end":{"line":35,"column":23}},"name":"authenticated"},"init":{"type":"ConditionalExpression","start":1109,"end":1175,"loc":{"start":{"line":35,"column":26},"end":{"line":35,"column":92}},"test":{"type":"Identifier","start":1109,"end":1125,"loc":{"start":{"line":35,"column":26},"end":{"line":35,"column":42}},"name":"oldAuthenticated"},"consequent":{"type":"BinaryExpression","start":1128,"end":1151,"loc":{"start":{"line":35,"column":45},"end":{"line":35,"column":68}},"left":{"type":"MemberExpression","start":1128,"end":1143,"loc":{"start":{"line":35,"column":45},"end":{"line":35,"column":60}},"object":{"type":"Identifier","start":1128,"end":1136,"loc":{"start":{"line":35,"column":45},"end":{"line":35,"column":53}},"name":"response"},"property":{"type":"Identifier","start":1137,"end":1143,"loc":{"start":{"line":35,"column":54},"end":{"line":35,"column":60}},"name":"status"},"computed":false},"operator":"!==","right":{"type":"Literal","start":1148,"end":1151,"loc":{"start":{"line":35,"column":65},"end":{"line":35,"column":68}},"value":401,"raw":"401"}},"alternate":{"type":"BinaryExpression","start":1154,"end":1175,"loc":{"start":{"line":35,"column":71},"end":{"line":35,"column":92}},"left":{"type":"MemberExpression","start":1154,"end":1169,"loc":{"start":{"line":35,"column":71},"end":{"line":35,"column":86}},"object":{"type":"Identifier","start":1154,"end":1162,"loc":{"start":{"line":35,"column":71},"end":{"line":35,"column":79}},"name":"response"},"property":{"type":"Identifier","start":1163,"end":1169,"loc":{"start":{"line":35,"column":80},"end":{"line":35,"column":86}},"name":"status"},"computed":false},"operator":"<","right":{"type":"Literal","start":1172,"end":1175,"loc":{"start":{"line":35,"column":89},"end":{"line":35,"column":92}},"value":400,"raw":"400"}}}}],"kind":"const"},{"type":"ExpressionStatement","start":1180,"end":1220,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":44}},"expression":{"type":"CallExpression","start":1180,"end":1220,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":44}},"callee":{"type":"MemberExpression","start":1180,"end":1201,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":25}},"object":{"type":"Identifier","start":1180,"end":1186,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":10}},"name":"plugin"},"property":{"type":"Identifier","start":1187,"end":1201,"loc":{"start":{"line":36,"column":11},"end":{"line":36,"column":25}},"name":"setPluginState"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1202,"end":1219,"loc":{"start":{"line":36,"column":26},"end":{"line":36,"column":43}},"properties":[{"type":"Property","start":1204,"end":1217,"loc":{"start":{"line":36,"column":28},"end":{"line":36,"column":41}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1204,"end":1217,"loc":{"start":{"line":36,"column":28},"end":{"line":36,"column":41}},"name":"authenticated"},"kind":"init","value":{"type":"Identifier","start":1204,"end":1217,"loc":{"start":{"line":36,"column":28},"end":{"line":36,"column":41}},"name":"authenticated"}}]}]}},{"type":"ReturnStatement","start":1225,"end":1240,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":19}},"argument":{"type":"Identifier","start":1232,"end":1240,"loc":{"start":{"line":37,"column":11},"end":{"line":37,"column":19}},"name":"response"}}]}}},{"type":"MethodDefinition","start":1326,"end":1436,"loc":{"start":{"line":41,"column":2},"end":{"line":43,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1326,"end":1338,"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":14}},"name":"setAuthToken"},"value":{"type":"FunctionExpression","start":1339,"end":1436,"loc":{"start":{"line":41,"column":15},"end":{"line":43,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1340,"end":1345,"loc":{"start":{"line":41,"column":16},"end":{"line":41,"column":21}},"name":"token"}],"body":{"type":"BlockStatement","start":1347,"end":1436,"loc":{"start":{"line":41,"column":23},"end":{"line":43,"column":3}},"body":[{"type":"ReturnStatement","start":1353,"end":1432,"loc":{"start":{"line":42,"column":4},"end":{"line":42,"column":83}},"argument":{"type":"CallExpression","start":1360,"end":1432,"loc":{"start":{"line":42,"column":11},"end":{"line":42,"column":83}},"callee":{"type":"MemberExpression","start":1360,"end":1410,"loc":{"start":{"line":42,"column":11},"end":{"line":42,"column":61}},"object":{"type":"MemberExpression","start":1360,"end":1402,"loc":{"start":{"line":42,"column":11},"end":{"line":42,"column":53}},"object":{"type":"CallExpression","start":1360,"end":1394,"loc":{"start":{"line":42,"column":11},"end":{"line":42,"column":45}},"callee":{"type":"MemberExpression","start":1360,"end":1379,"loc":{"start":{"line":42,"column":11},"end":{"line":42,"column":30}},"object":{"type":"MemberExpression","start":1360,"end":1369,"loc":{"start":{"line":42,"column":11},"end":{"line":42,"column":20}},"object":{"type":"ThisExpression","start":1360,"end":1364,"loc":{"start":{"line":42,"column":11},"end":{"line":42,"column":15}}},"property":{"type":"Identifier","start":1365,"end":1369,"loc":{"start":{"line":42,"column":16},"end":{"line":42,"column":20}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":1370,"end":1379,"loc":{"start":{"line":42,"column":21},"end":{"line":42,"column":30}},"name":"getPlugin"},"computed":false},"arguments":[{"type":"MemberExpression","start":1380,"end":1393,"loc":{"start":{"line":42,"column":31},"end":{"line":42,"column":44}},"object":{"type":"ThisExpression","start":1380,"end":1384,"loc":{"start":{"line":42,"column":31},"end":{"line":42,"column":35}}},"property":{"type":"Identifier","start":1385,"end":1393,"loc":{"start":{"line":42,"column":36},"end":{"line":42,"column":44}},"name":"pluginId"},"computed":false}]},"property":{"type":"Identifier","start":1395,"end":1402,"loc":{"start":{"line":42,"column":46},"end":{"line":42,"column":53}},"name":"storage"},"computed":false},"property":{"type":"Identifier","start":1403,"end":1410,"loc":{"start":{"line":42,"column":54},"end":{"line":42,"column":61}},"name":"setItem"},"computed":false},"arguments":[{"type":"MemberExpression","start":1411,"end":1424,"loc":{"start":{"line":42,"column":62},"end":{"line":42,"column":75}},"object":{"type":"ThisExpression","start":1411,"end":1415,"loc":{"start":{"line":42,"column":62},"end":{"line":42,"column":66}}},"property":{"type":"Identifier","start":1416,"end":1424,"loc":{"start":{"line":42,"column":67},"end":{"line":42,"column":75}},"name":"tokenKey"},"computed":false},{"type":"Identifier","start":1426,"end":1431,"loc":{"start":{"line":42,"column":77},"end":{"line":42,"column":82}},"name":"token"}]},"comments":[{"type":"Line","value":" @todo(i.olarewaju) consider whether or not this method should be exposed","start":1248,"end":1323,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":77}}}]}]}}},{"type":"MethodDefinition","start":1440,"end":1538,"loc":{"start":{"line":45,"column":2},"end":{"line":47,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1440,"end":1452,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":14}},"name":"getAuthToken"},"value":{"type":"FunctionExpression","start":1453,"end":1538,"loc":{"start":{"line":45,"column":15},"end":{"line":47,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1456,"end":1538,"loc":{"start":{"line":45,"column":18},"end":{"line":47,"column":3}},"body":[{"type":"ReturnStatement","start":1462,"end":1534,"loc":{"start":{"line":46,"column":4},"end":{"line":46,"column":76}},"argument":{"type":"CallExpression","start":1469,"end":1534,"loc":{"start":{"line":46,"column":11},"end":{"line":46,"column":76}},"callee":{"type":"MemberExpression","start":1469,"end":1519,"loc":{"start":{"line":46,"column":11},"end":{"line":46,"column":61}},"object":{"type":"MemberExpression","start":1469,"end":1511,"loc":{"start":{"line":46,"column":11},"end":{"line":46,"column":53}},"object":{"type":"CallExpression","start":1469,"end":1503,"loc":{"start":{"line":46,"column":11},"end":{"line":46,"column":45}},"callee":{"type":"MemberExpression","start":1469,"end":1488,"loc":{"start":{"line":46,"column":11},"end":{"line":46,"column":30}},"object":{"type":"MemberExpression","start":1469,"end":1478,"loc":{"start":{"line":46,"column":11},"end":{"line":46,"column":20}},"object":{"type":"ThisExpression","start":1469,"end":1473,"loc":{"start":{"line":46,"column":11},"end":{"line":46,"column":15}}},"property":{"type":"Identifier","start":1474,"end":1478,"loc":{"start":{"line":46,"column":16},"end":{"line":46,"column":20}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":1479,"end":1488,"loc":{"start":{"line":46,"column":21},"end":{"line":46,"column":30}},"name":"getPlugin"},"computed":false},"arguments":[{"type":"MemberExpression","start":1489,"end":1502,"loc":{"start":{"line":46,"column":31},"end":{"line":46,"column":44}},"object":{"type":"ThisExpression","start":1489,"end":1493,"loc":{"start":{"line":46,"column":31},"end":{"line":46,"column":35}}},"property":{"type":"Identifier","start":1494,"end":1502,"loc":{"start":{"line":46,"column":36},"end":{"line":46,"column":44}},"name":"pluginId"},"computed":false}]},"property":{"type":"Identifier","start":1504,"end":1511,"loc":{"start":{"line":46,"column":46},"end":{"line":46,"column":53}},"name":"storage"},"computed":false},"property":{"type":"Identifier","start":1512,"end":1519,"loc":{"start":{"line":46,"column":54},"end":{"line":46,"column":61}},"name":"getItem"},"computed":false},"arguments":[{"type":"MemberExpression","start":1520,"end":1533,"loc":{"start":{"line":46,"column":62},"end":{"line":46,"column":75}},"object":{"type":"ThisExpression","start":1520,"end":1524,"loc":{"start":{"line":46,"column":62},"end":{"line":46,"column":66}}},"property":{"type":"Identifier","start":1525,"end":1533,"loc":{"start":{"line":46,"column":67},"end":{"line":46,"column":75}},"name":"tokenKey"},"computed":false}]}}]}}},{"type":"MethodDefinition","start":1542,"end":1607,"loc":{"start":{"line":49,"column":2},"end":{"line":51,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1542,"end":1549,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":9}},"name":"authUrl"},"value":{"type":"FunctionExpression","start":1550,"end":1607,"loc":{"start":{"line":49,"column":10},"end":{"line":51,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1553,"end":1607,"loc":{"start":{"line":49,"column":13},"end":{"line":51,"column":3}},"body":[{"type":"ReturnStatement","start":1559,"end":1603,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":48}},"argument":{"type":"TemplateLiteral","start":1566,"end":1603,"loc":{"start":{"line":50,"column":11},"end":{"line":50,"column":48}},"expressions":[{"type":"MemberExpression","start":1569,"end":1582,"loc":{"start":{"line":50,"column":14},"end":{"line":50,"column":27}},"object":{"type":"ThisExpression","start":1569,"end":1573,"loc":{"start":{"line":50,"column":14},"end":{"line":50,"column":18}}},"property":{"type":"Identifier","start":1574,"end":1582,"loc":{"start":{"line":50,"column":19},"end":{"line":50,"column":27}},"name":"hostname"},"computed":false},{"type":"MemberExpression","start":1586,"end":1593,"loc":{"start":{"line":50,"column":31},"end":{"line":50,"column":38}},"object":{"type":"ThisExpression","start":1586,"end":1590,"loc":{"start":{"line":50,"column":31},"end":{"line":50,"column":35}}},"property":{"type":"Identifier","start":1591,"end":1593,"loc":{"start":{"line":50,"column":36},"end":{"line":50,"column":38}},"name":"id"},"computed":false}],"quasis":[{"type":"TemplateElement","start":1567,"end":1567,"loc":{"start":{"line":50,"column":12},"end":{"line":50,"column":12}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":1583,"end":1584,"loc":{"start":{"line":50,"column":28},"end":{"line":50,"column":29}},"value":{"raw":"/","cooked":"/"},"tail":false},{"type":"TemplateElement","start":1594,"end":1602,"loc":{"start":{"line":50,"column":39},"end":{"line":50,"column":47}},"value":{"raw":"/connect","cooked":"/connect"},"tail":true}]}}]}}},{"type":"MethodDefinition","start":1611,"end":1680,"loc":{"start":{"line":53,"column":2},"end":{"line":55,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1611,"end":1618,"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":9}},"name":"fileUrl"},"value":{"type":"FunctionExpression","start":1619,"end":1680,"loc":{"start":{"line":53,"column":10},"end":{"line":55,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1620,"end":1622,"loc":{"start":{"line":53,"column":11},"end":{"line":53,"column":13}},"name":"id"}],"body":{"type":"BlockStatement","start":1624,"end":1680,"loc":{"start":{"line":53,"column":15},"end":{"line":55,"column":3}},"body":[{"type":"ReturnStatement","start":1630,"end":1676,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":50}},"argument":{"type":"TemplateLiteral","start":1637,"end":1676,"loc":{"start":{"line":54,"column":11},"end":{"line":54,"column":50}},"expressions":[{"type":"MemberExpression","start":1640,"end":1653,"loc":{"start":{"line":54,"column":14},"end":{"line":54,"column":27}},"object":{"type":"ThisExpression","start":1640,"end":1644,"loc":{"start":{"line":54,"column":14},"end":{"line":54,"column":18}}},"property":{"type":"Identifier","start":1645,"end":1653,"loc":{"start":{"line":54,"column":19},"end":{"line":54,"column":27}},"name":"hostname"},"computed":false},{"type":"MemberExpression","start":1657,"end":1664,"loc":{"start":{"line":54,"column":31},"end":{"line":54,"column":38}},"object":{"type":"ThisExpression","start":1657,"end":1661,"loc":{"start":{"line":54,"column":31},"end":{"line":54,"column":35}}},"property":{"type":"Identifier","start":1662,"end":1664,"loc":{"start":{"line":54,"column":36},"end":{"line":54,"column":38}},"name":"id"},"computed":false},{"type":"Identifier","start":1672,"end":1674,"loc":{"start":{"line":54,"column":46},"end":{"line":54,"column":48}},"name":"id"}],"quasis":[{"type":"TemplateElement","start":1638,"end":1638,"loc":{"start":{"line":54,"column":12},"end":{"line":54,"column":12}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":1654,"end":1655,"loc":{"start":{"line":54,"column":28},"end":{"line":54,"column":29}},"value":{"raw":"/","cooked":"/"},"tail":false},{"type":"TemplateElement","start":1665,"end":1670,"loc":{"start":{"line":54,"column":39},"end":{"line":54,"column":44}},"value":{"raw":"/get/","cooked":"/get/"},"tail":false},{"type":"TemplateElement","start":1675,"end":1675,"loc":{"start":{"line":54,"column":49},"end":{"line":54,"column":49}},"value":{"raw":"","cooked":""},"tail":true}]}}]}}},{"type":"MethodDefinition","start":1684,"end":1764,"loc":{"start":{"line":57,"column":2},"end":{"line":59,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1684,"end":1688,"loc":{"start":{"line":57,"column":2},"end":{"line":57,"column":6}},"name":"list"},"value":{"type":"FunctionExpression","start":1689,"end":1764,"loc":{"start":{"line":57,"column":7},"end":{"line":59,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1690,"end":1699,"loc":{"start":{"line":57,"column":8},"end":{"line":57,"column":17}},"name":"directory"}],"body":{"type":"BlockStatement","start":1701,"end":1764,"loc":{"start":{"line":57,"column":19},"end":{"line":59,"column":3}},"body":[{"type":"ReturnStatement","start":1707,"end":1760,"loc":{"start":{"line":58,"column":4},"end":{"line":58,"column":57}},"argument":{"type":"CallExpression","start":1714,"end":1760,"loc":{"start":{"line":58,"column":11},"end":{"line":58,"column":57}},"callee":{"type":"MemberExpression","start":1714,"end":1722,"loc":{"start":{"line":58,"column":11},"end":{"line":58,"column":19}},"object":{"type":"ThisExpression","start":1714,"end":1718,"loc":{"start":{"line":58,"column":11},"end":{"line":58,"column":15}}},"property":{"type":"Identifier","start":1719,"end":1722,"loc":{"start":{"line":58,"column":16},"end":{"line":58,"column":19}},"name":"get"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":1723,"end":1759,"loc":{"start":{"line":58,"column":20},"end":{"line":58,"column":56}},"expressions":[{"type":"MemberExpression","start":1726,"end":1733,"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":30}},"object":{"type":"ThisExpression","start":1726,"end":1730,"loc":{"start":{"line":58,"column":23},"end":{"line":58,"column":27}}},"property":{"type":"Identifier","start":1731,"end":1733,"loc":{"start":{"line":58,"column":28},"end":{"line":58,"column":30}},"name":"id"},"computed":false},{"type":"LogicalExpression","start":1742,"end":1757,"loc":{"start":{"line":58,"column":39},"end":{"line":58,"column":54}},"left":{"type":"Identifier","start":1742,"end":1751,"loc":{"start":{"line":58,"column":39},"end":{"line":58,"column":48}},"name":"directory"},"operator":"||","right":{"type":"Literal","start":1755,"end":1757,"loc":{"start":{"line":58,"column":52},"end":{"line":58,"column":54}},"value":"","raw":"''"}}],"quasis":[{"type":"TemplateElement","start":1724,"end":1724,"loc":{"start":{"line":58,"column":21},"end":{"line":58,"column":21}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":1734,"end":1740,"loc":{"start":{"line":58,"column":31},"end":{"line":58,"column":37}},"value":{"raw":"/list/","cooked":"/list/"},"tail":false},{"type":"TemplateElement","start":1758,"end":1758,"loc":{"start":{"line":58,"column":55},"end":{"line":58,"column":55}},"value":{"raw":"","cooked":""},"tail":true}]}]}}]}}},{"type":"MethodDefinition","start":1768,"end":2066,"loc":{"start":{"line":61,"column":2},"end":{"line":70,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1768,"end":1774,"loc":{"start":{"line":61,"column":2},"end":{"line":61,"column":8}},"name":"logout"},"value":{"type":"FunctionExpression","start":1775,"end":2066,"loc":{"start":{"line":61,"column":9},"end":{"line":70,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1778,"end":2066,"loc":{"start":{"line":61,"column":12},"end":{"line":70,"column":3}},"body":[{"type":"ReturnStatement","start":1784,"end":2062,"loc":{"start":{"line":62,"column":4},"end":{"line":69,"column":6}},"argument":{"type":"NewExpression","start":1791,"end":2062,"loc":{"start":{"line":62,"column":11},"end":{"line":69,"column":6}},"callee":{"type":"Identifier","start":1795,"end":1802,"loc":{"start":{"line":62,"column":15},"end":{"line":62,"column":22}},"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":1803,"end":2061,"loc":{"start":{"line":62,"column":23},"end":{"line":69,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1804,"end":1811,"loc":{"start":{"line":62,"column":24},"end":{"line":62,"column":31}},"name":"resolve"},{"type":"Identifier","start":1813,"end":1819,"loc":{"start":{"line":62,"column":33},"end":{"line":62,"column":39}},"name":"reject"}],"body":{"type":"BlockStatement","start":1824,"end":2061,"loc":{"start":{"line":62,"column":44},"end":{"line":69,"column":5}},"body":[{"type":"ExpressionStatement","start":1832,"end":2055,"loc":{"start":{"line":63,"column":6},"end":{"line":68,"column":24}},"expression":{"type":"CallExpression","start":1832,"end":2055,"loc":{"start":{"line":63,"column":6},"end":{"line":68,"column":24}},"callee":{"type":"MemberExpression","start":1832,"end":2047,"loc":{"start":{"line":63,"column":6},"end":{"line":68,"column":16}},"object":{"type":"CallExpression","start":1832,"end":2041,"loc":{"start":{"line":63,"column":6},"end":{"line":68,"column":10}},"callee":{"type":"MemberExpression","start":1832,"end":1875,"loc":{"start":{"line":63,"column":6},"end":{"line":64,"column":13}},"object":{"type":"CallExpression","start":1832,"end":1861,"loc":{"start":{"line":63,"column":6},"end":{"line":63,"column":35}},"callee":{"type":"MemberExpression","start":1832,"end":1840,"loc":{"start":{"line":63,"column":6},"end":{"line":63,"column":14}},"object":{"type":"ThisExpression","start":1832,"end":1836,"loc":{"start":{"line":63,"column":6},"end":{"line":63,"column":10}}},"property":{"type":"Identifier","start":1837,"end":1840,"loc":{"start":{"line":63,"column":11},"end":{"line":63,"column":14}},"name":"get"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":1841,"end":1860,"loc":{"start":{"line":63,"column":15},"end":{"line":63,"column":34}},"expressions":[{"type":"MemberExpression","start":1844,"end":1851,"loc":{"start":{"line":63,"column":18},"end":{"line":63,"column":25}},"object":{"type":"ThisExpression","start":1844,"end":1848,"loc":{"start":{"line":63,"column":18},"end":{"line":63,"column":22}}},"property":{"type":"Identifier","start":1849,"end":1851,"loc":{"start":{"line":63,"column":23},"end":{"line":63,"column":25}},"name":"id"},"computed":false}],"quasis":[{"type":"TemplateElement","start":1842,"end":1842,"loc":{"start":{"line":63,"column":16},"end":{"line":63,"column":16}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":1852,"end":1859,"loc":{"start":{"line":63,"column":26},"end":{"line":63,"column":33}},"value":{"raw":"/logout","cooked":"/logout"},"tail":true}]}]},"property":{"type":"Identifier","start":1871,"end":1875,"loc":{"start":{"line":64,"column":9},"end":{"line":64,"column":13}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1876,"end":2040,"loc":{"start":{"line":64,"column":14},"end":{"line":68,"column":9}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1877,"end":1880,"loc":{"start":{"line":64,"column":15},"end":{"line":64,"column":18}},"name":"res"}],"body":{"type":"BlockStatement","start":1885,"end":2040,"loc":{"start":{"line":64,"column":23},"end":{"line":68,"column":9}},"body":[{"type":"ExpressionStatement","start":1897,"end":2030,"loc":{"start":{"line":65,"column":10},"end":{"line":67,"column":26}},"expression":{"type":"CallExpression","start":1897,"end":2030,"loc":{"start":{"line":65,"column":10},"end":{"line":67,"column":26}},"callee":{"type":"MemberExpression","start":1897,"end":2022,"loc":{"start":{"line":65,"column":10},"end":{"line":67,"column":18}},"object":{"type":"CallExpression","start":1897,"end":2003,"loc":{"start":{"line":65,"column":10},"end":{"line":66,"column":37}},"callee":{"type":"MemberExpression","start":1897,"end":1983,"loc":{"start":{"line":65,"column":10},"end":{"line":66,"column":17}},"object":{"type":"CallExpression","start":1897,"end":1965,"loc":{"start":{"line":65,"column":10},"end":{"line":65,"column":78}},"callee":{"type":"MemberExpression","start":1897,"end":1950,"loc":{"start":{"line":65,"column":10},"end":{"line":65,"column":63}},"object":{"type":"MemberExpression","start":1897,"end":1939,"loc":{"start":{"line":65,"column":10},"end":{"line":65,"column":52}},"object":{"type":"CallExpression","start":1897,"end":1931,"loc":{"start":{"line":65,"column":10},"end":{"line":65,"column":44}},"callee":{"type":"MemberExpression","start":1897,"end":1916,"loc":{"start":{"line":65,"column":10},"end":{"line":65,"column":29}},"object":{"type":"MemberExpression","start":1897,"end":1906,"loc":{"start":{"line":65,"column":10},"end":{"line":65,"column":19}},"object":{"type":"ThisExpression","start":1897,"end":1901,"loc":{"start":{"line":65,"column":10},"end":{"line":65,"column":14}}},"property":{"type":"Identifier","start":1902,"end":1906,"loc":{"start":{"line":65,"column":15},"end":{"line":65,"column":19}},"name":"uppy"},"computed":false},"property":{"type":"Identifier","start":1907,"end":1916,"loc":{"start":{"line":65,"column":20},"end":{"line":65,"column":29}},"name":"getPlugin"},"computed":false},"arguments":[{"type":"MemberExpression","start":1917,"end":1930,"loc":{"start":{"line":65,"column":30},"end":{"line":65,"column":43}},"object":{"type":"ThisExpression","start":1917,"end":1921,"loc":{"start":{"line":65,"column":30},"end":{"line":65,"column":34}}},"property":{"type":"Identifier","start":1922,"end":1930,"loc":{"start":{"line":65,"column":35},"end":{"line":65,"column":43}},"name":"pluginId"},"computed":false}]},"property":{"type":"Identifier","start":1932,"end":1939,"loc":{"start":{"line":65,"column":45},"end":{"line":65,"column":52}},"name":"storage"},"computed":false},"property":{"type":"Identifier","start":1940,"end":1950,"loc":{"start":{"line":65,"column":53},"end":{"line":65,"column":63}},"name":"removeItem"},"computed":false},"arguments":[{"type":"MemberExpression","start":1951,"end":1964,"loc":{"start":{"line":65,"column":64},"end":{"line":65,"column":77}},"object":{"type":"ThisExpression","start":1951,"end":1955,"loc":{"start":{"line":65,"column":64},"end":{"line":65,"column":68}}},"property":{"type":"Identifier","start":1956,"end":1964,"loc":{"start":{"line":65,"column":69},"end":{"line":65,"column":77}},"name":"tokenKey"},"computed":false}]},"property":{"type":"Identifier","start":1979,"end":1983,"loc":{"start":{"line":66,"column":13},"end":{"line":66,"column":17}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1984,"end":2002,"loc":{"start":{"line":66,"column":18},"end":{"line":66,"column":36}},"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":1990,"end":2002,"loc":{"start":{"line":66,"column":24},"end":{"line":66,"column":36}},"callee":{"type":"Identifier","start":1990,"end":1997,"loc":{"start":{"line":66,"column":24},"end":{"line":66,"column":31}},"name":"resolve"},"arguments":[{"type":"Identifier","start":1998,"end":2001,"loc":{"start":{"line":66,"column":32},"end":{"line":66,"column":35}},"name":"res"}]}}]},"property":{"type":"Identifier","start":2017,"end":2022,"loc":{"start":{"line":67,"column":13},"end":{"line":67,"column":18}},"name":"catch"},"computed":false},"arguments":[{"type":"Identifier","start":2023,"end":2029,"loc":{"start":{"line":67,"column":19},"end":{"line":67,"column":25}},"name":"reject"}]}}]}}]},"property":{"type":"Identifier","start":2042,"end":2047,"loc":{"start":{"line":68,"column":11},"end":{"line":68,"column":16}},"name":"catch"},"computed":false},"arguments":[{"type":"Identifier","start":2048,"end":2054,"loc":{"start":{"line":68,"column":17},"end":{"line":68,"column":23}},"name":"reject"}]}}]}}]}}]}}},{"type":"MethodDefinition","start":2070,"end":3361,"loc":{"start":{"line":72,"column":2},"end":{"line":100,"column":3}},"kind":"method","static":true,"computed":false,"key":{"type":"Identifier","start":2077,"end":2087,"loc":{"start":{"line":72,"column":9},"end":{"line":72,"column":19}},"name":"initPlugin"},"value":{"type":"FunctionExpression","start":2088,"end":3361,"loc":{"start":{"line":72,"column":20},"end":{"line":100,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2089,"end":2095,"loc":{"start":{"line":72,"column":21},"end":{"line":72,"column":27}},"name":"plugin"},{"type":"Identifier","start":2097,"end":2101,"loc":{"start":{"line":72,"column":29},"end":{"line":72,"column":33}},"name":"opts"},{"type":"Identifier","start":2103,"end":2114,"loc":{"start":{"line":72,"column":35},"end":{"line":72,"column":46}},"name":"defaultOpts"}],"body":{"type":"BlockStatement","start":2116,"end":3361,"loc":{"start":{"line":72,"column":48},"end":{"line":100,"column":3}},"body":[{"type":"ExpressionStatement","start":2122,"end":2146,"loc":{"start":{"line":73,"column":4},"end":{"line":73,"column":28}},"expression":{"type":"AssignmentExpression","start":2122,"end":2146,"loc":{"start":{"line":73,"column":4},"end":{"line":73,"column":28}},"operator":"=","left":{"type":"MemberExpression","start":2122,"end":2133,"loc":{"start":{"line":73,"column":4},"end":{"line":73,"column":15}},"object":{"type":"Identifier","start":2122,"end":2128,"loc":{"start":{"line":73,"column":4},"end":{"line":73,"column":10}},"name":"plugin"},"property":{"type":"Identifier","start":2129,"end":2133,"loc":{"start":{"line":73,"column":11},"end":{"line":73,"column":15}},"name":"type"},"computed":false},"right":{"type":"Literal","start":2136,"end":2146,"loc":{"start":{"line":73,"column":18},"end":{"line":73,"column":28}},"value":"acquirer","raw":"'acquirer'"}}},{"type":"ExpressionStatement","start":2151,"end":2168,"loc":{"start":{"line":74,"column":4},"end":{"line":74,"column":21}},"expression":{"type":"AssignmentExpression","start":2151,"end":2168,"loc":{"start":{"line":74,"column":4},"end":{"line":74,"column":21}},"operator":"=","left":{"type":"MemberExpression","start":2151,"end":2163,"loc":{"start":{"line":74,"column":4},"end":{"line":74,"column":16}},"object":{"type":"Identifier","start":2151,"end":2157,"loc":{"start":{"line":74,"column":4},"end":{"line":74,"column":10}},"name":"plugin"},"property":{"type":"Identifier","start":2158,"end":2163,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":16}},"name":"files"},"computed":false},"right":{"type":"ArrayExpression","start":2166,"end":2168,"loc":{"start":{"line":74,"column":19},"end":{"line":74,"column":21}},"elements":[]}}},{"type":"IfStatement","start":2173,"end":2254,"loc":{"start":{"line":75,"column":4},"end":{"line":77,"column":5}},"test":{"type":"Identifier","start":2177,"end":2188,"loc":{"start":{"line":75,"column":8},"end":{"line":75,"column":19}},"name":"defaultOpts"},"consequent":{"type":"BlockStatement","start":2190,"end":2254,"loc":{"start":{"line":75,"column":21},"end":{"line":77,"column":5}},"body":[{"type":"ExpressionStatement","start":2198,"end":2248,"loc":{"start":{"line":76,"column":6},"end":{"line":76,"column":56}},"expression":{"type":"AssignmentExpression","start":2198,"end":2248,"loc":{"start":{"line":76,"column":6},"end":{"line":76,"column":56}},"operator":"=","left":{"type":"MemberExpression","start":2198,"end":2209,"loc":{"start":{"line":76,"column":6},"end":{"line":76,"column":17}},"object":{"type":"Identifier","start":2198,"end":2204,"loc":{"start":{"line":76,"column":6},"end":{"line":76,"column":12}},"name":"plugin"},"property":{"type":"Identifier","start":2205,"end":2209,"loc":{"start":{"line":76,"column":13},"end":{"line":76,"column":17}},"name":"opts"},"computed":false},"right":{"type":"CallExpression","start":2212,"end":2248,"loc":{"start":{"line":76,"column":20},"end":{"line":76,"column":56}},"callee":{"type":"MemberExpression","start":2212,"end":2225,"loc":{"start":{"line":76,"column":20},"end":{"line":76,"column":33}},"object":{"type":"Identifier","start":2212,"end":2218,"loc":{"start":{"line":76,"column":20},"end":{"line":76,"column":26}},"name":"Object"},"property":{"type":"Identifier","start":2219,"end":2225,"loc":{"start":{"line":76,"column":27},"end":{"line":76,"column":33}},"name":"assign"},"computed":false},"arguments":[{"type":"ObjectExpression","start":2226,"end":2228,"loc":{"start":{"line":76,"column":34},"end":{"line":76,"column":36}},"properties":[]},{"type":"Identifier","start":2230,"end":2241,"loc":{"start":{"line":76,"column":38},"end":{"line":76,"column":49}},"name":"defaultOpts"},{"type":"Identifier","start":2243,"end":2247,"loc":{"start":{"line":76,"column":51},"end":{"line":76,"column":55}},"name":"opts"}]}}}]},"alternate":null},{"type":"IfStatement","start":2260,"end":2592,"loc":{"start":{"line":79,"column":4},"end":{"line":81,"column":5}},"test":{"type":"LogicalExpression","start":2264,"end":2300,"loc":{"start":{"line":79,"column":8},"end":{"line":79,"column":44}},"left":{"type":"MemberExpression","start":2264,"end":2278,"loc":{"start":{"line":79,"column":8},"end":{"line":79,"column":22}},"object":{"type":"Identifier","start":2264,"end":2268,"loc":{"start":{"line":79,"column":8},"end":{"line":79,"column":12}},"name":"opts"},"property":{"type":"Identifier","start":2269,"end":2278,"loc":{"start":{"line":79,"column":13},"end":{"line":79,"column":22}},"name":"serverUrl"},"computed":false},"operator":"||","right":{"type":"MemberExpression","start":2282,"end":2300,"loc":{"start":{"line":79,"column":26},"end":{"line":79,"column":44}},"object":{"type":"Identifier","start":2282,"end":2286,"loc":{"start":{"line":79,"column":26},"end":{"line":79,"column":30}},"name":"opts"},"property":{"type":"Identifier","start":2287,"end":2300,"loc":{"start":{"line":79,"column":31},"end":{"line":79,"column":44}},"name":"serverPattern"},"computed":false}},"consequent":{"type":"BlockStatement","start":2302,"end":2592,"loc":{"start":{"line":79,"column":46},"end":{"line":81,"column":5}},"body":[{"type":"ThrowStatement","start":2310,"end":2586,"loc":{"start":{"line":80,"column":6},"end":{"line":80,"column":282}},"argument":{"type":"NewExpression","start":2316,"end":2586,"loc":{"start":{"line":80,"column":12},"end":{"line":80,"column":282}},"callee":{"type":"Identifier","start":2320,"end":2325,"loc":{"start":{"line":80,"column":16},"end":{"line":80,"column":21}},"name":"Error"},"arguments":[{"type":"Literal","start":2326,"end":2585,"loc":{"start":{"line":80,"column":22},"end":{"line":80,"column":281}},"value":"`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`","raw":"'`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`'"}]}}]},"alternate":null},{"type":"IfStatement","start":2598,"end":3299,"loc":{"start":{"line":83,"column":4},"end":{"line":97,"column":5}},"test":{"type":"MemberExpression","start":2602,"end":2628,"loc":{"start":{"line":83,"column":8},"end":{"line":83,"column":34}},"object":{"type":"Identifier","start":2602,"end":2606,"loc":{"start":{"line":83,"column":8},"end":{"line":83,"column":12}},"name":"opts"},"property":{"type":"Identifier","start":2607,"end":2628,"loc":{"start":{"line":83,"column":13},"end":{"line":83,"column":34}},"name":"companionAllowedHosts"},"computed":false},"consequent":{"type":"BlockStatement","start":2630,"end":3007,"loc":{"start":{"line":83,"column":36},"end":{"line":90,"column":5}},"body":[{"type":"VariableDeclaration","start":2638,"end":2680,"loc":{"start":{"line":84,"column":6},"end":{"line":84,"column":48}},"declarations":[{"type":"VariableDeclarator","start":2644,"end":2680,"loc":{"start":{"line":84,"column":12},"end":{"line":84,"column":48}},"id":{"type":"Identifier","start":2644,"end":2651,"loc":{"start":{"line":84,"column":12},"end":{"line":84,"column":19}},"name":"pattern"},"init":{"type":"MemberExpression","start":2654,"end":2680,"loc":{"start":{"line":84,"column":22},"end":{"line":84,"column":48}},"object":{"type":"Identifier","start":2654,"end":2658,"loc":{"start":{"line":84,"column":22},"end":{"line":84,"column":26}},"name":"opts"},"property":{"type":"Identifier","start":2659,"end":2680,"loc":{"start":{"line":84,"column":27},"end":{"line":84,"column":48}},"name":"companionAllowedHosts"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":2733,"end":2951,"loc":{"start":{"line":86,"column":6},"end":{"line":88,"column":7}},"test":{"type":"LogicalExpression","start":2737,"end":2823,"loc":{"start":{"line":86,"column":10},"end":{"line":86,"column":96}},"left":{"type":"LogicalExpression","start":2737,"end":2791,"loc":{"start":{"line":86,"column":10},"end":{"line":86,"column":64}},"left":{"type":"BinaryExpression","start":2737,"end":2764,"loc":{"start":{"line":86,"column":10},"end":{"line":86,"column":37}},"left":{"type":"UnaryExpression","start":2737,"end":2751,"loc":{"start":{"line":86,"column":10},"end":{"line":86,"column":24}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":2744,"end":2751,"loc":{"start":{"line":86,"column":17},"end":{"line":86,"column":24}},"name":"pattern"}},"operator":"!==","right":{"type":"Literal","start":2756,"end":2764,"loc":{"start":{"line":86,"column":29},"end":{"line":86,"column":37}},"value":"string","raw":"'string'"}},"operator":"&&","right":{"type":"UnaryExpression","start":2768,"end":2791,"loc":{"start":{"line":86,"column":41},"end":{"line":86,"column":64}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":2769,"end":2791,"loc":{"start":{"line":86,"column":42},"end":{"line":86,"column":64}},"callee":{"type":"MemberExpression","start":2769,"end":2782,"loc":{"start":{"line":86,"column":42},"end":{"line":86,"column":55}},"object":{"type":"Identifier","start":2769,"end":2774,"loc":{"start":{"line":86,"column":42},"end":{"line":86,"column":47}},"name":"Array"},"property":{"type":"Identifier","start":2775,"end":2782,"loc":{"start":{"line":86,"column":48},"end":{"line":86,"column":55}},"name":"isArray"},"computed":false},"arguments":[{"type":"Identifier","start":2783,"end":2790,"loc":{"start":{"line":86,"column":56},"end":{"line":86,"column":63}},"name":"pattern"}]}}},"operator":"&&","right":{"type":"UnaryExpression","start":2795,"end":2823,"loc":{"start":{"line":86,"column":68},"end":{"line":86,"column":96}},"operator":"!","prefix":true,"argument":{"type":"BinaryExpression","start":2797,"end":2822,"loc":{"start":{"line":86,"column":70},"end":{"line":86,"column":95}},"left":{"type":"Identifier","start":2797,"end":2804,"loc":{"start":{"line":86,"column":70},"end":{"line":86,"column":77}},"name":"pattern"},"operator":"instanceof","right":{"type":"Identifier","start":2816,"end":2822,"loc":{"start":{"line":86,"column":89},"end":{"line":86,"column":95}},"name":"RegExp"}}}},"consequent":{"type":"BlockStatement","start":2825,"end":2951,"loc":{"start":{"line":86,"column":98},"end":{"line":88,"column":7}},"body":[{"type":"ThrowStatement","start":2835,"end":2943,"loc":{"start":{"line":87,"column":8},"end":{"line":87,"column":116}},"argument":{"type":"NewExpression","start":2841,"end":2943,"loc":{"start":{"line":87,"column":14},"end":{"line":87,"column":116}},"callee":{"type":"Identifier","start":2845,"end":2854,"loc":{"start":{"line":87,"column":18},"end":{"line":87,"column":27}},"name":"TypeError"},"arguments":[{"type":"TemplateLiteral","start":2855,"end":2942,"loc":{"start":{"line":87,"column":28},"end":{"line":87,"column":115}},"expressions":[{"type":"MemberExpression","start":2858,"end":2867,"loc":{"start":{"line":87,"column":31},"end":{"line":87,"column":40}},"object":{"type":"Identifier","start":2858,"end":2864,"loc":{"start":{"line":87,"column":31},"end":{"line":87,"column":37}},"name":"plugin"},"property":{"type":"Identifier","start":2865,"end":2867,"loc":{"start":{"line":87,"column":38},"end":{"line":87,"column":40}},"name":"id"},"computed":false}],"quasis":[{"type":"TemplateElement","start":2856,"end":2856,"loc":{"start":{"line":87,"column":29},"end":{"line":87,"column":29}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":2868,"end":2941,"loc":{"start":{"line":87,"column":41},"end":{"line":87,"column":114}},"value":{"raw":": the option \"companionAllowedHosts\" must be one of string, Array, RegExp","cooked":": the option \"companionAllowedHosts\" must be one of string, Array, RegExp"},"tail":true}]}]}}]},"alternate":null,"comments":[{"type":"Line","value":" validate companionAllowedHosts param","start":2687,"end":2726,"loc":{"start":{"line":85,"column":6},"end":{"line":85,"column":45}}}]},{"type":"ExpressionStatement","start":2958,"end":3001,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":49}},"expression":{"type":"AssignmentExpression","start":2958,"end":3001,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":49}},"operator":"=","left":{"type":"MemberExpression","start":2958,"end":2991,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":39}},"object":{"type":"MemberExpression","start":2958,"end":2969,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":17}},"object":{"type":"Identifier","start":2958,"end":2964,"loc":{"start":{"line":89,"column":6},"end":{"line":89,"column":12}},"name":"plugin"},"property":{"type":"Identifier","start":2965,"end":2969,"loc":{"start":{"line":89,"column":13},"end":{"line":89,"column":17}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":2970,"end":2991,"loc":{"start":{"line":89,"column":18},"end":{"line":89,"column":39}},"name":"companionAllowedHosts"},"computed":false},"right":{"type":"Identifier","start":2994,"end":3001,"loc":{"start":{"line":89,"column":42},"end":{"line":89,"column":49}},"name":"pattern"}}}]},"alternate":{"type":"BlockStatement","start":3013,"end":3299,"loc":{"start":{"line":90,"column":11},"end":{"line":97,"column":5}},"body":[{"type":"IfStatement","start":3059,"end":3293,"loc":{"start":{"line":92,"column":6},"end":{"line":96,"column":7}},"test":{"type":"CallExpression","start":3063,"end":3109,"loc":{"start":{"line":92,"column":10},"end":{"line":92,"column":56}},"callee":{"type":"MemberExpression","start":3063,"end":3090,"loc":{"start":{"line":92,"column":10},"end":{"line":92,"column":37}},"object":{"type":"Literal","start":3063,"end":3085,"loc":{"start":{"line":92,"column":10},"end":{"line":92,"column":32}},"value":{},"raw":"/^(?!https?:\\/\\/).*$/i","regex":{"pattern":"^(?!https?:\\/\\/).*$","flags":"i"}},"property":{"type":"Identifier","start":3086,"end":3090,"loc":{"start":{"line":92,"column":33},"end":{"line":92,"column":37}},"name":"test"},"computed":false},"arguments":[{"type":"MemberExpression","start":3091,"end":3108,"loc":{"start":{"line":92,"column":38},"end":{"line":92,"column":55}},"object":{"type":"Identifier","start":3091,"end":3095,"loc":{"start":{"line":92,"column":38},"end":{"line":92,"column":42}},"name":"opts"},"property":{"type":"Identifier","start":3096,"end":3108,"loc":{"start":{"line":92,"column":43},"end":{"line":92,"column":55}},"name":"companionUrl"},"computed":false}]},"consequent":{"type":"BlockStatement","start":3111,"end":3216,"loc":{"start":{"line":92,"column":58},"end":{"line":94,"column":7}},"body":[{"type":"ExpressionStatement","start":3121,"end":3208,"loc":{"start":{"line":93,"column":8},"end":{"line":93,"column":95}},"expression":{"type":"AssignmentExpression","start":3121,"end":3208,"loc":{"start":{"line":93,"column":8},"end":{"line":93,"column":95}},"operator":"=","left":{"type":"MemberExpression","start":3121,"end":3154,"loc":{"start":{"line":93,"column":8},"end":{"line":93,"column":41}},"object":{"type":"MemberExpression","start":3121,"end":3132,"loc":{"start":{"line":93,"column":8},"end":{"line":93,"column":19}},"object":{"type":"Identifier","start":3121,"end":3127,"loc":{"start":{"line":93,"column":8},"end":{"line":93,"column":14}},"name":"plugin"},"property":{"type":"Identifier","start":3128,"end":3132,"loc":{"start":{"line":93,"column":15},"end":{"line":93,"column":19}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":3133,"end":3154,"loc":{"start":{"line":93,"column":20},"end":{"line":93,"column":41}},"name":"companionAllowedHosts"},"computed":false},"right":{"type":"TemplateLiteral","start":3157,"end":3208,"loc":{"start":{"line":93,"column":44},"end":{"line":93,"column":95}},"expressions":[{"type":"CallExpression","start":3168,"end":3206,"loc":{"start":{"line":93,"column":55},"end":{"line":93,"column":93}},"callee":{"type":"MemberExpression","start":3168,"end":3193,"loc":{"start":{"line":93,"column":55},"end":{"line":93,"column":80}},"object":{"type":"MemberExpression","start":3168,"end":3185,"loc":{"start":{"line":93,"column":55},"end":{"line":93,"column":72}},"object":{"type":"Identifier","start":3168,"end":3172,"loc":{"start":{"line":93,"column":55},"end":{"line":93,"column":59}},"name":"opts"},"property":{"type":"Identifier","start":3173,"end":3185,"loc":{"start":{"line":93,"column":60},"end":{"line":93,"column":72}},"name":"companionUrl"},"computed":false},"property":{"type":"Identifier","start":3186,"end":3193,"loc":{"start":{"line":93,"column":73},"end":{"line":93,"column":80}},"name":"replace"},"computed":false},"arguments":[{"type":"Literal","start":3194,"end":3201,"loc":{"start":{"line":93,"column":81},"end":{"line":93,"column":88}},"value":{},"raw":"/^\\/\\//","regex":{"pattern":"^\\/\\/","flags":""}},{"type":"Literal","start":3203,"end":3205,"loc":{"start":{"line":93,"column":90},"end":{"line":93,"column":92}},"value":"","raw":"''"}]}],"quasis":[{"type":"TemplateElement","start":3158,"end":3166,"loc":{"start":{"line":93,"column":45},"end":{"line":93,"column":53}},"value":{"raw":"https://","cooked":"https://"},"tail":false},{"type":"TemplateElement","start":3207,"end":3207,"loc":{"start":{"line":93,"column":94},"end":{"line":93,"column":94}},"value":{"raw":"","cooked":""},"tail":true}]}}}]},"alternate":{"type":"BlockStatement","start":3222,"end":3293,"loc":{"start":{"line":94,"column":13},"end":{"line":96,"column":7}},"body":[{"type":"ExpressionStatement","start":3232,"end":3285,"loc":{"start":{"line":95,"column":8},"end":{"line":95,"column":61}},"expression":{"type":"AssignmentExpression","start":3232,"end":3285,"loc":{"start":{"line":95,"column":8},"end":{"line":95,"column":61}},"operator":"=","left":{"type":"MemberExpression","start":3232,"end":3265,"loc":{"start":{"line":95,"column":8},"end":{"line":95,"column":41}},"object":{"type":"MemberExpression","start":3232,"end":3243,"loc":{"start":{"line":95,"column":8},"end":{"line":95,"column":19}},"object":{"type":"Identifier","start":3232,"end":3238,"loc":{"start":{"line":95,"column":8},"end":{"line":95,"column":14}},"name":"plugin"},"property":{"type":"Identifier","start":3239,"end":3243,"loc":{"start":{"line":95,"column":15},"end":{"line":95,"column":19}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":3244,"end":3265,"loc":{"start":{"line":95,"column":20},"end":{"line":95,"column":41}},"name":"companionAllowedHosts"},"computed":false},"right":{"type":"MemberExpression","start":3268,"end":3285,"loc":{"start":{"line":95,"column":44},"end":{"line":95,"column":61}},"object":{"type":"Identifier","start":3268,"end":3272,"loc":{"start":{"line":95,"column":44},"end":{"line":95,"column":48}},"name":"opts"},"property":{"type":"Identifier","start":3273,"end":3285,"loc":{"start":{"line":95,"column":49},"end":{"line":95,"column":61}},"name":"companionUrl"},"computed":false}}}]},"comments":[{"type":"Line","value":" does not start with https://","start":3021,"end":3052,"loc":{"start":{"line":91,"column":6},"end":{"line":91,"column":37}}}]}]}},{"type":"ExpressionStatement","start":3305,"end":3357,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":56}},"expression":{"type":"AssignmentExpression","start":3305,"end":3357,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":56}},"operator":"=","left":{"type":"MemberExpression","start":3305,"end":3319,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":18}},"object":{"type":"Identifier","start":3305,"end":3311,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":10}},"name":"plugin"},"property":{"type":"Identifier","start":3312,"end":3319,"loc":{"start":{"line":99,"column":11},"end":{"line":99,"column":18}},"name":"storage"},"computed":false},"right":{"type":"LogicalExpression","start":3322,"end":3357,"loc":{"start":{"line":99,"column":21},"end":{"line":99,"column":56}},"left":{"type":"MemberExpression","start":3322,"end":3341,"loc":{"start":{"line":99,"column":21},"end":{"line":99,"column":40}},"object":{"type":"MemberExpression","start":3322,"end":3333,"loc":{"start":{"line":99,"column":21},"end":{"line":99,"column":32}},"object":{"type":"Identifier","start":3322,"end":3328,"loc":{"start":{"line":99,"column":21},"end":{"line":99,"column":27}},"name":"plugin"},"property":{"type":"Identifier","start":3329,"end":3333,"loc":{"start":{"line":99,"column":28},"end":{"line":99,"column":32}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":3334,"end":3341,"loc":{"start":{"line":99,"column":33},"end":{"line":99,"column":40}},"name":"storage"},"computed":false},"operator":"||","right":{"type":"Identifier","start":3345,"end":3357,"loc":{"start":{"line":99,"column":44},"end":{"line":99,"column":56}},"name":"tokenStorage"}}}}]}}}]}}}}],"sourceType":"script"}