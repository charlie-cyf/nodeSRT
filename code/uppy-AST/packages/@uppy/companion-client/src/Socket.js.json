{"type":"Program","start":0,"end":1626,"loc":{"start":{"line":1,"column":0},"end":{"line":84,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":39,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"declarations":[{"type":"VariableDeclarator","start":6,"end":39,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":39}},"id":{"type":"Identifier","start":6,"end":8,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":8}},"name":"ee"},"init":{"type":"CallExpression","start":11,"end":39,"loc":{"start":{"line":1,"column":11},"end":{"line":1,"column":39}},"callee":{"type":"Identifier","start":11,"end":18,"loc":{"start":{"line":1,"column":11},"end":{"line":1,"column":18}},"name":"require"},"arguments":[{"type":"Literal","start":19,"end":38,"loc":{"start":{"line":1,"column":19},"end":{"line":1,"column":38}},"value":"namespace-emitter","raw":"'namespace-emitter'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":41,"end":1625,"loc":{"start":{"line":3,"column":0},"end":{"line":83,"column":1}},"expression":{"type":"AssignmentExpression","start":41,"end":1625,"loc":{"start":{"line":3,"column":0},"end":{"line":83,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":41,"end":55,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":14}},"object":{"type":"Identifier","start":41,"end":47,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":6}},"name":"module"},"property":{"type":"Identifier","start":48,"end":55,"loc":{"start":{"line":3,"column":7},"end":{"line":3,"column":14}},"name":"exports"},"computed":false},"right":{"type":"ClassExpression","start":58,"end":1625,"loc":{"start":{"line":3,"column":17},"end":{"line":83,"column":1}},"id":{"type":"Identifier","start":64,"end":74,"loc":{"start":{"line":3,"column":23},"end":{"line":3,"column":33}},"name":"UppySocket"},"superClass":null,"body":{"type":"ClassBody","start":75,"end":1625,"loc":{"start":{"line":3,"column":34},"end":{"line":83,"column":1}},"body":[{"type":"MethodDefinition","start":79,"end":505,"loc":{"start":{"line":4,"column":2},"end":{"line":21,"column":3}},"kind":"constructor","static":false,"computed":false,"key":{"type":"Identifier","start":79,"end":90,"loc":{"start":{"line":4,"column":2},"end":{"line":4,"column":13}},"name":"constructor"},"value":{"type":"FunctionExpression","start":91,"end":505,"loc":{"start":{"line":4,"column":14},"end":{"line":21,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":92,"end":96,"loc":{"start":{"line":4,"column":15},"end":{"line":4,"column":19}},"name":"opts"}],"body":{"type":"BlockStatement","start":98,"end":505,"loc":{"start":{"line":4,"column":21},"end":{"line":21,"column":3}},"body":[{"type":"ExpressionStatement","start":104,"end":120,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":20}},"expression":{"type":"AssignmentExpression","start":104,"end":120,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":20}},"operator":"=","left":{"type":"MemberExpression","start":104,"end":113,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":13}},"object":{"type":"ThisExpression","start":104,"end":108,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":8}}},"property":{"type":"Identifier","start":109,"end":113,"loc":{"start":{"line":5,"column":9},"end":{"line":5,"column":13}},"name":"opts"},"computed":false},"right":{"type":"Identifier","start":116,"end":120,"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":20}},"name":"opts"}}},{"type":"ExpressionStatement","start":125,"end":142,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":21}},"expression":{"type":"AssignmentExpression","start":125,"end":142,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":21}},"operator":"=","left":{"type":"MemberExpression","start":125,"end":137,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":16}},"object":{"type":"ThisExpression","start":125,"end":129,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":8}}},"property":{"type":"Identifier","start":130,"end":137,"loc":{"start":{"line":6,"column":9},"end":{"line":6,"column":16}},"name":"_queued"},"computed":false},"right":{"type":"ArrayExpression","start":140,"end":142,"loc":{"start":{"line":6,"column":19},"end":{"line":6,"column":21}},"elements":[]}}},{"type":"ExpressionStatement","start":147,"end":166,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":23}},"expression":{"type":"AssignmentExpression","start":147,"end":166,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":23}},"operator":"=","left":{"type":"MemberExpression","start":147,"end":158,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":15}},"object":{"type":"ThisExpression","start":147,"end":151,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":8}}},"property":{"type":"Identifier","start":152,"end":158,"loc":{"start":{"line":7,"column":9},"end":{"line":7,"column":15}},"name":"isOpen"},"computed":false},"right":{"type":"Literal","start":161,"end":166,"loc":{"start":{"line":7,"column":18},"end":{"line":7,"column":23}},"value":false,"raw":"false"}}},{"type":"ExpressionStatement","start":171,"end":190,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":23}},"expression":{"type":"AssignmentExpression","start":171,"end":190,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":23}},"operator":"=","left":{"type":"MemberExpression","start":171,"end":183,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":16}},"object":{"type":"ThisExpression","start":171,"end":175,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":8}}},"property":{"type":"Identifier","start":176,"end":183,"loc":{"start":{"line":8,"column":9},"end":{"line":8,"column":16}},"name":"emitter"},"computed":false},"right":{"type":"CallExpression","start":186,"end":190,"loc":{"start":{"line":8,"column":19},"end":{"line":8,"column":23}},"callee":{"type":"Identifier","start":186,"end":188,"loc":{"start":{"line":8,"column":19},"end":{"line":8,"column":21}},"name":"ee"},"arguments":[]}}},{"type":"ExpressionStatement","start":196,"end":248,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":56}},"expression":{"type":"AssignmentExpression","start":196,"end":248,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":56}},"operator":"=","left":{"type":"MemberExpression","start":196,"end":215,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":23}},"object":{"type":"ThisExpression","start":196,"end":200,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":8}}},"property":{"type":"Identifier","start":201,"end":215,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":23}},"name":"_handleMessage"},"computed":false},"right":{"type":"CallExpression","start":218,"end":248,"loc":{"start":{"line":10,"column":26},"end":{"line":10,"column":56}},"callee":{"type":"MemberExpression","start":218,"end":242,"loc":{"start":{"line":10,"column":26},"end":{"line":10,"column":50}},"object":{"type":"MemberExpression","start":218,"end":237,"loc":{"start":{"line":10,"column":26},"end":{"line":10,"column":45}},"object":{"type":"ThisExpression","start":218,"end":222,"loc":{"start":{"line":10,"column":26},"end":{"line":10,"column":30}}},"property":{"type":"Identifier","start":223,"end":237,"loc":{"start":{"line":10,"column":31},"end":{"line":10,"column":45}},"name":"_handleMessage"},"computed":false},"property":{"type":"Identifier","start":238,"end":242,"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":50}},"name":"bind"},"computed":false},"arguments":[{"type":"ThisExpression","start":243,"end":247,"loc":{"start":{"line":10,"column":51},"end":{"line":10,"column":55}}}]}}},{"type":"ExpressionStatement","start":254,"end":288,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":38}},"expression":{"type":"AssignmentExpression","start":254,"end":288,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":38}},"operator":"=","left":{"type":"MemberExpression","start":254,"end":264,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":14}},"object":{"type":"ThisExpression","start":254,"end":258,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":8}}},"property":{"type":"Identifier","start":259,"end":264,"loc":{"start":{"line":12,"column":9},"end":{"line":12,"column":14}},"name":"close"},"computed":false},"right":{"type":"CallExpression","start":267,"end":288,"loc":{"start":{"line":12,"column":17},"end":{"line":12,"column":38}},"callee":{"type":"MemberExpression","start":267,"end":282,"loc":{"start":{"line":12,"column":17},"end":{"line":12,"column":32}},"object":{"type":"MemberExpression","start":267,"end":277,"loc":{"start":{"line":12,"column":17},"end":{"line":12,"column":27}},"object":{"type":"ThisExpression","start":267,"end":271,"loc":{"start":{"line":12,"column":17},"end":{"line":12,"column":21}}},"property":{"type":"Identifier","start":272,"end":277,"loc":{"start":{"line":12,"column":22},"end":{"line":12,"column":27}},"name":"close"},"computed":false},"property":{"type":"Identifier","start":278,"end":282,"loc":{"start":{"line":12,"column":28},"end":{"line":12,"column":32}},"name":"bind"},"computed":false},"arguments":[{"type":"ThisExpression","start":283,"end":287,"loc":{"start":{"line":12,"column":33},"end":{"line":12,"column":37}}}]}}},{"type":"ExpressionStatement","start":293,"end":325,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":36}},"expression":{"type":"AssignmentExpression","start":293,"end":325,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":36}},"operator":"=","left":{"type":"MemberExpression","start":293,"end":302,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":13}},"object":{"type":"ThisExpression","start":293,"end":297,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":8}}},"property":{"type":"Identifier","start":298,"end":302,"loc":{"start":{"line":13,"column":9},"end":{"line":13,"column":13}},"name":"emit"},"computed":false},"right":{"type":"CallExpression","start":305,"end":325,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":36}},"callee":{"type":"MemberExpression","start":305,"end":319,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":30}},"object":{"type":"MemberExpression","start":305,"end":314,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":25}},"object":{"type":"ThisExpression","start":305,"end":309,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":20}}},"property":{"type":"Identifier","start":310,"end":314,"loc":{"start":{"line":13,"column":21},"end":{"line":13,"column":25}},"name":"emit"},"computed":false},"property":{"type":"Identifier","start":315,"end":319,"loc":{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},"name":"bind"},"computed":false},"arguments":[{"type":"ThisExpression","start":320,"end":324,"loc":{"start":{"line":13,"column":31},"end":{"line":13,"column":35}}}]}}},{"type":"ExpressionStatement","start":330,"end":358,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":32}},"expression":{"type":"AssignmentExpression","start":330,"end":358,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":32}},"operator":"=","left":{"type":"MemberExpression","start":330,"end":337,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":11}},"object":{"type":"ThisExpression","start":330,"end":334,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":8}}},"property":{"type":"Identifier","start":335,"end":337,"loc":{"start":{"line":14,"column":9},"end":{"line":14,"column":11}},"name":"on"},"computed":false},"right":{"type":"CallExpression","start":340,"end":358,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":32}},"callee":{"type":"MemberExpression","start":340,"end":352,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":26}},"object":{"type":"MemberExpression","start":340,"end":347,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":21}},"object":{"type":"ThisExpression","start":340,"end":344,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":18}}},"property":{"type":"Identifier","start":345,"end":347,"loc":{"start":{"line":14,"column":19},"end":{"line":14,"column":21}},"name":"on"},"computed":false},"property":{"type":"Identifier","start":348,"end":352,"loc":{"start":{"line":14,"column":22},"end":{"line":14,"column":26}},"name":"bind"},"computed":false},"arguments":[{"type":"ThisExpression","start":353,"end":357,"loc":{"start":{"line":14,"column":27},"end":{"line":14,"column":31}}}]}}},{"type":"ExpressionStatement","start":363,"end":395,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":36}},"expression":{"type":"AssignmentExpression","start":363,"end":395,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":36}},"operator":"=","left":{"type":"MemberExpression","start":363,"end":372,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":13}},"object":{"type":"ThisExpression","start":363,"end":367,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":8}}},"property":{"type":"Identifier","start":368,"end":372,"loc":{"start":{"line":15,"column":9},"end":{"line":15,"column":13}},"name":"once"},"computed":false},"right":{"type":"CallExpression","start":375,"end":395,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":36}},"callee":{"type":"MemberExpression","start":375,"end":389,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":30}},"object":{"type":"MemberExpression","start":375,"end":384,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":25}},"object":{"type":"ThisExpression","start":375,"end":379,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":20}}},"property":{"type":"Identifier","start":380,"end":384,"loc":{"start":{"line":15,"column":21},"end":{"line":15,"column":25}},"name":"once"},"computed":false},"property":{"type":"Identifier","start":385,"end":389,"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":30}},"name":"bind"},"computed":false},"arguments":[{"type":"ThisExpression","start":390,"end":394,"loc":{"start":{"line":15,"column":31},"end":{"line":15,"column":35}}}]}}},{"type":"ExpressionStatement","start":400,"end":432,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":36}},"expression":{"type":"AssignmentExpression","start":400,"end":432,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":36}},"operator":"=","left":{"type":"MemberExpression","start":400,"end":409,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":13}},"object":{"type":"ThisExpression","start":400,"end":404,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":8}}},"property":{"type":"Identifier","start":405,"end":409,"loc":{"start":{"line":16,"column":9},"end":{"line":16,"column":13}},"name":"send"},"computed":false},"right":{"type":"CallExpression","start":412,"end":432,"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":36}},"callee":{"type":"MemberExpression","start":412,"end":426,"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":30}},"object":{"type":"MemberExpression","start":412,"end":421,"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":25}},"object":{"type":"ThisExpression","start":412,"end":416,"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":20}}},"property":{"type":"Identifier","start":417,"end":421,"loc":{"start":{"line":16,"column":21},"end":{"line":16,"column":25}},"name":"send"},"computed":false},"property":{"type":"Identifier","start":422,"end":426,"loc":{"start":{"line":16,"column":26},"end":{"line":16,"column":30}},"name":"bind"},"computed":false},"arguments":[{"type":"ThisExpression","start":427,"end":431,"loc":{"start":{"line":16,"column":31},"end":{"line":16,"column":35}}}]}}},{"type":"IfStatement","start":438,"end":501,"loc":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"test":{"type":"LogicalExpression","start":442,"end":474,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":40}},"left":{"type":"UnaryExpression","start":442,"end":447,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":13}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":443,"end":447,"loc":{"start":{"line":18,"column":9},"end":{"line":18,"column":13}},"name":"opts"}},"operator":"||","right":{"type":"BinaryExpression","start":451,"end":474,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":40}},"left":{"type":"MemberExpression","start":451,"end":464,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":30}},"object":{"type":"Identifier","start":451,"end":455,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":21}},"name":"opts"},"property":{"type":"Identifier","start":456,"end":464,"loc":{"start":{"line":18,"column":22},"end":{"line":18,"column":30}},"name":"autoOpen"},"computed":false},"operator":"!==","right":{"type":"Literal","start":469,"end":474,"loc":{"start":{"line":18,"column":35},"end":{"line":18,"column":40}},"value":false,"raw":"false"}}},"consequent":{"type":"BlockStatement","start":476,"end":501,"loc":{"start":{"line":18,"column":42},"end":{"line":20,"column":5}},"body":[{"type":"ExpressionStatement","start":484,"end":495,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":17}},"expression":{"type":"CallExpression","start":484,"end":495,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":17}},"callee":{"type":"MemberExpression","start":484,"end":493,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":15}},"object":{"type":"ThisExpression","start":484,"end":488,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":10}}},"property":{"type":"Identifier","start":489,"end":493,"loc":{"start":{"line":19,"column":11},"end":{"line":19,"column":15}},"name":"open"},"computed":false},"arguments":[]}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":509,"end":949,"loc":{"start":{"line":23,"column":2},"end":{"line":41,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":509,"end":513,"loc":{"start":{"line":23,"column":2},"end":{"line":23,"column":6}},"name":"open"},"value":{"type":"FunctionExpression","start":514,"end":949,"loc":{"start":{"line":23,"column":7},"end":{"line":41,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":517,"end":949,"loc":{"start":{"line":23,"column":10},"end":{"line":41,"column":3}},"body":[{"type":"ExpressionStatement","start":523,"end":568,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":49}},"expression":{"type":"AssignmentExpression","start":523,"end":568,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":49}},"operator":"=","left":{"type":"MemberExpression","start":523,"end":534,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":15}},"object":{"type":"ThisExpression","start":523,"end":527,"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":8}}},"property":{"type":"Identifier","start":528,"end":534,"loc":{"start":{"line":24,"column":9},"end":{"line":24,"column":15}},"name":"socket"},"computed":false},"right":{"type":"NewExpression","start":537,"end":568,"loc":{"start":{"line":24,"column":18},"end":{"line":24,"column":49}},"callee":{"type":"Identifier","start":541,"end":550,"loc":{"start":{"line":24,"column":22},"end":{"line":24,"column":31}},"name":"WebSocket"},"arguments":[{"type":"MemberExpression","start":551,"end":567,"loc":{"start":{"line":24,"column":32},"end":{"line":24,"column":48}},"object":{"type":"MemberExpression","start":551,"end":560,"loc":{"start":{"line":24,"column":32},"end":{"line":24,"column":41}},"object":{"type":"ThisExpression","start":551,"end":555,"loc":{"start":{"line":24,"column":32},"end":{"line":24,"column":36}}},"property":{"type":"Identifier","start":556,"end":560,"loc":{"start":{"line":24,"column":37},"end":{"line":24,"column":41}},"name":"opts"},"computed":false},"property":{"type":"Identifier","start":561,"end":567,"loc":{"start":{"line":24,"column":42},"end":{"line":24,"column":48}},"name":"target"},"computed":false}]}}},{"type":"ExpressionStatement","start":574,"end":828,"loc":{"start":{"line":26,"column":4},"end":{"line":34,"column":5}},"expression":{"type":"AssignmentExpression","start":574,"end":828,"loc":{"start":{"line":26,"column":4},"end":{"line":34,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":574,"end":592,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":22}},"object":{"type":"MemberExpression","start":574,"end":585,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":15}},"object":{"type":"ThisExpression","start":574,"end":578,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":8}}},"property":{"type":"Identifier","start":579,"end":585,"loc":{"start":{"line":26,"column":9},"end":{"line":26,"column":15}},"name":"socket"},"computed":false},"property":{"type":"Identifier","start":586,"end":592,"loc":{"start":{"line":26,"column":16},"end":{"line":26,"column":22}},"name":"onopen"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":595,"end":828,"loc":{"start":{"line":26,"column":25},"end":{"line":34,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":596,"end":597,"loc":{"start":{"line":26,"column":26},"end":{"line":26,"column":27}},"name":"e"}],"body":{"type":"BlockStatement","start":602,"end":828,"loc":{"start":{"line":26,"column":32},"end":{"line":34,"column":5}},"body":[{"type":"ExpressionStatement","start":610,"end":628,"loc":{"start":{"line":27,"column":6},"end":{"line":27,"column":24}},"expression":{"type":"AssignmentExpression","start":610,"end":628,"loc":{"start":{"line":27,"column":6},"end":{"line":27,"column":24}},"operator":"=","left":{"type":"MemberExpression","start":610,"end":621,"loc":{"start":{"line":27,"column":6},"end":{"line":27,"column":17}},"object":{"type":"ThisExpression","start":610,"end":614,"loc":{"start":{"line":27,"column":6},"end":{"line":27,"column":10}}},"property":{"type":"Identifier","start":615,"end":621,"loc":{"start":{"line":27,"column":11},"end":{"line":27,"column":17}},"name":"isOpen"},"computed":false},"right":{"type":"Literal","start":624,"end":628,"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":24}},"value":true,"raw":"true"}}},{"type":"WhileStatement","start":636,"end":822,"loc":{"start":{"line":29,"column":6},"end":{"line":33,"column":7}},"test":{"type":"LogicalExpression","start":643,"end":681,"loc":{"start":{"line":29,"column":13},"end":{"line":29,"column":51}},"left":{"type":"BinaryExpression","start":643,"end":666,"loc":{"start":{"line":29,"column":13},"end":{"line":29,"column":36}},"left":{"type":"MemberExpression","start":643,"end":662,"loc":{"start":{"line":29,"column":13},"end":{"line":29,"column":32}},"object":{"type":"MemberExpression","start":643,"end":655,"loc":{"start":{"line":29,"column":13},"end":{"line":29,"column":25}},"object":{"type":"ThisExpression","start":643,"end":647,"loc":{"start":{"line":29,"column":13},"end":{"line":29,"column":17}}},"property":{"type":"Identifier","start":648,"end":655,"loc":{"start":{"line":29,"column":18},"end":{"line":29,"column":25}},"name":"_queued"},"computed":false},"property":{"type":"Identifier","start":656,"end":662,"loc":{"start":{"line":29,"column":26},"end":{"line":29,"column":32}},"name":"length"},"computed":false},"operator":">","right":{"type":"Literal","start":665,"end":666,"loc":{"start":{"line":29,"column":35},"end":{"line":29,"column":36}},"value":0,"raw":"0"}},"operator":"&&","right":{"type":"MemberExpression","start":670,"end":681,"loc":{"start":{"line":29,"column":40},"end":{"line":29,"column":51}},"object":{"type":"ThisExpression","start":670,"end":674,"loc":{"start":{"line":29,"column":40},"end":{"line":29,"column":44}}},"property":{"type":"Identifier","start":675,"end":681,"loc":{"start":{"line":29,"column":45},"end":{"line":29,"column":51}},"name":"isOpen"},"computed":false}},"body":{"type":"BlockStatement","start":683,"end":822,"loc":{"start":{"line":29,"column":53},"end":{"line":33,"column":7}},"body":[{"type":"VariableDeclaration","start":693,"end":722,"loc":{"start":{"line":30,"column":8},"end":{"line":30,"column":37}},"declarations":[{"type":"VariableDeclarator","start":699,"end":722,"loc":{"start":{"line":30,"column":14},"end":{"line":30,"column":37}},"id":{"type":"Identifier","start":699,"end":704,"loc":{"start":{"line":30,"column":14},"end":{"line":30,"column":19}},"name":"first"},"init":{"type":"MemberExpression","start":707,"end":722,"loc":{"start":{"line":30,"column":22},"end":{"line":30,"column":37}},"object":{"type":"MemberExpression","start":707,"end":719,"loc":{"start":{"line":30,"column":22},"end":{"line":30,"column":34}},"object":{"type":"ThisExpression","start":707,"end":711,"loc":{"start":{"line":30,"column":22},"end":{"line":30,"column":26}}},"property":{"type":"Identifier","start":712,"end":719,"loc":{"start":{"line":30,"column":27},"end":{"line":30,"column":34}},"name":"_queued"},"computed":false},"property":{"type":"Literal","start":720,"end":721,"loc":{"start":{"line":30,"column":35},"end":{"line":30,"column":36}},"value":0,"raw":"0"},"computed":true}}],"kind":"const"},{"type":"ExpressionStatement","start":731,"end":769,"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":46}},"expression":{"type":"CallExpression","start":731,"end":769,"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":46}},"callee":{"type":"MemberExpression","start":731,"end":740,"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":17}},"object":{"type":"ThisExpression","start":731,"end":735,"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":12}}},"property":{"type":"Identifier","start":736,"end":740,"loc":{"start":{"line":31,"column":13},"end":{"line":31,"column":17}},"name":"send"},"computed":false},"arguments":[{"type":"MemberExpression","start":741,"end":753,"loc":{"start":{"line":31,"column":18},"end":{"line":31,"column":30}},"object":{"type":"Identifier","start":741,"end":746,"loc":{"start":{"line":31,"column":18},"end":{"line":31,"column":23}},"name":"first"},"property":{"type":"Identifier","start":747,"end":753,"loc":{"start":{"line":31,"column":24},"end":{"line":31,"column":30}},"name":"action"},"computed":false},{"type":"MemberExpression","start":755,"end":768,"loc":{"start":{"line":31,"column":32},"end":{"line":31,"column":45}},"object":{"type":"Identifier","start":755,"end":760,"loc":{"start":{"line":31,"column":32},"end":{"line":31,"column":37}},"name":"first"},"property":{"type":"Identifier","start":761,"end":768,"loc":{"start":{"line":31,"column":38},"end":{"line":31,"column":45}},"name":"payload"},"computed":false}]}},{"type":"ExpressionStatement","start":778,"end":814,"loc":{"start":{"line":32,"column":8},"end":{"line":32,"column":44}},"expression":{"type":"AssignmentExpression","start":778,"end":814,"loc":{"start":{"line":32,"column":8},"end":{"line":32,"column":44}},"operator":"=","left":{"type":"MemberExpression","start":778,"end":790,"loc":{"start":{"line":32,"column":8},"end":{"line":32,"column":20}},"object":{"type":"ThisExpression","start":778,"end":782,"loc":{"start":{"line":32,"column":8},"end":{"line":32,"column":12}}},"property":{"type":"Identifier","start":783,"end":790,"loc":{"start":{"line":32,"column":13},"end":{"line":32,"column":20}},"name":"_queued"},"computed":false},"right":{"type":"CallExpression","start":793,"end":814,"loc":{"start":{"line":32,"column":23},"end":{"line":32,"column":44}},"callee":{"type":"MemberExpression","start":793,"end":811,"loc":{"start":{"line":32,"column":23},"end":{"line":32,"column":41}},"object":{"type":"MemberExpression","start":793,"end":805,"loc":{"start":{"line":32,"column":23},"end":{"line":32,"column":35}},"object":{"type":"ThisExpression","start":793,"end":797,"loc":{"start":{"line":32,"column":23},"end":{"line":32,"column":27}}},"property":{"type":"Identifier","start":798,"end":805,"loc":{"start":{"line":32,"column":28},"end":{"line":32,"column":35}},"name":"_queued"},"computed":false},"property":{"type":"Identifier","start":806,"end":811,"loc":{"start":{"line":32,"column":36},"end":{"line":32,"column":41}},"name":"slice"},"computed":false},"arguments":[{"type":"Literal","start":812,"end":813,"loc":{"start":{"line":32,"column":42},"end":{"line":32,"column":43}},"value":1,"raw":"1"}]}}}]}}]}}}},{"type":"ExpressionStatement","start":834,"end":896,"loc":{"start":{"line":36,"column":4},"end":{"line":38,"column":5}},"expression":{"type":"AssignmentExpression","start":834,"end":896,"loc":{"start":{"line":36,"column":4},"end":{"line":38,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":834,"end":853,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":23}},"object":{"type":"MemberExpression","start":834,"end":845,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":15}},"object":{"type":"ThisExpression","start":834,"end":838,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":8}}},"property":{"type":"Identifier","start":839,"end":845,"loc":{"start":{"line":36,"column":9},"end":{"line":36,"column":15}},"name":"socket"},"computed":false},"property":{"type":"Identifier","start":846,"end":853,"loc":{"start":{"line":36,"column":16},"end":{"line":36,"column":23}},"name":"onclose"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":856,"end":896,"loc":{"start":{"line":36,"column":26},"end":{"line":38,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":857,"end":858,"loc":{"start":{"line":36,"column":27},"end":{"line":36,"column":28}},"name":"e"}],"body":{"type":"BlockStatement","start":863,"end":896,"loc":{"start":{"line":36,"column":33},"end":{"line":38,"column":5}},"body":[{"type":"ExpressionStatement","start":871,"end":890,"loc":{"start":{"line":37,"column":6},"end":{"line":37,"column":25}},"expression":{"type":"AssignmentExpression","start":871,"end":890,"loc":{"start":{"line":37,"column":6},"end":{"line":37,"column":25}},"operator":"=","left":{"type":"MemberExpression","start":871,"end":882,"loc":{"start":{"line":37,"column":6},"end":{"line":37,"column":17}},"object":{"type":"ThisExpression","start":871,"end":875,"loc":{"start":{"line":37,"column":6},"end":{"line":37,"column":10}}},"property":{"type":"Identifier","start":876,"end":882,"loc":{"start":{"line":37,"column":11},"end":{"line":37,"column":17}},"name":"isOpen"},"computed":false},"right":{"type":"Literal","start":885,"end":890,"loc":{"start":{"line":37,"column":20},"end":{"line":37,"column":25}},"value":false,"raw":"false"}}}]}}}},{"type":"ExpressionStatement","start":902,"end":945,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":47}},"expression":{"type":"AssignmentExpression","start":902,"end":945,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":47}},"operator":"=","left":{"type":"MemberExpression","start":902,"end":923,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":25}},"object":{"type":"MemberExpression","start":902,"end":913,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":15}},"object":{"type":"ThisExpression","start":902,"end":906,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":8}}},"property":{"type":"Identifier","start":907,"end":913,"loc":{"start":{"line":40,"column":9},"end":{"line":40,"column":15}},"name":"socket"},"computed":false},"property":{"type":"Identifier","start":914,"end":923,"loc":{"start":{"line":40,"column":16},"end":{"line":40,"column":25}},"name":"onmessage"},"computed":false},"right":{"type":"MemberExpression","start":926,"end":945,"loc":{"start":{"line":40,"column":28},"end":{"line":40,"column":47}},"object":{"type":"ThisExpression","start":926,"end":930,"loc":{"start":{"line":40,"column":28},"end":{"line":40,"column":32}}},"property":{"type":"Identifier","start":931,"end":945,"loc":{"start":{"line":40,"column":33},"end":{"line":40,"column":47}},"name":"_handleMessage"},"computed":false}}}]}}},{"type":"MethodDefinition","start":953,"end":1022,"loc":{"start":{"line":43,"column":2},"end":{"line":47,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":953,"end":958,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":7}},"name":"close"},"value":{"type":"FunctionExpression","start":959,"end":1022,"loc":{"start":{"line":43,"column":8},"end":{"line":47,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":962,"end":1022,"loc":{"start":{"line":43,"column":11},"end":{"line":47,"column":3}},"body":[{"type":"IfStatement","start":968,"end":1018,"loc":{"start":{"line":44,"column":4},"end":{"line":46,"column":5}},"test":{"type":"MemberExpression","start":972,"end":983,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":19}},"object":{"type":"ThisExpression","start":972,"end":976,"loc":{"start":{"line":44,"column":8},"end":{"line":44,"column":12}}},"property":{"type":"Identifier","start":977,"end":983,"loc":{"start":{"line":44,"column":13},"end":{"line":44,"column":19}},"name":"socket"},"computed":false},"consequent":{"type":"BlockStatement","start":985,"end":1018,"loc":{"start":{"line":44,"column":21},"end":{"line":46,"column":5}},"body":[{"type":"ExpressionStatement","start":993,"end":1012,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":25}},"expression":{"type":"CallExpression","start":993,"end":1012,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":25}},"callee":{"type":"MemberExpression","start":993,"end":1010,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":23}},"object":{"type":"MemberExpression","start":993,"end":1004,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":17}},"object":{"type":"ThisExpression","start":993,"end":997,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":10}}},"property":{"type":"Identifier","start":998,"end":1004,"loc":{"start":{"line":45,"column":11},"end":{"line":45,"column":17}},"name":"socket"},"computed":false},"property":{"type":"Identifier","start":1005,"end":1010,"loc":{"start":{"line":45,"column":18},"end":{"line":45,"column":23}},"name":"close"},"computed":false},"arguments":[]}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":1026,"end":1237,"loc":{"start":{"line":49,"column":2},"end":{"line":61,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1026,"end":1030,"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":6}},"name":"send"},"value":{"type":"FunctionExpression","start":1031,"end":1237,"loc":{"start":{"line":49,"column":7},"end":{"line":61,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1032,"end":1038,"loc":{"start":{"line":49,"column":8},"end":{"line":49,"column":14}},"name":"action"},{"type":"Identifier","start":1040,"end":1047,"loc":{"start":{"line":49,"column":16},"end":{"line":49,"column":23}},"name":"payload"}],"body":{"type":"BlockStatement","start":1049,"end":1237,"loc":{"start":{"line":49,"column":25},"end":{"line":61,"column":3}},"body":[{"type":"IfStatement","start":1075,"end":1158,"loc":{"start":{"line":52,"column":4},"end":{"line":55,"column":5}},"test":{"type":"UnaryExpression","start":1079,"end":1091,"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":20}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1080,"end":1091,"loc":{"start":{"line":52,"column":9},"end":{"line":52,"column":20}},"object":{"type":"ThisExpression","start":1080,"end":1084,"loc":{"start":{"line":52,"column":9},"end":{"line":52,"column":13}}},"property":{"type":"Identifier","start":1085,"end":1091,"loc":{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},"name":"isOpen"},"computed":false}},"consequent":{"type":"BlockStatement","start":1093,"end":1158,"loc":{"start":{"line":52,"column":22},"end":{"line":55,"column":5}},"body":[{"type":"ExpressionStatement","start":1101,"end":1139,"loc":{"start":{"line":53,"column":6},"end":{"line":53,"column":44}},"expression":{"type":"CallExpression","start":1101,"end":1139,"loc":{"start":{"line":53,"column":6},"end":{"line":53,"column":44}},"callee":{"type":"MemberExpression","start":1101,"end":1118,"loc":{"start":{"line":53,"column":6},"end":{"line":53,"column":23}},"object":{"type":"MemberExpression","start":1101,"end":1113,"loc":{"start":{"line":53,"column":6},"end":{"line":53,"column":18}},"object":{"type":"ThisExpression","start":1101,"end":1105,"loc":{"start":{"line":53,"column":6},"end":{"line":53,"column":10}}},"property":{"type":"Identifier","start":1106,"end":1113,"loc":{"start":{"line":53,"column":11},"end":{"line":53,"column":18}},"name":"_queued"},"computed":false},"property":{"type":"Identifier","start":1114,"end":1118,"loc":{"start":{"line":53,"column":19},"end":{"line":53,"column":23}},"name":"push"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1119,"end":1138,"loc":{"start":{"line":53,"column":24},"end":{"line":53,"column":43}},"properties":[{"type":"Property","start":1121,"end":1127,"loc":{"start":{"line":53,"column":26},"end":{"line":53,"column":32}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1121,"end":1127,"loc":{"start":{"line":53,"column":26},"end":{"line":53,"column":32}},"name":"action"},"kind":"init","value":{"type":"Identifier","start":1121,"end":1127,"loc":{"start":{"line":53,"column":26},"end":{"line":53,"column":32}},"name":"action"}},{"type":"Property","start":1129,"end":1136,"loc":{"start":{"line":53,"column":34},"end":{"line":53,"column":41}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1129,"end":1136,"loc":{"start":{"line":53,"column":34},"end":{"line":53,"column":41}},"name":"payload"},"kind":"init","value":{"type":"Identifier","start":1129,"end":1136,"loc":{"start":{"line":53,"column":34},"end":{"line":53,"column":41}},"name":"payload"}}]}]}},{"type":"ReturnStatement","start":1146,"end":1152,"loc":{"start":{"line":54,"column":6},"end":{"line":54,"column":12}},"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":1164,"end":1233,"loc":{"start":{"line":57,"column":4},"end":{"line":60,"column":7}},"expression":{"type":"CallExpression","start":1164,"end":1233,"loc":{"start":{"line":57,"column":4},"end":{"line":60,"column":7}},"callee":{"type":"MemberExpression","start":1164,"end":1180,"loc":{"start":{"line":57,"column":4},"end":{"line":57,"column":20}},"object":{"type":"MemberExpression","start":1164,"end":1175,"loc":{"start":{"line":57,"column":4},"end":{"line":57,"column":15}},"object":{"type":"ThisExpression","start":1164,"end":1168,"loc":{"start":{"line":57,"column":4},"end":{"line":57,"column":8}}},"property":{"type":"Identifier","start":1169,"end":1175,"loc":{"start":{"line":57,"column":9},"end":{"line":57,"column":15}},"name":"socket"},"computed":false},"property":{"type":"Identifier","start":1176,"end":1180,"loc":{"start":{"line":57,"column":16},"end":{"line":57,"column":20}},"name":"send"},"computed":false},"arguments":[{"type":"CallExpression","start":1181,"end":1232,"loc":{"start":{"line":57,"column":21},"end":{"line":60,"column":6}},"callee":{"type":"MemberExpression","start":1181,"end":1195,"loc":{"start":{"line":57,"column":21},"end":{"line":57,"column":35}},"object":{"type":"Identifier","start":1181,"end":1185,"loc":{"start":{"line":57,"column":21},"end":{"line":57,"column":25}},"name":"JSON"},"property":{"type":"Identifier","start":1186,"end":1195,"loc":{"start":{"line":57,"column":26},"end":{"line":57,"column":35}},"name":"stringify"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1196,"end":1231,"loc":{"start":{"line":57,"column":36},"end":{"line":60,"column":5}},"properties":[{"type":"Property","start":1204,"end":1210,"loc":{"start":{"line":58,"column":6},"end":{"line":58,"column":12}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1204,"end":1210,"loc":{"start":{"line":58,"column":6},"end":{"line":58,"column":12}},"name":"action"},"kind":"init","value":{"type":"Identifier","start":1204,"end":1210,"loc":{"start":{"line":58,"column":6},"end":{"line":58,"column":12}},"name":"action"}},{"type":"Property","start":1218,"end":1225,"loc":{"start":{"line":59,"column":6},"end":{"line":59,"column":13}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1218,"end":1225,"loc":{"start":{"line":59,"column":6},"end":{"line":59,"column":13}},"name":"payload"},"kind":"init","value":{"type":"Identifier","start":1218,"end":1225,"loc":{"start":{"line":59,"column":6},"end":{"line":59,"column":13}},"name":"payload"}}]}]}]}}]}}},{"type":"MethodDefinition","start":1241,"end":1304,"loc":{"start":{"line":63,"column":2},"end":{"line":65,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1241,"end":1243,"loc":{"start":{"line":63,"column":2},"end":{"line":63,"column":4}},"name":"on"},"value":{"type":"FunctionExpression","start":1244,"end":1304,"loc":{"start":{"line":63,"column":5},"end":{"line":65,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1245,"end":1251,"loc":{"start":{"line":63,"column":6},"end":{"line":63,"column":12}},"name":"action"},{"type":"Identifier","start":1253,"end":1260,"loc":{"start":{"line":63,"column":14},"end":{"line":63,"column":21}},"name":"handler"}],"body":{"type":"BlockStatement","start":1262,"end":1304,"loc":{"start":{"line":63,"column":23},"end":{"line":65,"column":3}},"body":[{"type":"ExpressionStatement","start":1268,"end":1300,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":36}},"expression":{"type":"CallExpression","start":1268,"end":1300,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":36}},"callee":{"type":"MemberExpression","start":1268,"end":1283,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":19}},"object":{"type":"MemberExpression","start":1268,"end":1280,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":16}},"object":{"type":"ThisExpression","start":1268,"end":1272,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":8}}},"property":{"type":"Identifier","start":1273,"end":1280,"loc":{"start":{"line":64,"column":9},"end":{"line":64,"column":16}},"name":"emitter"},"computed":false},"property":{"type":"Identifier","start":1281,"end":1283,"loc":{"start":{"line":64,"column":17},"end":{"line":64,"column":19}},"name":"on"},"computed":false},"arguments":[{"type":"Identifier","start":1284,"end":1290,"loc":{"start":{"line":64,"column":20},"end":{"line":64,"column":26}},"name":"action"},{"type":"Identifier","start":1292,"end":1299,"loc":{"start":{"line":64,"column":28},"end":{"line":64,"column":35}},"name":"handler"}]}}]}}},{"type":"MethodDefinition","start":1308,"end":1375,"loc":{"start":{"line":67,"column":2},"end":{"line":69,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1308,"end":1312,"loc":{"start":{"line":67,"column":2},"end":{"line":67,"column":6}},"name":"emit"},"value":{"type":"FunctionExpression","start":1313,"end":1375,"loc":{"start":{"line":67,"column":7},"end":{"line":69,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1314,"end":1320,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":14}},"name":"action"},{"type":"Identifier","start":1322,"end":1329,"loc":{"start":{"line":67,"column":16},"end":{"line":67,"column":23}},"name":"payload"}],"body":{"type":"BlockStatement","start":1331,"end":1375,"loc":{"start":{"line":67,"column":25},"end":{"line":69,"column":3}},"body":[{"type":"ExpressionStatement","start":1337,"end":1371,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":38}},"expression":{"type":"CallExpression","start":1337,"end":1371,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":38}},"callee":{"type":"MemberExpression","start":1337,"end":1354,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":21}},"object":{"type":"MemberExpression","start":1337,"end":1349,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":16}},"object":{"type":"ThisExpression","start":1337,"end":1341,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":8}}},"property":{"type":"Identifier","start":1342,"end":1349,"loc":{"start":{"line":68,"column":9},"end":{"line":68,"column":16}},"name":"emitter"},"computed":false},"property":{"type":"Identifier","start":1350,"end":1354,"loc":{"start":{"line":68,"column":17},"end":{"line":68,"column":21}},"name":"emit"},"computed":false},"arguments":[{"type":"Identifier","start":1355,"end":1361,"loc":{"start":{"line":68,"column":22},"end":{"line":68,"column":28}},"name":"action"},{"type":"Identifier","start":1363,"end":1370,"loc":{"start":{"line":68,"column":30},"end":{"line":68,"column":37}},"name":"payload"}]}}]}}},{"type":"MethodDefinition","start":1379,"end":1446,"loc":{"start":{"line":71,"column":2},"end":{"line":73,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1379,"end":1383,"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":6}},"name":"once"},"value":{"type":"FunctionExpression","start":1384,"end":1446,"loc":{"start":{"line":71,"column":7},"end":{"line":73,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1385,"end":1391,"loc":{"start":{"line":71,"column":8},"end":{"line":71,"column":14}},"name":"action"},{"type":"Identifier","start":1393,"end":1400,"loc":{"start":{"line":71,"column":16},"end":{"line":71,"column":23}},"name":"handler"}],"body":{"type":"BlockStatement","start":1402,"end":1446,"loc":{"start":{"line":71,"column":25},"end":{"line":73,"column":3}},"body":[{"type":"ExpressionStatement","start":1408,"end":1442,"loc":{"start":{"line":72,"column":4},"end":{"line":72,"column":38}},"expression":{"type":"CallExpression","start":1408,"end":1442,"loc":{"start":{"line":72,"column":4},"end":{"line":72,"column":38}},"callee":{"type":"MemberExpression","start":1408,"end":1425,"loc":{"start":{"line":72,"column":4},"end":{"line":72,"column":21}},"object":{"type":"MemberExpression","start":1408,"end":1420,"loc":{"start":{"line":72,"column":4},"end":{"line":72,"column":16}},"object":{"type":"ThisExpression","start":1408,"end":1412,"loc":{"start":{"line":72,"column":4},"end":{"line":72,"column":8}}},"property":{"type":"Identifier","start":1413,"end":1420,"loc":{"start":{"line":72,"column":9},"end":{"line":72,"column":16}},"name":"emitter"},"computed":false},"property":{"type":"Identifier","start":1421,"end":1425,"loc":{"start":{"line":72,"column":17},"end":{"line":72,"column":21}},"name":"once"},"computed":false},"arguments":[{"type":"Identifier","start":1426,"end":1432,"loc":{"start":{"line":72,"column":22},"end":{"line":72,"column":28}},"name":"action"},{"type":"Identifier","start":1434,"end":1441,"loc":{"start":{"line":72,"column":30},"end":{"line":72,"column":37}},"name":"handler"}]}}]}}},{"type":"MethodDefinition","start":1450,"end":1623,"loc":{"start":{"line":75,"column":2},"end":{"line":82,"column":3}},"kind":"method","static":false,"computed":false,"key":{"type":"Identifier","start":1450,"end":1464,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":16}},"name":"_handleMessage"},"value":{"type":"FunctionExpression","start":1465,"end":1623,"loc":{"start":{"line":75,"column":17},"end":{"line":82,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1466,"end":1467,"loc":{"start":{"line":75,"column":18},"end":{"line":75,"column":19}},"name":"e"}],"body":{"type":"BlockStatement","start":1469,"end":1623,"loc":{"start":{"line":75,"column":21},"end":{"line":82,"column":3}},"body":[{"type":"TryStatement","start":1475,"end":1619,"loc":{"start":{"line":76,"column":4},"end":{"line":81,"column":5}},"block":{"type":"BlockStatement","start":1479,"end":1576,"loc":{"start":{"line":76,"column":8},"end":{"line":79,"column":5}},"body":[{"type":"VariableDeclaration","start":1487,"end":1521,"loc":{"start":{"line":77,"column":6},"end":{"line":77,"column":40}},"declarations":[{"type":"VariableDeclarator","start":1493,"end":1521,"loc":{"start":{"line":77,"column":12},"end":{"line":77,"column":40}},"id":{"type":"Identifier","start":1493,"end":1500,"loc":{"start":{"line":77,"column":12},"end":{"line":77,"column":19}},"name":"message"},"init":{"type":"CallExpression","start":1503,"end":1521,"loc":{"start":{"line":77,"column":22},"end":{"line":77,"column":40}},"callee":{"type":"MemberExpression","start":1503,"end":1513,"loc":{"start":{"line":77,"column":22},"end":{"line":77,"column":32}},"object":{"type":"Identifier","start":1503,"end":1507,"loc":{"start":{"line":77,"column":22},"end":{"line":77,"column":26}},"name":"JSON"},"property":{"type":"Identifier","start":1508,"end":1513,"loc":{"start":{"line":77,"column":27},"end":{"line":77,"column":32}},"name":"parse"},"computed":false},"arguments":[{"type":"MemberExpression","start":1514,"end":1520,"loc":{"start":{"line":77,"column":33},"end":{"line":77,"column":39}},"object":{"type":"Identifier","start":1514,"end":1515,"loc":{"start":{"line":77,"column":33},"end":{"line":77,"column":34}},"name":"e"},"property":{"type":"Identifier","start":1516,"end":1520,"loc":{"start":{"line":77,"column":35},"end":{"line":77,"column":39}},"name":"data"},"computed":false}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1528,"end":1570,"loc":{"start":{"line":78,"column":6},"end":{"line":78,"column":48}},"expression":{"type":"CallExpression","start":1528,"end":1570,"loc":{"start":{"line":78,"column":6},"end":{"line":78,"column":48}},"callee":{"type":"MemberExpression","start":1528,"end":1537,"loc":{"start":{"line":78,"column":6},"end":{"line":78,"column":15}},"object":{"type":"ThisExpression","start":1528,"end":1532,"loc":{"start":{"line":78,"column":6},"end":{"line":78,"column":10}}},"property":{"type":"Identifier","start":1533,"end":1537,"loc":{"start":{"line":78,"column":11},"end":{"line":78,"column":15}},"name":"emit"},"computed":false},"arguments":[{"type":"MemberExpression","start":1538,"end":1552,"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":30}},"object":{"type":"Identifier","start":1538,"end":1545,"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":23}},"name":"message"},"property":{"type":"Identifier","start":1546,"end":1552,"loc":{"start":{"line":78,"column":24},"end":{"line":78,"column":30}},"name":"action"},"computed":false},{"type":"MemberExpression","start":1554,"end":1569,"loc":{"start":{"line":78,"column":32},"end":{"line":78,"column":47}},"object":{"type":"Identifier","start":1554,"end":1561,"loc":{"start":{"line":78,"column":32},"end":{"line":78,"column":39}},"name":"message"},"property":{"type":"Identifier","start":1562,"end":1569,"loc":{"start":{"line":78,"column":40},"end":{"line":78,"column":47}},"name":"payload"},"computed":false}]}}]},"handler":{"type":"CatchClause","start":1577,"end":1619,"loc":{"start":{"line":79,"column":6},"end":{"line":81,"column":5}},"param":{"type":"Identifier","start":1584,"end":1587,"loc":{"start":{"line":79,"column":13},"end":{"line":79,"column":16}},"name":"err"},"body":{"type":"BlockStatement","start":1589,"end":1619,"loc":{"start":{"line":79,"column":18},"end":{"line":81,"column":5}},"body":[{"type":"ExpressionStatement","start":1597,"end":1613,"loc":{"start":{"line":80,"column":6},"end":{"line":80,"column":22}},"expression":{"type":"CallExpression","start":1597,"end":1613,"loc":{"start":{"line":80,"column":6},"end":{"line":80,"column":22}},"callee":{"type":"MemberExpression","start":1597,"end":1608,"loc":{"start":{"line":80,"column":6},"end":{"line":80,"column":17}},"object":{"type":"Identifier","start":1597,"end":1604,"loc":{"start":{"line":80,"column":6},"end":{"line":80,"column":13}},"name":"console"},"property":{"type":"Identifier","start":1605,"end":1608,"loc":{"start":{"line":80,"column":14},"end":{"line":80,"column":17}},"name":"log"},"computed":false},"arguments":[{"type":"Identifier","start":1609,"end":1612,"loc":{"start":{"line":80,"column":18},"end":{"line":80,"column":21}},"name":"err"}]}}]}},"finalizer":null}]}}}]}}}}],"sourceType":"module"}