{"type":"Program","start":0,"end":1914,"loc":{"start":{"line":1,"column":0},"end":{"line":65,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":30,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"declarations":[{"type":"VariableDeclarator","start":6,"end":30,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":30}},"id":{"type":"Identifier","start":6,"end":11,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":11}},"name":"chalk"},"init":{"type":"CallExpression","start":14,"end":30,"loc":{"start":{"line":1,"column":14},"end":{"line":1,"column":30}},"callee":{"type":"Identifier","start":14,"end":21,"loc":{"start":{"line":1,"column":14},"end":{"line":1,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":22,"end":29,"loc":{"start":{"line":1,"column":22},"end":{"line":1,"column":29}},"value":"chalk","raw":"'chalk'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":31,"end":67,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":36}},"declarations":[{"type":"VariableDeclarator","start":37,"end":67,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":36}},"id":{"type":"Identifier","start":37,"end":42,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":11}},"name":"babel"},"init":{"type":"CallExpression","start":45,"end":67,"loc":{"start":{"line":2,"column":14},"end":{"line":2,"column":36}},"callee":{"type":"Identifier","start":45,"end":52,"loc":{"start":{"line":2,"column":14},"end":{"line":2,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":53,"end":66,"loc":{"start":{"line":2,"column":22},"end":{"line":2,"column":35}},"value":"@babel/core","raw":"'@babel/core'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":68,"end":105,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"declarations":[{"type":"VariableDeclarator","start":74,"end":105,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":37}},"id":{"type":"ObjectPattern","start":74,"end":87,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":19}},"properties":[{"type":"Property","start":76,"end":85,"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":17}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":76,"end":85,"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":17}},"name":"promisify"},"kind":"init","value":{"type":"Identifier","start":76,"end":85,"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":17}},"name":"promisify"}}]},"init":{"type":"CallExpression","start":90,"end":105,"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":37}},"callee":{"type":"Identifier","start":90,"end":97,"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":29}},"name":"require"},"arguments":[{"type":"Literal","start":98,"end":104,"loc":{"start":{"line":3,"column":30},"end":{"line":3,"column":36}},"value":"util","raw":"'util'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":106,"end":145,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":39}},"declarations":[{"type":"VariableDeclarator","start":112,"end":145,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":39}},"id":{"type":"Identifier","start":112,"end":116,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":10}},"name":"glob"},"init":{"type":"CallExpression","start":119,"end":145,"loc":{"start":{"line":4,"column":13},"end":{"line":4,"column":39}},"callee":{"type":"Identifier","start":119,"end":128,"loc":{"start":{"line":4,"column":13},"end":{"line":4,"column":22}},"name":"promisify"},"arguments":[{"type":"CallExpression","start":129,"end":144,"loc":{"start":{"line":4,"column":23},"end":{"line":4,"column":38}},"callee":{"type":"Identifier","start":129,"end":136,"loc":{"start":{"line":4,"column":23},"end":{"line":4,"column":30}},"name":"require"},"arguments":[{"type":"Literal","start":137,"end":143,"loc":{"start":{"line":4,"column":31},"end":{"line":4,"column":37}},"value":"glob","raw":"'glob'"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":146,"end":189,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":43}},"declarations":[{"type":"VariableDeclarator","start":152,"end":189,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":43}},"id":{"type":"Identifier","start":152,"end":158,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":12}},"name":"mkdirp"},"init":{"type":"CallExpression","start":161,"end":189,"loc":{"start":{"line":5,"column":15},"end":{"line":5,"column":43}},"callee":{"type":"Identifier","start":161,"end":170,"loc":{"start":{"line":5,"column":15},"end":{"line":5,"column":24}},"name":"promisify"},"arguments":[{"type":"CallExpression","start":171,"end":188,"loc":{"start":{"line":5,"column":25},"end":{"line":5,"column":42}},"callee":{"type":"Identifier","start":171,"end":178,"loc":{"start":{"line":5,"column":25},"end":{"line":5,"column":32}},"name":"require"},"arguments":[{"type":"Literal","start":179,"end":187,"loc":{"start":{"line":5,"column":33},"end":{"line":5,"column":41}},"value":"mkdirp","raw":"'mkdirp'"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":190,"end":214,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"declarations":[{"type":"VariableDeclarator","start":196,"end":214,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":24}},"id":{"type":"Identifier","start":196,"end":198,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":8}},"name":"fs"},"init":{"type":"CallExpression","start":201,"end":214,"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":24}},"callee":{"type":"Identifier","start":201,"end":208,"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":18}},"name":"require"},"arguments":[{"type":"Literal","start":209,"end":213,"loc":{"start":{"line":6,"column":19},"end":{"line":6,"column":23}},"value":"fs","raw":"'fs'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":215,"end":243,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"declarations":[{"type":"VariableDeclarator","start":221,"end":243,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":28}},"id":{"type":"Identifier","start":221,"end":225,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":10}},"name":"path"},"init":{"type":"CallExpression","start":228,"end":243,"loc":{"start":{"line":7,"column":13},"end":{"line":7,"column":28}},"callee":{"type":"Identifier","start":228,"end":235,"loc":{"start":{"line":7,"column":13},"end":{"line":7,"column":20}},"name":"require"},"arguments":[{"type":"Literal","start":236,"end":242,"loc":{"start":{"line":7,"column":21},"end":{"line":7,"column":27}},"value":"path","raw":"'path'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":245,"end":297,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":52}},"declarations":[{"type":"VariableDeclarator","start":251,"end":297,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":52}},"id":{"type":"Identifier","start":251,"end":264,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":19}},"name":"transformFile"},"init":{"type":"CallExpression","start":267,"end":297,"loc":{"start":{"line":9,"column":22},"end":{"line":9,"column":52}},"callee":{"type":"Identifier","start":267,"end":276,"loc":{"start":{"line":9,"column":22},"end":{"line":9,"column":31}},"name":"promisify"},"arguments":[{"type":"MemberExpression","start":277,"end":296,"loc":{"start":{"line":9,"column":32},"end":{"line":9,"column":51}},"object":{"type":"Identifier","start":277,"end":282,"loc":{"start":{"line":9,"column":32},"end":{"line":9,"column":37}},"name":"babel"},"property":{"type":"Identifier","start":283,"end":296,"loc":{"start":{"line":9,"column":38},"end":{"line":9,"column":51}},"name":"transformFile"},"computed":false}]}}],"kind":"const"},{"type":"VariableDeclaration","start":298,"end":339,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":41}},"declarations":[{"type":"VariableDeclarator","start":304,"end":339,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":41}},"id":{"type":"Identifier","start":304,"end":313,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":15}},"name":"writeFile"},"init":{"type":"CallExpression","start":316,"end":339,"loc":{"start":{"line":10,"column":18},"end":{"line":10,"column":41}},"callee":{"type":"Identifier","start":316,"end":325,"loc":{"start":{"line":10,"column":18},"end":{"line":10,"column":27}},"name":"promisify"},"arguments":[{"type":"MemberExpression","start":326,"end":338,"loc":{"start":{"line":10,"column":28},"end":{"line":10,"column":40}},"object":{"type":"Identifier","start":326,"end":328,"loc":{"start":{"line":10,"column":28},"end":{"line":10,"column":30}},"name":"fs"},"property":{"type":"Identifier","start":329,"end":338,"loc":{"start":{"line":10,"column":31},"end":{"line":10,"column":40}},"name":"writeFile"},"computed":false}]}}],"kind":"const"},{"type":"VariableDeclaration","start":340,"end":371,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":31}},"declarations":[{"type":"VariableDeclarator","start":346,"end":371,"loc":{"start":{"line":11,"column":6},"end":{"line":11,"column":31}},"id":{"type":"Identifier","start":346,"end":350,"loc":{"start":{"line":11,"column":6},"end":{"line":11,"column":10}},"name":"stat"},"init":{"type":"CallExpression","start":353,"end":371,"loc":{"start":{"line":11,"column":13},"end":{"line":11,"column":31}},"callee":{"type":"Identifier","start":353,"end":362,"loc":{"start":{"line":11,"column":13},"end":{"line":11,"column":22}},"name":"promisify"},"arguments":[{"type":"MemberExpression","start":363,"end":370,"loc":{"start":{"line":11,"column":23},"end":{"line":11,"column":30}},"object":{"type":"Identifier","start":363,"end":365,"loc":{"start":{"line":11,"column":23},"end":{"line":11,"column":25}},"name":"fs"},"property":{"type":"Identifier","start":366,"end":370,"loc":{"start":{"line":11,"column":26},"end":{"line":11,"column":30}},"name":"stat"},"computed":false}]}}],"kind":"const"},{"type":"VariableDeclaration","start":373,"end":422,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":49}},"declarations":[{"type":"VariableDeclarator","start":379,"end":422,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":49}},"id":{"type":"Identifier","start":379,"end":385,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":12}},"name":"SOURCE"},"init":{"type":"Literal","start":388,"end":422,"loc":{"start":{"line":13,"column":15},"end":{"line":13,"column":49}},"value":"packages/{*,@uppy/*}/src/**/*.js","raw":"'packages/{*,@uppy/*}/src/**/*.js'"}}],"kind":"const"},{"type":"VariableDeclaration","start":461,"end":511,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":50}},"declarations":[{"type":"VariableDeclarator","start":467,"end":511,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":50}},"id":{"type":"Identifier","start":467,"end":473,"loc":{"start":{"line":15,"column":6},"end":{"line":15,"column":12}},"name":"IGNORE"},"init":{"type":"Literal","start":476,"end":511,"loc":{"start":{"line":15,"column":15},"end":{"line":15,"column":50}},"value":{},"raw":"/\\.test\\.js$|__mocks__|companion\\//","regex":{"pattern":"\\.test\\.js$|__mocks__|companion\\/","flags":""}}}],"kind":"const","comments":[{"type":"Line","value":" Files not to build (such as tests)","start":423,"end":460,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":37}}}]},{"type":"VariableDeclaration","start":575,"end":680,"loc":{"start":{"line":17,"column":0},"end":{"line":22,"column":1}},"declarations":[{"type":"VariableDeclarator","start":581,"end":680,"loc":{"start":{"line":17,"column":6},"end":{"line":22,"column":1}},"id":{"type":"Identifier","start":581,"end":591,"loc":{"start":{"line":17,"column":6},"end":{"line":17,"column":16}},"name":"META_FILES"},"init":{"type":"ArrayExpression","start":594,"end":680,"loc":{"start":{"line":17,"column":19},"end":{"line":22,"column":1}},"elements":[{"type":"Literal","start":598,"end":615,"loc":{"start":{"line":18,"column":2},"end":{"line":18,"column":19}},"value":"babel.config.js","raw":"'babel.config.js'"},{"type":"Literal","start":619,"end":633,"loc":{"start":{"line":19,"column":2},"end":{"line":19,"column":16}},"value":"package.json","raw":"'package.json'"},{"type":"Literal","start":637,"end":656,"loc":{"start":{"line":20,"column":2},"end":{"line":20,"column":21}},"value":"package-lock.json","raw":"'package-lock.json'"},{"type":"Literal","start":660,"end":678,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":20}},"value":"bin/build-lib.js","raw":"'bin/build-lib.js'"}]}}],"kind":"const","comments":[{"type":"Line","value":" Files that should trigger a rebuild of everything on change","start":512,"end":574,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":62}}}]},{"type":"FunctionDeclaration","start":682,"end":755,"loc":{"start":{"line":24,"column":0},"end":{"line":26,"column":1}},"id":{"type":"Identifier","start":691,"end":703,"loc":{"start":{"line":24,"column":9},"end":{"line":24,"column":21}},"name":"lastModified"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":705,"end":709,"loc":{"start":{"line":24,"column":23},"end":{"line":24,"column":27}},"name":"file"}],"body":{"type":"BlockStatement","start":711,"end":755,"loc":{"start":{"line":24,"column":29},"end":{"line":26,"column":1}},"body":[{"type":"ReturnStatement","start":715,"end":753,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":40}},"argument":{"type":"CallExpression","start":722,"end":753,"loc":{"start":{"line":25,"column":9},"end":{"line":25,"column":40}},"callee":{"type":"MemberExpression","start":722,"end":737,"loc":{"start":{"line":25,"column":9},"end":{"line":25,"column":24}},"object":{"type":"CallExpression","start":722,"end":732,"loc":{"start":{"line":25,"column":9},"end":{"line":25,"column":19}},"callee":{"type":"Identifier","start":722,"end":726,"loc":{"start":{"line":25,"column":9},"end":{"line":25,"column":13}},"name":"stat"},"arguments":[{"type":"Identifier","start":727,"end":731,"loc":{"start":{"line":25,"column":14},"end":{"line":25,"column":18}},"name":"file"}]},"property":{"type":"Identifier","start":733,"end":737,"loc":{"start":{"line":25,"column":20},"end":{"line":25,"column":24}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":738,"end":752,"loc":{"start":{"line":25,"column":25},"end":{"line":25,"column":39}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":739,"end":740,"loc":{"start":{"line":25,"column":26},"end":{"line":25,"column":27}},"name":"s"}],"body":{"type":"MemberExpression","start":745,"end":752,"loc":{"start":{"line":25,"column":32},"end":{"line":25,"column":39}},"object":{"type":"Identifier","start":745,"end":746,"loc":{"start":{"line":25,"column":32},"end":{"line":25,"column":33}},"name":"s"},"property":{"type":"Identifier","start":747,"end":752,"loc":{"start":{"line":25,"column":34},"end":{"line":25,"column":39}},"name":"mtime"},"computed":false}}]}}]}},{"type":"FunctionDeclaration","start":757,"end":1755,"loc":{"start":{"line":28,"column":0},"end":{"line":58,"column":1}},"id":{"type":"Identifier","start":772,"end":780,"loc":{"start":{"line":28,"column":15},"end":{"line":28,"column":23}},"name":"buildLib"},"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":784,"end":1755,"loc":{"start":{"line":28,"column":27},"end":{"line":58,"column":1}},"body":[{"type":"VariableDeclaration","start":788,"end":913,"loc":{"start":{"line":29,"column":2},"end":{"line":31,"column":4}},"declarations":[{"type":"VariableDeclarator","start":794,"end":913,"loc":{"start":{"line":29,"column":8},"end":{"line":31,"column":4}},"id":{"type":"Identifier","start":794,"end":804,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":18}},"name":"metaMtimes"},"init":{"type":"AwaitExpression","start":807,"end":913,"loc":{"start":{"line":29,"column":21},"end":{"line":31,"column":4}},"argument":{"type":"CallExpression","start":813,"end":913,"loc":{"start":{"line":29,"column":27},"end":{"line":31,"column":4}},"callee":{"type":"MemberExpression","start":813,"end":824,"loc":{"start":{"line":29,"column":27},"end":{"line":29,"column":38}},"object":{"type":"Identifier","start":813,"end":820,"loc":{"start":{"line":29,"column":27},"end":{"line":29,"column":34}},"name":"Promise"},"property":{"type":"Identifier","start":821,"end":824,"loc":{"start":{"line":29,"column":35},"end":{"line":29,"column":38}},"name":"all"},"computed":false},"arguments":[{"type":"CallExpression","start":825,"end":912,"loc":{"start":{"line":29,"column":39},"end":{"line":31,"column":3}},"callee":{"type":"MemberExpression","start":825,"end":839,"loc":{"start":{"line":29,"column":39},"end":{"line":29,"column":53}},"object":{"type":"Identifier","start":825,"end":835,"loc":{"start":{"line":29,"column":39},"end":{"line":29,"column":49}},"name":"META_FILES"},"property":{"type":"Identifier","start":836,"end":839,"loc":{"start":{"line":29,"column":50},"end":{"line":29,"column":53}},"name":"map"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":840,"end":908,"loc":{"start":{"line":29,"column":54},"end":{"line":30,"column":54}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":841,"end":849,"loc":{"start":{"line":29,"column":55},"end":{"line":29,"column":63}},"name":"filename"}],"body":{"type":"CallExpression","start":858,"end":908,"loc":{"start":{"line":30,"column":4},"end":{"line":30,"column":54}},"callee":{"type":"Identifier","start":858,"end":870,"loc":{"start":{"line":30,"column":4},"end":{"line":30,"column":16}},"name":"lastModified"},"arguments":[{"type":"CallExpression","start":871,"end":907,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":53}},"callee":{"type":"MemberExpression","start":871,"end":880,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":26}},"object":{"type":"Identifier","start":871,"end":875,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":21}},"name":"path"},"property":{"type":"Identifier","start":876,"end":880,"loc":{"start":{"line":30,"column":22},"end":{"line":30,"column":26}},"name":"join"},"computed":false},"arguments":[{"type":"Identifier","start":881,"end":890,"loc":{"start":{"line":30,"column":27},"end":{"line":30,"column":36}},"name":"__dirname"},{"type":"Literal","start":892,"end":896,"loc":{"start":{"line":30,"column":38},"end":{"line":30,"column":42}},"value":"..","raw":"'..'"},{"type":"Identifier","start":898,"end":906,"loc":{"start":{"line":30,"column":44},"end":{"line":30,"column":52}},"name":"filename"}]}]}}]}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":916,"end":957,"loc":{"start":{"line":32,"column":2},"end":{"line":32,"column":43}},"declarations":[{"type":"VariableDeclarator","start":922,"end":957,"loc":{"start":{"line":32,"column":8},"end":{"line":32,"column":43}},"id":{"type":"Identifier","start":922,"end":931,"loc":{"start":{"line":32,"column":8},"end":{"line":32,"column":17}},"name":"metaMtime"},"init":{"type":"CallExpression","start":934,"end":957,"loc":{"start":{"line":32,"column":20},"end":{"line":32,"column":43}},"callee":{"type":"MemberExpression","start":934,"end":942,"loc":{"start":{"line":32,"column":20},"end":{"line":32,"column":28}},"object":{"type":"Identifier","start":934,"end":938,"loc":{"start":{"line":32,"column":20},"end":{"line":32,"column":24}},"name":"Math"},"property":{"type":"Identifier","start":939,"end":942,"loc":{"start":{"line":32,"column":25},"end":{"line":32,"column":28}},"name":"max"},"computed":false},"arguments":[{"type":"SpreadElement","start":943,"end":956,"loc":{"start":{"line":32,"column":29},"end":{"line":32,"column":42}},"argument":{"type":"Identifier","start":946,"end":956,"loc":{"start":{"line":32,"column":32},"end":{"line":32,"column":42}},"name":"metaMtimes"}}]}}],"kind":"const"},{"type":"VariableDeclaration","start":961,"end":993,"loc":{"start":{"line":34,"column":2},"end":{"line":34,"column":34}},"declarations":[{"type":"VariableDeclarator","start":967,"end":993,"loc":{"start":{"line":34,"column":8},"end":{"line":34,"column":34}},"id":{"type":"Identifier","start":967,"end":972,"loc":{"start":{"line":34,"column":8},"end":{"line":34,"column":13}},"name":"files"},"init":{"type":"AwaitExpression","start":975,"end":993,"loc":{"start":{"line":34,"column":16},"end":{"line":34,"column":34}},"argument":{"type":"CallExpression","start":981,"end":993,"loc":{"start":{"line":34,"column":22},"end":{"line":34,"column":34}},"callee":{"type":"Identifier","start":981,"end":985,"loc":{"start":{"line":34,"column":22},"end":{"line":34,"column":26}},"name":"glob"},"arguments":[{"type":"Identifier","start":986,"end":992,"loc":{"start":{"line":34,"column":27},"end":{"line":34,"column":33}},"name":"SOURCE"}]}}}],"kind":"const"},{"type":"ForOfStatement","start":996,"end":1753,"loc":{"start":{"line":35,"column":2},"end":{"line":57,"column":3}},"await":false,"left":{"type":"VariableDeclaration","start":1001,"end":1011,"loc":{"start":{"line":35,"column":7},"end":{"line":35,"column":17}},"declarations":[{"type":"VariableDeclarator","start":1007,"end":1011,"loc":{"start":{"line":35,"column":13},"end":{"line":35,"column":17}},"id":{"type":"Identifier","start":1007,"end":1011,"loc":{"start":{"line":35,"column":13},"end":{"line":35,"column":17}},"name":"file"},"init":null}],"kind":"const"},"right":{"type":"Identifier","start":1015,"end":1020,"loc":{"start":{"line":35,"column":21},"end":{"line":35,"column":26}},"name":"files"},"body":{"type":"BlockStatement","start":1022,"end":1753,"loc":{"start":{"line":35,"column":28},"end":{"line":57,"column":3}},"body":[{"type":"IfStatement","start":1028,"end":1059,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":35}},"test":{"type":"CallExpression","start":1032,"end":1049,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":25}},"callee":{"type":"MemberExpression","start":1032,"end":1043,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":19}},"object":{"type":"Identifier","start":1032,"end":1038,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":14}},"name":"IGNORE"},"property":{"type":"Identifier","start":1039,"end":1043,"loc":{"start":{"line":36,"column":15},"end":{"line":36,"column":19}},"name":"test"},"computed":false},"arguments":[{"type":"Identifier","start":1044,"end":1048,"loc":{"start":{"line":36,"column":20},"end":{"line":36,"column":24}},"name":"file"}]},"consequent":{"type":"ContinueStatement","start":1051,"end":1059,"loc":{"start":{"line":36,"column":27},"end":{"line":36,"column":35}},"label":null},"alternate":null},{"type":"VariableDeclaration","start":1064,"end":1110,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":50}},"declarations":[{"type":"VariableDeclarator","start":1070,"end":1110,"loc":{"start":{"line":37,"column":10},"end":{"line":37,"column":50}},"id":{"type":"Identifier","start":1070,"end":1077,"loc":{"start":{"line":37,"column":10},"end":{"line":37,"column":17}},"name":"libFile"},"init":{"type":"CallExpression","start":1080,"end":1110,"loc":{"start":{"line":37,"column":20},"end":{"line":37,"column":50}},"callee":{"type":"MemberExpression","start":1080,"end":1092,"loc":{"start":{"line":37,"column":20},"end":{"line":37,"column":32}},"object":{"type":"Identifier","start":1080,"end":1084,"loc":{"start":{"line":37,"column":20},"end":{"line":37,"column":24}},"name":"file"},"property":{"type":"Identifier","start":1085,"end":1092,"loc":{"start":{"line":37,"column":25},"end":{"line":37,"column":32}},"name":"replace"},"computed":false},"arguments":[{"type":"Literal","start":1093,"end":1100,"loc":{"start":{"line":37,"column":33},"end":{"line":37,"column":40}},"value":"/src/","raw":"'/src/'"},{"type":"Literal","start":1102,"end":1109,"loc":{"start":{"line":37,"column":42},"end":{"line":37,"column":49}},"value":"/lib/","raw":"'/lib/'"}]}}],"kind":"const"},{"type":"IfStatement","start":1161,"end":1464,"loc":{"start":{"line":40,"column":4},"end":{"line":48,"column":5}},"test":{"type":"UnaryExpression","start":1165,"end":1183,"loc":{"start":{"line":40,"column":8},"end":{"line":40,"column":26}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1166,"end":1183,"loc":{"start":{"line":40,"column":9},"end":{"line":40,"column":26}},"object":{"type":"MemberExpression","start":1166,"end":1177,"loc":{"start":{"line":40,"column":9},"end":{"line":40,"column":20}},"object":{"type":"Identifier","start":1166,"end":1173,"loc":{"start":{"line":40,"column":9},"end":{"line":40,"column":16}},"name":"process"},"property":{"type":"Identifier","start":1174,"end":1177,"loc":{"start":{"line":40,"column":17},"end":{"line":40,"column":20}},"name":"env"},"computed":false},"property":{"type":"Identifier","start":1178,"end":1183,"loc":{"start":{"line":40,"column":21},"end":{"line":40,"column":26}},"name":"FRESH"},"computed":false}},"consequent":{"type":"BlockStatement","start":1185,"end":1464,"loc":{"start":{"line":40,"column":28},"end":{"line":48,"column":5}},"body":[{"type":"VariableDeclaration","start":1193,"end":1234,"loc":{"start":{"line":41,"column":6},"end":{"line":41,"column":47}},"declarations":[{"type":"VariableDeclarator","start":1199,"end":1234,"loc":{"start":{"line":41,"column":12},"end":{"line":41,"column":47}},"id":{"type":"Identifier","start":1199,"end":1207,"loc":{"start":{"line":41,"column":12},"end":{"line":41,"column":20}},"name":"srcMtime"},"init":{"type":"AwaitExpression","start":1210,"end":1234,"loc":{"start":{"line":41,"column":23},"end":{"line":41,"column":47}},"argument":{"type":"CallExpression","start":1216,"end":1234,"loc":{"start":{"line":41,"column":29},"end":{"line":41,"column":47}},"callee":{"type":"Identifier","start":1216,"end":1228,"loc":{"start":{"line":41,"column":29},"end":{"line":41,"column":41}},"name":"lastModified"},"arguments":[{"type":"Identifier","start":1229,"end":1233,"loc":{"start":{"line":41,"column":42},"end":{"line":41,"column":46}},"name":"file"}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":1241,"end":1309,"loc":{"start":{"line":42,"column":6},"end":{"line":43,"column":23}},"declarations":[{"type":"VariableDeclarator","start":1247,"end":1309,"loc":{"start":{"line":42,"column":12},"end":{"line":43,"column":23}},"id":{"type":"Identifier","start":1247,"end":1255,"loc":{"start":{"line":42,"column":12},"end":{"line":42,"column":20}},"name":"libMtime"},"init":{"type":"AwaitExpression","start":1258,"end":1309,"loc":{"start":{"line":42,"column":23},"end":{"line":43,"column":23}},"argument":{"type":"CallExpression","start":1264,"end":1309,"loc":{"start":{"line":42,"column":29},"end":{"line":43,"column":23}},"callee":{"type":"MemberExpression","start":1264,"end":1300,"loc":{"start":{"line":42,"column":29},"end":{"line":43,"column":14}},"object":{"type":"CallExpression","start":1264,"end":1285,"loc":{"start":{"line":42,"column":29},"end":{"line":42,"column":50}},"callee":{"type":"Identifier","start":1264,"end":1276,"loc":{"start":{"line":42,"column":29},"end":{"line":42,"column":41}},"name":"lastModified"},"arguments":[{"type":"Identifier","start":1277,"end":1284,"loc":{"start":{"line":42,"column":42},"end":{"line":42,"column":49}},"name":"libFile"}]},"property":{"type":"Identifier","start":1295,"end":1300,"loc":{"start":{"line":43,"column":9},"end":{"line":43,"column":14}},"name":"catch"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1301,"end":1308,"loc":{"start":{"line":43,"column":15},"end":{"line":43,"column":22}},"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"Literal","start":1307,"end":1308,"loc":{"start":{"line":43,"column":21},"end":{"line":43,"column":22}},"value":0,"raw":"0"}}]}}}],"kind":"const","comments":[{"type":"Line","value":" probably doesn't exist","start":1310,"end":1335,"loc":{"start":{"line":43,"column":24},"end":{"line":43,"column":49}}}]},{"type":"IfStatement","start":1383,"end":1458,"loc":{"start":{"line":45,"column":6},"end":{"line":47,"column":7}},"test":{"type":"LogicalExpression","start":1387,"end":1430,"loc":{"start":{"line":45,"column":10},"end":{"line":45,"column":53}},"left":{"type":"BinaryExpression","start":1387,"end":1406,"loc":{"start":{"line":45,"column":10},"end":{"line":45,"column":29}},"left":{"type":"Identifier","start":1387,"end":1395,"loc":{"start":{"line":45,"column":10},"end":{"line":45,"column":18}},"name":"srcMtime"},"operator":"<","right":{"type":"Identifier","start":1398,"end":1406,"loc":{"start":{"line":45,"column":21},"end":{"line":45,"column":29}},"name":"libMtime"}},"operator":"&&","right":{"type":"BinaryExpression","start":1410,"end":1430,"loc":{"start":{"line":45,"column":33},"end":{"line":45,"column":53}},"left":{"type":"Identifier","start":1410,"end":1419,"loc":{"start":{"line":45,"column":33},"end":{"line":45,"column":42}},"name":"metaMtime"},"operator":"<","right":{"type":"Identifier","start":1422,"end":1430,"loc":{"start":{"line":45,"column":45},"end":{"line":45,"column":53}},"name":"libMtime"}}},"consequent":{"type":"BlockStatement","start":1432,"end":1458,"loc":{"start":{"line":45,"column":55},"end":{"line":47,"column":7}},"body":[{"type":"ContinueStatement","start":1442,"end":1450,"loc":{"start":{"line":46,"column":8},"end":{"line":46,"column":16}},"label":null}]},"alternate":null,"comments":[{"type":"Line","value":" Skip files that haven't changed","start":1342,"end":1376,"loc":{"start":{"line":44,"column":6},"end":{"line":44,"column":40}}}]}]},"alternate":null,"comments":[{"type":"Line","value":" on a fresh build, rebuild everything.","start":1116,"end":1156,"loc":{"start":{"line":39,"column":4},"end":{"line":39,"column":44}}}]},{"type":"VariableDeclaration","start":1470,"end":1521,"loc":{"start":{"line":50,"column":4},"end":{"line":50,"column":55}},"declarations":[{"type":"VariableDeclarator","start":1476,"end":1521,"loc":{"start":{"line":50,"column":10},"end":{"line":50,"column":55}},"id":{"type":"ObjectPattern","start":1476,"end":1489,"loc":{"start":{"line":50,"column":10},"end":{"line":50,"column":23}},"properties":[{"type":"Property","start":1478,"end":1482,"loc":{"start":{"line":50,"column":12},"end":{"line":50,"column":16}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1478,"end":1482,"loc":{"start":{"line":50,"column":12},"end":{"line":50,"column":16}},"name":"code"},"kind":"init","value":{"type":"Identifier","start":1478,"end":1482,"loc":{"start":{"line":50,"column":12},"end":{"line":50,"column":16}},"name":"code"}},{"type":"Property","start":1484,"end":1487,"loc":{"start":{"line":50,"column":18},"end":{"line":50,"column":21}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1484,"end":1487,"loc":{"start":{"line":50,"column":18},"end":{"line":50,"column":21}},"name":"map"},"kind":"init","value":{"type":"Identifier","start":1484,"end":1487,"loc":{"start":{"line":50,"column":18},"end":{"line":50,"column":21}},"name":"map"}}]},"init":{"type":"AwaitExpression","start":1492,"end":1521,"loc":{"start":{"line":50,"column":26},"end":{"line":50,"column":55}},"argument":{"type":"CallExpression","start":1498,"end":1521,"loc":{"start":{"line":50,"column":32},"end":{"line":50,"column":55}},"callee":{"type":"Identifier","start":1498,"end":1511,"loc":{"start":{"line":50,"column":32},"end":{"line":50,"column":45}},"name":"transformFile"},"arguments":[{"type":"Identifier","start":1512,"end":1516,"loc":{"start":{"line":50,"column":46},"end":{"line":50,"column":50}},"name":"file"},{"type":"ObjectExpression","start":1518,"end":1520,"loc":{"start":{"line":50,"column":52},"end":{"line":50,"column":54}},"properties":[]}]}}}],"kind":"const"},{"type":"ExpressionStatement","start":1526,"end":1561,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":39}},"expression":{"type":"AwaitExpression","start":1526,"end":1561,"loc":{"start":{"line":51,"column":4},"end":{"line":51,"column":39}},"argument":{"type":"CallExpression","start":1532,"end":1561,"loc":{"start":{"line":51,"column":10},"end":{"line":51,"column":39}},"callee":{"type":"Identifier","start":1532,"end":1538,"loc":{"start":{"line":51,"column":10},"end":{"line":51,"column":16}},"name":"mkdirp"},"arguments":[{"type":"CallExpression","start":1539,"end":1560,"loc":{"start":{"line":51,"column":17},"end":{"line":51,"column":38}},"callee":{"type":"MemberExpression","start":1539,"end":1551,"loc":{"start":{"line":51,"column":17},"end":{"line":51,"column":29}},"object":{"type":"Identifier","start":1539,"end":1543,"loc":{"start":{"line":51,"column":17},"end":{"line":51,"column":21}},"name":"path"},"property":{"type":"Identifier","start":1544,"end":1551,"loc":{"start":{"line":51,"column":22},"end":{"line":51,"column":29}},"name":"dirname"},"computed":false},"arguments":[{"type":"Identifier","start":1552,"end":1559,"loc":{"start":{"line":51,"column":30},"end":{"line":51,"column":37}},"name":"libFile"}]}]}}},{"type":"ExpressionStatement","start":1566,"end":1679,"loc":{"start":{"line":52,"column":4},"end":{"line":55,"column":6}},"expression":{"type":"AwaitExpression","start":1566,"end":1679,"loc":{"start":{"line":52,"column":4},"end":{"line":55,"column":6}},"argument":{"type":"CallExpression","start":1572,"end":1679,"loc":{"start":{"line":52,"column":10},"end":{"line":55,"column":6}},"callee":{"type":"MemberExpression","start":1572,"end":1583,"loc":{"start":{"line":52,"column":10},"end":{"line":52,"column":21}},"object":{"type":"Identifier","start":1572,"end":1579,"loc":{"start":{"line":52,"column":10},"end":{"line":52,"column":17}},"name":"Promise"},"property":{"type":"Identifier","start":1580,"end":1583,"loc":{"start":{"line":52,"column":18},"end":{"line":52,"column":21}},"name":"all"},"computed":false},"arguments":[{"type":"ArrayExpression","start":1584,"end":1678,"loc":{"start":{"line":52,"column":22},"end":{"line":55,"column":5}},"elements":[{"type":"CallExpression","start":1592,"end":1616,"loc":{"start":{"line":53,"column":6},"end":{"line":53,"column":30}},"callee":{"type":"Identifier","start":1592,"end":1601,"loc":{"start":{"line":53,"column":6},"end":{"line":53,"column":15}},"name":"writeFile"},"arguments":[{"type":"Identifier","start":1602,"end":1609,"loc":{"start":{"line":53,"column":16},"end":{"line":53,"column":23}},"name":"libFile"},{"type":"Identifier","start":1611,"end":1615,"loc":{"start":{"line":53,"column":25},"end":{"line":53,"column":29}},"name":"code"}]},{"type":"CallExpression","start":1624,"end":1672,"loc":{"start":{"line":54,"column":6},"end":{"line":54,"column":54}},"callee":{"type":"Identifier","start":1624,"end":1633,"loc":{"start":{"line":54,"column":6},"end":{"line":54,"column":15}},"name":"writeFile"},"arguments":[{"type":"BinaryExpression","start":1634,"end":1650,"loc":{"start":{"line":54,"column":16},"end":{"line":54,"column":32}},"left":{"type":"Identifier","start":1634,"end":1641,"loc":{"start":{"line":54,"column":16},"end":{"line":54,"column":23}},"name":"libFile"},"operator":"+","right":{"type":"Literal","start":1644,"end":1650,"loc":{"start":{"line":54,"column":26},"end":{"line":54,"column":32}},"value":".map","raw":"'.map'"}},{"type":"CallExpression","start":1652,"end":1671,"loc":{"start":{"line":54,"column":34},"end":{"line":54,"column":53}},"callee":{"type":"MemberExpression","start":1652,"end":1666,"loc":{"start":{"line":54,"column":34},"end":{"line":54,"column":48}},"object":{"type":"Identifier","start":1652,"end":1656,"loc":{"start":{"line":54,"column":34},"end":{"line":54,"column":38}},"name":"JSON"},"property":{"type":"Identifier","start":1657,"end":1666,"loc":{"start":{"line":54,"column":39},"end":{"line":54,"column":48}},"name":"stringify"},"computed":false},"arguments":[{"type":"Identifier","start":1667,"end":1670,"loc":{"start":{"line":54,"column":49},"end":{"line":54,"column":52}},"name":"map"}]}]}]}]}}},{"type":"ExpressionStatement","start":1684,"end":1749,"loc":{"start":{"line":56,"column":4},"end":{"line":56,"column":69}},"expression":{"type":"CallExpression","start":1684,"end":1749,"loc":{"start":{"line":56,"column":4},"end":{"line":56,"column":69}},"callee":{"type":"MemberExpression","start":1684,"end":1695,"loc":{"start":{"line":56,"column":4},"end":{"line":56,"column":15}},"object":{"type":"Identifier","start":1684,"end":1691,"loc":{"start":{"line":56,"column":4},"end":{"line":56,"column":11}},"name":"console"},"property":{"type":"Identifier","start":1692,"end":1695,"loc":{"start":{"line":56,"column":12},"end":{"line":56,"column":15}},"name":"log"},"computed":false},"arguments":[{"type":"CallExpression","start":1696,"end":1724,"loc":{"start":{"line":56,"column":16},"end":{"line":56,"column":44}},"callee":{"type":"MemberExpression","start":1696,"end":1707,"loc":{"start":{"line":56,"column":16},"end":{"line":56,"column":27}},"object":{"type":"Identifier","start":1696,"end":1701,"loc":{"start":{"line":56,"column":16},"end":{"line":56,"column":21}},"name":"chalk"},"property":{"type":"Identifier","start":1702,"end":1707,"loc":{"start":{"line":56,"column":22},"end":{"line":56,"column":27}},"name":"green"},"computed":false},"arguments":[{"type":"Literal","start":1708,"end":1723,"loc":{"start":{"line":56,"column":28},"end":{"line":56,"column":43}},"value":"Compiled lib:","raw":"'Compiled lib:'"}]},{"type":"CallExpression","start":1726,"end":1748,"loc":{"start":{"line":56,"column":46},"end":{"line":56,"column":68}},"callee":{"type":"MemberExpression","start":1726,"end":1739,"loc":{"start":{"line":56,"column":46},"end":{"line":56,"column":59}},"object":{"type":"Identifier","start":1726,"end":1731,"loc":{"start":{"line":56,"column":46},"end":{"line":56,"column":51}},"name":"chalk"},"property":{"type":"Identifier","start":1732,"end":1739,"loc":{"start":{"line":56,"column":52},"end":{"line":56,"column":59}},"name":"magenta"},"computed":false},"arguments":[{"type":"Identifier","start":1740,"end":1747,"loc":{"start":{"line":56,"column":60},"end":{"line":56,"column":67}},"name":"libFile"}]}]}}]}}]}},{"type":"ExpressionStatement","start":1757,"end":1837,"loc":{"start":{"line":60,"column":0},"end":{"line":60,"column":80}},"expression":{"type":"CallExpression","start":1757,"end":1837,"loc":{"start":{"line":60,"column":0},"end":{"line":60,"column":80}},"callee":{"type":"MemberExpression","start":1757,"end":1768,"loc":{"start":{"line":60,"column":0},"end":{"line":60,"column":11}},"object":{"type":"Identifier","start":1757,"end":1764,"loc":{"start":{"line":60,"column":0},"end":{"line":60,"column":7}},"name":"console"},"property":{"type":"Identifier","start":1765,"end":1768,"loc":{"start":{"line":60,"column":8},"end":{"line":60,"column":11}},"name":"log"},"computed":false},"arguments":[{"type":"Literal","start":1769,"end":1791,"loc":{"start":{"line":60,"column":12},"end":{"line":60,"column":34}},"value":"Using Babel version:","raw":"'Using Babel version:'"},{"type":"MemberExpression","start":1793,"end":1836,"loc":{"start":{"line":60,"column":36},"end":{"line":60,"column":79}},"object":{"type":"CallExpression","start":1793,"end":1828,"loc":{"start":{"line":60,"column":36},"end":{"line":60,"column":71}},"callee":{"type":"Identifier","start":1793,"end":1800,"loc":{"start":{"line":60,"column":36},"end":{"line":60,"column":43}},"name":"require"},"arguments":[{"type":"Literal","start":1801,"end":1827,"loc":{"start":{"line":60,"column":44},"end":{"line":60,"column":70}},"value":"@babel/core/package.json","raw":"'@babel/core/package.json'"}]},"property":{"type":"Identifier","start":1829,"end":1836,"loc":{"start":{"line":60,"column":72},"end":{"line":60,"column":79}},"name":"version"},"computed":false}]}},{"type":"ExpressionStatement","start":1838,"end":1913,"loc":{"start":{"line":61,"column":0},"end":{"line":64,"column":2}},"expression":{"type":"CallExpression","start":1838,"end":1913,"loc":{"start":{"line":61,"column":0},"end":{"line":64,"column":2}},"callee":{"type":"MemberExpression","start":1838,"end":1854,"loc":{"start":{"line":61,"column":0},"end":{"line":61,"column":16}},"object":{"type":"CallExpression","start":1838,"end":1848,"loc":{"start":{"line":61,"column":0},"end":{"line":61,"column":10}},"callee":{"type":"Identifier","start":1838,"end":1846,"loc":{"start":{"line":61,"column":0},"end":{"line":61,"column":8}},"name":"buildLib"},"arguments":[]},"property":{"type":"Identifier","start":1849,"end":1854,"loc":{"start":{"line":61,"column":11},"end":{"line":61,"column":16}},"name":"catch"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1855,"end":1912,"loc":{"start":{"line":61,"column":17},"end":{"line":64,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1856,"end":1859,"loc":{"start":{"line":61,"column":18},"end":{"line":61,"column":21}},"name":"err"}],"body":{"type":"BlockStatement","start":1864,"end":1912,"loc":{"start":{"line":61,"column":26},"end":{"line":64,"column":1}},"body":[{"type":"ExpressionStatement","start":1868,"end":1892,"loc":{"start":{"line":62,"column":2},"end":{"line":62,"column":26}},"expression":{"type":"CallExpression","start":1868,"end":1892,"loc":{"start":{"line":62,"column":2},"end":{"line":62,"column":26}},"callee":{"type":"MemberExpression","start":1868,"end":1881,"loc":{"start":{"line":62,"column":2},"end":{"line":62,"column":15}},"object":{"type":"Identifier","start":1868,"end":1875,"loc":{"start":{"line":62,"column":2},"end":{"line":62,"column":9}},"name":"console"},"property":{"type":"Identifier","start":1876,"end":1881,"loc":{"start":{"line":62,"column":10},"end":{"line":62,"column":15}},"name":"error"},"computed":false},"arguments":[{"type":"MemberExpression","start":1882,"end":1891,"loc":{"start":{"line":62,"column":16},"end":{"line":62,"column":25}},"object":{"type":"Identifier","start":1882,"end":1885,"loc":{"start":{"line":62,"column":16},"end":{"line":62,"column":19}},"name":"err"},"property":{"type":"Identifier","start":1886,"end":1891,"loc":{"start":{"line":62,"column":20},"end":{"line":62,"column":25}},"name":"stack"},"computed":false}]}},{"type":"ExpressionStatement","start":1895,"end":1910,"loc":{"start":{"line":63,"column":2},"end":{"line":63,"column":17}},"expression":{"type":"CallExpression","start":1895,"end":1910,"loc":{"start":{"line":63,"column":2},"end":{"line":63,"column":17}},"callee":{"type":"MemberExpression","start":1895,"end":1907,"loc":{"start":{"line":63,"column":2},"end":{"line":63,"column":14}},"object":{"type":"Identifier","start":1895,"end":1902,"loc":{"start":{"line":63,"column":2},"end":{"line":63,"column":9}},"name":"process"},"property":{"type":"Identifier","start":1903,"end":1907,"loc":{"start":{"line":63,"column":10},"end":{"line":63,"column":14}},"name":"exit"},"computed":false},"arguments":[{"type":"Literal","start":1908,"end":1909,"loc":{"start":{"line":63,"column":15},"end":{"line":63,"column":16}},"value":1,"raw":"1"}]}}]}}]}}],"sourceType":"script"}