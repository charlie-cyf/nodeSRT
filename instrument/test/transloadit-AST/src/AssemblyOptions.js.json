{"type":"File","start":0,"end":3550,"loc":{"start":{"line":1,"column":0},"end":{"line":138,"column":0}},"errors":[],"program":{"type":"Program","start":0,"end":3550,"loc":{"start":{"line":1,"column":0},"end":{"line":138,"column":0}},"sourceType":"module","interpreter":null,"body":[{"type":"FunctionDeclaration","start":87,"end":722,"loc":{"start":{"line":4,"column":0},"end":{"line":24,"column":1}},"id":{"type":"Identifier","start":96,"end":110,"loc":{"start":{"line":4,"column":9},"end":{"line":4,"column":23},"identifierName":"validateParams"},"name":"validateParams"},"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":112,"end":118,"loc":{"start":{"line":4,"column":25},"end":{"line":4,"column":31},"identifierName":"params"},"name":"params"}],"body":{"type":"BlockStatement","start":120,"end":722,"loc":{"start":{"line":4,"column":33},"end":{"line":24,"column":1}},"body":[{"type":"IfStatement","start":124,"end":211,"loc":{"start":{"line":5,"column":2},"end":{"line":7,"column":3}},"test":{"type":"UnaryExpression","start":128,"end":135,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":13}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":129,"end":135,"loc":{"start":{"line":5,"column":7},"end":{"line":5,"column":13},"identifierName":"params"},"name":"params"}},"consequent":{"type":"BlockStatement","start":137,"end":211,"loc":{"start":{"line":5,"column":15},"end":{"line":7,"column":3}},"body":[{"type":"ThrowStatement","start":143,"end":207,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":68}},"argument":{"type":"NewExpression","start":149,"end":207,"loc":{"start":{"line":6,"column":10},"end":{"line":6,"column":68}},"callee":{"type":"Identifier","start":153,"end":158,"loc":{"start":{"line":6,"column":14},"end":{"line":6,"column":19},"identifierName":"Error"},"name":"Error"},"typeArguments":null,"arguments":[{"type":"Literal","start":159,"end":206,"loc":{"start":{"line":6,"column":20},"end":{"line":6,"column":67}},"value":"Transloadit: The `params` option is required.","raw":"'Transloadit: The `params` option is required.'"}]}}]},"alternate":null},{"type":"IfStatement","start":215,"end":497,"loc":{"start":{"line":9,"column":2},"end":{"line":18,"column":3}},"test":{"type":"BinaryExpression","start":219,"end":245,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":32}},"left":{"type":"UnaryExpression","start":219,"end":232,"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":19}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":226,"end":232,"loc":{"start":{"line":9,"column":13},"end":{"line":9,"column":19},"identifierName":"params"},"name":"params"}},"operator":"===","right":{"type":"Literal","start":237,"end":245,"loc":{"start":{"line":9,"column":24},"end":{"line":9,"column":32}},"value":"string","raw":"'string'"}},"consequent":{"type":"BlockStatement","start":247,"end":497,"loc":{"start":{"line":9,"column":34},"end":{"line":18,"column":3}},"body":[{"type":"TryStatement","start":253,"end":493,"loc":{"start":{"line":10,"column":4},"end":{"line":17,"column":5}},"block":{"type":"BlockStatement","start":257,"end":298,"loc":{"start":{"line":10,"column":8},"end":{"line":12,"column":5}},"body":[{"type":"ExpressionStatement","start":265,"end":292,"loc":{"start":{"line":11,"column":6},"end":{"line":11,"column":33}},"expression":{"type":"AssignmentExpression","start":265,"end":292,"loc":{"start":{"line":11,"column":6},"end":{"line":11,"column":33}},"operator":"=","left":{"type":"Identifier","start":265,"end":271,"loc":{"start":{"line":11,"column":6},"end":{"line":11,"column":12},"identifierName":"params"},"name":"params"},"right":{"type":"CallExpression","start":274,"end":292,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":33}},"callee":{"type":"MemberExpression","start":274,"end":284,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":25}},"object":{"type":"Identifier","start":274,"end":278,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":19},"identifierName":"JSON"},"name":"JSON"},"computed":false,"property":{"type":"Identifier","start":279,"end":284,"loc":{"start":{"line":11,"column":20},"end":{"line":11,"column":25},"identifierName":"parse"},"name":"parse"},"optional":false},"arguments":[{"type":"Identifier","start":285,"end":291,"loc":{"start":{"line":11,"column":26},"end":{"line":11,"column":32},"identifierName":"params"},"name":"params"}],"optional":false}}}]},"handler":{"type":"CatchClause","start":299,"end":493,"loc":{"start":{"line":12,"column":6},"end":{"line":17,"column":5}},"param":{"type":"Identifier","start":306,"end":309,"loc":{"start":{"line":12,"column":13},"end":{"line":12,"column":16},"identifierName":"err"},"name":"err"},"body":{"type":"BlockStatement","start":311,"end":493,"loc":{"start":{"line":12,"column":18},"end":{"line":17,"column":5}},"body":[{"type":"ExpressionStatement","start":372,"end":471,"loc":{"start":{"line":14,"column":6},"end":{"line":15,"column":19}},"expression":{"type":"AssignmentExpression","start":372,"end":471,"loc":{"start":{"line":14,"column":6},"end":{"line":15,"column":19}},"operator":"=","left":{"type":"MemberExpression","start":372,"end":383,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":17}},"object":{"type":"Identifier","start":372,"end":375,"loc":{"start":{"line":14,"column":6},"end":{"line":14,"column":9},"identifierName":"err"},"name":"err"},"computed":false,"property":{"type":"Identifier","start":376,"end":383,"loc":{"start":{"line":14,"column":10},"end":{"line":14,"column":17},"identifierName":"message"},"name":"message"},"optional":false},"right":{"type":"BinaryExpression","start":386,"end":471,"loc":{"start":{"line":14,"column":20},"end":{"line":15,"column":19}},"left":{"type":"Literal","start":386,"end":449,"loc":{"start":{"line":14,"column":20},"end":{"line":14,"column":83}},"value":"Transloadit: The `params` option is a malformed JSON string: ","raw":"'Transloadit: The `params` option is a malformed JSON string: '"},"operator":"+","right":{"type":"MemberExpression","start":460,"end":471,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":19}},"object":{"type":"Identifier","start":460,"end":463,"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":11},"identifierName":"err"},"name":"err"},"computed":false,"property":{"type":"Identifier","start":464,"end":471,"loc":{"start":{"line":15,"column":12},"end":{"line":15,"column":19},"identifierName":"message"},"name":"message"},"optional":false}}},"leadingComments":[{"type":"CommentLine","value":" Tell the user that this is not an Uppy bug!","start":319,"end":365,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":52}}}]},{"type":"ThrowStatement","start":478,"end":487,"loc":{"start":{"line":16,"column":6},"end":{"line":16,"column":15}},"argument":{"type":"Identifier","start":484,"end":487,"loc":{"start":{"line":16,"column":12},"end":{"line":16,"column":15},"identifierName":"err"},"name":"err"}}]}},"finalizer":null}]},"alternate":null},{"type":"IfStatement","start":501,"end":720,"loc":{"start":{"line":20,"column":2},"end":{"line":23,"column":3}},"test":{"type":"LogicalExpression","start":505,"end":537,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":38}},"left":{"type":"UnaryExpression","start":505,"end":517,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":18}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":506,"end":517,"loc":{"start":{"line":20,"column":7},"end":{"line":20,"column":18}},"object":{"type":"Identifier","start":506,"end":512,"loc":{"start":{"line":20,"column":7},"end":{"line":20,"column":13},"identifierName":"params"},"name":"params"},"computed":false,"property":{"type":"Identifier","start":513,"end":517,"loc":{"start":{"line":20,"column":14},"end":{"line":20,"column":18},"identifierName":"auth"},"name":"auth"},"optional":false}},"operator":"||","right":{"type":"UnaryExpression","start":521,"end":537,"loc":{"start":{"line":20,"column":22},"end":{"line":20,"column":38}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":522,"end":537,"loc":{"start":{"line":20,"column":23},"end":{"line":20,"column":38}},"object":{"type":"MemberExpression","start":522,"end":533,"loc":{"start":{"line":20,"column":23},"end":{"line":20,"column":34}},"object":{"type":"Identifier","start":522,"end":528,"loc":{"start":{"line":20,"column":23},"end":{"line":20,"column":29},"identifierName":"params"},"name":"params"},"computed":false,"property":{"type":"Identifier","start":529,"end":533,"loc":{"start":{"line":20,"column":30},"end":{"line":20,"column":34},"identifierName":"auth"},"name":"auth"},"optional":false},"computed":false,"property":{"type":"Identifier","start":534,"end":537,"loc":{"start":{"line":20,"column":35},"end":{"line":20,"column":38},"identifierName":"key"},"name":"key"},"optional":false}}},"consequent":{"type":"BlockStatement","start":539,"end":720,"loc":{"start":{"line":20,"column":40},"end":{"line":23,"column":3}},"body":[{"type":"ThrowStatement","start":545,"end":716,"loc":{"start":{"line":21,"column":4},"end":{"line":22,"column":95}},"argument":{"type":"NewExpression","start":551,"end":716,"loc":{"start":{"line":21,"column":10},"end":{"line":22,"column":95}},"callee":{"type":"Identifier","start":555,"end":560,"loc":{"start":{"line":21,"column":14},"end":{"line":21,"column":19},"identifierName":"Error"},"name":"Error"},"typeArguments":null,"arguments":[{"type":"BinaryExpression","start":561,"end":715,"loc":{"start":{"line":21,"column":20},"end":{"line":22,"column":94}},"left":{"type":"Literal","start":561,"end":618,"loc":{"start":{"line":21,"column":20},"end":{"line":21,"column":77}},"value":"Transloadit: The `params.auth.key` option is required. ","raw":"'Transloadit: The `params.auth.key` option is required. '"},"operator":"+","right":{"type":"Literal","start":627,"end":715,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":94}},"value":"You can find your Transloadit API key at https://transloadit.com/account/api-settings.","raw":"'You can find your Transloadit API key at https://transloadit.com/account/api-settings.'"}}]}}]},"alternate":null}]},"leadingComments":[{"type":"CommentBlock","value":"*\n * Check that Assembly parameters are present and include all required fields.\n ","start":0,"end":86,"loc":{"start":{"line":1,"column":0},"end":{"line":3,"column":3}}}],"trailingComments":[{"type":"CommentBlock","value":"*\n * Turn Transloadit plugin options and a list of files into a list of Assembly\n * options.\n ","start":724,"end":822,"loc":{"start":{"line":26,"column":0},"end":{"line":29,"column":3}}}]},{"type":"ClassDeclaration","start":823,"end":3468,"loc":{"start":{"line":30,"column":0},"end":{"line":134,"column":1}},"id":{"type":"Identifier","start":829,"end":844,"loc":{"start":{"line":30,"column":6},"end":{"line":30,"column":21},"identifierName":"AssemblyOptions"},"name":"AssemblyOptions"},"superClass":null,"body":{"type":"ClassBody","start":845,"end":3468,"loc":{"start":{"line":30,"column":22},"end":{"line":134,"column":1}},"body":[{"type":"MethodDefinition","start":849,"end":924,"loc":{"start":{"line":31,"column":2},"end":{"line":34,"column":3}},"static":false,"key":{"type":"Identifier","start":849,"end":860,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":13},"identifierName":"constructor"},"name":"constructor"},"computed":false,"kind":"constructor","value":{"type":"FunctionExpression","start":861,"end":924,"loc":{"start":{"line":31,"column":14},"end":{"line":34,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":862,"end":867,"loc":{"start":{"line":31,"column":15},"end":{"line":31,"column":20},"identifierName":"files"},"name":"files"},{"type":"Identifier","start":869,"end":873,"loc":{"start":{"line":31,"column":22},"end":{"line":31,"column":26},"identifierName":"opts"},"name":"opts"}],"body":{"type":"BlockStatement","start":875,"end":924,"loc":{"start":{"line":31,"column":28},"end":{"line":34,"column":3}},"body":[{"type":"ExpressionStatement","start":881,"end":899,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":22}},"expression":{"type":"AssignmentExpression","start":881,"end":899,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":22}},"operator":"=","left":{"type":"MemberExpression","start":881,"end":891,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":14}},"object":{"type":"ThisExpression","start":881,"end":885,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":8}}},"computed":false,"property":{"type":"Identifier","start":886,"end":891,"loc":{"start":{"line":32,"column":9},"end":{"line":32,"column":14},"identifierName":"files"},"name":"files"},"optional":false},"right":{"type":"Identifier","start":894,"end":899,"loc":{"start":{"line":32,"column":17},"end":{"line":32,"column":22},"identifierName":"files"},"name":"files"}}},{"type":"ExpressionStatement","start":904,"end":920,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":20}},"expression":{"type":"AssignmentExpression","start":904,"end":920,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":20}},"operator":"=","left":{"type":"MemberExpression","start":904,"end":913,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":13}},"object":{"type":"ThisExpression","start":904,"end":908,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":8}}},"computed":false,"property":{"type":"Identifier","start":909,"end":913,"loc":{"start":{"line":33,"column":9},"end":{"line":33,"column":13},"identifierName":"opts"},"name":"opts"},"optional":false},"right":{"type":"Identifier","start":916,"end":920,"loc":{"start":{"line":33,"column":16},"end":{"line":33,"column":20},"identifierName":"opts"},"name":"opts"}}}]}},"trailingComments":[{"type":"CommentBlock","value":"*\n   * Normalize Uppy-specific Assembly option features to a Transloadit-\n   * compatible object.\n   ","start":928,"end":1033,"loc":{"start":{"line":36,"column":2},"end":{"line":39,"column":5}}}]},{"type":"MethodDefinition","start":1036,"end":1448,"loc":{"start":{"line":40,"column":2},"end":{"line":54,"column":3}},"static":false,"key":{"type":"Identifier","start":1036,"end":1061,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":27},"identifierName":"_normalizeAssemblyOptions"},"name":"_normalizeAssemblyOptions"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":1062,"end":1448,"loc":{"start":{"line":40,"column":28},"end":{"line":54,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":1063,"end":1067,"loc":{"start":{"line":40,"column":29},"end":{"line":40,"column":33},"identifierName":"file"},"name":"file"},{"type":"Identifier","start":1069,"end":1084,"loc":{"start":{"line":40,"column":35},"end":{"line":40,"column":50},"identifierName":"assemblyOptions"},"name":"assemblyOptions"}],"body":{"type":"BlockStatement","start":1086,"end":1448,"loc":{"start":{"line":40,"column":52},"end":{"line":54,"column":3}},"body":[{"type":"IfStatement","start":1092,"end":1340,"loc":{"start":{"line":41,"column":4},"end":{"line":47,"column":5}},"test":{"type":"CallExpression","start":1096,"end":1133,"loc":{"start":{"line":41,"column":8},"end":{"line":41,"column":45}},"callee":{"type":"MemberExpression","start":1096,"end":1109,"loc":{"start":{"line":41,"column":8},"end":{"line":41,"column":21}},"object":{"type":"Identifier","start":1096,"end":1101,"loc":{"start":{"line":41,"column":8},"end":{"line":41,"column":13},"identifierName":"Array"},"name":"Array"},"computed":false,"property":{"type":"Identifier","start":1102,"end":1109,"loc":{"start":{"line":41,"column":14},"end":{"line":41,"column":21},"identifierName":"isArray"},"name":"isArray"},"optional":false},"arguments":[{"type":"MemberExpression","start":1110,"end":1132,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":44}},"object":{"type":"Identifier","start":1110,"end":1125,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":37},"identifierName":"assemblyOptions"},"name":"assemblyOptions"},"computed":false,"property":{"type":"Identifier","start":1126,"end":1132,"loc":{"start":{"line":41,"column":38},"end":{"line":41,"column":44},"identifierName":"fields"},"name":"fields"},"optional":false}],"optional":false},"consequent":{"type":"BlockStatement","start":1135,"end":1340,"loc":{"start":{"line":41,"column":47},"end":{"line":47,"column":5}},"body":[{"type":"VariableDeclaration","start":1143,"end":1184,"loc":{"start":{"line":42,"column":6},"end":{"line":42,"column":47}},"declarations":[{"type":"VariableDeclarator","start":1149,"end":1184,"loc":{"start":{"line":42,"column":12},"end":{"line":42,"column":47}},"id":{"type":"Identifier","start":1149,"end":1159,"loc":{"start":{"line":42,"column":12},"end":{"line":42,"column":22},"identifierName":"fieldNames"},"name":"fieldNames"},"init":{"type":"MemberExpression","start":1162,"end":1184,"loc":{"start":{"line":42,"column":25},"end":{"line":42,"column":47}},"object":{"type":"Identifier","start":1162,"end":1177,"loc":{"start":{"line":42,"column":25},"end":{"line":42,"column":40},"identifierName":"assemblyOptions"},"name":"assemblyOptions"},"computed":false,"property":{"type":"Identifier","start":1178,"end":1184,"loc":{"start":{"line":42,"column":41},"end":{"line":42,"column":47},"identifierName":"fields"},"name":"fields"},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":1191,"end":1218,"loc":{"start":{"line":43,"column":6},"end":{"line":43,"column":33}},"expression":{"type":"AssignmentExpression","start":1191,"end":1218,"loc":{"start":{"line":43,"column":6},"end":{"line":43,"column":33}},"operator":"=","left":{"type":"MemberExpression","start":1191,"end":1213,"loc":{"start":{"line":43,"column":6},"end":{"line":43,"column":28}},"object":{"type":"Identifier","start":1191,"end":1206,"loc":{"start":{"line":43,"column":6},"end":{"line":43,"column":21},"identifierName":"assemblyOptions"},"name":"assemblyOptions"},"computed":false,"property":{"type":"Identifier","start":1207,"end":1213,"loc":{"start":{"line":43,"column":22},"end":{"line":43,"column":28},"identifierName":"fields"},"name":"fields"},"optional":false},"right":{"type":"ObjectExpression","start":1216,"end":1218,"loc":{"start":{"line":43,"column":31},"end":{"line":43,"column":33}},"properties":[]}}},{"type":"ExpressionStatement","start":1225,"end":1334,"loc":{"start":{"line":44,"column":6},"end":{"line":46,"column":8}},"expression":{"type":"CallExpression","start":1225,"end":1334,"loc":{"start":{"line":44,"column":6},"end":{"line":46,"column":8}},"callee":{"type":"MemberExpression","start":1225,"end":1243,"loc":{"start":{"line":44,"column":6},"end":{"line":44,"column":24}},"object":{"type":"Identifier","start":1225,"end":1235,"loc":{"start":{"line":44,"column":6},"end":{"line":44,"column":16},"identifierName":"fieldNames"},"name":"fieldNames"},"computed":false,"property":{"type":"Identifier","start":1236,"end":1243,"loc":{"start":{"line":44,"column":17},"end":{"line":44,"column":24},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1244,"end":1333,"loc":{"start":{"line":44,"column":25},"end":{"line":46,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":1245,"end":1254,"loc":{"start":{"line":44,"column":26},"end":{"line":44,"column":35},"identifierName":"fieldName"},"name":"fieldName"}],"body":{"type":"BlockStatement","start":1259,"end":1333,"loc":{"start":{"line":44,"column":40},"end":{"line":46,"column":7}},"body":[{"type":"ExpressionStatement","start":1269,"end":1325,"loc":{"start":{"line":45,"column":8},"end":{"line":45,"column":64}},"expression":{"type":"AssignmentExpression","start":1269,"end":1325,"loc":{"start":{"line":45,"column":8},"end":{"line":45,"column":64}},"operator":"=","left":{"type":"MemberExpression","start":1269,"end":1302,"loc":{"start":{"line":45,"column":8},"end":{"line":45,"column":41}},"object":{"type":"MemberExpression","start":1269,"end":1291,"loc":{"start":{"line":45,"column":8},"end":{"line":45,"column":30}},"object":{"type":"Identifier","start":1269,"end":1284,"loc":{"start":{"line":45,"column":8},"end":{"line":45,"column":23},"identifierName":"assemblyOptions"},"name":"assemblyOptions"},"computed":false,"property":{"type":"Identifier","start":1285,"end":1291,"loc":{"start":{"line":45,"column":24},"end":{"line":45,"column":30},"identifierName":"fields"},"name":"fields"},"optional":false},"computed":true,"property":{"type":"Identifier","start":1292,"end":1301,"loc":{"start":{"line":45,"column":31},"end":{"line":45,"column":40},"identifierName":"fieldName"},"name":"fieldName"},"optional":false},"right":{"type":"MemberExpression","start":1305,"end":1325,"loc":{"start":{"line":45,"column":44},"end":{"line":45,"column":64}},"object":{"type":"MemberExpression","start":1305,"end":1314,"loc":{"start":{"line":45,"column":44},"end":{"line":45,"column":53}},"object":{"type":"Identifier","start":1305,"end":1309,"loc":{"start":{"line":45,"column":44},"end":{"line":45,"column":48},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":1310,"end":1314,"loc":{"start":{"line":45,"column":49},"end":{"line":45,"column":53},"identifierName":"meta"},"name":"meta"},"optional":false},"computed":true,"property":{"type":"Identifier","start":1315,"end":1324,"loc":{"start":{"line":45,"column":54},"end":{"line":45,"column":63},"identifierName":"fieldName"},"name":"fieldName"},"optional":false}}}]}}],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":1346,"end":1416,"loc":{"start":{"line":49,"column":4},"end":{"line":51,"column":5}},"test":{"type":"UnaryExpression","start":1350,"end":1373,"loc":{"start":{"line":49,"column":8},"end":{"line":49,"column":31}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1351,"end":1373,"loc":{"start":{"line":49,"column":9},"end":{"line":49,"column":31}},"object":{"type":"Identifier","start":1351,"end":1366,"loc":{"start":{"line":49,"column":9},"end":{"line":49,"column":24},"identifierName":"assemblyOptions"},"name":"assemblyOptions"},"computed":false,"property":{"type":"Identifier","start":1367,"end":1373,"loc":{"start":{"line":49,"column":25},"end":{"line":49,"column":31},"identifierName":"fields"},"name":"fields"},"optional":false}},"consequent":{"type":"BlockStatement","start":1375,"end":1416,"loc":{"start":{"line":49,"column":33},"end":{"line":51,"column":5}},"body":[{"type":"ExpressionStatement","start":1383,"end":1410,"loc":{"start":{"line":50,"column":6},"end":{"line":50,"column":33}},"expression":{"type":"AssignmentExpression","start":1383,"end":1410,"loc":{"start":{"line":50,"column":6},"end":{"line":50,"column":33}},"operator":"=","left":{"type":"MemberExpression","start":1383,"end":1405,"loc":{"start":{"line":50,"column":6},"end":{"line":50,"column":28}},"object":{"type":"Identifier","start":1383,"end":1398,"loc":{"start":{"line":50,"column":6},"end":{"line":50,"column":21},"identifierName":"assemblyOptions"},"name":"assemblyOptions"},"computed":false,"property":{"type":"Identifier","start":1399,"end":1405,"loc":{"start":{"line":50,"column":22},"end":{"line":50,"column":28},"identifierName":"fields"},"name":"fields"},"optional":false},"right":{"type":"ObjectExpression","start":1408,"end":1410,"loc":{"start":{"line":50,"column":31},"end":{"line":50,"column":33}},"properties":[]}}}]},"alternate":null},{"type":"ReturnStatement","start":1422,"end":1444,"loc":{"start":{"line":53,"column":4},"end":{"line":53,"column":26}},"argument":{"type":"Identifier","start":1429,"end":1444,"loc":{"start":{"line":53,"column":11},"end":{"line":53,"column":26},"identifierName":"assemblyOptions"},"name":"assemblyOptions"}}]}},"leadingComments":[{"type":"CommentBlock","value":"*\n   * Normalize Uppy-specific Assembly option features to a Transloadit-\n   * compatible object.\n   ","start":928,"end":1033,"loc":{"start":{"line":36,"column":2},"end":{"line":39,"column":5}}}],"trailingComments":[{"type":"CommentBlock","value":"*\n   * Get Assembly options for a file.\n   ","start":1452,"end":1499,"loc":{"start":{"line":56,"column":2},"end":{"line":58,"column":5}}}]},{"type":"MethodDefinition","start":1502,"end":1977,"loc":{"start":{"line":59,"column":2},"end":{"line":77,"column":3}},"static":false,"key":{"type":"Identifier","start":1502,"end":1521,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":21},"identifierName":"_getAssemblyOptions"},"name":"_getAssemblyOptions"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":1522,"end":1977,"loc":{"start":{"line":59,"column":22},"end":{"line":77,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":1523,"end":1527,"loc":{"start":{"line":59,"column":23},"end":{"line":59,"column":27},"identifierName":"file"},"name":"file"}],"body":{"type":"BlockStatement","start":1529,"end":1977,"loc":{"start":{"line":59,"column":29},"end":{"line":77,"column":3}},"body":[{"type":"VariableDeclaration","start":1535,"end":1560,"loc":{"start":{"line":60,"column":4},"end":{"line":60,"column":29}},"declarations":[{"type":"VariableDeclarator","start":1541,"end":1560,"loc":{"start":{"line":60,"column":10},"end":{"line":60,"column":29}},"id":{"type":"Identifier","start":1541,"end":1548,"loc":{"start":{"line":60,"column":10},"end":{"line":60,"column":17},"identifierName":"options"},"name":"options"},"init":{"type":"MemberExpression","start":1551,"end":1560,"loc":{"start":{"line":60,"column":20},"end":{"line":60,"column":29}},"object":{"type":"ThisExpression","start":1551,"end":1555,"loc":{"start":{"line":60,"column":20},"end":{"line":60,"column":24}}},"computed":false,"property":{"type":"Identifier","start":1556,"end":1560,"loc":{"start":{"line":60,"column":25},"end":{"line":60,"column":29},"identifierName":"opts"},"name":"opts"},"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":1566,"end":1973,"loc":{"start":{"line":62,"column":4},"end":{"line":76,"column":8}},"argument":{"type":"CallExpression","start":1573,"end":1973,"loc":{"start":{"line":62,"column":11},"end":{"line":76,"column":8}},"callee":{"type":"MemberExpression","start":1573,"end":1801,"loc":{"start":{"line":62,"column":11},"end":{"line":69,"column":11}},"object":{"type":"CallExpression","start":1573,"end":1789,"loc":{"start":{"line":62,"column":11},"end":{"line":68,"column":8}},"callee":{"type":"MemberExpression","start":1573,"end":1688,"loc":{"start":{"line":62,"column":11},"end":{"line":66,"column":11}},"object":{"type":"CallExpression","start":1573,"end":1676,"loc":{"start":{"line":62,"column":11},"end":{"line":65,"column":8}},"callee":{"type":"MemberExpression","start":1573,"end":1602,"loc":{"start":{"line":62,"column":11},"end":{"line":63,"column":11}},"object":{"type":"CallExpression","start":1573,"end":1590,"loc":{"start":{"line":62,"column":11},"end":{"line":62,"column":28}},"callee":{"type":"MemberExpression","start":1573,"end":1588,"loc":{"start":{"line":62,"column":11},"end":{"line":62,"column":26}},"object":{"type":"Identifier","start":1573,"end":1580,"loc":{"start":{"line":62,"column":11},"end":{"line":62,"column":18},"identifierName":"Promise"},"name":"Promise"},"computed":false,"property":{"type":"Identifier","start":1581,"end":1588,"loc":{"start":{"line":62,"column":19},"end":{"line":62,"column":26},"identifierName":"resolve"},"name":"resolve"},"optional":false},"arguments":[],"optional":false},"computed":false,"property":{"type":"Identifier","start":1598,"end":1602,"loc":{"start":{"line":63,"column":7},"end":{"line":63,"column":11},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1603,"end":1675,"loc":{"start":{"line":63,"column":12},"end":{"line":65,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":1609,"end":1675,"loc":{"start":{"line":63,"column":18},"end":{"line":65,"column":7}},"body":[{"type":"ReturnStatement","start":1619,"end":1667,"loc":{"start":{"line":64,"column":8},"end":{"line":64,"column":56}},"argument":{"type":"CallExpression","start":1626,"end":1667,"loc":{"start":{"line":64,"column":15},"end":{"line":64,"column":56}},"callee":{"type":"MemberExpression","start":1626,"end":1652,"loc":{"start":{"line":64,"column":15},"end":{"line":64,"column":41}},"object":{"type":"Identifier","start":1626,"end":1633,"loc":{"start":{"line":64,"column":15},"end":{"line":64,"column":22},"identifierName":"options"},"name":"options"},"computed":false,"property":{"type":"Identifier","start":1634,"end":1652,"loc":{"start":{"line":64,"column":23},"end":{"line":64,"column":41},"identifierName":"getAssemblyOptions"},"name":"getAssemblyOptions"},"optional":false},"arguments":[{"type":"Identifier","start":1653,"end":1657,"loc":{"start":{"line":64,"column":42},"end":{"line":64,"column":46},"identifierName":"file"},"name":"file"},{"type":"Identifier","start":1659,"end":1666,"loc":{"start":{"line":64,"column":48},"end":{"line":64,"column":55},"identifierName":"options"},"name":"options"}],"optional":false}}]}}],"optional":false},"computed":false,"property":{"type":"Identifier","start":1684,"end":1688,"loc":{"start":{"line":66,"column":7},"end":{"line":66,"column":11},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1689,"end":1788,"loc":{"start":{"line":66,"column":12},"end":{"line":68,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":1690,"end":1705,"loc":{"start":{"line":66,"column":13},"end":{"line":66,"column":28},"identifierName":"assemblyOptions"},"name":"assemblyOptions"}],"body":{"type":"BlockStatement","start":1710,"end":1788,"loc":{"start":{"line":66,"column":33},"end":{"line":68,"column":7}},"body":[{"type":"ReturnStatement","start":1720,"end":1780,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":68}},"argument":{"type":"CallExpression","start":1727,"end":1780,"loc":{"start":{"line":67,"column":15},"end":{"line":67,"column":68}},"callee":{"type":"MemberExpression","start":1727,"end":1757,"loc":{"start":{"line":67,"column":15},"end":{"line":67,"column":45}},"object":{"type":"ThisExpression","start":1727,"end":1731,"loc":{"start":{"line":67,"column":15},"end":{"line":67,"column":19}}},"computed":false,"property":{"type":"Identifier","start":1732,"end":1757,"loc":{"start":{"line":67,"column":20},"end":{"line":67,"column":45},"identifierName":"_normalizeAssemblyOptions"},"name":"_normalizeAssemblyOptions"},"optional":false},"arguments":[{"type":"Identifier","start":1758,"end":1762,"loc":{"start":{"line":67,"column":46},"end":{"line":67,"column":50},"identifierName":"file"},"name":"file"},{"type":"Identifier","start":1764,"end":1779,"loc":{"start":{"line":67,"column":52},"end":{"line":67,"column":67},"identifierName":"assemblyOptions"},"name":"assemblyOptions"}],"optional":false}}]}}],"optional":false},"computed":false,"property":{"type":"Identifier","start":1797,"end":1801,"loc":{"start":{"line":69,"column":7},"end":{"line":69,"column":11},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1802,"end":1972,"loc":{"start":{"line":69,"column":12},"end":{"line":76,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":1803,"end":1818,"loc":{"start":{"line":69,"column":13},"end":{"line":69,"column":28},"identifierName":"assemblyOptions"},"name":"assemblyOptions"}],"body":{"type":"BlockStatement","start":1823,"end":1972,"loc":{"start":{"line":69,"column":33},"end":{"line":76,"column":7}},"body":[{"type":"ExpressionStatement","start":1833,"end":1871,"loc":{"start":{"line":70,"column":8},"end":{"line":70,"column":46}},"expression":{"type":"CallExpression","start":1833,"end":1871,"loc":{"start":{"line":70,"column":8},"end":{"line":70,"column":46}},"callee":{"type":"Identifier","start":1833,"end":1847,"loc":{"start":{"line":70,"column":8},"end":{"line":70,"column":22},"identifierName":"validateParams"},"name":"validateParams"},"arguments":[{"type":"MemberExpression","start":1848,"end":1870,"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":45}},"object":{"type":"Identifier","start":1848,"end":1863,"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":38},"identifierName":"assemblyOptions"},"name":"assemblyOptions"},"computed":false,"property":{"type":"Identifier","start":1864,"end":1870,"loc":{"start":{"line":70,"column":39},"end":{"line":70,"column":45},"identifierName":"params"},"name":"params"},"optional":false}],"optional":false}},{"type":"ReturnStatement","start":1881,"end":1964,"loc":{"start":{"line":72,"column":8},"end":{"line":75,"column":9}},"argument":{"type":"ObjectExpression","start":1888,"end":1964,"loc":{"start":{"line":72,"column":15},"end":{"line":75,"column":9}},"properties":[{"type":"Property","start":1900,"end":1918,"loc":{"start":{"line":73,"column":10},"end":{"line":73,"column":28}},"method":false,"key":{"type":"Identifier","start":1900,"end":1907,"loc":{"start":{"line":73,"column":10},"end":{"line":73,"column":17},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","start":1909,"end":1918,"loc":{"start":{"line":73,"column":19},"end":{"line":73,"column":28}},"elements":[{"type":"MemberExpression","start":1910,"end":1917,"loc":{"start":{"line":73,"column":20},"end":{"line":73,"column":27}},"object":{"type":"Identifier","start":1910,"end":1914,"loc":{"start":{"line":73,"column":20},"end":{"line":73,"column":24},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":1915,"end":1917,"loc":{"start":{"line":73,"column":25},"end":{"line":73,"column":27},"identifierName":"id"},"name":"id"},"optional":false}]},"kind":"init"},{"type":"Property","start":1930,"end":1954,"loc":{"start":{"line":74,"column":10},"end":{"line":74,"column":34}},"method":false,"key":{"type":"Identifier","start":1930,"end":1937,"loc":{"start":{"line":74,"column":10},"end":{"line":74,"column":17},"identifierName":"options"},"name":"options"},"computed":false,"shorthand":false,"value":{"type":"Identifier","start":1939,"end":1954,"loc":{"start":{"line":74,"column":19},"end":{"line":74,"column":34},"identifierName":"assemblyOptions"},"name":"assemblyOptions"},"kind":"init"}]}}]}}],"optional":false}}]}},"leadingComments":[{"type":"CommentBlock","value":"*\n   * Get Assembly options for a file.\n   ","start":1452,"end":1499,"loc":{"start":{"line":56,"column":2},"end":{"line":58,"column":5}}}],"trailingComments":[{"type":"CommentBlock","value":"*\n   * Combine Assemblies with the same options into a single Assembly for all the\n   * relevant files.\n   ","start":1981,"end":2092,"loc":{"start":{"line":79,"column":2},"end":{"line":82,"column":5}}}]},{"type":"MethodDefinition","start":2095,"end":2496,"loc":{"start":{"line":83,"column":2},"end":{"line":98,"column":3}},"static":false,"key":{"type":"Identifier","start":2095,"end":2102,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":9},"identifierName":"_dedupe"},"name":"_dedupe"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":2103,"end":2496,"loc":{"start":{"line":83,"column":10},"end":{"line":98,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":2104,"end":2108,"loc":{"start":{"line":83,"column":11},"end":{"line":83,"column":15},"identifierName":"list"},"name":"list"}],"body":{"type":"BlockStatement","start":2110,"end":2496,"loc":{"start":{"line":83,"column":17},"end":{"line":98,"column":3}},"body":[{"type":"VariableDeclaration","start":2116,"end":2153,"loc":{"start":{"line":84,"column":4},"end":{"line":84,"column":41}},"declarations":[{"type":"VariableDeclarator","start":2122,"end":2153,"loc":{"start":{"line":84,"column":10},"end":{"line":84,"column":41}},"id":{"type":"Identifier","start":2122,"end":2131,"loc":{"start":{"line":84,"column":10},"end":{"line":84,"column":19},"identifierName":"dedupeMap"},"name":"dedupeMap"},"init":{"type":"CallExpression","start":2134,"end":2153,"loc":{"start":{"line":84,"column":22},"end":{"line":84,"column":41}},"callee":{"type":"MemberExpression","start":2134,"end":2147,"loc":{"start":{"line":84,"column":22},"end":{"line":84,"column":35}},"object":{"type":"Identifier","start":2134,"end":2140,"loc":{"start":{"line":84,"column":22},"end":{"line":84,"column":28},"identifierName":"Object"},"name":"Object"},"computed":false,"property":{"type":"Identifier","start":2141,"end":2147,"loc":{"start":{"line":84,"column":29},"end":{"line":84,"column":35},"identifierName":"create"},"name":"create"},"optional":false},"arguments":[{"type":"Literal","start":2148,"end":2152,"loc":{"start":{"line":84,"column":36},"end":{"line":84,"column":40}},"value":null,"raw":"null"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":2158,"end":2430,"loc":{"start":{"line":85,"column":4},"end":{"line":95,"column":6}},"expression":{"type":"CallExpression","start":2158,"end":2430,"loc":{"start":{"line":85,"column":4},"end":{"line":95,"column":6}},"callee":{"type":"MemberExpression","start":2158,"end":2170,"loc":{"start":{"line":85,"column":4},"end":{"line":85,"column":16}},"object":{"type":"Identifier","start":2158,"end":2162,"loc":{"start":{"line":85,"column":4},"end":{"line":85,"column":8},"identifierName":"list"},"name":"list"},"computed":false,"property":{"type":"Identifier","start":2163,"end":2170,"loc":{"start":{"line":85,"column":9},"end":{"line":85,"column":16},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":2171,"end":2429,"loc":{"start":{"line":85,"column":17},"end":{"line":95,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"ObjectPattern","start":2172,"end":2192,"loc":{"start":{"line":85,"column":18},"end":{"line":85,"column":38}},"properties":[{"type":"Property","start":2174,"end":2181,"loc":{"start":{"line":85,"column":20},"end":{"line":85,"column":27}},"method":false,"key":{"type":"Identifier","start":2174,"end":2181,"loc":{"start":{"line":85,"column":20},"end":{"line":85,"column":27},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":2174,"end":2181,"loc":{"start":{"line":85,"column":20},"end":{"line":85,"column":27},"identifierName":"fileIDs"},"name":"fileIDs"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":2183,"end":2190,"loc":{"start":{"line":85,"column":29},"end":{"line":85,"column":36}},"method":false,"key":{"type":"Identifier","start":2183,"end":2190,"loc":{"start":{"line":85,"column":29},"end":{"line":85,"column":36},"identifierName":"options"},"name":"options"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":2183,"end":2190,"loc":{"start":{"line":85,"column":29},"end":{"line":85,"column":36},"identifierName":"options"},"name":"options"},"kind":"init","extra":{"shorthand":true}}]}],"body":{"type":"BlockStatement","start":2197,"end":2429,"loc":{"start":{"line":85,"column":43},"end":{"line":95,"column":5}},"body":[{"type":"VariableDeclaration","start":2205,"end":2239,"loc":{"start":{"line":86,"column":6},"end":{"line":86,"column":40}},"declarations":[{"type":"VariableDeclarator","start":2211,"end":2239,"loc":{"start":{"line":86,"column":12},"end":{"line":86,"column":40}},"id":{"type":"Identifier","start":2211,"end":2213,"loc":{"start":{"line":86,"column":12},"end":{"line":86,"column":14},"identifierName":"id"},"name":"id"},"init":{"type":"CallExpression","start":2216,"end":2239,"loc":{"start":{"line":86,"column":17},"end":{"line":86,"column":40}},"callee":{"type":"MemberExpression","start":2216,"end":2230,"loc":{"start":{"line":86,"column":17},"end":{"line":86,"column":31}},"object":{"type":"Identifier","start":2216,"end":2220,"loc":{"start":{"line":86,"column":17},"end":{"line":86,"column":21},"identifierName":"JSON"},"name":"JSON"},"computed":false,"property":{"type":"Identifier","start":2221,"end":2230,"loc":{"start":{"line":86,"column":22},"end":{"line":86,"column":31},"identifierName":"stringify"},"name":"stringify"},"optional":false},"arguments":[{"type":"Identifier","start":2231,"end":2238,"loc":{"start":{"line":86,"column":32},"end":{"line":86,"column":39},"identifierName":"options"},"name":"options"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":2246,"end":2423,"loc":{"start":{"line":87,"column":6},"end":{"line":94,"column":7}},"test":{"type":"MemberExpression","start":2250,"end":2263,"loc":{"start":{"line":87,"column":10},"end":{"line":87,"column":23}},"object":{"type":"Identifier","start":2250,"end":2259,"loc":{"start":{"line":87,"column":10},"end":{"line":87,"column":19},"identifierName":"dedupeMap"},"name":"dedupeMap"},"computed":true,"property":{"type":"Identifier","start":2260,"end":2262,"loc":{"start":{"line":87,"column":20},"end":{"line":87,"column":22},"identifierName":"id"},"name":"id"},"optional":false},"consequent":{"type":"BlockStatement","start":2265,"end":2321,"loc":{"start":{"line":87,"column":25},"end":{"line":89,"column":7}},"body":[{"type":"ExpressionStatement","start":2275,"end":2313,"loc":{"start":{"line":88,"column":8},"end":{"line":88,"column":46}},"expression":{"type":"CallExpression","start":2275,"end":2313,"loc":{"start":{"line":88,"column":8},"end":{"line":88,"column":46}},"callee":{"type":"MemberExpression","start":2275,"end":2301,"loc":{"start":{"line":88,"column":8},"end":{"line":88,"column":34}},"object":{"type":"MemberExpression","start":2275,"end":2296,"loc":{"start":{"line":88,"column":8},"end":{"line":88,"column":29}},"object":{"type":"MemberExpression","start":2275,"end":2288,"loc":{"start":{"line":88,"column":8},"end":{"line":88,"column":21}},"object":{"type":"Identifier","start":2275,"end":2284,"loc":{"start":{"line":88,"column":8},"end":{"line":88,"column":17},"identifierName":"dedupeMap"},"name":"dedupeMap"},"computed":true,"property":{"type":"Identifier","start":2285,"end":2287,"loc":{"start":{"line":88,"column":18},"end":{"line":88,"column":20},"identifierName":"id"},"name":"id"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2289,"end":2296,"loc":{"start":{"line":88,"column":22},"end":{"line":88,"column":29},"identifierName":"fileIDs"},"name":"fileIDs"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2297,"end":2301,"loc":{"start":{"line":88,"column":30},"end":{"line":88,"column":34},"identifierName":"push"},"name":"push"},"optional":false},"arguments":[{"type":"SpreadElement","start":2302,"end":2312,"loc":{"start":{"line":88,"column":35},"end":{"line":88,"column":45}},"argument":{"type":"Identifier","start":2305,"end":2312,"loc":{"start":{"line":88,"column":38},"end":{"line":88,"column":45},"identifierName":"fileIDs"},"name":"fileIDs"}}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":2327,"end":2423,"loc":{"start":{"line":89,"column":13},"end":{"line":94,"column":7}},"body":[{"type":"ExpressionStatement","start":2337,"end":2415,"loc":{"start":{"line":90,"column":8},"end":{"line":93,"column":9}},"expression":{"type":"AssignmentExpression","start":2337,"end":2415,"loc":{"start":{"line":90,"column":8},"end":{"line":93,"column":9}},"operator":"=","left":{"type":"MemberExpression","start":2337,"end":2350,"loc":{"start":{"line":90,"column":8},"end":{"line":90,"column":21}},"object":{"type":"Identifier","start":2337,"end":2346,"loc":{"start":{"line":90,"column":8},"end":{"line":90,"column":17},"identifierName":"dedupeMap"},"name":"dedupeMap"},"computed":true,"property":{"type":"Identifier","start":2347,"end":2349,"loc":{"start":{"line":90,"column":18},"end":{"line":90,"column":20},"identifierName":"id"},"name":"id"},"optional":false},"right":{"type":"ObjectExpression","start":2353,"end":2415,"loc":{"start":{"line":90,"column":24},"end":{"line":93,"column":9}},"properties":[{"type":"Property","start":2365,"end":2372,"loc":{"start":{"line":91,"column":10},"end":{"line":91,"column":17}},"method":false,"key":{"type":"Identifier","start":2365,"end":2372,"loc":{"start":{"line":91,"column":10},"end":{"line":91,"column":17},"identifierName":"options"},"name":"options"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":2365,"end":2372,"loc":{"start":{"line":91,"column":10},"end":{"line":91,"column":17},"identifierName":"options"},"name":"options"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":2384,"end":2405,"loc":{"start":{"line":92,"column":10},"end":{"line":92,"column":31}},"method":false,"key":{"type":"Identifier","start":2384,"end":2391,"loc":{"start":{"line":92,"column":10},"end":{"line":92,"column":17},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","start":2393,"end":2405,"loc":{"start":{"line":92,"column":19},"end":{"line":92,"column":31}},"elements":[{"type":"SpreadElement","start":2394,"end":2404,"loc":{"start":{"line":92,"column":20},"end":{"line":92,"column":30}},"argument":{"type":"Identifier","start":2397,"end":2404,"loc":{"start":{"line":92,"column":23},"end":{"line":92,"column":30},"identifierName":"fileIDs"},"name":"fileIDs"}}]},"kind":"init"}]}}}]}}]}}],"optional":false}},{"type":"ReturnStatement","start":2436,"end":2492,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":60}},"argument":{"type":"CallExpression","start":2443,"end":2492,"loc":{"start":{"line":97,"column":11},"end":{"line":97,"column":60}},"callee":{"type":"MemberExpression","start":2443,"end":2469,"loc":{"start":{"line":97,"column":11},"end":{"line":97,"column":37}},"object":{"type":"CallExpression","start":2443,"end":2465,"loc":{"start":{"line":97,"column":11},"end":{"line":97,"column":33}},"callee":{"type":"MemberExpression","start":2443,"end":2454,"loc":{"start":{"line":97,"column":11},"end":{"line":97,"column":22}},"object":{"type":"Identifier","start":2443,"end":2449,"loc":{"start":{"line":97,"column":11},"end":{"line":97,"column":17},"identifierName":"Object"},"name":"Object"},"computed":false,"property":{"type":"Identifier","start":2450,"end":2454,"loc":{"start":{"line":97,"column":18},"end":{"line":97,"column":22},"identifierName":"keys"},"name":"keys"},"optional":false},"arguments":[{"type":"Identifier","start":2455,"end":2464,"loc":{"start":{"line":97,"column":23},"end":{"line":97,"column":32},"identifierName":"dedupeMap"},"name":"dedupeMap"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":2466,"end":2469,"loc":{"start":{"line":97,"column":34},"end":{"line":97,"column":37},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":2470,"end":2491,"loc":{"start":{"line":97,"column":38},"end":{"line":97,"column":59}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":2471,"end":2473,"loc":{"start":{"line":97,"column":39},"end":{"line":97,"column":41},"identifierName":"id"},"name":"id"}],"body":{"type":"MemberExpression","start":2478,"end":2491,"loc":{"start":{"line":97,"column":46},"end":{"line":97,"column":59}},"object":{"type":"Identifier","start":2478,"end":2487,"loc":{"start":{"line":97,"column":46},"end":{"line":97,"column":55},"identifierName":"dedupeMap"},"name":"dedupeMap"},"computed":true,"property":{"type":"Identifier","start":2488,"end":2490,"loc":{"start":{"line":97,"column":56},"end":{"line":97,"column":58},"identifierName":"id"},"name":"id"},"optional":false}}],"optional":false}}]}},"leadingComments":[{"type":"CommentBlock","value":"*\n   * Combine Assemblies with the same options into a single Assembly for all the\n   * relevant files.\n   ","start":1981,"end":2092,"loc":{"start":{"line":79,"column":2},"end":{"line":82,"column":5}}}],"trailingComments":[{"type":"CommentBlock","value":"*\n   * Generate a set of Assemblies that will handle the upload.\n   * Returns a Promise for an object with keys:\n   *  - fileIDs - an array of file IDs to add to this Assembly\n   *  - options - Assembly options\n   ","start":2500,"end":2718,"loc":{"start":{"line":100,"column":2},"end":{"line":105,"column":5}}}]},{"type":"MethodDefinition","start":2721,"end":3466,"loc":{"start":{"line":106,"column":2},"end":{"line":133,"column":3}},"static":false,"key":{"type":"Identifier","start":2721,"end":2726,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":7},"identifierName":"build"},"name":"build"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":2727,"end":3466,"loc":{"start":{"line":106,"column":8},"end":{"line":133,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":2730,"end":3466,"loc":{"start":{"line":106,"column":11},"end":{"line":133,"column":3}},"body":[{"type":"VariableDeclaration","start":2736,"end":2761,"loc":{"start":{"line":107,"column":4},"end":{"line":107,"column":29}},"declarations":[{"type":"VariableDeclarator","start":2742,"end":2761,"loc":{"start":{"line":107,"column":10},"end":{"line":107,"column":29}},"id":{"type":"Identifier","start":2742,"end":2749,"loc":{"start":{"line":107,"column":10},"end":{"line":107,"column":17},"identifierName":"options"},"name":"options"},"init":{"type":"MemberExpression","start":2752,"end":2761,"loc":{"start":{"line":107,"column":20},"end":{"line":107,"column":29}},"object":{"type":"ThisExpression","start":2752,"end":2756,"loc":{"start":{"line":107,"column":20},"end":{"line":107,"column":24}}},"computed":false,"property":{"type":"Identifier","start":2757,"end":2761,"loc":{"start":{"line":107,"column":25},"end":{"line":107,"column":29},"identifierName":"opts"},"name":"opts"},"optional":false}}],"kind":"const"},{"type":"IfStatement","start":2767,"end":2960,"loc":{"start":{"line":109,"column":4},"end":{"line":115,"column":5}},"test":{"type":"BinaryExpression","start":2771,"end":2792,"loc":{"start":{"line":109,"column":8},"end":{"line":109,"column":29}},"left":{"type":"MemberExpression","start":2771,"end":2788,"loc":{"start":{"line":109,"column":8},"end":{"line":109,"column":25}},"object":{"type":"MemberExpression","start":2771,"end":2781,"loc":{"start":{"line":109,"column":8},"end":{"line":109,"column":18}},"object":{"type":"ThisExpression","start":2771,"end":2775,"loc":{"start":{"line":109,"column":8},"end":{"line":109,"column":12}}},"computed":false,"property":{"type":"Identifier","start":2776,"end":2781,"loc":{"start":{"line":109,"column":13},"end":{"line":109,"column":18},"identifierName":"files"},"name":"files"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2782,"end":2788,"loc":{"start":{"line":109,"column":19},"end":{"line":109,"column":25},"identifierName":"length"},"name":"length"},"optional":false},"operator":">","right":{"type":"Literal","start":2791,"end":2792,"loc":{"start":{"line":109,"column":28},"end":{"line":109,"column":29}},"value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","start":2794,"end":2960,"loc":{"start":{"line":109,"column":31},"end":{"line":115,"column":5}},"body":[{"type":"ReturnStatement","start":2802,"end":2954,"loc":{"start":{"line":110,"column":6},"end":{"line":114,"column":8}},"argument":{"type":"CallExpression","start":2809,"end":2954,"loc":{"start":{"line":110,"column":13},"end":{"line":114,"column":8}},"callee":{"type":"MemberExpression","start":2809,"end":2899,"loc":{"start":{"line":110,"column":13},"end":{"line":112,"column":12}},"object":{"type":"CallExpression","start":2809,"end":2894,"loc":{"start":{"line":110,"column":13},"end":{"line":112,"column":7}},"callee":{"type":"MemberExpression","start":2809,"end":2820,"loc":{"start":{"line":110,"column":13},"end":{"line":110,"column":24}},"object":{"type":"Identifier","start":2809,"end":2816,"loc":{"start":{"line":110,"column":13},"end":{"line":110,"column":20},"identifierName":"Promise"},"name":"Promise"},"computed":false,"property":{"type":"Identifier","start":2817,"end":2820,"loc":{"start":{"line":110,"column":21},"end":{"line":110,"column":24},"identifierName":"all"},"name":"all"},"optional":false},"arguments":[{"type":"CallExpression","start":2830,"end":2886,"loc":{"start":{"line":111,"column":8},"end":{"line":111,"column":64}},"callee":{"type":"MemberExpression","start":2830,"end":2844,"loc":{"start":{"line":111,"column":8},"end":{"line":111,"column":22}},"object":{"type":"MemberExpression","start":2830,"end":2840,"loc":{"start":{"line":111,"column":8},"end":{"line":111,"column":18}},"object":{"type":"ThisExpression","start":2830,"end":2834,"loc":{"start":{"line":111,"column":8},"end":{"line":111,"column":12}}},"computed":false,"property":{"type":"Identifier","start":2835,"end":2840,"loc":{"start":{"line":111,"column":13},"end":{"line":111,"column":18},"identifierName":"files"},"name":"files"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2841,"end":2844,"loc":{"start":{"line":111,"column":19},"end":{"line":111,"column":22},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":2845,"end":2885,"loc":{"start":{"line":111,"column":23},"end":{"line":111,"column":63}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":2846,"end":2850,"loc":{"start":{"line":111,"column":24},"end":{"line":111,"column":28},"identifierName":"file"},"name":"file"}],"body":{"type":"CallExpression","start":2855,"end":2885,"loc":{"start":{"line":111,"column":33},"end":{"line":111,"column":63}},"callee":{"type":"MemberExpression","start":2855,"end":2879,"loc":{"start":{"line":111,"column":33},"end":{"line":111,"column":57}},"object":{"type":"ThisExpression","start":2855,"end":2859,"loc":{"start":{"line":111,"column":33},"end":{"line":111,"column":37}}},"computed":false,"property":{"type":"Identifier","start":2860,"end":2879,"loc":{"start":{"line":111,"column":38},"end":{"line":111,"column":57},"identifierName":"_getAssemblyOptions"},"name":"_getAssemblyOptions"},"optional":false},"arguments":[{"type":"Identifier","start":2880,"end":2884,"loc":{"start":{"line":111,"column":58},"end":{"line":111,"column":62},"identifierName":"file"},"name":"file"}],"optional":false}}],"optional":false}],"optional":false},"computed":false,"property":{"type":"Identifier","start":2895,"end":2899,"loc":{"start":{"line":112,"column":8},"end":{"line":112,"column":12},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":2900,"end":2953,"loc":{"start":{"line":112,"column":13},"end":{"line":114,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":2901,"end":2905,"loc":{"start":{"line":112,"column":14},"end":{"line":112,"column":18},"identifierName":"list"},"name":"list"}],"body":{"type":"BlockStatement","start":2910,"end":2953,"loc":{"start":{"line":112,"column":23},"end":{"line":114,"column":7}},"body":[{"type":"ReturnStatement","start":2920,"end":2945,"loc":{"start":{"line":113,"column":8},"end":{"line":113,"column":33}},"argument":{"type":"CallExpression","start":2927,"end":2945,"loc":{"start":{"line":113,"column":15},"end":{"line":113,"column":33}},"callee":{"type":"MemberExpression","start":2927,"end":2939,"loc":{"start":{"line":113,"column":15},"end":{"line":113,"column":27}},"object":{"type":"ThisExpression","start":2927,"end":2931,"loc":{"start":{"line":113,"column":15},"end":{"line":113,"column":19}}},"computed":false,"property":{"type":"Identifier","start":2932,"end":2939,"loc":{"start":{"line":113,"column":20},"end":{"line":113,"column":27},"identifierName":"_dedupe"},"name":"_dedupe"},"optional":false},"arguments":[{"type":"Identifier","start":2940,"end":2944,"loc":{"start":{"line":113,"column":28},"end":{"line":113,"column":32},"identifierName":"list"},"name":"list"}],"optional":false}}]}}],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":2966,"end":3340,"loc":{"start":{"line":117,"column":4},"end":{"line":128,"column":5}},"test":{"type":"MemberExpression","start":2970,"end":2995,"loc":{"start":{"line":117,"column":8},"end":{"line":117,"column":33}},"object":{"type":"Identifier","start":2970,"end":2977,"loc":{"start":{"line":117,"column":8},"end":{"line":117,"column":15},"identifierName":"options"},"name":"options"},"computed":false,"property":{"type":"Identifier","start":2978,"end":2995,"loc":{"start":{"line":117,"column":16},"end":{"line":117,"column":33},"identifierName":"alwaysRunAssembly"},"name":"alwaysRunAssembly"},"optional":false},"consequent":{"type":"BlockStatement","start":2997,"end":3340,"loc":{"start":{"line":117,"column":35},"end":{"line":128,"column":5}},"body":[{"type":"ReturnStatement","start":3051,"end":3334,"loc":{"start":{"line":119,"column":6},"end":{"line":127,"column":8}},"argument":{"type":"CallExpression","start":3058,"end":3334,"loc":{"start":{"line":119,"column":13},"end":{"line":127,"column":8}},"callee":{"type":"MemberExpression","start":3058,"end":3137,"loc":{"start":{"line":119,"column":13},"end":{"line":121,"column":12}},"object":{"type":"CallExpression","start":3058,"end":3132,"loc":{"start":{"line":119,"column":13},"end":{"line":121,"column":7}},"callee":{"type":"MemberExpression","start":3058,"end":3073,"loc":{"start":{"line":119,"column":13},"end":{"line":119,"column":28}},"object":{"type":"Identifier","start":3058,"end":3065,"loc":{"start":{"line":119,"column":13},"end":{"line":119,"column":20},"identifierName":"Promise"},"name":"Promise"},"computed":false,"property":{"type":"Identifier","start":3066,"end":3073,"loc":{"start":{"line":119,"column":21},"end":{"line":119,"column":28},"identifierName":"resolve"},"name":"resolve"},"optional":false},"arguments":[{"type":"CallExpression","start":3083,"end":3124,"loc":{"start":{"line":120,"column":8},"end":{"line":120,"column":49}},"callee":{"type":"MemberExpression","start":3083,"end":3109,"loc":{"start":{"line":120,"column":8},"end":{"line":120,"column":34}},"object":{"type":"Identifier","start":3083,"end":3090,"loc":{"start":{"line":120,"column":8},"end":{"line":120,"column":15},"identifierName":"options"},"name":"options"},"computed":false,"property":{"type":"Identifier","start":3091,"end":3109,"loc":{"start":{"line":120,"column":16},"end":{"line":120,"column":34},"identifierName":"getAssemblyOptions"},"name":"getAssemblyOptions"},"optional":false},"arguments":[{"type":"Literal","start":3110,"end":3114,"loc":{"start":{"line":120,"column":35},"end":{"line":120,"column":39}},"value":null,"raw":"null"},{"type":"Identifier","start":3116,"end":3123,"loc":{"start":{"line":120,"column":41},"end":{"line":120,"column":48},"identifierName":"options"},"name":"options"}],"optional":false}],"optional":false},"computed":false,"property":{"type":"Identifier","start":3133,"end":3137,"loc":{"start":{"line":121,"column":8},"end":{"line":121,"column":12},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":3138,"end":3333,"loc":{"start":{"line":121,"column":13},"end":{"line":127,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":3139,"end":3154,"loc":{"start":{"line":121,"column":14},"end":{"line":121,"column":29},"identifierName":"assemblyOptions"},"name":"assemblyOptions"}],"body":{"type":"BlockStatement","start":3159,"end":3333,"loc":{"start":{"line":121,"column":34},"end":{"line":127,"column":7}},"body":[{"type":"ExpressionStatement","start":3169,"end":3207,"loc":{"start":{"line":122,"column":8},"end":{"line":122,"column":46}},"expression":{"type":"CallExpression","start":3169,"end":3207,"loc":{"start":{"line":122,"column":8},"end":{"line":122,"column":46}},"callee":{"type":"Identifier","start":3169,"end":3183,"loc":{"start":{"line":122,"column":8},"end":{"line":122,"column":22},"identifierName":"validateParams"},"name":"validateParams"},"arguments":[{"type":"MemberExpression","start":3184,"end":3206,"loc":{"start":{"line":122,"column":23},"end":{"line":122,"column":45}},"object":{"type":"Identifier","start":3184,"end":3199,"loc":{"start":{"line":122,"column":23},"end":{"line":122,"column":38},"identifierName":"assemblyOptions"},"name":"assemblyOptions"},"computed":false,"property":{"type":"Identifier","start":3200,"end":3206,"loc":{"start":{"line":122,"column":39},"end":{"line":122,"column":45},"identifierName":"params"},"name":"params"},"optional":false}],"optional":false}},{"type":"ReturnStatement","start":3216,"end":3325,"loc":{"start":{"line":123,"column":8},"end":{"line":126,"column":10}},"argument":{"type":"ArrayExpression","start":3223,"end":3325,"loc":{"start":{"line":123,"column":15},"end":{"line":126,"column":10}},"elements":[{"type":"ObjectExpression","start":3224,"end":3324,"loc":{"start":{"line":123,"column":16},"end":{"line":126,"column":9}},"properties":[{"type":"Property","start":3236,"end":3278,"loc":{"start":{"line":124,"column":10},"end":{"line":124,"column":52}},"method":false,"key":{"type":"Identifier","start":3236,"end":3243,"loc":{"start":{"line":124,"column":10},"end":{"line":124,"column":17},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","start":3245,"end":3278,"loc":{"start":{"line":124,"column":19},"end":{"line":124,"column":52}},"callee":{"type":"MemberExpression","start":3245,"end":3259,"loc":{"start":{"line":124,"column":19},"end":{"line":124,"column":33}},"object":{"type":"MemberExpression","start":3245,"end":3255,"loc":{"start":{"line":124,"column":19},"end":{"line":124,"column":29}},"object":{"type":"ThisExpression","start":3245,"end":3249,"loc":{"start":{"line":124,"column":19},"end":{"line":124,"column":23}}},"computed":false,"property":{"type":"Identifier","start":3250,"end":3255,"loc":{"start":{"line":124,"column":24},"end":{"line":124,"column":29},"identifierName":"files"},"name":"files"},"optional":false},"computed":false,"property":{"type":"Identifier","start":3256,"end":3259,"loc":{"start":{"line":124,"column":30},"end":{"line":124,"column":33},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":3260,"end":3277,"loc":{"start":{"line":124,"column":34},"end":{"line":124,"column":51}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":3261,"end":3265,"loc":{"start":{"line":124,"column":35},"end":{"line":124,"column":39},"identifierName":"file"},"name":"file"}],"body":{"type":"MemberExpression","start":3270,"end":3277,"loc":{"start":{"line":124,"column":44},"end":{"line":124,"column":51}},"object":{"type":"Identifier","start":3270,"end":3274,"loc":{"start":{"line":124,"column":44},"end":{"line":124,"column":48},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":3275,"end":3277,"loc":{"start":{"line":124,"column":49},"end":{"line":124,"column":51},"identifierName":"id"},"name":"id"},"optional":false}}],"optional":false},"kind":"init"},{"type":"Property","start":3290,"end":3314,"loc":{"start":{"line":125,"column":10},"end":{"line":125,"column":34}},"method":false,"key":{"type":"Identifier","start":3290,"end":3297,"loc":{"start":{"line":125,"column":10},"end":{"line":125,"column":17},"identifierName":"options"},"name":"options"},"computed":false,"shorthand":false,"value":{"type":"Identifier","start":3299,"end":3314,"loc":{"start":{"line":125,"column":19},"end":{"line":125,"column":34},"identifierName":"assemblyOptions"},"name":"assemblyOptions"},"kind":"init"}]}]}}]}}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" No files, just generate one Assembly","start":3005,"end":3044,"loc":{"start":{"line":118,"column":6},"end":{"line":118,"column":45}}}]}]},"alternate":null,"trailingComments":[{"type":"CommentLine","value":" If there are no files and we do not `alwaysRunAssembly`,","start":3346,"end":3405,"loc":{"start":{"line":130,"column":4},"end":{"line":130,"column":63}}},{"type":"CommentLine","value":" don't do anything.","start":3410,"end":3431,"loc":{"start":{"line":131,"column":4},"end":{"line":131,"column":25}}}]},{"type":"ReturnStatement","start":3436,"end":3462,"loc":{"start":{"line":132,"column":4},"end":{"line":132,"column":30}},"argument":{"type":"CallExpression","start":3443,"end":3462,"loc":{"start":{"line":132,"column":11},"end":{"line":132,"column":30}},"callee":{"type":"MemberExpression","start":3443,"end":3458,"loc":{"start":{"line":132,"column":11},"end":{"line":132,"column":26}},"object":{"type":"Identifier","start":3443,"end":3450,"loc":{"start":{"line":132,"column":11},"end":{"line":132,"column":18},"identifierName":"Promise"},"name":"Promise"},"computed":false,"property":{"type":"Identifier","start":3451,"end":3458,"loc":{"start":{"line":132,"column":19},"end":{"line":132,"column":26},"identifierName":"resolve"},"name":"resolve"},"optional":false},"arguments":[{"type":"ArrayExpression","start":3459,"end":3461,"loc":{"start":{"line":132,"column":27},"end":{"line":132,"column":29}},"elements":[]}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" If there are no files and we do not `alwaysRunAssembly`,","start":3346,"end":3405,"loc":{"start":{"line":130,"column":4},"end":{"line":130,"column":63}}},{"type":"CommentLine","value":" don't do anything.","start":3410,"end":3431,"loc":{"start":{"line":131,"column":4},"end":{"line":131,"column":25}}}]}]}},"leadingComments":[{"type":"CommentBlock","value":"*\n   * Generate a set of Assemblies that will handle the upload.\n   * Returns a Promise for an object with keys:\n   *  - fileIDs - an array of file IDs to add to this Assembly\n   *  - options - Assembly options\n   ","start":2500,"end":2718,"loc":{"start":{"line":100,"column":2},"end":{"line":105,"column":5}}}]}]},"leadingComments":[{"type":"CommentBlock","value":"*\n * Turn Transloadit plugin options and a list of files into a list of Assembly\n * options.\n ","start":724,"end":822,"loc":{"start":{"line":26,"column":0},"end":{"line":29,"column":3}}}]},{"type":"ExpressionStatement","start":3470,"end":3502,"loc":{"start":{"line":136,"column":0},"end":{"line":136,"column":32}},"expression":{"type":"AssignmentExpression","start":3470,"end":3502,"loc":{"start":{"line":136,"column":0},"end":{"line":136,"column":32}},"operator":"=","left":{"type":"MemberExpression","start":3470,"end":3484,"loc":{"start":{"line":136,"column":0},"end":{"line":136,"column":14}},"object":{"type":"Identifier","start":3470,"end":3476,"loc":{"start":{"line":136,"column":0},"end":{"line":136,"column":6},"identifierName":"module"},"name":"module"},"computed":false,"property":{"type":"Identifier","start":3477,"end":3484,"loc":{"start":{"line":136,"column":7},"end":{"line":136,"column":14},"identifierName":"exports"},"name":"exports"},"optional":false},"right":{"type":"Identifier","start":3487,"end":3502,"loc":{"start":{"line":136,"column":17},"end":{"line":136,"column":32},"identifierName":"AssemblyOptions"},"name":"AssemblyOptions"}}},{"type":"ExpressionStatement","start":3503,"end":3549,"loc":{"start":{"line":137,"column":0},"end":{"line":137,"column":46}},"expression":{"type":"AssignmentExpression","start":3503,"end":3549,"loc":{"start":{"line":137,"column":0},"end":{"line":137,"column":46}},"operator":"=","left":{"type":"MemberExpression","start":3503,"end":3532,"loc":{"start":{"line":137,"column":0},"end":{"line":137,"column":29}},"object":{"type":"MemberExpression","start":3503,"end":3517,"loc":{"start":{"line":137,"column":0},"end":{"line":137,"column":14}},"object":{"type":"Identifier","start":3503,"end":3509,"loc":{"start":{"line":137,"column":0},"end":{"line":137,"column":6},"identifierName":"module"},"name":"module"},"computed":false,"property":{"type":"Identifier","start":3510,"end":3517,"loc":{"start":{"line":137,"column":7},"end":{"line":137,"column":14},"identifierName":"exports"},"name":"exports"},"optional":false},"computed":false,"property":{"type":"Identifier","start":3518,"end":3532,"loc":{"start":{"line":137,"column":15},"end":{"line":137,"column":29},"identifierName":"validateParams"},"name":"validateParams"},"optional":false},"right":{"type":"Identifier","start":3535,"end":3549,"loc":{"start":{"line":137,"column":32},"end":{"line":137,"column":46},"identifierName":"validateParams"},"name":"validateParams"}}}]},"comments":[{"type":"CommentBlock","value":"*\n * Check that Assembly parameters are present and include all required fields.\n ","start":0,"end":86,"loc":{"start":{"line":1,"column":0},"end":{"line":3,"column":3}}},{"type":"CommentLine","value":" Tell the user that this is not an Uppy bug!","start":319,"end":365,"loc":{"start":{"line":13,"column":6},"end":{"line":13,"column":52}}},{"type":"CommentBlock","value":"*\n * Turn Transloadit plugin options and a list of files into a list of Assembly\n * options.\n ","start":724,"end":822,"loc":{"start":{"line":26,"column":0},"end":{"line":29,"column":3}}},{"type":"CommentBlock","value":"*\n   * Normalize Uppy-specific Assembly option features to a Transloadit-\n   * compatible object.\n   ","start":928,"end":1033,"loc":{"start":{"line":36,"column":2},"end":{"line":39,"column":5}}},{"type":"CommentBlock","value":"*\n   * Get Assembly options for a file.\n   ","start":1452,"end":1499,"loc":{"start":{"line":56,"column":2},"end":{"line":58,"column":5}}},{"type":"CommentBlock","value":"*\n   * Combine Assemblies with the same options into a single Assembly for all the\n   * relevant files.\n   ","start":1981,"end":2092,"loc":{"start":{"line":79,"column":2},"end":{"line":82,"column":5}}},{"type":"CommentBlock","value":"*\n   * Generate a set of Assemblies that will handle the upload.\n   * Returns a Promise for an object with keys:\n   *  - fileIDs - an array of file IDs to add to this Assembly\n   *  - options - Assembly options\n   ","start":2500,"end":2718,"loc":{"start":{"line":100,"column":2},"end":{"line":105,"column":5}}},{"type":"CommentLine","value":" No files, just generate one Assembly","start":3005,"end":3044,"loc":{"start":{"line":118,"column":6},"end":{"line":118,"column":45}}},{"type":"CommentLine","value":" If there are no files and we do not `alwaysRunAssembly`,","start":3346,"end":3405,"loc":{"start":{"line":130,"column":4},"end":{"line":130,"column":63}}},{"type":"CommentLine","value":" don't do anything.","start":3410,"end":3431,"loc":{"start":{"line":131,"column":4},"end":{"line":131,"column":25}}}]}