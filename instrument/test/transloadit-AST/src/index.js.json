{"type":"File","start":0,"end":27579,"loc":{"start":{"line":1,"column":0},"end":{"line":856,"column":0}},"errors":[],"program":{"type":"Program","start":0,"end":27579,"loc":{"start":{"line":1,"column":0},"end":{"line":856,"column":0}},"sourceType":"module","interpreter":null,"body":[{"type":"VariableDeclaration","start":0,"end":56,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"declarations":[{"type":"VariableDeclarator","start":6,"end":56,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":56}},"id":{"type":"Identifier","start":6,"end":16,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":16},"identifierName":"Translator"},"name":"Translator"},"init":{"type":"CallExpression","start":19,"end":56,"loc":{"start":{"line":1,"column":19},"end":{"line":1,"column":56}},"callee":{"type":"Identifier","start":19,"end":26,"loc":{"start":{"line":1,"column":19},"end":{"line":1,"column":26},"identifierName":"require"},"name":"require"},"arguments":[{"type":"Literal","start":27,"end":55,"loc":{"start":{"line":1,"column":27},"end":{"line":1,"column":55}},"value":"@uppy/utils/lib/Translator","raw":"'@uppy/utils/lib/Translator'"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":57,"end":115,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":58}},"declarations":[{"type":"VariableDeclarator","start":63,"end":115,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":58}},"id":{"type":"Identifier","start":63,"end":74,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":17},"identifierName":"hasProperty"},"name":"hasProperty"},"init":{"type":"CallExpression","start":77,"end":115,"loc":{"start":{"line":2,"column":20},"end":{"line":2,"column":58}},"callee":{"type":"Identifier","start":77,"end":84,"loc":{"start":{"line":2,"column":20},"end":{"line":2,"column":27},"identifierName":"require"},"name":"require"},"arguments":[{"type":"Literal","start":85,"end":114,"loc":{"start":{"line":2,"column":28},"end":{"line":2,"column":57}},"value":"@uppy/utils/lib/hasProperty","raw":"'@uppy/utils/lib/hasProperty'"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":116,"end":156,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"declarations":[{"type":"VariableDeclarator","start":122,"end":156,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":40}},"id":{"type":"ObjectPattern","start":122,"end":132,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":16}},"properties":[{"type":"Property","start":124,"end":130,"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":14}},"method":false,"key":{"type":"Identifier","start":124,"end":130,"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":14},"identifierName":"Plugin"},"name":"Plugin"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":124,"end":130,"loc":{"start":{"line":3,"column":8},"end":{"line":3,"column":14},"identifierName":"Plugin"},"name":"Plugin"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"CallExpression","start":135,"end":156,"loc":{"start":{"line":3,"column":19},"end":{"line":3,"column":40}},"callee":{"type":"Identifier","start":135,"end":142,"loc":{"start":{"line":3,"column":19},"end":{"line":3,"column":26},"identifierName":"require"},"name":"require"},"arguments":[{"type":"Literal","start":143,"end":155,"loc":{"start":{"line":3,"column":27},"end":{"line":3,"column":39}},"value":"@uppy/core","raw":"'@uppy/core'"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":157,"end":189,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"declarations":[{"type":"VariableDeclarator","start":163,"end":189,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":32}},"id":{"type":"Identifier","start":163,"end":166,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":9},"identifierName":"Tus"},"name":"Tus"},"init":{"type":"CallExpression","start":169,"end":189,"loc":{"start":{"line":4,"column":12},"end":{"line":4,"column":32}},"callee":{"type":"Identifier","start":169,"end":176,"loc":{"start":{"line":4,"column":12},"end":{"line":4,"column":19},"identifierName":"require"},"name":"require"},"arguments":[{"type":"Literal","start":177,"end":188,"loc":{"start":{"line":4,"column":20},"end":{"line":4,"column":31}},"value":"@uppy/tus","raw":"'@uppy/tus'"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":190,"end":228,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":38}},"declarations":[{"type":"VariableDeclarator","start":196,"end":228,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":38}},"id":{"type":"Identifier","start":196,"end":204,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":14},"identifierName":"Assembly"},"name":"Assembly"},"init":{"type":"CallExpression","start":207,"end":228,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":38}},"callee":{"type":"Identifier","start":207,"end":214,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":24},"identifierName":"require"},"name":"require"},"arguments":[{"type":"Literal","start":215,"end":227,"loc":{"start":{"line":5,"column":25},"end":{"line":5,"column":37}},"value":"./Assembly","raw":"'./Assembly'"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":229,"end":263,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":34}},"declarations":[{"type":"VariableDeclarator","start":235,"end":263,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":34}},"id":{"type":"Identifier","start":235,"end":241,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":12},"identifierName":"Client"},"name":"Client"},"init":{"type":"CallExpression","start":244,"end":263,"loc":{"start":{"line":6,"column":15},"end":{"line":6,"column":34}},"callee":{"type":"Identifier","start":244,"end":251,"loc":{"start":{"line":6,"column":15},"end":{"line":6,"column":22},"identifierName":"require"},"name":"require"},"arguments":[{"type":"Literal","start":252,"end":262,"loc":{"start":{"line":6,"column":23},"end":{"line":6,"column":33}},"value":"./Client","raw":"'./Client'"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":264,"end":316,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":52}},"declarations":[{"type":"VariableDeclarator","start":270,"end":316,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":52}},"id":{"type":"Identifier","start":270,"end":285,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":21},"identifierName":"AssemblyOptions"},"name":"AssemblyOptions"},"init":{"type":"CallExpression","start":288,"end":316,"loc":{"start":{"line":7,"column":24},"end":{"line":7,"column":52}},"callee":{"type":"Identifier","start":288,"end":295,"loc":{"start":{"line":7,"column":24},"end":{"line":7,"column":31},"identifierName":"require"},"name":"require"},"arguments":[{"type":"Literal","start":296,"end":315,"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":51}},"value":"./AssemblyOptions","raw":"'./AssemblyOptions'"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":317,"end":369,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":52}},"declarations":[{"type":"VariableDeclarator","start":323,"end":369,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":52}},"id":{"type":"Identifier","start":323,"end":338,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":21},"identifierName":"AssemblyWatcher"},"name":"AssemblyWatcher"},"init":{"type":"CallExpression","start":341,"end":369,"loc":{"start":{"line":8,"column":24},"end":{"line":8,"column":52}},"callee":{"type":"Identifier","start":341,"end":348,"loc":{"start":{"line":8,"column":24},"end":{"line":8,"column":31},"identifierName":"require"},"name":"require"},"arguments":[{"type":"Literal","start":349,"end":368,"loc":{"start":{"line":8,"column":32},"end":{"line":8,"column":51}},"value":"./AssemblyWatcher","raw":"'./AssemblyWatcher'"}],"optional":false}}],"kind":"const"},{"type":"FunctionDeclaration","start":371,"end":529,"loc":{"start":{"line":10,"column":0},"end":{"line":16,"column":1}},"id":{"type":"Identifier","start":380,"end":405,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":34},"identifierName":"defaultGetAssemblyOptions"},"name":"defaultGetAssemblyOptions"},"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":407,"end":411,"loc":{"start":{"line":10,"column":36},"end":{"line":10,"column":40},"identifierName":"file"},"name":"file"},{"type":"Identifier","start":413,"end":420,"loc":{"start":{"line":10,"column":42},"end":{"line":10,"column":49},"identifierName":"options"},"name":"options"}],"body":{"type":"BlockStatement","start":422,"end":529,"loc":{"start":{"line":10,"column":51},"end":{"line":16,"column":1}},"body":[{"type":"ReturnStatement","start":426,"end":527,"loc":{"start":{"line":11,"column":2},"end":{"line":15,"column":3}},"argument":{"type":"ObjectExpression","start":433,"end":527,"loc":{"start":{"line":11,"column":9},"end":{"line":15,"column":3}},"properties":[{"type":"Property","start":439,"end":461,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":26}},"method":false,"key":{"type":"Identifier","start":439,"end":445,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":10},"identifierName":"params"},"name":"params"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":447,"end":461,"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":26}},"object":{"type":"Identifier","start":447,"end":454,"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":19},"identifierName":"options"},"name":"options"},"computed":false,"property":{"type":"Identifier","start":455,"end":461,"loc":{"start":{"line":12,"column":20},"end":{"line":12,"column":26},"identifierName":"params"},"name":"params"},"optional":false},"kind":"init"},{"type":"Property","start":467,"end":495,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":32}},"method":false,"key":{"type":"Identifier","start":467,"end":476,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":13},"identifierName":"signature"},"name":"signature"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":478,"end":495,"loc":{"start":{"line":13,"column":15},"end":{"line":13,"column":32}},"object":{"type":"Identifier","start":478,"end":485,"loc":{"start":{"line":13,"column":15},"end":{"line":13,"column":22},"identifierName":"options"},"name":"options"},"computed":false,"property":{"type":"Identifier","start":486,"end":495,"loc":{"start":{"line":13,"column":23},"end":{"line":13,"column":32},"identifierName":"signature"},"name":"signature"},"optional":false},"kind":"init"},{"type":"Property","start":501,"end":523,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":26}},"method":false,"key":{"type":"Identifier","start":501,"end":507,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":10},"identifierName":"fields"},"name":"fields"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":509,"end":523,"loc":{"start":{"line":14,"column":12},"end":{"line":14,"column":26}},"object":{"type":"Identifier","start":509,"end":516,"loc":{"start":{"line":14,"column":12},"end":{"line":14,"column":19},"identifierName":"options"},"name":"options"},"computed":false,"property":{"type":"Identifier","start":517,"end":523,"loc":{"start":{"line":14,"column":20},"end":{"line":14,"column":26},"identifierName":"fields"},"name":"fields"},"optional":false},"kind":"init"}]}}]}},{"type":"VariableDeclaration","start":531,"end":589,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":58}},"declarations":[{"type":"VariableDeclarator","start":537,"end":589,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":58}},"id":{"type":"Identifier","start":537,"end":546,"loc":{"start":{"line":18,"column":6},"end":{"line":18,"column":15},"identifierName":"COMPANION"},"name":"COMPANION"},"init":{"type":"Literal","start":549,"end":589,"loc":{"start":{"line":18,"column":18},"end":{"line":18,"column":58}},"value":"https://api2.transloadit.com/companion","raw":"'https://api2.transloadit.com/companion'"}}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" Regex matching acceptable postMessage() origins for authentication feedback from companion.","start":590,"end":684,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":94}}}]},{"type":"VariableDeclaration","start":685,"end":740,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":55}},"declarations":[{"type":"VariableDeclarator","start":691,"end":740,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":55}},"id":{"type":"Identifier","start":691,"end":716,"loc":{"start":{"line":20,"column":6},"end":{"line":20,"column":31},"identifierName":"ALLOWED_COMPANION_PATTERN"},"name":"ALLOWED_COMPANION_PATTERN"},"init":{"type":"Literal","start":719,"end":740,"loc":{"start":{"line":20,"column":34},"end":{"line":20,"column":55}},"value":{},"raw":"/\\.transloadit\\.com$/","regex":{"pattern":"\\.transloadit\\.com$","flags":""}}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" Regex matching acceptable postMessage() origins for authentication feedback from companion.","start":590,"end":684,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":94}}}],"trailingComments":[{"type":"CommentLine","value":" Regex used to check if a Companion address is run by Transloadit.","start":741,"end":809,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":68}}}]},{"type":"VariableDeclaration","start":810,"end":886,"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":76}},"declarations":[{"type":"VariableDeclarator","start":816,"end":886,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":76}},"id":{"type":"Identifier","start":816,"end":828,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":18},"identifierName":"TL_COMPANION"},"name":"TL_COMPANION"},"init":{"type":"Literal","start":831,"end":886,"loc":{"start":{"line":22,"column":21},"end":{"line":22,"column":76}},"value":{},"raw":"/https?:\\/\\/api2(?:-\\w+)?\\.transloadit\\.com\\/companion/","regex":{"pattern":"https?:\\/\\/api2(?:-\\w+)?\\.transloadit\\.com\\/companion","flags":""}}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" Regex used to check if a Companion address is run by Transloadit.","start":741,"end":809,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":68}}}]},{"type":"VariableDeclaration","start":887,"end":967,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":80}},"declarations":[{"type":"VariableDeclarator","start":893,"end":967,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":80}},"id":{"type":"Identifier","start":893,"end":907,"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":20},"identifierName":"TL_UPPY_SERVER"},"name":"TL_UPPY_SERVER"},"init":{"type":"Literal","start":910,"end":967,"loc":{"start":{"line":23,"column":23},"end":{"line":23,"column":80}},"value":{},"raw":"/https?:\\/\\/api2(?:-\\w+)?\\.transloadit\\.com\\/uppy-server/","regex":{"pattern":"https?:\\/\\/api2(?:-\\w+)?\\.transloadit\\.com\\/uppy-server","flags":""}}}],"kind":"const","trailingComments":[{"type":"CommentBlock","value":"*\n * Upload files to Transloadit using Tus.\n ","start":969,"end":1018,"loc":{"start":{"line":25,"column":0},"end":{"line":27,"column":3}}}]},{"type":"ExpressionStatement","start":1019,"end":27440,"loc":{"start":{"line":28,"column":0},"end":{"line":851,"column":1}},"expression":{"type":"AssignmentExpression","start":1019,"end":27440,"loc":{"start":{"line":28,"column":0},"end":{"line":851,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":1019,"end":1033,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":14}},"object":{"type":"Identifier","start":1019,"end":1025,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":6},"identifierName":"module"},"name":"module"},"computed":false,"property":{"type":"Identifier","start":1026,"end":1033,"loc":{"start":{"line":28,"column":7},"end":{"line":28,"column":14},"identifierName":"exports"},"name":"exports"},"optional":false},"right":{"type":"ClassExpression","start":1036,"end":27440,"loc":{"start":{"line":28,"column":17},"end":{"line":851,"column":1}},"id":{"type":"Identifier","start":1042,"end":1053,"loc":{"start":{"line":28,"column":23},"end":{"line":28,"column":34},"identifierName":"Transloadit"},"name":"Transloadit"},"superClass":{"type":"Identifier","start":1062,"end":1068,"loc":{"start":{"line":28,"column":43},"end":{"line":28,"column":49},"identifierName":"Plugin"},"name":"Plugin"},"body":{"type":"ClassBody","start":1069,"end":27440,"loc":{"start":{"line":28,"column":50},"end":{"line":851,"column":1}},"body":[{"type":"ClassProperty","start":1073,"end":1124,"loc":{"start":{"line":29,"column":2},"end":{"line":29,"column":53}},"static":true,"key":{"type":"Identifier","start":1080,"end":1087,"loc":{"start":{"line":29,"column":9},"end":{"line":29,"column":16},"identifierName":"VERSION"},"name":"VERSION"},"computed":false,"variance":null,"value":{"type":"MemberExpression","start":1090,"end":1124,"loc":{"start":{"line":29,"column":19},"end":{"line":29,"column":53}},"object":{"type":"CallExpression","start":1090,"end":1116,"loc":{"start":{"line":29,"column":19},"end":{"line":29,"column":45}},"callee":{"type":"Identifier","start":1090,"end":1097,"loc":{"start":{"line":29,"column":19},"end":{"line":29,"column":26},"identifierName":"require"},"name":"require"},"arguments":[{"type":"Literal","start":1098,"end":1115,"loc":{"start":{"line":29,"column":27},"end":{"line":29,"column":44}},"value":"../package.json","raw":"'../package.json'"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":1117,"end":1124,"loc":{"start":{"line":29,"column":46},"end":{"line":29,"column":53},"identifierName":"version"},"name":"version"},"optional":false}},{"type":"MethodDefinition","start":1128,"end":3314,"loc":{"start":{"line":31,"column":2},"end":{"line":92,"column":3}},"static":false,"key":{"type":"Identifier","start":1128,"end":1139,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":13},"identifierName":"constructor"},"name":"constructor"},"computed":false,"kind":"constructor","value":{"type":"FunctionExpression","start":1140,"end":3314,"loc":{"start":{"line":31,"column":14},"end":{"line":92,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":1141,"end":1145,"loc":{"start":{"line":31,"column":15},"end":{"line":31,"column":19},"identifierName":"uppy"},"name":"uppy"},{"type":"Identifier","start":1147,"end":1151,"loc":{"start":{"line":31,"column":21},"end":{"line":31,"column":25},"identifierName":"opts"},"name":"opts"}],"body":{"type":"BlockStatement","start":1153,"end":3314,"loc":{"start":{"line":31,"column":27},"end":{"line":92,"column":3}},"body":[{"type":"ExpressionStatement","start":1159,"end":1176,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":21}},"expression":{"type":"CallExpression","start":1159,"end":1176,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":21}},"callee":{"type":"Super","start":1159,"end":1164,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":9}}},"arguments":[{"type":"Identifier","start":1165,"end":1169,"loc":{"start":{"line":32,"column":10},"end":{"line":32,"column":14},"identifierName":"uppy"},"name":"uppy"},{"type":"Identifier","start":1171,"end":1175,"loc":{"start":{"line":32,"column":16},"end":{"line":32,"column":20},"identifierName":"opts"},"name":"opts"}],"optional":false}},{"type":"ExpressionStatement","start":1181,"end":1203,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":26}},"expression":{"type":"AssignmentExpression","start":1181,"end":1203,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":26}},"operator":"=","left":{"type":"MemberExpression","start":1181,"end":1190,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":13}},"object":{"type":"ThisExpression","start":1181,"end":1185,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":8}}},"computed":false,"property":{"type":"Identifier","start":1186,"end":1190,"loc":{"start":{"line":33,"column":9},"end":{"line":33,"column":13},"identifierName":"type"},"name":"type"},"optional":false},"right":{"type":"Literal","start":1193,"end":1203,"loc":{"start":{"line":33,"column":16},"end":{"line":33,"column":26}},"value":"uploader","raw":"'uploader'"}}},{"type":"ExpressionStatement","start":1208,"end":1247,"loc":{"start":{"line":34,"column":4},"end":{"line":34,"column":43}},"expression":{"type":"AssignmentExpression","start":1208,"end":1247,"loc":{"start":{"line":34,"column":4},"end":{"line":34,"column":43}},"operator":"=","left":{"type":"MemberExpression","start":1208,"end":1215,"loc":{"start":{"line":34,"column":4},"end":{"line":34,"column":11}},"object":{"type":"ThisExpression","start":1208,"end":1212,"loc":{"start":{"line":34,"column":4},"end":{"line":34,"column":8}}},"computed":false,"property":{"type":"Identifier","start":1213,"end":1215,"loc":{"start":{"line":34,"column":9},"end":{"line":34,"column":11},"identifierName":"id"},"name":"id"},"optional":false},"right":{"type":"LogicalExpression","start":1218,"end":1247,"loc":{"start":{"line":34,"column":14},"end":{"line":34,"column":43}},"left":{"type":"MemberExpression","start":1218,"end":1230,"loc":{"start":{"line":34,"column":14},"end":{"line":34,"column":26}},"object":{"type":"MemberExpression","start":1218,"end":1227,"loc":{"start":{"line":34,"column":14},"end":{"line":34,"column":23}},"object":{"type":"ThisExpression","start":1218,"end":1222,"loc":{"start":{"line":34,"column":14},"end":{"line":34,"column":18}}},"computed":false,"property":{"type":"Identifier","start":1223,"end":1227,"loc":{"start":{"line":34,"column":19},"end":{"line":34,"column":23},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":1228,"end":1230,"loc":{"start":{"line":34,"column":24},"end":{"line":34,"column":26},"identifierName":"id"},"name":"id"},"optional":false},"operator":"||","right":{"type":"Literal","start":1234,"end":1247,"loc":{"start":{"line":34,"column":30},"end":{"line":34,"column":43}},"value":"Transloadit","raw":"'Transloadit'"}}}},{"type":"ExpressionStatement","start":1252,"end":1278,"loc":{"start":{"line":35,"column":4},"end":{"line":35,"column":30}},"expression":{"type":"AssignmentExpression","start":1252,"end":1278,"loc":{"start":{"line":35,"column":4},"end":{"line":35,"column":30}},"operator":"=","left":{"type":"MemberExpression","start":1252,"end":1262,"loc":{"start":{"line":35,"column":4},"end":{"line":35,"column":14}},"object":{"type":"ThisExpression","start":1252,"end":1256,"loc":{"start":{"line":35,"column":4},"end":{"line":35,"column":8}}},"computed":false,"property":{"type":"Identifier","start":1257,"end":1262,"loc":{"start":{"line":35,"column":9},"end":{"line":35,"column":14},"identifierName":"title"},"name":"title"},"optional":false},"right":{"type":"Literal","start":1265,"end":1278,"loc":{"start":{"line":35,"column":17},"end":{"line":35,"column":30}},"value":"Transloadit","raw":"'Transloadit'"}}},{"type":"ExpressionStatement","start":1284,"end":1492,"loc":{"start":{"line":37,"column":4},"end":{"line":43,"column":5}},"expression":{"type":"AssignmentExpression","start":1284,"end":1492,"loc":{"start":{"line":37,"column":4},"end":{"line":43,"column":5}},"operator":"=","left":{"type":"MemberExpression","start":1284,"end":1302,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":22}},"object":{"type":"ThisExpression","start":1284,"end":1288,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":8}}},"computed":false,"property":{"type":"Identifier","start":1289,"end":1302,"loc":{"start":{"line":37,"column":9},"end":{"line":37,"column":22},"identifierName":"defaultLocale"},"name":"defaultLocale"},"optional":false},"right":{"type":"ObjectExpression","start":1305,"end":1492,"loc":{"start":{"line":37,"column":25},"end":{"line":43,"column":5}},"properties":[{"type":"Property","start":1313,"end":1486,"loc":{"start":{"line":38,"column":6},"end":{"line":42,"column":7}},"method":false,"key":{"type":"Identifier","start":1313,"end":1320,"loc":{"start":{"line":38,"column":6},"end":{"line":38,"column":13},"identifierName":"strings"},"name":"strings"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":1322,"end":1486,"loc":{"start":{"line":38,"column":15},"end":{"line":42,"column":7}},"properties":[{"type":"Property","start":1332,"end":1371,"loc":{"start":{"line":39,"column":8},"end":{"line":39,"column":47}},"method":false,"key":{"type":"Identifier","start":1332,"end":1348,"loc":{"start":{"line":39,"column":8},"end":{"line":39,"column":24},"identifierName":"creatingAssembly"},"name":"creatingAssembly"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":1350,"end":1371,"loc":{"start":{"line":39,"column":26},"end":{"line":39,"column":47}},"value":"Preparing upload...","raw":"'Preparing upload...'"},"kind":"init"},{"type":"Property","start":1381,"end":1445,"loc":{"start":{"line":40,"column":8},"end":{"line":40,"column":72}},"method":false,"key":{"type":"Identifier","start":1381,"end":1403,"loc":{"start":{"line":40,"column":8},"end":{"line":40,"column":30},"identifierName":"creatingAssemblyFailed"},"name":"creatingAssemblyFailed"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":1405,"end":1445,"loc":{"start":{"line":40,"column":32},"end":{"line":40,"column":72}},"value":"Transloadit: Could not create Assembly","raw":"'Transloadit: Could not create Assembly'"},"kind":"init"},{"type":"Property","start":1455,"end":1478,"loc":{"start":{"line":41,"column":8},"end":{"line":41,"column":31}},"method":false,"key":{"type":"Identifier","start":1455,"end":1463,"loc":{"start":{"line":41,"column":8},"end":{"line":41,"column":16},"identifierName":"encoding"},"name":"encoding"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":1465,"end":1478,"loc":{"start":{"line":41,"column":18},"end":{"line":41,"column":31}},"value":"Encoding...","raw":"'Encoding...'"},"kind":"init"}]},"kind":"init"}]}}},{"type":"VariableDeclaration","start":1498,"end":1859,"loc":{"start":{"line":45,"column":4},"end":{"line":57,"column":5}},"declarations":[{"type":"VariableDeclarator","start":1504,"end":1859,"loc":{"start":{"line":45,"column":10},"end":{"line":57,"column":5}},"id":{"type":"Identifier","start":1504,"end":1518,"loc":{"start":{"line":45,"column":10},"end":{"line":45,"column":24},"identifierName":"defaultOptions"},"name":"defaultOptions"},"init":{"type":"ObjectExpression","start":1521,"end":1859,"loc":{"start":{"line":45,"column":27},"end":{"line":57,"column":5}},"properties":[{"type":"Property","start":1529,"end":1568,"loc":{"start":{"line":46,"column":6},"end":{"line":46,"column":45}},"method":false,"key":{"type":"Identifier","start":1529,"end":1536,"loc":{"start":{"line":46,"column":6},"end":{"line":46,"column":13},"identifierName":"service"},"name":"service"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":1538,"end":1568,"loc":{"start":{"line":46,"column":15},"end":{"line":46,"column":45}},"value":"https://api2.transloadit.com","raw":"'https://api2.transloadit.com'"},"kind":"init"},{"type":"Property","start":1576,"end":1596,"loc":{"start":{"line":47,"column":6},"end":{"line":47,"column":26}},"method":false,"key":{"type":"Identifier","start":1576,"end":1590,"loc":{"start":{"line":47,"column":6},"end":{"line":47,"column":20},"identifierName":"errorReporting"},"name":"errorReporting"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":1592,"end":1596,"loc":{"start":{"line":47,"column":22},"end":{"line":47,"column":26}},"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":1604,"end":1626,"loc":{"start":{"line":48,"column":6},"end":{"line":48,"column":28}},"method":false,"key":{"type":"Identifier","start":1604,"end":1619,"loc":{"start":{"line":48,"column":6},"end":{"line":48,"column":21},"identifierName":"waitForEncoding"},"name":"waitForEncoding"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":1621,"end":1626,"loc":{"start":{"line":48,"column":23},"end":{"line":48,"column":28}},"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":1634,"end":1656,"loc":{"start":{"line":49,"column":6},"end":{"line":49,"column":28}},"method":false,"key":{"type":"Identifier","start":1634,"end":1649,"loc":{"start":{"line":49,"column":6},"end":{"line":49,"column":21},"identifierName":"waitForMetadata"},"name":"waitForMetadata"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":1651,"end":1656,"loc":{"start":{"line":49,"column":23},"end":{"line":49,"column":28}},"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":1664,"end":1688,"loc":{"start":{"line":50,"column":6},"end":{"line":50,"column":30}},"method":false,"key":{"type":"Identifier","start":1664,"end":1681,"loc":{"start":{"line":50,"column":6},"end":{"line":50,"column":23},"identifierName":"alwaysRunAssembly"},"name":"alwaysRunAssembly"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":1683,"end":1688,"loc":{"start":{"line":50,"column":25},"end":{"line":50,"column":30}},"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":1696,"end":1723,"loc":{"start":{"line":51,"column":6},"end":{"line":51,"column":33}},"method":false,"key":{"type":"Identifier","start":1696,"end":1716,"loc":{"start":{"line":51,"column":6},"end":{"line":51,"column":26},"identifierName":"importFromUploadURLs"},"name":"importFromUploadURLs"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":1718,"end":1723,"loc":{"start":{"line":51,"column":28},"end":{"line":51,"column":33}},"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":1731,"end":1746,"loc":{"start":{"line":52,"column":6},"end":{"line":52,"column":21}},"method":false,"key":{"type":"Identifier","start":1731,"end":1740,"loc":{"start":{"line":52,"column":6},"end":{"line":52,"column":15},"identifierName":"signature"},"name":"signature"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":1742,"end":1746,"loc":{"start":{"line":52,"column":17},"end":{"line":52,"column":21}},"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":1754,"end":1766,"loc":{"start":{"line":53,"column":6},"end":{"line":53,"column":18}},"method":false,"key":{"type":"Identifier","start":1754,"end":1760,"loc":{"start":{"line":53,"column":6},"end":{"line":53,"column":12},"identifierName":"params"},"name":"params"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":1762,"end":1766,"loc":{"start":{"line":53,"column":14},"end":{"line":53,"column":18}},"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":1774,"end":1784,"loc":{"start":{"line":54,"column":6},"end":{"line":54,"column":16}},"method":false,"key":{"type":"Identifier","start":1774,"end":1780,"loc":{"start":{"line":54,"column":6},"end":{"line":54,"column":12},"identifierName":"fields"},"name":"fields"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":1782,"end":1784,"loc":{"start":{"line":54,"column":14},"end":{"line":54,"column":16}},"properties":[]},"kind":"init"},{"type":"Property","start":1792,"end":1837,"loc":{"start":{"line":55,"column":6},"end":{"line":55,"column":51}},"method":false,"key":{"type":"Identifier","start":1792,"end":1810,"loc":{"start":{"line":55,"column":6},"end":{"line":55,"column":24},"identifierName":"getAssemblyOptions"},"name":"getAssemblyOptions"},"computed":false,"shorthand":false,"value":{"type":"Identifier","start":1812,"end":1837,"loc":{"start":{"line":55,"column":26},"end":{"line":55,"column":51},"identifierName":"defaultGetAssemblyOptions"},"name":"defaultGetAssemblyOptions"},"kind":"init"},{"type":"Property","start":1845,"end":1853,"loc":{"start":{"line":56,"column":6},"end":{"line":56,"column":14}},"method":false,"key":{"type":"Identifier","start":1845,"end":1850,"loc":{"start":{"line":56,"column":6},"end":{"line":56,"column":11},"identifierName":"limit"},"name":"limit"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":1852,"end":1853,"loc":{"start":{"line":56,"column":13},"end":{"line":56,"column":14}},"value":0,"raw":"0"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1865,"end":1907,"loc":{"start":{"line":59,"column":4},"end":{"line":59,"column":46}},"expression":{"type":"AssignmentExpression","start":1865,"end":1907,"loc":{"start":{"line":59,"column":4},"end":{"line":59,"column":46}},"operator":"=","left":{"type":"MemberExpression","start":1865,"end":1874,"loc":{"start":{"line":59,"column":4},"end":{"line":59,"column":13}},"object":{"type":"ThisExpression","start":1865,"end":1869,"loc":{"start":{"line":59,"column":4},"end":{"line":59,"column":8}}},"computed":false,"property":{"type":"Identifier","start":1870,"end":1874,"loc":{"start":{"line":59,"column":9},"end":{"line":59,"column":13},"identifierName":"opts"},"name":"opts"},"optional":false},"right":{"type":"ObjectExpression","start":1877,"end":1907,"loc":{"start":{"line":59,"column":16},"end":{"line":59,"column":46}},"properties":[{"type":"SpreadElement","start":1879,"end":1896,"loc":{"start":{"line":59,"column":18},"end":{"line":59,"column":35}},"argument":{"type":"Identifier","start":1882,"end":1896,"loc":{"start":{"line":59,"column":21},"end":{"line":59,"column":35},"identifierName":"defaultOptions"},"name":"defaultOptions"}},{"type":"SpreadElement","start":1898,"end":1905,"loc":{"start":{"line":59,"column":37},"end":{"line":59,"column":44}},"argument":{"type":"Identifier","start":1901,"end":1905,"loc":{"start":{"line":59,"column":40},"end":{"line":59,"column":44},"identifierName":"opts"},"name":"opts"}}]}}},{"type":"ExpressionStatement","start":1913,"end":1928,"loc":{"start":{"line":61,"column":4},"end":{"line":61,"column":19}},"expression":{"type":"CallExpression","start":1913,"end":1928,"loc":{"start":{"line":61,"column":4},"end":{"line":61,"column":19}},"callee":{"type":"MemberExpression","start":1913,"end":1926,"loc":{"start":{"line":61,"column":4},"end":{"line":61,"column":17}},"object":{"type":"ThisExpression","start":1913,"end":1917,"loc":{"start":{"line":61,"column":4},"end":{"line":61,"column":8}}},"computed":false,"property":{"type":"Identifier","start":1918,"end":1926,"loc":{"start":{"line":61,"column":9},"end":{"line":61,"column":17},"identifierName":"i18nInit"},"name":"i18nInit"},"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":1934,"end":1986,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":56}},"expression":{"type":"AssignmentExpression","start":1934,"end":1986,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":56}},"operator":"=","left":{"type":"MemberExpression","start":1934,"end":1953,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":23}},"object":{"type":"ThisExpression","start":1934,"end":1938,"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":8}}},"computed":false,"property":{"type":"Identifier","start":1939,"end":1953,"loc":{"start":{"line":63,"column":9},"end":{"line":63,"column":23},"identifierName":"_prepareUpload"},"name":"_prepareUpload"},"optional":false},"right":{"type":"CallExpression","start":1956,"end":1986,"loc":{"start":{"line":63,"column":26},"end":{"line":63,"column":56}},"callee":{"type":"MemberExpression","start":1956,"end":1980,"loc":{"start":{"line":63,"column":26},"end":{"line":63,"column":50}},"object":{"type":"MemberExpression","start":1956,"end":1975,"loc":{"start":{"line":63,"column":26},"end":{"line":63,"column":45}},"object":{"type":"ThisExpression","start":1956,"end":1960,"loc":{"start":{"line":63,"column":26},"end":{"line":63,"column":30}}},"computed":false,"property":{"type":"Identifier","start":1961,"end":1975,"loc":{"start":{"line":63,"column":31},"end":{"line":63,"column":45},"identifierName":"_prepareUpload"},"name":"_prepareUpload"},"optional":false},"computed":false,"property":{"type":"Identifier","start":1976,"end":1980,"loc":{"start":{"line":63,"column":46},"end":{"line":63,"column":50},"identifierName":"bind"},"name":"bind"},"optional":false},"arguments":[{"type":"ThisExpression","start":1981,"end":1985,"loc":{"start":{"line":63,"column":51},"end":{"line":63,"column":55}}}],"optional":false}}},{"type":"ExpressionStatement","start":1991,"end":2039,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":52}},"expression":{"type":"AssignmentExpression","start":1991,"end":2039,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":52}},"operator":"=","left":{"type":"MemberExpression","start":1991,"end":2008,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":21}},"object":{"type":"ThisExpression","start":1991,"end":1995,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":8}}},"computed":false,"property":{"type":"Identifier","start":1996,"end":2008,"loc":{"start":{"line":64,"column":9},"end":{"line":64,"column":21},"identifierName":"_afterUpload"},"name":"_afterUpload"},"optional":false},"right":{"type":"CallExpression","start":2011,"end":2039,"loc":{"start":{"line":64,"column":24},"end":{"line":64,"column":52}},"callee":{"type":"MemberExpression","start":2011,"end":2033,"loc":{"start":{"line":64,"column":24},"end":{"line":64,"column":46}},"object":{"type":"MemberExpression","start":2011,"end":2028,"loc":{"start":{"line":64,"column":24},"end":{"line":64,"column":41}},"object":{"type":"ThisExpression","start":2011,"end":2015,"loc":{"start":{"line":64,"column":24},"end":{"line":64,"column":28}}},"computed":false,"property":{"type":"Identifier","start":2016,"end":2028,"loc":{"start":{"line":64,"column":29},"end":{"line":64,"column":41},"identifierName":"_afterUpload"},"name":"_afterUpload"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2029,"end":2033,"loc":{"start":{"line":64,"column":42},"end":{"line":64,"column":46},"identifierName":"bind"},"name":"bind"},"optional":false},"arguments":[{"type":"ThisExpression","start":2034,"end":2038,"loc":{"start":{"line":64,"column":47},"end":{"line":64,"column":51}}}],"optional":false}}},{"type":"ExpressionStatement","start":2044,"end":2084,"loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":44}},"expression":{"type":"AssignmentExpression","start":2044,"end":2084,"loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":44}},"operator":"=","left":{"type":"MemberExpression","start":2044,"end":2057,"loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":17}},"object":{"type":"ThisExpression","start":2044,"end":2048,"loc":{"start":{"line":65,"column":4},"end":{"line":65,"column":8}}},"computed":false,"property":{"type":"Identifier","start":2049,"end":2057,"loc":{"start":{"line":65,"column":9},"end":{"line":65,"column":17},"identifierName":"_onError"},"name":"_onError"},"optional":false},"right":{"type":"CallExpression","start":2060,"end":2084,"loc":{"start":{"line":65,"column":20},"end":{"line":65,"column":44}},"callee":{"type":"MemberExpression","start":2060,"end":2078,"loc":{"start":{"line":65,"column":20},"end":{"line":65,"column":38}},"object":{"type":"MemberExpression","start":2060,"end":2073,"loc":{"start":{"line":65,"column":20},"end":{"line":65,"column":33}},"object":{"type":"ThisExpression","start":2060,"end":2064,"loc":{"start":{"line":65,"column":20},"end":{"line":65,"column":24}}},"computed":false,"property":{"type":"Identifier","start":2065,"end":2073,"loc":{"start":{"line":65,"column":25},"end":{"line":65,"column":33},"identifierName":"_onError"},"name":"_onError"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2074,"end":2078,"loc":{"start":{"line":65,"column":34},"end":{"line":65,"column":38},"identifierName":"bind"},"name":"bind"},"optional":false},"arguments":[{"type":"ThisExpression","start":2079,"end":2083,"loc":{"start":{"line":65,"column":39},"end":{"line":65,"column":43}}}],"optional":false}}},{"type":"ExpressionStatement","start":2089,"end":2135,"loc":{"start":{"line":66,"column":4},"end":{"line":66,"column":50}},"expression":{"type":"AssignmentExpression","start":2089,"end":2135,"loc":{"start":{"line":66,"column":4},"end":{"line":66,"column":50}},"operator":"=","left":{"type":"MemberExpression","start":2089,"end":2105,"loc":{"start":{"line":66,"column":4},"end":{"line":66,"column":20}},"object":{"type":"ThisExpression","start":2089,"end":2093,"loc":{"start":{"line":66,"column":4},"end":{"line":66,"column":8}}},"computed":false,"property":{"type":"Identifier","start":2094,"end":2105,"loc":{"start":{"line":66,"column":9},"end":{"line":66,"column":20},"identifierName":"_onTusError"},"name":"_onTusError"},"optional":false},"right":{"type":"CallExpression","start":2108,"end":2135,"loc":{"start":{"line":66,"column":23},"end":{"line":66,"column":50}},"callee":{"type":"MemberExpression","start":2108,"end":2129,"loc":{"start":{"line":66,"column":23},"end":{"line":66,"column":44}},"object":{"type":"MemberExpression","start":2108,"end":2124,"loc":{"start":{"line":66,"column":23},"end":{"line":66,"column":39}},"object":{"type":"ThisExpression","start":2108,"end":2112,"loc":{"start":{"line":66,"column":23},"end":{"line":66,"column":27}}},"computed":false,"property":{"type":"Identifier","start":2113,"end":2124,"loc":{"start":{"line":66,"column":28},"end":{"line":66,"column":39},"identifierName":"_onTusError"},"name":"_onTusError"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2125,"end":2129,"loc":{"start":{"line":66,"column":40},"end":{"line":66,"column":44},"identifierName":"bind"},"name":"bind"},"optional":false},"arguments":[{"type":"ThisExpression","start":2130,"end":2134,"loc":{"start":{"line":66,"column":45},"end":{"line":66,"column":49}}}],"optional":false}}},{"type":"ExpressionStatement","start":2140,"end":2188,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":52}},"expression":{"type":"AssignmentExpression","start":2140,"end":2188,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":52}},"operator":"=","left":{"type":"MemberExpression","start":2140,"end":2157,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":21}},"object":{"type":"ThisExpression","start":2140,"end":2144,"loc":{"start":{"line":67,"column":4},"end":{"line":67,"column":8}}},"computed":false,"property":{"type":"Identifier","start":2145,"end":2157,"loc":{"start":{"line":67,"column":9},"end":{"line":67,"column":21},"identifierName":"_onCancelAll"},"name":"_onCancelAll"},"optional":false},"right":{"type":"CallExpression","start":2160,"end":2188,"loc":{"start":{"line":67,"column":24},"end":{"line":67,"column":52}},"callee":{"type":"MemberExpression","start":2160,"end":2182,"loc":{"start":{"line":67,"column":24},"end":{"line":67,"column":46}},"object":{"type":"MemberExpression","start":2160,"end":2177,"loc":{"start":{"line":67,"column":24},"end":{"line":67,"column":41}},"object":{"type":"ThisExpression","start":2160,"end":2164,"loc":{"start":{"line":67,"column":24},"end":{"line":67,"column":28}}},"computed":false,"property":{"type":"Identifier","start":2165,"end":2177,"loc":{"start":{"line":67,"column":29},"end":{"line":67,"column":41},"identifierName":"_onCancelAll"},"name":"_onCancelAll"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2178,"end":2182,"loc":{"start":{"line":67,"column":42},"end":{"line":67,"column":46},"identifierName":"bind"},"name":"bind"},"optional":false},"arguments":[{"type":"ThisExpression","start":2183,"end":2187,"loc":{"start":{"line":67,"column":47},"end":{"line":67,"column":51}}}],"optional":false}}},{"type":"ExpressionStatement","start":2193,"end":2267,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":78}},"expression":{"type":"AssignmentExpression","start":2193,"end":2267,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":78}},"operator":"=","left":{"type":"MemberExpression","start":2193,"end":2223,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":34}},"object":{"type":"ThisExpression","start":2193,"end":2197,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":8}}},"computed":false,"property":{"type":"Identifier","start":2198,"end":2223,"loc":{"start":{"line":68,"column":9},"end":{"line":68,"column":34},"identifierName":"_onFileUploadURLAvailable"},"name":"_onFileUploadURLAvailable"},"optional":false},"right":{"type":"CallExpression","start":2226,"end":2267,"loc":{"start":{"line":68,"column":37},"end":{"line":68,"column":78}},"callee":{"type":"MemberExpression","start":2226,"end":2261,"loc":{"start":{"line":68,"column":37},"end":{"line":68,"column":72}},"object":{"type":"MemberExpression","start":2226,"end":2256,"loc":{"start":{"line":68,"column":37},"end":{"line":68,"column":67}},"object":{"type":"ThisExpression","start":2226,"end":2230,"loc":{"start":{"line":68,"column":37},"end":{"line":68,"column":41}}},"computed":false,"property":{"type":"Identifier","start":2231,"end":2256,"loc":{"start":{"line":68,"column":42},"end":{"line":68,"column":67},"identifierName":"_onFileUploadURLAvailable"},"name":"_onFileUploadURLAvailable"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2257,"end":2261,"loc":{"start":{"line":68,"column":68},"end":{"line":68,"column":72},"identifierName":"bind"},"name":"bind"},"optional":false},"arguments":[{"type":"ThisExpression","start":2262,"end":2266,"loc":{"start":{"line":68,"column":73},"end":{"line":68,"column":77}}}],"optional":false}}},{"type":"ExpressionStatement","start":2272,"end":2318,"loc":{"start":{"line":69,"column":4},"end":{"line":69,"column":50}},"expression":{"type":"AssignmentExpression","start":2272,"end":2318,"loc":{"start":{"line":69,"column":4},"end":{"line":69,"column":50}},"operator":"=","left":{"type":"MemberExpression","start":2272,"end":2288,"loc":{"start":{"line":69,"column":4},"end":{"line":69,"column":20}},"object":{"type":"ThisExpression","start":2272,"end":2276,"loc":{"start":{"line":69,"column":4},"end":{"line":69,"column":8}}},"computed":false,"property":{"type":"Identifier","start":2277,"end":2288,"loc":{"start":{"line":69,"column":9},"end":{"line":69,"column":20},"identifierName":"_onRestored"},"name":"_onRestored"},"optional":false},"right":{"type":"CallExpression","start":2291,"end":2318,"loc":{"start":{"line":69,"column":23},"end":{"line":69,"column":50}},"callee":{"type":"MemberExpression","start":2291,"end":2312,"loc":{"start":{"line":69,"column":23},"end":{"line":69,"column":44}},"object":{"type":"MemberExpression","start":2291,"end":2307,"loc":{"start":{"line":69,"column":23},"end":{"line":69,"column":39}},"object":{"type":"ThisExpression","start":2291,"end":2295,"loc":{"start":{"line":69,"column":23},"end":{"line":69,"column":27}}},"computed":false,"property":{"type":"Identifier","start":2296,"end":2307,"loc":{"start":{"line":69,"column":28},"end":{"line":69,"column":39},"identifierName":"_onRestored"},"name":"_onRestored"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2308,"end":2312,"loc":{"start":{"line":69,"column":40},"end":{"line":69,"column":44},"identifierName":"bind"},"name":"bind"},"optional":false},"arguments":[{"type":"ThisExpression","start":2313,"end":2317,"loc":{"start":{"line":69,"column":45},"end":{"line":69,"column":49}}}],"optional":false}}},{"type":"ExpressionStatement","start":2323,"end":2383,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":64}},"expression":{"type":"AssignmentExpression","start":2323,"end":2383,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":64}},"operator":"=","left":{"type":"MemberExpression","start":2323,"end":2346,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":27}},"object":{"type":"ThisExpression","start":2323,"end":2327,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":8}}},"computed":false,"property":{"type":"Identifier","start":2328,"end":2346,"loc":{"start":{"line":70,"column":9},"end":{"line":70,"column":27},"identifierName":"_getPersistentData"},"name":"_getPersistentData"},"optional":false},"right":{"type":"CallExpression","start":2349,"end":2383,"loc":{"start":{"line":70,"column":30},"end":{"line":70,"column":64}},"callee":{"type":"MemberExpression","start":2349,"end":2377,"loc":{"start":{"line":70,"column":30},"end":{"line":70,"column":58}},"object":{"type":"MemberExpression","start":2349,"end":2372,"loc":{"start":{"line":70,"column":30},"end":{"line":70,"column":53}},"object":{"type":"ThisExpression","start":2349,"end":2353,"loc":{"start":{"line":70,"column":30},"end":{"line":70,"column":34}}},"computed":false,"property":{"type":"Identifier","start":2354,"end":2372,"loc":{"start":{"line":70,"column":35},"end":{"line":70,"column":53},"identifierName":"_getPersistentData"},"name":"_getPersistentData"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2373,"end":2377,"loc":{"start":{"line":70,"column":54},"end":{"line":70,"column":58},"identifierName":"bind"},"name":"bind"},"optional":false},"arguments":[{"type":"ThisExpression","start":2378,"end":2382,"loc":{"start":{"line":70,"column":59},"end":{"line":70,"column":63}}}],"optional":false}}},{"type":"VariableDeclaration","start":2389,"end":2488,"loc":{"start":{"line":72,"column":4},"end":{"line":72,"column":103}},"declarations":[{"type":"VariableDeclarator","start":2395,"end":2488,"loc":{"start":{"line":72,"column":10},"end":{"line":72,"column":103}},"id":{"type":"Identifier","start":2395,"end":2419,"loc":{"start":{"line":72,"column":10},"end":{"line":72,"column":34},"identifierName":"hasCustomAssemblyOptions"},"name":"hasCustomAssemblyOptions"},"init":{"type":"BinaryExpression","start":2422,"end":2488,"loc":{"start":{"line":72,"column":37},"end":{"line":72,"column":103}},"left":{"type":"MemberExpression","start":2422,"end":2450,"loc":{"start":{"line":72,"column":37},"end":{"line":72,"column":65}},"object":{"type":"MemberExpression","start":2422,"end":2431,"loc":{"start":{"line":72,"column":37},"end":{"line":72,"column":46}},"object":{"type":"ThisExpression","start":2422,"end":2426,"loc":{"start":{"line":72,"column":37},"end":{"line":72,"column":41}}},"computed":false,"property":{"type":"Identifier","start":2427,"end":2431,"loc":{"start":{"line":72,"column":42},"end":{"line":72,"column":46},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2432,"end":2450,"loc":{"start":{"line":72,"column":47},"end":{"line":72,"column":65},"identifierName":"getAssemblyOptions"},"name":"getAssemblyOptions"},"optional":false},"operator":"!==","right":{"type":"MemberExpression","start":2455,"end":2488,"loc":{"start":{"line":72,"column":70},"end":{"line":72,"column":103}},"object":{"type":"Identifier","start":2455,"end":2469,"loc":{"start":{"line":72,"column":70},"end":{"line":72,"column":84},"identifierName":"defaultOptions"},"name":"defaultOptions"},"computed":false,"property":{"type":"Identifier","start":2470,"end":2488,"loc":{"start":{"line":72,"column":85},"end":{"line":72,"column":103},"identifierName":"getAssemblyOptions"},"name":"getAssemblyOptions"},"optional":false}}}],"kind":"const"},{"type":"IfStatement","start":2493,"end":2792,"loc":{"start":{"line":73,"column":4},"end":{"line":79,"column":5}},"test":{"type":"MemberExpression","start":2497,"end":2513,"loc":{"start":{"line":73,"column":8},"end":{"line":73,"column":24}},"object":{"type":"MemberExpression","start":2497,"end":2506,"loc":{"start":{"line":73,"column":8},"end":{"line":73,"column":17}},"object":{"type":"ThisExpression","start":2497,"end":2501,"loc":{"start":{"line":73,"column":8},"end":{"line":73,"column":12}}},"computed":false,"property":{"type":"Identifier","start":2502,"end":2506,"loc":{"start":{"line":73,"column":13},"end":{"line":73,"column":17},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2507,"end":2513,"loc":{"start":{"line":73,"column":18},"end":{"line":73,"column":24},"identifierName":"params"},"name":"params"},"optional":false},"consequent":{"type":"BlockStatement","start":2515,"end":2577,"loc":{"start":{"line":73,"column":26},"end":{"line":75,"column":5}},"body":[{"type":"ExpressionStatement","start":2523,"end":2571,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":54}},"expression":{"type":"CallExpression","start":2523,"end":2571,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":54}},"callee":{"type":"MemberExpression","start":2523,"end":2553,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":36}},"object":{"type":"Identifier","start":2523,"end":2538,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":21},"identifierName":"AssemblyOptions"},"name":"AssemblyOptions"},"computed":false,"property":{"type":"Identifier","start":2539,"end":2553,"loc":{"start":{"line":74,"column":22},"end":{"line":74,"column":36},"identifierName":"validateParams"},"name":"validateParams"},"optional":false},"arguments":[{"type":"MemberExpression","start":2554,"end":2570,"loc":{"start":{"line":74,"column":37},"end":{"line":74,"column":53}},"object":{"type":"MemberExpression","start":2554,"end":2563,"loc":{"start":{"line":74,"column":37},"end":{"line":74,"column":46}},"object":{"type":"ThisExpression","start":2554,"end":2558,"loc":{"start":{"line":74,"column":37},"end":{"line":74,"column":41}}},"computed":false,"property":{"type":"Identifier","start":2559,"end":2563,"loc":{"start":{"line":74,"column":42},"end":{"line":74,"column":46},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2564,"end":2570,"loc":{"start":{"line":74,"column":47},"end":{"line":74,"column":53},"identifierName":"params"},"name":"params"},"optional":false}],"optional":false}}]},"alternate":{"type":"IfStatement","start":2583,"end":2792,"loc":{"start":{"line":75,"column":11},"end":{"line":79,"column":5}},"test":{"type":"UnaryExpression","start":2587,"end":2612,"loc":{"start":{"line":75,"column":15},"end":{"line":75,"column":40}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2588,"end":2612,"loc":{"start":{"line":75,"column":16},"end":{"line":75,"column":40},"identifierName":"hasCustomAssemblyOptions"},"name":"hasCustomAssemblyOptions"}},"consequent":{"type":"BlockStatement","start":2614,"end":2792,"loc":{"start":{"line":75,"column":42},"end":{"line":79,"column":5}},"body":[{"type":"ExpressionStatement","start":2750,"end":2786,"loc":{"start":{"line":78,"column":6},"end":{"line":78,"column":42}},"expression":{"type":"CallExpression","start":2750,"end":2786,"loc":{"start":{"line":78,"column":6},"end":{"line":78,"column":42}},"callee":{"type":"MemberExpression","start":2750,"end":2780,"loc":{"start":{"line":78,"column":6},"end":{"line":78,"column":36}},"object":{"type":"Identifier","start":2750,"end":2765,"loc":{"start":{"line":78,"column":6},"end":{"line":78,"column":21},"identifierName":"AssemblyOptions"},"name":"AssemblyOptions"},"computed":false,"property":{"type":"Identifier","start":2766,"end":2780,"loc":{"start":{"line":78,"column":22},"end":{"line":78,"column":36},"identifierName":"validateParams"},"name":"validateParams"},"optional":false},"arguments":[{"type":"Literal","start":2781,"end":2785,"loc":{"start":{"line":78,"column":37},"end":{"line":78,"column":41}},"value":null,"raw":"null"}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" Throw the same error that we'd throw if the `params` returned from a","start":2622,"end":2693,"loc":{"start":{"line":76,"column":6},"end":{"line":76,"column":77}}},{"type":"CommentLine","value":" `getAssemblyOptions()` function is null.","start":2700,"end":2743,"loc":{"start":{"line":77,"column":6},"end":{"line":77,"column":49}}}]}]},"alternate":null}},{"type":"ExpressionStatement","start":2798,"end":2952,"loc":{"start":{"line":81,"column":4},"end":{"line":85,"column":6}},"expression":{"type":"AssignmentExpression","start":2798,"end":2952,"loc":{"start":{"line":81,"column":4},"end":{"line":85,"column":6}},"operator":"=","left":{"type":"MemberExpression","start":2798,"end":2809,"loc":{"start":{"line":81,"column":4},"end":{"line":81,"column":15}},"object":{"type":"ThisExpression","start":2798,"end":2802,"loc":{"start":{"line":81,"column":4},"end":{"line":81,"column":8}}},"computed":false,"property":{"type":"Identifier","start":2803,"end":2809,"loc":{"start":{"line":81,"column":9},"end":{"line":81,"column":15},"identifierName":"client"},"name":"client"},"optional":false},"right":{"type":"NewExpression","start":2812,"end":2952,"loc":{"start":{"line":81,"column":18},"end":{"line":85,"column":6}},"callee":{"type":"Identifier","start":2816,"end":2822,"loc":{"start":{"line":81,"column":22},"end":{"line":81,"column":28},"identifierName":"Client"},"name":"Client"},"typeArguments":null,"arguments":[{"type":"ObjectExpression","start":2823,"end":2951,"loc":{"start":{"line":81,"column":29},"end":{"line":85,"column":5}},"properties":[{"type":"Property","start":2831,"end":2857,"loc":{"start":{"line":82,"column":6},"end":{"line":82,"column":32}},"method":false,"key":{"type":"Identifier","start":2831,"end":2838,"loc":{"start":{"line":82,"column":6},"end":{"line":82,"column":13},"identifierName":"service"},"name":"service"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":2840,"end":2857,"loc":{"start":{"line":82,"column":15},"end":{"line":82,"column":32}},"object":{"type":"MemberExpression","start":2840,"end":2849,"loc":{"start":{"line":82,"column":15},"end":{"line":82,"column":24}},"object":{"type":"ThisExpression","start":2840,"end":2844,"loc":{"start":{"line":82,"column":15},"end":{"line":82,"column":19}}},"computed":false,"property":{"type":"Identifier","start":2845,"end":2849,"loc":{"start":{"line":82,"column":20},"end":{"line":82,"column":24},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2850,"end":2857,"loc":{"start":{"line":82,"column":25},"end":{"line":82,"column":32},"identifierName":"service"},"name":"service"},"optional":false},"kind":"init"},{"type":"Property","start":2865,"end":2897,"loc":{"start":{"line":83,"column":6},"end":{"line":83,"column":38}},"method":false,"key":{"type":"Identifier","start":2865,"end":2871,"loc":{"start":{"line":83,"column":6},"end":{"line":83,"column":12},"identifierName":"client"},"name":"client"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","start":2873,"end":2897,"loc":{"start":{"line":83,"column":14},"end":{"line":83,"column":38}},"callee":{"type":"MemberExpression","start":2873,"end":2895,"loc":{"start":{"line":83,"column":14},"end":{"line":83,"column":36}},"object":{"type":"ThisExpression","start":2873,"end":2877,"loc":{"start":{"line":83,"column":14},"end":{"line":83,"column":18}}},"computed":false,"property":{"type":"Identifier","start":2878,"end":2895,"loc":{"start":{"line":83,"column":19},"end":{"line":83,"column":36},"identifierName":"_getClientVersion"},"name":"_getClientVersion"},"optional":false},"arguments":[],"optional":false},"kind":"init"},{"type":"Property","start":2905,"end":2945,"loc":{"start":{"line":84,"column":6},"end":{"line":84,"column":46}},"method":false,"key":{"type":"Identifier","start":2905,"end":2919,"loc":{"start":{"line":84,"column":6},"end":{"line":84,"column":20},"identifierName":"errorReporting"},"name":"errorReporting"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":2921,"end":2945,"loc":{"start":{"line":84,"column":22},"end":{"line":84,"column":46}},"object":{"type":"MemberExpression","start":2921,"end":2930,"loc":{"start":{"line":84,"column":22},"end":{"line":84,"column":31}},"object":{"type":"ThisExpression","start":2921,"end":2925,"loc":{"start":{"line":84,"column":22},"end":{"line":84,"column":26}}},"computed":false,"property":{"type":"Identifier","start":2926,"end":2930,"loc":{"start":{"line":84,"column":27},"end":{"line":84,"column":31},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":2931,"end":2945,"loc":{"start":{"line":84,"column":32},"end":{"line":84,"column":46},"identifierName":"errorReporting"},"name":"errorReporting"},"optional":false},"kind":"init"}]}]}},"trailingComments":[{"type":"CommentLine","value":" Contains Assembly instances for in-progress Assemblies.","start":2957,"end":3015,"loc":{"start":{"line":86,"column":4},"end":{"line":86,"column":62}}}]},{"type":"ExpressionStatement","start":3020,"end":3046,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":30}},"expression":{"type":"AssignmentExpression","start":3020,"end":3046,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":30}},"operator":"=","left":{"type":"MemberExpression","start":3020,"end":3041,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":25}},"object":{"type":"ThisExpression","start":3020,"end":3024,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":8}}},"computed":false,"property":{"type":"Identifier","start":3025,"end":3041,"loc":{"start":{"line":87,"column":9},"end":{"line":87,"column":25},"identifierName":"activeAssemblies"},"name":"activeAssemblies"},"optional":false},"right":{"type":"ObjectExpression","start":3044,"end":3046,"loc":{"start":{"line":87,"column":28},"end":{"line":87,"column":30}},"properties":[]}},"leadingComments":[{"type":"CommentLine","value":" Contains Assembly instances for in-progress Assemblies.","start":2957,"end":3015,"loc":{"start":{"line":86,"column":4},"end":{"line":86,"column":62}}}],"trailingComments":[{"type":"CommentLine","value":" Contains a mapping of uploadID to AssemblyWatcher","start":3051,"end":3103,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":56}}}]},{"type":"ExpressionStatement","start":3108,"end":3134,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":30}},"expression":{"type":"AssignmentExpression","start":3108,"end":3134,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":30}},"operator":"=","left":{"type":"MemberExpression","start":3108,"end":3129,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":25}},"object":{"type":"ThisExpression","start":3108,"end":3112,"loc":{"start":{"line":89,"column":4},"end":{"line":89,"column":8}}},"computed":false,"property":{"type":"Identifier","start":3113,"end":3129,"loc":{"start":{"line":89,"column":9},"end":{"line":89,"column":25},"identifierName":"assemblyWatchers"},"name":"assemblyWatchers"},"optional":false},"right":{"type":"ObjectExpression","start":3132,"end":3134,"loc":{"start":{"line":89,"column":28},"end":{"line":89,"column":30}},"properties":[]}},"leadingComments":[{"type":"CommentLine","value":" Contains a mapping of uploadID to AssemblyWatcher","start":3051,"end":3103,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":56}}}],"trailingComments":[{"type":"CommentLine","value":" Contains a file IDs that have completed postprocessing before the upload they belong to has entered the postprocess stage.","start":3139,"end":3264,"loc":{"start":{"line":90,"column":4},"end":{"line":90,"column":129}}}]},{"type":"ExpressionStatement","start":3269,"end":3310,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":45}},"expression":{"type":"AssignmentExpression","start":3269,"end":3310,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":45}},"operator":"=","left":{"type":"MemberExpression","start":3269,"end":3288,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":23}},"object":{"type":"ThisExpression","start":3269,"end":3273,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":8}}},"computed":false,"property":{"type":"Identifier","start":3274,"end":3288,"loc":{"start":{"line":91,"column":9},"end":{"line":91,"column":23},"identifierName":"completedFiles"},"name":"completedFiles"},"optional":false},"right":{"type":"CallExpression","start":3291,"end":3310,"loc":{"start":{"line":91,"column":26},"end":{"line":91,"column":45}},"callee":{"type":"MemberExpression","start":3291,"end":3304,"loc":{"start":{"line":91,"column":26},"end":{"line":91,"column":39}},"object":{"type":"Identifier","start":3291,"end":3297,"loc":{"start":{"line":91,"column":26},"end":{"line":91,"column":32},"identifierName":"Object"},"name":"Object"},"computed":false,"property":{"type":"Identifier","start":3298,"end":3304,"loc":{"start":{"line":91,"column":33},"end":{"line":91,"column":39},"identifierName":"create"},"name":"create"},"optional":false},"arguments":[{"type":"Literal","start":3305,"end":3309,"loc":{"start":{"line":91,"column":40},"end":{"line":91,"column":44}},"value":null,"raw":"null"}],"optional":false}},"leadingComments":[{"type":"CommentLine","value":" Contains a file IDs that have completed postprocessing before the upload they belong to has entered the postprocess stage.","start":3139,"end":3264,"loc":{"start":{"line":90,"column":4},"end":{"line":90,"column":129}}}]}]}}},{"type":"MethodDefinition","start":3318,"end":3394,"loc":{"start":{"line":94,"column":2},"end":{"line":97,"column":3}},"static":false,"key":{"type":"Identifier","start":3318,"end":3328,"loc":{"start":{"line":94,"column":2},"end":{"line":94,"column":12},"identifierName":"setOptions"},"name":"setOptions"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":3329,"end":3394,"loc":{"start":{"line":94,"column":13},"end":{"line":97,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":3330,"end":3337,"loc":{"start":{"line":94,"column":14},"end":{"line":94,"column":21},"identifierName":"newOpts"},"name":"newOpts"}],"body":{"type":"BlockStatement","start":3339,"end":3394,"loc":{"start":{"line":94,"column":23},"end":{"line":97,"column":3}},"body":[{"type":"ExpressionStatement","start":3345,"end":3370,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":29}},"expression":{"type":"CallExpression","start":3345,"end":3370,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":29}},"callee":{"type":"MemberExpression","start":3345,"end":3361,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":20}},"object":{"type":"Super","start":3345,"end":3350,"loc":{"start":{"line":95,"column":4},"end":{"line":95,"column":9}}},"computed":false,"property":{"type":"Identifier","start":3351,"end":3361,"loc":{"start":{"line":95,"column":10},"end":{"line":95,"column":20},"identifierName":"setOptions"},"name":"setOptions"},"optional":false},"arguments":[{"type":"Identifier","start":3362,"end":3369,"loc":{"start":{"line":95,"column":21},"end":{"line":95,"column":28},"identifierName":"newOpts"},"name":"newOpts"}],"optional":false}},{"type":"ExpressionStatement","start":3375,"end":3390,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":19}},"expression":{"type":"CallExpression","start":3375,"end":3390,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":19}},"callee":{"type":"MemberExpression","start":3375,"end":3388,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":17}},"object":{"type":"ThisExpression","start":3375,"end":3379,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":8}}},"computed":false,"property":{"type":"Identifier","start":3380,"end":3388,"loc":{"start":{"line":96,"column":9},"end":{"line":96,"column":17},"identifierName":"i18nInit"},"name":"i18nInit"},"optional":false},"arguments":[],"optional":false}}]}}},{"type":"MethodDefinition","start":3398,"end":3729,"loc":{"start":{"line":99,"column":2},"end":{"line":104,"column":3}},"static":false,"key":{"type":"Identifier","start":3398,"end":3406,"loc":{"start":{"line":99,"column":2},"end":{"line":99,"column":10},"identifierName":"i18nInit"},"name":"i18nInit"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":3407,"end":3729,"loc":{"start":{"line":99,"column":11},"end":{"line":104,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":3410,"end":3729,"loc":{"start":{"line":99,"column":14},"end":{"line":104,"column":3}},"body":[{"type":"ExpressionStatement","start":3416,"end":3506,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":94}},"expression":{"type":"AssignmentExpression","start":3416,"end":3506,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":94}},"operator":"=","left":{"type":"MemberExpression","start":3416,"end":3431,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":19}},"object":{"type":"ThisExpression","start":3416,"end":3420,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":8}}},"computed":false,"property":{"type":"Identifier","start":3421,"end":3431,"loc":{"start":{"line":100,"column":9},"end":{"line":100,"column":19},"identifierName":"translator"},"name":"translator"},"optional":false},"right":{"type":"NewExpression","start":3434,"end":3506,"loc":{"start":{"line":100,"column":22},"end":{"line":100,"column":94}},"callee":{"type":"Identifier","start":3438,"end":3448,"loc":{"start":{"line":100,"column":26},"end":{"line":100,"column":36},"identifierName":"Translator"},"name":"Translator"},"typeArguments":null,"arguments":[{"type":"ArrayExpression","start":3449,"end":3505,"loc":{"start":{"line":100,"column":37},"end":{"line":100,"column":93}},"elements":[{"type":"MemberExpression","start":3450,"end":3468,"loc":{"start":{"line":100,"column":38},"end":{"line":100,"column":56}},"object":{"type":"ThisExpression","start":3450,"end":3454,"loc":{"start":{"line":100,"column":38},"end":{"line":100,"column":42}}},"computed":false,"property":{"type":"Identifier","start":3455,"end":3468,"loc":{"start":{"line":100,"column":43},"end":{"line":100,"column":56},"identifierName":"defaultLocale"},"name":"defaultLocale"},"optional":false},{"type":"MemberExpression","start":3470,"end":3486,"loc":{"start":{"line":100,"column":58},"end":{"line":100,"column":74}},"object":{"type":"MemberExpression","start":3470,"end":3479,"loc":{"start":{"line":100,"column":58},"end":{"line":100,"column":67}},"object":{"type":"ThisExpression","start":3470,"end":3474,"loc":{"start":{"line":100,"column":58},"end":{"line":100,"column":62}}},"computed":false,"property":{"type":"Identifier","start":3475,"end":3479,"loc":{"start":{"line":100,"column":63},"end":{"line":100,"column":67},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":3480,"end":3486,"loc":{"start":{"line":100,"column":68},"end":{"line":100,"column":74},"identifierName":"locale"},"name":"locale"},"optional":false},{"type":"MemberExpression","start":3488,"end":3504,"loc":{"start":{"line":100,"column":76},"end":{"line":100,"column":92}},"object":{"type":"MemberExpression","start":3488,"end":3497,"loc":{"start":{"line":100,"column":76},"end":{"line":100,"column":85}},"object":{"type":"ThisExpression","start":3488,"end":3492,"loc":{"start":{"line":100,"column":76},"end":{"line":100,"column":80}}},"computed":false,"property":{"type":"Identifier","start":3493,"end":3497,"loc":{"start":{"line":100,"column":81},"end":{"line":100,"column":85},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":3498,"end":3504,"loc":{"start":{"line":100,"column":86},"end":{"line":100,"column":92},"identifierName":"locale"},"name":"locale"},"optional":false}]}]}}},{"type":"ExpressionStatement","start":3511,"end":3570,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":63}},"expression":{"type":"AssignmentExpression","start":3511,"end":3570,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":63}},"operator":"=","left":{"type":"MemberExpression","start":3511,"end":3520,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":13}},"object":{"type":"ThisExpression","start":3511,"end":3515,"loc":{"start":{"line":101,"column":4},"end":{"line":101,"column":8}}},"computed":false,"property":{"type":"Identifier","start":3516,"end":3520,"loc":{"start":{"line":101,"column":9},"end":{"line":101,"column":13},"identifierName":"i18n"},"name":"i18n"},"optional":false},"right":{"type":"CallExpression","start":3523,"end":3570,"loc":{"start":{"line":101,"column":16},"end":{"line":101,"column":63}},"callee":{"type":"MemberExpression","start":3523,"end":3553,"loc":{"start":{"line":101,"column":16},"end":{"line":101,"column":46}},"object":{"type":"MemberExpression","start":3523,"end":3548,"loc":{"start":{"line":101,"column":16},"end":{"line":101,"column":41}},"object":{"type":"MemberExpression","start":3523,"end":3538,"loc":{"start":{"line":101,"column":16},"end":{"line":101,"column":31}},"object":{"type":"ThisExpression","start":3523,"end":3527,"loc":{"start":{"line":101,"column":16},"end":{"line":101,"column":20}}},"computed":false,"property":{"type":"Identifier","start":3528,"end":3538,"loc":{"start":{"line":101,"column":21},"end":{"line":101,"column":31},"identifierName":"translator"},"name":"translator"},"optional":false},"computed":false,"property":{"type":"Identifier","start":3539,"end":3548,"loc":{"start":{"line":101,"column":32},"end":{"line":101,"column":41},"identifierName":"translate"},"name":"translate"},"optional":false},"computed":false,"property":{"type":"Identifier","start":3549,"end":3553,"loc":{"start":{"line":101,"column":42},"end":{"line":101,"column":46},"identifierName":"bind"},"name":"bind"},"optional":false},"arguments":[{"type":"MemberExpression","start":3554,"end":3569,"loc":{"start":{"line":101,"column":47},"end":{"line":101,"column":62}},"object":{"type":"ThisExpression","start":3554,"end":3558,"loc":{"start":{"line":101,"column":47},"end":{"line":101,"column":51}}},"computed":false,"property":{"type":"Identifier","start":3559,"end":3569,"loc":{"start":{"line":101,"column":52},"end":{"line":101,"column":62},"identifierName":"translator"},"name":"translator"},"optional":false}],"optional":false}}},{"type":"ExpressionStatement","start":3575,"end":3644,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":73}},"expression":{"type":"AssignmentExpression","start":3575,"end":3644,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":73}},"operator":"=","left":{"type":"MemberExpression","start":3575,"end":3589,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":18}},"object":{"type":"ThisExpression","start":3575,"end":3579,"loc":{"start":{"line":102,"column":4},"end":{"line":102,"column":8}}},"computed":false,"property":{"type":"Identifier","start":3580,"end":3589,"loc":{"start":{"line":102,"column":9},"end":{"line":102,"column":18},"identifierName":"i18nArray"},"name":"i18nArray"},"optional":false},"right":{"type":"CallExpression","start":3592,"end":3644,"loc":{"start":{"line":102,"column":21},"end":{"line":102,"column":73}},"callee":{"type":"MemberExpression","start":3592,"end":3627,"loc":{"start":{"line":102,"column":21},"end":{"line":102,"column":56}},"object":{"type":"MemberExpression","start":3592,"end":3622,"loc":{"start":{"line":102,"column":21},"end":{"line":102,"column":51}},"object":{"type":"MemberExpression","start":3592,"end":3607,"loc":{"start":{"line":102,"column":21},"end":{"line":102,"column":36}},"object":{"type":"ThisExpression","start":3592,"end":3596,"loc":{"start":{"line":102,"column":21},"end":{"line":102,"column":25}}},"computed":false,"property":{"type":"Identifier","start":3597,"end":3607,"loc":{"start":{"line":102,"column":26},"end":{"line":102,"column":36},"identifierName":"translator"},"name":"translator"},"optional":false},"computed":false,"property":{"type":"Identifier","start":3608,"end":3622,"loc":{"start":{"line":102,"column":37},"end":{"line":102,"column":51},"identifierName":"translateArray"},"name":"translateArray"},"optional":false},"computed":false,"property":{"type":"Identifier","start":3623,"end":3627,"loc":{"start":{"line":102,"column":52},"end":{"line":102,"column":56},"identifierName":"bind"},"name":"bind"},"optional":false},"arguments":[{"type":"MemberExpression","start":3628,"end":3643,"loc":{"start":{"line":102,"column":57},"end":{"line":102,"column":72}},"object":{"type":"ThisExpression","start":3628,"end":3632,"loc":{"start":{"line":102,"column":57},"end":{"line":102,"column":61}}},"computed":false,"property":{"type":"Identifier","start":3633,"end":3643,"loc":{"start":{"line":102,"column":62},"end":{"line":102,"column":72},"identifierName":"translator"},"name":"translator"},"optional":false}],"optional":false}}},{"type":"ExpressionStatement","start":3649,"end":3670,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":25}},"expression":{"type":"CallExpression","start":3649,"end":3670,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":25}},"callee":{"type":"MemberExpression","start":3649,"end":3668,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":23}},"object":{"type":"ThisExpression","start":3649,"end":3653,"loc":{"start":{"line":103,"column":4},"end":{"line":103,"column":8}}},"computed":false,"property":{"type":"Identifier","start":3654,"end":3668,"loc":{"start":{"line":103,"column":9},"end":{"line":103,"column":23},"identifierName":"setPluginState"},"name":"setPluginState"},"optional":false},"arguments":[],"optional":false},"trailingComments":[{"type":"CommentLine","value":" so that UI re-renders and we see the updated locale","start":3671,"end":3725,"loc":{"start":{"line":103,"column":26},"end":{"line":103,"column":80}}}]}]}}},{"type":"MethodDefinition","start":3733,"end":4678,"loc":{"start":{"line":106,"column":2},"end":{"line":134,"column":3}},"static":false,"key":{"type":"Identifier","start":3733,"end":3750,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":19},"identifierName":"_getClientVersion"},"name":"_getClientVersion"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":3751,"end":4678,"loc":{"start":{"line":106,"column":20},"end":{"line":134,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":3754,"end":4678,"loc":{"start":{"line":106,"column":23},"end":{"line":134,"column":3}},"body":[{"type":"VariableDeclaration","start":3760,"end":3918,"loc":{"start":{"line":107,"column":4},"end":{"line":111,"column":5}},"declarations":[{"type":"VariableDeclarator","start":3766,"end":3918,"loc":{"start":{"line":107,"column":10},"end":{"line":111,"column":5}},"id":{"type":"Identifier","start":3766,"end":3770,"loc":{"start":{"line":107,"column":10},"end":{"line":107,"column":14},"identifierName":"list"},"name":"list"},"init":{"type":"ArrayExpression","start":3773,"end":3918,"loc":{"start":{"line":107,"column":17},"end":{"line":111,"column":5}},"elements":[{"type":"TemplateLiteral","start":3781,"end":3825,"loc":{"start":{"line":108,"column":6},"end":{"line":108,"column":50}},"expressions":[{"type":"MemberExpression","start":3794,"end":3823,"loc":{"start":{"line":108,"column":19},"end":{"line":108,"column":48}},"object":{"type":"MemberExpression","start":3794,"end":3815,"loc":{"start":{"line":108,"column":19},"end":{"line":108,"column":40}},"object":{"type":"MemberExpression","start":3794,"end":3803,"loc":{"start":{"line":108,"column":19},"end":{"line":108,"column":28}},"object":{"type":"ThisExpression","start":3794,"end":3798,"loc":{"start":{"line":108,"column":19},"end":{"line":108,"column":23}}},"computed":false,"property":{"type":"Identifier","start":3799,"end":3803,"loc":{"start":{"line":108,"column":24},"end":{"line":108,"column":28},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":3804,"end":3815,"loc":{"start":{"line":108,"column":29},"end":{"line":108,"column":40},"identifierName":"constructor"},"name":"constructor"},"optional":false},"computed":false,"property":{"type":"Identifier","start":3816,"end":3823,"loc":{"start":{"line":108,"column":41},"end":{"line":108,"column":48},"identifierName":"VERSION"},"name":"VERSION"},"optional":false}],"quasis":[{"type":"TemplateElement","start":3782,"end":3792,"loc":{"start":{"line":108,"column":7},"end":{"line":108,"column":17}},"value":{"raw":"uppy-core:","cooked":"uppy-core:"},"tail":false},{"type":"TemplateElement","start":3824,"end":3824,"loc":{"start":{"line":108,"column":49},"end":{"line":108,"column":49}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"TemplateLiteral","start":3833,"end":3879,"loc":{"start":{"line":109,"column":6},"end":{"line":109,"column":52}},"expressions":[{"type":"MemberExpression","start":3853,"end":3877,"loc":{"start":{"line":109,"column":26},"end":{"line":109,"column":50}},"object":{"type":"MemberExpression","start":3853,"end":3869,"loc":{"start":{"line":109,"column":26},"end":{"line":109,"column":42}},"object":{"type":"ThisExpression","start":3853,"end":3857,"loc":{"start":{"line":109,"column":26},"end":{"line":109,"column":30}}},"computed":false,"property":{"type":"Identifier","start":3858,"end":3869,"loc":{"start":{"line":109,"column":31},"end":{"line":109,"column":42},"identifierName":"constructor"},"name":"constructor"},"optional":false},"computed":false,"property":{"type":"Identifier","start":3870,"end":3877,"loc":{"start":{"line":109,"column":43},"end":{"line":109,"column":50},"identifierName":"VERSION"},"name":"VERSION"},"optional":false}],"quasis":[{"type":"TemplateElement","start":3834,"end":3851,"loc":{"start":{"line":109,"column":7},"end":{"line":109,"column":24}},"value":{"raw":"uppy-transloadit:","cooked":"uppy-transloadit:"},"tail":false},{"type":"TemplateElement","start":3878,"end":3878,"loc":{"start":{"line":109,"column":51},"end":{"line":109,"column":51}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"TemplateLiteral","start":3887,"end":3912,"loc":{"start":{"line":110,"column":6},"end":{"line":110,"column":31}},"expressions":[{"type":"MemberExpression","start":3899,"end":3910,"loc":{"start":{"line":110,"column":18},"end":{"line":110,"column":29}},"object":{"type":"Identifier","start":3899,"end":3902,"loc":{"start":{"line":110,"column":18},"end":{"line":110,"column":21},"identifierName":"Tus"},"name":"Tus"},"computed":false,"property":{"type":"Identifier","start":3903,"end":3910,"loc":{"start":{"line":110,"column":22},"end":{"line":110,"column":29},"identifierName":"VERSION"},"name":"VERSION"},"optional":false}],"quasis":[{"type":"TemplateElement","start":3888,"end":3897,"loc":{"start":{"line":110,"column":7},"end":{"line":110,"column":16}},"value":{"raw":"uppy-tus:","cooked":"uppy-tus:"},"tail":false},{"type":"TemplateElement","start":3911,"end":3911,"loc":{"start":{"line":110,"column":30},"end":{"line":110,"column":30}},"value":{"raw":"","cooked":""},"tail":true}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3924,"end":4132,"loc":{"start":{"line":113,"column":4},"end":{"line":118,"column":5}},"declarations":[{"type":"VariableDeclarator","start":3930,"end":4132,"loc":{"start":{"line":113,"column":10},"end":{"line":118,"column":5}},"id":{"type":"Identifier","start":3930,"end":3946,"loc":{"start":{"line":113,"column":10},"end":{"line":113,"column":26},"identifierName":"addPluginVersion"},"name":"addPluginVersion"},"init":{"type":"ArrowFunctionExpression","start":3949,"end":4132,"loc":{"start":{"line":113,"column":29},"end":{"line":118,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":3950,"end":3960,"loc":{"start":{"line":113,"column":30},"end":{"line":113,"column":40},"identifierName":"pluginName"},"name":"pluginName"},{"type":"Identifier","start":3962,"end":3973,"loc":{"start":{"line":113,"column":42},"end":{"line":113,"column":53},"identifierName":"versionName"},"name":"versionName"}],"body":{"type":"BlockStatement","start":3978,"end":4132,"loc":{"start":{"line":113,"column":58},"end":{"line":118,"column":5}},"body":[{"type":"VariableDeclaration","start":3986,"end":4032,"loc":{"start":{"line":114,"column":6},"end":{"line":114,"column":52}},"declarations":[{"type":"VariableDeclarator","start":3992,"end":4032,"loc":{"start":{"line":114,"column":12},"end":{"line":114,"column":52}},"id":{"type":"Identifier","start":3992,"end":3998,"loc":{"start":{"line":114,"column":12},"end":{"line":114,"column":18},"identifierName":"plugin"},"name":"plugin"},"init":{"type":"CallExpression","start":4001,"end":4032,"loc":{"start":{"line":114,"column":21},"end":{"line":114,"column":52}},"callee":{"type":"MemberExpression","start":4001,"end":4020,"loc":{"start":{"line":114,"column":21},"end":{"line":114,"column":40}},"object":{"type":"MemberExpression","start":4001,"end":4010,"loc":{"start":{"line":114,"column":21},"end":{"line":114,"column":30}},"object":{"type":"ThisExpression","start":4001,"end":4005,"loc":{"start":{"line":114,"column":21},"end":{"line":114,"column":25}}},"computed":false,"property":{"type":"Identifier","start":4006,"end":4010,"loc":{"start":{"line":114,"column":26},"end":{"line":114,"column":30},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":4011,"end":4020,"loc":{"start":{"line":114,"column":31},"end":{"line":114,"column":40},"identifierName":"getPlugin"},"name":"getPlugin"},"optional":false},"arguments":[{"type":"Identifier","start":4021,"end":4031,"loc":{"start":{"line":114,"column":41},"end":{"line":114,"column":51},"identifierName":"pluginName"},"name":"pluginName"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":4039,"end":4126,"loc":{"start":{"line":115,"column":6},"end":{"line":117,"column":7}},"test":{"type":"Identifier","start":4043,"end":4049,"loc":{"start":{"line":115,"column":10},"end":{"line":115,"column":16},"identifierName":"plugin"},"name":"plugin"},"consequent":{"type":"BlockStatement","start":4051,"end":4126,"loc":{"start":{"line":115,"column":18},"end":{"line":117,"column":7}},"body":[{"type":"ExpressionStatement","start":4061,"end":4118,"loc":{"start":{"line":116,"column":8},"end":{"line":116,"column":65}},"expression":{"type":"CallExpression","start":4061,"end":4118,"loc":{"start":{"line":116,"column":8},"end":{"line":116,"column":65}},"callee":{"type":"MemberExpression","start":4061,"end":4070,"loc":{"start":{"line":116,"column":8},"end":{"line":116,"column":17}},"object":{"type":"Identifier","start":4061,"end":4065,"loc":{"start":{"line":116,"column":8},"end":{"line":116,"column":12},"identifierName":"list"},"name":"list"},"computed":false,"property":{"type":"Identifier","start":4066,"end":4070,"loc":{"start":{"line":116,"column":13},"end":{"line":116,"column":17},"identifierName":"push"},"name":"push"},"optional":false},"arguments":[{"type":"TemplateLiteral","start":4071,"end":4117,"loc":{"start":{"line":116,"column":18},"end":{"line":116,"column":64}},"expressions":[{"type":"Identifier","start":4074,"end":4085,"loc":{"start":{"line":116,"column":21},"end":{"line":116,"column":32},"identifierName":"versionName"},"name":"versionName"},{"type":"MemberExpression","start":4089,"end":4115,"loc":{"start":{"line":116,"column":36},"end":{"line":116,"column":62}},"object":{"type":"MemberExpression","start":4089,"end":4107,"loc":{"start":{"line":116,"column":36},"end":{"line":116,"column":54}},"object":{"type":"Identifier","start":4089,"end":4095,"loc":{"start":{"line":116,"column":36},"end":{"line":116,"column":42},"identifierName":"plugin"},"name":"plugin"},"computed":false,"property":{"type":"Identifier","start":4096,"end":4107,"loc":{"start":{"line":116,"column":43},"end":{"line":116,"column":54},"identifierName":"constructor"},"name":"constructor"},"optional":false},"computed":false,"property":{"type":"Identifier","start":4108,"end":4115,"loc":{"start":{"line":116,"column":55},"end":{"line":116,"column":62},"identifierName":"VERSION"},"name":"VERSION"},"optional":false}],"quasis":[{"type":"TemplateElement","start":4072,"end":4072,"loc":{"start":{"line":116,"column":19},"end":{"line":116,"column":19}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":4086,"end":4087,"loc":{"start":{"line":116,"column":33},"end":{"line":116,"column":34}},"value":{"raw":":","cooked":":"},"tail":false},{"type":"TemplateElement","start":4116,"end":4116,"loc":{"start":{"line":116,"column":63},"end":{"line":116,"column":63}},"value":{"raw":"","cooked":""},"tail":true}]}],"optional":false}}]},"alternate":null}]}}}],"kind":"const"},{"type":"IfStatement","start":4138,"end":4349,"loc":{"start":{"line":120,"column":4},"end":{"line":124,"column":5}},"test":{"type":"MemberExpression","start":4142,"end":4172,"loc":{"start":{"line":120,"column":8},"end":{"line":120,"column":38}},"object":{"type":"MemberExpression","start":4142,"end":4151,"loc":{"start":{"line":120,"column":8},"end":{"line":120,"column":17}},"object":{"type":"ThisExpression","start":4142,"end":4146,"loc":{"start":{"line":120,"column":8},"end":{"line":120,"column":12}}},"computed":false,"property":{"type":"Identifier","start":4147,"end":4151,"loc":{"start":{"line":120,"column":13},"end":{"line":120,"column":17},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":4152,"end":4172,"loc":{"start":{"line":120,"column":18},"end":{"line":120,"column":38},"identifierName":"importFromUploadURLs"},"name":"importFromUploadURLs"},"optional":false},"consequent":{"type":"BlockStatement","start":4174,"end":4349,"loc":{"start":{"line":120,"column":40},"end":{"line":124,"column":5}},"body":[{"type":"ExpressionStatement","start":4182,"end":4230,"loc":{"start":{"line":121,"column":6},"end":{"line":121,"column":54}},"expression":{"type":"CallExpression","start":4182,"end":4230,"loc":{"start":{"line":121,"column":6},"end":{"line":121,"column":54}},"callee":{"type":"Identifier","start":4182,"end":4198,"loc":{"start":{"line":121,"column":6},"end":{"line":121,"column":22},"identifierName":"addPluginVersion"},"name":"addPluginVersion"},"arguments":[{"type":"Literal","start":4199,"end":4210,"loc":{"start":{"line":121,"column":23},"end":{"line":121,"column":34}},"value":"XHRUpload","raw":"'XHRUpload'"},{"type":"Literal","start":4212,"end":4229,"loc":{"start":{"line":121,"column":36},"end":{"line":121,"column":53}},"value":"uppy-xhr-upload","raw":"'uppy-xhr-upload'"}],"optional":false}},{"type":"ExpressionStatement","start":4237,"end":4277,"loc":{"start":{"line":122,"column":6},"end":{"line":122,"column":46}},"expression":{"type":"CallExpression","start":4237,"end":4277,"loc":{"start":{"line":122,"column":6},"end":{"line":122,"column":46}},"callee":{"type":"Identifier","start":4237,"end":4253,"loc":{"start":{"line":122,"column":6},"end":{"line":122,"column":22},"identifierName":"addPluginVersion"},"name":"addPluginVersion"},"arguments":[{"type":"Literal","start":4254,"end":4261,"loc":{"start":{"line":122,"column":23},"end":{"line":122,"column":30}},"value":"AwsS3","raw":"'AwsS3'"},{"type":"Literal","start":4263,"end":4276,"loc":{"start":{"line":122,"column":32},"end":{"line":122,"column":45}},"value":"uppy-aws-s3","raw":"'uppy-aws-s3'"}],"optional":false}},{"type":"ExpressionStatement","start":4284,"end":4343,"loc":{"start":{"line":123,"column":6},"end":{"line":123,"column":65}},"expression":{"type":"CallExpression","start":4284,"end":4343,"loc":{"start":{"line":123,"column":6},"end":{"line":123,"column":65}},"callee":{"type":"Identifier","start":4284,"end":4300,"loc":{"start":{"line":123,"column":6},"end":{"line":123,"column":22},"identifierName":"addPluginVersion"},"name":"addPluginVersion"},"arguments":[{"type":"Literal","start":4301,"end":4317,"loc":{"start":{"line":123,"column":23},"end":{"line":123,"column":39}},"value":"AwsS3Multipart","raw":"'AwsS3Multipart'"},{"type":"Literal","start":4319,"end":4342,"loc":{"start":{"line":123,"column":41},"end":{"line":123,"column":64}},"value":"uppy-aws-s3-multipart","raw":"'uppy-aws-s3-multipart'"}],"optional":false}}]},"alternate":null},{"type":"ExpressionStatement","start":4355,"end":4398,"loc":{"start":{"line":126,"column":4},"end":{"line":126,"column":47}},"expression":{"type":"CallExpression","start":4355,"end":4398,"loc":{"start":{"line":126,"column":4},"end":{"line":126,"column":47}},"callee":{"type":"Identifier","start":4355,"end":4371,"loc":{"start":{"line":126,"column":4},"end":{"line":126,"column":20},"identifierName":"addPluginVersion"},"name":"addPluginVersion"},"arguments":[{"type":"Literal","start":4372,"end":4381,"loc":{"start":{"line":126,"column":21},"end":{"line":126,"column":30}},"value":"Dropbox","raw":"'Dropbox'"},{"type":"Literal","start":4383,"end":4397,"loc":{"start":{"line":126,"column":32},"end":{"line":126,"column":46}},"value":"uppy-dropbox","raw":"'uppy-dropbox'"}],"optional":false}},{"type":"ExpressionStatement","start":4403,"end":4448,"loc":{"start":{"line":127,"column":4},"end":{"line":127,"column":49}},"expression":{"type":"CallExpression","start":4403,"end":4448,"loc":{"start":{"line":127,"column":4},"end":{"line":127,"column":49}},"callee":{"type":"Identifier","start":4403,"end":4419,"loc":{"start":{"line":127,"column":4},"end":{"line":127,"column":20},"identifierName":"addPluginVersion"},"name":"addPluginVersion"},"arguments":[{"type":"Literal","start":4420,"end":4430,"loc":{"start":{"line":127,"column":21},"end":{"line":127,"column":31}},"value":"Facebook","raw":"'Facebook'"},{"type":"Literal","start":4432,"end":4447,"loc":{"start":{"line":127,"column":33},"end":{"line":127,"column":48}},"value":"uppy-facebook","raw":"'uppy-facebook'"}],"optional":false}},{"type":"ExpressionStatement","start":4453,"end":4505,"loc":{"start":{"line":128,"column":4},"end":{"line":128,"column":56}},"expression":{"type":"CallExpression","start":4453,"end":4505,"loc":{"start":{"line":128,"column":4},"end":{"line":128,"column":56}},"callee":{"type":"Identifier","start":4453,"end":4469,"loc":{"start":{"line":128,"column":4},"end":{"line":128,"column":20},"identifierName":"addPluginVersion"},"name":"addPluginVersion"},"arguments":[{"type":"Literal","start":4470,"end":4483,"loc":{"start":{"line":128,"column":21},"end":{"line":128,"column":34}},"value":"GoogleDrive","raw":"'GoogleDrive'"},{"type":"Literal","start":4485,"end":4504,"loc":{"start":{"line":128,"column":36},"end":{"line":128,"column":55}},"value":"uppy-google-drive","raw":"'uppy-google-drive'"}],"optional":false}},{"type":"ExpressionStatement","start":4510,"end":4557,"loc":{"start":{"line":129,"column":4},"end":{"line":129,"column":51}},"expression":{"type":"CallExpression","start":4510,"end":4557,"loc":{"start":{"line":129,"column":4},"end":{"line":129,"column":51}},"callee":{"type":"Identifier","start":4510,"end":4526,"loc":{"start":{"line":129,"column":4},"end":{"line":129,"column":20},"identifierName":"addPluginVersion"},"name":"addPluginVersion"},"arguments":[{"type":"Literal","start":4527,"end":4538,"loc":{"start":{"line":129,"column":21},"end":{"line":129,"column":32}},"value":"Instagram","raw":"'Instagram'"},{"type":"Literal","start":4540,"end":4556,"loc":{"start":{"line":129,"column":34},"end":{"line":129,"column":50}},"value":"uppy-instagram","raw":"'uppy-instagram'"}],"optional":false}},{"type":"ExpressionStatement","start":4562,"end":4607,"loc":{"start":{"line":130,"column":4},"end":{"line":130,"column":49}},"expression":{"type":"CallExpression","start":4562,"end":4607,"loc":{"start":{"line":130,"column":4},"end":{"line":130,"column":49}},"callee":{"type":"Identifier","start":4562,"end":4578,"loc":{"start":{"line":130,"column":4},"end":{"line":130,"column":20},"identifierName":"addPluginVersion"},"name":"addPluginVersion"},"arguments":[{"type":"Literal","start":4579,"end":4589,"loc":{"start":{"line":130,"column":21},"end":{"line":130,"column":31}},"value":"OneDrive","raw":"'OneDrive'"},{"type":"Literal","start":4591,"end":4606,"loc":{"start":{"line":130,"column":33},"end":{"line":130,"column":48}},"value":"uppy-onedrive","raw":"'uppy-onedrive'"}],"optional":false}},{"type":"ExpressionStatement","start":4612,"end":4647,"loc":{"start":{"line":131,"column":4},"end":{"line":131,"column":39}},"expression":{"type":"CallExpression","start":4612,"end":4647,"loc":{"start":{"line":131,"column":4},"end":{"line":131,"column":39}},"callee":{"type":"Identifier","start":4612,"end":4628,"loc":{"start":{"line":131,"column":4},"end":{"line":131,"column":20},"identifierName":"addPluginVersion"},"name":"addPluginVersion"},"arguments":[{"type":"Literal","start":4629,"end":4634,"loc":{"start":{"line":131,"column":21},"end":{"line":131,"column":26}},"value":"Url","raw":"'Url'"},{"type":"Literal","start":4636,"end":4646,"loc":{"start":{"line":131,"column":28},"end":{"line":131,"column":38}},"value":"uppy-url","raw":"'uppy-url'"}],"optional":false}},{"type":"ReturnStatement","start":4653,"end":4674,"loc":{"start":{"line":133,"column":4},"end":{"line":133,"column":25}},"argument":{"type":"CallExpression","start":4660,"end":4674,"loc":{"start":{"line":133,"column":11},"end":{"line":133,"column":25}},"callee":{"type":"MemberExpression","start":4660,"end":4669,"loc":{"start":{"line":133,"column":11},"end":{"line":133,"column":20}},"object":{"type":"Identifier","start":4660,"end":4664,"loc":{"start":{"line":133,"column":11},"end":{"line":133,"column":15},"identifierName":"list"},"name":"list"},"computed":false,"property":{"type":"Identifier","start":4665,"end":4669,"loc":{"start":{"line":133,"column":16},"end":{"line":133,"column":20},"identifierName":"join"},"name":"join"},"optional":false},"arguments":[{"type":"Literal","start":4670,"end":4673,"loc":{"start":{"line":133,"column":21},"end":{"line":133,"column":24}},"value":",","raw":"','"}],"optional":false}}]}},"trailingComments":[{"type":"CommentBlock","value":"*\n   * Attach metadata to files to configure the Tus plugin to upload to Transloadit.\n   * Also use Transloadit's Companion\n   *\n   * See: https://github.com/tus/tusd/wiki/Uploading-to-Transloadit-using-tus#uploading-using-tus\n   *\n   * @param {object} file\n   * @param {object} status\n   ","start":4682,"end":4975,"loc":{"start":{"line":136,"column":2},"end":{"line":144,"column":5}}}]},{"type":"MethodDefinition","start":4978,"end":7114,"loc":{"start":{"line":145,"column":2},"end":{"line":205,"column":3}},"static":false,"key":{"type":"Identifier","start":4978,"end":5001,"loc":{"start":{"line":145,"column":2},"end":{"line":145,"column":25},"identifierName":"_attachAssemblyMetadata"},"name":"_attachAssemblyMetadata"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":5002,"end":7114,"loc":{"start":{"line":145,"column":26},"end":{"line":205,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":5003,"end":5007,"loc":{"start":{"line":145,"column":27},"end":{"line":145,"column":31},"identifierName":"file"},"name":"file"},{"type":"Identifier","start":5009,"end":5015,"loc":{"start":{"line":145,"column":33},"end":{"line":145,"column":39},"identifierName":"status"},"name":"status"}],"body":{"type":"BlockStatement","start":5017,"end":7114,"loc":{"start":{"line":145,"column":41},"end":{"line":205,"column":3}},"body":[{"type":"VariableDeclaration","start":5077,"end":5209,"loc":{"start":{"line":147,"column":4},"end":{"line":152,"column":5}},"declarations":[{"type":"VariableDeclarator","start":5083,"end":5209,"loc":{"start":{"line":147,"column":10},"end":{"line":152,"column":5}},"id":{"type":"Identifier","start":5083,"end":5087,"loc":{"start":{"line":147,"column":10},"end":{"line":147,"column":14},"identifierName":"meta"},"name":"meta"},"init":{"type":"ObjectExpression","start":5090,"end":5209,"loc":{"start":{"line":147,"column":17},"end":{"line":152,"column":5}},"properties":[{"type":"SpreadElement","start":5098,"end":5110,"loc":{"start":{"line":148,"column":6},"end":{"line":148,"column":18}},"argument":{"type":"MemberExpression","start":5101,"end":5110,"loc":{"start":{"line":148,"column":9},"end":{"line":148,"column":18}},"object":{"type":"Identifier","start":5101,"end":5105,"loc":{"start":{"line":148,"column":9},"end":{"line":148,"column":13},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":5106,"end":5110,"loc":{"start":{"line":148,"column":14},"end":{"line":148,"column":18},"identifierName":"meta"},"name":"meta"},"optional":false}},{"type":"Property","start":5118,"end":5151,"loc":{"start":{"line":149,"column":6},"end":{"line":149,"column":39}},"method":false,"key":{"type":"Identifier","start":5118,"end":5130,"loc":{"start":{"line":149,"column":6},"end":{"line":149,"column":18},"identifierName":"assembly_url"},"name":"assembly_url"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":5132,"end":5151,"loc":{"start":{"line":149,"column":20},"end":{"line":149,"column":39}},"object":{"type":"Identifier","start":5132,"end":5138,"loc":{"start":{"line":149,"column":20},"end":{"line":149,"column":26},"identifierName":"status"},"name":"status"},"computed":false,"property":{"type":"Identifier","start":5139,"end":5151,"loc":{"start":{"line":149,"column":27},"end":{"line":149,"column":39},"identifierName":"assembly_url"},"name":"assembly_url"},"optional":false},"kind":"init"},{"type":"Property","start":5159,"end":5178,"loc":{"start":{"line":150,"column":6},"end":{"line":150,"column":25}},"method":false,"key":{"type":"Identifier","start":5159,"end":5167,"loc":{"start":{"line":150,"column":6},"end":{"line":150,"column":14},"identifierName":"filename"},"name":"filename"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":5169,"end":5178,"loc":{"start":{"line":150,"column":16},"end":{"line":150,"column":25}},"object":{"type":"Identifier","start":5169,"end":5173,"loc":{"start":{"line":150,"column":16},"end":{"line":150,"column":20},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":5174,"end":5178,"loc":{"start":{"line":150,"column":21},"end":{"line":150,"column":25},"identifierName":"name"},"name":"name"},"optional":false},"kind":"init"},{"type":"Property","start":5186,"end":5203,"loc":{"start":{"line":151,"column":6},"end":{"line":151,"column":23}},"method":false,"key":{"type":"Identifier","start":5186,"end":5195,"loc":{"start":{"line":151,"column":6},"end":{"line":151,"column":15},"identifierName":"fieldname"},"name":"fieldname"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":5197,"end":5203,"loc":{"start":{"line":151,"column":17},"end":{"line":151,"column":23}},"value":"file","raw":"'file'"},"kind":"init"}]}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" Add the metadata parameters Transloadit needs.","start":5023,"end":5072,"loc":{"start":{"line":146,"column":4},"end":{"line":146,"column":53}}}],"trailingComments":[{"type":"CommentLine","value":" Add Assembly-specific Tus endpoint.","start":5214,"end":5252,"loc":{"start":{"line":153,"column":4},"end":{"line":153,"column":42}}}]},{"type":"VariableDeclaration","start":5257,"end":5412,"loc":{"start":{"line":154,"column":4},"end":{"line":159,"column":5}},"declarations":[{"type":"VariableDeclarator","start":5263,"end":5412,"loc":{"start":{"line":154,"column":10},"end":{"line":159,"column":5}},"id":{"type":"Identifier","start":5263,"end":5266,"loc":{"start":{"line":154,"column":10},"end":{"line":154,"column":13},"identifierName":"tus"},"name":"tus"},"init":{"type":"ObjectExpression","start":5269,"end":5412,"loc":{"start":{"line":154,"column":16},"end":{"line":159,"column":5}},"properties":[{"type":"SpreadElement","start":5277,"end":5288,"loc":{"start":{"line":155,"column":6},"end":{"line":155,"column":17}},"argument":{"type":"MemberExpression","start":5280,"end":5288,"loc":{"start":{"line":155,"column":9},"end":{"line":155,"column":17}},"object":{"type":"Identifier","start":5280,"end":5284,"loc":{"start":{"line":155,"column":9},"end":{"line":155,"column":13},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":5285,"end":5288,"loc":{"start":{"line":155,"column":14},"end":{"line":155,"column":17},"identifierName":"tus"},"name":"tus"},"optional":false}},{"type":"Property","start":5296,"end":5320,"loc":{"start":{"line":156,"column":6},"end":{"line":156,"column":30}},"method":false,"key":{"type":"Identifier","start":5296,"end":5304,"loc":{"start":{"line":156,"column":6},"end":{"line":156,"column":14},"identifierName":"endpoint"},"name":"endpoint"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":5306,"end":5320,"loc":{"start":{"line":156,"column":16},"end":{"line":156,"column":30}},"object":{"type":"Identifier","start":5306,"end":5312,"loc":{"start":{"line":156,"column":16},"end":{"line":156,"column":22},"identifierName":"status"},"name":"status"},"computed":false,"property":{"type":"Identifier","start":5313,"end":5320,"loc":{"start":{"line":156,"column":23},"end":{"line":156,"column":30},"identifierName":"tus_url"},"name":"tus_url"},"optional":false},"kind":"init"},{"type":"Property","start":5388,"end":5406,"loc":{"start":{"line":158,"column":6},"end":{"line":158,"column":24}},"method":false,"key":{"type":"Identifier","start":5388,"end":5400,"loc":{"start":{"line":158,"column":6},"end":{"line":158,"column":18},"identifierName":"addRequestId"},"name":"addRequestId"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":5402,"end":5406,"loc":{"start":{"line":158,"column":20},"end":{"line":158,"column":24}},"value":true,"raw":"true"},"leadingComments":[{"type":"CommentLine","value":" Include X-Request-ID headers for better debugging.","start":5328,"end":5381,"loc":{"start":{"line":157,"column":6},"end":{"line":157,"column":59}}}],"kind":"init"}]}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" Add Assembly-specific Tus endpoint.","start":5214,"end":5252,"loc":{"start":{"line":153,"column":4},"end":{"line":153,"column":42}}}],"trailingComments":[{"type":"CommentLine","value":" Set Companion location. We only add this, if 'file' has the attribute","start":5418,"end":5490,"loc":{"start":{"line":161,"column":4},"end":{"line":161,"column":76}}},{"type":"CommentLine","value":" remote, because this is the criteria to identify remote files.","start":5495,"end":5560,"loc":{"start":{"line":162,"column":4},"end":{"line":162,"column":69}}},{"type":"CommentLine","value":" We only replace the hostname for Transloadit's companions, so that","start":5565,"end":5634,"loc":{"start":{"line":163,"column":4},"end":{"line":163,"column":73}}},{"type":"CommentLine","value":" people can also self-host them while still using Transloadit for encoding.","start":5639,"end":5716,"loc":{"start":{"line":164,"column":4},"end":{"line":164,"column":81}}}]},{"type":"VariableDeclaration","start":5721,"end":5745,"loc":{"start":{"line":165,"column":4},"end":{"line":165,"column":28}},"declarations":[{"type":"VariableDeclarator","start":5725,"end":5745,"loc":{"start":{"line":165,"column":8},"end":{"line":165,"column":28}},"id":{"type":"Identifier","start":5725,"end":5731,"loc":{"start":{"line":165,"column":8},"end":{"line":165,"column":14},"identifierName":"remote"},"name":"remote"},"init":{"type":"MemberExpression","start":5734,"end":5745,"loc":{"start":{"line":165,"column":17},"end":{"line":165,"column":28}},"object":{"type":"Identifier","start":5734,"end":5738,"loc":{"start":{"line":165,"column":17},"end":{"line":165,"column":21},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":5739,"end":5745,"loc":{"start":{"line":165,"column":22},"end":{"line":165,"column":28},"identifierName":"remote"},"name":"remote"},"optional":false}}],"kind":"let","leadingComments":[{"type":"CommentLine","value":" Set Companion location. We only add this, if 'file' has the attribute","start":5418,"end":5490,"loc":{"start":{"line":161,"column":4},"end":{"line":161,"column":76}}},{"type":"CommentLine","value":" remote, because this is the criteria to identify remote files.","start":5495,"end":5560,"loc":{"start":{"line":162,"column":4},"end":{"line":162,"column":69}}},{"type":"CommentLine","value":" We only replace the hostname for Transloadit's companions, so that","start":5565,"end":5634,"loc":{"start":{"line":163,"column":4},"end":{"line":163,"column":73}}},{"type":"CommentLine","value":" people can also self-host them while still using Transloadit for encoding.","start":5639,"end":5716,"loc":{"start":{"line":164,"column":4},"end":{"line":164,"column":81}}}]},{"type":"IfStatement","start":5750,"end":6325,"loc":{"start":{"line":166,"column":4},"end":{"line":177,"column":5}},"test":{"type":"LogicalExpression","start":5754,"end":5814,"loc":{"start":{"line":166,"column":8},"end":{"line":166,"column":68}},"left":{"type":"MemberExpression","start":5754,"end":5765,"loc":{"start":{"line":166,"column":8},"end":{"line":166,"column":19}},"object":{"type":"Identifier","start":5754,"end":5758,"loc":{"start":{"line":166,"column":8},"end":{"line":166,"column":12},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":5759,"end":5765,"loc":{"start":{"line":166,"column":13},"end":{"line":166,"column":19},"identifierName":"remote"},"name":"remote"},"optional":false},"operator":"&&","right":{"type":"CallExpression","start":5769,"end":5814,"loc":{"start":{"line":166,"column":23},"end":{"line":166,"column":68}},"callee":{"type":"MemberExpression","start":5769,"end":5788,"loc":{"start":{"line":166,"column":23},"end":{"line":166,"column":42}},"object":{"type":"Identifier","start":5769,"end":5783,"loc":{"start":{"line":166,"column":23},"end":{"line":166,"column":37},"identifierName":"TL_UPPY_SERVER"},"name":"TL_UPPY_SERVER"},"computed":false,"property":{"type":"Identifier","start":5784,"end":5788,"loc":{"start":{"line":166,"column":38},"end":{"line":166,"column":42},"identifierName":"test"},"name":"test"},"optional":false},"arguments":[{"type":"MemberExpression","start":5789,"end":5813,"loc":{"start":{"line":166,"column":43},"end":{"line":166,"column":67}},"object":{"type":"MemberExpression","start":5789,"end":5800,"loc":{"start":{"line":166,"column":43},"end":{"line":166,"column":54}},"object":{"type":"Identifier","start":5789,"end":5793,"loc":{"start":{"line":166,"column":43},"end":{"line":166,"column":47},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":5794,"end":5800,"loc":{"start":{"line":166,"column":48},"end":{"line":166,"column":54},"identifierName":"remote"},"name":"remote"},"optional":false},"computed":false,"property":{"type":"Identifier","start":5801,"end":5813,"loc":{"start":{"line":166,"column":55},"end":{"line":166,"column":67},"identifierName":"companionUrl"},"name":"companionUrl"},"optional":false}],"optional":false}},"consequent":{"type":"BlockStatement","start":5816,"end":6325,"loc":{"start":{"line":166,"column":70},"end":{"line":177,"column":5}},"body":[{"type":"VariableDeclaration","start":5824,"end":6047,"loc":{"start":{"line":167,"column":6},"end":{"line":170,"column":31}},"declarations":[{"type":"VariableDeclarator","start":5830,"end":6047,"loc":{"start":{"line":167,"column":12},"end":{"line":170,"column":31}},"id":{"type":"Identifier","start":5830,"end":5833,"loc":{"start":{"line":167,"column":12},"end":{"line":167,"column":15},"identifierName":"err"},"name":"err"},"init":{"type":"NewExpression","start":5836,"end":6047,"loc":{"start":{"line":167,"column":18},"end":{"line":170,"column":31}},"callee":{"type":"Identifier","start":5840,"end":5845,"loc":{"start":{"line":167,"column":22},"end":{"line":167,"column":27},"identifierName":"Error"},"name":"Error"},"typeArguments":null,"arguments":[{"type":"BinaryExpression","start":5855,"end":6046,"loc":{"start":{"line":168,"column":8},"end":{"line":170,"column":30}},"left":{"type":"BinaryExpression","start":5855,"end":6013,"loc":{"start":{"line":168,"column":8},"end":{"line":169,"column":84}},"left":{"type":"Literal","start":5855,"end":5926,"loc":{"start":{"line":168,"column":8},"end":{"line":168,"column":79}},"value":"The https://api2.transloadit.com/uppy-server endpoint was renamed to ","raw":"'The https://api2.transloadit.com/uppy-server endpoint was renamed to '"},"operator":"+","right":{"type":"Literal","start":5937,"end":6013,"loc":{"start":{"line":169,"column":8},"end":{"line":169,"column":84}},"value":"https://api2.transloadit.com/companion, please update your `companionUrl` ","raw":"'https://api2.transloadit.com/companion, please update your `companionUrl` '"}},"operator":"+","right":{"type":"Literal","start":6024,"end":6046,"loc":{"start":{"line":170,"column":8},"end":{"line":170,"column":30}},"value":"options accordingly.","raw":"'options accordingly.'"}}]}}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" Explicitly log this error here because it is caught by the `createAssembly`","start":6054,"end":6132,"loc":{"start":{"line":171,"column":6},"end":{"line":171,"column":84}}},{"type":"CommentLine","value":" Promise further along.","start":6139,"end":6164,"loc":{"start":{"line":172,"column":6},"end":{"line":172,"column":31}}},{"type":"CommentLine","value":" That's fine, but createAssembly only shows the informer, we need something a","start":6171,"end":6250,"loc":{"start":{"line":173,"column":6},"end":{"line":173,"column":85}}},{"type":"CommentLine","value":" little more noisy.","start":6257,"end":6278,"loc":{"start":{"line":174,"column":6},"end":{"line":174,"column":27}}}]},{"type":"ExpressionStatement","start":6285,"end":6303,"loc":{"start":{"line":175,"column":6},"end":{"line":175,"column":24}},"expression":{"type":"CallExpression","start":6285,"end":6303,"loc":{"start":{"line":175,"column":6},"end":{"line":175,"column":24}},"callee":{"type":"MemberExpression","start":6285,"end":6298,"loc":{"start":{"line":175,"column":6},"end":{"line":175,"column":19}},"object":{"type":"MemberExpression","start":6285,"end":6294,"loc":{"start":{"line":175,"column":6},"end":{"line":175,"column":15}},"object":{"type":"ThisExpression","start":6285,"end":6289,"loc":{"start":{"line":175,"column":6},"end":{"line":175,"column":10}}},"computed":false,"property":{"type":"Identifier","start":6290,"end":6294,"loc":{"start":{"line":175,"column":11},"end":{"line":175,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":6295,"end":6298,"loc":{"start":{"line":175,"column":16},"end":{"line":175,"column":19},"identifierName":"log"},"name":"log"},"optional":false},"arguments":[{"type":"Identifier","start":6299,"end":6302,"loc":{"start":{"line":175,"column":20},"end":{"line":175,"column":23},"identifierName":"err"},"name":"err"}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" Explicitly log this error here because it is caught by the `createAssembly`","start":6054,"end":6132,"loc":{"start":{"line":171,"column":6},"end":{"line":171,"column":84}}},{"type":"CommentLine","value":" Promise further along.","start":6139,"end":6164,"loc":{"start":{"line":172,"column":6},"end":{"line":172,"column":31}}},{"type":"CommentLine","value":" That's fine, but createAssembly only shows the informer, we need something a","start":6171,"end":6250,"loc":{"start":{"line":173,"column":6},"end":{"line":173,"column":85}}},{"type":"CommentLine","value":" little more noisy.","start":6257,"end":6278,"loc":{"start":{"line":174,"column":6},"end":{"line":174,"column":27}}}]},{"type":"ThrowStatement","start":6310,"end":6319,"loc":{"start":{"line":176,"column":6},"end":{"line":176,"column":15}},"argument":{"type":"Identifier","start":6316,"end":6319,"loc":{"start":{"line":176,"column":12},"end":{"line":176,"column":15},"identifierName":"err"},"name":"err"}}]},"alternate":null},{"type":"IfStatement","start":6331,"end":6698,"loc":{"start":{"line":179,"column":4},"end":{"line":191,"column":5}},"test":{"type":"LogicalExpression","start":6335,"end":6393,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":66}},"left":{"type":"MemberExpression","start":6335,"end":6346,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":19}},"object":{"type":"Identifier","start":6335,"end":6339,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":12},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":6340,"end":6346,"loc":{"start":{"line":179,"column":13},"end":{"line":179,"column":19},"identifierName":"remote"},"name":"remote"},"optional":false},"operator":"&&","right":{"type":"CallExpression","start":6350,"end":6393,"loc":{"start":{"line":179,"column":23},"end":{"line":179,"column":66}},"callee":{"type":"MemberExpression","start":6350,"end":6367,"loc":{"start":{"line":179,"column":23},"end":{"line":179,"column":40}},"object":{"type":"Identifier","start":6350,"end":6362,"loc":{"start":{"line":179,"column":23},"end":{"line":179,"column":35},"identifierName":"TL_COMPANION"},"name":"TL_COMPANION"},"computed":false,"property":{"type":"Identifier","start":6363,"end":6367,"loc":{"start":{"line":179,"column":36},"end":{"line":179,"column":40},"identifierName":"test"},"name":"test"},"optional":false},"arguments":[{"type":"MemberExpression","start":6368,"end":6392,"loc":{"start":{"line":179,"column":41},"end":{"line":179,"column":65}},"object":{"type":"MemberExpression","start":6368,"end":6379,"loc":{"start":{"line":179,"column":41},"end":{"line":179,"column":52}},"object":{"type":"Identifier","start":6368,"end":6372,"loc":{"start":{"line":179,"column":41},"end":{"line":179,"column":45},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":6373,"end":6379,"loc":{"start":{"line":179,"column":46},"end":{"line":179,"column":52},"identifierName":"remote"},"name":"remote"},"optional":false},"computed":false,"property":{"type":"Identifier","start":6380,"end":6392,"loc":{"start":{"line":179,"column":53},"end":{"line":179,"column":65},"identifierName":"companionUrl"},"name":"companionUrl"},"optional":false}],"optional":false}},"consequent":{"type":"BlockStatement","start":6395,"end":6698,"loc":{"start":{"line":179,"column":68},"end":{"line":191,"column":5}},"body":[{"type":"VariableDeclaration","start":6403,"end":6467,"loc":{"start":{"line":180,"column":6},"end":{"line":181,"column":27}},"declarations":[{"type":"VariableDeclarator","start":6409,"end":6467,"loc":{"start":{"line":180,"column":12},"end":{"line":181,"column":27}},"id":{"type":"Identifier","start":6409,"end":6416,"loc":{"start":{"line":180,"column":12},"end":{"line":180,"column":19},"identifierName":"newHost"},"name":"newHost"},"init":{"type":"CallExpression","start":6419,"end":6467,"loc":{"start":{"line":180,"column":22},"end":{"line":181,"column":27}},"callee":{"type":"MemberExpression","start":6419,"end":6456,"loc":{"start":{"line":180,"column":22},"end":{"line":181,"column":16}},"object":{"type":"MemberExpression","start":6419,"end":6439,"loc":{"start":{"line":180,"column":22},"end":{"line":180,"column":42}},"object":{"type":"Identifier","start":6419,"end":6425,"loc":{"start":{"line":180,"column":22},"end":{"line":180,"column":28},"identifierName":"status"},"name":"status"},"computed":false,"property":{"type":"Identifier","start":6426,"end":6439,"loc":{"start":{"line":180,"column":29},"end":{"line":180,"column":42},"identifierName":"companion_url"},"name":"companion_url"},"optional":false},"computed":false,"property":{"type":"Identifier","start":6449,"end":6456,"loc":{"start":{"line":181,"column":9},"end":{"line":181,"column":16},"identifierName":"replace"},"name":"replace"},"optional":false},"arguments":[{"type":"Literal","start":6457,"end":6462,"loc":{"start":{"line":181,"column":17},"end":{"line":181,"column":22}},"value":{},"raw":"/\\/$/","regex":{"pattern":"\\/$","flags":""}},{"type":"Literal","start":6464,"end":6466,"loc":{"start":{"line":181,"column":24},"end":{"line":181,"column":26}},"value":"","raw":"''"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":6474,"end":6577,"loc":{"start":{"line":182,"column":6},"end":{"line":184,"column":27}},"declarations":[{"type":"VariableDeclarator","start":6480,"end":6577,"loc":{"start":{"line":182,"column":12},"end":{"line":184,"column":27}},"id":{"type":"Identifier","start":6480,"end":6484,"loc":{"start":{"line":182,"column":12},"end":{"line":182,"column":16},"identifierName":"path"},"name":"path"},"init":{"type":"CallExpression","start":6487,"end":6577,"loc":{"start":{"line":182,"column":19},"end":{"line":184,"column":27}},"callee":{"type":"MemberExpression","start":6487,"end":6566,"loc":{"start":{"line":182,"column":19},"end":{"line":184,"column":16}},"object":{"type":"CallExpression","start":6487,"end":6549,"loc":{"start":{"line":182,"column":19},"end":{"line":183,"column":46}},"callee":{"type":"MemberExpression","start":6487,"end":6519,"loc":{"start":{"line":182,"column":19},"end":{"line":183,"column":16}},"object":{"type":"MemberExpression","start":6487,"end":6502,"loc":{"start":{"line":182,"column":19},"end":{"line":182,"column":34}},"object":{"type":"MemberExpression","start":6487,"end":6498,"loc":{"start":{"line":182,"column":19},"end":{"line":182,"column":30}},"object":{"type":"Identifier","start":6487,"end":6491,"loc":{"start":{"line":182,"column":19},"end":{"line":182,"column":23},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":6492,"end":6498,"loc":{"start":{"line":182,"column":24},"end":{"line":182,"column":30},"identifierName":"remote"},"name":"remote"},"optional":false},"computed":false,"property":{"type":"Identifier","start":6499,"end":6502,"loc":{"start":{"line":182,"column":31},"end":{"line":182,"column":34},"identifierName":"url"},"name":"url"},"optional":false},"computed":false,"property":{"type":"Identifier","start":6512,"end":6519,"loc":{"start":{"line":183,"column":9},"end":{"line":183,"column":16},"identifierName":"replace"},"name":"replace"},"optional":false},"arguments":[{"type":"MemberExpression","start":6520,"end":6544,"loc":{"start":{"line":183,"column":17},"end":{"line":183,"column":41}},"object":{"type":"MemberExpression","start":6520,"end":6531,"loc":{"start":{"line":183,"column":17},"end":{"line":183,"column":28}},"object":{"type":"Identifier","start":6520,"end":6524,"loc":{"start":{"line":183,"column":17},"end":{"line":183,"column":21},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":6525,"end":6531,"loc":{"start":{"line":183,"column":22},"end":{"line":183,"column":28},"identifierName":"remote"},"name":"remote"},"optional":false},"computed":false,"property":{"type":"Identifier","start":6532,"end":6544,"loc":{"start":{"line":183,"column":29},"end":{"line":183,"column":41},"identifierName":"companionUrl"},"name":"companionUrl"},"optional":false},{"type":"Literal","start":6546,"end":6548,"loc":{"start":{"line":183,"column":43},"end":{"line":183,"column":45}},"value":"","raw":"''"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":6559,"end":6566,"loc":{"start":{"line":184,"column":9},"end":{"line":184,"column":16},"identifierName":"replace"},"name":"replace"},"optional":false},"arguments":[{"type":"Literal","start":6567,"end":6572,"loc":{"start":{"line":184,"column":17},"end":{"line":184,"column":22}},"value":{},"raw":"/^\\//","regex":{"pattern":"^\\/","flags":""}},{"type":"Literal","start":6574,"end":6576,"loc":{"start":{"line":184,"column":24},"end":{"line":184,"column":26}},"value":"","raw":"''"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":6585,"end":6692,"loc":{"start":{"line":186,"column":6},"end":{"line":190,"column":7}},"expression":{"type":"AssignmentExpression","start":6585,"end":6692,"loc":{"start":{"line":186,"column":6},"end":{"line":190,"column":7}},"operator":"=","left":{"type":"Identifier","start":6585,"end":6591,"loc":{"start":{"line":186,"column":6},"end":{"line":186,"column":12},"identifierName":"remote"},"name":"remote"},"right":{"type":"ObjectExpression","start":6594,"end":6692,"loc":{"start":{"line":186,"column":15},"end":{"line":190,"column":7}},"properties":[{"type":"SpreadElement","start":6604,"end":6618,"loc":{"start":{"line":187,"column":8},"end":{"line":187,"column":22}},"argument":{"type":"MemberExpression","start":6607,"end":6618,"loc":{"start":{"line":187,"column":11},"end":{"line":187,"column":22}},"object":{"type":"Identifier","start":6607,"end":6611,"loc":{"start":{"line":187,"column":11},"end":{"line":187,"column":15},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":6612,"end":6618,"loc":{"start":{"line":187,"column":16},"end":{"line":187,"column":22},"identifierName":"remote"},"name":"remote"},"optional":false}},{"type":"Property","start":6628,"end":6649,"loc":{"start":{"line":188,"column":8},"end":{"line":188,"column":29}},"method":false,"key":{"type":"Identifier","start":6628,"end":6640,"loc":{"start":{"line":188,"column":8},"end":{"line":188,"column":20},"identifierName":"companionUrl"},"name":"companionUrl"},"computed":false,"shorthand":false,"value":{"type":"Identifier","start":6642,"end":6649,"loc":{"start":{"line":188,"column":22},"end":{"line":188,"column":29},"identifierName":"newHost"},"name":"newHost"},"kind":"init"},{"type":"Property","start":6659,"end":6684,"loc":{"start":{"line":189,"column":8},"end":{"line":189,"column":33}},"method":false,"key":{"type":"Identifier","start":6659,"end":6662,"loc":{"start":{"line":189,"column":8},"end":{"line":189,"column":11},"identifierName":"url"},"name":"url"},"computed":false,"shorthand":false,"value":{"type":"TemplateLiteral","start":6664,"end":6684,"loc":{"start":{"line":189,"column":13},"end":{"line":189,"column":33}},"expressions":[{"type":"Identifier","start":6667,"end":6674,"loc":{"start":{"line":189,"column":16},"end":{"line":189,"column":23},"identifierName":"newHost"},"name":"newHost"},{"type":"Identifier","start":6678,"end":6682,"loc":{"start":{"line":189,"column":27},"end":{"line":189,"column":31},"identifierName":"path"},"name":"path"}],"quasis":[{"type":"TemplateElement","start":6665,"end":6665,"loc":{"start":{"line":189,"column":14},"end":{"line":189,"column":14}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":6675,"end":6676,"loc":{"start":{"line":189,"column":24},"end":{"line":189,"column":25}},"value":{"raw":"/","cooked":"/"},"tail":false},{"type":"TemplateElement","start":6683,"end":6683,"loc":{"start":{"line":189,"column":32},"end":{"line":189,"column":32}},"value":{"raw":"","cooked":""},"tail":true}]},"kind":"init"}]}}}]},"alternate":null,"trailingComments":[{"type":"CommentLine","value":" Store the Assembly ID this file is in on the file under the `transloadit` key.","start":6704,"end":6785,"loc":{"start":{"line":193,"column":4},"end":{"line":193,"column":85}}}]},{"type":"VariableDeclaration","start":6790,"end":6894,"loc":{"start":{"line":194,"column":4},"end":{"line":199,"column":5}},"declarations":[{"type":"VariableDeclarator","start":6796,"end":6894,"loc":{"start":{"line":194,"column":10},"end":{"line":199,"column":5}},"id":{"type":"Identifier","start":6796,"end":6803,"loc":{"start":{"line":194,"column":10},"end":{"line":194,"column":17},"identifierName":"newFile"},"name":"newFile"},"init":{"type":"ObjectExpression","start":6806,"end":6894,"loc":{"start":{"line":194,"column":20},"end":{"line":199,"column":5}},"properties":[{"type":"SpreadElement","start":6814,"end":6821,"loc":{"start":{"line":195,"column":6},"end":{"line":195,"column":13}},"argument":{"type":"Identifier","start":6817,"end":6821,"loc":{"start":{"line":195,"column":9},"end":{"line":195,"column":13},"identifierName":"file"},"name":"file"}},{"type":"Property","start":6829,"end":6888,"loc":{"start":{"line":196,"column":6},"end":{"line":198,"column":7}},"method":false,"key":{"type":"Identifier","start":6829,"end":6840,"loc":{"start":{"line":196,"column":6},"end":{"line":196,"column":17},"identifierName":"transloadit"},"name":"transloadit"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":6842,"end":6888,"loc":{"start":{"line":196,"column":19},"end":{"line":198,"column":7}},"properties":[{"type":"Property","start":6852,"end":6880,"loc":{"start":{"line":197,"column":8},"end":{"line":197,"column":36}},"method":false,"key":{"type":"Identifier","start":6852,"end":6860,"loc":{"start":{"line":197,"column":8},"end":{"line":197,"column":16},"identifierName":"assembly"},"name":"assembly"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":6862,"end":6880,"loc":{"start":{"line":197,"column":18},"end":{"line":197,"column":36}},"object":{"type":"Identifier","start":6862,"end":6868,"loc":{"start":{"line":197,"column":18},"end":{"line":197,"column":24},"identifierName":"status"},"name":"status"},"computed":false,"property":{"type":"Identifier","start":6869,"end":6880,"loc":{"start":{"line":197,"column":25},"end":{"line":197,"column":36},"identifierName":"assembly_id"},"name":"assembly_id"},"optional":false},"kind":"init"}]},"kind":"init"}]}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" Store the Assembly ID this file is in on the file under the `transloadit` key.","start":6704,"end":6785,"loc":{"start":{"line":193,"column":4},"end":{"line":193,"column":85}}}],"trailingComments":[{"type":"CommentLine","value":" Only configure the Tus plugin if we are uploading straight to Transloadit (the default).","start":6899,"end":6990,"loc":{"start":{"line":200,"column":4},"end":{"line":200,"column":95}}}]},{"type":"IfStatement","start":6995,"end":7091,"loc":{"start":{"line":201,"column":4},"end":{"line":203,"column":5}},"test":{"type":"UnaryExpression","start":6999,"end":7030,"loc":{"start":{"line":201,"column":8},"end":{"line":201,"column":39}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":7000,"end":7030,"loc":{"start":{"line":201,"column":9},"end":{"line":201,"column":39}},"object":{"type":"MemberExpression","start":7000,"end":7009,"loc":{"start":{"line":201,"column":9},"end":{"line":201,"column":18}},"object":{"type":"ThisExpression","start":7000,"end":7004,"loc":{"start":{"line":201,"column":9},"end":{"line":201,"column":13}}},"computed":false,"property":{"type":"Identifier","start":7005,"end":7009,"loc":{"start":{"line":201,"column":14},"end":{"line":201,"column":18},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":7010,"end":7030,"loc":{"start":{"line":201,"column":19},"end":{"line":201,"column":39},"identifierName":"importFromUploadURLs"},"name":"importFromUploadURLs"},"optional":false}},"consequent":{"type":"BlockStatement","start":7032,"end":7091,"loc":{"start":{"line":201,"column":41},"end":{"line":203,"column":5}},"body":[{"type":"ExpressionStatement","start":7040,"end":7085,"loc":{"start":{"line":202,"column":6},"end":{"line":202,"column":51}},"expression":{"type":"CallExpression","start":7040,"end":7085,"loc":{"start":{"line":202,"column":6},"end":{"line":202,"column":51}},"callee":{"type":"MemberExpression","start":7040,"end":7053,"loc":{"start":{"line":202,"column":6},"end":{"line":202,"column":19}},"object":{"type":"Identifier","start":7040,"end":7046,"loc":{"start":{"line":202,"column":6},"end":{"line":202,"column":12},"identifierName":"Object"},"name":"Object"},"computed":false,"property":{"type":"Identifier","start":7047,"end":7053,"loc":{"start":{"line":202,"column":13},"end":{"line":202,"column":19},"identifierName":"assign"},"name":"assign"},"optional":false},"arguments":[{"type":"Identifier","start":7054,"end":7061,"loc":{"start":{"line":202,"column":20},"end":{"line":202,"column":27},"identifierName":"newFile"},"name":"newFile"},{"type":"ObjectExpression","start":7063,"end":7084,"loc":{"start":{"line":202,"column":29},"end":{"line":202,"column":50}},"properties":[{"type":"Property","start":7065,"end":7069,"loc":{"start":{"line":202,"column":31},"end":{"line":202,"column":35}},"method":false,"key":{"type":"Identifier","start":7065,"end":7069,"loc":{"start":{"line":202,"column":31},"end":{"line":202,"column":35},"identifierName":"meta"},"name":"meta"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":7065,"end":7069,"loc":{"start":{"line":202,"column":31},"end":{"line":202,"column":35},"identifierName":"meta"},"name":"meta"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":7071,"end":7074,"loc":{"start":{"line":202,"column":37},"end":{"line":202,"column":40}},"method":false,"key":{"type":"Identifier","start":7071,"end":7074,"loc":{"start":{"line":202,"column":37},"end":{"line":202,"column":40},"identifierName":"tus"},"name":"tus"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":7071,"end":7074,"loc":{"start":{"line":202,"column":37},"end":{"line":202,"column":40},"identifierName":"tus"},"name":"tus"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":7076,"end":7082,"loc":{"start":{"line":202,"column":42},"end":{"line":202,"column":48}},"method":false,"key":{"type":"Identifier","start":7076,"end":7082,"loc":{"start":{"line":202,"column":42},"end":{"line":202,"column":48},"identifierName":"remote"},"name":"remote"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":7076,"end":7082,"loc":{"start":{"line":202,"column":42},"end":{"line":202,"column":48},"identifierName":"remote"},"name":"remote"},"kind":"init","extra":{"shorthand":true}}]}],"optional":false}}]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" Only configure the Tus plugin if we are uploading straight to Transloadit (the default).","start":6899,"end":6990,"loc":{"start":{"line":200,"column":4},"end":{"line":200,"column":95}}}]},{"type":"ReturnStatement","start":7096,"end":7110,"loc":{"start":{"line":204,"column":4},"end":{"line":204,"column":18}},"argument":{"type":"Identifier","start":7103,"end":7110,"loc":{"start":{"line":204,"column":11},"end":{"line":204,"column":18},"identifierName":"newFile"},"name":"newFile"}}]}},"leadingComments":[{"type":"CommentBlock","value":"*\n   * Attach metadata to files to configure the Tus plugin to upload to Transloadit.\n   * Also use Transloadit's Companion\n   *\n   * See: https://github.com/tus/tusd/wiki/Uploading-to-Transloadit-using-tus#uploading-using-tus\n   *\n   * @param {object} file\n   * @param {object} status\n   ","start":4682,"end":4975,"loc":{"start":{"line":136,"column":2},"end":{"line":144,"column":5}}}]},{"type":"MethodDefinition","start":7118,"end":8654,"loc":{"start":{"line":207,"column":2},"end":{"line":258,"column":3}},"static":false,"key":{"type":"Identifier","start":7118,"end":7133,"loc":{"start":{"line":207,"column":2},"end":{"line":207,"column":17},"identifierName":"_createAssembly"},"name":"_createAssembly"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":7134,"end":8654,"loc":{"start":{"line":207,"column":18},"end":{"line":258,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":7135,"end":7142,"loc":{"start":{"line":207,"column":19},"end":{"line":207,"column":26},"identifierName":"fileIDs"},"name":"fileIDs"},{"type":"Identifier","start":7144,"end":7152,"loc":{"start":{"line":207,"column":28},"end":{"line":207,"column":36},"identifierName":"uploadID"},"name":"uploadID"},{"type":"Identifier","start":7154,"end":7161,"loc":{"start":{"line":207,"column":38},"end":{"line":207,"column":45},"identifierName":"options"},"name":"options"}],"body":{"type":"BlockStatement","start":7163,"end":8654,"loc":{"start":{"line":207,"column":47},"end":{"line":258,"column":3}},"body":[{"type":"ExpressionStatement","start":7169,"end":7215,"loc":{"start":{"line":208,"column":4},"end":{"line":208,"column":50}},"expression":{"type":"CallExpression","start":7169,"end":7215,"loc":{"start":{"line":208,"column":4},"end":{"line":208,"column":50}},"callee":{"type":"MemberExpression","start":7169,"end":7182,"loc":{"start":{"line":208,"column":4},"end":{"line":208,"column":17}},"object":{"type":"MemberExpression","start":7169,"end":7178,"loc":{"start":{"line":208,"column":4},"end":{"line":208,"column":13}},"object":{"type":"ThisExpression","start":7169,"end":7173,"loc":{"start":{"line":208,"column":4},"end":{"line":208,"column":8}}},"computed":false,"property":{"type":"Identifier","start":7174,"end":7178,"loc":{"start":{"line":208,"column":9},"end":{"line":208,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":7179,"end":7182,"loc":{"start":{"line":208,"column":14},"end":{"line":208,"column":17},"identifierName":"log"},"name":"log"},"optional":false},"arguments":[{"type":"Literal","start":7183,"end":7214,"loc":{"start":{"line":208,"column":18},"end":{"line":208,"column":49}},"value":"[Transloadit] Create Assembly","raw":"'[Transloadit] Create Assembly'"}],"optional":false}},{"type":"ReturnStatement","start":7221,"end":8650,"loc":{"start":{"line":210,"column":4},"end":{"line":257,"column":6}},"argument":{"type":"CallExpression","start":7228,"end":8650,"loc":{"start":{"line":210,"column":11},"end":{"line":257,"column":6}},"callee":{"type":"MemberExpression","start":7228,"end":8510,"loc":{"start":{"line":210,"column":11},"end":{"line":253,"column":12}},"object":{"type":"CallExpression","start":7228,"end":8504,"loc":{"start":{"line":210,"column":11},"end":{"line":253,"column":6}},"callee":{"type":"MemberExpression","start":7228,"end":7400,"loc":{"start":{"line":210,"column":11},"end":{"line":215,"column":11}},"object":{"type":"CallExpression","start":7228,"end":7395,"loc":{"start":{"line":210,"column":11},"end":{"line":215,"column":6}},"callee":{"type":"MemberExpression","start":7228,"end":7254,"loc":{"start":{"line":210,"column":11},"end":{"line":210,"column":37}},"object":{"type":"MemberExpression","start":7228,"end":7239,"loc":{"start":{"line":210,"column":11},"end":{"line":210,"column":22}},"object":{"type":"ThisExpression","start":7228,"end":7232,"loc":{"start":{"line":210,"column":11},"end":{"line":210,"column":15}}},"computed":false,"property":{"type":"Identifier","start":7233,"end":7239,"loc":{"start":{"line":210,"column":16},"end":{"line":210,"column":22},"identifierName":"client"},"name":"client"},"optional":false},"computed":false,"property":{"type":"Identifier","start":7240,"end":7254,"loc":{"start":{"line":210,"column":23},"end":{"line":210,"column":37},"identifierName":"createAssembly"},"name":"createAssembly"},"optional":false},"arguments":[{"type":"ObjectExpression","start":7255,"end":7394,"loc":{"start":{"line":210,"column":38},"end":{"line":215,"column":5}},"properties":[{"type":"Property","start":7263,"end":7285,"loc":{"start":{"line":211,"column":6},"end":{"line":211,"column":28}},"method":false,"key":{"type":"Identifier","start":7263,"end":7269,"loc":{"start":{"line":211,"column":6},"end":{"line":211,"column":12},"identifierName":"params"},"name":"params"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":7271,"end":7285,"loc":{"start":{"line":211,"column":14},"end":{"line":211,"column":28}},"object":{"type":"Identifier","start":7271,"end":7278,"loc":{"start":{"line":211,"column":14},"end":{"line":211,"column":21},"identifierName":"options"},"name":"options"},"computed":false,"property":{"type":"Identifier","start":7279,"end":7285,"loc":{"start":{"line":211,"column":22},"end":{"line":211,"column":28},"identifierName":"params"},"name":"params"},"optional":false},"kind":"init"},{"type":"Property","start":7293,"end":7315,"loc":{"start":{"line":212,"column":6},"end":{"line":212,"column":28}},"method":false,"key":{"type":"Identifier","start":7293,"end":7299,"loc":{"start":{"line":212,"column":6},"end":{"line":212,"column":12},"identifierName":"fields"},"name":"fields"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":7301,"end":7315,"loc":{"start":{"line":212,"column":14},"end":{"line":212,"column":28}},"object":{"type":"Identifier","start":7301,"end":7308,"loc":{"start":{"line":212,"column":14},"end":{"line":212,"column":21},"identifierName":"options"},"name":"options"},"computed":false,"property":{"type":"Identifier","start":7309,"end":7315,"loc":{"start":{"line":212,"column":22},"end":{"line":212,"column":28},"identifierName":"fields"},"name":"fields"},"optional":false},"kind":"init"},{"type":"Property","start":7323,"end":7352,"loc":{"start":{"line":213,"column":6},"end":{"line":213,"column":35}},"method":false,"key":{"type":"Identifier","start":7323,"end":7336,"loc":{"start":{"line":213,"column":6},"end":{"line":213,"column":19},"identifierName":"expectedFiles"},"name":"expectedFiles"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":7338,"end":7352,"loc":{"start":{"line":213,"column":21},"end":{"line":213,"column":35}},"object":{"type":"Identifier","start":7338,"end":7345,"loc":{"start":{"line":213,"column":21},"end":{"line":213,"column":28},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"property":{"type":"Identifier","start":7346,"end":7352,"loc":{"start":{"line":213,"column":29},"end":{"line":213,"column":35},"identifierName":"length"},"name":"length"},"optional":false},"kind":"init"},{"type":"Property","start":7360,"end":7388,"loc":{"start":{"line":214,"column":6},"end":{"line":214,"column":34}},"method":false,"key":{"type":"Identifier","start":7360,"end":7369,"loc":{"start":{"line":214,"column":6},"end":{"line":214,"column":15},"identifierName":"signature"},"name":"signature"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":7371,"end":7388,"loc":{"start":{"line":214,"column":17},"end":{"line":214,"column":34}},"object":{"type":"Identifier","start":7371,"end":7378,"loc":{"start":{"line":214,"column":17},"end":{"line":214,"column":24},"identifierName":"options"},"name":"options"},"computed":false,"property":{"type":"Identifier","start":7379,"end":7388,"loc":{"start":{"line":214,"column":25},"end":{"line":214,"column":34},"identifierName":"signature"},"name":"signature"},"optional":false},"kind":"init"}]}],"optional":false},"computed":false,"property":{"type":"Identifier","start":7396,"end":7400,"loc":{"start":{"line":215,"column":7},"end":{"line":215,"column":11},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7401,"end":8503,"loc":{"start":{"line":215,"column":12},"end":{"line":253,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":7402,"end":7413,"loc":{"start":{"line":215,"column":13},"end":{"line":215,"column":24},"identifierName":"newAssembly"},"name":"newAssembly"}],"body":{"type":"BlockStatement","start":7418,"end":8503,"loc":{"start":{"line":215,"column":29},"end":{"line":253,"column":5}},"body":[{"type":"VariableDeclaration","start":7426,"end":7468,"loc":{"start":{"line":216,"column":6},"end":{"line":216,"column":48}},"declarations":[{"type":"VariableDeclarator","start":7432,"end":7468,"loc":{"start":{"line":216,"column":12},"end":{"line":216,"column":48}},"id":{"type":"Identifier","start":7432,"end":7440,"loc":{"start":{"line":216,"column":12},"end":{"line":216,"column":20},"identifierName":"assembly"},"name":"assembly"},"init":{"type":"NewExpression","start":7443,"end":7468,"loc":{"start":{"line":216,"column":23},"end":{"line":216,"column":48}},"callee":{"type":"Identifier","start":7447,"end":7455,"loc":{"start":{"line":216,"column":27},"end":{"line":216,"column":35},"identifierName":"Assembly"},"name":"Assembly"},"typeArguments":null,"arguments":[{"type":"Identifier","start":7456,"end":7467,"loc":{"start":{"line":216,"column":36},"end":{"line":216,"column":47},"identifierName":"newAssembly"},"name":"newAssembly"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":7475,"end":7505,"loc":{"start":{"line":217,"column":6},"end":{"line":217,"column":36}},"declarations":[{"type":"VariableDeclarator","start":7481,"end":7505,"loc":{"start":{"line":217,"column":12},"end":{"line":217,"column":36}},"id":{"type":"Identifier","start":7481,"end":7487,"loc":{"start":{"line":217,"column":12},"end":{"line":217,"column":18},"identifierName":"status"},"name":"status"},"init":{"type":"MemberExpression","start":7490,"end":7505,"loc":{"start":{"line":217,"column":21},"end":{"line":217,"column":36}},"object":{"type":"Identifier","start":7490,"end":7498,"loc":{"start":{"line":217,"column":21},"end":{"line":217,"column":29},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":7499,"end":7505,"loc":{"start":{"line":217,"column":30},"end":{"line":217,"column":36},"identifierName":"status"},"name":"status"},"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":7512,"end":7549,"loc":{"start":{"line":218,"column":6},"end":{"line":218,"column":43}},"declarations":[{"type":"VariableDeclarator","start":7518,"end":7549,"loc":{"start":{"line":218,"column":12},"end":{"line":218,"column":43}},"id":{"type":"Identifier","start":7518,"end":7528,"loc":{"start":{"line":218,"column":12},"end":{"line":218,"column":22},"identifierName":"assemblyID"},"name":"assemblyID"},"init":{"type":"MemberExpression","start":7531,"end":7549,"loc":{"start":{"line":218,"column":25},"end":{"line":218,"column":43}},"object":{"type":"Identifier","start":7531,"end":7537,"loc":{"start":{"line":218,"column":25},"end":{"line":218,"column":31},"identifierName":"status"},"name":"status"},"computed":false,"property":{"type":"Identifier","start":7538,"end":7549,"loc":{"start":{"line":218,"column":32},"end":{"line":218,"column":43},"identifierName":"assembly_id"},"name":"assembly_id"},"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":7557,"end":7620,"loc":{"start":{"line":220,"column":6},"end":{"line":220,"column":69}},"declarations":[{"type":"VariableDeclarator","start":7563,"end":7620,"loc":{"start":{"line":220,"column":12},"end":{"line":220,"column":69}},"id":{"type":"ObjectPattern","start":7563,"end":7596,"loc":{"start":{"line":220,"column":12},"end":{"line":220,"column":45}},"properties":[{"type":"Property","start":7565,"end":7575,"loc":{"start":{"line":220,"column":14},"end":{"line":220,"column":24}},"method":false,"key":{"type":"Identifier","start":7565,"end":7575,"loc":{"start":{"line":220,"column":14},"end":{"line":220,"column":24},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":7565,"end":7575,"loc":{"start":{"line":220,"column":14},"end":{"line":220,"column":24},"identifierName":"assemblies"},"name":"assemblies"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":7577,"end":7594,"loc":{"start":{"line":220,"column":26},"end":{"line":220,"column":43}},"method":false,"key":{"type":"Identifier","start":7577,"end":7594,"loc":{"start":{"line":220,"column":26},"end":{"line":220,"column":43},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":7577,"end":7594,"loc":{"start":{"line":220,"column":26},"end":{"line":220,"column":43},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"CallExpression","start":7599,"end":7620,"loc":{"start":{"line":220,"column":48},"end":{"line":220,"column":69}},"callee":{"type":"MemberExpression","start":7599,"end":7618,"loc":{"start":{"line":220,"column":48},"end":{"line":220,"column":67}},"object":{"type":"ThisExpression","start":7599,"end":7603,"loc":{"start":{"line":220,"column":48},"end":{"line":220,"column":52}}},"computed":false,"property":{"type":"Identifier","start":7604,"end":7618,"loc":{"start":{"line":220,"column":53},"end":{"line":220,"column":67},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":7627,"end":8022,"loc":{"start":{"line":221,"column":6},"end":{"line":235,"column":8}},"expression":{"type":"CallExpression","start":7627,"end":8022,"loc":{"start":{"line":221,"column":6},"end":{"line":235,"column":8}},"callee":{"type":"MemberExpression","start":7627,"end":7646,"loc":{"start":{"line":221,"column":6},"end":{"line":221,"column":25}},"object":{"type":"ThisExpression","start":7627,"end":7631,"loc":{"start":{"line":221,"column":6},"end":{"line":221,"column":10}}},"computed":false,"property":{"type":"Identifier","start":7632,"end":7646,"loc":{"start":{"line":221,"column":11},"end":{"line":221,"column":25},"identifierName":"setPluginState"},"name":"setPluginState"},"optional":false},"arguments":[{"type":"ObjectExpression","start":7647,"end":8021,"loc":{"start":{"line":221,"column":26},"end":{"line":235,"column":7}},"properties":[{"type":"Property","start":7695,"end":7774,"loc":{"start":{"line":223,"column":8},"end":{"line":226,"column":9}},"method":false,"key":{"type":"Identifier","start":7695,"end":7705,"loc":{"start":{"line":223,"column":8},"end":{"line":223,"column":18},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":7707,"end":7774,"loc":{"start":{"line":223,"column":20},"end":{"line":226,"column":9}},"properties":[{"type":"SpreadElement","start":7719,"end":7732,"loc":{"start":{"line":224,"column":10},"end":{"line":224,"column":23}},"argument":{"type":"Identifier","start":7722,"end":7732,"loc":{"start":{"line":224,"column":13},"end":{"line":224,"column":23},"identifierName":"assemblies"},"name":"assemblies"}},{"type":"Property","start":7744,"end":7764,"loc":{"start":{"line":225,"column":10},"end":{"line":225,"column":30}},"method":false,"computed":true,"key":{"type":"Identifier","start":7745,"end":7755,"loc":{"start":{"line":225,"column":11},"end":{"line":225,"column":21},"identifierName":"assemblyID"},"name":"assemblyID"},"shorthand":false,"value":{"type":"Identifier","start":7758,"end":7764,"loc":{"start":{"line":225,"column":24},"end":{"line":225,"column":30},"identifierName":"status"},"name":"status"},"kind":"init"}]},"leadingComments":[{"type":"CommentLine","value":" Store the Assembly status.","start":7657,"end":7686,"loc":{"start":{"line":222,"column":8},"end":{"line":222,"column":37}}}],"kind":"init"},{"type":"Property","start":7848,"end":8013,"loc":{"start":{"line":228,"column":8},"end":{"line":234,"column":9}},"method":false,"key":{"type":"Identifier","start":7848,"end":7865,"loc":{"start":{"line":228,"column":8},"end":{"line":228,"column":25},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":7867,"end":8013,"loc":{"start":{"line":228,"column":27},"end":{"line":234,"column":9}},"properties":[{"type":"SpreadElement","start":7879,"end":7899,"loc":{"start":{"line":229,"column":10},"end":{"line":229,"column":30}},"argument":{"type":"Identifier","start":7882,"end":7899,"loc":{"start":{"line":229,"column":13},"end":{"line":229,"column":30},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"}},{"type":"Property","start":7911,"end":8003,"loc":{"start":{"line":230,"column":10},"end":{"line":233,"column":11}},"method":false,"computed":true,"key":{"type":"Identifier","start":7912,"end":7920,"loc":{"start":{"line":230,"column":11},"end":{"line":230,"column":19},"identifierName":"uploadID"},"name":"uploadID"},"shorthand":false,"value":{"type":"ArrayExpression","start":7923,"end":8003,"loc":{"start":{"line":230,"column":22},"end":{"line":233,"column":11}},"elements":[{"type":"SpreadElement","start":7937,"end":7967,"loc":{"start":{"line":231,"column":12},"end":{"line":231,"column":42}},"argument":{"type":"MemberExpression","start":7940,"end":7967,"loc":{"start":{"line":231,"column":15},"end":{"line":231,"column":42}},"object":{"type":"Identifier","start":7940,"end":7957,"loc":{"start":{"line":231,"column":15},"end":{"line":231,"column":32},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":true,"property":{"type":"Identifier","start":7958,"end":7966,"loc":{"start":{"line":231,"column":33},"end":{"line":231,"column":41},"identifierName":"uploadID"},"name":"uploadID"},"optional":false}},{"type":"Identifier","start":7981,"end":7991,"loc":{"start":{"line":232,"column":12},"end":{"line":232,"column":22},"identifierName":"assemblyID"},"name":"assemblyID"}]},"kind":"init"}]},"leadingComments":[{"type":"CommentLine","value":" Store the list of Assemblies related to this upload.","start":7784,"end":7839,"loc":{"start":{"line":227,"column":8},"end":{"line":227,"column":63}}}],"kind":"init"}]}],"optional":false}},{"type":"VariableDeclaration","start":8030,"end":8068,"loc":{"start":{"line":237,"column":6},"end":{"line":237,"column":44}},"declarations":[{"type":"VariableDeclarator","start":8036,"end":8068,"loc":{"start":{"line":237,"column":12},"end":{"line":237,"column":44}},"id":{"type":"ObjectPattern","start":8036,"end":8045,"loc":{"start":{"line":237,"column":12},"end":{"line":237,"column":21}},"properties":[{"type":"Property","start":8038,"end":8043,"loc":{"start":{"line":237,"column":14},"end":{"line":237,"column":19}},"method":false,"key":{"type":"Identifier","start":8038,"end":8043,"loc":{"start":{"line":237,"column":14},"end":{"line":237,"column":19},"identifierName":"files"},"name":"files"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":8038,"end":8043,"loc":{"start":{"line":237,"column":14},"end":{"line":237,"column":19},"identifierName":"files"},"name":"files"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"CallExpression","start":8048,"end":8068,"loc":{"start":{"line":237,"column":24},"end":{"line":237,"column":44}},"callee":{"type":"MemberExpression","start":8048,"end":8066,"loc":{"start":{"line":237,"column":24},"end":{"line":237,"column":42}},"object":{"type":"MemberExpression","start":8048,"end":8057,"loc":{"start":{"line":237,"column":24},"end":{"line":237,"column":33}},"object":{"type":"ThisExpression","start":8048,"end":8052,"loc":{"start":{"line":237,"column":24},"end":{"line":237,"column":28}}},"computed":false,"property":{"type":"Identifier","start":8053,"end":8057,"loc":{"start":{"line":237,"column":29},"end":{"line":237,"column":33},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":8058,"end":8066,"loc":{"start":{"line":237,"column":34},"end":{"line":237,"column":42},"identifierName":"getState"},"name":"getState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":8075,"end":8098,"loc":{"start":{"line":238,"column":6},"end":{"line":238,"column":29}},"declarations":[{"type":"VariableDeclarator","start":8081,"end":8098,"loc":{"start":{"line":238,"column":12},"end":{"line":238,"column":29}},"id":{"type":"Identifier","start":8081,"end":8093,"loc":{"start":{"line":238,"column":12},"end":{"line":238,"column":24},"identifierName":"updatedFiles"},"name":"updatedFiles"},"init":{"type":"ObjectExpression","start":8096,"end":8098,"loc":{"start":{"line":238,"column":27},"end":{"line":238,"column":29}},"properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":8105,"end":8226,"loc":{"start":{"line":239,"column":6},"end":{"line":241,"column":8}},"expression":{"type":"CallExpression","start":8105,"end":8226,"loc":{"start":{"line":239,"column":6},"end":{"line":241,"column":8}},"callee":{"type":"MemberExpression","start":8105,"end":8120,"loc":{"start":{"line":239,"column":6},"end":{"line":239,"column":21}},"object":{"type":"Identifier","start":8105,"end":8112,"loc":{"start":{"line":239,"column":6},"end":{"line":239,"column":13},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"property":{"type":"Identifier","start":8113,"end":8120,"loc":{"start":{"line":239,"column":14},"end":{"line":239,"column":21},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8121,"end":8225,"loc":{"start":{"line":239,"column":22},"end":{"line":241,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":8122,"end":8124,"loc":{"start":{"line":239,"column":23},"end":{"line":239,"column":25},"identifierName":"id"},"name":"id"}],"body":{"type":"BlockStatement","start":8129,"end":8225,"loc":{"start":{"line":239,"column":30},"end":{"line":241,"column":7}},"body":[{"type":"ExpressionStatement","start":8139,"end":8217,"loc":{"start":{"line":240,"column":8},"end":{"line":240,"column":86}},"expression":{"type":"AssignmentExpression","start":8139,"end":8217,"loc":{"start":{"line":240,"column":8},"end":{"line":240,"column":86}},"operator":"=","left":{"type":"MemberExpression","start":8139,"end":8155,"loc":{"start":{"line":240,"column":8},"end":{"line":240,"column":24}},"object":{"type":"Identifier","start":8139,"end":8151,"loc":{"start":{"line":240,"column":8},"end":{"line":240,"column":20},"identifierName":"updatedFiles"},"name":"updatedFiles"},"computed":true,"property":{"type":"Identifier","start":8152,"end":8154,"loc":{"start":{"line":240,"column":21},"end":{"line":240,"column":23},"identifierName":"id"},"name":"id"},"optional":false},"right":{"type":"CallExpression","start":8158,"end":8217,"loc":{"start":{"line":240,"column":27},"end":{"line":240,"column":86}},"callee":{"type":"MemberExpression","start":8158,"end":8186,"loc":{"start":{"line":240,"column":27},"end":{"line":240,"column":55}},"object":{"type":"ThisExpression","start":8158,"end":8162,"loc":{"start":{"line":240,"column":27},"end":{"line":240,"column":31}}},"computed":false,"property":{"type":"Identifier","start":8163,"end":8186,"loc":{"start":{"line":240,"column":32},"end":{"line":240,"column":55},"identifierName":"_attachAssemblyMetadata"},"name":"_attachAssemblyMetadata"},"optional":false},"arguments":[{"type":"CallExpression","start":8187,"end":8208,"loc":{"start":{"line":240,"column":56},"end":{"line":240,"column":77}},"callee":{"type":"MemberExpression","start":8187,"end":8204,"loc":{"start":{"line":240,"column":56},"end":{"line":240,"column":73}},"object":{"type":"MemberExpression","start":8187,"end":8196,"loc":{"start":{"line":240,"column":56},"end":{"line":240,"column":65}},"object":{"type":"ThisExpression","start":8187,"end":8191,"loc":{"start":{"line":240,"column":56},"end":{"line":240,"column":60}}},"computed":false,"property":{"type":"Identifier","start":8192,"end":8196,"loc":{"start":{"line":240,"column":61},"end":{"line":240,"column":65},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":8197,"end":8204,"loc":{"start":{"line":240,"column":66},"end":{"line":240,"column":73},"identifierName":"getFile"},"name":"getFile"},"optional":false},"arguments":[{"type":"Identifier","start":8205,"end":8207,"loc":{"start":{"line":240,"column":74},"end":{"line":240,"column":76},"identifierName":"id"},"name":"id"}],"optional":false},{"type":"Identifier","start":8210,"end":8216,"loc":{"start":{"line":240,"column":79},"end":{"line":240,"column":85},"identifierName":"status"},"name":"status"}],"optional":false}}}]}}],"optional":false}},{"type":"ExpressionStatement","start":8233,"end":8335,"loc":{"start":{"line":242,"column":6},"end":{"line":247,"column":8}},"expression":{"type":"CallExpression","start":8233,"end":8335,"loc":{"start":{"line":242,"column":6},"end":{"line":247,"column":8}},"callee":{"type":"MemberExpression","start":8233,"end":8251,"loc":{"start":{"line":242,"column":6},"end":{"line":242,"column":24}},"object":{"type":"MemberExpression","start":8233,"end":8242,"loc":{"start":{"line":242,"column":6},"end":{"line":242,"column":15}},"object":{"type":"ThisExpression","start":8233,"end":8237,"loc":{"start":{"line":242,"column":6},"end":{"line":242,"column":10}}},"computed":false,"property":{"type":"Identifier","start":8238,"end":8242,"loc":{"start":{"line":242,"column":11},"end":{"line":242,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":8243,"end":8251,"loc":{"start":{"line":242,"column":16},"end":{"line":242,"column":24},"identifierName":"setState"},"name":"setState"},"optional":false},"arguments":[{"type":"ObjectExpression","start":8252,"end":8334,"loc":{"start":{"line":242,"column":25},"end":{"line":247,"column":7}},"properties":[{"type":"Property","start":8262,"end":8326,"loc":{"start":{"line":243,"column":8},"end":{"line":246,"column":9}},"method":false,"key":{"type":"Identifier","start":8262,"end":8267,"loc":{"start":{"line":243,"column":8},"end":{"line":243,"column":13},"identifierName":"files"},"name":"files"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":8269,"end":8326,"loc":{"start":{"line":243,"column":15},"end":{"line":246,"column":9}},"properties":[{"type":"SpreadElement","start":8281,"end":8289,"loc":{"start":{"line":244,"column":10},"end":{"line":244,"column":18}},"argument":{"type":"Identifier","start":8284,"end":8289,"loc":{"start":{"line":244,"column":13},"end":{"line":244,"column":18},"identifierName":"files"},"name":"files"}},{"type":"SpreadElement","start":8301,"end":8316,"loc":{"start":{"line":245,"column":10},"end":{"line":245,"column":25}},"argument":{"type":"Identifier","start":8304,"end":8316,"loc":{"start":{"line":245,"column":13},"end":{"line":245,"column":25},"identifierName":"updatedFiles"},"name":"updatedFiles"}}]},"kind":"init"}]}],"optional":false}},{"type":"ExpressionStatement","start":8343,"end":8406,"loc":{"start":{"line":249,"column":6},"end":{"line":249,"column":69}},"expression":{"type":"CallExpression","start":8343,"end":8406,"loc":{"start":{"line":249,"column":6},"end":{"line":249,"column":69}},"callee":{"type":"MemberExpression","start":8343,"end":8357,"loc":{"start":{"line":249,"column":6},"end":{"line":249,"column":20}},"object":{"type":"MemberExpression","start":8343,"end":8352,"loc":{"start":{"line":249,"column":6},"end":{"line":249,"column":15}},"object":{"type":"ThisExpression","start":8343,"end":8347,"loc":{"start":{"line":249,"column":6},"end":{"line":249,"column":10}}},"computed":false,"property":{"type":"Identifier","start":8348,"end":8352,"loc":{"start":{"line":249,"column":11},"end":{"line":249,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":8353,"end":8357,"loc":{"start":{"line":249,"column":16},"end":{"line":249,"column":20},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":8358,"end":8388,"loc":{"start":{"line":249,"column":21},"end":{"line":249,"column":51}},"value":"transloadit:assembly-created","raw":"'transloadit:assembly-created'"},{"type":"Identifier","start":8390,"end":8396,"loc":{"start":{"line":249,"column":53},"end":{"line":249,"column":59},"identifierName":"status"},"name":"status"},{"type":"Identifier","start":8398,"end":8405,"loc":{"start":{"line":249,"column":61},"end":{"line":249,"column":68},"identifierName":"fileIDs"},"name":"fileIDs"}],"optional":false}},{"type":"ExpressionStatement","start":8414,"end":8475,"loc":{"start":{"line":251,"column":6},"end":{"line":251,"column":67}},"expression":{"type":"CallExpression","start":8414,"end":8475,"loc":{"start":{"line":251,"column":6},"end":{"line":251,"column":67}},"callee":{"type":"MemberExpression","start":8414,"end":8427,"loc":{"start":{"line":251,"column":6},"end":{"line":251,"column":19}},"object":{"type":"MemberExpression","start":8414,"end":8423,"loc":{"start":{"line":251,"column":6},"end":{"line":251,"column":15}},"object":{"type":"ThisExpression","start":8414,"end":8418,"loc":{"start":{"line":251,"column":6},"end":{"line":251,"column":10}}},"computed":false,"property":{"type":"Identifier","start":8419,"end":8423,"loc":{"start":{"line":251,"column":11},"end":{"line":251,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":8424,"end":8427,"loc":{"start":{"line":251,"column":16},"end":{"line":251,"column":19},"identifierName":"log"},"name":"log"},"optional":false},"arguments":[{"type":"TemplateLiteral","start":8428,"end":8474,"loc":{"start":{"line":251,"column":20},"end":{"line":251,"column":66}},"expressions":[{"type":"Identifier","start":8462,"end":8472,"loc":{"start":{"line":251,"column":54},"end":{"line":251,"column":64},"identifierName":"assemblyID"},"name":"assemblyID"}],"quasis":[{"type":"TemplateElement","start":8429,"end":8460,"loc":{"start":{"line":251,"column":21},"end":{"line":251,"column":52}},"value":{"raw":"[Transloadit] Created Assembly ","cooked":"[Transloadit] Created Assembly "},"tail":false},{"type":"TemplateElement","start":8473,"end":8473,"loc":{"start":{"line":251,"column":65},"end":{"line":251,"column":65}},"value":{"raw":"","cooked":""},"tail":true}]}],"optional":false}},{"type":"ReturnStatement","start":8482,"end":8497,"loc":{"start":{"line":252,"column":6},"end":{"line":252,"column":21}},"argument":{"type":"Identifier","start":8489,"end":8497,"loc":{"start":{"line":252,"column":13},"end":{"line":252,"column":21},"identifierName":"assembly"},"name":"assembly"}}]}}],"optional":false},"computed":false,"property":{"type":"Identifier","start":8505,"end":8510,"loc":{"start":{"line":253,"column":7},"end":{"line":253,"column":12},"identifierName":"catch"},"name":"catch"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8511,"end":8649,"loc":{"start":{"line":253,"column":13},"end":{"line":257,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":8512,"end":8515,"loc":{"start":{"line":253,"column":14},"end":{"line":253,"column":17},"identifierName":"err"},"name":"err"}],"body":{"type":"BlockStatement","start":8520,"end":8649,"loc":{"start":{"line":253,"column":22},"end":{"line":257,"column":5}},"body":[{"type":"ExpressionStatement","start":8528,"end":8598,"loc":{"start":{"line":254,"column":6},"end":{"line":254,"column":76}},"expression":{"type":"AssignmentExpression","start":8528,"end":8598,"loc":{"start":{"line":254,"column":6},"end":{"line":254,"column":76}},"operator":"=","left":{"type":"MemberExpression","start":8528,"end":8539,"loc":{"start":{"line":254,"column":6},"end":{"line":254,"column":17}},"object":{"type":"Identifier","start":8528,"end":8531,"loc":{"start":{"line":254,"column":6},"end":{"line":254,"column":9},"identifierName":"err"},"name":"err"},"computed":false,"property":{"type":"Identifier","start":8532,"end":8539,"loc":{"start":{"line":254,"column":10},"end":{"line":254,"column":17},"identifierName":"message"},"name":"message"},"optional":false},"right":{"type":"TemplateLiteral","start":8542,"end":8598,"loc":{"start":{"line":254,"column":20},"end":{"line":254,"column":76}},"expressions":[{"type":"CallExpression","start":8545,"end":8580,"loc":{"start":{"line":254,"column":23},"end":{"line":254,"column":58}},"callee":{"type":"MemberExpression","start":8545,"end":8554,"loc":{"start":{"line":254,"column":23},"end":{"line":254,"column":32}},"object":{"type":"ThisExpression","start":8545,"end":8549,"loc":{"start":{"line":254,"column":23},"end":{"line":254,"column":27}}},"computed":false,"property":{"type":"Identifier","start":8550,"end":8554,"loc":{"start":{"line":254,"column":28},"end":{"line":254,"column":32},"identifierName":"i18n"},"name":"i18n"},"optional":false},"arguments":[{"type":"Literal","start":8555,"end":8579,"loc":{"start":{"line":254,"column":33},"end":{"line":254,"column":57}},"value":"creatingAssemblyFailed","raw":"'creatingAssemblyFailed'"}],"optional":false},{"type":"MemberExpression","start":8585,"end":8596,"loc":{"start":{"line":254,"column":63},"end":{"line":254,"column":74}},"object":{"type":"Identifier","start":8585,"end":8588,"loc":{"start":{"line":254,"column":63},"end":{"line":254,"column":66},"identifierName":"err"},"name":"err"},"computed":false,"property":{"type":"Identifier","start":8589,"end":8596,"loc":{"start":{"line":254,"column":67},"end":{"line":254,"column":74},"identifierName":"message"},"name":"message"},"optional":false}],"quasis":[{"type":"TemplateElement","start":8543,"end":8543,"loc":{"start":{"line":254,"column":21},"end":{"line":254,"column":21}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":8581,"end":8583,"loc":{"start":{"line":254,"column":59},"end":{"line":254,"column":61}},"value":{"raw":": ","cooked":": "},"tail":false},{"type":"TemplateElement","start":8597,"end":8597,"loc":{"start":{"line":254,"column":75},"end":{"line":254,"column":75}},"value":{"raw":"","cooked":""},"tail":true}]}},"trailingComments":[{"type":"CommentLine","value":" Reject the promise.","start":8605,"end":8627,"loc":{"start":{"line":255,"column":6},"end":{"line":255,"column":28}}}]},{"type":"ThrowStatement","start":8634,"end":8643,"loc":{"start":{"line":256,"column":6},"end":{"line":256,"column":15}},"argument":{"type":"Identifier","start":8640,"end":8643,"loc":{"start":{"line":256,"column":12},"end":{"line":256,"column":15},"identifierName":"err"},"name":"err"},"leadingComments":[{"type":"CommentLine","value":" Reject the promise.","start":8605,"end":8627,"loc":{"start":{"line":255,"column":6},"end":{"line":255,"column":28}}}]}]}}],"optional":false}}]}}},{"type":"MethodDefinition","start":8658,"end":9507,"loc":{"start":{"line":260,"column":2},"end":{"line":284,"column":3}},"static":false,"key":{"type":"Identifier","start":8658,"end":8680,"loc":{"start":{"line":260,"column":2},"end":{"line":260,"column":24},"identifierName":"_createAssemblyWatcher"},"name":"_createAssemblyWatcher"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":8681,"end":9507,"loc":{"start":{"line":260,"column":25},"end":{"line":284,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":8682,"end":8692,"loc":{"start":{"line":260,"column":26},"end":{"line":260,"column":36},"identifierName":"assemblyID"},"name":"assemblyID"},{"type":"Identifier","start":8694,"end":8701,"loc":{"start":{"line":260,"column":38},"end":{"line":260,"column":45},"identifierName":"fileIDs"},"name":"fileIDs"},{"type":"Identifier","start":8703,"end":8711,"loc":{"start":{"line":260,"column":47},"end":{"line":260,"column":55},"identifierName":"uploadID"},"name":"uploadID"}],"body":{"type":"BlockStatement","start":8713,"end":9507,"loc":{"start":{"line":260,"column":57},"end":{"line":284,"column":3}},"body":[{"type":"VariableDeclaration","start":8799,"end":8857,"loc":{"start":{"line":262,"column":4},"end":{"line":262,"column":62}},"declarations":[{"type":"VariableDeclarator","start":8805,"end":8857,"loc":{"start":{"line":262,"column":10},"end":{"line":262,"column":62}},"id":{"type":"Identifier","start":8805,"end":8812,"loc":{"start":{"line":262,"column":10},"end":{"line":262,"column":17},"identifierName":"watcher"},"name":"watcher"},"init":{"type":"NewExpression","start":8815,"end":8857,"loc":{"start":{"line":262,"column":20},"end":{"line":262,"column":62}},"callee":{"type":"Identifier","start":8819,"end":8834,"loc":{"start":{"line":262,"column":24},"end":{"line":262,"column":39},"identifierName":"AssemblyWatcher"},"name":"AssemblyWatcher"},"typeArguments":null,"arguments":[{"type":"MemberExpression","start":8835,"end":8844,"loc":{"start":{"line":262,"column":40},"end":{"line":262,"column":49}},"object":{"type":"ThisExpression","start":8835,"end":8839,"loc":{"start":{"line":262,"column":40},"end":{"line":262,"column":44}}},"computed":false,"property":{"type":"Identifier","start":8840,"end":8844,"loc":{"start":{"line":262,"column":45},"end":{"line":262,"column":49},"identifierName":"uppy"},"name":"uppy"},"optional":false},{"type":"Identifier","start":8846,"end":8856,"loc":{"start":{"line":262,"column":51},"end":{"line":262,"column":61},"identifierName":"assemblyID"},"name":"assemblyID"}]}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" AssemblyWatcher tracks completion states of all Assemblies in this upload.","start":8717,"end":8794,"loc":{"start":{"line":261,"column":2},"end":{"line":261,"column":79}}}]},{"type":"ExpressionStatement","start":8863,"end":9095,"loc":{"start":{"line":264,"column":4},"end":{"line":270,"column":6}},"expression":{"type":"CallExpression","start":8863,"end":9095,"loc":{"start":{"line":264,"column":4},"end":{"line":270,"column":6}},"callee":{"type":"MemberExpression","start":8863,"end":8873,"loc":{"start":{"line":264,"column":4},"end":{"line":264,"column":14}},"object":{"type":"Identifier","start":8863,"end":8870,"loc":{"start":{"line":264,"column":4},"end":{"line":264,"column":11},"identifierName":"watcher"},"name":"watcher"},"computed":false,"property":{"type":"Identifier","start":8871,"end":8873,"loc":{"start":{"line":264,"column":12},"end":{"line":264,"column":14},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":8874,"end":8893,"loc":{"start":{"line":264,"column":15},"end":{"line":264,"column":34}},"value":"assembly-complete","raw":"'assembly-complete'"},{"type":"ArrowFunctionExpression","start":8895,"end":9094,"loc":{"start":{"line":264,"column":36},"end":{"line":270,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":8896,"end":8898,"loc":{"start":{"line":264,"column":37},"end":{"line":264,"column":39},"identifierName":"id"},"name":"id"}],"body":{"type":"BlockStatement","start":8903,"end":9094,"loc":{"start":{"line":264,"column":44},"end":{"line":270,"column":5}},"body":[{"type":"VariableDeclaration","start":8911,"end":8950,"loc":{"start":{"line":265,"column":6},"end":{"line":265,"column":45}},"declarations":[{"type":"VariableDeclarator","start":8917,"end":8950,"loc":{"start":{"line":265,"column":12},"end":{"line":265,"column":45}},"id":{"type":"Identifier","start":8917,"end":8922,"loc":{"start":{"line":265,"column":12},"end":{"line":265,"column":17},"identifierName":"files"},"name":"files"},"init":{"type":"CallExpression","start":8925,"end":8950,"loc":{"start":{"line":265,"column":20},"end":{"line":265,"column":45}},"callee":{"type":"MemberExpression","start":8925,"end":8946,"loc":{"start":{"line":265,"column":20},"end":{"line":265,"column":41}},"object":{"type":"ThisExpression","start":8925,"end":8929,"loc":{"start":{"line":265,"column":20},"end":{"line":265,"column":24}}},"computed":false,"property":{"type":"Identifier","start":8930,"end":8946,"loc":{"start":{"line":265,"column":25},"end":{"line":265,"column":41},"identifierName":"getAssemblyFiles"},"name":"getAssemblyFiles"},"optional":false},"arguments":[{"type":"Identifier","start":8947,"end":8949,"loc":{"start":{"line":265,"column":42},"end":{"line":265,"column":44},"identifierName":"id"},"name":"id"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":8957,"end":9088,"loc":{"start":{"line":266,"column":6},"end":{"line":269,"column":8}},"expression":{"type":"CallExpression","start":8957,"end":9088,"loc":{"start":{"line":266,"column":6},"end":{"line":269,"column":8}},"callee":{"type":"MemberExpression","start":8957,"end":8970,"loc":{"start":{"line":266,"column":6},"end":{"line":266,"column":19}},"object":{"type":"Identifier","start":8957,"end":8962,"loc":{"start":{"line":266,"column":6},"end":{"line":266,"column":11},"identifierName":"files"},"name":"files"},"computed":false,"property":{"type":"Identifier","start":8963,"end":8970,"loc":{"start":{"line":266,"column":12},"end":{"line":266,"column":19},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8971,"end":9087,"loc":{"start":{"line":266,"column":20},"end":{"line":269,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":8972,"end":8976,"loc":{"start":{"line":266,"column":21},"end":{"line":266,"column":25},"identifierName":"file"},"name":"file"}],"body":{"type":"BlockStatement","start":8981,"end":9087,"loc":{"start":{"line":266,"column":30},"end":{"line":269,"column":7}},"body":[{"type":"ExpressionStatement","start":8991,"end":9026,"loc":{"start":{"line":267,"column":8},"end":{"line":267,"column":43}},"expression":{"type":"AssignmentExpression","start":8991,"end":9026,"loc":{"start":{"line":267,"column":8},"end":{"line":267,"column":43}},"operator":"=","left":{"type":"MemberExpression","start":8991,"end":9019,"loc":{"start":{"line":267,"column":8},"end":{"line":267,"column":36}},"object":{"type":"MemberExpression","start":8991,"end":9010,"loc":{"start":{"line":267,"column":8},"end":{"line":267,"column":27}},"object":{"type":"ThisExpression","start":8991,"end":8995,"loc":{"start":{"line":267,"column":8},"end":{"line":267,"column":12}}},"computed":false,"property":{"type":"Identifier","start":8996,"end":9010,"loc":{"start":{"line":267,"column":13},"end":{"line":267,"column":27},"identifierName":"completedFiles"},"name":"completedFiles"},"optional":false},"computed":true,"property":{"type":"MemberExpression","start":9011,"end":9018,"loc":{"start":{"line":267,"column":28},"end":{"line":267,"column":35}},"object":{"type":"Identifier","start":9011,"end":9015,"loc":{"start":{"line":267,"column":28},"end":{"line":267,"column":32},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":9016,"end":9018,"loc":{"start":{"line":267,"column":33},"end":{"line":267,"column":35},"identifierName":"id"},"name":"id"},"optional":false},"optional":false},"right":{"type":"Literal","start":9022,"end":9026,"loc":{"start":{"line":267,"column":39},"end":{"line":267,"column":43}},"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":9035,"end":9079,"loc":{"start":{"line":268,"column":8},"end":{"line":268,"column":52}},"expression":{"type":"CallExpression","start":9035,"end":9079,"loc":{"start":{"line":268,"column":8},"end":{"line":268,"column":52}},"callee":{"type":"MemberExpression","start":9035,"end":9049,"loc":{"start":{"line":268,"column":8},"end":{"line":268,"column":22}},"object":{"type":"MemberExpression","start":9035,"end":9044,"loc":{"start":{"line":268,"column":8},"end":{"line":268,"column":17}},"object":{"type":"ThisExpression","start":9035,"end":9039,"loc":{"start":{"line":268,"column":8},"end":{"line":268,"column":12}}},"computed":false,"property":{"type":"Identifier","start":9040,"end":9044,"loc":{"start":{"line":268,"column":13},"end":{"line":268,"column":17},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":9045,"end":9049,"loc":{"start":{"line":268,"column":18},"end":{"line":268,"column":22},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":9050,"end":9072,"loc":{"start":{"line":268,"column":23},"end":{"line":268,"column":45}},"value":"postprocess-complete","raw":"'postprocess-complete'"},{"type":"Identifier","start":9074,"end":9078,"loc":{"start":{"line":268,"column":47},"end":{"line":268,"column":51},"identifierName":"file"},"name":"file"}],"optional":false}}]}}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":9101,"end":9456,"loc":{"start":{"line":272,"column":4},"end":{"line":281,"column":6}},"expression":{"type":"CallExpression","start":9101,"end":9456,"loc":{"start":{"line":272,"column":4},"end":{"line":281,"column":6}},"callee":{"type":"MemberExpression","start":9101,"end":9111,"loc":{"start":{"line":272,"column":4},"end":{"line":272,"column":14}},"object":{"type":"Identifier","start":9101,"end":9108,"loc":{"start":{"line":272,"column":4},"end":{"line":272,"column":11},"identifierName":"watcher"},"name":"watcher"},"computed":false,"property":{"type":"Identifier","start":9109,"end":9111,"loc":{"start":{"line":272,"column":12},"end":{"line":272,"column":14},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":9112,"end":9128,"loc":{"start":{"line":272,"column":15},"end":{"line":272,"column":31}},"value":"assembly-error","raw":"'assembly-error'"},{"type":"ArrowFunctionExpression","start":9130,"end":9455,"loc":{"start":{"line":272,"column":33},"end":{"line":281,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":9131,"end":9133,"loc":{"start":{"line":272,"column":34},"end":{"line":272,"column":36},"identifierName":"id"},"name":"id"},{"type":"Identifier","start":9135,"end":9140,"loc":{"start":{"line":272,"column":38},"end":{"line":272,"column":43},"identifierName":"error"},"name":"error"}],"body":{"type":"BlockStatement","start":9145,"end":9455,"loc":{"start":{"line":272,"column":48},"end":{"line":281,"column":5}},"body":[{"type":"VariableDeclaration","start":9206,"end":9245,"loc":{"start":{"line":274,"column":6},"end":{"line":274,"column":45}},"declarations":[{"type":"VariableDeclarator","start":9212,"end":9245,"loc":{"start":{"line":274,"column":12},"end":{"line":274,"column":45}},"id":{"type":"Identifier","start":9212,"end":9217,"loc":{"start":{"line":274,"column":12},"end":{"line":274,"column":17},"identifierName":"files"},"name":"files"},"init":{"type":"CallExpression","start":9220,"end":9245,"loc":{"start":{"line":274,"column":20},"end":{"line":274,"column":45}},"callee":{"type":"MemberExpression","start":9220,"end":9241,"loc":{"start":{"line":274,"column":20},"end":{"line":274,"column":41}},"object":{"type":"ThisExpression","start":9220,"end":9224,"loc":{"start":{"line":274,"column":20},"end":{"line":274,"column":24}}},"computed":false,"property":{"type":"Identifier","start":9225,"end":9241,"loc":{"start":{"line":274,"column":25},"end":{"line":274,"column":41},"identifierName":"getAssemblyFiles"},"name":"getAssemblyFiles"},"optional":false},"arguments":[{"type":"Identifier","start":9242,"end":9244,"loc":{"start":{"line":274,"column":42},"end":{"line":274,"column":44},"identifierName":"id"},"name":"id"}],"optional":false}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" Clear postprocessing state for all our files.","start":9151,"end":9199,"loc":{"start":{"line":273,"column":4},"end":{"line":273,"column":52}}}]},{"type":"ExpressionStatement","start":9252,"end":9449,"loc":{"start":{"line":275,"column":6},"end":{"line":280,"column":8}},"expression":{"type":"CallExpression","start":9252,"end":9449,"loc":{"start":{"line":275,"column":6},"end":{"line":280,"column":8}},"callee":{"type":"MemberExpression","start":9252,"end":9265,"loc":{"start":{"line":275,"column":6},"end":{"line":275,"column":19}},"object":{"type":"Identifier","start":9252,"end":9257,"loc":{"start":{"line":275,"column":6},"end":{"line":275,"column":11},"identifierName":"files"},"name":"files"},"computed":false,"property":{"type":"Identifier","start":9258,"end":9265,"loc":{"start":{"line":275,"column":12},"end":{"line":275,"column":19},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9266,"end":9448,"loc":{"start":{"line":275,"column":20},"end":{"line":280,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":9267,"end":9271,"loc":{"start":{"line":275,"column":21},"end":{"line":275,"column":25},"identifierName":"file"},"name":"file"}],"body":{"type":"BlockStatement","start":9276,"end":9448,"loc":{"start":{"line":275,"column":30},"end":{"line":280,"column":7}},"body":[{"type":"ExpressionStatement","start":9343,"end":9386,"loc":{"start":{"line":277,"column":8},"end":{"line":277,"column":51}},"expression":{"type":"CallExpression","start":9343,"end":9386,"loc":{"start":{"line":277,"column":8},"end":{"line":277,"column":51}},"callee":{"type":"MemberExpression","start":9343,"end":9357,"loc":{"start":{"line":277,"column":8},"end":{"line":277,"column":22}},"object":{"type":"MemberExpression","start":9343,"end":9352,"loc":{"start":{"line":277,"column":8},"end":{"line":277,"column":17}},"object":{"type":"ThisExpression","start":9343,"end":9347,"loc":{"start":{"line":277,"column":8},"end":{"line":277,"column":12}}},"computed":false,"property":{"type":"Identifier","start":9348,"end":9352,"loc":{"start":{"line":277,"column":13},"end":{"line":277,"column":17},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":9353,"end":9357,"loc":{"start":{"line":277,"column":18},"end":{"line":277,"column":22},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":9358,"end":9372,"loc":{"start":{"line":277,"column":23},"end":{"line":277,"column":37}},"value":"upload-error","raw":"'upload-error'"},{"type":"Identifier","start":9374,"end":9378,"loc":{"start":{"line":277,"column":39},"end":{"line":277,"column":43},"identifierName":"file"},"name":"file"},{"type":"Identifier","start":9380,"end":9385,"loc":{"start":{"line":277,"column":45},"end":{"line":277,"column":50},"identifierName":"error"},"name":"error"}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" TODO Maybe make a postprocess-error event here?","start":9284,"end":9334,"loc":{"start":{"line":276,"column":6},"end":{"line":276,"column":56}}}]},{"type":"ExpressionStatement","start":9396,"end":9440,"loc":{"start":{"line":279,"column":8},"end":{"line":279,"column":52}},"expression":{"type":"CallExpression","start":9396,"end":9440,"loc":{"start":{"line":279,"column":8},"end":{"line":279,"column":52}},"callee":{"type":"MemberExpression","start":9396,"end":9410,"loc":{"start":{"line":279,"column":8},"end":{"line":279,"column":22}},"object":{"type":"MemberExpression","start":9396,"end":9405,"loc":{"start":{"line":279,"column":8},"end":{"line":279,"column":17}},"object":{"type":"ThisExpression","start":9396,"end":9400,"loc":{"start":{"line":279,"column":8},"end":{"line":279,"column":12}}},"computed":false,"property":{"type":"Identifier","start":9401,"end":9405,"loc":{"start":{"line":279,"column":13},"end":{"line":279,"column":17},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":9406,"end":9410,"loc":{"start":{"line":279,"column":18},"end":{"line":279,"column":22},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":9411,"end":9433,"loc":{"start":{"line":279,"column":23},"end":{"line":279,"column":45}},"value":"postprocess-complete","raw":"'postprocess-complete'"},{"type":"Identifier","start":9435,"end":9439,"loc":{"start":{"line":279,"column":47},"end":{"line":279,"column":51},"identifierName":"file"},"name":"file"}],"optional":false}}]}}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":9462,"end":9503,"loc":{"start":{"line":283,"column":4},"end":{"line":283,"column":45}},"expression":{"type":"AssignmentExpression","start":9462,"end":9503,"loc":{"start":{"line":283,"column":4},"end":{"line":283,"column":45}},"operator":"=","left":{"type":"MemberExpression","start":9462,"end":9493,"loc":{"start":{"line":283,"column":4},"end":{"line":283,"column":35}},"object":{"type":"MemberExpression","start":9462,"end":9483,"loc":{"start":{"line":283,"column":4},"end":{"line":283,"column":25}},"object":{"type":"ThisExpression","start":9462,"end":9466,"loc":{"start":{"line":283,"column":4},"end":{"line":283,"column":8}}},"computed":false,"property":{"type":"Identifier","start":9467,"end":9483,"loc":{"start":{"line":283,"column":9},"end":{"line":283,"column":25},"identifierName":"assemblyWatchers"},"name":"assemblyWatchers"},"optional":false},"computed":true,"property":{"type":"Identifier","start":9484,"end":9492,"loc":{"start":{"line":283,"column":26},"end":{"line":283,"column":34},"identifierName":"uploadID"},"name":"uploadID"},"optional":false},"right":{"type":"Identifier","start":9496,"end":9503,"loc":{"start":{"line":283,"column":38},"end":{"line":283,"column":45},"identifierName":"watcher"},"name":"watcher"}}}]}}},{"type":"MethodDefinition","start":9511,"end":9608,"loc":{"start":{"line":286,"column":2},"end":{"line":288,"column":3}},"static":false,"key":{"type":"Identifier","start":9511,"end":9533,"loc":{"start":{"line":286,"column":2},"end":{"line":286,"column":24},"identifierName":"_shouldWaitAfterUpload"},"name":"_shouldWaitAfterUpload"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":9534,"end":9608,"loc":{"start":{"line":286,"column":25},"end":{"line":288,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":9537,"end":9608,"loc":{"start":{"line":286,"column":28},"end":{"line":288,"column":3}},"body":[{"type":"ReturnStatement","start":9543,"end":9604,"loc":{"start":{"line":287,"column":4},"end":{"line":287,"column":65}},"argument":{"type":"LogicalExpression","start":9550,"end":9604,"loc":{"start":{"line":287,"column":11},"end":{"line":287,"column":65}},"left":{"type":"MemberExpression","start":9550,"end":9575,"loc":{"start":{"line":287,"column":11},"end":{"line":287,"column":36}},"object":{"type":"MemberExpression","start":9550,"end":9559,"loc":{"start":{"line":287,"column":11},"end":{"line":287,"column":20}},"object":{"type":"ThisExpression","start":9550,"end":9554,"loc":{"start":{"line":287,"column":11},"end":{"line":287,"column":15}}},"computed":false,"property":{"type":"Identifier","start":9555,"end":9559,"loc":{"start":{"line":287,"column":16},"end":{"line":287,"column":20},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":9560,"end":9575,"loc":{"start":{"line":287,"column":21},"end":{"line":287,"column":36},"identifierName":"waitForEncoding"},"name":"waitForEncoding"},"optional":false},"operator":"||","right":{"type":"MemberExpression","start":9579,"end":9604,"loc":{"start":{"line":287,"column":40},"end":{"line":287,"column":65}},"object":{"type":"MemberExpression","start":9579,"end":9588,"loc":{"start":{"line":287,"column":40},"end":{"line":287,"column":49}},"object":{"type":"ThisExpression","start":9579,"end":9583,"loc":{"start":{"line":287,"column":40},"end":{"line":287,"column":44}}},"computed":false,"property":{"type":"Identifier","start":9584,"end":9588,"loc":{"start":{"line":287,"column":45},"end":{"line":287,"column":49},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":9589,"end":9604,"loc":{"start":{"line":287,"column":50},"end":{"line":287,"column":65},"identifierName":"waitForMetadata"},"name":"waitForMetadata"},"optional":false}}}]}},"trailingComments":[{"type":"CommentBlock","value":"*\n   * Used when `importFromUploadURLs` is enabled: reserves all files in\n   * the Assembly.\n   ","start":9612,"end":9712,"loc":{"start":{"line":290,"column":2},"end":{"line":293,"column":5}}}]},{"type":"MethodDefinition","start":9715,"end":9909,"loc":{"start":{"line":294,"column":2},"end":{"line":299,"column":3}},"static":false,"key":{"type":"Identifier","start":9715,"end":9728,"loc":{"start":{"line":294,"column":2},"end":{"line":294,"column":15},"identifierName":"_reserveFiles"},"name":"_reserveFiles"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":9729,"end":9909,"loc":{"start":{"line":294,"column":16},"end":{"line":299,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":9730,"end":9738,"loc":{"start":{"line":294,"column":17},"end":{"line":294,"column":25},"identifierName":"assembly"},"name":"assembly"},{"type":"Identifier","start":9740,"end":9747,"loc":{"start":{"line":294,"column":27},"end":{"line":294,"column":34},"identifierName":"fileIDs"},"name":"fileIDs"}],"body":{"type":"BlockStatement","start":9749,"end":9909,"loc":{"start":{"line":294,"column":36},"end":{"line":299,"column":3}},"body":[{"type":"ReturnStatement","start":9755,"end":9905,"loc":{"start":{"line":295,"column":4},"end":{"line":298,"column":7}},"argument":{"type":"CallExpression","start":9762,"end":9905,"loc":{"start":{"line":295,"column":11},"end":{"line":298,"column":7}},"callee":{"type":"MemberExpression","start":9762,"end":9773,"loc":{"start":{"line":295,"column":11},"end":{"line":295,"column":22}},"object":{"type":"Identifier","start":9762,"end":9769,"loc":{"start":{"line":295,"column":11},"end":{"line":295,"column":18},"identifierName":"Promise"},"name":"Promise"},"computed":false,"property":{"type":"Identifier","start":9770,"end":9773,"loc":{"start":{"line":295,"column":19},"end":{"line":295,"column":22},"identifierName":"all"},"name":"all"},"optional":false},"arguments":[{"type":"CallExpression","start":9774,"end":9904,"loc":{"start":{"line":295,"column":23},"end":{"line":298,"column":6}},"callee":{"type":"MemberExpression","start":9774,"end":9785,"loc":{"start":{"line":295,"column":23},"end":{"line":295,"column":34}},"object":{"type":"Identifier","start":9774,"end":9781,"loc":{"start":{"line":295,"column":23},"end":{"line":295,"column":30},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"property":{"type":"Identifier","start":9782,"end":9785,"loc":{"start":{"line":295,"column":31},"end":{"line":295,"column":34},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9786,"end":9903,"loc":{"start":{"line":295,"column":35},"end":{"line":298,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":9787,"end":9793,"loc":{"start":{"line":295,"column":36},"end":{"line":295,"column":42},"identifierName":"fileID"},"name":"fileID"}],"body":{"type":"BlockStatement","start":9798,"end":9903,"loc":{"start":{"line":295,"column":47},"end":{"line":298,"column":5}},"body":[{"type":"VariableDeclaration","start":9806,"end":9844,"loc":{"start":{"line":296,"column":6},"end":{"line":296,"column":44}},"declarations":[{"type":"VariableDeclarator","start":9812,"end":9844,"loc":{"start":{"line":296,"column":12},"end":{"line":296,"column":44}},"id":{"type":"Identifier","start":9812,"end":9816,"loc":{"start":{"line":296,"column":12},"end":{"line":296,"column":16},"identifierName":"file"},"name":"file"},"init":{"type":"CallExpression","start":9819,"end":9844,"loc":{"start":{"line":296,"column":19},"end":{"line":296,"column":44}},"callee":{"type":"MemberExpression","start":9819,"end":9836,"loc":{"start":{"line":296,"column":19},"end":{"line":296,"column":36}},"object":{"type":"MemberExpression","start":9819,"end":9828,"loc":{"start":{"line":296,"column":19},"end":{"line":296,"column":28}},"object":{"type":"ThisExpression","start":9819,"end":9823,"loc":{"start":{"line":296,"column":19},"end":{"line":296,"column":23}}},"computed":false,"property":{"type":"Identifier","start":9824,"end":9828,"loc":{"start":{"line":296,"column":24},"end":{"line":296,"column":28},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":9829,"end":9836,"loc":{"start":{"line":296,"column":29},"end":{"line":296,"column":36},"identifierName":"getFile"},"name":"getFile"},"optional":false},"arguments":[{"type":"Identifier","start":9837,"end":9843,"loc":{"start":{"line":296,"column":37},"end":{"line":296,"column":43},"identifierName":"fileID"},"name":"fileID"}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":9851,"end":9897,"loc":{"start":{"line":297,"column":6},"end":{"line":297,"column":52}},"argument":{"type":"CallExpression","start":9858,"end":9897,"loc":{"start":{"line":297,"column":13},"end":{"line":297,"column":52}},"callee":{"type":"MemberExpression","start":9858,"end":9881,"loc":{"start":{"line":297,"column":13},"end":{"line":297,"column":36}},"object":{"type":"MemberExpression","start":9858,"end":9869,"loc":{"start":{"line":297,"column":13},"end":{"line":297,"column":24}},"object":{"type":"ThisExpression","start":9858,"end":9862,"loc":{"start":{"line":297,"column":13},"end":{"line":297,"column":17}}},"computed":false,"property":{"type":"Identifier","start":9863,"end":9869,"loc":{"start":{"line":297,"column":18},"end":{"line":297,"column":24},"identifierName":"client"},"name":"client"},"optional":false},"computed":false,"property":{"type":"Identifier","start":9870,"end":9881,"loc":{"start":{"line":297,"column":25},"end":{"line":297,"column":36},"identifierName":"reserveFile"},"name":"reserveFile"},"optional":false},"arguments":[{"type":"Identifier","start":9882,"end":9890,"loc":{"start":{"line":297,"column":37},"end":{"line":297,"column":45},"identifierName":"assembly"},"name":"assembly"},{"type":"Identifier","start":9892,"end":9896,"loc":{"start":{"line":297,"column":47},"end":{"line":297,"column":51},"identifierName":"file"},"name":"file"}],"optional":false}}]}}],"optional":false}],"optional":false}}]}},"leadingComments":[{"type":"CommentBlock","value":"*\n   * Used when `importFromUploadURLs` is enabled: reserves all files in\n   * the Assembly.\n   ","start":9612,"end":9712,"loc":{"start":{"line":290,"column":2},"end":{"line":293,"column":5}}}],"trailingComments":[{"type":"CommentBlock","value":"*\n   * Used when `importFromUploadURLs` is enabled: adds files to the Assembly\n   * once they have been fully uploaded.\n   ","start":9913,"end":10040,"loc":{"start":{"line":301,"column":2},"end":{"line":304,"column":5}}}]},{"type":"MethodDefinition","start":10043,"end":10440,"loc":{"start":{"line":305,"column":2},"end":{"line":317,"column":3}},"static":false,"key":{"type":"Identifier","start":10043,"end":10068,"loc":{"start":{"line":305,"column":2},"end":{"line":305,"column":27},"identifierName":"_onFileUploadURLAvailable"},"name":"_onFileUploadURLAvailable"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":10069,"end":10440,"loc":{"start":{"line":305,"column":28},"end":{"line":317,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":10070,"end":10074,"loc":{"start":{"line":305,"column":29},"end":{"line":305,"column":33},"identifierName":"file"},"name":"file"}],"body":{"type":"BlockStatement","start":10076,"end":10440,"loc":{"start":{"line":305,"column":35},"end":{"line":317,"column":3}},"body":[{"type":"IfStatement","start":10082,"end":10164,"loc":{"start":{"line":306,"column":4},"end":{"line":308,"column":5}},"test":{"type":"LogicalExpression","start":10086,"end":10142,"loc":{"start":{"line":306,"column":8},"end":{"line":306,"column":64}},"left":{"type":"LogicalExpression","start":10086,"end":10112,"loc":{"start":{"line":306,"column":8},"end":{"line":306,"column":34}},"left":{"type":"UnaryExpression","start":10086,"end":10091,"loc":{"start":{"line":306,"column":8},"end":{"line":306,"column":13}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":10087,"end":10091,"loc":{"start":{"line":306,"column":9},"end":{"line":306,"column":13},"identifierName":"file"},"name":"file"}},"operator":"||","right":{"type":"UnaryExpression","start":10095,"end":10112,"loc":{"start":{"line":306,"column":17},"end":{"line":306,"column":34}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":10096,"end":10112,"loc":{"start":{"line":306,"column":18},"end":{"line":306,"column":34}},"object":{"type":"Identifier","start":10096,"end":10100,"loc":{"start":{"line":306,"column":18},"end":{"line":306,"column":22},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":10101,"end":10112,"loc":{"start":{"line":306,"column":23},"end":{"line":306,"column":34},"identifierName":"transloadit"},"name":"transloadit"},"optional":false}}},"operator":"||","right":{"type":"UnaryExpression","start":10116,"end":10142,"loc":{"start":{"line":306,"column":38},"end":{"line":306,"column":64}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":10117,"end":10142,"loc":{"start":{"line":306,"column":39},"end":{"line":306,"column":64}},"object":{"type":"MemberExpression","start":10117,"end":10133,"loc":{"start":{"line":306,"column":39},"end":{"line":306,"column":55}},"object":{"type":"Identifier","start":10117,"end":10121,"loc":{"start":{"line":306,"column":39},"end":{"line":306,"column":43},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":10122,"end":10133,"loc":{"start":{"line":306,"column":44},"end":{"line":306,"column":55},"identifierName":"transloadit"},"name":"transloadit"},"optional":false},"computed":false,"property":{"type":"Identifier","start":10134,"end":10142,"loc":{"start":{"line":306,"column":56},"end":{"line":306,"column":64},"identifierName":"assembly"},"name":"assembly"},"optional":false}}},"consequent":{"type":"BlockStatement","start":10144,"end":10164,"loc":{"start":{"line":306,"column":66},"end":{"line":308,"column":5}},"body":[{"type":"ReturnStatement","start":10152,"end":10158,"loc":{"start":{"line":307,"column":6},"end":{"line":307,"column":12}},"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":10170,"end":10214,"loc":{"start":{"line":310,"column":4},"end":{"line":310,"column":48}},"declarations":[{"type":"VariableDeclarator","start":10176,"end":10214,"loc":{"start":{"line":310,"column":10},"end":{"line":310,"column":48}},"id":{"type":"ObjectPattern","start":10176,"end":10190,"loc":{"start":{"line":310,"column":10},"end":{"line":310,"column":24}},"properties":[{"type":"Property","start":10178,"end":10188,"loc":{"start":{"line":310,"column":12},"end":{"line":310,"column":22}},"method":false,"key":{"type":"Identifier","start":10178,"end":10188,"loc":{"start":{"line":310,"column":12},"end":{"line":310,"column":22},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":10178,"end":10188,"loc":{"start":{"line":310,"column":12},"end":{"line":310,"column":22},"identifierName":"assemblies"},"name":"assemblies"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"CallExpression","start":10193,"end":10214,"loc":{"start":{"line":310,"column":27},"end":{"line":310,"column":48}},"callee":{"type":"MemberExpression","start":10193,"end":10212,"loc":{"start":{"line":310,"column":27},"end":{"line":310,"column":46}},"object":{"type":"ThisExpression","start":10193,"end":10197,"loc":{"start":{"line":310,"column":27},"end":{"line":310,"column":31}}},"computed":false,"property":{"type":"Identifier","start":10198,"end":10212,"loc":{"start":{"line":310,"column":32},"end":{"line":310,"column":46},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":10219,"end":10273,"loc":{"start":{"line":311,"column":4},"end":{"line":311,"column":58}},"declarations":[{"type":"VariableDeclarator","start":10225,"end":10273,"loc":{"start":{"line":311,"column":10},"end":{"line":311,"column":58}},"id":{"type":"Identifier","start":10225,"end":10233,"loc":{"start":{"line":311,"column":10},"end":{"line":311,"column":18},"identifierName":"assembly"},"name":"assembly"},"init":{"type":"MemberExpression","start":10236,"end":10273,"loc":{"start":{"line":311,"column":21},"end":{"line":311,"column":58}},"object":{"type":"Identifier","start":10236,"end":10246,"loc":{"start":{"line":311,"column":21},"end":{"line":311,"column":31},"identifierName":"assemblies"},"name":"assemblies"},"computed":true,"property":{"type":"MemberExpression","start":10247,"end":10272,"loc":{"start":{"line":311,"column":32},"end":{"line":311,"column":57}},"object":{"type":"MemberExpression","start":10247,"end":10263,"loc":{"start":{"line":311,"column":32},"end":{"line":311,"column":48}},"object":{"type":"Identifier","start":10247,"end":10251,"loc":{"start":{"line":311,"column":32},"end":{"line":311,"column":36},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":10252,"end":10263,"loc":{"start":{"line":311,"column":37},"end":{"line":311,"column":48},"identifierName":"transloadit"},"name":"transloadit"},"optional":false},"computed":false,"property":{"type":"Identifier","start":10264,"end":10272,"loc":{"start":{"line":311,"column":49},"end":{"line":311,"column":57},"identifierName":"assembly"},"name":"assembly"},"optional":false},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":10279,"end":10436,"loc":{"start":{"line":313,"column":4},"end":{"line":316,"column":6}},"expression":{"type":"CallExpression","start":10279,"end":10436,"loc":{"start":{"line":313,"column":4},"end":{"line":316,"column":6}},"callee":{"type":"MemberExpression","start":10279,"end":10320,"loc":{"start":{"line":313,"column":4},"end":{"line":313,"column":45}},"object":{"type":"CallExpression","start":10279,"end":10314,"loc":{"start":{"line":313,"column":4},"end":{"line":313,"column":39}},"callee":{"type":"MemberExpression","start":10279,"end":10298,"loc":{"start":{"line":313,"column":4},"end":{"line":313,"column":23}},"object":{"type":"MemberExpression","start":10279,"end":10290,"loc":{"start":{"line":313,"column":4},"end":{"line":313,"column":15}},"object":{"type":"ThisExpression","start":10279,"end":10283,"loc":{"start":{"line":313,"column":4},"end":{"line":313,"column":8}}},"computed":false,"property":{"type":"Identifier","start":10284,"end":10290,"loc":{"start":{"line":313,"column":9},"end":{"line":313,"column":15},"identifierName":"client"},"name":"client"},"optional":false},"computed":false,"property":{"type":"Identifier","start":10291,"end":10298,"loc":{"start":{"line":313,"column":16},"end":{"line":313,"column":23},"identifierName":"addFile"},"name":"addFile"},"optional":false},"arguments":[{"type":"Identifier","start":10299,"end":10307,"loc":{"start":{"line":313,"column":24},"end":{"line":313,"column":32},"identifierName":"assembly"},"name":"assembly"},{"type":"Identifier","start":10309,"end":10313,"loc":{"start":{"line":313,"column":34},"end":{"line":313,"column":38},"identifierName":"file"},"name":"file"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":10315,"end":10320,"loc":{"start":{"line":313,"column":40},"end":{"line":313,"column":45},"identifierName":"catch"},"name":"catch"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":10321,"end":10435,"loc":{"start":{"line":313,"column":46},"end":{"line":316,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":10322,"end":10325,"loc":{"start":{"line":313,"column":47},"end":{"line":313,"column":50},"identifierName":"err"},"name":"err"}],"body":{"type":"BlockStatement","start":10330,"end":10435,"loc":{"start":{"line":313,"column":55},"end":{"line":316,"column":5}},"body":[{"type":"ExpressionStatement","start":10338,"end":10356,"loc":{"start":{"line":314,"column":6},"end":{"line":314,"column":24}},"expression":{"type":"CallExpression","start":10338,"end":10356,"loc":{"start":{"line":314,"column":6},"end":{"line":314,"column":24}},"callee":{"type":"MemberExpression","start":10338,"end":10351,"loc":{"start":{"line":314,"column":6},"end":{"line":314,"column":19}},"object":{"type":"MemberExpression","start":10338,"end":10347,"loc":{"start":{"line":314,"column":6},"end":{"line":314,"column":15}},"object":{"type":"ThisExpression","start":10338,"end":10342,"loc":{"start":{"line":314,"column":6},"end":{"line":314,"column":10}}},"computed":false,"property":{"type":"Identifier","start":10343,"end":10347,"loc":{"start":{"line":314,"column":11},"end":{"line":314,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":10348,"end":10351,"loc":{"start":{"line":314,"column":16},"end":{"line":314,"column":19},"identifierName":"log"},"name":"log"},"optional":false},"arguments":[{"type":"Identifier","start":10352,"end":10355,"loc":{"start":{"line":314,"column":20},"end":{"line":314,"column":23},"identifierName":"err"},"name":"err"}],"optional":false}},{"type":"ExpressionStatement","start":10363,"end":10429,"loc":{"start":{"line":315,"column":6},"end":{"line":315,"column":72}},"expression":{"type":"CallExpression","start":10363,"end":10429,"loc":{"start":{"line":315,"column":6},"end":{"line":315,"column":72}},"callee":{"type":"MemberExpression","start":10363,"end":10377,"loc":{"start":{"line":315,"column":6},"end":{"line":315,"column":20}},"object":{"type":"MemberExpression","start":10363,"end":10372,"loc":{"start":{"line":315,"column":6},"end":{"line":315,"column":15}},"object":{"type":"ThisExpression","start":10363,"end":10367,"loc":{"start":{"line":315,"column":6},"end":{"line":315,"column":10}}},"computed":false,"property":{"type":"Identifier","start":10368,"end":10372,"loc":{"start":{"line":315,"column":11},"end":{"line":315,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":10373,"end":10377,"loc":{"start":{"line":315,"column":16},"end":{"line":315,"column":20},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":10378,"end":10404,"loc":{"start":{"line":315,"column":21},"end":{"line":315,"column":47}},"value":"transloadit:import-error","raw":"'transloadit:import-error'"},{"type":"Identifier","start":10406,"end":10414,"loc":{"start":{"line":315,"column":49},"end":{"line":315,"column":57},"identifierName":"assembly"},"name":"assembly"},{"type":"MemberExpression","start":10416,"end":10423,"loc":{"start":{"line":315,"column":59},"end":{"line":315,"column":66}},"object":{"type":"Identifier","start":10416,"end":10420,"loc":{"start":{"line":315,"column":59},"end":{"line":315,"column":63},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":10421,"end":10423,"loc":{"start":{"line":315,"column":64},"end":{"line":315,"column":66},"identifierName":"id"},"name":"id"},"optional":false},{"type":"Identifier","start":10425,"end":10428,"loc":{"start":{"line":315,"column":68},"end":{"line":315,"column":71},"identifierName":"err"},"name":"err"}],"optional":false}}]}}],"optional":false}}]}},"leadingComments":[{"type":"CommentBlock","value":"*\n   * Used when `importFromUploadURLs` is enabled: adds files to the Assembly\n   * once they have been fully uploaded.\n   ","start":9913,"end":10040,"loc":{"start":{"line":301,"column":2},"end":{"line":304,"column":5}}}]},{"type":"MethodDefinition","start":10444,"end":11086,"loc":{"start":{"line":319,"column":2},"end":{"line":338,"column":3}},"static":false,"key":{"type":"Identifier","start":10444,"end":10453,"loc":{"start":{"line":319,"column":2},"end":{"line":319,"column":11},"identifierName":"_findFile"},"name":"_findFile"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":10454,"end":11086,"loc":{"start":{"line":319,"column":12},"end":{"line":338,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":10455,"end":10467,"loc":{"start":{"line":319,"column":13},"end":{"line":319,"column":25},"identifierName":"uploadedFile"},"name":"uploadedFile"}],"body":{"type":"BlockStatement","start":10469,"end":11086,"loc":{"start":{"line":319,"column":27},"end":{"line":338,"column":3}},"body":[{"type":"VariableDeclaration","start":10475,"end":10509,"loc":{"start":{"line":320,"column":4},"end":{"line":320,"column":38}},"declarations":[{"type":"VariableDeclarator","start":10481,"end":10509,"loc":{"start":{"line":320,"column":10},"end":{"line":320,"column":38}},"id":{"type":"Identifier","start":10481,"end":10486,"loc":{"start":{"line":320,"column":10},"end":{"line":320,"column":15},"identifierName":"files"},"name":"files"},"init":{"type":"CallExpression","start":10489,"end":10509,"loc":{"start":{"line":320,"column":18},"end":{"line":320,"column":38}},"callee":{"type":"MemberExpression","start":10489,"end":10507,"loc":{"start":{"line":320,"column":18},"end":{"line":320,"column":36}},"object":{"type":"MemberExpression","start":10489,"end":10498,"loc":{"start":{"line":320,"column":18},"end":{"line":320,"column":27}},"object":{"type":"ThisExpression","start":10489,"end":10493,"loc":{"start":{"line":320,"column":18},"end":{"line":320,"column":22}}},"computed":false,"property":{"type":"Identifier","start":10494,"end":10498,"loc":{"start":{"line":320,"column":23},"end":{"line":320,"column":27},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":10499,"end":10507,"loc":{"start":{"line":320,"column":28},"end":{"line":320,"column":36},"identifierName":"getFiles"},"name":"getFiles"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"ForStatement","start":10514,"end":11082,"loc":{"start":{"line":321,"column":4},"end":{"line":337,"column":5}},"init":{"type":"VariableDeclaration","start":10519,"end":10528,"loc":{"start":{"line":321,"column":9},"end":{"line":321,"column":18}},"declarations":[{"type":"VariableDeclarator","start":10523,"end":10528,"loc":{"start":{"line":321,"column":13},"end":{"line":321,"column":18}},"id":{"type":"Identifier","start":10523,"end":10524,"loc":{"start":{"line":321,"column":13},"end":{"line":321,"column":14},"identifierName":"i"},"name":"i"},"init":{"type":"Literal","start":10527,"end":10528,"loc":{"start":{"line":321,"column":17},"end":{"line":321,"column":18}},"value":0,"raw":"0"}}],"kind":"let"},"test":{"type":"BinaryExpression","start":10530,"end":10546,"loc":{"start":{"line":321,"column":20},"end":{"line":321,"column":36}},"left":{"type":"Identifier","start":10530,"end":10531,"loc":{"start":{"line":321,"column":20},"end":{"line":321,"column":21},"identifierName":"i"},"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":10534,"end":10546,"loc":{"start":{"line":321,"column":24},"end":{"line":321,"column":36}},"object":{"type":"Identifier","start":10534,"end":10539,"loc":{"start":{"line":321,"column":24},"end":{"line":321,"column":29},"identifierName":"files"},"name":"files"},"computed":false,"property":{"type":"Identifier","start":10540,"end":10546,"loc":{"start":{"line":321,"column":30},"end":{"line":321,"column":36},"identifierName":"length"},"name":"length"},"optional":false}},"update":{"type":"UpdateExpression","start":10548,"end":10551,"loc":{"start":{"line":321,"column":38},"end":{"line":321,"column":41}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":10548,"end":10549,"loc":{"start":{"line":321,"column":38},"end":{"line":321,"column":39},"identifierName":"i"},"name":"i"}},"body":{"type":"BlockStatement","start":10553,"end":11082,"loc":{"start":{"line":321,"column":43},"end":{"line":337,"column":5}},"body":[{"type":"VariableDeclaration","start":10561,"end":10582,"loc":{"start":{"line":322,"column":6},"end":{"line":322,"column":27}},"declarations":[{"type":"VariableDeclarator","start":10567,"end":10582,"loc":{"start":{"line":322,"column":12},"end":{"line":322,"column":27}},"id":{"type":"Identifier","start":10567,"end":10571,"loc":{"start":{"line":322,"column":12},"end":{"line":322,"column":16},"identifierName":"file"},"name":"file"},"init":{"type":"MemberExpression","start":10574,"end":10582,"loc":{"start":{"line":322,"column":19},"end":{"line":322,"column":27}},"object":{"type":"Identifier","start":10574,"end":10579,"loc":{"start":{"line":322,"column":19},"end":{"line":322,"column":24},"identifierName":"files"},"name":"files"},"computed":true,"property":{"type":"Identifier","start":10580,"end":10581,"loc":{"start":{"line":322,"column":25},"end":{"line":322,"column":26},"identifierName":"i"},"name":"i"},"optional":false}}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" Completed file upload.","start":10589,"end":10614,"loc":{"start":{"line":323,"column":6},"end":{"line":323,"column":31}}}]},{"type":"IfStatement","start":10621,"end":10702,"loc":{"start":{"line":324,"column":6},"end":{"line":326,"column":7}},"test":{"type":"BinaryExpression","start":10625,"end":10671,"loc":{"start":{"line":324,"column":10},"end":{"line":324,"column":56}},"left":{"type":"MemberExpression","start":10625,"end":10639,"loc":{"start":{"line":324,"column":10},"end":{"line":324,"column":24}},"object":{"type":"Identifier","start":10625,"end":10629,"loc":{"start":{"line":324,"column":10},"end":{"line":324,"column":14},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":10630,"end":10639,"loc":{"start":{"line":324,"column":15},"end":{"line":324,"column":24},"identifierName":"uploadURL"},"name":"uploadURL"},"optional":false},"operator":"===","right":{"type":"MemberExpression","start":10644,"end":10671,"loc":{"start":{"line":324,"column":29},"end":{"line":324,"column":56}},"object":{"type":"Identifier","start":10644,"end":10656,"loc":{"start":{"line":324,"column":29},"end":{"line":324,"column":41},"identifierName":"uploadedFile"},"name":"uploadedFile"},"computed":false,"property":{"type":"Identifier","start":10657,"end":10671,"loc":{"start":{"line":324,"column":42},"end":{"line":324,"column":56},"identifierName":"tus_upload_url"},"name":"tus_upload_url"},"optional":false}},"consequent":{"type":"BlockStatement","start":10673,"end":10702,"loc":{"start":{"line":324,"column":58},"end":{"line":326,"column":7}},"body":[{"type":"ReturnStatement","start":10683,"end":10694,"loc":{"start":{"line":325,"column":8},"end":{"line":325,"column":19}},"argument":{"type":"Identifier","start":10690,"end":10694,"loc":{"start":{"line":325,"column":15},"end":{"line":325,"column":19},"identifierName":"file"},"name":"file"}}]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" Completed file upload.","start":10589,"end":10614,"loc":{"start":{"line":323,"column":6},"end":{"line":323,"column":31}}}],"trailingComments":[{"type":"CommentLine","value":" In-progress file upload.","start":10709,"end":10736,"loc":{"start":{"line":327,"column":6},"end":{"line":327,"column":33}}}]},{"type":"IfStatement","start":10743,"end":10840,"loc":{"start":{"line":328,"column":6},"end":{"line":330,"column":7}},"test":{"type":"LogicalExpression","start":10747,"end":10809,"loc":{"start":{"line":328,"column":10},"end":{"line":328,"column":72}},"left":{"type":"MemberExpression","start":10747,"end":10755,"loc":{"start":{"line":328,"column":10},"end":{"line":328,"column":18}},"object":{"type":"Identifier","start":10747,"end":10751,"loc":{"start":{"line":328,"column":10},"end":{"line":328,"column":14},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":10752,"end":10755,"loc":{"start":{"line":328,"column":15},"end":{"line":328,"column":18},"identifierName":"tus"},"name":"tus"},"optional":false},"operator":"&&","right":{"type":"BinaryExpression","start":10759,"end":10809,"loc":{"start":{"line":328,"column":22},"end":{"line":328,"column":72}},"left":{"type":"MemberExpression","start":10759,"end":10777,"loc":{"start":{"line":328,"column":22},"end":{"line":328,"column":40}},"object":{"type":"MemberExpression","start":10759,"end":10767,"loc":{"start":{"line":328,"column":22},"end":{"line":328,"column":30}},"object":{"type":"Identifier","start":10759,"end":10763,"loc":{"start":{"line":328,"column":22},"end":{"line":328,"column":26},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":10764,"end":10767,"loc":{"start":{"line":328,"column":27},"end":{"line":328,"column":30},"identifierName":"tus"},"name":"tus"},"optional":false},"computed":false,"property":{"type":"Identifier","start":10768,"end":10777,"loc":{"start":{"line":328,"column":31},"end":{"line":328,"column":40},"identifierName":"uploadUrl"},"name":"uploadUrl"},"optional":false},"operator":"===","right":{"type":"MemberExpression","start":10782,"end":10809,"loc":{"start":{"line":328,"column":45},"end":{"line":328,"column":72}},"object":{"type":"Identifier","start":10782,"end":10794,"loc":{"start":{"line":328,"column":45},"end":{"line":328,"column":57},"identifierName":"uploadedFile"},"name":"uploadedFile"},"computed":false,"property":{"type":"Identifier","start":10795,"end":10809,"loc":{"start":{"line":328,"column":58},"end":{"line":328,"column":72},"identifierName":"tus_upload_url"},"name":"tus_upload_url"},"optional":false}}},"consequent":{"type":"BlockStatement","start":10811,"end":10840,"loc":{"start":{"line":328,"column":74},"end":{"line":330,"column":7}},"body":[{"type":"ReturnStatement","start":10821,"end":10832,"loc":{"start":{"line":329,"column":8},"end":{"line":329,"column":19}},"argument":{"type":"Identifier","start":10828,"end":10832,"loc":{"start":{"line":329,"column":15},"end":{"line":329,"column":19},"identifierName":"file"},"name":"file"}}]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" In-progress file upload.","start":10709,"end":10736,"loc":{"start":{"line":327,"column":6},"end":{"line":327,"column":33}}}]},{"type":"IfStatement","start":10847,"end":11076,"loc":{"start":{"line":331,"column":6},"end":{"line":336,"column":7}},"test":{"type":"UnaryExpression","start":10851,"end":10876,"loc":{"start":{"line":331,"column":10},"end":{"line":331,"column":35}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":10852,"end":10876,"loc":{"start":{"line":331,"column":11},"end":{"line":331,"column":35}},"object":{"type":"Identifier","start":10852,"end":10864,"loc":{"start":{"line":331,"column":11},"end":{"line":331,"column":23},"identifierName":"uploadedFile"},"name":"uploadedFile"},"computed":false,"property":{"type":"Identifier","start":10865,"end":10876,"loc":{"start":{"line":331,"column":24},"end":{"line":331,"column":35},"identifierName":"is_tus_file"},"name":"is_tus_file"},"optional":false}},"consequent":{"type":"BlockStatement","start":10878,"end":11076,"loc":{"start":{"line":331,"column":37},"end":{"line":336,"column":7}},"body":[{"type":"IfStatement","start":10963,"end":11068,"loc":{"start":{"line":333,"column":8},"end":{"line":335,"column":9}},"test":{"type":"LogicalExpression","start":10967,"end":11033,"loc":{"start":{"line":333,"column":12},"end":{"line":333,"column":78}},"left":{"type":"BinaryExpression","start":10967,"end":10998,"loc":{"start":{"line":333,"column":12},"end":{"line":333,"column":43}},"left":{"type":"MemberExpression","start":10967,"end":10976,"loc":{"start":{"line":333,"column":12},"end":{"line":333,"column":21}},"object":{"type":"Identifier","start":10967,"end":10971,"loc":{"start":{"line":333,"column":12},"end":{"line":333,"column":16},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":10972,"end":10976,"loc":{"start":{"line":333,"column":17},"end":{"line":333,"column":21},"identifierName":"name"},"name":"name"},"optional":false},"operator":"===","right":{"type":"MemberExpression","start":10981,"end":10998,"loc":{"start":{"line":333,"column":26},"end":{"line":333,"column":43}},"object":{"type":"Identifier","start":10981,"end":10993,"loc":{"start":{"line":333,"column":26},"end":{"line":333,"column":38},"identifierName":"uploadedFile"},"name":"uploadedFile"},"computed":false,"property":{"type":"Identifier","start":10994,"end":10998,"loc":{"start":{"line":333,"column":39},"end":{"line":333,"column":43},"identifierName":"name"},"name":"name"},"optional":false}},"operator":"&&","right":{"type":"BinaryExpression","start":11002,"end":11033,"loc":{"start":{"line":333,"column":47},"end":{"line":333,"column":78}},"left":{"type":"MemberExpression","start":11002,"end":11011,"loc":{"start":{"line":333,"column":47},"end":{"line":333,"column":56}},"object":{"type":"Identifier","start":11002,"end":11006,"loc":{"start":{"line":333,"column":47},"end":{"line":333,"column":51},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":11007,"end":11011,"loc":{"start":{"line":333,"column":52},"end":{"line":333,"column":56},"identifierName":"size"},"name":"size"},"optional":false},"operator":"===","right":{"type":"MemberExpression","start":11016,"end":11033,"loc":{"start":{"line":333,"column":61},"end":{"line":333,"column":78}},"object":{"type":"Identifier","start":11016,"end":11028,"loc":{"start":{"line":333,"column":61},"end":{"line":333,"column":73},"identifierName":"uploadedFile"},"name":"uploadedFile"},"computed":false,"property":{"type":"Identifier","start":11029,"end":11033,"loc":{"start":{"line":333,"column":74},"end":{"line":333,"column":78},"identifierName":"size"},"name":"size"},"optional":false}}},"consequent":{"type":"BlockStatement","start":11035,"end":11068,"loc":{"start":{"line":333,"column":80},"end":{"line":335,"column":9}},"body":[{"type":"ReturnStatement","start":11047,"end":11058,"loc":{"start":{"line":334,"column":10},"end":{"line":334,"column":21}},"argument":{"type":"Identifier","start":11054,"end":11058,"loc":{"start":{"line":334,"column":17},"end":{"line":334,"column":21},"identifierName":"file"},"name":"file"}}]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" Fingers-crossed check for non-tus uploads, eg imported from S3.","start":10888,"end":10954,"loc":{"start":{"line":332,"column":8},"end":{"line":332,"column":74}}}]}]},"alternate":null}]}}]}}},{"type":"MethodDefinition","start":11090,"end":11646,"loc":{"start":{"line":340,"column":2},"end":{"line":358,"column":3}},"static":false,"key":{"type":"Identifier","start":11090,"end":11111,"loc":{"start":{"line":340,"column":2},"end":{"line":340,"column":23},"identifierName":"_onFileUploadComplete"},"name":"_onFileUploadComplete"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":11112,"end":11646,"loc":{"start":{"line":340,"column":24},"end":{"line":358,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":11113,"end":11123,"loc":{"start":{"line":340,"column":25},"end":{"line":340,"column":35},"identifierName":"assemblyId"},"name":"assemblyId"},{"type":"Identifier","start":11125,"end":11137,"loc":{"start":{"line":340,"column":37},"end":{"line":340,"column":49},"identifierName":"uploadedFile"},"name":"uploadedFile"}],"body":{"type":"BlockStatement","start":11139,"end":11646,"loc":{"start":{"line":340,"column":51},"end":{"line":358,"column":3}},"body":[{"type":"VariableDeclaration","start":11145,"end":11180,"loc":{"start":{"line":341,"column":4},"end":{"line":341,"column":39}},"declarations":[{"type":"VariableDeclarator","start":11151,"end":11180,"loc":{"start":{"line":341,"column":10},"end":{"line":341,"column":39}},"id":{"type":"Identifier","start":11151,"end":11156,"loc":{"start":{"line":341,"column":10},"end":{"line":341,"column":15},"identifierName":"state"},"name":"state"},"init":{"type":"CallExpression","start":11159,"end":11180,"loc":{"start":{"line":341,"column":18},"end":{"line":341,"column":39}},"callee":{"type":"MemberExpression","start":11159,"end":11178,"loc":{"start":{"line":341,"column":18},"end":{"line":341,"column":37}},"object":{"type":"ThisExpression","start":11159,"end":11163,"loc":{"start":{"line":341,"column":18},"end":{"line":341,"column":22}}},"computed":false,"property":{"type":"Identifier","start":11164,"end":11178,"loc":{"start":{"line":341,"column":23},"end":{"line":341,"column":37},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":11185,"end":11226,"loc":{"start":{"line":342,"column":4},"end":{"line":342,"column":45}},"declarations":[{"type":"VariableDeclarator","start":11191,"end":11226,"loc":{"start":{"line":342,"column":10},"end":{"line":342,"column":45}},"id":{"type":"Identifier","start":11191,"end":11195,"loc":{"start":{"line":342,"column":10},"end":{"line":342,"column":14},"identifierName":"file"},"name":"file"},"init":{"type":"CallExpression","start":11198,"end":11226,"loc":{"start":{"line":342,"column":17},"end":{"line":342,"column":45}},"callee":{"type":"MemberExpression","start":11198,"end":11212,"loc":{"start":{"line":342,"column":17},"end":{"line":342,"column":31}},"object":{"type":"ThisExpression","start":11198,"end":11202,"loc":{"start":{"line":342,"column":17},"end":{"line":342,"column":21}}},"computed":false,"property":{"type":"Identifier","start":11203,"end":11212,"loc":{"start":{"line":342,"column":22},"end":{"line":342,"column":31},"identifierName":"_findFile"},"name":"_findFile"},"optional":false},"arguments":[{"type":"Identifier","start":11213,"end":11225,"loc":{"start":{"line":342,"column":32},"end":{"line":342,"column":44},"identifierName":"uploadedFile"},"name":"uploadedFile"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":11231,"end":11360,"loc":{"start":{"line":343,"column":4},"end":{"line":346,"column":5}},"test":{"type":"UnaryExpression","start":11235,"end":11240,"loc":{"start":{"line":343,"column":8},"end":{"line":343,"column":13}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":11236,"end":11240,"loc":{"start":{"line":343,"column":9},"end":{"line":343,"column":13},"identifierName":"file"},"name":"file"}},"consequent":{"type":"BlockStatement","start":11242,"end":11360,"loc":{"start":{"line":343,"column":15},"end":{"line":346,"column":5}},"body":[{"type":"ExpressionStatement","start":11250,"end":11341,"loc":{"start":{"line":344,"column":6},"end":{"line":344,"column":97}},"expression":{"type":"CallExpression","start":11250,"end":11341,"loc":{"start":{"line":344,"column":6},"end":{"line":344,"column":97}},"callee":{"type":"MemberExpression","start":11250,"end":11263,"loc":{"start":{"line":344,"column":6},"end":{"line":344,"column":19}},"object":{"type":"MemberExpression","start":11250,"end":11259,"loc":{"start":{"line":344,"column":6},"end":{"line":344,"column":15}},"object":{"type":"ThisExpression","start":11250,"end":11254,"loc":{"start":{"line":344,"column":6},"end":{"line":344,"column":10}}},"computed":false,"property":{"type":"Identifier","start":11255,"end":11259,"loc":{"start":{"line":344,"column":11},"end":{"line":344,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":11260,"end":11263,"loc":{"start":{"line":344,"column":16},"end":{"line":344,"column":19},"identifierName":"log"},"name":"log"},"optional":false},"arguments":[{"type":"Literal","start":11264,"end":11340,"loc":{"start":{"line":344,"column":20},"end":{"line":344,"column":96}},"value":"[Transloadit] Couldn’t file the file, it was likely removed in the process","raw":"'[Transloadit] Couldn’t file the file, it was likely removed in the process'"}],"optional":false}},{"type":"ReturnStatement","start":11348,"end":11354,"loc":{"start":{"line":345,"column":6},"end":{"line":345,"column":12}},"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":11365,"end":11557,"loc":{"start":{"line":347,"column":4},"end":{"line":356,"column":6}},"expression":{"type":"CallExpression","start":11365,"end":11557,"loc":{"start":{"line":347,"column":4},"end":{"line":356,"column":6}},"callee":{"type":"MemberExpression","start":11365,"end":11384,"loc":{"start":{"line":347,"column":4},"end":{"line":347,"column":23}},"object":{"type":"ThisExpression","start":11365,"end":11369,"loc":{"start":{"line":347,"column":4},"end":{"line":347,"column":8}}},"computed":false,"property":{"type":"Identifier","start":11370,"end":11384,"loc":{"start":{"line":347,"column":9},"end":{"line":347,"column":23},"identifierName":"setPluginState"},"name":"setPluginState"},"optional":false},"arguments":[{"type":"ObjectExpression","start":11385,"end":11556,"loc":{"start":{"line":347,"column":24},"end":{"line":356,"column":5}},"properties":[{"type":"Property","start":11393,"end":11550,"loc":{"start":{"line":348,"column":6},"end":{"line":355,"column":7}},"method":false,"key":{"type":"Identifier","start":11393,"end":11398,"loc":{"start":{"line":348,"column":6},"end":{"line":348,"column":11},"identifierName":"files"},"name":"files"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":11400,"end":11550,"loc":{"start":{"line":348,"column":13},"end":{"line":355,"column":7}},"properties":[{"type":"SpreadElement","start":11410,"end":11424,"loc":{"start":{"line":349,"column":8},"end":{"line":349,"column":22}},"argument":{"type":"MemberExpression","start":11413,"end":11424,"loc":{"start":{"line":349,"column":11},"end":{"line":349,"column":22}},"object":{"type":"Identifier","start":11413,"end":11418,"loc":{"start":{"line":349,"column":11},"end":{"line":349,"column":16},"identifierName":"state"},"name":"state"},"computed":false,"property":{"type":"Identifier","start":11419,"end":11424,"loc":{"start":{"line":349,"column":17},"end":{"line":349,"column":22},"identifierName":"files"},"name":"files"},"optional":false}},{"type":"Property","start":11434,"end":11542,"loc":{"start":{"line":350,"column":8},"end":{"line":354,"column":9}},"method":false,"computed":true,"key":{"type":"MemberExpression","start":11435,"end":11450,"loc":{"start":{"line":350,"column":9},"end":{"line":350,"column":24}},"object":{"type":"Identifier","start":11435,"end":11447,"loc":{"start":{"line":350,"column":9},"end":{"line":350,"column":21},"identifierName":"uploadedFile"},"name":"uploadedFile"},"computed":false,"property":{"type":"Identifier","start":11448,"end":11450,"loc":{"start":{"line":350,"column":22},"end":{"line":350,"column":24},"identifierName":"id"},"name":"id"},"optional":false},"shorthand":false,"value":{"type":"ObjectExpression","start":11453,"end":11542,"loc":{"start":{"line":350,"column":27},"end":{"line":354,"column":9}},"properties":[{"type":"Property","start":11465,"end":11485,"loc":{"start":{"line":351,"column":10},"end":{"line":351,"column":30}},"method":false,"key":{"type":"Identifier","start":11465,"end":11473,"loc":{"start":{"line":351,"column":10},"end":{"line":351,"column":18},"identifierName":"assembly"},"name":"assembly"},"computed":false,"shorthand":false,"value":{"type":"Identifier","start":11475,"end":11485,"loc":{"start":{"line":351,"column":20},"end":{"line":351,"column":30},"identifierName":"assemblyId"},"name":"assemblyId"},"kind":"init"},{"type":"Property","start":11497,"end":11508,"loc":{"start":{"line":352,"column":10},"end":{"line":352,"column":21}},"method":false,"key":{"type":"Identifier","start":11497,"end":11499,"loc":{"start":{"line":352,"column":10},"end":{"line":352,"column":12},"identifierName":"id"},"name":"id"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":11501,"end":11508,"loc":{"start":{"line":352,"column":14},"end":{"line":352,"column":21}},"object":{"type":"Identifier","start":11501,"end":11505,"loc":{"start":{"line":352,"column":14},"end":{"line":352,"column":18},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":11506,"end":11508,"loc":{"start":{"line":352,"column":19},"end":{"line":352,"column":21},"identifierName":"id"},"name":"id"},"optional":false},"kind":"init"},{"type":"Property","start":11520,"end":11532,"loc":{"start":{"line":353,"column":10},"end":{"line":353,"column":22}},"method":false,"key":{"type":"Identifier","start":11520,"end":11532,"loc":{"start":{"line":353,"column":10},"end":{"line":353,"column":22},"identifierName":"uploadedFile"},"name":"uploadedFile"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":11520,"end":11532,"loc":{"start":{"line":353,"column":10},"end":{"line":353,"column":22},"identifierName":"uploadedFile"},"name":"uploadedFile"},"kind":"init","extra":{"shorthand":true}}]},"kind":"init"}]},"kind":"init"}]}],"optional":false}},{"type":"ExpressionStatement","start":11562,"end":11642,"loc":{"start":{"line":357,"column":4},"end":{"line":357,"column":84}},"expression":{"type":"CallExpression","start":11562,"end":11642,"loc":{"start":{"line":357,"column":4},"end":{"line":357,"column":84}},"callee":{"type":"MemberExpression","start":11562,"end":11576,"loc":{"start":{"line":357,"column":4},"end":{"line":357,"column":18}},"object":{"type":"MemberExpression","start":11562,"end":11571,"loc":{"start":{"line":357,"column":4},"end":{"line":357,"column":13}},"object":{"type":"ThisExpression","start":11562,"end":11566,"loc":{"start":{"line":357,"column":4},"end":{"line":357,"column":8}}},"computed":false,"property":{"type":"Identifier","start":11567,"end":11571,"loc":{"start":{"line":357,"column":9},"end":{"line":357,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":11572,"end":11576,"loc":{"start":{"line":357,"column":14},"end":{"line":357,"column":18},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":11577,"end":11597,"loc":{"start":{"line":357,"column":19},"end":{"line":357,"column":39}},"value":"transloadit:upload","raw":"'transloadit:upload'"},{"type":"Identifier","start":11599,"end":11611,"loc":{"start":{"line":357,"column":41},"end":{"line":357,"column":53},"identifierName":"uploadedFile"},"name":"uploadedFile"},{"type":"CallExpression","start":11613,"end":11641,"loc":{"start":{"line":357,"column":55},"end":{"line":357,"column":83}},"callee":{"type":"MemberExpression","start":11613,"end":11629,"loc":{"start":{"line":357,"column":55},"end":{"line":357,"column":71}},"object":{"type":"ThisExpression","start":11613,"end":11617,"loc":{"start":{"line":357,"column":55},"end":{"line":357,"column":59}}},"computed":false,"property":{"type":"Identifier","start":11618,"end":11629,"loc":{"start":{"line":357,"column":60},"end":{"line":357,"column":71},"identifierName":"getAssembly"},"name":"getAssembly"},"optional":false},"arguments":[{"type":"Identifier","start":11630,"end":11640,"loc":{"start":{"line":357,"column":72},"end":{"line":357,"column":82},"identifierName":"assemblyId"},"name":"assemblyId"}],"optional":false}],"optional":false}}]}},"trailingComments":[{"type":"CommentBlock","value":"*\n   * Callback when a new Assembly result comes in.\n   *\n   * @param {string} assemblyId\n   * @param {string} stepName\n   * @param {object} result\n   ","start":11650,"end":11805,"loc":{"start":{"line":360,"column":2},"end":{"line":366,"column":5}}}]},{"type":"MethodDefinition","start":11808,"end":12341,"loc":{"start":{"line":367,"column":2},"end":{"line":384,"column":3}},"static":false,"key":{"type":"Identifier","start":11808,"end":11817,"loc":{"start":{"line":367,"column":2},"end":{"line":367,"column":11},"identifierName":"_onResult"},"name":"_onResult"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":11818,"end":12341,"loc":{"start":{"line":367,"column":12},"end":{"line":384,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":11819,"end":11829,"loc":{"start":{"line":367,"column":13},"end":{"line":367,"column":23},"identifierName":"assemblyId"},"name":"assemblyId"},{"type":"Identifier","start":11831,"end":11839,"loc":{"start":{"line":367,"column":25},"end":{"line":367,"column":33},"identifierName":"stepName"},"name":"stepName"},{"type":"Identifier","start":11841,"end":11847,"loc":{"start":{"line":367,"column":35},"end":{"line":367,"column":41},"identifierName":"result"},"name":"result"}],"body":{"type":"BlockStatement","start":11849,"end":12341,"loc":{"start":{"line":367,"column":43},"end":{"line":384,"column":3}},"body":[{"type":"VariableDeclaration","start":11855,"end":11890,"loc":{"start":{"line":368,"column":4},"end":{"line":368,"column":39}},"declarations":[{"type":"VariableDeclarator","start":11861,"end":11890,"loc":{"start":{"line":368,"column":10},"end":{"line":368,"column":39}},"id":{"type":"Identifier","start":11861,"end":11866,"loc":{"start":{"line":368,"column":10},"end":{"line":368,"column":15},"identifierName":"state"},"name":"state"},"init":{"type":"CallExpression","start":11869,"end":11890,"loc":{"start":{"line":368,"column":18},"end":{"line":368,"column":39}},"callee":{"type":"MemberExpression","start":11869,"end":11888,"loc":{"start":{"line":368,"column":18},"end":{"line":368,"column":37}},"object":{"type":"ThisExpression","start":11869,"end":11873,"loc":{"start":{"line":368,"column":18},"end":{"line":368,"column":22}}},"computed":false,"property":{"type":"Identifier","start":11874,"end":11888,"loc":{"start":{"line":368,"column":23},"end":{"line":368,"column":37},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":11895,"end":11939,"loc":{"start":{"line":369,"column":4},"end":{"line":369,"column":48}},"declarations":[{"type":"VariableDeclarator","start":11901,"end":11939,"loc":{"start":{"line":369,"column":10},"end":{"line":369,"column":48}},"id":{"type":"Identifier","start":11901,"end":11905,"loc":{"start":{"line":369,"column":10},"end":{"line":369,"column":14},"identifierName":"file"},"name":"file"},"init":{"type":"MemberExpression","start":11908,"end":11939,"loc":{"start":{"line":369,"column":17},"end":{"line":369,"column":48}},"object":{"type":"MemberExpression","start":11908,"end":11919,"loc":{"start":{"line":369,"column":17},"end":{"line":369,"column":28}},"object":{"type":"Identifier","start":11908,"end":11913,"loc":{"start":{"line":369,"column":17},"end":{"line":369,"column":22},"identifierName":"state"},"name":"state"},"computed":false,"property":{"type":"Identifier","start":11914,"end":11919,"loc":{"start":{"line":369,"column":23},"end":{"line":369,"column":28},"identifierName":"files"},"name":"files"},"optional":false},"computed":true,"property":{"type":"MemberExpression","start":11920,"end":11938,"loc":{"start":{"line":369,"column":29},"end":{"line":369,"column":47}},"object":{"type":"Identifier","start":11920,"end":11926,"loc":{"start":{"line":369,"column":29},"end":{"line":369,"column":35},"identifierName":"result"},"name":"result"},"computed":false,"property":{"type":"Identifier","start":11927,"end":11938,"loc":{"start":{"line":369,"column":36},"end":{"line":369,"column":47},"identifierName":"original_id"},"name":"original_id"},"optional":false},"optional":false}}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" The `file` may not exist if an import robot was used instead of a file upload.","start":11944,"end":12025,"loc":{"start":{"line":370,"column":4},"end":{"line":370,"column":85}}}]},{"type":"ExpressionStatement","start":12030,"end":12068,"loc":{"start":{"line":371,"column":4},"end":{"line":371,"column":42}},"expression":{"type":"AssignmentExpression","start":12030,"end":12068,"loc":{"start":{"line":371,"column":4},"end":{"line":371,"column":42}},"operator":"=","left":{"type":"MemberExpression","start":12030,"end":12044,"loc":{"start":{"line":371,"column":4},"end":{"line":371,"column":18}},"object":{"type":"Identifier","start":12030,"end":12036,"loc":{"start":{"line":371,"column":4},"end":{"line":371,"column":10},"identifierName":"result"},"name":"result"},"computed":false,"property":{"type":"Identifier","start":12037,"end":12044,"loc":{"start":{"line":371,"column":11},"end":{"line":371,"column":18},"identifierName":"localId"},"name":"localId"},"optional":false},"right":{"type":"ConditionalExpression","start":12047,"end":12068,"loc":{"start":{"line":371,"column":21},"end":{"line":371,"column":42}},"test":{"type":"Identifier","start":12047,"end":12051,"loc":{"start":{"line":371,"column":21},"end":{"line":371,"column":25},"identifierName":"file"},"name":"file"},"consequent":{"type":"MemberExpression","start":12054,"end":12061,"loc":{"start":{"line":371,"column":28},"end":{"line":371,"column":35}},"object":{"type":"Identifier","start":12054,"end":12058,"loc":{"start":{"line":371,"column":28},"end":{"line":371,"column":32},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":12059,"end":12061,"loc":{"start":{"line":371,"column":33},"end":{"line":371,"column":35},"identifierName":"id"},"name":"id"},"optional":false},"alternate":{"type":"Literal","start":12064,"end":12068,"loc":{"start":{"line":371,"column":38},"end":{"line":371,"column":42}},"value":null,"raw":"null"}}},"leadingComments":[{"type":"CommentLine","value":" The `file` may not exist if an import robot was used instead of a file upload.","start":11944,"end":12025,"loc":{"start":{"line":370,"column":4},"end":{"line":370,"column":85}}}]},{"type":"VariableDeclaration","start":12074,"end":12173,"loc":{"start":{"line":373,"column":4},"end":{"line":378,"column":5}},"declarations":[{"type":"VariableDeclarator","start":12080,"end":12173,"loc":{"start":{"line":373,"column":10},"end":{"line":378,"column":5}},"id":{"type":"Identifier","start":12080,"end":12085,"loc":{"start":{"line":373,"column":10},"end":{"line":373,"column":15},"identifierName":"entry"},"name":"entry"},"init":{"type":"ObjectExpression","start":12088,"end":12173,"loc":{"start":{"line":373,"column":18},"end":{"line":378,"column":5}},"properties":[{"type":"Property","start":12096,"end":12102,"loc":{"start":{"line":374,"column":6},"end":{"line":374,"column":12}},"method":false,"key":{"type":"Identifier","start":12096,"end":12102,"loc":{"start":{"line":374,"column":6},"end":{"line":374,"column":12},"identifierName":"result"},"name":"result"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":12096,"end":12102,"loc":{"start":{"line":374,"column":6},"end":{"line":374,"column":12},"identifierName":"result"},"name":"result"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":12110,"end":12118,"loc":{"start":{"line":375,"column":6},"end":{"line":375,"column":14}},"method":false,"key":{"type":"Identifier","start":12110,"end":12118,"loc":{"start":{"line":375,"column":6},"end":{"line":375,"column":14},"identifierName":"stepName"},"name":"stepName"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":12110,"end":12118,"loc":{"start":{"line":375,"column":6},"end":{"line":375,"column":14},"identifierName":"stepName"},"name":"stepName"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":12126,"end":12139,"loc":{"start":{"line":376,"column":6},"end":{"line":376,"column":19}},"method":false,"key":{"type":"Identifier","start":12126,"end":12128,"loc":{"start":{"line":376,"column":6},"end":{"line":376,"column":8},"identifierName":"id"},"name":"id"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":12130,"end":12139,"loc":{"start":{"line":376,"column":10},"end":{"line":376,"column":19}},"object":{"type":"Identifier","start":12130,"end":12136,"loc":{"start":{"line":376,"column":10},"end":{"line":376,"column":16},"identifierName":"result"},"name":"result"},"computed":false,"property":{"type":"Identifier","start":12137,"end":12139,"loc":{"start":{"line":376,"column":17},"end":{"line":376,"column":19},"identifierName":"id"},"name":"id"},"optional":false},"kind":"init"},{"type":"Property","start":12147,"end":12167,"loc":{"start":{"line":377,"column":6},"end":{"line":377,"column":26}},"method":false,"key":{"type":"Identifier","start":12147,"end":12155,"loc":{"start":{"line":377,"column":6},"end":{"line":377,"column":14},"identifierName":"assembly"},"name":"assembly"},"computed":false,"shorthand":false,"value":{"type":"Identifier","start":12157,"end":12167,"loc":{"start":{"line":377,"column":16},"end":{"line":377,"column":26},"identifierName":"assemblyId"},"name":"assemblyId"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":12179,"end":12248,"loc":{"start":{"line":380,"column":4},"end":{"line":382,"column":6}},"expression":{"type":"CallExpression","start":12179,"end":12248,"loc":{"start":{"line":380,"column":4},"end":{"line":382,"column":6}},"callee":{"type":"MemberExpression","start":12179,"end":12198,"loc":{"start":{"line":380,"column":4},"end":{"line":380,"column":23}},"object":{"type":"ThisExpression","start":12179,"end":12183,"loc":{"start":{"line":380,"column":4},"end":{"line":380,"column":8}}},"computed":false,"property":{"type":"Identifier","start":12184,"end":12198,"loc":{"start":{"line":380,"column":9},"end":{"line":380,"column":23},"identifierName":"setPluginState"},"name":"setPluginState"},"optional":false},"arguments":[{"type":"ObjectExpression","start":12199,"end":12247,"loc":{"start":{"line":380,"column":24},"end":{"line":382,"column":5}},"properties":[{"type":"Property","start":12207,"end":12241,"loc":{"start":{"line":381,"column":6},"end":{"line":381,"column":40}},"method":false,"key":{"type":"Identifier","start":12207,"end":12214,"loc":{"start":{"line":381,"column":6},"end":{"line":381,"column":13},"identifierName":"results"},"name":"results"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","start":12216,"end":12241,"loc":{"start":{"line":381,"column":15},"end":{"line":381,"column":40}},"elements":[{"type":"SpreadElement","start":12217,"end":12233,"loc":{"start":{"line":381,"column":16},"end":{"line":381,"column":32}},"argument":{"type":"MemberExpression","start":12220,"end":12233,"loc":{"start":{"line":381,"column":19},"end":{"line":381,"column":32}},"object":{"type":"Identifier","start":12220,"end":12225,"loc":{"start":{"line":381,"column":19},"end":{"line":381,"column":24},"identifierName":"state"},"name":"state"},"computed":false,"property":{"type":"Identifier","start":12226,"end":12233,"loc":{"start":{"line":381,"column":25},"end":{"line":381,"column":32},"identifierName":"results"},"name":"results"},"optional":false}},{"type":"Identifier","start":12235,"end":12240,"loc":{"start":{"line":381,"column":34},"end":{"line":381,"column":39},"identifierName":"entry"},"name":"entry"}]},"kind":"init"}]}],"optional":false}},{"type":"ExpressionStatement","start":12253,"end":12337,"loc":{"start":{"line":383,"column":4},"end":{"line":383,"column":88}},"expression":{"type":"CallExpression","start":12253,"end":12337,"loc":{"start":{"line":383,"column":4},"end":{"line":383,"column":88}},"callee":{"type":"MemberExpression","start":12253,"end":12267,"loc":{"start":{"line":383,"column":4},"end":{"line":383,"column":18}},"object":{"type":"MemberExpression","start":12253,"end":12262,"loc":{"start":{"line":383,"column":4},"end":{"line":383,"column":13}},"object":{"type":"ThisExpression","start":12253,"end":12257,"loc":{"start":{"line":383,"column":4},"end":{"line":383,"column":8}}},"computed":false,"property":{"type":"Identifier","start":12258,"end":12262,"loc":{"start":{"line":383,"column":9},"end":{"line":383,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":12263,"end":12267,"loc":{"start":{"line":383,"column":14},"end":{"line":383,"column":18},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":12268,"end":12288,"loc":{"start":{"line":383,"column":19},"end":{"line":383,"column":39}},"value":"transloadit:result","raw":"'transloadit:result'"},{"type":"Identifier","start":12290,"end":12298,"loc":{"start":{"line":383,"column":41},"end":{"line":383,"column":49},"identifierName":"stepName"},"name":"stepName"},{"type":"Identifier","start":12300,"end":12306,"loc":{"start":{"line":383,"column":51},"end":{"line":383,"column":57},"identifierName":"result"},"name":"result"},{"type":"CallExpression","start":12308,"end":12336,"loc":{"start":{"line":383,"column":59},"end":{"line":383,"column":87}},"callee":{"type":"MemberExpression","start":12308,"end":12324,"loc":{"start":{"line":383,"column":59},"end":{"line":383,"column":75}},"object":{"type":"ThisExpression","start":12308,"end":12312,"loc":{"start":{"line":383,"column":59},"end":{"line":383,"column":63}}},"computed":false,"property":{"type":"Identifier","start":12313,"end":12324,"loc":{"start":{"line":383,"column":64},"end":{"line":383,"column":75},"identifierName":"getAssembly"},"name":"getAssembly"},"optional":false},"arguments":[{"type":"Identifier","start":12325,"end":12335,"loc":{"start":{"line":383,"column":76},"end":{"line":383,"column":86},"identifierName":"assemblyId"},"name":"assemblyId"}],"optional":false}],"optional":false}}]}},"leadingComments":[{"type":"CommentBlock","value":"*\n   * Callback when a new Assembly result comes in.\n   *\n   * @param {string} assemblyId\n   * @param {string} stepName\n   * @param {object} result\n   ","start":11650,"end":11805,"loc":{"start":{"line":360,"column":2},"end":{"line":366,"column":5}}}],"trailingComments":[{"type":"CommentBlock","value":"*\n   * When an Assembly has finished processing, get the final state\n   * and emit it.\n   *\n   * @param {object} status\n   ","start":12345,"end":12472,"loc":{"start":{"line":386,"column":2},"end":{"line":391,"column":5}}}]},{"type":"MethodDefinition","start":12475,"end":12904,"loc":{"start":{"line":392,"column":2},"end":{"line":405,"column":3}},"static":false,"key":{"type":"Identifier","start":12475,"end":12494,"loc":{"start":{"line":392,"column":2},"end":{"line":392,"column":21},"identifierName":"_onAssemblyFinished"},"name":"_onAssemblyFinished"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":12495,"end":12904,"loc":{"start":{"line":392,"column":22},"end":{"line":405,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":12496,"end":12502,"loc":{"start":{"line":392,"column":23},"end":{"line":392,"column":29},"identifierName":"status"},"name":"status"}],"body":{"type":"BlockStatement","start":12504,"end":12904,"loc":{"start":{"line":392,"column":31},"end":{"line":405,"column":3}},"body":[{"type":"VariableDeclaration","start":12510,"end":12545,"loc":{"start":{"line":393,"column":4},"end":{"line":393,"column":39}},"declarations":[{"type":"VariableDeclarator","start":12516,"end":12545,"loc":{"start":{"line":393,"column":10},"end":{"line":393,"column":39}},"id":{"type":"Identifier","start":12516,"end":12519,"loc":{"start":{"line":393,"column":10},"end":{"line":393,"column":13},"identifierName":"url"},"name":"url"},"init":{"type":"MemberExpression","start":12522,"end":12545,"loc":{"start":{"line":393,"column":16},"end":{"line":393,"column":39}},"object":{"type":"Identifier","start":12522,"end":12528,"loc":{"start":{"line":393,"column":16},"end":{"line":393,"column":22},"identifierName":"status"},"name":"status"},"computed":false,"property":{"type":"Identifier","start":12529,"end":12545,"loc":{"start":{"line":393,"column":23},"end":{"line":393,"column":39},"identifierName":"assembly_ssl_url"},"name":"assembly_ssl_url"},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":12550,"end":12900,"loc":{"start":{"line":394,"column":4},"end":{"line":404,"column":6}},"expression":{"type":"CallExpression","start":12550,"end":12900,"loc":{"start":{"line":394,"column":4},"end":{"line":404,"column":6}},"callee":{"type":"MemberExpression","start":12550,"end":12589,"loc":{"start":{"line":394,"column":4},"end":{"line":394,"column":43}},"object":{"type":"CallExpression","start":12550,"end":12584,"loc":{"start":{"line":394,"column":4},"end":{"line":394,"column":38}},"callee":{"type":"MemberExpression","start":12550,"end":12579,"loc":{"start":{"line":394,"column":4},"end":{"line":394,"column":33}},"object":{"type":"MemberExpression","start":12550,"end":12561,"loc":{"start":{"line":394,"column":4},"end":{"line":394,"column":15}},"object":{"type":"ThisExpression","start":12550,"end":12554,"loc":{"start":{"line":394,"column":4},"end":{"line":394,"column":8}}},"computed":false,"property":{"type":"Identifier","start":12555,"end":12561,"loc":{"start":{"line":394,"column":9},"end":{"line":394,"column":15},"identifierName":"client"},"name":"client"},"optional":false},"computed":false,"property":{"type":"Identifier","start":12562,"end":12579,"loc":{"start":{"line":394,"column":16},"end":{"line":394,"column":33},"identifierName":"getAssemblyStatus"},"name":"getAssemblyStatus"},"optional":false},"arguments":[{"type":"Identifier","start":12580,"end":12583,"loc":{"start":{"line":394,"column":34},"end":{"line":394,"column":37},"identifierName":"url"},"name":"url"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":12585,"end":12589,"loc":{"start":{"line":394,"column":39},"end":{"line":394,"column":43},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":12590,"end":12899,"loc":{"start":{"line":394,"column":44},"end":{"line":404,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":12591,"end":12602,"loc":{"start":{"line":394,"column":45},"end":{"line":394,"column":56},"identifierName":"finalStatus"},"name":"finalStatus"}],"body":{"type":"BlockStatement","start":12607,"end":12899,"loc":{"start":{"line":394,"column":61},"end":{"line":404,"column":5}},"body":[{"type":"VariableDeclaration","start":12615,"end":12657,"loc":{"start":{"line":395,"column":6},"end":{"line":395,"column":48}},"declarations":[{"type":"VariableDeclarator","start":12621,"end":12657,"loc":{"start":{"line":395,"column":12},"end":{"line":395,"column":48}},"id":{"type":"Identifier","start":12621,"end":12631,"loc":{"start":{"line":395,"column":12},"end":{"line":395,"column":22},"identifierName":"assemblyId"},"name":"assemblyId"},"init":{"type":"MemberExpression","start":12634,"end":12657,"loc":{"start":{"line":395,"column":25},"end":{"line":395,"column":48}},"object":{"type":"Identifier","start":12634,"end":12645,"loc":{"start":{"line":395,"column":25},"end":{"line":395,"column":36},"identifierName":"finalStatus"},"name":"finalStatus"},"computed":false,"property":{"type":"Identifier","start":12646,"end":12657,"loc":{"start":{"line":395,"column":37},"end":{"line":395,"column":48},"identifierName":"assembly_id"},"name":"assembly_id"},"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":12664,"end":12699,"loc":{"start":{"line":396,"column":6},"end":{"line":396,"column":41}},"declarations":[{"type":"VariableDeclarator","start":12670,"end":12699,"loc":{"start":{"line":396,"column":12},"end":{"line":396,"column":41}},"id":{"type":"Identifier","start":12670,"end":12675,"loc":{"start":{"line":396,"column":12},"end":{"line":396,"column":17},"identifierName":"state"},"name":"state"},"init":{"type":"CallExpression","start":12678,"end":12699,"loc":{"start":{"line":396,"column":20},"end":{"line":396,"column":41}},"callee":{"type":"MemberExpression","start":12678,"end":12697,"loc":{"start":{"line":396,"column":20},"end":{"line":396,"column":39}},"object":{"type":"ThisExpression","start":12678,"end":12682,"loc":{"start":{"line":396,"column":20},"end":{"line":396,"column":24}}},"computed":false,"property":{"type":"Identifier","start":12683,"end":12697,"loc":{"start":{"line":396,"column":25},"end":{"line":396,"column":39},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":12706,"end":12835,"loc":{"start":{"line":397,"column":6},"end":{"line":402,"column":8}},"expression":{"type":"CallExpression","start":12706,"end":12835,"loc":{"start":{"line":397,"column":6},"end":{"line":402,"column":8}},"callee":{"type":"MemberExpression","start":12706,"end":12725,"loc":{"start":{"line":397,"column":6},"end":{"line":397,"column":25}},"object":{"type":"ThisExpression","start":12706,"end":12710,"loc":{"start":{"line":397,"column":6},"end":{"line":397,"column":10}}},"computed":false,"property":{"type":"Identifier","start":12711,"end":12725,"loc":{"start":{"line":397,"column":11},"end":{"line":397,"column":25},"identifierName":"setPluginState"},"name":"setPluginState"},"optional":false},"arguments":[{"type":"ObjectExpression","start":12726,"end":12834,"loc":{"start":{"line":397,"column":26},"end":{"line":402,"column":7}},"properties":[{"type":"Property","start":12736,"end":12826,"loc":{"start":{"line":398,"column":8},"end":{"line":401,"column":9}},"method":false,"key":{"type":"Identifier","start":12736,"end":12746,"loc":{"start":{"line":398,"column":8},"end":{"line":398,"column":18},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":12748,"end":12826,"loc":{"start":{"line":398,"column":20},"end":{"line":401,"column":9}},"properties":[{"type":"SpreadElement","start":12760,"end":12779,"loc":{"start":{"line":399,"column":10},"end":{"line":399,"column":29}},"argument":{"type":"MemberExpression","start":12763,"end":12779,"loc":{"start":{"line":399,"column":13},"end":{"line":399,"column":29}},"object":{"type":"Identifier","start":12763,"end":12768,"loc":{"start":{"line":399,"column":13},"end":{"line":399,"column":18},"identifierName":"state"},"name":"state"},"computed":false,"property":{"type":"Identifier","start":12769,"end":12779,"loc":{"start":{"line":399,"column":19},"end":{"line":399,"column":29},"identifierName":"assemblies"},"name":"assemblies"},"optional":false}},{"type":"Property","start":12791,"end":12816,"loc":{"start":{"line":400,"column":10},"end":{"line":400,"column":35}},"method":false,"computed":true,"key":{"type":"Identifier","start":12792,"end":12802,"loc":{"start":{"line":400,"column":11},"end":{"line":400,"column":21},"identifierName":"assemblyId"},"name":"assemblyId"},"shorthand":false,"value":{"type":"Identifier","start":12805,"end":12816,"loc":{"start":{"line":400,"column":24},"end":{"line":400,"column":35},"identifierName":"finalStatus"},"name":"finalStatus"},"kind":"init"}]},"kind":"init"}]}],"optional":false}},{"type":"ExpressionStatement","start":12842,"end":12893,"loc":{"start":{"line":403,"column":6},"end":{"line":403,"column":57}},"expression":{"type":"CallExpression","start":12842,"end":12893,"loc":{"start":{"line":403,"column":6},"end":{"line":403,"column":57}},"callee":{"type":"MemberExpression","start":12842,"end":12856,"loc":{"start":{"line":403,"column":6},"end":{"line":403,"column":20}},"object":{"type":"MemberExpression","start":12842,"end":12851,"loc":{"start":{"line":403,"column":6},"end":{"line":403,"column":15}},"object":{"type":"ThisExpression","start":12842,"end":12846,"loc":{"start":{"line":403,"column":6},"end":{"line":403,"column":10}}},"computed":false,"property":{"type":"Identifier","start":12847,"end":12851,"loc":{"start":{"line":403,"column":11},"end":{"line":403,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":12852,"end":12856,"loc":{"start":{"line":403,"column":16},"end":{"line":403,"column":20},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":12857,"end":12879,"loc":{"start":{"line":403,"column":21},"end":{"line":403,"column":43}},"value":"transloadit:complete","raw":"'transloadit:complete'"},{"type":"Identifier","start":12881,"end":12892,"loc":{"start":{"line":403,"column":45},"end":{"line":403,"column":56},"identifierName":"finalStatus"},"name":"finalStatus"}],"optional":false}}]}}],"optional":false}}]}},"leadingComments":[{"type":"CommentBlock","value":"*\n   * When an Assembly has finished processing, get the final state\n   * and emit it.\n   *\n   * @param {object} status\n   ","start":12345,"end":12472,"loc":{"start":{"line":386,"column":2},"end":{"line":391,"column":5}}}]},{"type":"MethodDefinition","start":12908,"end":13168,"loc":{"start":{"line":407,"column":2},"end":{"line":412,"column":3}},"static":false,"key":{"type":"Identifier","start":12908,"end":12923,"loc":{"start":{"line":407,"column":2},"end":{"line":407,"column":17},"identifierName":"_cancelAssembly"},"name":"_cancelAssembly"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":12924,"end":13168,"loc":{"start":{"line":407,"column":18},"end":{"line":412,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":12925,"end":12933,"loc":{"start":{"line":407,"column":19},"end":{"line":407,"column":27},"identifierName":"assembly"},"name":"assembly"}],"body":{"type":"BlockStatement","start":12935,"end":13168,"loc":{"start":{"line":407,"column":29},"end":{"line":412,"column":3}},"body":[{"type":"ReturnStatement","start":12941,"end":13164,"loc":{"start":{"line":408,"column":4},"end":{"line":411,"column":6}},"argument":{"type":"CallExpression","start":12948,"end":13164,"loc":{"start":{"line":408,"column":11},"end":{"line":411,"column":6}},"callee":{"type":"MemberExpression","start":12948,"end":12989,"loc":{"start":{"line":408,"column":11},"end":{"line":408,"column":52}},"object":{"type":"CallExpression","start":12948,"end":12984,"loc":{"start":{"line":408,"column":11},"end":{"line":408,"column":47}},"callee":{"type":"MemberExpression","start":12948,"end":12974,"loc":{"start":{"line":408,"column":11},"end":{"line":408,"column":37}},"object":{"type":"MemberExpression","start":12948,"end":12959,"loc":{"start":{"line":408,"column":11},"end":{"line":408,"column":22}},"object":{"type":"ThisExpression","start":12948,"end":12952,"loc":{"start":{"line":408,"column":11},"end":{"line":408,"column":15}}},"computed":false,"property":{"type":"Identifier","start":12953,"end":12959,"loc":{"start":{"line":408,"column":16},"end":{"line":408,"column":22},"identifierName":"client"},"name":"client"},"optional":false},"computed":false,"property":{"type":"Identifier","start":12960,"end":12974,"loc":{"start":{"line":408,"column":23},"end":{"line":408,"column":37},"identifierName":"cancelAssembly"},"name":"cancelAssembly"},"optional":false},"arguments":[{"type":"Identifier","start":12975,"end":12983,"loc":{"start":{"line":408,"column":38},"end":{"line":408,"column":46},"identifierName":"assembly"},"name":"assembly"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":12985,"end":12989,"loc":{"start":{"line":408,"column":48},"end":{"line":408,"column":52},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":12990,"end":13163,"loc":{"start":{"line":408,"column":53},"end":{"line":411,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":12996,"end":13163,"loc":{"start":{"line":408,"column":59},"end":{"line":411,"column":5}},"body":[{"type":"ExpressionStatement","start":13099,"end":13157,"loc":{"start":{"line":410,"column":6},"end":{"line":410,"column":64}},"expression":{"type":"CallExpression","start":13099,"end":13157,"loc":{"start":{"line":410,"column":6},"end":{"line":410,"column":64}},"callee":{"type":"MemberExpression","start":13099,"end":13113,"loc":{"start":{"line":410,"column":6},"end":{"line":410,"column":20}},"object":{"type":"MemberExpression","start":13099,"end":13108,"loc":{"start":{"line":410,"column":6},"end":{"line":410,"column":15}},"object":{"type":"ThisExpression","start":13099,"end":13103,"loc":{"start":{"line":410,"column":6},"end":{"line":410,"column":10}}},"computed":false,"property":{"type":"Identifier","start":13104,"end":13108,"loc":{"start":{"line":410,"column":11},"end":{"line":410,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":13109,"end":13113,"loc":{"start":{"line":410,"column":16},"end":{"line":410,"column":20},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":13114,"end":13146,"loc":{"start":{"line":410,"column":21},"end":{"line":410,"column":53}},"value":"transloadit:assembly-cancelled","raw":"'transloadit:assembly-cancelled'"},{"type":"Identifier","start":13148,"end":13156,"loc":{"start":{"line":410,"column":55},"end":{"line":410,"column":63},"identifierName":"assembly"},"name":"assembly"}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" TODO bubble this through AssemblyWatcher so its event handlers can clean up correctly","start":13004,"end":13092,"loc":{"start":{"line":409,"column":6},"end":{"line":409,"column":94}}}]}]}}],"optional":false}}]}},"trailingComments":[{"type":"CommentBlock","value":"*\n   * When all files are removed, cancel in-progress Assemblies.\n   ","start":13172,"end":13245,"loc":{"start":{"line":414,"column":2},"end":{"line":416,"column":5}}}]},{"type":"MethodDefinition","start":13248,"end":13731,"loc":{"start":{"line":417,"column":2},"end":{"line":433,"column":3}},"static":false,"key":{"type":"Identifier","start":13248,"end":13260,"loc":{"start":{"line":417,"column":2},"end":{"line":417,"column":14},"identifierName":"_onCancelAll"},"name":"_onCancelAll"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":13261,"end":13731,"loc":{"start":{"line":417,"column":15},"end":{"line":433,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":13264,"end":13731,"loc":{"start":{"line":417,"column":18},"end":{"line":433,"column":3}},"body":[{"type":"VariableDeclaration","start":13270,"end":13321,"loc":{"start":{"line":418,"column":4},"end":{"line":418,"column":55}},"declarations":[{"type":"VariableDeclarator","start":13276,"end":13321,"loc":{"start":{"line":418,"column":10},"end":{"line":418,"column":55}},"id":{"type":"ObjectPattern","start":13276,"end":13297,"loc":{"start":{"line":418,"column":10},"end":{"line":418,"column":31}},"properties":[{"type":"Property","start":13278,"end":13295,"loc":{"start":{"line":418,"column":12},"end":{"line":418,"column":29}},"method":false,"key":{"type":"Identifier","start":13278,"end":13295,"loc":{"start":{"line":418,"column":12},"end":{"line":418,"column":29},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":13278,"end":13295,"loc":{"start":{"line":418,"column":12},"end":{"line":418,"column":29},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"CallExpression","start":13300,"end":13321,"loc":{"start":{"line":418,"column":34},"end":{"line":418,"column":55}},"callee":{"type":"MemberExpression","start":13300,"end":13319,"loc":{"start":{"line":418,"column":34},"end":{"line":418,"column":53}},"object":{"type":"ThisExpression","start":13300,"end":13304,"loc":{"start":{"line":418,"column":34},"end":{"line":418,"column":38}}},"computed":false,"property":{"type":"Identifier","start":13305,"end":13319,"loc":{"start":{"line":418,"column":39},"end":{"line":418,"column":53},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":13327,"end":13480,"loc":{"start":{"line":420,"column":4},"end":{"line":423,"column":10}},"declarations":[{"type":"VariableDeclarator","start":13333,"end":13480,"loc":{"start":{"line":420,"column":10},"end":{"line":423,"column":10}},"id":{"type":"Identifier","start":13333,"end":13344,"loc":{"start":{"line":420,"column":10},"end":{"line":420,"column":21},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},"init":{"type":"CallExpression","start":13347,"end":13480,"loc":{"start":{"line":420,"column":24},"end":{"line":423,"column":10}},"callee":{"type":"MemberExpression","start":13347,"end":13384,"loc":{"start":{"line":420,"column":24},"end":{"line":420,"column":61}},"object":{"type":"CallExpression","start":13347,"end":13377,"loc":{"start":{"line":420,"column":24},"end":{"line":420,"column":54}},"callee":{"type":"MemberExpression","start":13347,"end":13358,"loc":{"start":{"line":420,"column":24},"end":{"line":420,"column":35}},"object":{"type":"Identifier","start":13347,"end":13353,"loc":{"start":{"line":420,"column":24},"end":{"line":420,"column":30},"identifierName":"Object"},"name":"Object"},"computed":false,"property":{"type":"Identifier","start":13354,"end":13358,"loc":{"start":{"line":420,"column":31},"end":{"line":420,"column":35},"identifierName":"keys"},"name":"keys"},"optional":false},"arguments":[{"type":"Identifier","start":13359,"end":13376,"loc":{"start":{"line":420,"column":36},"end":{"line":420,"column":53},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":13378,"end":13384,"loc":{"start":{"line":420,"column":55},"end":{"line":420,"column":61},"identifierName":"reduce"},"name":"reduce"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":13385,"end":13475,"loc":{"start":{"line":420,"column":62},"end":{"line":423,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":13386,"end":13389,"loc":{"start":{"line":420,"column":63},"end":{"line":420,"column":66},"identifierName":"acc"},"name":"acc"},{"type":"Identifier","start":13391,"end":13399,"loc":{"start":{"line":420,"column":68},"end":{"line":420,"column":76},"identifierName":"uploadID"},"name":"uploadID"}],"body":{"type":"BlockStatement","start":13404,"end":13475,"loc":{"start":{"line":420,"column":81},"end":{"line":423,"column":5}},"body":[{"type":"ExpressionStatement","start":13412,"end":13452,"loc":{"start":{"line":421,"column":6},"end":{"line":421,"column":46}},"expression":{"type":"CallExpression","start":13412,"end":13452,"loc":{"start":{"line":421,"column":6},"end":{"line":421,"column":46}},"callee":{"type":"MemberExpression","start":13412,"end":13420,"loc":{"start":{"line":421,"column":6},"end":{"line":421,"column":14}},"object":{"type":"Identifier","start":13412,"end":13415,"loc":{"start":{"line":421,"column":6},"end":{"line":421,"column":9},"identifierName":"acc"},"name":"acc"},"computed":false,"property":{"type":"Identifier","start":13416,"end":13420,"loc":{"start":{"line":421,"column":10},"end":{"line":421,"column":14},"identifierName":"push"},"name":"push"},"optional":false},"arguments":[{"type":"SpreadElement","start":13421,"end":13451,"loc":{"start":{"line":421,"column":15},"end":{"line":421,"column":45}},"argument":{"type":"MemberExpression","start":13424,"end":13451,"loc":{"start":{"line":421,"column":18},"end":{"line":421,"column":45}},"object":{"type":"Identifier","start":13424,"end":13441,"loc":{"start":{"line":421,"column":18},"end":{"line":421,"column":35},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":true,"property":{"type":"Identifier","start":13442,"end":13450,"loc":{"start":{"line":421,"column":36},"end":{"line":421,"column":44},"identifierName":"uploadID"},"name":"uploadID"},"optional":false}}],"optional":false}},{"type":"ReturnStatement","start":13459,"end":13469,"loc":{"start":{"line":422,"column":6},"end":{"line":422,"column":16}},"argument":{"type":"Identifier","start":13466,"end":13469,"loc":{"start":{"line":422,"column":13},"end":{"line":422,"column":16},"identifierName":"acc"},"name":"acc"}}]}},{"type":"ArrayExpression","start":13477,"end":13479,"loc":{"start":{"line":423,"column":7},"end":{"line":423,"column":9}},"elements":[]}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":13486,"end":13645,"loc":{"start":{"line":425,"column":4},"end":{"line":428,"column":6}},"declarations":[{"type":"VariableDeclarator","start":13492,"end":13645,"loc":{"start":{"line":425,"column":10},"end":{"line":428,"column":6}},"id":{"type":"Identifier","start":13492,"end":13506,"loc":{"start":{"line":425,"column":10},"end":{"line":425,"column":24},"identifierName":"cancelPromises"},"name":"cancelPromises"},"init":{"type":"CallExpression","start":13509,"end":13645,"loc":{"start":{"line":425,"column":27},"end":{"line":428,"column":6}},"callee":{"type":"MemberExpression","start":13509,"end":13524,"loc":{"start":{"line":425,"column":27},"end":{"line":425,"column":42}},"object":{"type":"Identifier","start":13509,"end":13520,"loc":{"start":{"line":425,"column":27},"end":{"line":425,"column":38},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},"computed":false,"property":{"type":"Identifier","start":13521,"end":13524,"loc":{"start":{"line":425,"column":39},"end":{"line":425,"column":42},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":13525,"end":13644,"loc":{"start":{"line":425,"column":43},"end":{"line":428,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":13526,"end":13536,"loc":{"start":{"line":425,"column":44},"end":{"line":425,"column":54},"identifierName":"assemblyID"},"name":"assemblyID"}],"body":{"type":"BlockStatement","start":13541,"end":13644,"loc":{"start":{"line":425,"column":59},"end":{"line":428,"column":5}},"body":[{"type":"VariableDeclaration","start":13549,"end":13594,"loc":{"start":{"line":426,"column":6},"end":{"line":426,"column":51}},"declarations":[{"type":"VariableDeclarator","start":13555,"end":13594,"loc":{"start":{"line":426,"column":12},"end":{"line":426,"column":51}},"id":{"type":"Identifier","start":13555,"end":13563,"loc":{"start":{"line":426,"column":12},"end":{"line":426,"column":20},"identifierName":"assembly"},"name":"assembly"},"init":{"type":"CallExpression","start":13566,"end":13594,"loc":{"start":{"line":426,"column":23},"end":{"line":426,"column":51}},"callee":{"type":"MemberExpression","start":13566,"end":13582,"loc":{"start":{"line":426,"column":23},"end":{"line":426,"column":39}},"object":{"type":"ThisExpression","start":13566,"end":13570,"loc":{"start":{"line":426,"column":23},"end":{"line":426,"column":27}}},"computed":false,"property":{"type":"Identifier","start":13571,"end":13582,"loc":{"start":{"line":426,"column":28},"end":{"line":426,"column":39},"identifierName":"getAssembly"},"name":"getAssembly"},"optional":false},"arguments":[{"type":"Identifier","start":13583,"end":13593,"loc":{"start":{"line":426,"column":40},"end":{"line":426,"column":50},"identifierName":"assemblyID"},"name":"assemblyID"}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":13601,"end":13638,"loc":{"start":{"line":427,"column":6},"end":{"line":427,"column":43}},"argument":{"type":"CallExpression","start":13608,"end":13638,"loc":{"start":{"line":427,"column":13},"end":{"line":427,"column":43}},"callee":{"type":"MemberExpression","start":13608,"end":13628,"loc":{"start":{"line":427,"column":13},"end":{"line":427,"column":33}},"object":{"type":"ThisExpression","start":13608,"end":13612,"loc":{"start":{"line":427,"column":13},"end":{"line":427,"column":17}}},"computed":false,"property":{"type":"Identifier","start":13613,"end":13628,"loc":{"start":{"line":427,"column":18},"end":{"line":427,"column":33},"identifierName":"_cancelAssembly"},"name":"_cancelAssembly"},"optional":false},"arguments":[{"type":"Identifier","start":13629,"end":13637,"loc":{"start":{"line":427,"column":34},"end":{"line":427,"column":42},"identifierName":"assembly"},"name":"assembly"}],"optional":false}}]}}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":13651,"end":13727,"loc":{"start":{"line":430,"column":4},"end":{"line":432,"column":6}},"expression":{"type":"CallExpression","start":13651,"end":13727,"loc":{"start":{"line":430,"column":4},"end":{"line":432,"column":6}},"callee":{"type":"MemberExpression","start":13651,"end":13684,"loc":{"start":{"line":430,"column":4},"end":{"line":430,"column":37}},"object":{"type":"CallExpression","start":13651,"end":13678,"loc":{"start":{"line":430,"column":4},"end":{"line":430,"column":31}},"callee":{"type":"MemberExpression","start":13651,"end":13662,"loc":{"start":{"line":430,"column":4},"end":{"line":430,"column":15}},"object":{"type":"Identifier","start":13651,"end":13658,"loc":{"start":{"line":430,"column":4},"end":{"line":430,"column":11},"identifierName":"Promise"},"name":"Promise"},"computed":false,"property":{"type":"Identifier","start":13659,"end":13662,"loc":{"start":{"line":430,"column":12},"end":{"line":430,"column":15},"identifierName":"all"},"name":"all"},"optional":false},"arguments":[{"type":"Identifier","start":13663,"end":13677,"loc":{"start":{"line":430,"column":16},"end":{"line":430,"column":30},"identifierName":"cancelPromises"},"name":"cancelPromises"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":13679,"end":13684,"loc":{"start":{"line":430,"column":32},"end":{"line":430,"column":37},"identifierName":"catch"},"name":"catch"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":13685,"end":13726,"loc":{"start":{"line":430,"column":38},"end":{"line":432,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":13686,"end":13689,"loc":{"start":{"line":430,"column":39},"end":{"line":430,"column":42},"identifierName":"err"},"name":"err"}],"body":{"type":"BlockStatement","start":13694,"end":13726,"loc":{"start":{"line":430,"column":47},"end":{"line":432,"column":5}},"body":[{"type":"ExpressionStatement","start":13702,"end":13720,"loc":{"start":{"line":431,"column":6},"end":{"line":431,"column":24}},"expression":{"type":"CallExpression","start":13702,"end":13720,"loc":{"start":{"line":431,"column":6},"end":{"line":431,"column":24}},"callee":{"type":"MemberExpression","start":13702,"end":13715,"loc":{"start":{"line":431,"column":6},"end":{"line":431,"column":19}},"object":{"type":"MemberExpression","start":13702,"end":13711,"loc":{"start":{"line":431,"column":6},"end":{"line":431,"column":15}},"object":{"type":"ThisExpression","start":13702,"end":13706,"loc":{"start":{"line":431,"column":6},"end":{"line":431,"column":10}}},"computed":false,"property":{"type":"Identifier","start":13707,"end":13711,"loc":{"start":{"line":431,"column":11},"end":{"line":431,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":13712,"end":13715,"loc":{"start":{"line":431,"column":16},"end":{"line":431,"column":19},"identifierName":"log"},"name":"log"},"optional":false},"arguments":[{"type":"Identifier","start":13716,"end":13719,"loc":{"start":{"line":431,"column":20},"end":{"line":431,"column":23},"identifierName":"err"},"name":"err"}],"optional":false}}]}}],"optional":false}}]}},"leadingComments":[{"type":"CommentBlock","value":"*\n   * When all files are removed, cancel in-progress Assemblies.\n   ","start":13172,"end":13245,"loc":{"start":{"line":414,"column":2},"end":{"line":416,"column":5}}}],"trailingComments":[{"type":"CommentBlock","value":"*\n   * Custom state serialization for the Golden Retriever plugin.\n   * It will pass this back to the `_onRestored` function.\n   *\n   * @param {Function} setData\n   ","start":13735,"end":13904,"loc":{"start":{"line":435,"column":2},"end":{"line":440,"column":5}}}]},{"type":"MethodDefinition","start":13907,"end":14170,"loc":{"start":{"line":441,"column":2},"end":{"line":452,"column":3}},"static":false,"key":{"type":"Identifier","start":13907,"end":13925,"loc":{"start":{"line":441,"column":2},"end":{"line":441,"column":20},"identifierName":"_getPersistentData"},"name":"_getPersistentData"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":13926,"end":14170,"loc":{"start":{"line":441,"column":21},"end":{"line":452,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":13927,"end":13934,"loc":{"start":{"line":441,"column":22},"end":{"line":441,"column":29},"identifierName":"setData"},"name":"setData"}],"body":{"type":"BlockStatement","start":13936,"end":14170,"loc":{"start":{"line":441,"column":31},"end":{"line":452,"column":3}},"body":[{"type":"VariableDeclaration","start":13942,"end":13977,"loc":{"start":{"line":442,"column":4},"end":{"line":442,"column":39}},"declarations":[{"type":"VariableDeclarator","start":13948,"end":13977,"loc":{"start":{"line":442,"column":10},"end":{"line":442,"column":39}},"id":{"type":"Identifier","start":13948,"end":13953,"loc":{"start":{"line":442,"column":10},"end":{"line":442,"column":15},"identifierName":"state"},"name":"state"},"init":{"type":"CallExpression","start":13956,"end":13977,"loc":{"start":{"line":442,"column":18},"end":{"line":442,"column":39}},"callee":{"type":"MemberExpression","start":13956,"end":13975,"loc":{"start":{"line":442,"column":18},"end":{"line":442,"column":37}},"object":{"type":"ThisExpression","start":13956,"end":13960,"loc":{"start":{"line":442,"column":18},"end":{"line":442,"column":22}}},"computed":false,"property":{"type":"Identifier","start":13961,"end":13975,"loc":{"start":{"line":442,"column":23},"end":{"line":442,"column":37},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":13982,"end":14017,"loc":{"start":{"line":443,"column":4},"end":{"line":443,"column":39}},"declarations":[{"type":"VariableDeclarator","start":13988,"end":14017,"loc":{"start":{"line":443,"column":10},"end":{"line":443,"column":39}},"id":{"type":"Identifier","start":13988,"end":13998,"loc":{"start":{"line":443,"column":10},"end":{"line":443,"column":20},"identifierName":"assemblies"},"name":"assemblies"},"init":{"type":"MemberExpression","start":14001,"end":14017,"loc":{"start":{"line":443,"column":23},"end":{"line":443,"column":39}},"object":{"type":"Identifier","start":14001,"end":14006,"loc":{"start":{"line":443,"column":23},"end":{"line":443,"column":28},"identifierName":"state"},"name":"state"},"computed":false,"property":{"type":"Identifier","start":14007,"end":14017,"loc":{"start":{"line":443,"column":29},"end":{"line":443,"column":39},"identifierName":"assemblies"},"name":"assemblies"},"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":14022,"end":14071,"loc":{"start":{"line":444,"column":4},"end":{"line":444,"column":53}},"declarations":[{"type":"VariableDeclarator","start":14028,"end":14071,"loc":{"start":{"line":444,"column":10},"end":{"line":444,"column":53}},"id":{"type":"Identifier","start":14028,"end":14045,"loc":{"start":{"line":444,"column":10},"end":{"line":444,"column":27},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"init":{"type":"MemberExpression","start":14048,"end":14071,"loc":{"start":{"line":444,"column":30},"end":{"line":444,"column":53}},"object":{"type":"Identifier","start":14048,"end":14053,"loc":{"start":{"line":444,"column":30},"end":{"line":444,"column":35},"identifierName":"state"},"name":"state"},"computed":false,"property":{"type":"Identifier","start":14054,"end":14071,"loc":{"start":{"line":444,"column":36},"end":{"line":444,"column":53},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":14077,"end":14166,"loc":{"start":{"line":446,"column":4},"end":{"line":451,"column":6}},"expression":{"type":"CallExpression","start":14077,"end":14166,"loc":{"start":{"line":446,"column":4},"end":{"line":451,"column":6}},"callee":{"type":"Identifier","start":14077,"end":14084,"loc":{"start":{"line":446,"column":4},"end":{"line":446,"column":11},"identifierName":"setData"},"name":"setData"},"arguments":[{"type":"ObjectExpression","start":14085,"end":14165,"loc":{"start":{"line":446,"column":12},"end":{"line":451,"column":5}},"properties":[{"type":"Property","start":14093,"end":14159,"loc":{"start":{"line":447,"column":6},"end":{"line":450,"column":7}},"method":false,"computed":true,"key":{"type":"MemberExpression","start":14094,"end":14101,"loc":{"start":{"line":447,"column":7},"end":{"line":447,"column":14}},"object":{"type":"ThisExpression","start":14094,"end":14098,"loc":{"start":{"line":447,"column":7},"end":{"line":447,"column":11}}},"computed":false,"property":{"type":"Identifier","start":14099,"end":14101,"loc":{"start":{"line":447,"column":12},"end":{"line":447,"column":14},"identifierName":"id"},"name":"id"},"optional":false},"shorthand":false,"value":{"type":"ObjectExpression","start":14104,"end":14159,"loc":{"start":{"line":447,"column":17},"end":{"line":450,"column":7}},"properties":[{"type":"Property","start":14114,"end":14124,"loc":{"start":{"line":448,"column":8},"end":{"line":448,"column":18}},"method":false,"key":{"type":"Identifier","start":14114,"end":14124,"loc":{"start":{"line":448,"column":8},"end":{"line":448,"column":18},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":14114,"end":14124,"loc":{"start":{"line":448,"column":8},"end":{"line":448,"column":18},"identifierName":"assemblies"},"name":"assemblies"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":14134,"end":14151,"loc":{"start":{"line":449,"column":8},"end":{"line":449,"column":25}},"method":false,"key":{"type":"Identifier","start":14134,"end":14151,"loc":{"start":{"line":449,"column":8},"end":{"line":449,"column":25},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":14134,"end":14151,"loc":{"start":{"line":449,"column":8},"end":{"line":449,"column":25},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"kind":"init","extra":{"shorthand":true}}]},"kind":"init"}]}],"optional":false}}]}},"leadingComments":[{"type":"CommentBlock","value":"*\n   * Custom state serialization for the Golden Retriever plugin.\n   * It will pass this back to the `_onRestored` function.\n   *\n   * @param {Function} setData\n   ","start":13735,"end":13904,"loc":{"start":{"line":435,"column":2},"end":{"line":440,"column":5}}}]},{"type":"MethodDefinition","start":14174,"end":17053,"loc":{"start":{"line":454,"column":2},"end":{"line":545,"column":3}},"static":false,"key":{"type":"Identifier","start":14174,"end":14185,"loc":{"start":{"line":454,"column":2},"end":{"line":454,"column":13},"identifierName":"_onRestored"},"name":"_onRestored"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":14186,"end":17053,"loc":{"start":{"line":454,"column":14},"end":{"line":545,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":14187,"end":14197,"loc":{"start":{"line":454,"column":15},"end":{"line":454,"column":25},"identifierName":"pluginData"},"name":"pluginData"}],"body":{"type":"BlockStatement","start":14199,"end":17053,"loc":{"start":{"line":454,"column":27},"end":{"line":545,"column":3}},"body":[{"type":"VariableDeclaration","start":14205,"end":14284,"loc":{"start":{"line":455,"column":4},"end":{"line":455,"column":83}},"declarations":[{"type":"VariableDeclarator","start":14211,"end":14284,"loc":{"start":{"line":455,"column":10},"end":{"line":455,"column":83}},"id":{"type":"Identifier","start":14211,"end":14221,"loc":{"start":{"line":455,"column":10},"end":{"line":455,"column":20},"identifierName":"savedState"},"name":"savedState"},"init":{"type":"ConditionalExpression","start":14224,"end":14284,"loc":{"start":{"line":455,"column":23},"end":{"line":455,"column":83}},"test":{"type":"LogicalExpression","start":14224,"end":14257,"loc":{"start":{"line":455,"column":23},"end":{"line":455,"column":56}},"left":{"type":"Identifier","start":14224,"end":14234,"loc":{"start":{"line":455,"column":23},"end":{"line":455,"column":33},"identifierName":"pluginData"},"name":"pluginData"},"operator":"&&","right":{"type":"MemberExpression","start":14238,"end":14257,"loc":{"start":{"line":455,"column":37},"end":{"line":455,"column":56}},"object":{"type":"Identifier","start":14238,"end":14248,"loc":{"start":{"line":455,"column":37},"end":{"line":455,"column":47},"identifierName":"pluginData"},"name":"pluginData"},"computed":true,"property":{"type":"MemberExpression","start":14249,"end":14256,"loc":{"start":{"line":455,"column":48},"end":{"line":455,"column":55}},"object":{"type":"ThisExpression","start":14249,"end":14253,"loc":{"start":{"line":455,"column":48},"end":{"line":455,"column":52}}},"computed":false,"property":{"type":"Identifier","start":14254,"end":14256,"loc":{"start":{"line":455,"column":53},"end":{"line":455,"column":55},"identifierName":"id"},"name":"id"},"optional":false},"optional":false}},"consequent":{"type":"MemberExpression","start":14260,"end":14279,"loc":{"start":{"line":455,"column":59},"end":{"line":455,"column":78}},"object":{"type":"Identifier","start":14260,"end":14270,"loc":{"start":{"line":455,"column":59},"end":{"line":455,"column":69},"identifierName":"pluginData"},"name":"pluginData"},"computed":true,"property":{"type":"MemberExpression","start":14271,"end":14278,"loc":{"start":{"line":455,"column":70},"end":{"line":455,"column":77}},"object":{"type":"ThisExpression","start":14271,"end":14275,"loc":{"start":{"line":455,"column":70},"end":{"line":455,"column":74}}},"computed":false,"property":{"type":"Identifier","start":14276,"end":14278,"loc":{"start":{"line":455,"column":75},"end":{"line":455,"column":77},"identifierName":"id"},"name":"id"},"optional":false},"optional":false},"alternate":{"type":"ObjectExpression","start":14282,"end":14284,"loc":{"start":{"line":455,"column":81},"end":{"line":455,"column":83}},"properties":[]}}}],"kind":"const"},{"type":"VariableDeclaration","start":14289,"end":14343,"loc":{"start":{"line":456,"column":4},"end":{"line":456,"column":58}},"declarations":[{"type":"VariableDeclarator","start":14295,"end":14343,"loc":{"start":{"line":456,"column":10},"end":{"line":456,"column":58}},"id":{"type":"Identifier","start":14295,"end":14313,"loc":{"start":{"line":456,"column":10},"end":{"line":456,"column":28},"identifierName":"previousAssemblies"},"name":"previousAssemblies"},"init":{"type":"LogicalExpression","start":14316,"end":14343,"loc":{"start":{"line":456,"column":31},"end":{"line":456,"column":58}},"left":{"type":"MemberExpression","start":14316,"end":14337,"loc":{"start":{"line":456,"column":31},"end":{"line":456,"column":52}},"object":{"type":"Identifier","start":14316,"end":14326,"loc":{"start":{"line":456,"column":31},"end":{"line":456,"column":41},"identifierName":"savedState"},"name":"savedState"},"computed":false,"property":{"type":"Identifier","start":14327,"end":14337,"loc":{"start":{"line":456,"column":42},"end":{"line":456,"column":52},"identifierName":"assemblies"},"name":"assemblies"},"optional":false},"operator":"||","right":{"type":"ObjectExpression","start":14341,"end":14343,"loc":{"start":{"line":456,"column":56},"end":{"line":456,"column":58}},"properties":[]}}}],"kind":"const"},{"type":"VariableDeclaration","start":14348,"end":14408,"loc":{"start":{"line":457,"column":4},"end":{"line":457,"column":64}},"declarations":[{"type":"VariableDeclarator","start":14354,"end":14408,"loc":{"start":{"line":457,"column":10},"end":{"line":457,"column":64}},"id":{"type":"Identifier","start":14354,"end":14371,"loc":{"start":{"line":457,"column":10},"end":{"line":457,"column":27},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"init":{"type":"LogicalExpression","start":14374,"end":14408,"loc":{"start":{"line":457,"column":30},"end":{"line":457,"column":64}},"left":{"type":"MemberExpression","start":14374,"end":14402,"loc":{"start":{"line":457,"column":30},"end":{"line":457,"column":58}},"object":{"type":"Identifier","start":14374,"end":14384,"loc":{"start":{"line":457,"column":30},"end":{"line":457,"column":40},"identifierName":"savedState"},"name":"savedState"},"computed":false,"property":{"type":"Identifier","start":14385,"end":14402,"loc":{"start":{"line":457,"column":41},"end":{"line":457,"column":58},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"optional":false},"operator":"||","right":{"type":"ObjectExpression","start":14406,"end":14408,"loc":{"start":{"line":457,"column":62},"end":{"line":457,"column":64}},"properties":[]}}}],"kind":"const"},{"type":"IfStatement","start":14414,"end":14512,"loc":{"start":{"line":459,"column":4},"end":{"line":462,"column":5}},"test":{"type":"BinaryExpression","start":14418,"end":14461,"loc":{"start":{"line":459,"column":8},"end":{"line":459,"column":51}},"left":{"type":"MemberExpression","start":14418,"end":14455,"loc":{"start":{"line":459,"column":8},"end":{"line":459,"column":45}},"object":{"type":"CallExpression","start":14418,"end":14448,"loc":{"start":{"line":459,"column":8},"end":{"line":459,"column":38}},"callee":{"type":"MemberExpression","start":14418,"end":14429,"loc":{"start":{"line":459,"column":8},"end":{"line":459,"column":19}},"object":{"type":"Identifier","start":14418,"end":14424,"loc":{"start":{"line":459,"column":8},"end":{"line":459,"column":14},"identifierName":"Object"},"name":"Object"},"computed":false,"property":{"type":"Identifier","start":14425,"end":14429,"loc":{"start":{"line":459,"column":15},"end":{"line":459,"column":19},"identifierName":"keys"},"name":"keys"},"optional":false},"arguments":[{"type":"Identifier","start":14430,"end":14447,"loc":{"start":{"line":459,"column":20},"end":{"line":459,"column":37},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":14449,"end":14455,"loc":{"start":{"line":459,"column":39},"end":{"line":459,"column":45},"identifierName":"length"},"name":"length"},"optional":false},"operator":"===","right":{"type":"Literal","start":14460,"end":14461,"loc":{"start":{"line":459,"column":50},"end":{"line":459,"column":51}},"value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","start":14463,"end":14512,"loc":{"start":{"line":459,"column":53},"end":{"line":462,"column":5}},"body":[{"type":"ReturnStatement","start":14500,"end":14506,"loc":{"start":{"line":461,"column":6},"end":{"line":461,"column":12}},"argument":null,"leadingComments":[{"type":"CommentLine","value":" Nothing to restore.","start":14471,"end":14493,"loc":{"start":{"line":460,"column":6},"end":{"line":460,"column":28}}}]}]},"alternate":null,"trailingComments":[{"type":"CommentLine","value":" Convert loaded Assembly statuses to a Transloadit plugin state object.","start":14518,"end":14591,"loc":{"start":{"line":464,"column":4},"end":{"line":464,"column":77}}}]},{"type":"VariableDeclaration","start":14596,"end":15577,"loc":{"start":{"line":465,"column":4},"end":{"line":501,"column":5}},"declarations":[{"type":"VariableDeclarator","start":14602,"end":15577,"loc":{"start":{"line":465,"column":10},"end":{"line":501,"column":5}},"id":{"type":"Identifier","start":14602,"end":14614,"loc":{"start":{"line":465,"column":10},"end":{"line":465,"column":22},"identifierName":"restoreState"},"name":"restoreState"},"init":{"type":"ArrowFunctionExpression","start":14617,"end":15577,"loc":{"start":{"line":465,"column":25},"end":{"line":501,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":14618,"end":14628,"loc":{"start":{"line":465,"column":26},"end":{"line":465,"column":36},"identifierName":"assemblies"},"name":"assemblies"}],"body":{"type":"BlockStatement","start":14633,"end":15577,"loc":{"start":{"line":465,"column":41},"end":{"line":501,"column":5}},"body":[{"type":"VariableDeclaration","start":14641,"end":14657,"loc":{"start":{"line":466,"column":6},"end":{"line":466,"column":22}},"declarations":[{"type":"VariableDeclarator","start":14647,"end":14657,"loc":{"start":{"line":466,"column":12},"end":{"line":466,"column":22}},"id":{"type":"Identifier","start":14647,"end":14652,"loc":{"start":{"line":466,"column":12},"end":{"line":466,"column":17},"identifierName":"files"},"name":"files"},"init":{"type":"ObjectExpression","start":14655,"end":14657,"loc":{"start":{"line":466,"column":20},"end":{"line":466,"column":22}},"properties":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":14664,"end":14682,"loc":{"start":{"line":467,"column":6},"end":{"line":467,"column":24}},"declarations":[{"type":"VariableDeclarator","start":14670,"end":14682,"loc":{"start":{"line":467,"column":12},"end":{"line":467,"column":24}},"id":{"type":"Identifier","start":14670,"end":14677,"loc":{"start":{"line":467,"column":12},"end":{"line":467,"column":19},"identifierName":"results"},"name":"results"},"init":{"type":"ArrayExpression","start":14680,"end":14682,"loc":{"start":{"line":467,"column":22},"end":{"line":467,"column":24}},"elements":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":14689,"end":15455,"loc":{"start":{"line":468,"column":6},"end":{"line":493,"column":8}},"expression":{"type":"CallExpression","start":14689,"end":15455,"loc":{"start":{"line":468,"column":6},"end":{"line":493,"column":8}},"callee":{"type":"MemberExpression","start":14689,"end":14720,"loc":{"start":{"line":468,"column":6},"end":{"line":468,"column":37}},"object":{"type":"CallExpression","start":14689,"end":14712,"loc":{"start":{"line":468,"column":6},"end":{"line":468,"column":29}},"callee":{"type":"MemberExpression","start":14689,"end":14700,"loc":{"start":{"line":468,"column":6},"end":{"line":468,"column":17}},"object":{"type":"Identifier","start":14689,"end":14695,"loc":{"start":{"line":468,"column":6},"end":{"line":468,"column":12},"identifierName":"Object"},"name":"Object"},"computed":false,"property":{"type":"Identifier","start":14696,"end":14700,"loc":{"start":{"line":468,"column":13},"end":{"line":468,"column":17},"identifierName":"keys"},"name":"keys"},"optional":false},"arguments":[{"type":"Identifier","start":14701,"end":14711,"loc":{"start":{"line":468,"column":18},"end":{"line":468,"column":28},"identifierName":"assemblies"},"name":"assemblies"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":14713,"end":14720,"loc":{"start":{"line":468,"column":30},"end":{"line":468,"column":37},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":14721,"end":15454,"loc":{"start":{"line":468,"column":38},"end":{"line":493,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":14722,"end":14724,"loc":{"start":{"line":468,"column":39},"end":{"line":468,"column":41},"identifierName":"id"},"name":"id"}],"body":{"type":"BlockStatement","start":14729,"end":15454,"loc":{"start":{"line":468,"column":46},"end":{"line":493,"column":7}},"body":[{"type":"VariableDeclaration","start":14739,"end":14768,"loc":{"start":{"line":469,"column":8},"end":{"line":469,"column":37}},"declarations":[{"type":"VariableDeclarator","start":14745,"end":14768,"loc":{"start":{"line":469,"column":14},"end":{"line":469,"column":37}},"id":{"type":"Identifier","start":14745,"end":14751,"loc":{"start":{"line":469,"column":14},"end":{"line":469,"column":20},"identifierName":"status"},"name":"status"},"init":{"type":"MemberExpression","start":14754,"end":14768,"loc":{"start":{"line":469,"column":23},"end":{"line":469,"column":37}},"object":{"type":"Identifier","start":14754,"end":14764,"loc":{"start":{"line":469,"column":23},"end":{"line":469,"column":33},"identifierName":"assemblies"},"name":"assemblies"},"computed":true,"property":{"type":"Identifier","start":14765,"end":14767,"loc":{"start":{"line":469,"column":34},"end":{"line":469,"column":36},"identifierName":"id"},"name":"id"},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":14778,"end":15008,"loc":{"start":{"line":471,"column":8},"end":{"line":478,"column":10}},"expression":{"type":"CallExpression","start":14778,"end":15008,"loc":{"start":{"line":471,"column":8},"end":{"line":478,"column":10}},"callee":{"type":"MemberExpression","start":14778,"end":14800,"loc":{"start":{"line":471,"column":8},"end":{"line":471,"column":30}},"object":{"type":"MemberExpression","start":14778,"end":14792,"loc":{"start":{"line":471,"column":8},"end":{"line":471,"column":22}},"object":{"type":"Identifier","start":14778,"end":14784,"loc":{"start":{"line":471,"column":8},"end":{"line":471,"column":14},"identifierName":"status"},"name":"status"},"computed":false,"property":{"type":"Identifier","start":14785,"end":14792,"loc":{"start":{"line":471,"column":15},"end":{"line":471,"column":22},"identifierName":"uploads"},"name":"uploads"},"optional":false},"computed":false,"property":{"type":"Identifier","start":14793,"end":14800,"loc":{"start":{"line":471,"column":23},"end":{"line":471,"column":30},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":14801,"end":15007,"loc":{"start":{"line":471,"column":31},"end":{"line":478,"column":9}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":14802,"end":14814,"loc":{"start":{"line":471,"column":32},"end":{"line":471,"column":44},"identifierName":"uploadedFile"},"name":"uploadedFile"}],"body":{"type":"BlockStatement","start":14819,"end":15007,"loc":{"start":{"line":471,"column":49},"end":{"line":478,"column":9}},"body":[{"type":"VariableDeclaration","start":14831,"end":14872,"loc":{"start":{"line":472,"column":10},"end":{"line":472,"column":51}},"declarations":[{"type":"VariableDeclarator","start":14837,"end":14872,"loc":{"start":{"line":472,"column":16},"end":{"line":472,"column":51}},"id":{"type":"Identifier","start":14837,"end":14841,"loc":{"start":{"line":472,"column":16},"end":{"line":472,"column":20},"identifierName":"file"},"name":"file"},"init":{"type":"CallExpression","start":14844,"end":14872,"loc":{"start":{"line":472,"column":23},"end":{"line":472,"column":51}},"callee":{"type":"MemberExpression","start":14844,"end":14858,"loc":{"start":{"line":472,"column":23},"end":{"line":472,"column":37}},"object":{"type":"ThisExpression","start":14844,"end":14848,"loc":{"start":{"line":472,"column":23},"end":{"line":472,"column":27}}},"computed":false,"property":{"type":"Identifier","start":14849,"end":14858,"loc":{"start":{"line":472,"column":28},"end":{"line":472,"column":37},"identifierName":"_findFile"},"name":"_findFile"},"optional":false},"arguments":[{"type":"Identifier","start":14859,"end":14871,"loc":{"start":{"line":472,"column":38},"end":{"line":472,"column":50},"identifierName":"uploadedFile"},"name":"uploadedFile"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":14883,"end":14997,"loc":{"start":{"line":473,"column":10},"end":{"line":477,"column":11}},"expression":{"type":"AssignmentExpression","start":14883,"end":14997,"loc":{"start":{"line":473,"column":10},"end":{"line":477,"column":11}},"operator":"=","left":{"type":"MemberExpression","start":14883,"end":14905,"loc":{"start":{"line":473,"column":10},"end":{"line":473,"column":32}},"object":{"type":"Identifier","start":14883,"end":14888,"loc":{"start":{"line":473,"column":10},"end":{"line":473,"column":15},"identifierName":"files"},"name":"files"},"computed":true,"property":{"type":"MemberExpression","start":14889,"end":14904,"loc":{"start":{"line":473,"column":16},"end":{"line":473,"column":31}},"object":{"type":"Identifier","start":14889,"end":14901,"loc":{"start":{"line":473,"column":16},"end":{"line":473,"column":28},"identifierName":"uploadedFile"},"name":"uploadedFile"},"computed":false,"property":{"type":"Identifier","start":14902,"end":14904,"loc":{"start":{"line":473,"column":29},"end":{"line":473,"column":31},"identifierName":"id"},"name":"id"},"optional":false},"optional":false},"right":{"type":"ObjectExpression","start":14908,"end":14997,"loc":{"start":{"line":473,"column":35},"end":{"line":477,"column":11}},"properties":[{"type":"Property","start":14922,"end":14933,"loc":{"start":{"line":474,"column":12},"end":{"line":474,"column":23}},"method":false,"key":{"type":"Identifier","start":14922,"end":14924,"loc":{"start":{"line":474,"column":12},"end":{"line":474,"column":14},"identifierName":"id"},"name":"id"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":14926,"end":14933,"loc":{"start":{"line":474,"column":16},"end":{"line":474,"column":23}},"object":{"type":"Identifier","start":14926,"end":14930,"loc":{"start":{"line":474,"column":16},"end":{"line":474,"column":20},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":14931,"end":14933,"loc":{"start":{"line":474,"column":21},"end":{"line":474,"column":23},"identifierName":"id"},"name":"id"},"optional":false},"kind":"init"},{"type":"Property","start":14947,"end":14959,"loc":{"start":{"line":475,"column":12},"end":{"line":475,"column":24}},"method":false,"key":{"type":"Identifier","start":14947,"end":14955,"loc":{"start":{"line":475,"column":12},"end":{"line":475,"column":20},"identifierName":"assembly"},"name":"assembly"},"computed":false,"shorthand":false,"value":{"type":"Identifier","start":14957,"end":14959,"loc":{"start":{"line":475,"column":22},"end":{"line":475,"column":24},"identifierName":"id"},"name":"id"},"kind":"init"},{"type":"Property","start":14973,"end":14985,"loc":{"start":{"line":476,"column":12},"end":{"line":476,"column":24}},"method":false,"key":{"type":"Identifier","start":14973,"end":14985,"loc":{"start":{"line":476,"column":12},"end":{"line":476,"column":24},"identifierName":"uploadedFile"},"name":"uploadedFile"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":14973,"end":14985,"loc":{"start":{"line":476,"column":12},"end":{"line":476,"column":24},"identifierName":"uploadedFile"},"name":"uploadedFile"},"kind":"init","extra":{"shorthand":true}}]}}}]}}],"optional":false}},{"type":"VariableDeclaration","start":15018,"end":15053,"loc":{"start":{"line":480,"column":8},"end":{"line":480,"column":43}},"declarations":[{"type":"VariableDeclarator","start":15024,"end":15053,"loc":{"start":{"line":480,"column":14},"end":{"line":480,"column":43}},"id":{"type":"Identifier","start":15024,"end":15029,"loc":{"start":{"line":480,"column":14},"end":{"line":480,"column":19},"identifierName":"state"},"name":"state"},"init":{"type":"CallExpression","start":15032,"end":15053,"loc":{"start":{"line":480,"column":22},"end":{"line":480,"column":43}},"callee":{"type":"MemberExpression","start":15032,"end":15051,"loc":{"start":{"line":480,"column":22},"end":{"line":480,"column":41}},"object":{"type":"ThisExpression","start":15032,"end":15036,"loc":{"start":{"line":480,"column":22},"end":{"line":480,"column":26}}},"computed":false,"property":{"type":"Identifier","start":15037,"end":15051,"loc":{"start":{"line":480,"column":27},"end":{"line":480,"column":41},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":15062,"end":15446,"loc":{"start":{"line":481,"column":8},"end":{"line":492,"column":10}},"expression":{"type":"CallExpression","start":15062,"end":15446,"loc":{"start":{"line":481,"column":8},"end":{"line":492,"column":10}},"callee":{"type":"MemberExpression","start":15062,"end":15097,"loc":{"start":{"line":481,"column":8},"end":{"line":481,"column":43}},"object":{"type":"CallExpression","start":15062,"end":15089,"loc":{"start":{"line":481,"column":8},"end":{"line":481,"column":35}},"callee":{"type":"MemberExpression","start":15062,"end":15073,"loc":{"start":{"line":481,"column":8},"end":{"line":481,"column":19}},"object":{"type":"Identifier","start":15062,"end":15068,"loc":{"start":{"line":481,"column":8},"end":{"line":481,"column":14},"identifierName":"Object"},"name":"Object"},"computed":false,"property":{"type":"Identifier","start":15069,"end":15073,"loc":{"start":{"line":481,"column":15},"end":{"line":481,"column":19},"identifierName":"keys"},"name":"keys"},"optional":false},"arguments":[{"type":"MemberExpression","start":15074,"end":15088,"loc":{"start":{"line":481,"column":20},"end":{"line":481,"column":34}},"object":{"type":"Identifier","start":15074,"end":15080,"loc":{"start":{"line":481,"column":20},"end":{"line":481,"column":26},"identifierName":"status"},"name":"status"},"computed":false,"property":{"type":"Identifier","start":15081,"end":15088,"loc":{"start":{"line":481,"column":27},"end":{"line":481,"column":34},"identifierName":"results"},"name":"results"},"optional":false}],"optional":false},"computed":false,"property":{"type":"Identifier","start":15090,"end":15097,"loc":{"start":{"line":481,"column":36},"end":{"line":481,"column":43},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":15098,"end":15445,"loc":{"start":{"line":481,"column":44},"end":{"line":492,"column":9}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":15099,"end":15107,"loc":{"start":{"line":481,"column":45},"end":{"line":481,"column":53},"identifierName":"stepName"},"name":"stepName"}],"body":{"type":"BlockStatement","start":15112,"end":15445,"loc":{"start":{"line":481,"column":58},"end":{"line":492,"column":9}},"body":[{"type":"ExpressionStatement","start":15124,"end":15435,"loc":{"start":{"line":482,"column":10},"end":{"line":491,"column":12}},"expression":{"type":"CallExpression","start":15124,"end":15435,"loc":{"start":{"line":482,"column":10},"end":{"line":491,"column":12}},"callee":{"type":"MemberExpression","start":15124,"end":15156,"loc":{"start":{"line":482,"column":10},"end":{"line":482,"column":42}},"object":{"type":"MemberExpression","start":15124,"end":15148,"loc":{"start":{"line":482,"column":10},"end":{"line":482,"column":34}},"object":{"type":"MemberExpression","start":15124,"end":15138,"loc":{"start":{"line":482,"column":10},"end":{"line":482,"column":24}},"object":{"type":"Identifier","start":15124,"end":15130,"loc":{"start":{"line":482,"column":10},"end":{"line":482,"column":16},"identifierName":"status"},"name":"status"},"computed":false,"property":{"type":"Identifier","start":15131,"end":15138,"loc":{"start":{"line":482,"column":17},"end":{"line":482,"column":24},"identifierName":"results"},"name":"results"},"optional":false},"computed":true,"property":{"type":"Identifier","start":15139,"end":15147,"loc":{"start":{"line":482,"column":25},"end":{"line":482,"column":33},"identifierName":"stepName"},"name":"stepName"},"optional":false},"computed":false,"property":{"type":"Identifier","start":15149,"end":15156,"loc":{"start":{"line":482,"column":35},"end":{"line":482,"column":42},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":15157,"end":15434,"loc":{"start":{"line":482,"column":43},"end":{"line":491,"column":11}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":15158,"end":15164,"loc":{"start":{"line":482,"column":44},"end":{"line":482,"column":50},"identifierName":"result"},"name":"result"}],"body":{"type":"BlockStatement","start":15169,"end":15434,"loc":{"start":{"line":482,"column":55},"end":{"line":491,"column":11}},"body":[{"type":"VariableDeclaration","start":15183,"end":15227,"loc":{"start":{"line":483,"column":12},"end":{"line":483,"column":56}},"declarations":[{"type":"VariableDeclarator","start":15189,"end":15227,"loc":{"start":{"line":483,"column":18},"end":{"line":483,"column":56}},"id":{"type":"Identifier","start":15189,"end":15193,"loc":{"start":{"line":483,"column":18},"end":{"line":483,"column":22},"identifierName":"file"},"name":"file"},"init":{"type":"MemberExpression","start":15196,"end":15227,"loc":{"start":{"line":483,"column":25},"end":{"line":483,"column":56}},"object":{"type":"MemberExpression","start":15196,"end":15207,"loc":{"start":{"line":483,"column":25},"end":{"line":483,"column":36}},"object":{"type":"Identifier","start":15196,"end":15201,"loc":{"start":{"line":483,"column":25},"end":{"line":483,"column":30},"identifierName":"state"},"name":"state"},"computed":false,"property":{"type":"Identifier","start":15202,"end":15207,"loc":{"start":{"line":483,"column":31},"end":{"line":483,"column":36},"identifierName":"files"},"name":"files"},"optional":false},"computed":true,"property":{"type":"MemberExpression","start":15208,"end":15226,"loc":{"start":{"line":483,"column":37},"end":{"line":483,"column":55}},"object":{"type":"Identifier","start":15208,"end":15214,"loc":{"start":{"line":483,"column":37},"end":{"line":483,"column":43},"identifierName":"result"},"name":"result"},"computed":false,"property":{"type":"Identifier","start":15215,"end":15226,"loc":{"start":{"line":483,"column":44},"end":{"line":483,"column":55},"identifierName":"original_id"},"name":"original_id"},"optional":false},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":15240,"end":15278,"loc":{"start":{"line":484,"column":12},"end":{"line":484,"column":50}},"expression":{"type":"AssignmentExpression","start":15240,"end":15278,"loc":{"start":{"line":484,"column":12},"end":{"line":484,"column":50}},"operator":"=","left":{"type":"MemberExpression","start":15240,"end":15254,"loc":{"start":{"line":484,"column":12},"end":{"line":484,"column":26}},"object":{"type":"Identifier","start":15240,"end":15246,"loc":{"start":{"line":484,"column":12},"end":{"line":484,"column":18},"identifierName":"result"},"name":"result"},"computed":false,"property":{"type":"Identifier","start":15247,"end":15254,"loc":{"start":{"line":484,"column":19},"end":{"line":484,"column":26},"identifierName":"localId"},"name":"localId"},"optional":false},"right":{"type":"ConditionalExpression","start":15257,"end":15278,"loc":{"start":{"line":484,"column":29},"end":{"line":484,"column":50}},"test":{"type":"Identifier","start":15257,"end":15261,"loc":{"start":{"line":484,"column":29},"end":{"line":484,"column":33},"identifierName":"file"},"name":"file"},"consequent":{"type":"MemberExpression","start":15264,"end":15271,"loc":{"start":{"line":484,"column":36},"end":{"line":484,"column":43}},"object":{"type":"Identifier","start":15264,"end":15268,"loc":{"start":{"line":484,"column":36},"end":{"line":484,"column":40},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":15269,"end":15271,"loc":{"start":{"line":484,"column":41},"end":{"line":484,"column":43},"identifierName":"id"},"name":"id"},"optional":false},"alternate":{"type":"Literal","start":15274,"end":15278,"loc":{"start":{"line":484,"column":46},"end":{"line":484,"column":50}},"value":null,"raw":"null"}}}},{"type":"ExpressionStatement","start":15291,"end":15422,"loc":{"start":{"line":485,"column":12},"end":{"line":490,"column":14}},"expression":{"type":"CallExpression","start":15291,"end":15422,"loc":{"start":{"line":485,"column":12},"end":{"line":490,"column":14}},"callee":{"type":"MemberExpression","start":15291,"end":15303,"loc":{"start":{"line":485,"column":12},"end":{"line":485,"column":24}},"object":{"type":"Identifier","start":15291,"end":15298,"loc":{"start":{"line":485,"column":12},"end":{"line":485,"column":19},"identifierName":"results"},"name":"results"},"computed":false,"property":{"type":"Identifier","start":15299,"end":15303,"loc":{"start":{"line":485,"column":20},"end":{"line":485,"column":24},"identifierName":"push"},"name":"push"},"optional":false},"arguments":[{"type":"ObjectExpression","start":15304,"end":15421,"loc":{"start":{"line":485,"column":25},"end":{"line":490,"column":13}},"properties":[{"type":"Property","start":15320,"end":15333,"loc":{"start":{"line":486,"column":14},"end":{"line":486,"column":27}},"method":false,"key":{"type":"Identifier","start":15320,"end":15322,"loc":{"start":{"line":486,"column":14},"end":{"line":486,"column":16},"identifierName":"id"},"name":"id"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":15324,"end":15333,"loc":{"start":{"line":486,"column":18},"end":{"line":486,"column":27}},"object":{"type":"Identifier","start":15324,"end":15330,"loc":{"start":{"line":486,"column":18},"end":{"line":486,"column":24},"identifierName":"result"},"name":"result"},"computed":false,"property":{"type":"Identifier","start":15331,"end":15333,"loc":{"start":{"line":486,"column":25},"end":{"line":486,"column":27},"identifierName":"id"},"name":"id"},"optional":false},"kind":"init"},{"type":"Property","start":15349,"end":15355,"loc":{"start":{"line":487,"column":14},"end":{"line":487,"column":20}},"method":false,"key":{"type":"Identifier","start":15349,"end":15355,"loc":{"start":{"line":487,"column":14},"end":{"line":487,"column":20},"identifierName":"result"},"name":"result"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":15349,"end":15355,"loc":{"start":{"line":487,"column":14},"end":{"line":487,"column":20},"identifierName":"result"},"name":"result"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":15371,"end":15379,"loc":{"start":{"line":488,"column":14},"end":{"line":488,"column":22}},"method":false,"key":{"type":"Identifier","start":15371,"end":15379,"loc":{"start":{"line":488,"column":14},"end":{"line":488,"column":22},"identifierName":"stepName"},"name":"stepName"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":15371,"end":15379,"loc":{"start":{"line":488,"column":14},"end":{"line":488,"column":22},"identifierName":"stepName"},"name":"stepName"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":15395,"end":15407,"loc":{"start":{"line":489,"column":14},"end":{"line":489,"column":26}},"method":false,"key":{"type":"Identifier","start":15395,"end":15403,"loc":{"start":{"line":489,"column":14},"end":{"line":489,"column":22},"identifierName":"assembly"},"name":"assembly"},"computed":false,"shorthand":false,"value":{"type":"Identifier","start":15405,"end":15407,"loc":{"start":{"line":489,"column":24},"end":{"line":489,"column":26},"identifierName":"id"},"name":"id"},"kind":"init"}]}],"optional":false}}]}}],"optional":false}}]}}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":15463,"end":15571,"loc":{"start":{"line":495,"column":6},"end":{"line":500,"column":8}},"expression":{"type":"CallExpression","start":15463,"end":15571,"loc":{"start":{"line":495,"column":6},"end":{"line":500,"column":8}},"callee":{"type":"MemberExpression","start":15463,"end":15482,"loc":{"start":{"line":495,"column":6},"end":{"line":495,"column":25}},"object":{"type":"ThisExpression","start":15463,"end":15467,"loc":{"start":{"line":495,"column":6},"end":{"line":495,"column":10}}},"computed":false,"property":{"type":"Identifier","start":15468,"end":15482,"loc":{"start":{"line":495,"column":11},"end":{"line":495,"column":25},"identifierName":"setPluginState"},"name":"setPluginState"},"optional":false},"arguments":[{"type":"ObjectExpression","start":15483,"end":15570,"loc":{"start":{"line":495,"column":26},"end":{"line":500,"column":7}},"properties":[{"type":"Property","start":15493,"end":15503,"loc":{"start":{"line":496,"column":8},"end":{"line":496,"column":18}},"method":false,"key":{"type":"Identifier","start":15493,"end":15503,"loc":{"start":{"line":496,"column":8},"end":{"line":496,"column":18},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":15493,"end":15503,"loc":{"start":{"line":496,"column":8},"end":{"line":496,"column":18},"identifierName":"assemblies"},"name":"assemblies"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":15513,"end":15518,"loc":{"start":{"line":497,"column":8},"end":{"line":497,"column":13}},"method":false,"key":{"type":"Identifier","start":15513,"end":15518,"loc":{"start":{"line":497,"column":8},"end":{"line":497,"column":13},"identifierName":"files"},"name":"files"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":15513,"end":15518,"loc":{"start":{"line":497,"column":8},"end":{"line":497,"column":13},"identifierName":"files"},"name":"files"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":15528,"end":15535,"loc":{"start":{"line":498,"column":8},"end":{"line":498,"column":15}},"method":false,"key":{"type":"Identifier","start":15528,"end":15535,"loc":{"start":{"line":498,"column":8},"end":{"line":498,"column":15},"identifierName":"results"},"name":"results"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":15528,"end":15535,"loc":{"start":{"line":498,"column":8},"end":{"line":498,"column":15},"identifierName":"results"},"name":"results"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":15545,"end":15562,"loc":{"start":{"line":499,"column":8},"end":{"line":499,"column":25}},"method":false,"key":{"type":"Identifier","start":15545,"end":15562,"loc":{"start":{"line":499,"column":8},"end":{"line":499,"column":25},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":15545,"end":15562,"loc":{"start":{"line":499,"column":8},"end":{"line":499,"column":25},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"kind":"init","extra":{"shorthand":true}}]}],"optional":false}}]}}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" Convert loaded Assembly statuses to a Transloadit plugin state object.","start":14518,"end":14591,"loc":{"start":{"line":464,"column":4},"end":{"line":464,"column":77}}}],"trailingComments":[{"type":"CommentLine","value":" Set up the Assembly instances and AssemblyWatchers for existing Assemblies.","start":15583,"end":15661,"loc":{"start":{"line":503,"column":4},"end":{"line":503,"column":82}}}]},{"type":"VariableDeclaration","start":15666,"end":16491,"loc":{"start":{"line":504,"column":4},"end":{"line":523,"column":5}},"declarations":[{"type":"VariableDeclarator","start":15672,"end":16491,"loc":{"start":{"line":504,"column":10},"end":{"line":523,"column":5}},"id":{"type":"Identifier","start":15672,"end":15689,"loc":{"start":{"line":504,"column":10},"end":{"line":504,"column":27},"identifierName":"restoreAssemblies"},"name":"restoreAssemblies"},"init":{"type":"ArrowFunctionExpression","start":15692,"end":16491,"loc":{"start":{"line":504,"column":30},"end":{"line":523,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":15698,"end":16491,"loc":{"start":{"line":504,"column":36},"end":{"line":523,"column":5}},"body":[{"type":"VariableDeclaration","start":15706,"end":15769,"loc":{"start":{"line":505,"column":6},"end":{"line":505,"column":69}},"declarations":[{"type":"VariableDeclarator","start":15712,"end":15769,"loc":{"start":{"line":505,"column":12},"end":{"line":505,"column":69}},"id":{"type":"ObjectPattern","start":15712,"end":15745,"loc":{"start":{"line":505,"column":12},"end":{"line":505,"column":45}},"properties":[{"type":"Property","start":15714,"end":15724,"loc":{"start":{"line":505,"column":14},"end":{"line":505,"column":24}},"method":false,"key":{"type":"Identifier","start":15714,"end":15724,"loc":{"start":{"line":505,"column":14},"end":{"line":505,"column":24},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":15714,"end":15724,"loc":{"start":{"line":505,"column":14},"end":{"line":505,"column":24},"identifierName":"assemblies"},"name":"assemblies"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":15726,"end":15743,"loc":{"start":{"line":505,"column":26},"end":{"line":505,"column":43}},"method":false,"key":{"type":"Identifier","start":15726,"end":15743,"loc":{"start":{"line":505,"column":26},"end":{"line":505,"column":43},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":15726,"end":15743,"loc":{"start":{"line":505,"column":26},"end":{"line":505,"column":43},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"CallExpression","start":15748,"end":15769,"loc":{"start":{"line":505,"column":48},"end":{"line":505,"column":69}},"callee":{"type":"MemberExpression","start":15748,"end":15767,"loc":{"start":{"line":505,"column":48},"end":{"line":505,"column":67}},"object":{"type":"ThisExpression","start":15748,"end":15752,"loc":{"start":{"line":505,"column":48},"end":{"line":505,"column":52}}},"computed":false,"property":{"type":"Identifier","start":15753,"end":15767,"loc":{"start":{"line":505,"column":53},"end":{"line":505,"column":67},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" Set up the assembly watchers again for all the ongoing uploads.","start":15777,"end":15843,"loc":{"start":{"line":507,"column":6},"end":{"line":507,"column":72}}}]},{"type":"ExpressionStatement","start":15850,"end":16289,"loc":{"start":{"line":508,"column":6},"end":{"line":516,"column":8}},"expression":{"type":"CallExpression","start":15850,"end":16289,"loc":{"start":{"line":508,"column":6},"end":{"line":516,"column":8}},"callee":{"type":"MemberExpression","start":15850,"end":15888,"loc":{"start":{"line":508,"column":6},"end":{"line":508,"column":44}},"object":{"type":"CallExpression","start":15850,"end":15880,"loc":{"start":{"line":508,"column":6},"end":{"line":508,"column":36}},"callee":{"type":"MemberExpression","start":15850,"end":15861,"loc":{"start":{"line":508,"column":6},"end":{"line":508,"column":17}},"object":{"type":"Identifier","start":15850,"end":15856,"loc":{"start":{"line":508,"column":6},"end":{"line":508,"column":12},"identifierName":"Object"},"name":"Object"},"computed":false,"property":{"type":"Identifier","start":15857,"end":15861,"loc":{"start":{"line":508,"column":13},"end":{"line":508,"column":17},"identifierName":"keys"},"name":"keys"},"optional":false},"arguments":[{"type":"Identifier","start":15862,"end":15879,"loc":{"start":{"line":508,"column":18},"end":{"line":508,"column":35},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":15881,"end":15888,"loc":{"start":{"line":508,"column":37},"end":{"line":508,"column":44},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":15889,"end":16288,"loc":{"start":{"line":508,"column":45},"end":{"line":516,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":15890,"end":15898,"loc":{"start":{"line":508,"column":46},"end":{"line":508,"column":54},"identifierName":"uploadID"},"name":"uploadID"}],"body":{"type":"BlockStatement","start":15903,"end":16288,"loc":{"start":{"line":508,"column":59},"end":{"line":516,"column":7}},"body":[{"type":"VariableDeclaration","start":15913,"end":15960,"loc":{"start":{"line":509,"column":8},"end":{"line":509,"column":55}},"declarations":[{"type":"VariableDeclarator","start":15919,"end":15960,"loc":{"start":{"line":509,"column":14},"end":{"line":509,"column":55}},"id":{"type":"Identifier","start":15919,"end":15930,"loc":{"start":{"line":509,"column":14},"end":{"line":509,"column":25},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},"init":{"type":"MemberExpression","start":15933,"end":15960,"loc":{"start":{"line":509,"column":28},"end":{"line":509,"column":55}},"object":{"type":"Identifier","start":15933,"end":15950,"loc":{"start":{"line":509,"column":28},"end":{"line":509,"column":45},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":true,"property":{"type":"Identifier","start":15951,"end":15959,"loc":{"start":{"line":509,"column":46},"end":{"line":509,"column":54},"identifierName":"uploadID"},"name":"uploadID"},"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":15969,"end":16204,"loc":{"start":{"line":510,"column":8},"end":{"line":514,"column":14}},"declarations":[{"type":"VariableDeclarator","start":15975,"end":16204,"loc":{"start":{"line":510,"column":14},"end":{"line":514,"column":14}},"id":{"type":"Identifier","start":15975,"end":15990,"loc":{"start":{"line":510,"column":14},"end":{"line":510,"column":29},"identifierName":"fileIDsInUpload"},"name":"fileIDsInUpload"},"init":{"type":"CallExpression","start":15993,"end":16204,"loc":{"start":{"line":510,"column":32},"end":{"line":514,"column":14}},"callee":{"type":"MemberExpression","start":15993,"end":16011,"loc":{"start":{"line":510,"column":32},"end":{"line":510,"column":50}},"object":{"type":"Identifier","start":15993,"end":16004,"loc":{"start":{"line":510,"column":32},"end":{"line":510,"column":43},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},"computed":false,"property":{"type":"Identifier","start":16005,"end":16011,"loc":{"start":{"line":510,"column":44},"end":{"line":510,"column":50},"identifierName":"reduce"},"name":"reduce"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":16012,"end":16199,"loc":{"start":{"line":510,"column":51},"end":{"line":514,"column":9}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":16013,"end":16016,"loc":{"start":{"line":510,"column":52},"end":{"line":510,"column":55},"identifierName":"acc"},"name":"acc"},{"type":"Identifier","start":16018,"end":16028,"loc":{"start":{"line":510,"column":57},"end":{"line":510,"column":67},"identifierName":"assemblyID"},"name":"assemblyID"}],"body":{"type":"BlockStatement","start":16033,"end":16199,"loc":{"start":{"line":510,"column":72},"end":{"line":514,"column":9}},"body":[{"type":"VariableDeclaration","start":16045,"end":16127,"loc":{"start":{"line":511,"column":10},"end":{"line":511,"column":92}},"declarations":[{"type":"VariableDeclarator","start":16051,"end":16127,"loc":{"start":{"line":511,"column":16},"end":{"line":511,"column":92}},"id":{"type":"Identifier","start":16051,"end":16068,"loc":{"start":{"line":511,"column":16},"end":{"line":511,"column":33},"identifierName":"fileIDsInAssembly"},"name":"fileIDsInAssembly"},"init":{"type":"CallExpression","start":16071,"end":16127,"loc":{"start":{"line":511,"column":36},"end":{"line":511,"column":92}},"callee":{"type":"MemberExpression","start":16071,"end":16108,"loc":{"start":{"line":511,"column":36},"end":{"line":511,"column":73}},"object":{"type":"CallExpression","start":16071,"end":16104,"loc":{"start":{"line":511,"column":36},"end":{"line":511,"column":69}},"callee":{"type":"MemberExpression","start":16071,"end":16092,"loc":{"start":{"line":511,"column":36},"end":{"line":511,"column":57}},"object":{"type":"ThisExpression","start":16071,"end":16075,"loc":{"start":{"line":511,"column":36},"end":{"line":511,"column":40}}},"computed":false,"property":{"type":"Identifier","start":16076,"end":16092,"loc":{"start":{"line":511,"column":41},"end":{"line":511,"column":57},"identifierName":"getAssemblyFiles"},"name":"getAssemblyFiles"},"optional":false},"arguments":[{"type":"Identifier","start":16093,"end":16103,"loc":{"start":{"line":511,"column":58},"end":{"line":511,"column":68},"identifierName":"assemblyID"},"name":"assemblyID"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":16105,"end":16108,"loc":{"start":{"line":511,"column":70},"end":{"line":511,"column":73},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":16109,"end":16126,"loc":{"start":{"line":511,"column":74},"end":{"line":511,"column":91}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":16110,"end":16114,"loc":{"start":{"line":511,"column":75},"end":{"line":511,"column":79},"identifierName":"file"},"name":"file"}],"body":{"type":"MemberExpression","start":16119,"end":16126,"loc":{"start":{"line":511,"column":84},"end":{"line":511,"column":91}},"object":{"type":"Identifier","start":16119,"end":16123,"loc":{"start":{"line":511,"column":84},"end":{"line":511,"column":88},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":16124,"end":16126,"loc":{"start":{"line":511,"column":89},"end":{"line":511,"column":91},"identifierName":"id"},"name":"id"},"optional":false}}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":16138,"end":16168,"loc":{"start":{"line":512,"column":10},"end":{"line":512,"column":40}},"expression":{"type":"CallExpression","start":16138,"end":16168,"loc":{"start":{"line":512,"column":10},"end":{"line":512,"column":40}},"callee":{"type":"MemberExpression","start":16138,"end":16146,"loc":{"start":{"line":512,"column":10},"end":{"line":512,"column":18}},"object":{"type":"Identifier","start":16138,"end":16141,"loc":{"start":{"line":512,"column":10},"end":{"line":512,"column":13},"identifierName":"acc"},"name":"acc"},"computed":false,"property":{"type":"Identifier","start":16142,"end":16146,"loc":{"start":{"line":512,"column":14},"end":{"line":512,"column":18},"identifierName":"push"},"name":"push"},"optional":false},"arguments":[{"type":"SpreadElement","start":16147,"end":16167,"loc":{"start":{"line":512,"column":19},"end":{"line":512,"column":39}},"argument":{"type":"Identifier","start":16150,"end":16167,"loc":{"start":{"line":512,"column":22},"end":{"line":512,"column":39},"identifierName":"fileIDsInAssembly"},"name":"fileIDsInAssembly"}}],"optional":false}},{"type":"ReturnStatement","start":16179,"end":16189,"loc":{"start":{"line":513,"column":10},"end":{"line":513,"column":20}},"argument":{"type":"Identifier","start":16186,"end":16189,"loc":{"start":{"line":513,"column":17},"end":{"line":513,"column":20},"identifierName":"acc"},"name":"acc"}}]}},{"type":"ArrayExpression","start":16201,"end":16203,"loc":{"start":{"line":514,"column":11},"end":{"line":514,"column":13}},"elements":[]}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":16213,"end":16280,"loc":{"start":{"line":515,"column":8},"end":{"line":515,"column":75}},"expression":{"type":"CallExpression","start":16213,"end":16280,"loc":{"start":{"line":515,"column":8},"end":{"line":515,"column":75}},"callee":{"type":"MemberExpression","start":16213,"end":16240,"loc":{"start":{"line":515,"column":8},"end":{"line":515,"column":35}},"object":{"type":"ThisExpression","start":16213,"end":16217,"loc":{"start":{"line":515,"column":8},"end":{"line":515,"column":12}}},"computed":false,"property":{"type":"Identifier","start":16218,"end":16240,"loc":{"start":{"line":515,"column":13},"end":{"line":515,"column":35},"identifierName":"_createAssemblyWatcher"},"name":"_createAssemblyWatcher"},"optional":false},"arguments":[{"type":"Identifier","start":16241,"end":16252,"loc":{"start":{"line":515,"column":36},"end":{"line":515,"column":47},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},{"type":"Identifier","start":16254,"end":16269,"loc":{"start":{"line":515,"column":49},"end":{"line":515,"column":64},"identifierName":"fileIDsInUpload"},"name":"fileIDsInUpload"},{"type":"Identifier","start":16271,"end":16279,"loc":{"start":{"line":515,"column":66},"end":{"line":515,"column":74},"identifierName":"uploadID"},"name":"uploadID"}],"optional":false}}]}}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" Set up the assembly watchers again for all the ongoing uploads.","start":15777,"end":15843,"loc":{"start":{"line":507,"column":6},"end":{"line":507,"column":72}}}]},{"type":"VariableDeclaration","start":16297,"end":16343,"loc":{"start":{"line":518,"column":6},"end":{"line":518,"column":52}},"declarations":[{"type":"VariableDeclarator","start":16303,"end":16343,"loc":{"start":{"line":518,"column":12},"end":{"line":518,"column":52}},"id":{"type":"Identifier","start":16303,"end":16317,"loc":{"start":{"line":518,"column":12},"end":{"line":518,"column":26},"identifierName":"allAssemblyIDs"},"name":"allAssemblyIDs"},"init":{"type":"CallExpression","start":16320,"end":16343,"loc":{"start":{"line":518,"column":29},"end":{"line":518,"column":52}},"callee":{"type":"MemberExpression","start":16320,"end":16331,"loc":{"start":{"line":518,"column":29},"end":{"line":518,"column":40}},"object":{"type":"Identifier","start":16320,"end":16326,"loc":{"start":{"line":518,"column":29},"end":{"line":518,"column":35},"identifierName":"Object"},"name":"Object"},"computed":false,"property":{"type":"Identifier","start":16327,"end":16331,"loc":{"start":{"line":518,"column":36},"end":{"line":518,"column":40},"identifierName":"keys"},"name":"keys"},"optional":false},"arguments":[{"type":"Identifier","start":16332,"end":16342,"loc":{"start":{"line":518,"column":41},"end":{"line":518,"column":51},"identifierName":"assemblies"},"name":"assemblies"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":16350,"end":16485,"loc":{"start":{"line":519,"column":6},"end":{"line":522,"column":8}},"expression":{"type":"CallExpression","start":16350,"end":16485,"loc":{"start":{"line":519,"column":6},"end":{"line":522,"column":8}},"callee":{"type":"MemberExpression","start":16350,"end":16372,"loc":{"start":{"line":519,"column":6},"end":{"line":519,"column":28}},"object":{"type":"Identifier","start":16350,"end":16364,"loc":{"start":{"line":519,"column":6},"end":{"line":519,"column":20},"identifierName":"allAssemblyIDs"},"name":"allAssemblyIDs"},"computed":false,"property":{"type":"Identifier","start":16365,"end":16372,"loc":{"start":{"line":519,"column":21},"end":{"line":519,"column":28},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":16373,"end":16484,"loc":{"start":{"line":519,"column":29},"end":{"line":522,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":16374,"end":16376,"loc":{"start":{"line":519,"column":30},"end":{"line":519,"column":32},"identifierName":"id"},"name":"id"}],"body":{"type":"BlockStatement","start":16381,"end":16484,"loc":{"start":{"line":519,"column":37},"end":{"line":522,"column":7}},"body":[{"type":"VariableDeclaration","start":16391,"end":16436,"loc":{"start":{"line":520,"column":8},"end":{"line":520,"column":53}},"declarations":[{"type":"VariableDeclarator","start":16397,"end":16436,"loc":{"start":{"line":520,"column":14},"end":{"line":520,"column":53}},"id":{"type":"Identifier","start":16397,"end":16405,"loc":{"start":{"line":520,"column":14},"end":{"line":520,"column":22},"identifierName":"assembly"},"name":"assembly"},"init":{"type":"NewExpression","start":16408,"end":16436,"loc":{"start":{"line":520,"column":25},"end":{"line":520,"column":53}},"callee":{"type":"Identifier","start":16412,"end":16420,"loc":{"start":{"line":520,"column":29},"end":{"line":520,"column":37},"identifierName":"Assembly"},"name":"Assembly"},"typeArguments":null,"arguments":[{"type":"MemberExpression","start":16421,"end":16435,"loc":{"start":{"line":520,"column":38},"end":{"line":520,"column":52}},"object":{"type":"Identifier","start":16421,"end":16431,"loc":{"start":{"line":520,"column":38},"end":{"line":520,"column":48},"identifierName":"assemblies"},"name":"assemblies"},"computed":true,"property":{"type":"Identifier","start":16432,"end":16434,"loc":{"start":{"line":520,"column":49},"end":{"line":520,"column":51},"identifierName":"id"},"name":"id"},"optional":false}]}}],"kind":"const"},{"type":"ExpressionStatement","start":16445,"end":16476,"loc":{"start":{"line":521,"column":8},"end":{"line":521,"column":39}},"expression":{"type":"CallExpression","start":16445,"end":16476,"loc":{"start":{"line":521,"column":8},"end":{"line":521,"column":39}},"callee":{"type":"MemberExpression","start":16445,"end":16466,"loc":{"start":{"line":521,"column":8},"end":{"line":521,"column":29}},"object":{"type":"ThisExpression","start":16445,"end":16449,"loc":{"start":{"line":521,"column":8},"end":{"line":521,"column":12}}},"computed":false,"property":{"type":"Identifier","start":16450,"end":16466,"loc":{"start":{"line":521,"column":13},"end":{"line":521,"column":29},"identifierName":"_connectAssembly"},"name":"_connectAssembly"},"optional":false},"arguments":[{"type":"Identifier","start":16467,"end":16475,"loc":{"start":{"line":521,"column":30},"end":{"line":521,"column":38},"identifierName":"assembly"},"name":"assembly"}],"optional":false}}]}}],"optional":false}}]}}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" Set up the Assembly instances and AssemblyWatchers for existing Assemblies.","start":15583,"end":15661,"loc":{"start":{"line":503,"column":4},"end":{"line":503,"column":82}}}],"trailingComments":[{"type":"CommentLine","value":" Force-update all Assemblies to check for missed events.","start":16497,"end":16555,"loc":{"start":{"line":525,"column":4},"end":{"line":525,"column":62}}}]},{"type":"VariableDeclaration","start":16560,"end":16792,"loc":{"start":{"line":526,"column":4},"end":{"line":533,"column":5}},"declarations":[{"type":"VariableDeclarator","start":16566,"end":16792,"loc":{"start":{"line":526,"column":10},"end":{"line":533,"column":5}},"id":{"type":"Identifier","start":16566,"end":16582,"loc":{"start":{"line":526,"column":10},"end":{"line":526,"column":26},"identifierName":"updateAssemblies"},"name":"updateAssemblies"},"init":{"type":"ArrowFunctionExpression","start":16585,"end":16792,"loc":{"start":{"line":526,"column":29},"end":{"line":533,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":16591,"end":16792,"loc":{"start":{"line":526,"column":35},"end":{"line":533,"column":5}},"body":[{"type":"VariableDeclaration","start":16599,"end":16643,"loc":{"start":{"line":527,"column":6},"end":{"line":527,"column":50}},"declarations":[{"type":"VariableDeclarator","start":16605,"end":16643,"loc":{"start":{"line":527,"column":12},"end":{"line":527,"column":50}},"id":{"type":"ObjectPattern","start":16605,"end":16619,"loc":{"start":{"line":527,"column":12},"end":{"line":527,"column":26}},"properties":[{"type":"Property","start":16607,"end":16617,"loc":{"start":{"line":527,"column":14},"end":{"line":527,"column":24}},"method":false,"key":{"type":"Identifier","start":16607,"end":16617,"loc":{"start":{"line":527,"column":14},"end":{"line":527,"column":24},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":16607,"end":16617,"loc":{"start":{"line":527,"column":14},"end":{"line":527,"column":24},"identifierName":"assemblies"},"name":"assemblies"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"CallExpression","start":16622,"end":16643,"loc":{"start":{"line":527,"column":29},"end":{"line":527,"column":50}},"callee":{"type":"MemberExpression","start":16622,"end":16641,"loc":{"start":{"line":527,"column":29},"end":{"line":527,"column":48}},"object":{"type":"ThisExpression","start":16622,"end":16626,"loc":{"start":{"line":527,"column":29},"end":{"line":527,"column":33}}},"computed":false,"property":{"type":"Identifier","start":16627,"end":16641,"loc":{"start":{"line":527,"column":34},"end":{"line":527,"column":48},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":16650,"end":16786,"loc":{"start":{"line":528,"column":6},"end":{"line":532,"column":7}},"argument":{"type":"CallExpression","start":16657,"end":16786,"loc":{"start":{"line":528,"column":13},"end":{"line":532,"column":7}},"callee":{"type":"MemberExpression","start":16657,"end":16668,"loc":{"start":{"line":528,"column":13},"end":{"line":528,"column":24}},"object":{"type":"Identifier","start":16657,"end":16664,"loc":{"start":{"line":528,"column":13},"end":{"line":528,"column":20},"identifierName":"Promise"},"name":"Promise"},"computed":false,"property":{"type":"Identifier","start":16665,"end":16668,"loc":{"start":{"line":528,"column":21},"end":{"line":528,"column":24},"identifierName":"all"},"name":"all"},"optional":false},"arguments":[{"type":"CallExpression","start":16678,"end":16778,"loc":{"start":{"line":529,"column":8},"end":{"line":531,"column":10}},"callee":{"type":"MemberExpression","start":16678,"end":16705,"loc":{"start":{"line":529,"column":8},"end":{"line":529,"column":35}},"object":{"type":"CallExpression","start":16678,"end":16701,"loc":{"start":{"line":529,"column":8},"end":{"line":529,"column":31}},"callee":{"type":"MemberExpression","start":16678,"end":16689,"loc":{"start":{"line":529,"column":8},"end":{"line":529,"column":19}},"object":{"type":"Identifier","start":16678,"end":16684,"loc":{"start":{"line":529,"column":8},"end":{"line":529,"column":14},"identifierName":"Object"},"name":"Object"},"computed":false,"property":{"type":"Identifier","start":16685,"end":16689,"loc":{"start":{"line":529,"column":15},"end":{"line":529,"column":19},"identifierName":"keys"},"name":"keys"},"optional":false},"arguments":[{"type":"Identifier","start":16690,"end":16700,"loc":{"start":{"line":529,"column":20},"end":{"line":529,"column":30},"identifierName":"assemblies"},"name":"assemblies"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":16702,"end":16705,"loc":{"start":{"line":529,"column":32},"end":{"line":529,"column":35},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":16706,"end":16777,"loc":{"start":{"line":529,"column":36},"end":{"line":531,"column":9}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":16707,"end":16709,"loc":{"start":{"line":529,"column":37},"end":{"line":529,"column":39},"identifierName":"id"},"name":"id"}],"body":{"type":"BlockStatement","start":16714,"end":16777,"loc":{"start":{"line":529,"column":44},"end":{"line":531,"column":9}},"body":[{"type":"ReturnStatement","start":16726,"end":16767,"loc":{"start":{"line":530,"column":10},"end":{"line":530,"column":51}},"argument":{"type":"CallExpression","start":16733,"end":16767,"loc":{"start":{"line":530,"column":17},"end":{"line":530,"column":51}},"callee":{"type":"MemberExpression","start":16733,"end":16765,"loc":{"start":{"line":530,"column":17},"end":{"line":530,"column":49}},"object":{"type":"MemberExpression","start":16733,"end":16758,"loc":{"start":{"line":530,"column":17},"end":{"line":530,"column":42}},"object":{"type":"MemberExpression","start":16733,"end":16754,"loc":{"start":{"line":530,"column":17},"end":{"line":530,"column":38}},"object":{"type":"ThisExpression","start":16733,"end":16737,"loc":{"start":{"line":530,"column":17},"end":{"line":530,"column":21}}},"computed":false,"property":{"type":"Identifier","start":16738,"end":16754,"loc":{"start":{"line":530,"column":22},"end":{"line":530,"column":38},"identifierName":"activeAssemblies"},"name":"activeAssemblies"},"optional":false},"computed":true,"property":{"type":"Identifier","start":16755,"end":16757,"loc":{"start":{"line":530,"column":39},"end":{"line":530,"column":41},"identifierName":"id"},"name":"id"},"optional":false},"computed":false,"property":{"type":"Identifier","start":16759,"end":16765,"loc":{"start":{"line":530,"column":43},"end":{"line":530,"column":49},"identifierName":"update"},"name":"update"},"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}],"optional":false}}]}}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" Force-update all Assemblies to check for missed events.","start":16497,"end":16555,"loc":{"start":{"line":525,"column":4},"end":{"line":525,"column":62}}}],"trailingComments":[{"type":"CommentLine","value":" Restore all Assembly state.","start":16798,"end":16828,"loc":{"start":{"line":535,"column":4},"end":{"line":535,"column":34}}}]},{"type":"ExpressionStatement","start":16833,"end":16983,"loc":{"start":{"line":536,"column":4},"end":{"line":540,"column":6}},"expression":{"type":"AssignmentExpression","start":16833,"end":16983,"loc":{"start":{"line":536,"column":4},"end":{"line":540,"column":6}},"operator":"=","left":{"type":"MemberExpression","start":16833,"end":16846,"loc":{"start":{"line":536,"column":4},"end":{"line":536,"column":17}},"object":{"type":"ThisExpression","start":16833,"end":16837,"loc":{"start":{"line":536,"column":4},"end":{"line":536,"column":8}}},"computed":false,"property":{"type":"Identifier","start":16838,"end":16846,"loc":{"start":{"line":536,"column":9},"end":{"line":536,"column":17},"identifierName":"restored"},"name":"restored"},"optional":false},"right":{"type":"CallExpression","start":16849,"end":16983,"loc":{"start":{"line":536,"column":20},"end":{"line":540,"column":6}},"callee":{"type":"MemberExpression","start":16849,"end":16871,"loc":{"start":{"line":536,"column":20},"end":{"line":536,"column":42}},"object":{"type":"CallExpression","start":16849,"end":16866,"loc":{"start":{"line":536,"column":20},"end":{"line":536,"column":37}},"callee":{"type":"MemberExpression","start":16849,"end":16864,"loc":{"start":{"line":536,"column":20},"end":{"line":536,"column":35}},"object":{"type":"Identifier","start":16849,"end":16856,"loc":{"start":{"line":536,"column":20},"end":{"line":536,"column":27},"identifierName":"Promise"},"name":"Promise"},"computed":false,"property":{"type":"Identifier","start":16857,"end":16864,"loc":{"start":{"line":536,"column":28},"end":{"line":536,"column":35},"identifierName":"resolve"},"name":"resolve"},"optional":false},"arguments":[],"optional":false},"computed":false,"property":{"type":"Identifier","start":16867,"end":16871,"loc":{"start":{"line":536,"column":38},"end":{"line":536,"column":42},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":16872,"end":16982,"loc":{"start":{"line":536,"column":43},"end":{"line":540,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":16878,"end":16982,"loc":{"start":{"line":536,"column":49},"end":{"line":540,"column":5}},"body":[{"type":"ExpressionStatement","start":16886,"end":16918,"loc":{"start":{"line":537,"column":6},"end":{"line":537,"column":38}},"expression":{"type":"CallExpression","start":16886,"end":16918,"loc":{"start":{"line":537,"column":6},"end":{"line":537,"column":38}},"callee":{"type":"Identifier","start":16886,"end":16898,"loc":{"start":{"line":537,"column":6},"end":{"line":537,"column":18},"identifierName":"restoreState"},"name":"restoreState"},"arguments":[{"type":"Identifier","start":16899,"end":16917,"loc":{"start":{"line":537,"column":19},"end":{"line":537,"column":37},"identifierName":"previousAssemblies"},"name":"previousAssemblies"}],"optional":false}},{"type":"ExpressionStatement","start":16925,"end":16944,"loc":{"start":{"line":538,"column":6},"end":{"line":538,"column":25}},"expression":{"type":"CallExpression","start":16925,"end":16944,"loc":{"start":{"line":538,"column":6},"end":{"line":538,"column":25}},"callee":{"type":"Identifier","start":16925,"end":16942,"loc":{"start":{"line":538,"column":6},"end":{"line":538,"column":23},"identifierName":"restoreAssemblies"},"name":"restoreAssemblies"},"arguments":[],"optional":false}},{"type":"ReturnStatement","start":16951,"end":16976,"loc":{"start":{"line":539,"column":6},"end":{"line":539,"column":31}},"argument":{"type":"CallExpression","start":16958,"end":16976,"loc":{"start":{"line":539,"column":13},"end":{"line":539,"column":31}},"callee":{"type":"Identifier","start":16958,"end":16974,"loc":{"start":{"line":539,"column":13},"end":{"line":539,"column":29},"identifierName":"updateAssemblies"},"name":"updateAssemblies"},"arguments":[],"optional":false}}]}}],"optional":false}},"leadingComments":[{"type":"CommentLine","value":" Restore all Assembly state.","start":16798,"end":16828,"loc":{"start":{"line":535,"column":4},"end":{"line":535,"column":34}}}]},{"type":"ExpressionStatement","start":16989,"end":17049,"loc":{"start":{"line":542,"column":4},"end":{"line":544,"column":6}},"expression":{"type":"CallExpression","start":16989,"end":17049,"loc":{"start":{"line":542,"column":4},"end":{"line":544,"column":6}},"callee":{"type":"MemberExpression","start":16989,"end":17007,"loc":{"start":{"line":542,"column":4},"end":{"line":542,"column":22}},"object":{"type":"MemberExpression","start":16989,"end":17002,"loc":{"start":{"line":542,"column":4},"end":{"line":542,"column":17}},"object":{"type":"ThisExpression","start":16989,"end":16993,"loc":{"start":{"line":542,"column":4},"end":{"line":542,"column":8}}},"computed":false,"property":{"type":"Identifier","start":16994,"end":17002,"loc":{"start":{"line":542,"column":9},"end":{"line":542,"column":17},"identifierName":"restored"},"name":"restored"},"optional":false},"computed":false,"property":{"type":"Identifier","start":17003,"end":17007,"loc":{"start":{"line":542,"column":18},"end":{"line":542,"column":22},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":17008,"end":17048,"loc":{"start":{"line":542,"column":23},"end":{"line":544,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":17014,"end":17048,"loc":{"start":{"line":542,"column":29},"end":{"line":544,"column":5}},"body":[{"type":"ExpressionStatement","start":17022,"end":17042,"loc":{"start":{"line":543,"column":6},"end":{"line":543,"column":26}},"expression":{"type":"AssignmentExpression","start":17022,"end":17042,"loc":{"start":{"line":543,"column":6},"end":{"line":543,"column":26}},"operator":"=","left":{"type":"MemberExpression","start":17022,"end":17035,"loc":{"start":{"line":543,"column":6},"end":{"line":543,"column":19}},"object":{"type":"ThisExpression","start":17022,"end":17026,"loc":{"start":{"line":543,"column":6},"end":{"line":543,"column":10}}},"computed":false,"property":{"type":"Identifier","start":17027,"end":17035,"loc":{"start":{"line":543,"column":11},"end":{"line":543,"column":19},"identifierName":"restored"},"name":"restored"},"optional":false},"right":{"type":"Literal","start":17038,"end":17042,"loc":{"start":{"line":543,"column":22},"end":{"line":543,"column":26}},"value":null,"raw":"null"}}}]}}],"optional":false}}]}}},{"type":"MethodDefinition","start":17057,"end":18801,"loc":{"start":{"line":547,"column":2},"end":{"line":608,"column":3}},"static":false,"key":{"type":"Identifier","start":17057,"end":17073,"loc":{"start":{"line":547,"column":2},"end":{"line":547,"column":18},"identifierName":"_connectAssembly"},"name":"_connectAssembly"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":17074,"end":18801,"loc":{"start":{"line":547,"column":19},"end":{"line":608,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":17075,"end":17083,"loc":{"start":{"line":547,"column":20},"end":{"line":547,"column":28},"identifierName":"assembly"},"name":"assembly"}],"body":{"type":"BlockStatement","start":17085,"end":18801,"loc":{"start":{"line":547,"column":30},"end":{"line":608,"column":3}},"body":[{"type":"VariableDeclaration","start":17091,"end":17118,"loc":{"start":{"line":548,"column":4},"end":{"line":548,"column":31}},"declarations":[{"type":"VariableDeclarator","start":17097,"end":17118,"loc":{"start":{"line":548,"column":10},"end":{"line":548,"column":31}},"id":{"type":"ObjectPattern","start":17097,"end":17107,"loc":{"start":{"line":548,"column":10},"end":{"line":548,"column":20}},"properties":[{"type":"Property","start":17099,"end":17105,"loc":{"start":{"line":548,"column":12},"end":{"line":548,"column":18}},"method":false,"key":{"type":"Identifier","start":17099,"end":17105,"loc":{"start":{"line":548,"column":12},"end":{"line":548,"column":18},"identifierName":"status"},"name":"status"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":17099,"end":17105,"loc":{"start":{"line":548,"column":12},"end":{"line":548,"column":18},"identifierName":"status"},"name":"status"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"Identifier","start":17110,"end":17118,"loc":{"start":{"line":548,"column":23},"end":{"line":548,"column":31},"identifierName":"assembly"},"name":"assembly"}}],"kind":"const"},{"type":"VariableDeclaration","start":17123,"end":17152,"loc":{"start":{"line":549,"column":4},"end":{"line":549,"column":33}},"declarations":[{"type":"VariableDeclarator","start":17129,"end":17152,"loc":{"start":{"line":549,"column":10},"end":{"line":549,"column":33}},"id":{"type":"Identifier","start":17129,"end":17131,"loc":{"start":{"line":549,"column":10},"end":{"line":549,"column":12},"identifierName":"id"},"name":"id"},"init":{"type":"MemberExpression","start":17134,"end":17152,"loc":{"start":{"line":549,"column":15},"end":{"line":549,"column":33}},"object":{"type":"Identifier","start":17134,"end":17140,"loc":{"start":{"line":549,"column":15},"end":{"line":549,"column":21},"identifierName":"status"},"name":"status"},"computed":false,"property":{"type":"Identifier","start":17141,"end":17152,"loc":{"start":{"line":549,"column":22},"end":{"line":549,"column":33},"identifierName":"assembly_id"},"name":"assembly_id"},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":17157,"end":17193,"loc":{"start":{"line":550,"column":4},"end":{"line":550,"column":40}},"expression":{"type":"AssignmentExpression","start":17157,"end":17193,"loc":{"start":{"line":550,"column":4},"end":{"line":550,"column":40}},"operator":"=","left":{"type":"MemberExpression","start":17157,"end":17182,"loc":{"start":{"line":550,"column":4},"end":{"line":550,"column":29}},"object":{"type":"MemberExpression","start":17157,"end":17178,"loc":{"start":{"line":550,"column":4},"end":{"line":550,"column":25}},"object":{"type":"ThisExpression","start":17157,"end":17161,"loc":{"start":{"line":550,"column":4},"end":{"line":550,"column":8}}},"computed":false,"property":{"type":"Identifier","start":17162,"end":17178,"loc":{"start":{"line":550,"column":9},"end":{"line":550,"column":25},"identifierName":"activeAssemblies"},"name":"activeAssemblies"},"optional":false},"computed":true,"property":{"type":"Identifier","start":17179,"end":17181,"loc":{"start":{"line":550,"column":26},"end":{"line":550,"column":28},"identifierName":"id"},"name":"id"},"optional":false},"right":{"type":"Identifier","start":17185,"end":17193,"loc":{"start":{"line":550,"column":32},"end":{"line":550,"column":40},"identifierName":"assembly"},"name":"assembly"}},"trailingComments":[{"type":"CommentLine","value":" Sync local `assemblies` state","start":17199,"end":17231,"loc":{"start":{"line":552,"column":4},"end":{"line":552,"column":36}}}]},{"type":"ExpressionStatement","start":17236,"end":17452,"loc":{"start":{"line":553,"column":4},"end":{"line":561,"column":6}},"expression":{"type":"CallExpression","start":17236,"end":17452,"loc":{"start":{"line":553,"column":4},"end":{"line":561,"column":6}},"callee":{"type":"MemberExpression","start":17236,"end":17247,"loc":{"start":{"line":553,"column":4},"end":{"line":553,"column":15}},"object":{"type":"Identifier","start":17236,"end":17244,"loc":{"start":{"line":553,"column":4},"end":{"line":553,"column":12},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":17245,"end":17247,"loc":{"start":{"line":553,"column":13},"end":{"line":553,"column":15},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":17248,"end":17256,"loc":{"start":{"line":553,"column":16},"end":{"line":553,"column":24}},"value":"status","raw":"'status'"},{"type":"ArrowFunctionExpression","start":17258,"end":17451,"loc":{"start":{"line":553,"column":26},"end":{"line":561,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":17259,"end":17268,"loc":{"start":{"line":553,"column":27},"end":{"line":553,"column":36},"identifierName":"newStatus"},"name":"newStatus"}],"body":{"type":"BlockStatement","start":17273,"end":17451,"loc":{"start":{"line":553,"column":41},"end":{"line":561,"column":5}},"body":[{"type":"VariableDeclaration","start":17281,"end":17325,"loc":{"start":{"line":554,"column":6},"end":{"line":554,"column":50}},"declarations":[{"type":"VariableDeclarator","start":17287,"end":17325,"loc":{"start":{"line":554,"column":12},"end":{"line":554,"column":50}},"id":{"type":"ObjectPattern","start":17287,"end":17301,"loc":{"start":{"line":554,"column":12},"end":{"line":554,"column":26}},"properties":[{"type":"Property","start":17289,"end":17299,"loc":{"start":{"line":554,"column":14},"end":{"line":554,"column":24}},"method":false,"key":{"type":"Identifier","start":17289,"end":17299,"loc":{"start":{"line":554,"column":14},"end":{"line":554,"column":24},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":17289,"end":17299,"loc":{"start":{"line":554,"column":14},"end":{"line":554,"column":24},"identifierName":"assemblies"},"name":"assemblies"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"CallExpression","start":17304,"end":17325,"loc":{"start":{"line":554,"column":29},"end":{"line":554,"column":50}},"callee":{"type":"MemberExpression","start":17304,"end":17323,"loc":{"start":{"line":554,"column":29},"end":{"line":554,"column":48}},"object":{"type":"ThisExpression","start":17304,"end":17308,"loc":{"start":{"line":554,"column":29},"end":{"line":554,"column":33}}},"computed":false,"property":{"type":"Identifier","start":17309,"end":17323,"loc":{"start":{"line":554,"column":34},"end":{"line":554,"column":48},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":17332,"end":17445,"loc":{"start":{"line":555,"column":6},"end":{"line":560,"column":8}},"expression":{"type":"CallExpression","start":17332,"end":17445,"loc":{"start":{"line":555,"column":6},"end":{"line":560,"column":8}},"callee":{"type":"MemberExpression","start":17332,"end":17351,"loc":{"start":{"line":555,"column":6},"end":{"line":555,"column":25}},"object":{"type":"ThisExpression","start":17332,"end":17336,"loc":{"start":{"line":555,"column":6},"end":{"line":555,"column":10}}},"computed":false,"property":{"type":"Identifier","start":17337,"end":17351,"loc":{"start":{"line":555,"column":11},"end":{"line":555,"column":25},"identifierName":"setPluginState"},"name":"setPluginState"},"optional":false},"arguments":[{"type":"ObjectExpression","start":17352,"end":17444,"loc":{"start":{"line":555,"column":26},"end":{"line":560,"column":7}},"properties":[{"type":"Property","start":17362,"end":17436,"loc":{"start":{"line":556,"column":8},"end":{"line":559,"column":9}},"method":false,"key":{"type":"Identifier","start":17362,"end":17372,"loc":{"start":{"line":556,"column":8},"end":{"line":556,"column":18},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":17374,"end":17436,"loc":{"start":{"line":556,"column":20},"end":{"line":559,"column":9}},"properties":[{"type":"SpreadElement","start":17386,"end":17399,"loc":{"start":{"line":557,"column":10},"end":{"line":557,"column":23}},"argument":{"type":"Identifier","start":17389,"end":17399,"loc":{"start":{"line":557,"column":13},"end":{"line":557,"column":23},"identifierName":"assemblies"},"name":"assemblies"}},{"type":"Property","start":17411,"end":17426,"loc":{"start":{"line":558,"column":10},"end":{"line":558,"column":25}},"method":false,"computed":true,"key":{"type":"Identifier","start":17412,"end":17414,"loc":{"start":{"line":558,"column":11},"end":{"line":558,"column":13},"identifierName":"id"},"name":"id"},"shorthand":false,"value":{"type":"Identifier","start":17417,"end":17426,"loc":{"start":{"line":558,"column":16},"end":{"line":558,"column":25},"identifierName":"newStatus"},"name":"newStatus"},"kind":"init"}]},"kind":"init"}]}],"optional":false}}]}}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" Sync local `assemblies` state","start":17199,"end":17231,"loc":{"start":{"line":552,"column":4},"end":{"line":552,"column":36}}}]},{"type":"ExpressionStatement","start":17458,"end":17541,"loc":{"start":{"line":563,"column":4},"end":{"line":565,"column":6}},"expression":{"type":"CallExpression","start":17458,"end":17541,"loc":{"start":{"line":563,"column":4},"end":{"line":565,"column":6}},"callee":{"type":"MemberExpression","start":17458,"end":17469,"loc":{"start":{"line":563,"column":4},"end":{"line":563,"column":15}},"object":{"type":"Identifier","start":17458,"end":17466,"loc":{"start":{"line":563,"column":4},"end":{"line":563,"column":12},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":17467,"end":17469,"loc":{"start":{"line":563,"column":13},"end":{"line":563,"column":15},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":17470,"end":17478,"loc":{"start":{"line":563,"column":16},"end":{"line":563,"column":24}},"value":"upload","raw":"'upload'"},{"type":"ArrowFunctionExpression","start":17480,"end":17540,"loc":{"start":{"line":563,"column":26},"end":{"line":565,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":17481,"end":17485,"loc":{"start":{"line":563,"column":27},"end":{"line":563,"column":31},"identifierName":"file"},"name":"file"}],"body":{"type":"BlockStatement","start":17490,"end":17540,"loc":{"start":{"line":563,"column":36},"end":{"line":565,"column":5}},"body":[{"type":"ExpressionStatement","start":17498,"end":17534,"loc":{"start":{"line":564,"column":6},"end":{"line":564,"column":42}},"expression":{"type":"CallExpression","start":17498,"end":17534,"loc":{"start":{"line":564,"column":6},"end":{"line":564,"column":42}},"callee":{"type":"MemberExpression","start":17498,"end":17524,"loc":{"start":{"line":564,"column":6},"end":{"line":564,"column":32}},"object":{"type":"ThisExpression","start":17498,"end":17502,"loc":{"start":{"line":564,"column":6},"end":{"line":564,"column":10}}},"computed":false,"property":{"type":"Identifier","start":17503,"end":17524,"loc":{"start":{"line":564,"column":11},"end":{"line":564,"column":32},"identifierName":"_onFileUploadComplete"},"name":"_onFileUploadComplete"},"optional":false},"arguments":[{"type":"Identifier","start":17525,"end":17527,"loc":{"start":{"line":564,"column":33},"end":{"line":564,"column":35},"identifierName":"id"},"name":"id"},{"type":"Identifier","start":17529,"end":17533,"loc":{"start":{"line":564,"column":37},"end":{"line":564,"column":41},"identifierName":"file"},"name":"file"}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":17546,"end":17700,"loc":{"start":{"line":566,"column":4},"end":{"line":569,"column":6}},"expression":{"type":"CallExpression","start":17546,"end":17700,"loc":{"start":{"line":566,"column":4},"end":{"line":569,"column":6}},"callee":{"type":"MemberExpression","start":17546,"end":17557,"loc":{"start":{"line":566,"column":4},"end":{"line":566,"column":15}},"object":{"type":"Identifier","start":17546,"end":17554,"loc":{"start":{"line":566,"column":4},"end":{"line":566,"column":12},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":17555,"end":17557,"loc":{"start":{"line":566,"column":13},"end":{"line":566,"column":15},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":17558,"end":17565,"loc":{"start":{"line":566,"column":16},"end":{"line":566,"column":23}},"value":"error","raw":"'error'"},{"type":"ArrowFunctionExpression","start":17567,"end":17699,"loc":{"start":{"line":566,"column":25},"end":{"line":569,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":17568,"end":17573,"loc":{"start":{"line":566,"column":26},"end":{"line":566,"column":31},"identifierName":"error"},"name":"error"}],"body":{"type":"BlockStatement","start":17578,"end":17699,"loc":{"start":{"line":566,"column":36},"end":{"line":569,"column":5}},"body":[{"type":"ExpressionStatement","start":17586,"end":17618,"loc":{"start":{"line":567,"column":6},"end":{"line":567,"column":38}},"expression":{"type":"AssignmentExpression","start":17586,"end":17618,"loc":{"start":{"line":567,"column":6},"end":{"line":567,"column":38}},"operator":"=","left":{"type":"MemberExpression","start":17586,"end":17600,"loc":{"start":{"line":567,"column":6},"end":{"line":567,"column":20}},"object":{"type":"Identifier","start":17586,"end":17591,"loc":{"start":{"line":567,"column":6},"end":{"line":567,"column":11},"identifierName":"error"},"name":"error"},"computed":false,"property":{"type":"Identifier","start":17592,"end":17600,"loc":{"start":{"line":567,"column":12},"end":{"line":567,"column":20},"identifierName":"assembly"},"name":"assembly"},"optional":false},"right":{"type":"MemberExpression","start":17603,"end":17618,"loc":{"start":{"line":567,"column":23},"end":{"line":567,"column":38}},"object":{"type":"Identifier","start":17603,"end":17611,"loc":{"start":{"line":567,"column":23},"end":{"line":567,"column":31},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":17612,"end":17618,"loc":{"start":{"line":567,"column":32},"end":{"line":567,"column":38},"identifierName":"status"},"name":"status"},"optional":false}}},{"type":"ExpressionStatement","start":17625,"end":17693,"loc":{"start":{"line":568,"column":6},"end":{"line":568,"column":74}},"expression":{"type":"CallExpression","start":17625,"end":17693,"loc":{"start":{"line":568,"column":6},"end":{"line":568,"column":74}},"callee":{"type":"MemberExpression","start":17625,"end":17639,"loc":{"start":{"line":568,"column":6},"end":{"line":568,"column":20}},"object":{"type":"MemberExpression","start":17625,"end":17634,"loc":{"start":{"line":568,"column":6},"end":{"line":568,"column":15}},"object":{"type":"ThisExpression","start":17625,"end":17629,"loc":{"start":{"line":568,"column":6},"end":{"line":568,"column":10}}},"computed":false,"property":{"type":"Identifier","start":17630,"end":17634,"loc":{"start":{"line":568,"column":11},"end":{"line":568,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":17635,"end":17639,"loc":{"start":{"line":568,"column":16},"end":{"line":568,"column":20},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":17640,"end":17668,"loc":{"start":{"line":568,"column":21},"end":{"line":568,"column":49}},"value":"transloadit:assembly-error","raw":"'transloadit:assembly-error'"},{"type":"MemberExpression","start":17670,"end":17685,"loc":{"start":{"line":568,"column":51},"end":{"line":568,"column":66}},"object":{"type":"Identifier","start":17670,"end":17678,"loc":{"start":{"line":568,"column":51},"end":{"line":568,"column":59},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":17679,"end":17685,"loc":{"start":{"line":568,"column":60},"end":{"line":568,"column":66},"identifierName":"status"},"name":"status"},"optional":false},{"type":"Identifier","start":17687,"end":17692,"loc":{"start":{"line":568,"column":68},"end":{"line":568,"column":73},"identifierName":"error"},"name":"error"}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":17706,"end":17817,"loc":{"start":{"line":571,"column":4},"end":{"line":573,"column":6}},"expression":{"type":"CallExpression","start":17706,"end":17817,"loc":{"start":{"line":571,"column":4},"end":{"line":573,"column":6}},"callee":{"type":"MemberExpression","start":17706,"end":17717,"loc":{"start":{"line":571,"column":4},"end":{"line":571,"column":15}},"object":{"type":"Identifier","start":17706,"end":17714,"loc":{"start":{"line":571,"column":4},"end":{"line":571,"column":12},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":17715,"end":17717,"loc":{"start":{"line":571,"column":13},"end":{"line":571,"column":15},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":17718,"end":17729,"loc":{"start":{"line":571,"column":16},"end":{"line":571,"column":27}},"value":"executing","raw":"'executing'"},{"type":"ArrowFunctionExpression","start":17731,"end":17816,"loc":{"start":{"line":571,"column":29},"end":{"line":573,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":17737,"end":17816,"loc":{"start":{"line":571,"column":35},"end":{"line":573,"column":5}},"body":[{"type":"ExpressionStatement","start":17745,"end":17810,"loc":{"start":{"line":572,"column":6},"end":{"line":572,"column":71}},"expression":{"type":"CallExpression","start":17745,"end":17810,"loc":{"start":{"line":572,"column":6},"end":{"line":572,"column":71}},"callee":{"type":"MemberExpression","start":17745,"end":17759,"loc":{"start":{"line":572,"column":6},"end":{"line":572,"column":20}},"object":{"type":"MemberExpression","start":17745,"end":17754,"loc":{"start":{"line":572,"column":6},"end":{"line":572,"column":15}},"object":{"type":"ThisExpression","start":17745,"end":17749,"loc":{"start":{"line":572,"column":6},"end":{"line":572,"column":10}}},"computed":false,"property":{"type":"Identifier","start":17750,"end":17754,"loc":{"start":{"line":572,"column":11},"end":{"line":572,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":17755,"end":17759,"loc":{"start":{"line":572,"column":16},"end":{"line":572,"column":20},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":17760,"end":17792,"loc":{"start":{"line":572,"column":21},"end":{"line":572,"column":53}},"value":"transloadit:assembly-executing","raw":"'transloadit:assembly-executing'"},{"type":"MemberExpression","start":17794,"end":17809,"loc":{"start":{"line":572,"column":55},"end":{"line":572,"column":70}},"object":{"type":"Identifier","start":17794,"end":17802,"loc":{"start":{"line":572,"column":55},"end":{"line":572,"column":63},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":17803,"end":17809,"loc":{"start":{"line":572,"column":64},"end":{"line":572,"column":70},"identifierName":"status"},"name":"status"},"optional":false}],"optional":false}}]}}],"optional":false}},{"type":"IfStatement","start":17823,"end":17967,"loc":{"start":{"line":575,"column":4},"end":{"line":579,"column":5}},"test":{"type":"MemberExpression","start":17827,"end":17852,"loc":{"start":{"line":575,"column":8},"end":{"line":575,"column":33}},"object":{"type":"MemberExpression","start":17827,"end":17836,"loc":{"start":{"line":575,"column":8},"end":{"line":575,"column":17}},"object":{"type":"ThisExpression","start":17827,"end":17831,"loc":{"start":{"line":575,"column":8},"end":{"line":575,"column":12}}},"computed":false,"property":{"type":"Identifier","start":17832,"end":17836,"loc":{"start":{"line":575,"column":13},"end":{"line":575,"column":17},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":17837,"end":17852,"loc":{"start":{"line":575,"column":18},"end":{"line":575,"column":33},"identifierName":"waitForEncoding"},"name":"waitForEncoding"},"optional":false},"consequent":{"type":"BlockStatement","start":17854,"end":17967,"loc":{"start":{"line":575,"column":35},"end":{"line":579,"column":5}},"body":[{"type":"ExpressionStatement","start":17862,"end":17961,"loc":{"start":{"line":576,"column":6},"end":{"line":578,"column":8}},"expression":{"type":"CallExpression","start":17862,"end":17961,"loc":{"start":{"line":576,"column":6},"end":{"line":578,"column":8}},"callee":{"type":"MemberExpression","start":17862,"end":17873,"loc":{"start":{"line":576,"column":6},"end":{"line":576,"column":17}},"object":{"type":"Identifier","start":17862,"end":17870,"loc":{"start":{"line":576,"column":6},"end":{"line":576,"column":14},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":17871,"end":17873,"loc":{"start":{"line":576,"column":15},"end":{"line":576,"column":17},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":17874,"end":17882,"loc":{"start":{"line":576,"column":18},"end":{"line":576,"column":26}},"value":"result","raw":"'result'"},{"type":"ArrowFunctionExpression","start":17884,"end":17960,"loc":{"start":{"line":576,"column":28},"end":{"line":578,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":17885,"end":17893,"loc":{"start":{"line":576,"column":29},"end":{"line":576,"column":37},"identifierName":"stepName"},"name":"stepName"},{"type":"Identifier","start":17895,"end":17901,"loc":{"start":{"line":576,"column":39},"end":{"line":576,"column":45},"identifierName":"result"},"name":"result"}],"body":{"type":"BlockStatement","start":17906,"end":17960,"loc":{"start":{"line":576,"column":50},"end":{"line":578,"column":7}},"body":[{"type":"ExpressionStatement","start":17916,"end":17952,"loc":{"start":{"line":577,"column":8},"end":{"line":577,"column":44}},"expression":{"type":"CallExpression","start":17916,"end":17952,"loc":{"start":{"line":577,"column":8},"end":{"line":577,"column":44}},"callee":{"type":"MemberExpression","start":17916,"end":17930,"loc":{"start":{"line":577,"column":8},"end":{"line":577,"column":22}},"object":{"type":"ThisExpression","start":17916,"end":17920,"loc":{"start":{"line":577,"column":8},"end":{"line":577,"column":12}}},"computed":false,"property":{"type":"Identifier","start":17921,"end":17930,"loc":{"start":{"line":577,"column":13},"end":{"line":577,"column":22},"identifierName":"_onResult"},"name":"_onResult"},"optional":false},"arguments":[{"type":"Identifier","start":17931,"end":17933,"loc":{"start":{"line":577,"column":23},"end":{"line":577,"column":25},"identifierName":"id"},"name":"id"},{"type":"Identifier","start":17935,"end":17943,"loc":{"start":{"line":577,"column":27},"end":{"line":577,"column":35},"identifierName":"stepName"},"name":"stepName"},{"type":"Identifier","start":17945,"end":17951,"loc":{"start":{"line":577,"column":37},"end":{"line":577,"column":43},"identifierName":"result"},"name":"result"}],"optional":false}}]}}],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":17973,"end":18249,"loc":{"start":{"line":581,"column":4},"end":{"line":589,"column":5}},"test":{"type":"MemberExpression","start":17977,"end":18002,"loc":{"start":{"line":581,"column":8},"end":{"line":581,"column":33}},"object":{"type":"MemberExpression","start":17977,"end":17986,"loc":{"start":{"line":581,"column":8},"end":{"line":581,"column":17}},"object":{"type":"ThisExpression","start":17977,"end":17981,"loc":{"start":{"line":581,"column":8},"end":{"line":581,"column":12}}},"computed":false,"property":{"type":"Identifier","start":17982,"end":17986,"loc":{"start":{"line":581,"column":13},"end":{"line":581,"column":17},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":17987,"end":18002,"loc":{"start":{"line":581,"column":18},"end":{"line":581,"column":33},"identifierName":"waitForEncoding"},"name":"waitForEncoding"},"optional":false},"consequent":{"type":"BlockStatement","start":18004,"end":18108,"loc":{"start":{"line":581,"column":35},"end":{"line":585,"column":5}},"body":[{"type":"ExpressionStatement","start":18012,"end":18102,"loc":{"start":{"line":582,"column":6},"end":{"line":584,"column":8}},"expression":{"type":"CallExpression","start":18012,"end":18102,"loc":{"start":{"line":582,"column":6},"end":{"line":584,"column":8}},"callee":{"type":"MemberExpression","start":18012,"end":18023,"loc":{"start":{"line":582,"column":6},"end":{"line":582,"column":17}},"object":{"type":"Identifier","start":18012,"end":18020,"loc":{"start":{"line":582,"column":6},"end":{"line":582,"column":14},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":18021,"end":18023,"loc":{"start":{"line":582,"column":15},"end":{"line":582,"column":17},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":18024,"end":18034,"loc":{"start":{"line":582,"column":18},"end":{"line":582,"column":28}},"value":"finished","raw":"'finished'"},{"type":"ArrowFunctionExpression","start":18036,"end":18101,"loc":{"start":{"line":582,"column":30},"end":{"line":584,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":18042,"end":18101,"loc":{"start":{"line":582,"column":36},"end":{"line":584,"column":7}},"body":[{"type":"ExpressionStatement","start":18052,"end":18093,"loc":{"start":{"line":583,"column":8},"end":{"line":583,"column":49}},"expression":{"type":"CallExpression","start":18052,"end":18093,"loc":{"start":{"line":583,"column":8},"end":{"line":583,"column":49}},"callee":{"type":"MemberExpression","start":18052,"end":18076,"loc":{"start":{"line":583,"column":8},"end":{"line":583,"column":32}},"object":{"type":"ThisExpression","start":18052,"end":18056,"loc":{"start":{"line":583,"column":8},"end":{"line":583,"column":12}}},"computed":false,"property":{"type":"Identifier","start":18057,"end":18076,"loc":{"start":{"line":583,"column":13},"end":{"line":583,"column":32},"identifierName":"_onAssemblyFinished"},"name":"_onAssemblyFinished"},"optional":false},"arguments":[{"type":"MemberExpression","start":18077,"end":18092,"loc":{"start":{"line":583,"column":33},"end":{"line":583,"column":48}},"object":{"type":"Identifier","start":18077,"end":18085,"loc":{"start":{"line":583,"column":33},"end":{"line":583,"column":41},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":18086,"end":18092,"loc":{"start":{"line":583,"column":42},"end":{"line":583,"column":48},"identifierName":"status"},"name":"status"},"optional":false}],"optional":false}}]}}],"optional":false}}]},"alternate":{"type":"IfStatement","start":18114,"end":18249,"loc":{"start":{"line":585,"column":11},"end":{"line":589,"column":5}},"test":{"type":"MemberExpression","start":18118,"end":18143,"loc":{"start":{"line":585,"column":15},"end":{"line":585,"column":40}},"object":{"type":"MemberExpression","start":18118,"end":18127,"loc":{"start":{"line":585,"column":15},"end":{"line":585,"column":24}},"object":{"type":"ThisExpression","start":18118,"end":18122,"loc":{"start":{"line":585,"column":15},"end":{"line":585,"column":19}}},"computed":false,"property":{"type":"Identifier","start":18123,"end":18127,"loc":{"start":{"line":585,"column":20},"end":{"line":585,"column":24},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":18128,"end":18143,"loc":{"start":{"line":585,"column":25},"end":{"line":585,"column":40},"identifierName":"waitForMetadata"},"name":"waitForMetadata"},"optional":false},"consequent":{"type":"BlockStatement","start":18145,"end":18249,"loc":{"start":{"line":585,"column":42},"end":{"line":589,"column":5}},"body":[{"type":"ExpressionStatement","start":18153,"end":18243,"loc":{"start":{"line":586,"column":6},"end":{"line":588,"column":8}},"expression":{"type":"CallExpression","start":18153,"end":18243,"loc":{"start":{"line":586,"column":6},"end":{"line":588,"column":8}},"callee":{"type":"MemberExpression","start":18153,"end":18164,"loc":{"start":{"line":586,"column":6},"end":{"line":586,"column":17}},"object":{"type":"Identifier","start":18153,"end":18161,"loc":{"start":{"line":586,"column":6},"end":{"line":586,"column":14},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":18162,"end":18164,"loc":{"start":{"line":586,"column":15},"end":{"line":586,"column":17},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":18165,"end":18175,"loc":{"start":{"line":586,"column":18},"end":{"line":586,"column":28}},"value":"metadata","raw":"'metadata'"},{"type":"ArrowFunctionExpression","start":18177,"end":18242,"loc":{"start":{"line":586,"column":30},"end":{"line":588,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":18183,"end":18242,"loc":{"start":{"line":586,"column":36},"end":{"line":588,"column":7}},"body":[{"type":"ExpressionStatement","start":18193,"end":18234,"loc":{"start":{"line":587,"column":8},"end":{"line":587,"column":49}},"expression":{"type":"CallExpression","start":18193,"end":18234,"loc":{"start":{"line":587,"column":8},"end":{"line":587,"column":49}},"callee":{"type":"MemberExpression","start":18193,"end":18217,"loc":{"start":{"line":587,"column":8},"end":{"line":587,"column":32}},"object":{"type":"ThisExpression","start":18193,"end":18197,"loc":{"start":{"line":587,"column":8},"end":{"line":587,"column":12}}},"computed":false,"property":{"type":"Identifier","start":18198,"end":18217,"loc":{"start":{"line":587,"column":13},"end":{"line":587,"column":32},"identifierName":"_onAssemblyFinished"},"name":"_onAssemblyFinished"},"optional":false},"arguments":[{"type":"MemberExpression","start":18218,"end":18233,"loc":{"start":{"line":587,"column":33},"end":{"line":587,"column":48}},"object":{"type":"Identifier","start":18218,"end":18226,"loc":{"start":{"line":587,"column":33},"end":{"line":587,"column":41},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":18227,"end":18233,"loc":{"start":{"line":587,"column":42},"end":{"line":587,"column":48},"identifierName":"status"},"name":"status"},"optional":false}],"optional":false}}]}}],"optional":false}}]},"alternate":null},"trailingComments":[{"type":"CommentLine","value":" No need to connect to the socket if the Assembly has completed by now.","start":18255,"end":18328,"loc":{"start":{"line":591,"column":4},"end":{"line":591,"column":77}}}]},{"type":"IfStatement","start":18333,"end":18403,"loc":{"start":{"line":592,"column":4},"end":{"line":594,"column":5}},"test":{"type":"BinaryExpression","start":18337,"end":18372,"loc":{"start":{"line":592,"column":8},"end":{"line":592,"column":43}},"left":{"type":"MemberExpression","start":18337,"end":18348,"loc":{"start":{"line":592,"column":8},"end":{"line":592,"column":19}},"object":{"type":"Identifier","start":18337,"end":18345,"loc":{"start":{"line":592,"column":8},"end":{"line":592,"column":16},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":18346,"end":18348,"loc":{"start":{"line":592,"column":17},"end":{"line":592,"column":19},"identifierName":"ok"},"name":"ok"},"optional":false},"operator":"===","right":{"type":"Literal","start":18353,"end":18372,"loc":{"start":{"line":592,"column":24},"end":{"line":592,"column":43}},"value":"ASSEMBLY_COMPLETE","raw":"'ASSEMBLY_COMPLETE'"}},"consequent":{"type":"BlockStatement","start":18374,"end":18403,"loc":{"start":{"line":592,"column":45},"end":{"line":594,"column":5}},"body":[{"type":"ReturnStatement","start":18382,"end":18397,"loc":{"start":{"line":593,"column":6},"end":{"line":593,"column":21}},"argument":{"type":"Identifier","start":18389,"end":18397,"loc":{"start":{"line":593,"column":13},"end":{"line":593,"column":21},"identifierName":"assembly"},"name":"assembly"}}]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" No need to connect to the socket if the Assembly has completed by now.","start":18255,"end":18328,"loc":{"start":{"line":591,"column":4},"end":{"line":591,"column":77}}}],"trailingComments":[{"type":"CommentLine","value":" TODO Do we still need this for anything…?","start":18409,"end":18453,"loc":{"start":{"line":596,"column":4},"end":{"line":596,"column":48}}},{"type":"CommentLine","value":" eslint-disable-next-line no-unused-vars","start":18458,"end":18500,"loc":{"start":{"line":597,"column":4},"end":{"line":597,"column":46}}}]},{"type":"VariableDeclaration","start":18505,"end":18753,"loc":{"start":{"line":598,"column":4},"end":{"line":604,"column":6}},"declarations":[{"type":"VariableDeclarator","start":18511,"end":18753,"loc":{"start":{"line":598,"column":10},"end":{"line":604,"column":6}},"id":{"type":"Identifier","start":18511,"end":18520,"loc":{"start":{"line":598,"column":10},"end":{"line":598,"column":19},"identifierName":"connected"},"name":"connected"},"init":{"type":"CallExpression","start":18523,"end":18753,"loc":{"start":{"line":598,"column":22},"end":{"line":604,"column":6}},"callee":{"type":"MemberExpression","start":18523,"end":18685,"loc":{"start":{"line":598,"column":22},"end":{"line":602,"column":11}},"object":{"type":"NewExpression","start":18523,"end":18680,"loc":{"start":{"line":598,"column":22},"end":{"line":602,"column":6}},"callee":{"type":"Identifier","start":18527,"end":18534,"loc":{"start":{"line":598,"column":26},"end":{"line":598,"column":33},"identifierName":"Promise"},"name":"Promise"},"typeArguments":null,"arguments":[{"type":"ArrowFunctionExpression","start":18535,"end":18679,"loc":{"start":{"line":598,"column":34},"end":{"line":602,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":18536,"end":18543,"loc":{"start":{"line":598,"column":35},"end":{"line":598,"column":42},"identifierName":"resolve"},"name":"resolve"},{"type":"Identifier","start":18545,"end":18551,"loc":{"start":{"line":598,"column":44},"end":{"line":598,"column":50},"identifierName":"reject"},"name":"reject"}],"body":{"type":"BlockStatement","start":18556,"end":18679,"loc":{"start":{"line":598,"column":55},"end":{"line":602,"column":5}},"body":[{"type":"ExpressionStatement","start":18564,"end":18597,"loc":{"start":{"line":599,"column":6},"end":{"line":599,"column":39}},"expression":{"type":"CallExpression","start":18564,"end":18597,"loc":{"start":{"line":599,"column":6},"end":{"line":599,"column":39}},"callee":{"type":"MemberExpression","start":18564,"end":18577,"loc":{"start":{"line":599,"column":6},"end":{"line":599,"column":19}},"object":{"type":"Identifier","start":18564,"end":18572,"loc":{"start":{"line":599,"column":6},"end":{"line":599,"column":14},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":18573,"end":18577,"loc":{"start":{"line":599,"column":15},"end":{"line":599,"column":19},"identifierName":"once"},"name":"once"},"optional":false},"arguments":[{"type":"Literal","start":18578,"end":18587,"loc":{"start":{"line":599,"column":20},"end":{"line":599,"column":29}},"value":"connect","raw":"'connect'"},{"type":"Identifier","start":18589,"end":18596,"loc":{"start":{"line":599,"column":31},"end":{"line":599,"column":38},"identifierName":"resolve"},"name":"resolve"}],"optional":false}},{"type":"ExpressionStatement","start":18604,"end":18636,"loc":{"start":{"line":600,"column":6},"end":{"line":600,"column":38}},"expression":{"type":"CallExpression","start":18604,"end":18636,"loc":{"start":{"line":600,"column":6},"end":{"line":600,"column":38}},"callee":{"type":"MemberExpression","start":18604,"end":18617,"loc":{"start":{"line":600,"column":6},"end":{"line":600,"column":19}},"object":{"type":"Identifier","start":18604,"end":18612,"loc":{"start":{"line":600,"column":6},"end":{"line":600,"column":14},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":18613,"end":18617,"loc":{"start":{"line":600,"column":15},"end":{"line":600,"column":19},"identifierName":"once"},"name":"once"},"optional":false},"arguments":[{"type":"Literal","start":18618,"end":18626,"loc":{"start":{"line":600,"column":20},"end":{"line":600,"column":28}},"value":"status","raw":"'status'"},{"type":"Identifier","start":18628,"end":18635,"loc":{"start":{"line":600,"column":30},"end":{"line":600,"column":37},"identifierName":"resolve"},"name":"resolve"}],"optional":false}},{"type":"ExpressionStatement","start":18643,"end":18673,"loc":{"start":{"line":601,"column":6},"end":{"line":601,"column":36}},"expression":{"type":"CallExpression","start":18643,"end":18673,"loc":{"start":{"line":601,"column":6},"end":{"line":601,"column":36}},"callee":{"type":"MemberExpression","start":18643,"end":18656,"loc":{"start":{"line":601,"column":6},"end":{"line":601,"column":19}},"object":{"type":"Identifier","start":18643,"end":18651,"loc":{"start":{"line":601,"column":6},"end":{"line":601,"column":14},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":18652,"end":18656,"loc":{"start":{"line":601,"column":15},"end":{"line":601,"column":19},"identifierName":"once"},"name":"once"},"optional":false},"arguments":[{"type":"Literal","start":18657,"end":18664,"loc":{"start":{"line":601,"column":20},"end":{"line":601,"column":27}},"value":"error","raw":"'error'"},{"type":"Identifier","start":18666,"end":18672,"loc":{"start":{"line":601,"column":29},"end":{"line":601,"column":35},"identifierName":"reject"},"name":"reject"}],"optional":false}}]}}]},"computed":false,"property":{"type":"Identifier","start":18681,"end":18685,"loc":{"start":{"line":602,"column":7},"end":{"line":602,"column":11},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":18686,"end":18752,"loc":{"start":{"line":602,"column":12},"end":{"line":604,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":18692,"end":18752,"loc":{"start":{"line":602,"column":18},"end":{"line":604,"column":5}},"body":[{"type":"ExpressionStatement","start":18700,"end":18746,"loc":{"start":{"line":603,"column":6},"end":{"line":603,"column":52}},"expression":{"type":"CallExpression","start":18700,"end":18746,"loc":{"start":{"line":603,"column":6},"end":{"line":603,"column":52}},"callee":{"type":"MemberExpression","start":18700,"end":18713,"loc":{"start":{"line":603,"column":6},"end":{"line":603,"column":19}},"object":{"type":"MemberExpression","start":18700,"end":18709,"loc":{"start":{"line":603,"column":6},"end":{"line":603,"column":15}},"object":{"type":"ThisExpression","start":18700,"end":18704,"loc":{"start":{"line":603,"column":6},"end":{"line":603,"column":10}}},"computed":false,"property":{"type":"Identifier","start":18705,"end":18709,"loc":{"start":{"line":603,"column":11},"end":{"line":603,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":18710,"end":18713,"loc":{"start":{"line":603,"column":16},"end":{"line":603,"column":19},"identifierName":"log"},"name":"log"},"optional":false},"arguments":[{"type":"Literal","start":18714,"end":18745,"loc":{"start":{"line":603,"column":20},"end":{"line":603,"column":51}},"value":"[Transloadit] Socket is ready","raw":"'[Transloadit] Socket is ready'"}],"optional":false}}]}}],"optional":false}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" TODO Do we still need this for anything…?","start":18409,"end":18453,"loc":{"start":{"line":596,"column":4},"end":{"line":596,"column":48}}},{"type":"CommentLine","value":" eslint-disable-next-line no-unused-vars","start":18458,"end":18500,"loc":{"start":{"line":597,"column":4},"end":{"line":597,"column":46}}}]},{"type":"ExpressionStatement","start":18759,"end":18777,"loc":{"start":{"line":606,"column":4},"end":{"line":606,"column":22}},"expression":{"type":"CallExpression","start":18759,"end":18777,"loc":{"start":{"line":606,"column":4},"end":{"line":606,"column":22}},"callee":{"type":"MemberExpression","start":18759,"end":18775,"loc":{"start":{"line":606,"column":4},"end":{"line":606,"column":20}},"object":{"type":"Identifier","start":18759,"end":18767,"loc":{"start":{"line":606,"column":4},"end":{"line":606,"column":12},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":18768,"end":18775,"loc":{"start":{"line":606,"column":13},"end":{"line":606,"column":20},"identifierName":"connect"},"name":"connect"},"optional":false},"arguments":[],"optional":false}},{"type":"ReturnStatement","start":18782,"end":18797,"loc":{"start":{"line":607,"column":4},"end":{"line":607,"column":19}},"argument":{"type":"Identifier","start":18789,"end":18797,"loc":{"start":{"line":607,"column":11},"end":{"line":607,"column":19},"identifierName":"assembly"},"name":"assembly"}}]}}},{"type":"MethodDefinition","start":18805,"end":21163,"loc":{"start":{"line":610,"column":2},"end":{"line":677,"column":3}},"static":false,"key":{"type":"Identifier","start":18805,"end":18819,"loc":{"start":{"line":610,"column":2},"end":{"line":610,"column":16},"identifierName":"_prepareUpload"},"name":"_prepareUpload"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":18820,"end":21163,"loc":{"start":{"line":610,"column":17},"end":{"line":677,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":18821,"end":18828,"loc":{"start":{"line":610,"column":18},"end":{"line":610,"column":25},"identifierName":"fileIDs"},"name":"fileIDs"},{"type":"Identifier","start":18830,"end":18838,"loc":{"start":{"line":610,"column":27},"end":{"line":610,"column":35},"identifierName":"uploadID"},"name":"uploadID"}],"body":{"type":"BlockStatement","start":18840,"end":21163,"loc":{"start":{"line":610,"column":37},"end":{"line":677,"column":3}},"body":[{"type":"ExpressionStatement","start":18883,"end":18930,"loc":{"start":{"line":612,"column":4},"end":{"line":612,"column":51}},"expression":{"type":"AssignmentExpression","start":18883,"end":18930,"loc":{"start":{"line":612,"column":4},"end":{"line":612,"column":51}},"operator":"=","left":{"type":"Identifier","start":18883,"end":18890,"loc":{"start":{"line":612,"column":4},"end":{"line":612,"column":11},"identifierName":"fileIDs"},"name":"fileIDs"},"right":{"type":"CallExpression","start":18893,"end":18930,"loc":{"start":{"line":612,"column":14},"end":{"line":612,"column":51}},"callee":{"type":"MemberExpression","start":18893,"end":18907,"loc":{"start":{"line":612,"column":14},"end":{"line":612,"column":28}},"object":{"type":"Identifier","start":18893,"end":18900,"loc":{"start":{"line":612,"column":14},"end":{"line":612,"column":21},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"property":{"type":"Identifier","start":18901,"end":18907,"loc":{"start":{"line":612,"column":22},"end":{"line":612,"column":28},"identifierName":"filter"},"name":"filter"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":18908,"end":18929,"loc":{"start":{"line":612,"column":29},"end":{"line":612,"column":50}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":18909,"end":18913,"loc":{"start":{"line":612,"column":30},"end":{"line":612,"column":34},"identifierName":"file"},"name":"file"}],"body":{"type":"UnaryExpression","start":18918,"end":18929,"loc":{"start":{"line":612,"column":39},"end":{"line":612,"column":50}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":18919,"end":18929,"loc":{"start":{"line":612,"column":40},"end":{"line":612,"column":50}},"object":{"type":"Identifier","start":18919,"end":18923,"loc":{"start":{"line":612,"column":40},"end":{"line":612,"column":44},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":18924,"end":18929,"loc":{"start":{"line":612,"column":45},"end":{"line":612,"column":50},"identifierName":"error"},"name":"error"},"optional":false}}}],"optional":false}},"leadingComments":[{"type":"CommentLine","value":" Only use files without errors","start":18846,"end":18878,"loc":{"start":{"line":611,"column":4},"end":{"line":611,"column":36}}}]},{"type":"ExpressionStatement","start":18936,"end":19156,"loc":{"start":{"line":614,"column":4},"end":{"line":620,"column":6}},"expression":{"type":"CallExpression","start":18936,"end":19156,"loc":{"start":{"line":614,"column":4},"end":{"line":620,"column":6}},"callee":{"type":"MemberExpression","start":18936,"end":18951,"loc":{"start":{"line":614,"column":4},"end":{"line":614,"column":19}},"object":{"type":"Identifier","start":18936,"end":18943,"loc":{"start":{"line":614,"column":4},"end":{"line":614,"column":11},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"property":{"type":"Identifier","start":18944,"end":18951,"loc":{"start":{"line":614,"column":12},"end":{"line":614,"column":19},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":18952,"end":19155,"loc":{"start":{"line":614,"column":20},"end":{"line":620,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":18953,"end":18959,"loc":{"start":{"line":614,"column":21},"end":{"line":614,"column":27},"identifierName":"fileID"},"name":"fileID"}],"body":{"type":"BlockStatement","start":18964,"end":19155,"loc":{"start":{"line":614,"column":32},"end":{"line":620,"column":5}},"body":[{"type":"VariableDeclaration","start":18972,"end":19010,"loc":{"start":{"line":615,"column":6},"end":{"line":615,"column":44}},"declarations":[{"type":"VariableDeclarator","start":18978,"end":19010,"loc":{"start":{"line":615,"column":12},"end":{"line":615,"column":44}},"id":{"type":"Identifier","start":18978,"end":18982,"loc":{"start":{"line":615,"column":12},"end":{"line":615,"column":16},"identifierName":"file"},"name":"file"},"init":{"type":"CallExpression","start":18985,"end":19010,"loc":{"start":{"line":615,"column":19},"end":{"line":615,"column":44}},"callee":{"type":"MemberExpression","start":18985,"end":19002,"loc":{"start":{"line":615,"column":19},"end":{"line":615,"column":36}},"object":{"type":"MemberExpression","start":18985,"end":18994,"loc":{"start":{"line":615,"column":19},"end":{"line":615,"column":28}},"object":{"type":"ThisExpression","start":18985,"end":18989,"loc":{"start":{"line":615,"column":19},"end":{"line":615,"column":23}}},"computed":false,"property":{"type":"Identifier","start":18990,"end":18994,"loc":{"start":{"line":615,"column":24},"end":{"line":615,"column":28},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":18995,"end":19002,"loc":{"start":{"line":615,"column":29},"end":{"line":615,"column":36},"identifierName":"getFile"},"name":"getFile"},"optional":false},"arguments":[{"type":"Identifier","start":19003,"end":19009,"loc":{"start":{"line":615,"column":37},"end":{"line":615,"column":43},"identifierName":"fileID"},"name":"fileID"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":19017,"end":19149,"loc":{"start":{"line":616,"column":6},"end":{"line":619,"column":8}},"expression":{"type":"CallExpression","start":19017,"end":19149,"loc":{"start":{"line":616,"column":6},"end":{"line":619,"column":8}},"callee":{"type":"MemberExpression","start":19017,"end":19031,"loc":{"start":{"line":616,"column":6},"end":{"line":616,"column":20}},"object":{"type":"MemberExpression","start":19017,"end":19026,"loc":{"start":{"line":616,"column":6},"end":{"line":616,"column":15}},"object":{"type":"ThisExpression","start":19017,"end":19021,"loc":{"start":{"line":616,"column":6},"end":{"line":616,"column":10}}},"computed":false,"property":{"type":"Identifier","start":19022,"end":19026,"loc":{"start":{"line":616,"column":11},"end":{"line":616,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":19027,"end":19031,"loc":{"start":{"line":616,"column":16},"end":{"line":616,"column":20},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":19032,"end":19053,"loc":{"start":{"line":616,"column":21},"end":{"line":616,"column":42}},"value":"preprocess-progress","raw":"'preprocess-progress'"},{"type":"Identifier","start":19055,"end":19059,"loc":{"start":{"line":616,"column":44},"end":{"line":616,"column":48},"identifierName":"file"},"name":"file"},{"type":"ObjectExpression","start":19061,"end":19148,"loc":{"start":{"line":616,"column":50},"end":{"line":619,"column":7}},"properties":[{"type":"Property","start":19071,"end":19092,"loc":{"start":{"line":617,"column":8},"end":{"line":617,"column":29}},"method":false,"key":{"type":"Identifier","start":19071,"end":19075,"loc":{"start":{"line":617,"column":8},"end":{"line":617,"column":12},"identifierName":"mode"},"name":"mode"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":19077,"end":19092,"loc":{"start":{"line":617,"column":14},"end":{"line":617,"column":29}},"value":"indeterminate","raw":"'indeterminate'"},"kind":"init"},{"type":"Property","start":19102,"end":19140,"loc":{"start":{"line":618,"column":8},"end":{"line":618,"column":46}},"method":false,"key":{"type":"Identifier","start":19102,"end":19109,"loc":{"start":{"line":618,"column":8},"end":{"line":618,"column":15},"identifierName":"message"},"name":"message"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","start":19111,"end":19140,"loc":{"start":{"line":618,"column":17},"end":{"line":618,"column":46}},"callee":{"type":"MemberExpression","start":19111,"end":19120,"loc":{"start":{"line":618,"column":17},"end":{"line":618,"column":26}},"object":{"type":"ThisExpression","start":19111,"end":19115,"loc":{"start":{"line":618,"column":17},"end":{"line":618,"column":21}}},"computed":false,"property":{"type":"Identifier","start":19116,"end":19120,"loc":{"start":{"line":618,"column":22},"end":{"line":618,"column":26},"identifierName":"i18n"},"name":"i18n"},"optional":false},"arguments":[{"type":"Literal","start":19121,"end":19139,"loc":{"start":{"line":618,"column":27},"end":{"line":618,"column":45}},"value":"creatingAssembly","raw":"'creatingAssembly'"}],"optional":false},"kind":"init"}]}],"optional":false}}]}}],"optional":false}},{"type":"VariableDeclaration","start":19162,"end":20092,"loc":{"start":{"line":622,"column":4},"end":{"line":645,"column":5}},"declarations":[{"type":"VariableDeclarator","start":19168,"end":20092,"loc":{"start":{"line":622,"column":10},"end":{"line":645,"column":5}},"id":{"type":"Identifier","start":19168,"end":19182,"loc":{"start":{"line":622,"column":10},"end":{"line":622,"column":24},"identifierName":"createAssembly"},"name":"createAssembly"},"init":{"type":"ArrowFunctionExpression","start":19185,"end":20092,"loc":{"start":{"line":622,"column":27},"end":{"line":645,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"ObjectPattern","start":19186,"end":19206,"loc":{"start":{"line":622,"column":28},"end":{"line":622,"column":48}},"properties":[{"type":"Property","start":19188,"end":19195,"loc":{"start":{"line":622,"column":30},"end":{"line":622,"column":37}},"method":false,"key":{"type":"Identifier","start":19188,"end":19195,"loc":{"start":{"line":622,"column":30},"end":{"line":622,"column":37},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":19188,"end":19195,"loc":{"start":{"line":622,"column":30},"end":{"line":622,"column":37},"identifierName":"fileIDs"},"name":"fileIDs"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":19197,"end":19204,"loc":{"start":{"line":622,"column":39},"end":{"line":622,"column":46}},"method":false,"key":{"type":"Identifier","start":19197,"end":19204,"loc":{"start":{"line":622,"column":39},"end":{"line":622,"column":46},"identifierName":"options"},"name":"options"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":19197,"end":19204,"loc":{"start":{"line":622,"column":39},"end":{"line":622,"column":46},"identifierName":"options"},"name":"options"},"kind":"init","extra":{"shorthand":true}}]}],"body":{"type":"BlockStatement","start":19211,"end":20092,"loc":{"start":{"line":622,"column":53},"end":{"line":645,"column":5}},"body":[{"type":"VariableDeclaration","start":19219,"end":19238,"loc":{"start":{"line":623,"column":6},"end":{"line":623,"column":25}},"declarations":[{"type":"VariableDeclarator","start":19223,"end":19238,"loc":{"start":{"line":623,"column":10},"end":{"line":623,"column":25}},"id":{"type":"Identifier","start":19223,"end":19238,"loc":{"start":{"line":623,"column":10},"end":{"line":623,"column":25},"identifierName":"createdAssembly"},"name":"createdAssembly"},"init":null}],"kind":"let"},{"type":"ReturnStatement","start":19245,"end":20086,"loc":{"start":{"line":624,"column":6},"end":{"line":644,"column":8}},"argument":{"type":"CallExpression","start":19252,"end":20086,"loc":{"start":{"line":624,"column":13},"end":{"line":644,"column":8}},"callee":{"type":"MemberExpression","start":19252,"end":19687,"loc":{"start":{"line":624,"column":13},"end":{"line":635,"column":14}},"object":{"type":"CallExpression","start":19252,"end":19681,"loc":{"start":{"line":624,"column":13},"end":{"line":635,"column":8}},"callee":{"type":"MemberExpression","start":19252,"end":19481,"loc":{"start":{"line":624,"column":13},"end":{"line":629,"column":13}},"object":{"type":"CallExpression","start":19252,"end":19476,"loc":{"start":{"line":624,"column":13},"end":{"line":629,"column":8}},"callee":{"type":"MemberExpression","start":19252,"end":19305,"loc":{"start":{"line":624,"column":13},"end":{"line":624,"column":66}},"object":{"type":"CallExpression","start":19252,"end":19300,"loc":{"start":{"line":624,"column":13},"end":{"line":624,"column":61}},"callee":{"type":"MemberExpression","start":19252,"end":19272,"loc":{"start":{"line":624,"column":13},"end":{"line":624,"column":33}},"object":{"type":"ThisExpression","start":19252,"end":19256,"loc":{"start":{"line":624,"column":13},"end":{"line":624,"column":17}}},"computed":false,"property":{"type":"Identifier","start":19257,"end":19272,"loc":{"start":{"line":624,"column":18},"end":{"line":624,"column":33},"identifierName":"_createAssembly"},"name":"_createAssembly"},"optional":false},"arguments":[{"type":"Identifier","start":19273,"end":19280,"loc":{"start":{"line":624,"column":34},"end":{"line":624,"column":41},"identifierName":"fileIDs"},"name":"fileIDs"},{"type":"Identifier","start":19282,"end":19290,"loc":{"start":{"line":624,"column":43},"end":{"line":624,"column":51},"identifierName":"uploadID"},"name":"uploadID"},{"type":"Identifier","start":19292,"end":19299,"loc":{"start":{"line":624,"column":53},"end":{"line":624,"column":60},"identifierName":"options"},"name":"options"}],"optional":false},"computed":false,"property":{"type":"Identifier","start":19301,"end":19305,"loc":{"start":{"line":624,"column":62},"end":{"line":624,"column":66},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":19306,"end":19475,"loc":{"start":{"line":624,"column":67},"end":{"line":629,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":19307,"end":19315,"loc":{"start":{"line":624,"column":68},"end":{"line":624,"column":76},"identifierName":"assembly"},"name":"assembly"}],"body":{"type":"BlockStatement","start":19320,"end":19475,"loc":{"start":{"line":624,"column":81},"end":{"line":629,"column":7}},"body":[{"type":"ExpressionStatement","start":19330,"end":19356,"loc":{"start":{"line":625,"column":8},"end":{"line":625,"column":34}},"expression":{"type":"AssignmentExpression","start":19330,"end":19356,"loc":{"start":{"line":625,"column":8},"end":{"line":625,"column":34}},"operator":"=","left":{"type":"Identifier","start":19330,"end":19345,"loc":{"start":{"line":625,"column":8},"end":{"line":625,"column":23},"identifierName":"createdAssembly"},"name":"createdAssembly"},"right":{"type":"Identifier","start":19348,"end":19356,"loc":{"start":{"line":625,"column":26},"end":{"line":625,"column":34},"identifierName":"assembly"},"name":"assembly"}}},{"type":"IfStatement","start":19365,"end":19467,"loc":{"start":{"line":626,"column":8},"end":{"line":628,"column":9}},"test":{"type":"MemberExpression","start":19369,"end":19399,"loc":{"start":{"line":626,"column":12},"end":{"line":626,"column":42}},"object":{"type":"MemberExpression","start":19369,"end":19378,"loc":{"start":{"line":626,"column":12},"end":{"line":626,"column":21}},"object":{"type":"ThisExpression","start":19369,"end":19373,"loc":{"start":{"line":626,"column":12},"end":{"line":626,"column":16}}},"computed":false,"property":{"type":"Identifier","start":19374,"end":19378,"loc":{"start":{"line":626,"column":17},"end":{"line":626,"column":21},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":19379,"end":19399,"loc":{"start":{"line":626,"column":22},"end":{"line":626,"column":42},"identifierName":"importFromUploadURLs"},"name":"importFromUploadURLs"},"optional":false},"consequent":{"type":"BlockStatement","start":19401,"end":19467,"loc":{"start":{"line":626,"column":44},"end":{"line":628,"column":9}},"body":[{"type":"ReturnStatement","start":19413,"end":19457,"loc":{"start":{"line":627,"column":10},"end":{"line":627,"column":54}},"argument":{"type":"CallExpression","start":19420,"end":19457,"loc":{"start":{"line":627,"column":17},"end":{"line":627,"column":54}},"callee":{"type":"MemberExpression","start":19420,"end":19438,"loc":{"start":{"line":627,"column":17},"end":{"line":627,"column":35}},"object":{"type":"ThisExpression","start":19420,"end":19424,"loc":{"start":{"line":627,"column":17},"end":{"line":627,"column":21}}},"computed":false,"property":{"type":"Identifier","start":19425,"end":19438,"loc":{"start":{"line":627,"column":22},"end":{"line":627,"column":35},"identifierName":"_reserveFiles"},"name":"_reserveFiles"},"optional":false},"arguments":[{"type":"Identifier","start":19439,"end":19447,"loc":{"start":{"line":627,"column":36},"end":{"line":627,"column":44},"identifierName":"assembly"},"name":"assembly"},{"type":"Identifier","start":19449,"end":19456,"loc":{"start":{"line":627,"column":46},"end":{"line":627,"column":53},"identifierName":"fileIDs"},"name":"fileIDs"}],"optional":false}}]},"alternate":null}]}}],"optional":false},"computed":false,"property":{"type":"Identifier","start":19477,"end":19481,"loc":{"start":{"line":629,"column":9},"end":{"line":629,"column":13},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":19482,"end":19680,"loc":{"start":{"line":629,"column":14},"end":{"line":635,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":19488,"end":19680,"loc":{"start":{"line":629,"column":20},"end":{"line":635,"column":7}},"body":[{"type":"ExpressionStatement","start":19498,"end":19641,"loc":{"start":{"line":630,"column":8},"end":{"line":633,"column":10}},"expression":{"type":"CallExpression","start":19498,"end":19641,"loc":{"start":{"line":630,"column":8},"end":{"line":633,"column":10}},"callee":{"type":"MemberExpression","start":19498,"end":19513,"loc":{"start":{"line":630,"column":8},"end":{"line":630,"column":23}},"object":{"type":"Identifier","start":19498,"end":19505,"loc":{"start":{"line":630,"column":8},"end":{"line":630,"column":15},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"property":{"type":"Identifier","start":19506,"end":19513,"loc":{"start":{"line":630,"column":16},"end":{"line":630,"column":23},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":19514,"end":19640,"loc":{"start":{"line":630,"column":24},"end":{"line":633,"column":9}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":19515,"end":19521,"loc":{"start":{"line":630,"column":25},"end":{"line":630,"column":31},"identifierName":"fileID"},"name":"fileID"}],"body":{"type":"BlockStatement","start":19526,"end":19640,"loc":{"start":{"line":630,"column":36},"end":{"line":633,"column":9}},"body":[{"type":"VariableDeclaration","start":19538,"end":19576,"loc":{"start":{"line":631,"column":10},"end":{"line":631,"column":48}},"declarations":[{"type":"VariableDeclarator","start":19544,"end":19576,"loc":{"start":{"line":631,"column":16},"end":{"line":631,"column":48}},"id":{"type":"Identifier","start":19544,"end":19548,"loc":{"start":{"line":631,"column":16},"end":{"line":631,"column":20},"identifierName":"file"},"name":"file"},"init":{"type":"CallExpression","start":19551,"end":19576,"loc":{"start":{"line":631,"column":23},"end":{"line":631,"column":48}},"callee":{"type":"MemberExpression","start":19551,"end":19568,"loc":{"start":{"line":631,"column":23},"end":{"line":631,"column":40}},"object":{"type":"MemberExpression","start":19551,"end":19560,"loc":{"start":{"line":631,"column":23},"end":{"line":631,"column":32}},"object":{"type":"ThisExpression","start":19551,"end":19555,"loc":{"start":{"line":631,"column":23},"end":{"line":631,"column":27}}},"computed":false,"property":{"type":"Identifier","start":19556,"end":19560,"loc":{"start":{"line":631,"column":28},"end":{"line":631,"column":32},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":19561,"end":19568,"loc":{"start":{"line":631,"column":33},"end":{"line":631,"column":40},"identifierName":"getFile"},"name":"getFile"},"optional":false},"arguments":[{"type":"Identifier","start":19569,"end":19575,"loc":{"start":{"line":631,"column":41},"end":{"line":631,"column":47},"identifierName":"fileID"},"name":"fileID"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":19587,"end":19630,"loc":{"start":{"line":632,"column":10},"end":{"line":632,"column":53}},"expression":{"type":"CallExpression","start":19587,"end":19630,"loc":{"start":{"line":632,"column":10},"end":{"line":632,"column":53}},"callee":{"type":"MemberExpression","start":19587,"end":19601,"loc":{"start":{"line":632,"column":10},"end":{"line":632,"column":24}},"object":{"type":"MemberExpression","start":19587,"end":19596,"loc":{"start":{"line":632,"column":10},"end":{"line":632,"column":19}},"object":{"type":"ThisExpression","start":19587,"end":19591,"loc":{"start":{"line":632,"column":10},"end":{"line":632,"column":14}}},"computed":false,"property":{"type":"Identifier","start":19592,"end":19596,"loc":{"start":{"line":632,"column":15},"end":{"line":632,"column":19},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":19597,"end":19601,"loc":{"start":{"line":632,"column":20},"end":{"line":632,"column":24},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":19602,"end":19623,"loc":{"start":{"line":632,"column":25},"end":{"line":632,"column":46}},"value":"preprocess-complete","raw":"'preprocess-complete'"},{"type":"Identifier","start":19625,"end":19629,"loc":{"start":{"line":632,"column":48},"end":{"line":632,"column":52},"identifierName":"file"},"name":"file"}],"optional":false}}]}}],"optional":false}},{"type":"ReturnStatement","start":19650,"end":19672,"loc":{"start":{"line":634,"column":8},"end":{"line":634,"column":30}},"argument":{"type":"Identifier","start":19657,"end":19672,"loc":{"start":{"line":634,"column":15},"end":{"line":634,"column":30},"identifierName":"createdAssembly"},"name":"createdAssembly"}}]}}],"optional":false},"computed":false,"property":{"type":"Identifier","start":19682,"end":19687,"loc":{"start":{"line":635,"column":9},"end":{"line":635,"column":14},"identifierName":"catch"},"name":"catch"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":19688,"end":20085,"loc":{"start":{"line":635,"column":15},"end":{"line":644,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":19689,"end":19692,"loc":{"start":{"line":635,"column":16},"end":{"line":635,"column":19},"identifierName":"err"},"name":"err"}],"body":{"type":"BlockStatement","start":19697,"end":20085,"loc":{"start":{"line":635,"column":24},"end":{"line":644,"column":7}},"body":[{"type":"ExpressionStatement","start":19707,"end":20059,"loc":{"start":{"line":636,"column":8},"end":{"line":642,"column":10}},"expression":{"type":"CallExpression","start":19707,"end":20059,"loc":{"start":{"line":636,"column":8},"end":{"line":642,"column":10}},"callee":{"type":"MemberExpression","start":19707,"end":19722,"loc":{"start":{"line":636,"column":8},"end":{"line":636,"column":23}},"object":{"type":"Identifier","start":19707,"end":19714,"loc":{"start":{"line":636,"column":8},"end":{"line":636,"column":15},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"property":{"type":"Identifier","start":19715,"end":19722,"loc":{"start":{"line":636,"column":16},"end":{"line":636,"column":23},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":19723,"end":20058,"loc":{"start":{"line":636,"column":24},"end":{"line":642,"column":9}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":19724,"end":19730,"loc":{"start":{"line":636,"column":25},"end":{"line":636,"column":31},"identifierName":"fileID"},"name":"fileID"}],"body":{"type":"BlockStatement","start":19735,"end":20058,"loc":{"start":{"line":636,"column":36},"end":{"line":642,"column":9}},"body":[{"type":"VariableDeclaration","start":19747,"end":19785,"loc":{"start":{"line":637,"column":10},"end":{"line":637,"column":48}},"declarations":[{"type":"VariableDeclarator","start":19753,"end":19785,"loc":{"start":{"line":637,"column":16},"end":{"line":637,"column":48}},"id":{"type":"Identifier","start":19753,"end":19757,"loc":{"start":{"line":637,"column":16},"end":{"line":637,"column":20},"identifierName":"file"},"name":"file"},"init":{"type":"CallExpression","start":19760,"end":19785,"loc":{"start":{"line":637,"column":23},"end":{"line":637,"column":48}},"callee":{"type":"MemberExpression","start":19760,"end":19777,"loc":{"start":{"line":637,"column":23},"end":{"line":637,"column":40}},"object":{"type":"MemberExpression","start":19760,"end":19769,"loc":{"start":{"line":637,"column":23},"end":{"line":637,"column":32}},"object":{"type":"ThisExpression","start":19760,"end":19764,"loc":{"start":{"line":637,"column":23},"end":{"line":637,"column":27}}},"computed":false,"property":{"type":"Identifier","start":19765,"end":19769,"loc":{"start":{"line":637,"column":28},"end":{"line":637,"column":32},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":19770,"end":19777,"loc":{"start":{"line":637,"column":33},"end":{"line":637,"column":40},"identifierName":"getFile"},"name":"getFile"},"optional":false},"arguments":[{"type":"Identifier","start":19778,"end":19784,"loc":{"start":{"line":637,"column":41},"end":{"line":637,"column":47},"identifierName":"fileID"},"name":"fileID"}],"optional":false}}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" Clear preprocessing state when the Assembly could not be created,","start":19796,"end":19864,"loc":{"start":{"line":638,"column":10},"end":{"line":638,"column":78}}},{"type":"CommentLine","value":" otherwise the UI gets confused about the lingering progress keys","start":19875,"end":19942,"loc":{"start":{"line":639,"column":10},"end":{"line":639,"column":77}}}]},{"type":"ExpressionStatement","start":19953,"end":19996,"loc":{"start":{"line":640,"column":10},"end":{"line":640,"column":53}},"expression":{"type":"CallExpression","start":19953,"end":19996,"loc":{"start":{"line":640,"column":10},"end":{"line":640,"column":53}},"callee":{"type":"MemberExpression","start":19953,"end":19967,"loc":{"start":{"line":640,"column":10},"end":{"line":640,"column":24}},"object":{"type":"MemberExpression","start":19953,"end":19962,"loc":{"start":{"line":640,"column":10},"end":{"line":640,"column":19}},"object":{"type":"ThisExpression","start":19953,"end":19957,"loc":{"start":{"line":640,"column":10},"end":{"line":640,"column":14}}},"computed":false,"property":{"type":"Identifier","start":19958,"end":19962,"loc":{"start":{"line":640,"column":15},"end":{"line":640,"column":19},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":19963,"end":19967,"loc":{"start":{"line":640,"column":20},"end":{"line":640,"column":24},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":19968,"end":19989,"loc":{"start":{"line":640,"column":25},"end":{"line":640,"column":46}},"value":"preprocess-complete","raw":"'preprocess-complete'"},{"type":"Identifier","start":19991,"end":19995,"loc":{"start":{"line":640,"column":48},"end":{"line":640,"column":52},"identifierName":"file"},"name":"file"}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" Clear preprocessing state when the Assembly could not be created,","start":19796,"end":19864,"loc":{"start":{"line":638,"column":10},"end":{"line":638,"column":78}}},{"type":"CommentLine","value":" otherwise the UI gets confused about the lingering progress keys","start":19875,"end":19942,"loc":{"start":{"line":639,"column":10},"end":{"line":639,"column":77}}}]},{"type":"ExpressionStatement","start":20007,"end":20048,"loc":{"start":{"line":641,"column":10},"end":{"line":641,"column":51}},"expression":{"type":"CallExpression","start":20007,"end":20048,"loc":{"start":{"line":641,"column":10},"end":{"line":641,"column":51}},"callee":{"type":"MemberExpression","start":20007,"end":20021,"loc":{"start":{"line":641,"column":10},"end":{"line":641,"column":24}},"object":{"type":"MemberExpression","start":20007,"end":20016,"loc":{"start":{"line":641,"column":10},"end":{"line":641,"column":19}},"object":{"type":"ThisExpression","start":20007,"end":20011,"loc":{"start":{"line":641,"column":10},"end":{"line":641,"column":14}}},"computed":false,"property":{"type":"Identifier","start":20012,"end":20016,"loc":{"start":{"line":641,"column":15},"end":{"line":641,"column":19},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":20017,"end":20021,"loc":{"start":{"line":641,"column":20},"end":{"line":641,"column":24},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":20022,"end":20036,"loc":{"start":{"line":641,"column":25},"end":{"line":641,"column":39}},"value":"upload-error","raw":"'upload-error'"},{"type":"Identifier","start":20038,"end":20042,"loc":{"start":{"line":641,"column":41},"end":{"line":641,"column":45},"identifierName":"file"},"name":"file"},{"type":"Identifier","start":20044,"end":20047,"loc":{"start":{"line":641,"column":47},"end":{"line":641,"column":50},"identifierName":"err"},"name":"err"}],"optional":false}}]}}],"optional":false}},{"type":"ThrowStatement","start":20068,"end":20077,"loc":{"start":{"line":643,"column":8},"end":{"line":643,"column":17}},"argument":{"type":"Identifier","start":20074,"end":20077,"loc":{"start":{"line":643,"column":14},"end":{"line":643,"column":17},"identifierName":"err"},"name":"err"}}]}}],"optional":false}}]}}}],"kind":"const"},{"type":"VariableDeclaration","start":20098,"end":20149,"loc":{"start":{"line":647,"column":4},"end":{"line":647,"column":55}},"declarations":[{"type":"VariableDeclarator","start":20104,"end":20149,"loc":{"start":{"line":647,"column":10},"end":{"line":647,"column":55}},"id":{"type":"ObjectPattern","start":20104,"end":20125,"loc":{"start":{"line":647,"column":10},"end":{"line":647,"column":31}},"properties":[{"type":"Property","start":20106,"end":20123,"loc":{"start":{"line":647,"column":12},"end":{"line":647,"column":29}},"method":false,"key":{"type":"Identifier","start":20106,"end":20123,"loc":{"start":{"line":647,"column":12},"end":{"line":647,"column":29},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":20106,"end":20123,"loc":{"start":{"line":647,"column":12},"end":{"line":647,"column":29},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"CallExpression","start":20128,"end":20149,"loc":{"start":{"line":647,"column":34},"end":{"line":647,"column":55}},"callee":{"type":"MemberExpression","start":20128,"end":20147,"loc":{"start":{"line":647,"column":34},"end":{"line":647,"column":53}},"object":{"type":"ThisExpression","start":20128,"end":20132,"loc":{"start":{"line":647,"column":34},"end":{"line":647,"column":38}}},"computed":false,"property":{"type":"Identifier","start":20133,"end":20147,"loc":{"start":{"line":647,"column":39},"end":{"line":647,"column":53},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":20154,"end":20270,"loc":{"start":{"line":648,"column":4},"end":{"line":653,"column":6}},"expression":{"type":"CallExpression","start":20154,"end":20270,"loc":{"start":{"line":648,"column":4},"end":{"line":653,"column":6}},"callee":{"type":"MemberExpression","start":20154,"end":20173,"loc":{"start":{"line":648,"column":4},"end":{"line":648,"column":23}},"object":{"type":"ThisExpression","start":20154,"end":20158,"loc":{"start":{"line":648,"column":4},"end":{"line":648,"column":8}}},"computed":false,"property":{"type":"Identifier","start":20159,"end":20173,"loc":{"start":{"line":648,"column":9},"end":{"line":648,"column":23},"identifierName":"setPluginState"},"name":"setPluginState"},"optional":false},"arguments":[{"type":"ObjectExpression","start":20174,"end":20269,"loc":{"start":{"line":648,"column":24},"end":{"line":653,"column":5}},"properties":[{"type":"Property","start":20182,"end":20263,"loc":{"start":{"line":649,"column":6},"end":{"line":652,"column":7}},"method":false,"key":{"type":"Identifier","start":20182,"end":20199,"loc":{"start":{"line":649,"column":6},"end":{"line":649,"column":23},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":20201,"end":20263,"loc":{"start":{"line":649,"column":25},"end":{"line":652,"column":7}},"properties":[{"type":"SpreadElement","start":20211,"end":20231,"loc":{"start":{"line":650,"column":8},"end":{"line":650,"column":28}},"argument":{"type":"Identifier","start":20214,"end":20231,"loc":{"start":{"line":650,"column":11},"end":{"line":650,"column":28},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"}},{"type":"Property","start":20241,"end":20255,"loc":{"start":{"line":651,"column":8},"end":{"line":651,"column":22}},"method":false,"computed":true,"key":{"type":"Identifier","start":20242,"end":20250,"loc":{"start":{"line":651,"column":9},"end":{"line":651,"column":17},"identifierName":"uploadID"},"name":"uploadID"},"shorthand":false,"value":{"type":"ArrayExpression","start":20253,"end":20255,"loc":{"start":{"line":651,"column":20},"end":{"line":651,"column":22}},"elements":[]},"kind":"init"}]},"kind":"init"}]}],"optional":false}},{"type":"VariableDeclaration","start":20276,"end":20332,"loc":{"start":{"line":655,"column":4},"end":{"line":655,"column":60}},"declarations":[{"type":"VariableDeclarator","start":20282,"end":20332,"loc":{"start":{"line":655,"column":10},"end":{"line":655,"column":60}},"id":{"type":"Identifier","start":20282,"end":20287,"loc":{"start":{"line":655,"column":10},"end":{"line":655,"column":15},"identifierName":"files"},"name":"files"},"init":{"type":"CallExpression","start":20290,"end":20332,"loc":{"start":{"line":655,"column":18},"end":{"line":655,"column":60}},"callee":{"type":"MemberExpression","start":20290,"end":20301,"loc":{"start":{"line":655,"column":18},"end":{"line":655,"column":29}},"object":{"type":"Identifier","start":20290,"end":20297,"loc":{"start":{"line":655,"column":18},"end":{"line":655,"column":25},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"property":{"type":"Identifier","start":20298,"end":20301,"loc":{"start":{"line":655,"column":26},"end":{"line":655,"column":29},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":20302,"end":20331,"loc":{"start":{"line":655,"column":30},"end":{"line":655,"column":59}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":20303,"end":20305,"loc":{"start":{"line":655,"column":31},"end":{"line":655,"column":33},"identifierName":"id"},"name":"id"}],"body":{"type":"CallExpression","start":20310,"end":20331,"loc":{"start":{"line":655,"column":38},"end":{"line":655,"column":59}},"callee":{"type":"MemberExpression","start":20310,"end":20327,"loc":{"start":{"line":655,"column":38},"end":{"line":655,"column":55}},"object":{"type":"MemberExpression","start":20310,"end":20319,"loc":{"start":{"line":655,"column":38},"end":{"line":655,"column":47}},"object":{"type":"ThisExpression","start":20310,"end":20314,"loc":{"start":{"line":655,"column":38},"end":{"line":655,"column":42}}},"computed":false,"property":{"type":"Identifier","start":20315,"end":20319,"loc":{"start":{"line":655,"column":43},"end":{"line":655,"column":47},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":20320,"end":20327,"loc":{"start":{"line":655,"column":48},"end":{"line":655,"column":55},"identifierName":"getFile"},"name":"getFile"},"optional":false},"arguments":[{"type":"Identifier","start":20328,"end":20330,"loc":{"start":{"line":655,"column":56},"end":{"line":655,"column":58},"identifierName":"id"},"name":"id"}],"optional":false}}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":20337,"end":20398,"loc":{"start":{"line":656,"column":4},"end":{"line":656,"column":65}},"declarations":[{"type":"VariableDeclarator","start":20343,"end":20398,"loc":{"start":{"line":656,"column":10},"end":{"line":656,"column":65}},"id":{"type":"Identifier","start":20343,"end":20358,"loc":{"start":{"line":656,"column":10},"end":{"line":656,"column":25},"identifierName":"assemblyOptions"},"name":"assemblyOptions"},"init":{"type":"NewExpression","start":20361,"end":20398,"loc":{"start":{"line":656,"column":28},"end":{"line":656,"column":65}},"callee":{"type":"Identifier","start":20365,"end":20380,"loc":{"start":{"line":656,"column":32},"end":{"line":656,"column":47},"identifierName":"AssemblyOptions"},"name":"AssemblyOptions"},"typeArguments":null,"arguments":[{"type":"Identifier","start":20381,"end":20386,"loc":{"start":{"line":656,"column":48},"end":{"line":656,"column":53},"identifierName":"files"},"name":"files"},{"type":"MemberExpression","start":20388,"end":20397,"loc":{"start":{"line":656,"column":55},"end":{"line":656,"column":64}},"object":{"type":"ThisExpression","start":20388,"end":20392,"loc":{"start":{"line":656,"column":55},"end":{"line":656,"column":59}}},"computed":false,"property":{"type":"Identifier","start":20393,"end":20397,"loc":{"start":{"line":656,"column":60},"end":{"line":656,"column":64},"identifierName":"opts"},"name":"opts"},"optional":false}]}}],"kind":"const"},{"type":"ReturnStatement","start":20404,"end":21159,"loc":{"start":{"line":658,"column":4},"end":{"line":676,"column":5}},"argument":{"type":"CallExpression","start":20411,"end":21159,"loc":{"start":{"line":658,"column":11},"end":{"line":676,"column":5}},"callee":{"type":"MemberExpression","start":20411,"end":20439,"loc":{"start":{"line":658,"column":11},"end":{"line":658,"column":39}},"object":{"type":"CallExpression","start":20411,"end":20434,"loc":{"start":{"line":658,"column":11},"end":{"line":658,"column":34}},"callee":{"type":"MemberExpression","start":20411,"end":20432,"loc":{"start":{"line":658,"column":11},"end":{"line":658,"column":32}},"object":{"type":"Identifier","start":20411,"end":20426,"loc":{"start":{"line":658,"column":11},"end":{"line":658,"column":26},"identifierName":"assemblyOptions"},"name":"assemblyOptions"},"computed":false,"property":{"type":"Identifier","start":20427,"end":20432,"loc":{"start":{"line":658,"column":27},"end":{"line":658,"column":32},"identifierName":"build"},"name":"build"},"optional":false},"arguments":[],"optional":false},"computed":false,"property":{"type":"Identifier","start":20435,"end":20439,"loc":{"start":{"line":658,"column":35},"end":{"line":658,"column":39},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":20447,"end":20795,"loc":{"start":{"line":659,"column":6},"end":{"line":665,"column":8}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":20448,"end":20458,"loc":{"start":{"line":659,"column":7},"end":{"line":659,"column":17},"identifierName":"assemblies"},"name":"assemblies"}],"body":{"type":"CallExpression","start":20463,"end":20795,"loc":{"start":{"line":659,"column":22},"end":{"line":665,"column":8}},"callee":{"type":"MemberExpression","start":20463,"end":20527,"loc":{"start":{"line":659,"column":22},"end":{"line":661,"column":12}},"object":{"type":"CallExpression","start":20463,"end":20522,"loc":{"start":{"line":659,"column":22},"end":{"line":661,"column":7}},"callee":{"type":"MemberExpression","start":20463,"end":20474,"loc":{"start":{"line":659,"column":22},"end":{"line":659,"column":33}},"object":{"type":"Identifier","start":20463,"end":20470,"loc":{"start":{"line":659,"column":22},"end":{"line":659,"column":29},"identifierName":"Promise"},"name":"Promise"},"computed":false,"property":{"type":"Identifier","start":20471,"end":20474,"loc":{"start":{"line":659,"column":30},"end":{"line":659,"column":33},"identifierName":"all"},"name":"all"},"optional":false},"arguments":[{"type":"CallExpression","start":20484,"end":20514,"loc":{"start":{"line":660,"column":8},"end":{"line":660,"column":38}},"callee":{"type":"MemberExpression","start":20484,"end":20498,"loc":{"start":{"line":660,"column":8},"end":{"line":660,"column":22}},"object":{"type":"Identifier","start":20484,"end":20494,"loc":{"start":{"line":660,"column":8},"end":{"line":660,"column":18},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"property":{"type":"Identifier","start":20495,"end":20498,"loc":{"start":{"line":660,"column":19},"end":{"line":660,"column":22},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"Identifier","start":20499,"end":20513,"loc":{"start":{"line":660,"column":23},"end":{"line":660,"column":37},"identifierName":"createAssembly"},"name":"createAssembly"}],"optional":false}],"optional":false},"computed":false,"property":{"type":"Identifier","start":20523,"end":20527,"loc":{"start":{"line":661,"column":8},"end":{"line":661,"column":12},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":20528,"end":20794,"loc":{"start":{"line":661,"column":13},"end":{"line":665,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":20529,"end":20546,"loc":{"start":{"line":661,"column":14},"end":{"line":661,"column":31},"identifierName":"createdAssemblies"},"name":"createdAssemblies"}],"body":{"type":"BlockStatement","start":20551,"end":20794,"loc":{"start":{"line":661,"column":36},"end":{"line":665,"column":7}},"body":[{"type":"VariableDeclaration","start":20561,"end":20643,"loc":{"start":{"line":662,"column":8},"end":{"line":662,"column":90}},"declarations":[{"type":"VariableDeclarator","start":20567,"end":20643,"loc":{"start":{"line":662,"column":14},"end":{"line":662,"column":90}},"id":{"type":"Identifier","start":20567,"end":20578,"loc":{"start":{"line":662,"column":14},"end":{"line":662,"column":25},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},"init":{"type":"CallExpression","start":20581,"end":20643,"loc":{"start":{"line":662,"column":28},"end":{"line":662,"column":90}},"callee":{"type":"MemberExpression","start":20581,"end":20602,"loc":{"start":{"line":662,"column":28},"end":{"line":662,"column":49}},"object":{"type":"Identifier","start":20581,"end":20598,"loc":{"start":{"line":662,"column":28},"end":{"line":662,"column":45},"identifierName":"createdAssemblies"},"name":"createdAssemblies"},"computed":false,"property":{"type":"Identifier","start":20599,"end":20602,"loc":{"start":{"line":662,"column":46},"end":{"line":662,"column":49},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":20603,"end":20642,"loc":{"start":{"line":662,"column":50},"end":{"line":662,"column":89}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":20603,"end":20611,"loc":{"start":{"line":662,"column":50},"end":{"line":662,"column":58},"identifierName":"assembly"},"name":"assembly"}],"body":{"type":"MemberExpression","start":20615,"end":20642,"loc":{"start":{"line":662,"column":62},"end":{"line":662,"column":89}},"object":{"type":"MemberExpression","start":20615,"end":20630,"loc":{"start":{"line":662,"column":62},"end":{"line":662,"column":77}},"object":{"type":"Identifier","start":20615,"end":20623,"loc":{"start":{"line":662,"column":62},"end":{"line":662,"column":70},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":20624,"end":20630,"loc":{"start":{"line":662,"column":71},"end":{"line":662,"column":77},"identifierName":"status"},"name":"status"},"optional":false},"computed":false,"property":{"type":"Identifier","start":20631,"end":20642,"loc":{"start":{"line":662,"column":78},"end":{"line":662,"column":89},"identifierName":"assembly_id"},"name":"assembly_id"},"optional":false}}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":20652,"end":20711,"loc":{"start":{"line":663,"column":8},"end":{"line":663,"column":67}},"expression":{"type":"CallExpression","start":20652,"end":20711,"loc":{"start":{"line":663,"column":8},"end":{"line":663,"column":67}},"callee":{"type":"MemberExpression","start":20652,"end":20679,"loc":{"start":{"line":663,"column":8},"end":{"line":663,"column":35}},"object":{"type":"ThisExpression","start":20652,"end":20656,"loc":{"start":{"line":663,"column":8},"end":{"line":663,"column":12}}},"computed":false,"property":{"type":"Identifier","start":20657,"end":20679,"loc":{"start":{"line":663,"column":13},"end":{"line":663,"column":35},"identifierName":"_createAssemblyWatcher"},"name":"_createAssemblyWatcher"},"optional":false},"arguments":[{"type":"Identifier","start":20680,"end":20691,"loc":{"start":{"line":663,"column":36},"end":{"line":663,"column":47},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},{"type":"Identifier","start":20693,"end":20700,"loc":{"start":{"line":663,"column":49},"end":{"line":663,"column":56},"identifierName":"fileIDs"},"name":"fileIDs"},{"type":"Identifier","start":20702,"end":20710,"loc":{"start":{"line":663,"column":58},"end":{"line":663,"column":66},"identifierName":"uploadID"},"name":"uploadID"}],"optional":false}},{"type":"ExpressionStatement","start":20720,"end":20786,"loc":{"start":{"line":664,"column":8},"end":{"line":664,"column":74}},"expression":{"type":"CallExpression","start":20720,"end":20786,"loc":{"start":{"line":664,"column":8},"end":{"line":664,"column":74}},"callee":{"type":"MemberExpression","start":20720,"end":20741,"loc":{"start":{"line":664,"column":8},"end":{"line":664,"column":29}},"object":{"type":"Identifier","start":20720,"end":20737,"loc":{"start":{"line":664,"column":8},"end":{"line":664,"column":25},"identifierName":"createdAssemblies"},"name":"createdAssemblies"},"computed":false,"property":{"type":"Identifier","start":20738,"end":20741,"loc":{"start":{"line":664,"column":26},"end":{"line":664,"column":29},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":20742,"end":20785,"loc":{"start":{"line":664,"column":30},"end":{"line":664,"column":73}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":20742,"end":20750,"loc":{"start":{"line":664,"column":30},"end":{"line":664,"column":38},"identifierName":"assembly"},"name":"assembly"}],"body":{"type":"CallExpression","start":20754,"end":20785,"loc":{"start":{"line":664,"column":42},"end":{"line":664,"column":73}},"callee":{"type":"MemberExpression","start":20754,"end":20775,"loc":{"start":{"line":664,"column":42},"end":{"line":664,"column":63}},"object":{"type":"ThisExpression","start":20754,"end":20758,"loc":{"start":{"line":664,"column":42},"end":{"line":664,"column":46}}},"computed":false,"property":{"type":"Identifier","start":20759,"end":20775,"loc":{"start":{"line":664,"column":47},"end":{"line":664,"column":63},"identifierName":"_connectAssembly"},"name":"_connectAssembly"},"optional":false},"arguments":[{"type":"Identifier","start":20776,"end":20784,"loc":{"start":{"line":664,"column":64},"end":{"line":664,"column":72},"identifierName":"assembly"},"name":"assembly"}],"optional":false}}],"optional":false}}]}}],"optional":false}},{"type":"ArrowFunctionExpression","start":20913,"end":21153,"loc":{"start":{"line":668,"column":6},"end":{"line":675,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":20914,"end":20917,"loc":{"start":{"line":668,"column":7},"end":{"line":668,"column":10},"identifierName":"err"},"name":"err"}],"body":{"type":"BlockStatement","start":20922,"end":21153,"loc":{"start":{"line":668,"column":15},"end":{"line":675,"column":7}},"body":[{"type":"ExpressionStatement","start":20932,"end":21127,"loc":{"start":{"line":669,"column":8},"end":{"line":673,"column":10}},"expression":{"type":"CallExpression","start":20932,"end":21127,"loc":{"start":{"line":669,"column":8},"end":{"line":673,"column":10}},"callee":{"type":"MemberExpression","start":20932,"end":20947,"loc":{"start":{"line":669,"column":8},"end":{"line":669,"column":23}},"object":{"type":"Identifier","start":20932,"end":20939,"loc":{"start":{"line":669,"column":8},"end":{"line":669,"column":15},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"property":{"type":"Identifier","start":20940,"end":20947,"loc":{"start":{"line":669,"column":16},"end":{"line":669,"column":23},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":20948,"end":21126,"loc":{"start":{"line":669,"column":24},"end":{"line":673,"column":9}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":20949,"end":20955,"loc":{"start":{"line":669,"column":25},"end":{"line":669,"column":31},"identifierName":"fileID"},"name":"fileID"}],"body":{"type":"BlockStatement","start":20960,"end":21126,"loc":{"start":{"line":669,"column":36},"end":{"line":673,"column":9}},"body":[{"type":"VariableDeclaration","start":20972,"end":21010,"loc":{"start":{"line":670,"column":10},"end":{"line":670,"column":48}},"declarations":[{"type":"VariableDeclarator","start":20978,"end":21010,"loc":{"start":{"line":670,"column":16},"end":{"line":670,"column":48}},"id":{"type":"Identifier","start":20978,"end":20982,"loc":{"start":{"line":670,"column":16},"end":{"line":670,"column":20},"identifierName":"file"},"name":"file"},"init":{"type":"CallExpression","start":20985,"end":21010,"loc":{"start":{"line":670,"column":23},"end":{"line":670,"column":48}},"callee":{"type":"MemberExpression","start":20985,"end":21002,"loc":{"start":{"line":670,"column":23},"end":{"line":670,"column":40}},"object":{"type":"MemberExpression","start":20985,"end":20994,"loc":{"start":{"line":670,"column":23},"end":{"line":670,"column":32}},"object":{"type":"ThisExpression","start":20985,"end":20989,"loc":{"start":{"line":670,"column":23},"end":{"line":670,"column":27}}},"computed":false,"property":{"type":"Identifier","start":20990,"end":20994,"loc":{"start":{"line":670,"column":28},"end":{"line":670,"column":32},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":20995,"end":21002,"loc":{"start":{"line":670,"column":33},"end":{"line":670,"column":40},"identifierName":"getFile"},"name":"getFile"},"optional":false},"arguments":[{"type":"Identifier","start":21003,"end":21009,"loc":{"start":{"line":670,"column":41},"end":{"line":670,"column":47},"identifierName":"fileID"},"name":"fileID"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":21021,"end":21064,"loc":{"start":{"line":671,"column":10},"end":{"line":671,"column":53}},"expression":{"type":"CallExpression","start":21021,"end":21064,"loc":{"start":{"line":671,"column":10},"end":{"line":671,"column":53}},"callee":{"type":"MemberExpression","start":21021,"end":21035,"loc":{"start":{"line":671,"column":10},"end":{"line":671,"column":24}},"object":{"type":"MemberExpression","start":21021,"end":21030,"loc":{"start":{"line":671,"column":10},"end":{"line":671,"column":19}},"object":{"type":"ThisExpression","start":21021,"end":21025,"loc":{"start":{"line":671,"column":10},"end":{"line":671,"column":14}}},"computed":false,"property":{"type":"Identifier","start":21026,"end":21030,"loc":{"start":{"line":671,"column":15},"end":{"line":671,"column":19},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":21031,"end":21035,"loc":{"start":{"line":671,"column":20},"end":{"line":671,"column":24},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":21036,"end":21057,"loc":{"start":{"line":671,"column":25},"end":{"line":671,"column":46}},"value":"preprocess-complete","raw":"'preprocess-complete'"},{"type":"Identifier","start":21059,"end":21063,"loc":{"start":{"line":671,"column":48},"end":{"line":671,"column":52},"identifierName":"file"},"name":"file"}],"optional":false}},{"type":"ExpressionStatement","start":21075,"end":21116,"loc":{"start":{"line":672,"column":10},"end":{"line":672,"column":51}},"expression":{"type":"CallExpression","start":21075,"end":21116,"loc":{"start":{"line":672,"column":10},"end":{"line":672,"column":51}},"callee":{"type":"MemberExpression","start":21075,"end":21089,"loc":{"start":{"line":672,"column":10},"end":{"line":672,"column":24}},"object":{"type":"MemberExpression","start":21075,"end":21084,"loc":{"start":{"line":672,"column":10},"end":{"line":672,"column":19}},"object":{"type":"ThisExpression","start":21075,"end":21079,"loc":{"start":{"line":672,"column":10},"end":{"line":672,"column":14}}},"computed":false,"property":{"type":"Identifier","start":21080,"end":21084,"loc":{"start":{"line":672,"column":15},"end":{"line":672,"column":19},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":21085,"end":21089,"loc":{"start":{"line":672,"column":20},"end":{"line":672,"column":24},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":21090,"end":21104,"loc":{"start":{"line":672,"column":25},"end":{"line":672,"column":39}},"value":"upload-error","raw":"'upload-error'"},{"type":"Identifier","start":21106,"end":21110,"loc":{"start":{"line":672,"column":41},"end":{"line":672,"column":45},"identifierName":"file"},"name":"file"},{"type":"Identifier","start":21112,"end":21115,"loc":{"start":{"line":672,"column":47},"end":{"line":672,"column":50},"identifierName":"err"},"name":"err"}],"optional":false}}]}}],"optional":false}},{"type":"ThrowStatement","start":21136,"end":21145,"loc":{"start":{"line":674,"column":8},"end":{"line":674,"column":17}},"argument":{"type":"Identifier","start":21142,"end":21145,"loc":{"start":{"line":674,"column":14},"end":{"line":674,"column":17},"identifierName":"err"},"name":"err"}}]},"leadingComments":[{"type":"CommentLine","value":" If something went wrong before any Assemblies could be created,","start":20803,"end":20869,"loc":{"start":{"line":666,"column":6},"end":{"line":666,"column":72}}},{"type":"CommentLine","value":" clear all processing state.","start":20876,"end":20906,"loc":{"start":{"line":667,"column":6},"end":{"line":667,"column":36}}}]}],"optional":false}}]}}},{"type":"MethodDefinition","start":21167,"end":23344,"loc":{"start":{"line":679,"column":2},"end":{"line":738,"column":3}},"static":false,"key":{"type":"Identifier","start":21167,"end":21179,"loc":{"start":{"line":679,"column":2},"end":{"line":679,"column":14},"identifierName":"_afterUpload"},"name":"_afterUpload"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":21180,"end":23344,"loc":{"start":{"line":679,"column":15},"end":{"line":738,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":21181,"end":21188,"loc":{"start":{"line":679,"column":16},"end":{"line":679,"column":23},"identifierName":"fileIDs"},"name":"fileIDs"},{"type":"Identifier","start":21190,"end":21198,"loc":{"start":{"line":679,"column":25},"end":{"line":679,"column":33},"identifierName":"uploadID"},"name":"uploadID"}],"body":{"type":"BlockStatement","start":21200,"end":23344,"loc":{"start":{"line":679,"column":35},"end":{"line":738,"column":3}},"body":[{"type":"VariableDeclaration","start":21206,"end":21268,"loc":{"start":{"line":680,"column":4},"end":{"line":680,"column":66}},"declarations":[{"type":"VariableDeclarator","start":21212,"end":21268,"loc":{"start":{"line":680,"column":10},"end":{"line":680,"column":66}},"id":{"type":"Identifier","start":21212,"end":21217,"loc":{"start":{"line":680,"column":10},"end":{"line":680,"column":15},"identifierName":"files"},"name":"files"},"init":{"type":"CallExpression","start":21220,"end":21268,"loc":{"start":{"line":680,"column":18},"end":{"line":680,"column":66}},"callee":{"type":"MemberExpression","start":21220,"end":21231,"loc":{"start":{"line":680,"column":18},"end":{"line":680,"column":29}},"object":{"type":"Identifier","start":21220,"end":21227,"loc":{"start":{"line":680,"column":18},"end":{"line":680,"column":25},"identifierName":"fileIDs"},"name":"fileIDs"},"computed":false,"property":{"type":"Identifier","start":21228,"end":21231,"loc":{"start":{"line":680,"column":26},"end":{"line":680,"column":29},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":21232,"end":21267,"loc":{"start":{"line":680,"column":30},"end":{"line":680,"column":65}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":21232,"end":21238,"loc":{"start":{"line":680,"column":30},"end":{"line":680,"column":36},"identifierName":"fileID"},"name":"fileID"}],"body":{"type":"CallExpression","start":21242,"end":21267,"loc":{"start":{"line":680,"column":40},"end":{"line":680,"column":65}},"callee":{"type":"MemberExpression","start":21242,"end":21259,"loc":{"start":{"line":680,"column":40},"end":{"line":680,"column":57}},"object":{"type":"MemberExpression","start":21242,"end":21251,"loc":{"start":{"line":680,"column":40},"end":{"line":680,"column":49}},"object":{"type":"ThisExpression","start":21242,"end":21246,"loc":{"start":{"line":680,"column":40},"end":{"line":680,"column":44}}},"computed":false,"property":{"type":"Identifier","start":21247,"end":21251,"loc":{"start":{"line":680,"column":45},"end":{"line":680,"column":49},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":21252,"end":21259,"loc":{"start":{"line":680,"column":50},"end":{"line":680,"column":57},"identifierName":"getFile"},"name":"getFile"},"optional":false},"arguments":[{"type":"Identifier","start":21260,"end":21266,"loc":{"start":{"line":680,"column":58},"end":{"line":680,"column":64},"identifierName":"fileID"},"name":"fileID"}],"optional":false}}],"optional":false}}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" Only use files without errors","start":21273,"end":21305,"loc":{"start":{"line":681,"column":4},"end":{"line":681,"column":36}}}]},{"type":"ExpressionStatement","start":21310,"end":21376,"loc":{"start":{"line":682,"column":4},"end":{"line":682,"column":70}},"expression":{"type":"AssignmentExpression","start":21310,"end":21376,"loc":{"start":{"line":682,"column":4},"end":{"line":682,"column":70}},"operator":"=","left":{"type":"Identifier","start":21310,"end":21317,"loc":{"start":{"line":682,"column":4},"end":{"line":682,"column":11},"identifierName":"fileIDs"},"name":"fileIDs"},"right":{"type":"CallExpression","start":21320,"end":21376,"loc":{"start":{"line":682,"column":14},"end":{"line":682,"column":70}},"callee":{"type":"MemberExpression","start":21320,"end":21359,"loc":{"start":{"line":682,"column":14},"end":{"line":682,"column":53}},"object":{"type":"CallExpression","start":21320,"end":21355,"loc":{"start":{"line":682,"column":14},"end":{"line":682,"column":49}},"callee":{"type":"MemberExpression","start":21320,"end":21332,"loc":{"start":{"line":682,"column":14},"end":{"line":682,"column":26}},"object":{"type":"Identifier","start":21320,"end":21325,"loc":{"start":{"line":682,"column":14},"end":{"line":682,"column":19},"identifierName":"files"},"name":"files"},"computed":false,"property":{"type":"Identifier","start":21326,"end":21332,"loc":{"start":{"line":682,"column":20},"end":{"line":682,"column":26},"identifierName":"filter"},"name":"filter"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":21333,"end":21354,"loc":{"start":{"line":682,"column":27},"end":{"line":682,"column":48}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":21334,"end":21338,"loc":{"start":{"line":682,"column":28},"end":{"line":682,"column":32},"identifierName":"file"},"name":"file"}],"body":{"type":"UnaryExpression","start":21343,"end":21354,"loc":{"start":{"line":682,"column":37},"end":{"line":682,"column":48}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":21344,"end":21354,"loc":{"start":{"line":682,"column":38},"end":{"line":682,"column":48}},"object":{"type":"Identifier","start":21344,"end":21348,"loc":{"start":{"line":682,"column":38},"end":{"line":682,"column":42},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":21349,"end":21354,"loc":{"start":{"line":682,"column":43},"end":{"line":682,"column":48},"identifierName":"error"},"name":"error"},"optional":false}}}],"optional":false},"computed":false,"property":{"type":"Identifier","start":21356,"end":21359,"loc":{"start":{"line":682,"column":50},"end":{"line":682,"column":53},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":21360,"end":21375,"loc":{"start":{"line":682,"column":54},"end":{"line":682,"column":69}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":21360,"end":21364,"loc":{"start":{"line":682,"column":54},"end":{"line":682,"column":58},"identifierName":"file"},"name":"file"}],"body":{"type":"MemberExpression","start":21368,"end":21375,"loc":{"start":{"line":682,"column":62},"end":{"line":682,"column":69}},"object":{"type":"Identifier","start":21368,"end":21372,"loc":{"start":{"line":682,"column":62},"end":{"line":682,"column":66},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":21373,"end":21375,"loc":{"start":{"line":682,"column":67},"end":{"line":682,"column":69},"identifierName":"id"},"name":"id"},"optional":false}}],"optional":false}},"leadingComments":[{"type":"CommentLine","value":" Only use files without errors","start":21273,"end":21305,"loc":{"start":{"line":681,"column":4},"end":{"line":681,"column":36}}}]},{"type":"VariableDeclaration","start":21382,"end":21417,"loc":{"start":{"line":684,"column":4},"end":{"line":684,"column":39}},"declarations":[{"type":"VariableDeclarator","start":21388,"end":21417,"loc":{"start":{"line":684,"column":10},"end":{"line":684,"column":39}},"id":{"type":"Identifier","start":21388,"end":21393,"loc":{"start":{"line":684,"column":10},"end":{"line":684,"column":15},"identifierName":"state"},"name":"state"},"init":{"type":"CallExpression","start":21396,"end":21417,"loc":{"start":{"line":684,"column":18},"end":{"line":684,"column":39}},"callee":{"type":"MemberExpression","start":21396,"end":21415,"loc":{"start":{"line":684,"column":18},"end":{"line":684,"column":37}},"object":{"type":"ThisExpression","start":21396,"end":21400,"loc":{"start":{"line":684,"column":18},"end":{"line":684,"column":22}}},"computed":false,"property":{"type":"Identifier","start":21401,"end":21415,"loc":{"start":{"line":684,"column":23},"end":{"line":684,"column":37},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" If we're still restoring state, wait for that to be done.","start":21423,"end":21483,"loc":{"start":{"line":686,"column":4},"end":{"line":686,"column":64}}}]},{"type":"IfStatement","start":21488,"end":21615,"loc":{"start":{"line":687,"column":4},"end":{"line":691,"column":5}},"test":{"type":"MemberExpression","start":21492,"end":21505,"loc":{"start":{"line":687,"column":8},"end":{"line":687,"column":21}},"object":{"type":"ThisExpression","start":21492,"end":21496,"loc":{"start":{"line":687,"column":8},"end":{"line":687,"column":12}}},"computed":false,"property":{"type":"Identifier","start":21497,"end":21505,"loc":{"start":{"line":687,"column":13},"end":{"line":687,"column":21},"identifierName":"restored"},"name":"restored"},"optional":false},"consequent":{"type":"BlockStatement","start":21507,"end":21615,"loc":{"start":{"line":687,"column":23},"end":{"line":691,"column":5}},"body":[{"type":"ReturnStatement","start":21515,"end":21609,"loc":{"start":{"line":688,"column":6},"end":{"line":690,"column":8}},"argument":{"type":"CallExpression","start":21522,"end":21609,"loc":{"start":{"line":688,"column":13},"end":{"line":690,"column":8}},"callee":{"type":"MemberExpression","start":21522,"end":21540,"loc":{"start":{"line":688,"column":13},"end":{"line":688,"column":31}},"object":{"type":"MemberExpression","start":21522,"end":21535,"loc":{"start":{"line":688,"column":13},"end":{"line":688,"column":26}},"object":{"type":"ThisExpression","start":21522,"end":21526,"loc":{"start":{"line":688,"column":13},"end":{"line":688,"column":17}}},"computed":false,"property":{"type":"Identifier","start":21527,"end":21535,"loc":{"start":{"line":688,"column":18},"end":{"line":688,"column":26},"identifierName":"restored"},"name":"restored"},"optional":false},"computed":false,"property":{"type":"Identifier","start":21536,"end":21540,"loc":{"start":{"line":688,"column":27},"end":{"line":688,"column":31},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":21541,"end":21608,"loc":{"start":{"line":688,"column":32},"end":{"line":690,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":21547,"end":21608,"loc":{"start":{"line":688,"column":38},"end":{"line":690,"column":7}},"body":[{"type":"ReturnStatement","start":21557,"end":21600,"loc":{"start":{"line":689,"column":8},"end":{"line":689,"column":51}},"argument":{"type":"CallExpression","start":21564,"end":21600,"loc":{"start":{"line":689,"column":15},"end":{"line":689,"column":51}},"callee":{"type":"MemberExpression","start":21564,"end":21581,"loc":{"start":{"line":689,"column":15},"end":{"line":689,"column":32}},"object":{"type":"ThisExpression","start":21564,"end":21568,"loc":{"start":{"line":689,"column":15},"end":{"line":689,"column":19}}},"computed":false,"property":{"type":"Identifier","start":21569,"end":21581,"loc":{"start":{"line":689,"column":20},"end":{"line":689,"column":32},"identifierName":"_afterUpload"},"name":"_afterUpload"},"optional":false},"arguments":[{"type":"Identifier","start":21582,"end":21589,"loc":{"start":{"line":689,"column":33},"end":{"line":689,"column":40},"identifierName":"fileIDs"},"name":"fileIDs"},{"type":"Identifier","start":21591,"end":21599,"loc":{"start":{"line":689,"column":42},"end":{"line":689,"column":50},"identifierName":"uploadID"},"name":"uploadID"}],"optional":false}}]}}],"optional":false}}]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" If we're still restoring state, wait for that to be done.","start":21423,"end":21483,"loc":{"start":{"line":686,"column":4},"end":{"line":686,"column":64}}}]},{"type":"VariableDeclaration","start":21621,"end":21674,"loc":{"start":{"line":693,"column":4},"end":{"line":693,"column":57}},"declarations":[{"type":"VariableDeclarator","start":21627,"end":21674,"loc":{"start":{"line":693,"column":10},"end":{"line":693,"column":57}},"id":{"type":"Identifier","start":21627,"end":21638,"loc":{"start":{"line":693,"column":10},"end":{"line":693,"column":21},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},"init":{"type":"MemberExpression","start":21641,"end":21674,"loc":{"start":{"line":693,"column":24},"end":{"line":693,"column":57}},"object":{"type":"MemberExpression","start":21641,"end":21664,"loc":{"start":{"line":693,"column":24},"end":{"line":693,"column":47}},"object":{"type":"Identifier","start":21641,"end":21646,"loc":{"start":{"line":693,"column":24},"end":{"line":693,"column":29},"identifierName":"state"},"name":"state"},"computed":false,"property":{"type":"Identifier","start":21647,"end":21664,"loc":{"start":{"line":693,"column":30},"end":{"line":693,"column":47},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"optional":false},"computed":true,"property":{"type":"Identifier","start":21665,"end":21673,"loc":{"start":{"line":693,"column":48},"end":{"line":693,"column":56},"identifierName":"uploadID"},"name":"uploadID"},"optional":false}}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" If we don't have to wait for encoding metadata or results, we can close","start":21680,"end":21754,"loc":{"start":{"line":695,"column":4},"end":{"line":695,"column":78}}},{"type":"CommentLine","value":" the socket immediately and finish the upload.","start":21759,"end":21807,"loc":{"start":{"line":696,"column":4},"end":{"line":696,"column":52}}}]},{"type":"IfStatement","start":21812,"end":22212,"loc":{"start":{"line":697,"column":4},"end":{"line":706,"column":5}},"test":{"type":"UnaryExpression","start":21816,"end":21846,"loc":{"start":{"line":697,"column":8},"end":{"line":697,"column":38}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":21817,"end":21846,"loc":{"start":{"line":697,"column":9},"end":{"line":697,"column":38}},"callee":{"type":"MemberExpression","start":21817,"end":21844,"loc":{"start":{"line":697,"column":9},"end":{"line":697,"column":36}},"object":{"type":"ThisExpression","start":21817,"end":21821,"loc":{"start":{"line":697,"column":9},"end":{"line":697,"column":13}}},"computed":false,"property":{"type":"Identifier","start":21822,"end":21844,"loc":{"start":{"line":697,"column":14},"end":{"line":697,"column":36},"identifierName":"_shouldWaitAfterUpload"},"name":"_shouldWaitAfterUpload"},"optional":false},"arguments":[],"optional":false}},"consequent":{"type":"BlockStatement","start":21848,"end":22212,"loc":{"start":{"line":697,"column":40},"end":{"line":706,"column":5}},"body":[{"type":"ExpressionStatement","start":21856,"end":22035,"loc":{"start":{"line":698,"column":6},"end":{"line":702,"column":8}},"expression":{"type":"CallExpression","start":21856,"end":22035,"loc":{"start":{"line":698,"column":6},"end":{"line":702,"column":8}},"callee":{"type":"MemberExpression","start":21856,"end":21875,"loc":{"start":{"line":698,"column":6},"end":{"line":698,"column":25}},"object":{"type":"Identifier","start":21856,"end":21867,"loc":{"start":{"line":698,"column":6},"end":{"line":698,"column":17},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},"computed":false,"property":{"type":"Identifier","start":21868,"end":21875,"loc":{"start":{"line":698,"column":18},"end":{"line":698,"column":25},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":21876,"end":22034,"loc":{"start":{"line":698,"column":26},"end":{"line":702,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":21877,"end":21887,"loc":{"start":{"line":698,"column":27},"end":{"line":698,"column":37},"identifierName":"assemblyID"},"name":"assemblyID"}],"body":{"type":"BlockStatement","start":21892,"end":22034,"loc":{"start":{"line":698,"column":42},"end":{"line":702,"column":7}},"body":[{"type":"VariableDeclaration","start":21902,"end":21952,"loc":{"start":{"line":699,"column":8},"end":{"line":699,"column":58}},"declarations":[{"type":"VariableDeclarator","start":21908,"end":21952,"loc":{"start":{"line":699,"column":14},"end":{"line":699,"column":58}},"id":{"type":"Identifier","start":21908,"end":21916,"loc":{"start":{"line":699,"column":14},"end":{"line":699,"column":22},"identifierName":"assembly"},"name":"assembly"},"init":{"type":"MemberExpression","start":21919,"end":21952,"loc":{"start":{"line":699,"column":25},"end":{"line":699,"column":58}},"object":{"type":"MemberExpression","start":21919,"end":21940,"loc":{"start":{"line":699,"column":25},"end":{"line":699,"column":46}},"object":{"type":"ThisExpression","start":21919,"end":21923,"loc":{"start":{"line":699,"column":25},"end":{"line":699,"column":29}}},"computed":false,"property":{"type":"Identifier","start":21924,"end":21940,"loc":{"start":{"line":699,"column":30},"end":{"line":699,"column":46},"identifierName":"activeAssemblies"},"name":"activeAssemblies"},"optional":false},"computed":true,"property":{"type":"Identifier","start":21941,"end":21951,"loc":{"start":{"line":699,"column":47},"end":{"line":699,"column":57},"identifierName":"assemblyID"},"name":"assemblyID"},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":21961,"end":21977,"loc":{"start":{"line":700,"column":8},"end":{"line":700,"column":24}},"expression":{"type":"CallExpression","start":21961,"end":21977,"loc":{"start":{"line":700,"column":8},"end":{"line":700,"column":24}},"callee":{"type":"MemberExpression","start":21961,"end":21975,"loc":{"start":{"line":700,"column":8},"end":{"line":700,"column":22}},"object":{"type":"Identifier","start":21961,"end":21969,"loc":{"start":{"line":700,"column":8},"end":{"line":700,"column":16},"identifierName":"assembly"},"name":"assembly"},"computed":false,"property":{"type":"Identifier","start":21970,"end":21975,"loc":{"start":{"line":700,"column":17},"end":{"line":700,"column":22},"identifierName":"close"},"name":"close"},"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":21986,"end":22026,"loc":{"start":{"line":701,"column":8},"end":{"line":701,"column":48}},"expression":{"type":"UnaryExpression","start":21986,"end":22026,"loc":{"start":{"line":701,"column":8},"end":{"line":701,"column":48}},"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":21993,"end":22026,"loc":{"start":{"line":701,"column":15},"end":{"line":701,"column":48}},"object":{"type":"MemberExpression","start":21993,"end":22014,"loc":{"start":{"line":701,"column":15},"end":{"line":701,"column":36}},"object":{"type":"ThisExpression","start":21993,"end":21997,"loc":{"start":{"line":701,"column":15},"end":{"line":701,"column":19}}},"computed":false,"property":{"type":"Identifier","start":21998,"end":22014,"loc":{"start":{"line":701,"column":20},"end":{"line":701,"column":36},"identifierName":"activeAssemblies"},"name":"activeAssemblies"},"optional":false},"computed":true,"property":{"type":"Identifier","start":22015,"end":22025,"loc":{"start":{"line":701,"column":37},"end":{"line":701,"column":47},"identifierName":"assemblyID"},"name":"assemblyID"},"optional":false}}}]}}],"optional":false}},{"type":"VariableDeclaration","start":22042,"end":22106,"loc":{"start":{"line":703,"column":6},"end":{"line":703,"column":70}},"declarations":[{"type":"VariableDeclarator","start":22048,"end":22106,"loc":{"start":{"line":703,"column":12},"end":{"line":703,"column":70}},"id":{"type":"Identifier","start":22048,"end":22058,"loc":{"start":{"line":703,"column":12},"end":{"line":703,"column":22},"identifierName":"assemblies"},"name":"assemblies"},"init":{"type":"CallExpression","start":22061,"end":22106,"loc":{"start":{"line":703,"column":25},"end":{"line":703,"column":70}},"callee":{"type":"MemberExpression","start":22061,"end":22076,"loc":{"start":{"line":703,"column":25},"end":{"line":703,"column":40}},"object":{"type":"Identifier","start":22061,"end":22072,"loc":{"start":{"line":703,"column":25},"end":{"line":703,"column":36},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},"computed":false,"property":{"type":"Identifier","start":22073,"end":22076,"loc":{"start":{"line":703,"column":37},"end":{"line":703,"column":40},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":22077,"end":22105,"loc":{"start":{"line":703,"column":41},"end":{"line":703,"column":69}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":22078,"end":22080,"loc":{"start":{"line":703,"column":42},"end":{"line":703,"column":44},"identifierName":"id"},"name":"id"}],"body":{"type":"CallExpression","start":22085,"end":22105,"loc":{"start":{"line":703,"column":49},"end":{"line":703,"column":69}},"callee":{"type":"MemberExpression","start":22085,"end":22101,"loc":{"start":{"line":703,"column":49},"end":{"line":703,"column":65}},"object":{"type":"ThisExpression","start":22085,"end":22089,"loc":{"start":{"line":703,"column":49},"end":{"line":703,"column":53}}},"computed":false,"property":{"type":"Identifier","start":22090,"end":22101,"loc":{"start":{"line":703,"column":54},"end":{"line":703,"column":65},"identifierName":"getAssembly"},"name":"getAssembly"},"optional":false},"arguments":[{"type":"Identifier","start":22102,"end":22104,"loc":{"start":{"line":703,"column":66},"end":{"line":703,"column":68},"identifierName":"id"},"name":"id"}],"optional":false}}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":22113,"end":22175,"loc":{"start":{"line":704,"column":6},"end":{"line":704,"column":68}},"expression":{"type":"CallExpression","start":22113,"end":22175,"loc":{"start":{"line":704,"column":6},"end":{"line":704,"column":68}},"callee":{"type":"MemberExpression","start":22113,"end":22136,"loc":{"start":{"line":704,"column":6},"end":{"line":704,"column":29}},"object":{"type":"MemberExpression","start":22113,"end":22122,"loc":{"start":{"line":704,"column":6},"end":{"line":704,"column":15}},"object":{"type":"ThisExpression","start":22113,"end":22117,"loc":{"start":{"line":704,"column":6},"end":{"line":704,"column":10}}},"computed":false,"property":{"type":"Identifier","start":22118,"end":22122,"loc":{"start":{"line":704,"column":11},"end":{"line":704,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":22123,"end":22136,"loc":{"start":{"line":704,"column":16},"end":{"line":704,"column":29},"identifierName":"addResultData"},"name":"addResultData"},"optional":false},"arguments":[{"type":"Identifier","start":22137,"end":22145,"loc":{"start":{"line":704,"column":30},"end":{"line":704,"column":38},"identifierName":"uploadID"},"name":"uploadID"},{"type":"ObjectExpression","start":22147,"end":22174,"loc":{"start":{"line":704,"column":40},"end":{"line":704,"column":67}},"properties":[{"type":"Property","start":22149,"end":22172,"loc":{"start":{"line":704,"column":42},"end":{"line":704,"column":65}},"method":false,"key":{"type":"Identifier","start":22149,"end":22160,"loc":{"start":{"line":704,"column":42},"end":{"line":704,"column":53},"identifierName":"transloadit"},"name":"transloadit"},"computed":false,"shorthand":false,"value":{"type":"Identifier","start":22162,"end":22172,"loc":{"start":{"line":704,"column":55},"end":{"line":704,"column":65},"identifierName":"assemblies"},"name":"assemblies"},"kind":"init"}]}],"optional":false}},{"type":"ReturnStatement","start":22182,"end":22206,"loc":{"start":{"line":705,"column":6},"end":{"line":705,"column":30}},"argument":{"type":"CallExpression","start":22189,"end":22206,"loc":{"start":{"line":705,"column":13},"end":{"line":705,"column":30}},"callee":{"type":"MemberExpression","start":22189,"end":22204,"loc":{"start":{"line":705,"column":13},"end":{"line":705,"column":28}},"object":{"type":"Identifier","start":22189,"end":22196,"loc":{"start":{"line":705,"column":13},"end":{"line":705,"column":20},"identifierName":"Promise"},"name":"Promise"},"computed":false,"property":{"type":"Identifier","start":22197,"end":22204,"loc":{"start":{"line":705,"column":21},"end":{"line":705,"column":28},"identifierName":"resolve"},"name":"resolve"},"optional":false},"arguments":[],"optional":false}}]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" If we don't have to wait for encoding metadata or results, we can close","start":21680,"end":21754,"loc":{"start":{"line":695,"column":4},"end":{"line":695,"column":78}}},{"type":"CommentLine","value":" the socket immediately and finish the upload.","start":21759,"end":21807,"loc":{"start":{"line":696,"column":4},"end":{"line":696,"column":52}}}],"trailingComments":[{"type":"CommentLine","value":" If no Assemblies were created for this upload, we also do not have to wait.","start":22218,"end":22296,"loc":{"start":{"line":708,"column":4},"end":{"line":708,"column":82}}},{"type":"CommentLine","value":" There's also no sockets or anything to close, so just return immediately.","start":22301,"end":22377,"loc":{"start":{"line":709,"column":4},"end":{"line":709,"column":80}}}]},{"type":"IfStatement","start":22382,"end":22511,"loc":{"start":{"line":710,"column":4},"end":{"line":713,"column":5}},"test":{"type":"BinaryExpression","start":22386,"end":22410,"loc":{"start":{"line":710,"column":8},"end":{"line":710,"column":32}},"left":{"type":"MemberExpression","start":22386,"end":22404,"loc":{"start":{"line":710,"column":8},"end":{"line":710,"column":26}},"object":{"type":"Identifier","start":22386,"end":22397,"loc":{"start":{"line":710,"column":8},"end":{"line":710,"column":19},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},"computed":false,"property":{"type":"Identifier","start":22398,"end":22404,"loc":{"start":{"line":710,"column":20},"end":{"line":710,"column":26},"identifierName":"length"},"name":"length"},"optional":false},"operator":"===","right":{"type":"Literal","start":22409,"end":22410,"loc":{"start":{"line":710,"column":31},"end":{"line":710,"column":32}},"value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","start":22412,"end":22511,"loc":{"start":{"line":710,"column":34},"end":{"line":713,"column":5}},"body":[{"type":"ExpressionStatement","start":22420,"end":22474,"loc":{"start":{"line":711,"column":6},"end":{"line":711,"column":60}},"expression":{"type":"CallExpression","start":22420,"end":22474,"loc":{"start":{"line":711,"column":6},"end":{"line":711,"column":60}},"callee":{"type":"MemberExpression","start":22420,"end":22443,"loc":{"start":{"line":711,"column":6},"end":{"line":711,"column":29}},"object":{"type":"MemberExpression","start":22420,"end":22429,"loc":{"start":{"line":711,"column":6},"end":{"line":711,"column":15}},"object":{"type":"ThisExpression","start":22420,"end":22424,"loc":{"start":{"line":711,"column":6},"end":{"line":711,"column":10}}},"computed":false,"property":{"type":"Identifier","start":22425,"end":22429,"loc":{"start":{"line":711,"column":11},"end":{"line":711,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":22430,"end":22443,"loc":{"start":{"line":711,"column":16},"end":{"line":711,"column":29},"identifierName":"addResultData"},"name":"addResultData"},"optional":false},"arguments":[{"type":"Identifier","start":22444,"end":22452,"loc":{"start":{"line":711,"column":30},"end":{"line":711,"column":38},"identifierName":"uploadID"},"name":"uploadID"},{"type":"ObjectExpression","start":22454,"end":22473,"loc":{"start":{"line":711,"column":40},"end":{"line":711,"column":59}},"properties":[{"type":"Property","start":22456,"end":22471,"loc":{"start":{"line":711,"column":42},"end":{"line":711,"column":57}},"method":false,"key":{"type":"Identifier","start":22456,"end":22467,"loc":{"start":{"line":711,"column":42},"end":{"line":711,"column":53},"identifierName":"transloadit"},"name":"transloadit"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","start":22469,"end":22471,"loc":{"start":{"line":711,"column":55},"end":{"line":711,"column":57}},"elements":[]},"kind":"init"}]}],"optional":false}},{"type":"ReturnStatement","start":22481,"end":22505,"loc":{"start":{"line":712,"column":6},"end":{"line":712,"column":30}},"argument":{"type":"CallExpression","start":22488,"end":22505,"loc":{"start":{"line":712,"column":13},"end":{"line":712,"column":30}},"callee":{"type":"MemberExpression","start":22488,"end":22503,"loc":{"start":{"line":712,"column":13},"end":{"line":712,"column":28}},"object":{"type":"Identifier","start":22488,"end":22495,"loc":{"start":{"line":712,"column":13},"end":{"line":712,"column":20},"identifierName":"Promise"},"name":"Promise"},"computed":false,"property":{"type":"Identifier","start":22496,"end":22503,"loc":{"start":{"line":712,"column":21},"end":{"line":712,"column":28},"identifierName":"resolve"},"name":"resolve"},"optional":false},"arguments":[],"optional":false}}]},"alternate":null,"leadingComments":[{"type":"CommentLine","value":" If no Assemblies were created for this upload, we also do not have to wait.","start":22218,"end":22296,"loc":{"start":{"line":708,"column":4},"end":{"line":708,"column":82}}},{"type":"CommentLine","value":" There's also no sockets or anything to close, so just return immediately.","start":22301,"end":22377,"loc":{"start":{"line":709,"column":4},"end":{"line":709,"column":80}}}]},{"type":"VariableDeclaration","start":22517,"end":22605,"loc":{"start":{"line":715,"column":4},"end":{"line":715,"column":92}},"declarations":[{"type":"VariableDeclarator","start":22523,"end":22605,"loc":{"start":{"line":715,"column":10},"end":{"line":715,"column":92}},"id":{"type":"Identifier","start":22523,"end":22538,"loc":{"start":{"line":715,"column":10},"end":{"line":715,"column":25},"identifierName":"incompleteFiles"},"name":"incompleteFiles"},"init":{"type":"CallExpression","start":22541,"end":22605,"loc":{"start":{"line":715,"column":28},"end":{"line":715,"column":92}},"callee":{"type":"MemberExpression","start":22541,"end":22553,"loc":{"start":{"line":715,"column":28},"end":{"line":715,"column":40}},"object":{"type":"Identifier","start":22541,"end":22546,"loc":{"start":{"line":715,"column":28},"end":{"line":715,"column":33},"identifierName":"files"},"name":"files"},"computed":false,"property":{"type":"Identifier","start":22547,"end":22553,"loc":{"start":{"line":715,"column":34},"end":{"line":715,"column":40},"identifierName":"filter"},"name":"filter"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":22554,"end":22604,"loc":{"start":{"line":715,"column":41},"end":{"line":715,"column":91}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":22554,"end":22558,"loc":{"start":{"line":715,"column":41},"end":{"line":715,"column":45},"identifierName":"file"},"name":"file"}],"body":{"type":"UnaryExpression","start":22562,"end":22604,"loc":{"start":{"line":715,"column":49},"end":{"line":715,"column":91}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":22563,"end":22604,"loc":{"start":{"line":715,"column":50},"end":{"line":715,"column":91}},"callee":{"type":"Identifier","start":22563,"end":22574,"loc":{"start":{"line":715,"column":50},"end":{"line":715,"column":61},"identifierName":"hasProperty"},"name":"hasProperty"},"arguments":[{"type":"MemberExpression","start":22575,"end":22594,"loc":{"start":{"line":715,"column":62},"end":{"line":715,"column":81}},"object":{"type":"ThisExpression","start":22575,"end":22579,"loc":{"start":{"line":715,"column":62},"end":{"line":715,"column":66}}},"computed":false,"property":{"type":"Identifier","start":22580,"end":22594,"loc":{"start":{"line":715,"column":67},"end":{"line":715,"column":81},"identifierName":"completedFiles"},"name":"completedFiles"},"optional":false},{"type":"MemberExpression","start":22596,"end":22603,"loc":{"start":{"line":715,"column":83},"end":{"line":715,"column":90}},"object":{"type":"Identifier","start":22596,"end":22600,"loc":{"start":{"line":715,"column":83},"end":{"line":715,"column":87},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":22601,"end":22603,"loc":{"start":{"line":715,"column":88},"end":{"line":715,"column":90},"identifierName":"id"},"name":"id"},"optional":false}],"optional":false}}}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":22610,"end":22784,"loc":{"start":{"line":716,"column":4},"end":{"line":721,"column":6}},"expression":{"type":"CallExpression","start":22610,"end":22784,"loc":{"start":{"line":716,"column":4},"end":{"line":721,"column":6}},"callee":{"type":"MemberExpression","start":22610,"end":22633,"loc":{"start":{"line":716,"column":4},"end":{"line":716,"column":27}},"object":{"type":"Identifier","start":22610,"end":22625,"loc":{"start":{"line":716,"column":4},"end":{"line":716,"column":19},"identifierName":"incompleteFiles"},"name":"incompleteFiles"},"computed":false,"property":{"type":"Identifier","start":22626,"end":22633,"loc":{"start":{"line":716,"column":20},"end":{"line":716,"column":27},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":22634,"end":22783,"loc":{"start":{"line":716,"column":28},"end":{"line":721,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":22635,"end":22639,"loc":{"start":{"line":716,"column":29},"end":{"line":716,"column":33},"identifierName":"file"},"name":"file"}],"body":{"type":"BlockStatement","start":22644,"end":22783,"loc":{"start":{"line":716,"column":38},"end":{"line":721,"column":5}},"body":[{"type":"ExpressionStatement","start":22652,"end":22777,"loc":{"start":{"line":717,"column":6},"end":{"line":720,"column":8}},"expression":{"type":"CallExpression","start":22652,"end":22777,"loc":{"start":{"line":717,"column":6},"end":{"line":720,"column":8}},"callee":{"type":"MemberExpression","start":22652,"end":22666,"loc":{"start":{"line":717,"column":6},"end":{"line":717,"column":20}},"object":{"type":"MemberExpression","start":22652,"end":22661,"loc":{"start":{"line":717,"column":6},"end":{"line":717,"column":15}},"object":{"type":"ThisExpression","start":22652,"end":22656,"loc":{"start":{"line":717,"column":6},"end":{"line":717,"column":10}}},"computed":false,"property":{"type":"Identifier","start":22657,"end":22661,"loc":{"start":{"line":717,"column":11},"end":{"line":717,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":22662,"end":22666,"loc":{"start":{"line":717,"column":16},"end":{"line":717,"column":20},"identifierName":"emit"},"name":"emit"},"optional":false},"arguments":[{"type":"Literal","start":22667,"end":22689,"loc":{"start":{"line":717,"column":21},"end":{"line":717,"column":43}},"value":"postprocess-progress","raw":"'postprocess-progress'"},{"type":"Identifier","start":22691,"end":22695,"loc":{"start":{"line":717,"column":45},"end":{"line":717,"column":49},"identifierName":"file"},"name":"file"},{"type":"ObjectExpression","start":22697,"end":22776,"loc":{"start":{"line":717,"column":51},"end":{"line":720,"column":7}},"properties":[{"type":"Property","start":22707,"end":22728,"loc":{"start":{"line":718,"column":8},"end":{"line":718,"column":29}},"method":false,"key":{"type":"Identifier","start":22707,"end":22711,"loc":{"start":{"line":718,"column":8},"end":{"line":718,"column":12},"identifierName":"mode"},"name":"mode"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":22713,"end":22728,"loc":{"start":{"line":718,"column":14},"end":{"line":718,"column":29}},"value":"indeterminate","raw":"'indeterminate'"},"kind":"init"},{"type":"Property","start":22738,"end":22768,"loc":{"start":{"line":719,"column":8},"end":{"line":719,"column":38}},"method":false,"key":{"type":"Identifier","start":22738,"end":22745,"loc":{"start":{"line":719,"column":8},"end":{"line":719,"column":15},"identifierName":"message"},"name":"message"},"computed":false,"shorthand":false,"value":{"type":"CallExpression","start":22747,"end":22768,"loc":{"start":{"line":719,"column":17},"end":{"line":719,"column":38}},"callee":{"type":"MemberExpression","start":22747,"end":22756,"loc":{"start":{"line":719,"column":17},"end":{"line":719,"column":26}},"object":{"type":"ThisExpression","start":22747,"end":22751,"loc":{"start":{"line":719,"column":17},"end":{"line":719,"column":21}}},"computed":false,"property":{"type":"Identifier","start":22752,"end":22756,"loc":{"start":{"line":719,"column":22},"end":{"line":719,"column":26},"identifierName":"i18n"},"name":"i18n"},"optional":false},"arguments":[{"type":"Literal","start":22757,"end":22767,"loc":{"start":{"line":719,"column":27},"end":{"line":719,"column":37}},"value":"encoding","raw":"'encoding'"}],"optional":false},"kind":"init"}]}],"optional":false}}]}}],"optional":false}},{"type":"VariableDeclaration","start":22790,"end":22837,"loc":{"start":{"line":723,"column":4},"end":{"line":723,"column":51}},"declarations":[{"type":"VariableDeclarator","start":22796,"end":22837,"loc":{"start":{"line":723,"column":10},"end":{"line":723,"column":51}},"id":{"type":"Identifier","start":22796,"end":22803,"loc":{"start":{"line":723,"column":10},"end":{"line":723,"column":17},"identifierName":"watcher"},"name":"watcher"},"init":{"type":"MemberExpression","start":22806,"end":22837,"loc":{"start":{"line":723,"column":20},"end":{"line":723,"column":51}},"object":{"type":"MemberExpression","start":22806,"end":22827,"loc":{"start":{"line":723,"column":20},"end":{"line":723,"column":41}},"object":{"type":"ThisExpression","start":22806,"end":22810,"loc":{"start":{"line":723,"column":20},"end":{"line":723,"column":24}}},"computed":false,"property":{"type":"Identifier","start":22811,"end":22827,"loc":{"start":{"line":723,"column":25},"end":{"line":723,"column":41},"identifierName":"assemblyWatchers"},"name":"assemblyWatchers"},"optional":false},"computed":true,"property":{"type":"Identifier","start":22828,"end":22836,"loc":{"start":{"line":723,"column":42},"end":{"line":723,"column":50},"identifierName":"uploadID"},"name":"uploadID"},"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":22842,"end":23340,"loc":{"start":{"line":724,"column":4},"end":{"line":737,"column":6}},"argument":{"type":"CallExpression","start":22849,"end":23340,"loc":{"start":{"line":724,"column":11},"end":{"line":737,"column":6}},"callee":{"type":"MemberExpression","start":22849,"end":22869,"loc":{"start":{"line":724,"column":11},"end":{"line":724,"column":31}},"object":{"type":"MemberExpression","start":22849,"end":22864,"loc":{"start":{"line":724,"column":11},"end":{"line":724,"column":26}},"object":{"type":"Identifier","start":22849,"end":22856,"loc":{"start":{"line":724,"column":11},"end":{"line":724,"column":18},"identifierName":"watcher"},"name":"watcher"},"computed":false,"property":{"type":"Identifier","start":22857,"end":22864,"loc":{"start":{"line":724,"column":19},"end":{"line":724,"column":26},"identifierName":"promise"},"name":"promise"},"optional":false},"computed":false,"property":{"type":"Identifier","start":22865,"end":22869,"loc":{"start":{"line":724,"column":27},"end":{"line":724,"column":31},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":22870,"end":23339,"loc":{"start":{"line":724,"column":32},"end":{"line":737,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":22876,"end":23339,"loc":{"start":{"line":724,"column":38},"end":{"line":737,"column":5}},"body":[{"type":"VariableDeclaration","start":22884,"end":22948,"loc":{"start":{"line":725,"column":6},"end":{"line":725,"column":70}},"declarations":[{"type":"VariableDeclarator","start":22890,"end":22948,"loc":{"start":{"line":725,"column":12},"end":{"line":725,"column":70}},"id":{"type":"Identifier","start":22890,"end":22900,"loc":{"start":{"line":725,"column":12},"end":{"line":725,"column":22},"identifierName":"assemblies"},"name":"assemblies"},"init":{"type":"CallExpression","start":22903,"end":22948,"loc":{"start":{"line":725,"column":25},"end":{"line":725,"column":70}},"callee":{"type":"MemberExpression","start":22903,"end":22918,"loc":{"start":{"line":725,"column":25},"end":{"line":725,"column":40}},"object":{"type":"Identifier","start":22903,"end":22914,"loc":{"start":{"line":725,"column":25},"end":{"line":725,"column":36},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},"computed":false,"property":{"type":"Identifier","start":22915,"end":22918,"loc":{"start":{"line":725,"column":37},"end":{"line":725,"column":40},"identifierName":"map"},"name":"map"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":22919,"end":22947,"loc":{"start":{"line":725,"column":41},"end":{"line":725,"column":69}},"id":null,"generator":false,"async":false,"expression":true,"params":[{"type":"Identifier","start":22920,"end":22922,"loc":{"start":{"line":725,"column":42},"end":{"line":725,"column":44},"identifierName":"id"},"name":"id"}],"body":{"type":"CallExpression","start":22927,"end":22947,"loc":{"start":{"line":725,"column":49},"end":{"line":725,"column":69}},"callee":{"type":"MemberExpression","start":22927,"end":22943,"loc":{"start":{"line":725,"column":49},"end":{"line":725,"column":65}},"object":{"type":"ThisExpression","start":22927,"end":22931,"loc":{"start":{"line":725,"column":49},"end":{"line":725,"column":53}}},"computed":false,"property":{"type":"Identifier","start":22932,"end":22943,"loc":{"start":{"line":725,"column":54},"end":{"line":725,"column":65},"identifierName":"getAssembly"},"name":"getAssembly"},"optional":false},"arguments":[{"type":"Identifier","start":22944,"end":22946,"loc":{"start":{"line":725,"column":66},"end":{"line":725,"column":68},"identifierName":"id"},"name":"id"}],"optional":false}}],"optional":false}}],"kind":"const","trailingComments":[{"type":"CommentLine","value":" Remove the Assembly ID list for this upload,","start":22956,"end":23003,"loc":{"start":{"line":727,"column":6},"end":{"line":727,"column":53}}},{"type":"CommentLine","value":" it's no longer going to be used anywhere.","start":23010,"end":23054,"loc":{"start":{"line":728,"column":6},"end":{"line":728,"column":50}}}]},{"type":"VariableDeclaration","start":23061,"end":23096,"loc":{"start":{"line":729,"column":6},"end":{"line":729,"column":41}},"declarations":[{"type":"VariableDeclarator","start":23067,"end":23096,"loc":{"start":{"line":729,"column":12},"end":{"line":729,"column":41}},"id":{"type":"Identifier","start":23067,"end":23072,"loc":{"start":{"line":729,"column":12},"end":{"line":729,"column":17},"identifierName":"state"},"name":"state"},"init":{"type":"CallExpression","start":23075,"end":23096,"loc":{"start":{"line":729,"column":20},"end":{"line":729,"column":41}},"callee":{"type":"MemberExpression","start":23075,"end":23094,"loc":{"start":{"line":729,"column":20},"end":{"line":729,"column":39}},"object":{"type":"ThisExpression","start":23075,"end":23079,"loc":{"start":{"line":729,"column":20},"end":{"line":729,"column":24}}},"computed":false,"property":{"type":"Identifier","start":23080,"end":23094,"loc":{"start":{"line":729,"column":25},"end":{"line":729,"column":39},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" Remove the Assembly ID list for this upload,","start":22956,"end":23003,"loc":{"start":{"line":727,"column":6},"end":{"line":727,"column":53}}},{"type":"CommentLine","value":" it's no longer going to be used anywhere.","start":23010,"end":23054,"loc":{"start":{"line":728,"column":6},"end":{"line":728,"column":50}}}]},{"type":"VariableDeclaration","start":23103,"end":23159,"loc":{"start":{"line":730,"column":6},"end":{"line":730,"column":62}},"declarations":[{"type":"VariableDeclarator","start":23109,"end":23159,"loc":{"start":{"line":730,"column":12},"end":{"line":730,"column":62}},"id":{"type":"Identifier","start":23109,"end":23126,"loc":{"start":{"line":730,"column":12},"end":{"line":730,"column":29},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"init":{"type":"ObjectExpression","start":23129,"end":23159,"loc":{"start":{"line":730,"column":32},"end":{"line":730,"column":62}},"properties":[{"type":"SpreadElement","start":23131,"end":23157,"loc":{"start":{"line":730,"column":34},"end":{"line":730,"column":60}},"argument":{"type":"MemberExpression","start":23134,"end":23157,"loc":{"start":{"line":730,"column":37},"end":{"line":730,"column":60}},"object":{"type":"Identifier","start":23134,"end":23139,"loc":{"start":{"line":730,"column":37},"end":{"line":730,"column":42},"identifierName":"state"},"name":"state"},"computed":false,"property":{"type":"Identifier","start":23140,"end":23157,"loc":{"start":{"line":730,"column":43},"end":{"line":730,"column":60},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"optional":false}}]}}],"kind":"const"},{"type":"ExpressionStatement","start":23166,"end":23200,"loc":{"start":{"line":731,"column":6},"end":{"line":731,"column":40}},"expression":{"type":"UnaryExpression","start":23166,"end":23200,"loc":{"start":{"line":731,"column":6},"end":{"line":731,"column":40}},"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":23173,"end":23200,"loc":{"start":{"line":731,"column":13},"end":{"line":731,"column":40}},"object":{"type":"Identifier","start":23173,"end":23190,"loc":{"start":{"line":731,"column":13},"end":{"line":731,"column":30},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":true,"property":{"type":"Identifier","start":23191,"end":23199,"loc":{"start":{"line":731,"column":31},"end":{"line":731,"column":39},"identifierName":"uploadID"},"name":"uploadID"},"optional":false}}},{"type":"ExpressionStatement","start":23207,"end":23249,"loc":{"start":{"line":732,"column":6},"end":{"line":732,"column":48}},"expression":{"type":"CallExpression","start":23207,"end":23249,"loc":{"start":{"line":732,"column":6},"end":{"line":732,"column":48}},"callee":{"type":"MemberExpression","start":23207,"end":23226,"loc":{"start":{"line":732,"column":6},"end":{"line":732,"column":25}},"object":{"type":"ThisExpression","start":23207,"end":23211,"loc":{"start":{"line":732,"column":6},"end":{"line":732,"column":10}}},"computed":false,"property":{"type":"Identifier","start":23212,"end":23226,"loc":{"start":{"line":732,"column":11},"end":{"line":732,"column":25},"identifierName":"setPluginState"},"name":"setPluginState"},"optional":false},"arguments":[{"type":"ObjectExpression","start":23227,"end":23248,"loc":{"start":{"line":732,"column":26},"end":{"line":732,"column":47}},"properties":[{"type":"Property","start":23229,"end":23246,"loc":{"start":{"line":732,"column":28},"end":{"line":732,"column":45}},"method":false,"key":{"type":"Identifier","start":23229,"end":23246,"loc":{"start":{"line":732,"column":28},"end":{"line":732,"column":45},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":23229,"end":23246,"loc":{"start":{"line":732,"column":28},"end":{"line":732,"column":45},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"kind":"init","extra":{"shorthand":true}}]}],"optional":false}},{"type":"ExpressionStatement","start":23257,"end":23333,"loc":{"start":{"line":734,"column":6},"end":{"line":736,"column":8}},"expression":{"type":"CallExpression","start":23257,"end":23333,"loc":{"start":{"line":734,"column":6},"end":{"line":736,"column":8}},"callee":{"type":"MemberExpression","start":23257,"end":23280,"loc":{"start":{"line":734,"column":6},"end":{"line":734,"column":29}},"object":{"type":"MemberExpression","start":23257,"end":23266,"loc":{"start":{"line":734,"column":6},"end":{"line":734,"column":15}},"object":{"type":"ThisExpression","start":23257,"end":23261,"loc":{"start":{"line":734,"column":6},"end":{"line":734,"column":10}}},"computed":false,"property":{"type":"Identifier","start":23262,"end":23266,"loc":{"start":{"line":734,"column":11},"end":{"line":734,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":23267,"end":23280,"loc":{"start":{"line":734,"column":16},"end":{"line":734,"column":29},"identifierName":"addResultData"},"name":"addResultData"},"optional":false},"arguments":[{"type":"Identifier","start":23281,"end":23289,"loc":{"start":{"line":734,"column":30},"end":{"line":734,"column":38},"identifierName":"uploadID"},"name":"uploadID"},{"type":"ObjectExpression","start":23291,"end":23332,"loc":{"start":{"line":734,"column":40},"end":{"line":736,"column":7}},"properties":[{"type":"Property","start":23301,"end":23324,"loc":{"start":{"line":735,"column":8},"end":{"line":735,"column":31}},"method":false,"key":{"type":"Identifier","start":23301,"end":23312,"loc":{"start":{"line":735,"column":8},"end":{"line":735,"column":19},"identifierName":"transloadit"},"name":"transloadit"},"computed":false,"shorthand":false,"value":{"type":"Identifier","start":23314,"end":23324,"loc":{"start":{"line":735,"column":21},"end":{"line":735,"column":31},"identifierName":"assemblies"},"name":"assemblies"},"kind":"init"}]}],"optional":false}}]}}],"optional":false}}]}}},{"type":"MethodDefinition","start":23348,"end":23638,"loc":{"start":{"line":740,"column":2},"end":{"line":749,"column":3}},"static":false,"key":{"type":"Identifier","start":23348,"end":23356,"loc":{"start":{"line":740,"column":2},"end":{"line":740,"column":10},"identifierName":"_onError"},"name":"_onError"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":23357,"end":23638,"loc":{"start":{"line":740,"column":11},"end":{"line":749,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"AssignmentPattern","start":23358,"end":23368,"loc":{"start":{"line":740,"column":12},"end":{"line":740,"column":22}},"left":{"type":"Identifier","start":23358,"end":23361,"loc":{"start":{"line":740,"column":12},"end":{"line":740,"column":15},"identifierName":"err"},"name":"err"},"right":{"type":"Literal","start":23364,"end":23368,"loc":{"start":{"line":740,"column":18},"end":{"line":740,"column":22}},"value":null,"raw":"null"}},{"type":"Identifier","start":23370,"end":23378,"loc":{"start":{"line":740,"column":24},"end":{"line":740,"column":32},"identifierName":"uploadID"},"name":"uploadID"}],"body":{"type":"BlockStatement","start":23380,"end":23638,"loc":{"start":{"line":740,"column":34},"end":{"line":749,"column":3}},"body":[{"type":"VariableDeclaration","start":23386,"end":23421,"loc":{"start":{"line":741,"column":4},"end":{"line":741,"column":39}},"declarations":[{"type":"VariableDeclarator","start":23392,"end":23421,"loc":{"start":{"line":741,"column":10},"end":{"line":741,"column":39}},"id":{"type":"Identifier","start":23392,"end":23397,"loc":{"start":{"line":741,"column":10},"end":{"line":741,"column":15},"identifierName":"state"},"name":"state"},"init":{"type":"CallExpression","start":23400,"end":23421,"loc":{"start":{"line":741,"column":18},"end":{"line":741,"column":39}},"callee":{"type":"MemberExpression","start":23400,"end":23419,"loc":{"start":{"line":741,"column":18},"end":{"line":741,"column":37}},"object":{"type":"ThisExpression","start":23400,"end":23404,"loc":{"start":{"line":741,"column":18},"end":{"line":741,"column":22}}},"computed":false,"property":{"type":"Identifier","start":23405,"end":23419,"loc":{"start":{"line":741,"column":23},"end":{"line":741,"column":37},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":23426,"end":23479,"loc":{"start":{"line":742,"column":4},"end":{"line":742,"column":57}},"declarations":[{"type":"VariableDeclarator","start":23432,"end":23479,"loc":{"start":{"line":742,"column":10},"end":{"line":742,"column":57}},"id":{"type":"Identifier","start":23432,"end":23443,"loc":{"start":{"line":742,"column":10},"end":{"line":742,"column":21},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},"init":{"type":"MemberExpression","start":23446,"end":23479,"loc":{"start":{"line":742,"column":24},"end":{"line":742,"column":57}},"object":{"type":"MemberExpression","start":23446,"end":23469,"loc":{"start":{"line":742,"column":24},"end":{"line":742,"column":47}},"object":{"type":"Identifier","start":23446,"end":23451,"loc":{"start":{"line":742,"column":24},"end":{"line":742,"column":29},"identifierName":"state"},"name":"state"},"computed":false,"property":{"type":"Identifier","start":23452,"end":23469,"loc":{"start":{"line":742,"column":30},"end":{"line":742,"column":47},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"optional":false},"computed":true,"property":{"type":"Identifier","start":23470,"end":23478,"loc":{"start":{"line":742,"column":48},"end":{"line":742,"column":56},"identifierName":"uploadID"},"name":"uploadID"},"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":23485,"end":23634,"loc":{"start":{"line":744,"column":4},"end":{"line":748,"column":6}},"expression":{"type":"CallExpression","start":23485,"end":23634,"loc":{"start":{"line":744,"column":4},"end":{"line":748,"column":6}},"callee":{"type":"MemberExpression","start":23485,"end":23504,"loc":{"start":{"line":744,"column":4},"end":{"line":744,"column":23}},"object":{"type":"Identifier","start":23485,"end":23496,"loc":{"start":{"line":744,"column":4},"end":{"line":744,"column":15},"identifierName":"assemblyIDs"},"name":"assemblyIDs"},"computed":false,"property":{"type":"Identifier","start":23497,"end":23504,"loc":{"start":{"line":744,"column":16},"end":{"line":744,"column":23},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":23505,"end":23633,"loc":{"start":{"line":744,"column":24},"end":{"line":748,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":23506,"end":23516,"loc":{"start":{"line":744,"column":25},"end":{"line":744,"column":35},"identifierName":"assemblyID"},"name":"assemblyID"}],"body":{"type":"BlockStatement","start":23521,"end":23633,"loc":{"start":{"line":744,"column":40},"end":{"line":748,"column":5}},"body":[{"type":"IfStatement","start":23529,"end":23627,"loc":{"start":{"line":745,"column":6},"end":{"line":747,"column":7}},"test":{"type":"MemberExpression","start":23533,"end":23566,"loc":{"start":{"line":745,"column":10},"end":{"line":745,"column":43}},"object":{"type":"MemberExpression","start":23533,"end":23554,"loc":{"start":{"line":745,"column":10},"end":{"line":745,"column":31}},"object":{"type":"ThisExpression","start":23533,"end":23537,"loc":{"start":{"line":745,"column":10},"end":{"line":745,"column":14}}},"computed":false,"property":{"type":"Identifier","start":23538,"end":23554,"loc":{"start":{"line":745,"column":15},"end":{"line":745,"column":31},"identifierName":"activeAssemblies"},"name":"activeAssemblies"},"optional":false},"computed":true,"property":{"type":"Identifier","start":23555,"end":23565,"loc":{"start":{"line":745,"column":32},"end":{"line":745,"column":42},"identifierName":"assemblyID"},"name":"assemblyID"},"optional":false},"consequent":{"type":"BlockStatement","start":23568,"end":23627,"loc":{"start":{"line":745,"column":45},"end":{"line":747,"column":7}},"body":[{"type":"ExpressionStatement","start":23578,"end":23619,"loc":{"start":{"line":746,"column":8},"end":{"line":746,"column":49}},"expression":{"type":"CallExpression","start":23578,"end":23619,"loc":{"start":{"line":746,"column":8},"end":{"line":746,"column":49}},"callee":{"type":"MemberExpression","start":23578,"end":23617,"loc":{"start":{"line":746,"column":8},"end":{"line":746,"column":47}},"object":{"type":"MemberExpression","start":23578,"end":23611,"loc":{"start":{"line":746,"column":8},"end":{"line":746,"column":41}},"object":{"type":"MemberExpression","start":23578,"end":23599,"loc":{"start":{"line":746,"column":8},"end":{"line":746,"column":29}},"object":{"type":"ThisExpression","start":23578,"end":23582,"loc":{"start":{"line":746,"column":8},"end":{"line":746,"column":12}}},"computed":false,"property":{"type":"Identifier","start":23583,"end":23599,"loc":{"start":{"line":746,"column":13},"end":{"line":746,"column":29},"identifierName":"activeAssemblies"},"name":"activeAssemblies"},"optional":false},"computed":true,"property":{"type":"Identifier","start":23600,"end":23610,"loc":{"start":{"line":746,"column":30},"end":{"line":746,"column":40},"identifierName":"assemblyID"},"name":"assemblyID"},"optional":false},"computed":false,"property":{"type":"Identifier","start":23612,"end":23617,"loc":{"start":{"line":746,"column":42},"end":{"line":746,"column":47},"identifierName":"close"},"name":"close"},"optional":false},"arguments":[],"optional":false}}]},"alternate":null}]}}],"optional":false}}]}}},{"type":"MethodDefinition","start":23642,"end":24008,"loc":{"start":{"line":751,"column":2},"end":{"line":759,"column":3}},"static":false,"key":{"type":"Identifier","start":23642,"end":23653,"loc":{"start":{"line":751,"column":2},"end":{"line":751,"column":13},"identifierName":"_onTusError"},"name":"_onTusError"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":23654,"end":24008,"loc":{"start":{"line":751,"column":14},"end":{"line":759,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":23655,"end":23658,"loc":{"start":{"line":751,"column":15},"end":{"line":751,"column":18},"identifierName":"err"},"name":"err"}],"body":{"type":"BlockStatement","start":23660,"end":24008,"loc":{"start":{"line":751,"column":20},"end":{"line":759,"column":3}},"body":[{"type":"IfStatement","start":23666,"end":24004,"loc":{"start":{"line":752,"column":4},"end":{"line":758,"column":5}},"test":{"type":"LogicalExpression","start":23670,"end":23703,"loc":{"start":{"line":752,"column":8},"end":{"line":752,"column":41}},"left":{"type":"Identifier","start":23670,"end":23673,"loc":{"start":{"line":752,"column":8},"end":{"line":752,"column":11},"identifierName":"err"},"name":"err"},"operator":"&&","right":{"type":"CallExpression","start":23677,"end":23703,"loc":{"start":{"line":752,"column":15},"end":{"line":752,"column":41}},"callee":{"type":"MemberExpression","start":23677,"end":23690,"loc":{"start":{"line":752,"column":15},"end":{"line":752,"column":28}},"object":{"type":"Literal","start":23677,"end":23685,"loc":{"start":{"line":752,"column":15},"end":{"line":752,"column":23}},"value":{},"raw":"/^tus: /","regex":{"pattern":"^tus: ","flags":""}},"computed":false,"property":{"type":"Identifier","start":23686,"end":23690,"loc":{"start":{"line":752,"column":24},"end":{"line":752,"column":28},"identifierName":"test"},"name":"test"},"optional":false},"arguments":[{"type":"MemberExpression","start":23691,"end":23702,"loc":{"start":{"line":752,"column":29},"end":{"line":752,"column":40}},"object":{"type":"Identifier","start":23691,"end":23694,"loc":{"start":{"line":752,"column":29},"end":{"line":752,"column":32},"identifierName":"err"},"name":"err"},"computed":false,"property":{"type":"Identifier","start":23695,"end":23702,"loc":{"start":{"line":752,"column":33},"end":{"line":752,"column":40},"identifierName":"message"},"name":"message"},"optional":false}],"optional":false}},"consequent":{"type":"BlockStatement","start":23705,"end":24004,"loc":{"start":{"line":752,"column":43},"end":{"line":758,"column":5}},"body":[{"type":"VariableDeclaration","start":23713,"end":23795,"loc":{"start":{"line":753,"column":6},"end":{"line":753,"column":88}},"declarations":[{"type":"VariableDeclarator","start":23719,"end":23795,"loc":{"start":{"line":753,"column":12},"end":{"line":753,"column":88}},"id":{"type":"Identifier","start":23719,"end":23722,"loc":{"start":{"line":753,"column":12},"end":{"line":753,"column":15},"identifierName":"xhr"},"name":"xhr"},"init":{"type":"ConditionalExpression","start":23725,"end":23795,"loc":{"start":{"line":753,"column":18},"end":{"line":753,"column":88}},"test":{"type":"MemberExpression","start":23725,"end":23744,"loc":{"start":{"line":753,"column":18},"end":{"line":753,"column":37}},"object":{"type":"Identifier","start":23725,"end":23728,"loc":{"start":{"line":753,"column":18},"end":{"line":753,"column":21},"identifierName":"err"},"name":"err"},"computed":false,"property":{"type":"Identifier","start":23729,"end":23744,"loc":{"start":{"line":753,"column":22},"end":{"line":753,"column":37},"identifierName":"originalRequest"},"name":"originalRequest"},"optional":false},"consequent":{"type":"CallExpression","start":23747,"end":23788,"loc":{"start":{"line":753,"column":40},"end":{"line":753,"column":81}},"callee":{"type":"MemberExpression","start":23747,"end":23786,"loc":{"start":{"line":753,"column":40},"end":{"line":753,"column":79}},"object":{"type":"MemberExpression","start":23747,"end":23766,"loc":{"start":{"line":753,"column":40},"end":{"line":753,"column":59}},"object":{"type":"Identifier","start":23747,"end":23750,"loc":{"start":{"line":753,"column":40},"end":{"line":753,"column":43},"identifierName":"err"},"name":"err"},"computed":false,"property":{"type":"Identifier","start":23751,"end":23766,"loc":{"start":{"line":753,"column":44},"end":{"line":753,"column":59},"identifierName":"originalRequest"},"name":"originalRequest"},"optional":false},"computed":false,"property":{"type":"Identifier","start":23767,"end":23786,"loc":{"start":{"line":753,"column":60},"end":{"line":753,"column":79},"identifierName":"getUnderlyingObject"},"name":"getUnderlyingObject"},"optional":false},"arguments":[],"optional":false},"alternate":{"type":"Literal","start":23791,"end":23795,"loc":{"start":{"line":753,"column":84},"end":{"line":753,"column":88}},"value":null,"raw":"null"}}}],"kind":"const"},{"type":"VariableDeclaration","start":23802,"end":23861,"loc":{"start":{"line":754,"column":6},"end":{"line":754,"column":65}},"declarations":[{"type":"VariableDeclarator","start":23808,"end":23861,"loc":{"start":{"line":754,"column":12},"end":{"line":754,"column":65}},"id":{"type":"Identifier","start":23808,"end":23811,"loc":{"start":{"line":754,"column":12},"end":{"line":754,"column":15},"identifierName":"url"},"name":"url"},"init":{"type":"ConditionalExpression","start":23814,"end":23861,"loc":{"start":{"line":754,"column":18},"end":{"line":754,"column":65}},"test":{"type":"LogicalExpression","start":23814,"end":23836,"loc":{"start":{"line":754,"column":18},"end":{"line":754,"column":40}},"left":{"type":"Identifier","start":23814,"end":23817,"loc":{"start":{"line":754,"column":18},"end":{"line":754,"column":21},"identifierName":"xhr"},"name":"xhr"},"operator":"&&","right":{"type":"MemberExpression","start":23821,"end":23836,"loc":{"start":{"line":754,"column":25},"end":{"line":754,"column":40}},"object":{"type":"Identifier","start":23821,"end":23824,"loc":{"start":{"line":754,"column":25},"end":{"line":754,"column":28},"identifierName":"xhr"},"name":"xhr"},"computed":false,"property":{"type":"Identifier","start":23825,"end":23836,"loc":{"start":{"line":754,"column":29},"end":{"line":754,"column":40},"identifierName":"responseURL"},"name":"responseURL"},"optional":false}},"consequent":{"type":"MemberExpression","start":23839,"end":23854,"loc":{"start":{"line":754,"column":43},"end":{"line":754,"column":58}},"object":{"type":"Identifier","start":23839,"end":23842,"loc":{"start":{"line":754,"column":43},"end":{"line":754,"column":46},"identifierName":"xhr"},"name":"xhr"},"computed":false,"property":{"type":"Identifier","start":23843,"end":23854,"loc":{"start":{"line":754,"column":47},"end":{"line":754,"column":58},"identifierName":"responseURL"},"name":"responseURL"},"optional":false},"alternate":{"type":"Literal","start":23857,"end":23861,"loc":{"start":{"line":754,"column":61},"end":{"line":754,"column":65}},"value":null,"raw":"null"}}}],"kind":"const"},{"type":"ExpressionStatement","start":23868,"end":23998,"loc":{"start":{"line":755,"column":6},"end":{"line":757,"column":8}},"expression":{"type":"CallExpression","start":23868,"end":23998,"loc":{"start":{"line":755,"column":6},"end":{"line":757,"column":8}},"callee":{"type":"MemberExpression","start":23868,"end":23929,"loc":{"start":{"line":755,"column":6},"end":{"line":755,"column":67}},"object":{"type":"CallExpression","start":23868,"end":23924,"loc":{"start":{"line":755,"column":6},"end":{"line":755,"column":62}},"callee":{"type":"MemberExpression","start":23868,"end":23891,"loc":{"start":{"line":755,"column":6},"end":{"line":755,"column":29}},"object":{"type":"MemberExpression","start":23868,"end":23879,"loc":{"start":{"line":755,"column":6},"end":{"line":755,"column":17}},"object":{"type":"ThisExpression","start":23868,"end":23872,"loc":{"start":{"line":755,"column":6},"end":{"line":755,"column":10}}},"computed":false,"property":{"type":"Identifier","start":23873,"end":23879,"loc":{"start":{"line":755,"column":11},"end":{"line":755,"column":17},"identifierName":"client"},"name":"client"},"optional":false},"computed":false,"property":{"type":"Identifier","start":23880,"end":23891,"loc":{"start":{"line":755,"column":18},"end":{"line":755,"column":29},"identifierName":"submitError"},"name":"submitError"},"optional":false},"arguments":[{"type":"Identifier","start":23892,"end":23895,"loc":{"start":{"line":755,"column":30},"end":{"line":755,"column":33},"identifierName":"err"},"name":"err"},{"type":"ObjectExpression","start":23897,"end":23923,"loc":{"start":{"line":755,"column":35},"end":{"line":755,"column":61}},"properties":[{"type":"Property","start":23899,"end":23902,"loc":{"start":{"line":755,"column":37},"end":{"line":755,"column":40}},"method":false,"key":{"type":"Identifier","start":23899,"end":23902,"loc":{"start":{"line":755,"column":37},"end":{"line":755,"column":40},"identifierName":"url"},"name":"url"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":23899,"end":23902,"loc":{"start":{"line":755,"column":37},"end":{"line":755,"column":40},"identifierName":"url"},"name":"url"},"kind":"init","extra":{"shorthand":true}},{"type":"Property","start":23904,"end":23921,"loc":{"start":{"line":755,"column":42},"end":{"line":755,"column":59}},"method":false,"key":{"type":"Identifier","start":23904,"end":23908,"loc":{"start":{"line":755,"column":42},"end":{"line":755,"column":46},"identifierName":"type"},"name":"type"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":23910,"end":23921,"loc":{"start":{"line":755,"column":48},"end":{"line":755,"column":59}},"value":"TUS_ERROR","raw":"'TUS_ERROR'"},"kind":"init"}]}],"optional":false},"computed":false,"property":{"type":"Identifier","start":23925,"end":23929,"loc":{"start":{"line":755,"column":63},"end":{"line":755,"column":67},"identifierName":"then"},"name":"then"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":23930,"end":23997,"loc":{"start":{"line":755,"column":68},"end":{"line":757,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":23931,"end":23932,"loc":{"start":{"line":755,"column":69},"end":{"line":755,"column":70},"identifierName":"_"},"name":"_"}],"body":{"type":"BlockStatement","start":23937,"end":23997,"loc":{"start":{"line":755,"column":75},"end":{"line":757,"column":7}},"body":[],"innerComments":[{"type":"CommentLine","value":" if we can't report the error that sucks","start":23947,"end":23989,"loc":{"start":{"line":756,"column":8},"end":{"line":756,"column":50}}}]}}],"optional":false}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":24012,"end":26693,"loc":{"start":{"line":761,"column":2},"end":{"line":821,"column":3}},"static":false,"key":{"type":"Identifier","start":24012,"end":24019,"loc":{"start":{"line":761,"column":2},"end":{"line":761,"column":9},"identifierName":"install"},"name":"install"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":24020,"end":26693,"loc":{"start":{"line":761,"column":10},"end":{"line":821,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":24023,"end":26693,"loc":{"start":{"line":761,"column":13},"end":{"line":821,"column":3}},"body":[{"type":"ExpressionStatement","start":24029,"end":24075,"loc":{"start":{"line":762,"column":4},"end":{"line":762,"column":50}},"expression":{"type":"CallExpression","start":24029,"end":24075,"loc":{"start":{"line":762,"column":4},"end":{"line":762,"column":50}},"callee":{"type":"MemberExpression","start":24029,"end":24054,"loc":{"start":{"line":762,"column":4},"end":{"line":762,"column":29}},"object":{"type":"MemberExpression","start":24029,"end":24038,"loc":{"start":{"line":762,"column":4},"end":{"line":762,"column":13}},"object":{"type":"ThisExpression","start":24029,"end":24033,"loc":{"start":{"line":762,"column":4},"end":{"line":762,"column":8}}},"computed":false,"property":{"type":"Identifier","start":24034,"end":24038,"loc":{"start":{"line":762,"column":9},"end":{"line":762,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":24039,"end":24054,"loc":{"start":{"line":762,"column":14},"end":{"line":762,"column":29},"identifierName":"addPreProcessor"},"name":"addPreProcessor"},"optional":false},"arguments":[{"type":"MemberExpression","start":24055,"end":24074,"loc":{"start":{"line":762,"column":30},"end":{"line":762,"column":49}},"object":{"type":"ThisExpression","start":24055,"end":24059,"loc":{"start":{"line":762,"column":30},"end":{"line":762,"column":34}}},"computed":false,"property":{"type":"Identifier","start":24060,"end":24074,"loc":{"start":{"line":762,"column":35},"end":{"line":762,"column":49},"identifierName":"_prepareUpload"},"name":"_prepareUpload"},"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":24080,"end":24125,"loc":{"start":{"line":763,"column":4},"end":{"line":763,"column":49}},"expression":{"type":"CallExpression","start":24080,"end":24125,"loc":{"start":{"line":763,"column":4},"end":{"line":763,"column":49}},"callee":{"type":"MemberExpression","start":24080,"end":24106,"loc":{"start":{"line":763,"column":4},"end":{"line":763,"column":30}},"object":{"type":"MemberExpression","start":24080,"end":24089,"loc":{"start":{"line":763,"column":4},"end":{"line":763,"column":13}},"object":{"type":"ThisExpression","start":24080,"end":24084,"loc":{"start":{"line":763,"column":4},"end":{"line":763,"column":8}}},"computed":false,"property":{"type":"Identifier","start":24085,"end":24089,"loc":{"start":{"line":763,"column":9},"end":{"line":763,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":24090,"end":24106,"loc":{"start":{"line":763,"column":14},"end":{"line":763,"column":30},"identifierName":"addPostProcessor"},"name":"addPostProcessor"},"optional":false},"arguments":[{"type":"MemberExpression","start":24107,"end":24124,"loc":{"start":{"line":763,"column":31},"end":{"line":763,"column":48}},"object":{"type":"ThisExpression","start":24107,"end":24111,"loc":{"start":{"line":763,"column":31},"end":{"line":763,"column":35}}},"computed":false,"property":{"type":"Identifier","start":24112,"end":24124,"loc":{"start":{"line":763,"column":36},"end":{"line":763,"column":48},"identifierName":"_afterUpload"},"name":"_afterUpload"},"optional":false}],"optional":false},"trailingComments":[{"type":"CommentLine","value":" We may need to close socket.io connections on error.","start":24131,"end":24186,"loc":{"start":{"line":765,"column":4},"end":{"line":765,"column":59}}}]},{"type":"ExpressionStatement","start":24191,"end":24227,"loc":{"start":{"line":766,"column":4},"end":{"line":766,"column":40}},"expression":{"type":"CallExpression","start":24191,"end":24227,"loc":{"start":{"line":766,"column":4},"end":{"line":766,"column":40}},"callee":{"type":"MemberExpression","start":24191,"end":24203,"loc":{"start":{"line":766,"column":4},"end":{"line":766,"column":16}},"object":{"type":"MemberExpression","start":24191,"end":24200,"loc":{"start":{"line":766,"column":4},"end":{"line":766,"column":13}},"object":{"type":"ThisExpression","start":24191,"end":24195,"loc":{"start":{"line":766,"column":4},"end":{"line":766,"column":8}}},"computed":false,"property":{"type":"Identifier","start":24196,"end":24200,"loc":{"start":{"line":766,"column":9},"end":{"line":766,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":24201,"end":24203,"loc":{"start":{"line":766,"column":14},"end":{"line":766,"column":16},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":24204,"end":24211,"loc":{"start":{"line":766,"column":17},"end":{"line":766,"column":24}},"value":"error","raw":"'error'"},{"type":"MemberExpression","start":24213,"end":24226,"loc":{"start":{"line":766,"column":26},"end":{"line":766,"column":39}},"object":{"type":"ThisExpression","start":24213,"end":24217,"loc":{"start":{"line":766,"column":26},"end":{"line":766,"column":30}}},"computed":false,"property":{"type":"Identifier","start":24218,"end":24226,"loc":{"start":{"line":766,"column":31},"end":{"line":766,"column":39},"identifierName":"_onError"},"name":"_onError"},"optional":false}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" We may need to close socket.io connections on error.","start":24131,"end":24186,"loc":{"start":{"line":765,"column":4},"end":{"line":765,"column":59}}}],"trailingComments":[{"type":"CommentLine","value":" Handle cancellation.","start":24233,"end":24256,"loc":{"start":{"line":768,"column":4},"end":{"line":768,"column":27}}}]},{"type":"ExpressionStatement","start":24261,"end":24306,"loc":{"start":{"line":769,"column":4},"end":{"line":769,"column":49}},"expression":{"type":"CallExpression","start":24261,"end":24306,"loc":{"start":{"line":769,"column":4},"end":{"line":769,"column":49}},"callee":{"type":"MemberExpression","start":24261,"end":24273,"loc":{"start":{"line":769,"column":4},"end":{"line":769,"column":16}},"object":{"type":"MemberExpression","start":24261,"end":24270,"loc":{"start":{"line":769,"column":4},"end":{"line":769,"column":13}},"object":{"type":"ThisExpression","start":24261,"end":24265,"loc":{"start":{"line":769,"column":4},"end":{"line":769,"column":8}}},"computed":false,"property":{"type":"Identifier","start":24266,"end":24270,"loc":{"start":{"line":769,"column":9},"end":{"line":769,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":24271,"end":24273,"loc":{"start":{"line":769,"column":14},"end":{"line":769,"column":16},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":24274,"end":24286,"loc":{"start":{"line":769,"column":17},"end":{"line":769,"column":29}},"value":"cancel-all","raw":"'cancel-all'"},{"type":"MemberExpression","start":24288,"end":24305,"loc":{"start":{"line":769,"column":31},"end":{"line":769,"column":48}},"object":{"type":"ThisExpression","start":24288,"end":24292,"loc":{"start":{"line":769,"column":31},"end":{"line":769,"column":35}}},"computed":false,"property":{"type":"Identifier","start":24293,"end":24305,"loc":{"start":{"line":769,"column":36},"end":{"line":769,"column":48},"identifierName":"_onCancelAll"},"name":"_onCancelAll"},"optional":false}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" Handle cancellation.","start":24233,"end":24256,"loc":{"start":{"line":768,"column":4},"end":{"line":768,"column":27}}}],"trailingComments":[{"type":"CommentLine","value":" For error reporting.","start":24312,"end":24335,"loc":{"start":{"line":771,"column":4},"end":{"line":771,"column":27}}}]},{"type":"ExpressionStatement","start":24340,"end":24386,"loc":{"start":{"line":772,"column":4},"end":{"line":772,"column":50}},"expression":{"type":"CallExpression","start":24340,"end":24386,"loc":{"start":{"line":772,"column":4},"end":{"line":772,"column":50}},"callee":{"type":"MemberExpression","start":24340,"end":24352,"loc":{"start":{"line":772,"column":4},"end":{"line":772,"column":16}},"object":{"type":"MemberExpression","start":24340,"end":24349,"loc":{"start":{"line":772,"column":4},"end":{"line":772,"column":13}},"object":{"type":"ThisExpression","start":24340,"end":24344,"loc":{"start":{"line":772,"column":4},"end":{"line":772,"column":8}}},"computed":false,"property":{"type":"Identifier","start":24345,"end":24349,"loc":{"start":{"line":772,"column":9},"end":{"line":772,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":24350,"end":24352,"loc":{"start":{"line":772,"column":14},"end":{"line":772,"column":16},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":24353,"end":24367,"loc":{"start":{"line":772,"column":17},"end":{"line":772,"column":31}},"value":"upload-error","raw":"'upload-error'"},{"type":"MemberExpression","start":24369,"end":24385,"loc":{"start":{"line":772,"column":33},"end":{"line":772,"column":49}},"object":{"type":"ThisExpression","start":24369,"end":24373,"loc":{"start":{"line":772,"column":33},"end":{"line":772,"column":37}}},"computed":false,"property":{"type":"Identifier","start":24374,"end":24385,"loc":{"start":{"line":772,"column":38},"end":{"line":772,"column":49},"identifierName":"_onTusError"},"name":"_onTusError"},"optional":false}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" For error reporting.","start":24312,"end":24335,"loc":{"start":{"line":771,"column":4},"end":{"line":771,"column":27}}}]},{"type":"IfStatement","start":24392,"end":25907,"loc":{"start":{"line":774,"column":4},"end":{"line":797,"column":5}},"test":{"type":"MemberExpression","start":24396,"end":24426,"loc":{"start":{"line":774,"column":8},"end":{"line":774,"column":38}},"object":{"type":"MemberExpression","start":24396,"end":24405,"loc":{"start":{"line":774,"column":8},"end":{"line":774,"column":17}},"object":{"type":"ThisExpression","start":24396,"end":24400,"loc":{"start":{"line":774,"column":8},"end":{"line":774,"column":12}}},"computed":false,"property":{"type":"Identifier","start":24401,"end":24405,"loc":{"start":{"line":774,"column":13},"end":{"line":774,"column":17},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":24406,"end":24426,"loc":{"start":{"line":774,"column":18},"end":{"line":774,"column":38},"identifierName":"importFromUploadURLs"},"name":"importFromUploadURLs"},"optional":false},"consequent":{"type":"BlockStatement","start":24428,"end":24606,"loc":{"start":{"line":774,"column":40},"end":{"line":777,"column":5}},"body":[{"type":"ExpressionStatement","start":24538,"end":24600,"loc":{"start":{"line":776,"column":6},"end":{"line":776,"column":68}},"expression":{"type":"CallExpression","start":24538,"end":24600,"loc":{"start":{"line":776,"column":6},"end":{"line":776,"column":68}},"callee":{"type":"MemberExpression","start":24538,"end":24550,"loc":{"start":{"line":776,"column":6},"end":{"line":776,"column":18}},"object":{"type":"MemberExpression","start":24538,"end":24547,"loc":{"start":{"line":776,"column":6},"end":{"line":776,"column":15}},"object":{"type":"ThisExpression","start":24538,"end":24542,"loc":{"start":{"line":776,"column":6},"end":{"line":776,"column":10}}},"computed":false,"property":{"type":"Identifier","start":24543,"end":24547,"loc":{"start":{"line":776,"column":11},"end":{"line":776,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":24548,"end":24550,"loc":{"start":{"line":776,"column":16},"end":{"line":776,"column":18},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":24551,"end":24567,"loc":{"start":{"line":776,"column":19},"end":{"line":776,"column":35}},"value":"upload-success","raw":"'upload-success'"},{"type":"MemberExpression","start":24569,"end":24599,"loc":{"start":{"line":776,"column":37},"end":{"line":776,"column":67}},"object":{"type":"ThisExpression","start":24569,"end":24573,"loc":{"start":{"line":776,"column":37},"end":{"line":776,"column":41}}},"computed":false,"property":{"type":"Identifier","start":24574,"end":24599,"loc":{"start":{"line":776,"column":42},"end":{"line":776,"column":67},"identifierName":"_onFileUploadURLAvailable"},"name":"_onFileUploadURLAvailable"},"optional":false}],"optional":false},"leadingComments":[{"type":"CommentLine","value":" No uploader needed when importing; instead we take the upload URL from an existing uploader.","start":24436,"end":24531,"loc":{"start":{"line":775,"column":6},"end":{"line":775,"column":101}}}]}]},"alternate":{"type":"BlockStatement","start":24612,"end":25907,"loc":{"start":{"line":777,"column":11},"end":{"line":797,"column":5}},"body":[{"type":"ExpressionStatement","start":24620,"end":25901,"loc":{"start":{"line":778,"column":6},"end":{"line":796,"column":8}},"expression":{"type":"CallExpression","start":24620,"end":25901,"loc":{"start":{"line":778,"column":6},"end":{"line":796,"column":8}},"callee":{"type":"MemberExpression","start":24620,"end":24633,"loc":{"start":{"line":778,"column":6},"end":{"line":778,"column":19}},"object":{"type":"MemberExpression","start":24620,"end":24629,"loc":{"start":{"line":778,"column":6},"end":{"line":778,"column":15}},"object":{"type":"ThisExpression","start":24620,"end":24624,"loc":{"start":{"line":778,"column":6},"end":{"line":778,"column":10}}},"computed":false,"property":{"type":"Identifier","start":24625,"end":24629,"loc":{"start":{"line":778,"column":11},"end":{"line":778,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":24630,"end":24633,"loc":{"start":{"line":778,"column":16},"end":{"line":778,"column":19},"identifierName":"use"},"name":"use"},"optional":false},"arguments":[{"type":"Identifier","start":24634,"end":24637,"loc":{"start":{"line":778,"column":20},"end":{"line":778,"column":23},"identifierName":"Tus"},"name":"Tus"},{"type":"ObjectExpression","start":24639,"end":25900,"loc":{"start":{"line":778,"column":25},"end":{"line":796,"column":7}},"properties":[{"type":"Property","start":25455,"end":25489,"loc":{"start":{"line":788,"column":8},"end":{"line":788,"column":42}},"method":false,"key":{"type":"Identifier","start":25455,"end":25482,"loc":{"start":{"line":788,"column":8},"end":{"line":788,"column":35},"identifierName":"storeFingerprintForResuming"},"name":"storeFingerprintForResuming"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":25484,"end":25489,"loc":{"start":{"line":788,"column":37},"end":{"line":788,"column":42}},"value":false,"raw":"false"},"leadingComments":[{"type":"CommentLine","value":" Disable tus-js-client fingerprinting, otherwise uploading the same file at different times","start":24649,"end":24742,"loc":{"start":{"line":779,"column":8},"end":{"line":779,"column":101}}},{"type":"CommentLine","value":" will upload to an outdated Assembly, and we won't get socket events for it.","start":24751,"end":24829,"loc":{"start":{"line":780,"column":8},"end":{"line":780,"column":86}}},{"type":"CommentLine","value":"","start":24838,"end":24840,"loc":{"start":{"line":781,"column":8},"end":{"line":781,"column":10}}},{"type":"CommentLine","value":" To resume a Transloadit upload, we need to reconnect to the websocket, and the state that's","start":24849,"end":24943,"loc":{"start":{"line":782,"column":8},"end":{"line":782,"column":102}}},{"type":"CommentLine","value":" required to do that is not saved by tus-js-client's fingerprinting. We need the tus URL,","start":24952,"end":25043,"loc":{"start":{"line":783,"column":8},"end":{"line":783,"column":99}}},{"type":"CommentLine","value":" the Assembly URL, and the WebSocket URL, at least. We also need to know _all_ the files that","start":25052,"end":25147,"loc":{"start":{"line":784,"column":8},"end":{"line":784,"column":103}}},{"type":"CommentLine","value":" were added to the Assembly, so we can properly complete it. All that state is handled by","start":25156,"end":25247,"loc":{"start":{"line":785,"column":8},"end":{"line":785,"column":99}}},{"type":"CommentLine","value":" Golden Retriever. So, Golden Retriever is required to do resumability with the Transloadit plugin,","start":25256,"end":25357,"loc":{"start":{"line":786,"column":8},"end":{"line":786,"column":109}}},{"type":"CommentLine","value":" and we disable Tus's default resume implementation to prevent bad behaviours.","start":25366,"end":25446,"loc":{"start":{"line":787,"column":8},"end":{"line":787,"column":88}}}],"kind":"init"},{"type":"Property","start":25666,"end":25691,"loc":{"start":{"line":791,"column":8},"end":{"line":791,"column":33}},"method":false,"key":{"type":"Identifier","start":25666,"end":25684,"loc":{"start":{"line":791,"column":8},"end":{"line":791,"column":26},"identifierName":"useFastRemoteRetry"},"name":"useFastRemoteRetry"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":25686,"end":25691,"loc":{"start":{"line":791,"column":28},"end":{"line":791,"column":33}},"value":false,"raw":"false"},"leadingComments":[{"type":"CommentLine","value":" Disable Companion's retry optimisation; we need to change the endpoint on retry","start":25499,"end":25581,"loc":{"start":{"line":789,"column":8},"end":{"line":789,"column":90}}},{"type":"CommentLine","value":" so it can't just reuse the same tus.Upload instance server-side.","start":25590,"end":25657,"loc":{"start":{"line":790,"column":8},"end":{"line":790,"column":75}}}],"kind":"init"},{"type":"Property","start":25761,"end":25814,"loc":{"start":{"line":793,"column":8},"end":{"line":793,"column":61}},"method":false,"key":{"type":"Identifier","start":25761,"end":25771,"loc":{"start":{"line":793,"column":8},"end":{"line":793,"column":18},"identifierName":"metaFields"},"name":"metaFields"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","start":25773,"end":25814,"loc":{"start":{"line":793,"column":20},"end":{"line":793,"column":61}},"elements":[{"type":"Literal","start":25774,"end":25788,"loc":{"start":{"line":793,"column":21},"end":{"line":793,"column":35}},"value":"assembly_url","raw":"'assembly_url'"},{"type":"Literal","start":25790,"end":25800,"loc":{"start":{"line":793,"column":37},"end":{"line":793,"column":47}},"value":"filename","raw":"'filename'"},{"type":"Literal","start":25802,"end":25813,"loc":{"start":{"line":793,"column":49},"end":{"line":793,"column":60}},"value":"fieldname","raw":"'fieldname'"}]},"leadingComments":[{"type":"CommentLine","value":" Only send Assembly metadata to the tus endpoint.","start":25701,"end":25752,"loc":{"start":{"line":792,"column":8},"end":{"line":792,"column":59}}}],"kind":"init"},{"type":"Property","start":25870,"end":25892,"loc":{"start":{"line":795,"column":8},"end":{"line":795,"column":30}},"method":false,"key":{"type":"Identifier","start":25870,"end":25875,"loc":{"start":{"line":795,"column":8},"end":{"line":795,"column":13},"identifierName":"limit"},"name":"limit"},"computed":false,"shorthand":false,"value":{"type":"MemberExpression","start":25877,"end":25892,"loc":{"start":{"line":795,"column":15},"end":{"line":795,"column":30}},"object":{"type":"MemberExpression","start":25877,"end":25886,"loc":{"start":{"line":795,"column":15},"end":{"line":795,"column":24}},"object":{"type":"ThisExpression","start":25877,"end":25881,"loc":{"start":{"line":795,"column":15},"end":{"line":795,"column":19}}},"computed":false,"property":{"type":"Identifier","start":25882,"end":25886,"loc":{"start":{"line":795,"column":20},"end":{"line":795,"column":24},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":25887,"end":25892,"loc":{"start":{"line":795,"column":25},"end":{"line":795,"column":30},"identifierName":"limit"},"name":"limit"},"optional":false},"leadingComments":[{"type":"CommentLine","value":" Pass the limit option to @uppy/tus","start":25824,"end":25861,"loc":{"start":{"line":794,"column":8},"end":{"line":794,"column":45}}}],"kind":"init"}]}],"optional":false}}]}},{"type":"ExpressionStatement","start":25913,"end":25970,"loc":{"start":{"line":799,"column":4},"end":{"line":799,"column":61}},"expression":{"type":"CallExpression","start":25913,"end":25970,"loc":{"start":{"line":799,"column":4},"end":{"line":799,"column":61}},"callee":{"type":"MemberExpression","start":25913,"end":25925,"loc":{"start":{"line":799,"column":4},"end":{"line":799,"column":16}},"object":{"type":"MemberExpression","start":25913,"end":25922,"loc":{"start":{"line":799,"column":4},"end":{"line":799,"column":13}},"object":{"type":"ThisExpression","start":25913,"end":25917,"loc":{"start":{"line":799,"column":4},"end":{"line":799,"column":8}}},"computed":false,"property":{"type":"Identifier","start":25918,"end":25922,"loc":{"start":{"line":799,"column":9},"end":{"line":799,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":25923,"end":25925,"loc":{"start":{"line":799,"column":14},"end":{"line":799,"column":16},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":25926,"end":25944,"loc":{"start":{"line":799,"column":17},"end":{"line":799,"column":35}},"value":"restore:get-data","raw":"'restore:get-data'"},{"type":"MemberExpression","start":25946,"end":25969,"loc":{"start":{"line":799,"column":37},"end":{"line":799,"column":60}},"object":{"type":"ThisExpression","start":25946,"end":25950,"loc":{"start":{"line":799,"column":37},"end":{"line":799,"column":41}}},"computed":false,"property":{"type":"Identifier","start":25951,"end":25969,"loc":{"start":{"line":799,"column":42},"end":{"line":799,"column":60},"identifierName":"_getPersistentData"},"name":"_getPersistentData"},"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":25975,"end":26017,"loc":{"start":{"line":800,"column":4},"end":{"line":800,"column":46}},"expression":{"type":"CallExpression","start":25975,"end":26017,"loc":{"start":{"line":800,"column":4},"end":{"line":800,"column":46}},"callee":{"type":"MemberExpression","start":25975,"end":25987,"loc":{"start":{"line":800,"column":4},"end":{"line":800,"column":16}},"object":{"type":"MemberExpression","start":25975,"end":25984,"loc":{"start":{"line":800,"column":4},"end":{"line":800,"column":13}},"object":{"type":"ThisExpression","start":25975,"end":25979,"loc":{"start":{"line":800,"column":4},"end":{"line":800,"column":8}}},"computed":false,"property":{"type":"Identifier","start":25980,"end":25984,"loc":{"start":{"line":800,"column":9},"end":{"line":800,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":25985,"end":25987,"loc":{"start":{"line":800,"column":14},"end":{"line":800,"column":16},"identifierName":"on"},"name":"on"},"optional":false},"arguments":[{"type":"Literal","start":25988,"end":25998,"loc":{"start":{"line":800,"column":17},"end":{"line":800,"column":27}},"value":"restored","raw":"'restored'"},{"type":"MemberExpression","start":26000,"end":26016,"loc":{"start":{"line":800,"column":29},"end":{"line":800,"column":45}},"object":{"type":"ThisExpression","start":26000,"end":26004,"loc":{"start":{"line":800,"column":29},"end":{"line":800,"column":33}}},"computed":false,"property":{"type":"Identifier","start":26005,"end":26016,"loc":{"start":{"line":800,"column":34},"end":{"line":800,"column":45},"identifierName":"_onRestored"},"name":"_onRestored"},"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":26023,"end":26425,"loc":{"start":{"line":802,"column":4},"end":{"line":811,"column":6}},"expression":{"type":"CallExpression","start":26023,"end":26425,"loc":{"start":{"line":802,"column":4},"end":{"line":811,"column":6}},"callee":{"type":"MemberExpression","start":26023,"end":26042,"loc":{"start":{"line":802,"column":4},"end":{"line":802,"column":23}},"object":{"type":"ThisExpression","start":26023,"end":26027,"loc":{"start":{"line":802,"column":4},"end":{"line":802,"column":8}}},"computed":false,"property":{"type":"Identifier","start":26028,"end":26042,"loc":{"start":{"line":802,"column":9},"end":{"line":802,"column":23},"identifierName":"setPluginState"},"name":"setPluginState"},"optional":false},"arguments":[{"type":"ObjectExpression","start":26043,"end":26424,"loc":{"start":{"line":802,"column":24},"end":{"line":811,"column":5}},"properties":[{"type":"Property","start":26115,"end":26129,"loc":{"start":{"line":804,"column":6},"end":{"line":804,"column":20}},"method":false,"key":{"type":"Identifier","start":26115,"end":26125,"loc":{"start":{"line":804,"column":6},"end":{"line":804,"column":16},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":26127,"end":26129,"loc":{"start":{"line":804,"column":18},"end":{"line":804,"column":20}},"properties":[]},"leadingComments":[{"type":"CommentLine","value":" Contains Assembly status objects, indexed by their ID.","start":26051,"end":26108,"loc":{"start":{"line":803,"column":6},"end":{"line":803,"column":63}}}],"kind":"init"},{"type":"Property","start":26225,"end":26246,"loc":{"start":{"line":806,"column":6},"end":{"line":806,"column":27}},"method":false,"key":{"type":"Identifier","start":26225,"end":26242,"loc":{"start":{"line":806,"column":6},"end":{"line":806,"column":23},"identifierName":"uploadsAssemblies"},"name":"uploadsAssemblies"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":26244,"end":26246,"loc":{"start":{"line":806,"column":25},"end":{"line":806,"column":27}},"properties":[]},"leadingComments":[{"type":"CommentLine","value":" Contains arrays of Assembly IDs, indexed by the upload ID that they belong to.","start":26137,"end":26218,"loc":{"start":{"line":805,"column":6},"end":{"line":805,"column":87}}}],"kind":"init"},{"type":"Property","start":26342,"end":26351,"loc":{"start":{"line":808,"column":6},"end":{"line":808,"column":15}},"method":false,"key":{"type":"Identifier","start":26342,"end":26347,"loc":{"start":{"line":808,"column":6},"end":{"line":808,"column":11},"identifierName":"files"},"name":"files"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":26349,"end":26351,"loc":{"start":{"line":808,"column":13},"end":{"line":808,"column":15}},"properties":[]},"leadingComments":[{"type":"CommentLine","value":" Contains file data from Transloadit, indexed by their Transloadit-assigned ID.","start":26254,"end":26335,"loc":{"start":{"line":807,"column":6},"end":{"line":807,"column":87}}}],"kind":"init"},{"type":"Property","start":26407,"end":26418,"loc":{"start":{"line":810,"column":6},"end":{"line":810,"column":17}},"method":false,"key":{"type":"Identifier","start":26407,"end":26414,"loc":{"start":{"line":810,"column":6},"end":{"line":810,"column":13},"identifierName":"results"},"name":"results"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","start":26416,"end":26418,"loc":{"start":{"line":810,"column":15},"end":{"line":810,"column":17}},"elements":[]},"leadingComments":[{"type":"CommentLine","value":" Contains result data from Transloadit.","start":26359,"end":26400,"loc":{"start":{"line":809,"column":6},"end":{"line":809,"column":47}}}],"kind":"init"}]}],"optional":false},"trailingComments":[{"type":"CommentLine","value":" We cannot cancel individual files because Assemblies tend to contain many files.","start":26431,"end":26514,"loc":{"start":{"line":813,"column":4},"end":{"line":813,"column":87}}}]},{"type":"VariableDeclaration","start":26519,"end":26564,"loc":{"start":{"line":814,"column":4},"end":{"line":814,"column":49}},"declarations":[{"type":"VariableDeclarator","start":26525,"end":26564,"loc":{"start":{"line":814,"column":10},"end":{"line":814,"column":49}},"id":{"type":"ObjectPattern","start":26525,"end":26541,"loc":{"start":{"line":814,"column":10},"end":{"line":814,"column":26}},"properties":[{"type":"Property","start":26527,"end":26539,"loc":{"start":{"line":814,"column":12},"end":{"line":814,"column":24}},"method":false,"key":{"type":"Identifier","start":26527,"end":26539,"loc":{"start":{"line":814,"column":12},"end":{"line":814,"column":24},"identifierName":"capabilities"},"name":"capabilities"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":26527,"end":26539,"loc":{"start":{"line":814,"column":12},"end":{"line":814,"column":24},"identifierName":"capabilities"},"name":"capabilities"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"CallExpression","start":26544,"end":26564,"loc":{"start":{"line":814,"column":29},"end":{"line":814,"column":49}},"callee":{"type":"MemberExpression","start":26544,"end":26562,"loc":{"start":{"line":814,"column":29},"end":{"line":814,"column":47}},"object":{"type":"MemberExpression","start":26544,"end":26553,"loc":{"start":{"line":814,"column":29},"end":{"line":814,"column":38}},"object":{"type":"ThisExpression","start":26544,"end":26548,"loc":{"start":{"line":814,"column":29},"end":{"line":814,"column":33}}},"computed":false,"property":{"type":"Identifier","start":26549,"end":26553,"loc":{"start":{"line":814,"column":34},"end":{"line":814,"column":38},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":26554,"end":26562,"loc":{"start":{"line":814,"column":39},"end":{"line":814,"column":47},"identifierName":"getState"},"name":"getState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const","leadingComments":[{"type":"CommentLine","value":" We cannot cancel individual files because Assemblies tend to contain many files.","start":26431,"end":26514,"loc":{"start":{"line":813,"column":4},"end":{"line":813,"column":87}}}]},{"type":"ExpressionStatement","start":26569,"end":26689,"loc":{"start":{"line":815,"column":4},"end":{"line":820,"column":6}},"expression":{"type":"CallExpression","start":26569,"end":26689,"loc":{"start":{"line":815,"column":4},"end":{"line":820,"column":6}},"callee":{"type":"MemberExpression","start":26569,"end":26587,"loc":{"start":{"line":815,"column":4},"end":{"line":815,"column":22}},"object":{"type":"MemberExpression","start":26569,"end":26578,"loc":{"start":{"line":815,"column":4},"end":{"line":815,"column":13}},"object":{"type":"ThisExpression","start":26569,"end":26573,"loc":{"start":{"line":815,"column":4},"end":{"line":815,"column":8}}},"computed":false,"property":{"type":"Identifier","start":26574,"end":26578,"loc":{"start":{"line":815,"column":9},"end":{"line":815,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":26579,"end":26587,"loc":{"start":{"line":815,"column":14},"end":{"line":815,"column":22},"identifierName":"setState"},"name":"setState"},"optional":false},"arguments":[{"type":"ObjectExpression","start":26588,"end":26688,"loc":{"start":{"line":815,"column":23},"end":{"line":820,"column":5}},"properties":[{"type":"Property","start":26596,"end":26682,"loc":{"start":{"line":816,"column":6},"end":{"line":819,"column":7}},"method":false,"key":{"type":"Identifier","start":26596,"end":26608,"loc":{"start":{"line":816,"column":6},"end":{"line":816,"column":18},"identifierName":"capabilities"},"name":"capabilities"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":26610,"end":26682,"loc":{"start":{"line":816,"column":20},"end":{"line":819,"column":7}},"properties":[{"type":"SpreadElement","start":26620,"end":26635,"loc":{"start":{"line":817,"column":8},"end":{"line":817,"column":23}},"argument":{"type":"Identifier","start":26623,"end":26635,"loc":{"start":{"line":817,"column":11},"end":{"line":817,"column":23},"identifierName":"capabilities"},"name":"capabilities"}},{"type":"Property","start":26645,"end":26674,"loc":{"start":{"line":818,"column":8},"end":{"line":818,"column":37}},"method":false,"key":{"type":"Identifier","start":26645,"end":26667,"loc":{"start":{"line":818,"column":8},"end":{"line":818,"column":30},"identifierName":"individualCancellation"},"name":"individualCancellation"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":26669,"end":26674,"loc":{"start":{"line":818,"column":32},"end":{"line":818,"column":37}},"value":false,"raw":"false"},"kind":"init"}]},"kind":"init"}]}],"optional":false}}]}}},{"type":"MethodDefinition","start":26697,"end":27158,"loc":{"start":{"line":823,"column":2},"end":{"line":839,"column":3}},"static":false,"key":{"type":"Identifier","start":26697,"end":26706,"loc":{"start":{"line":823,"column":2},"end":{"line":823,"column":11},"identifierName":"uninstall"},"name":"uninstall"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":26707,"end":27158,"loc":{"start":{"line":823,"column":12},"end":{"line":839,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":26710,"end":27158,"loc":{"start":{"line":823,"column":15},"end":{"line":839,"column":3}},"body":[{"type":"ExpressionStatement","start":26716,"end":26765,"loc":{"start":{"line":824,"column":4},"end":{"line":824,"column":53}},"expression":{"type":"CallExpression","start":26716,"end":26765,"loc":{"start":{"line":824,"column":4},"end":{"line":824,"column":53}},"callee":{"type":"MemberExpression","start":26716,"end":26744,"loc":{"start":{"line":824,"column":4},"end":{"line":824,"column":32}},"object":{"type":"MemberExpression","start":26716,"end":26725,"loc":{"start":{"line":824,"column":4},"end":{"line":824,"column":13}},"object":{"type":"ThisExpression","start":26716,"end":26720,"loc":{"start":{"line":824,"column":4},"end":{"line":824,"column":8}}},"computed":false,"property":{"type":"Identifier","start":26721,"end":26725,"loc":{"start":{"line":824,"column":9},"end":{"line":824,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":26726,"end":26744,"loc":{"start":{"line":824,"column":14},"end":{"line":824,"column":32},"identifierName":"removePreProcessor"},"name":"removePreProcessor"},"optional":false},"arguments":[{"type":"MemberExpression","start":26745,"end":26764,"loc":{"start":{"line":824,"column":33},"end":{"line":824,"column":52}},"object":{"type":"ThisExpression","start":26745,"end":26749,"loc":{"start":{"line":824,"column":33},"end":{"line":824,"column":37}}},"computed":false,"property":{"type":"Identifier","start":26750,"end":26764,"loc":{"start":{"line":824,"column":38},"end":{"line":824,"column":52},"identifierName":"_prepareUpload"},"name":"_prepareUpload"},"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":26770,"end":26818,"loc":{"start":{"line":825,"column":4},"end":{"line":825,"column":52}},"expression":{"type":"CallExpression","start":26770,"end":26818,"loc":{"start":{"line":825,"column":4},"end":{"line":825,"column":52}},"callee":{"type":"MemberExpression","start":26770,"end":26799,"loc":{"start":{"line":825,"column":4},"end":{"line":825,"column":33}},"object":{"type":"MemberExpression","start":26770,"end":26779,"loc":{"start":{"line":825,"column":4},"end":{"line":825,"column":13}},"object":{"type":"ThisExpression","start":26770,"end":26774,"loc":{"start":{"line":825,"column":4},"end":{"line":825,"column":8}}},"computed":false,"property":{"type":"Identifier","start":26775,"end":26779,"loc":{"start":{"line":825,"column":9},"end":{"line":825,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":26780,"end":26799,"loc":{"start":{"line":825,"column":14},"end":{"line":825,"column":33},"identifierName":"removePostProcessor"},"name":"removePostProcessor"},"optional":false},"arguments":[{"type":"MemberExpression","start":26800,"end":26817,"loc":{"start":{"line":825,"column":34},"end":{"line":825,"column":51}},"object":{"type":"ThisExpression","start":26800,"end":26804,"loc":{"start":{"line":825,"column":34},"end":{"line":825,"column":38}}},"computed":false,"property":{"type":"Identifier","start":26805,"end":26817,"loc":{"start":{"line":825,"column":39},"end":{"line":825,"column":51},"identifierName":"_afterUpload"},"name":"_afterUpload"},"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":26823,"end":26860,"loc":{"start":{"line":826,"column":4},"end":{"line":826,"column":41}},"expression":{"type":"CallExpression","start":26823,"end":26860,"loc":{"start":{"line":826,"column":4},"end":{"line":826,"column":41}},"callee":{"type":"MemberExpression","start":26823,"end":26836,"loc":{"start":{"line":826,"column":4},"end":{"line":826,"column":17}},"object":{"type":"MemberExpression","start":26823,"end":26832,"loc":{"start":{"line":826,"column":4},"end":{"line":826,"column":13}},"object":{"type":"ThisExpression","start":26823,"end":26827,"loc":{"start":{"line":826,"column":4},"end":{"line":826,"column":8}}},"computed":false,"property":{"type":"Identifier","start":26828,"end":26832,"loc":{"start":{"line":826,"column":9},"end":{"line":826,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":26833,"end":26836,"loc":{"start":{"line":826,"column":14},"end":{"line":826,"column":17},"identifierName":"off"},"name":"off"},"optional":false},"arguments":[{"type":"Literal","start":26837,"end":26844,"loc":{"start":{"line":826,"column":18},"end":{"line":826,"column":25}},"value":"error","raw":"'error'"},{"type":"MemberExpression","start":26846,"end":26859,"loc":{"start":{"line":826,"column":27},"end":{"line":826,"column":40}},"object":{"type":"ThisExpression","start":26846,"end":26850,"loc":{"start":{"line":826,"column":27},"end":{"line":826,"column":31}}},"computed":false,"property":{"type":"Identifier","start":26851,"end":26859,"loc":{"start":{"line":826,"column":32},"end":{"line":826,"column":40},"identifierName":"_onError"},"name":"_onError"},"optional":false}],"optional":false}},{"type":"IfStatement","start":26866,"end":26979,"loc":{"start":{"line":828,"column":4},"end":{"line":830,"column":5}},"test":{"type":"MemberExpression","start":26870,"end":26900,"loc":{"start":{"line":828,"column":8},"end":{"line":828,"column":38}},"object":{"type":"MemberExpression","start":26870,"end":26879,"loc":{"start":{"line":828,"column":8},"end":{"line":828,"column":17}},"object":{"type":"ThisExpression","start":26870,"end":26874,"loc":{"start":{"line":828,"column":8},"end":{"line":828,"column":12}}},"computed":false,"property":{"type":"Identifier","start":26875,"end":26879,"loc":{"start":{"line":828,"column":13},"end":{"line":828,"column":17},"identifierName":"opts"},"name":"opts"},"optional":false},"computed":false,"property":{"type":"Identifier","start":26880,"end":26900,"loc":{"start":{"line":828,"column":18},"end":{"line":828,"column":38},"identifierName":"importFromUploadURLs"},"name":"importFromUploadURLs"},"optional":false},"consequent":{"type":"BlockStatement","start":26902,"end":26979,"loc":{"start":{"line":828,"column":40},"end":{"line":830,"column":5}},"body":[{"type":"ExpressionStatement","start":26910,"end":26973,"loc":{"start":{"line":829,"column":6},"end":{"line":829,"column":69}},"expression":{"type":"CallExpression","start":26910,"end":26973,"loc":{"start":{"line":829,"column":6},"end":{"line":829,"column":69}},"callee":{"type":"MemberExpression","start":26910,"end":26923,"loc":{"start":{"line":829,"column":6},"end":{"line":829,"column":19}},"object":{"type":"MemberExpression","start":26910,"end":26919,"loc":{"start":{"line":829,"column":6},"end":{"line":829,"column":15}},"object":{"type":"ThisExpression","start":26910,"end":26914,"loc":{"start":{"line":829,"column":6},"end":{"line":829,"column":10}}},"computed":false,"property":{"type":"Identifier","start":26915,"end":26919,"loc":{"start":{"line":829,"column":11},"end":{"line":829,"column":15},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":26920,"end":26923,"loc":{"start":{"line":829,"column":16},"end":{"line":829,"column":19},"identifierName":"off"},"name":"off"},"optional":false},"arguments":[{"type":"Literal","start":26924,"end":26940,"loc":{"start":{"line":829,"column":20},"end":{"line":829,"column":36}},"value":"upload-success","raw":"'upload-success'"},{"type":"MemberExpression","start":26942,"end":26972,"loc":{"start":{"line":829,"column":38},"end":{"line":829,"column":68}},"object":{"type":"ThisExpression","start":26942,"end":26946,"loc":{"start":{"line":829,"column":38},"end":{"line":829,"column":42}}},"computed":false,"property":{"type":"Identifier","start":26947,"end":26972,"loc":{"start":{"line":829,"column":43},"end":{"line":829,"column":68},"identifierName":"_onFileUploadURLAvailable"},"name":"_onFileUploadURLAvailable"},"optional":false}],"optional":false}}]},"alternate":null},{"type":"VariableDeclaration","start":26985,"end":27030,"loc":{"start":{"line":832,"column":4},"end":{"line":832,"column":49}},"declarations":[{"type":"VariableDeclarator","start":26991,"end":27030,"loc":{"start":{"line":832,"column":10},"end":{"line":832,"column":49}},"id":{"type":"ObjectPattern","start":26991,"end":27007,"loc":{"start":{"line":832,"column":10},"end":{"line":832,"column":26}},"properties":[{"type":"Property","start":26993,"end":27005,"loc":{"start":{"line":832,"column":12},"end":{"line":832,"column":24}},"method":false,"key":{"type":"Identifier","start":26993,"end":27005,"loc":{"start":{"line":832,"column":12},"end":{"line":832,"column":24},"identifierName":"capabilities"},"name":"capabilities"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":26993,"end":27005,"loc":{"start":{"line":832,"column":12},"end":{"line":832,"column":24},"identifierName":"capabilities"},"name":"capabilities"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"CallExpression","start":27010,"end":27030,"loc":{"start":{"line":832,"column":29},"end":{"line":832,"column":49}},"callee":{"type":"MemberExpression","start":27010,"end":27028,"loc":{"start":{"line":832,"column":29},"end":{"line":832,"column":47}},"object":{"type":"MemberExpression","start":27010,"end":27019,"loc":{"start":{"line":832,"column":29},"end":{"line":832,"column":38}},"object":{"type":"ThisExpression","start":27010,"end":27014,"loc":{"start":{"line":832,"column":29},"end":{"line":832,"column":33}}},"computed":false,"property":{"type":"Identifier","start":27015,"end":27019,"loc":{"start":{"line":832,"column":34},"end":{"line":832,"column":38},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":27020,"end":27028,"loc":{"start":{"line":832,"column":39},"end":{"line":832,"column":47},"identifierName":"getState"},"name":"getState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":27035,"end":27154,"loc":{"start":{"line":833,"column":4},"end":{"line":838,"column":6}},"expression":{"type":"CallExpression","start":27035,"end":27154,"loc":{"start":{"line":833,"column":4},"end":{"line":838,"column":6}},"callee":{"type":"MemberExpression","start":27035,"end":27053,"loc":{"start":{"line":833,"column":4},"end":{"line":833,"column":22}},"object":{"type":"MemberExpression","start":27035,"end":27044,"loc":{"start":{"line":833,"column":4},"end":{"line":833,"column":13}},"object":{"type":"ThisExpression","start":27035,"end":27039,"loc":{"start":{"line":833,"column":4},"end":{"line":833,"column":8}}},"computed":false,"property":{"type":"Identifier","start":27040,"end":27044,"loc":{"start":{"line":833,"column":9},"end":{"line":833,"column":13},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":27045,"end":27053,"loc":{"start":{"line":833,"column":14},"end":{"line":833,"column":22},"identifierName":"setState"},"name":"setState"},"optional":false},"arguments":[{"type":"ObjectExpression","start":27054,"end":27153,"loc":{"start":{"line":833,"column":23},"end":{"line":838,"column":5}},"properties":[{"type":"Property","start":27062,"end":27147,"loc":{"start":{"line":834,"column":6},"end":{"line":837,"column":7}},"method":false,"key":{"type":"Identifier","start":27062,"end":27074,"loc":{"start":{"line":834,"column":6},"end":{"line":834,"column":18},"identifierName":"capabilities"},"name":"capabilities"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":27076,"end":27147,"loc":{"start":{"line":834,"column":20},"end":{"line":837,"column":7}},"properties":[{"type":"SpreadElement","start":27086,"end":27101,"loc":{"start":{"line":835,"column":8},"end":{"line":835,"column":23}},"argument":{"type":"Identifier","start":27089,"end":27101,"loc":{"start":{"line":835,"column":11},"end":{"line":835,"column":23},"identifierName":"capabilities"},"name":"capabilities"}},{"type":"Property","start":27111,"end":27139,"loc":{"start":{"line":836,"column":8},"end":{"line":836,"column":36}},"method":false,"key":{"type":"Identifier","start":27111,"end":27133,"loc":{"start":{"line":836,"column":8},"end":{"line":836,"column":30},"identifierName":"individualCancellation"},"name":"individualCancellation"},"computed":false,"shorthand":false,"value":{"type":"Literal","start":27135,"end":27139,"loc":{"start":{"line":836,"column":32},"end":{"line":836,"column":36}},"value":true,"raw":"true"},"kind":"init"}]},"kind":"init"}]}],"optional":false}}]}}},{"type":"MethodDefinition","start":27162,"end":27259,"loc":{"start":{"line":841,"column":2},"end":{"line":844,"column":3}},"static":false,"key":{"type":"Identifier","start":27162,"end":27173,"loc":{"start":{"line":841,"column":2},"end":{"line":841,"column":13},"identifierName":"getAssembly"},"name":"getAssembly"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":27174,"end":27259,"loc":{"start":{"line":841,"column":14},"end":{"line":844,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":27175,"end":27177,"loc":{"start":{"line":841,"column":15},"end":{"line":841,"column":17},"identifierName":"id"},"name":"id"}],"body":{"type":"BlockStatement","start":27179,"end":27259,"loc":{"start":{"line":841,"column":19},"end":{"line":844,"column":3}},"body":[{"type":"VariableDeclaration","start":27185,"end":27229,"loc":{"start":{"line":842,"column":4},"end":{"line":842,"column":48}},"declarations":[{"type":"VariableDeclarator","start":27191,"end":27229,"loc":{"start":{"line":842,"column":10},"end":{"line":842,"column":48}},"id":{"type":"ObjectPattern","start":27191,"end":27205,"loc":{"start":{"line":842,"column":10},"end":{"line":842,"column":24}},"properties":[{"type":"Property","start":27193,"end":27203,"loc":{"start":{"line":842,"column":12},"end":{"line":842,"column":22}},"method":false,"key":{"type":"Identifier","start":27193,"end":27203,"loc":{"start":{"line":842,"column":12},"end":{"line":842,"column":22},"identifierName":"assemblies"},"name":"assemblies"},"computed":false,"shorthand":true,"value":{"type":"Identifier","start":27193,"end":27203,"loc":{"start":{"line":842,"column":12},"end":{"line":842,"column":22},"identifierName":"assemblies"},"name":"assemblies"},"kind":"init","extra":{"shorthand":true}}]},"init":{"type":"CallExpression","start":27208,"end":27229,"loc":{"start":{"line":842,"column":27},"end":{"line":842,"column":48}},"callee":{"type":"MemberExpression","start":27208,"end":27227,"loc":{"start":{"line":842,"column":27},"end":{"line":842,"column":46}},"object":{"type":"ThisExpression","start":27208,"end":27212,"loc":{"start":{"line":842,"column":27},"end":{"line":842,"column":31}}},"computed":false,"property":{"type":"Identifier","start":27213,"end":27227,"loc":{"start":{"line":842,"column":32},"end":{"line":842,"column":46},"identifierName":"getPluginState"},"name":"getPluginState"},"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":27234,"end":27255,"loc":{"start":{"line":843,"column":4},"end":{"line":843,"column":25}},"argument":{"type":"MemberExpression","start":27241,"end":27255,"loc":{"start":{"line":843,"column":11},"end":{"line":843,"column":25}},"object":{"type":"Identifier","start":27241,"end":27251,"loc":{"start":{"line":843,"column":11},"end":{"line":843,"column":21},"identifierName":"assemblies"},"name":"assemblies"},"computed":true,"property":{"type":"Identifier","start":27252,"end":27254,"loc":{"start":{"line":843,"column":22},"end":{"line":843,"column":24},"identifierName":"id"},"name":"id"},"optional":false}}]}}},{"type":"MethodDefinition","start":27263,"end":27438,"loc":{"start":{"line":846,"column":2},"end":{"line":850,"column":3}},"static":false,"key":{"type":"Identifier","start":27263,"end":27279,"loc":{"start":{"line":846,"column":2},"end":{"line":846,"column":18},"identifierName":"getAssemblyFiles"},"name":"getAssemblyFiles"},"computed":false,"kind":"method","value":{"type":"FunctionExpression","start":27280,"end":27438,"loc":{"start":{"line":846,"column":19},"end":{"line":850,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":27281,"end":27291,"loc":{"start":{"line":846,"column":20},"end":{"line":846,"column":30},"identifierName":"assemblyID"},"name":"assemblyID"}],"body":{"type":"BlockStatement","start":27293,"end":27438,"loc":{"start":{"line":846,"column":32},"end":{"line":850,"column":3}},"body":[{"type":"ReturnStatement","start":27299,"end":27434,"loc":{"start":{"line":847,"column":4},"end":{"line":849,"column":6}},"argument":{"type":"CallExpression","start":27306,"end":27434,"loc":{"start":{"line":847,"column":11},"end":{"line":849,"column":6}},"callee":{"type":"MemberExpression","start":27306,"end":27333,"loc":{"start":{"line":847,"column":11},"end":{"line":847,"column":38}},"object":{"type":"CallExpression","start":27306,"end":27326,"loc":{"start":{"line":847,"column":11},"end":{"line":847,"column":31}},"callee":{"type":"MemberExpression","start":27306,"end":27324,"loc":{"start":{"line":847,"column":11},"end":{"line":847,"column":29}},"object":{"type":"MemberExpression","start":27306,"end":27315,"loc":{"start":{"line":847,"column":11},"end":{"line":847,"column":20}},"object":{"type":"ThisExpression","start":27306,"end":27310,"loc":{"start":{"line":847,"column":11},"end":{"line":847,"column":15}}},"computed":false,"property":{"type":"Identifier","start":27311,"end":27315,"loc":{"start":{"line":847,"column":16},"end":{"line":847,"column":20},"identifierName":"uppy"},"name":"uppy"},"optional":false},"computed":false,"property":{"type":"Identifier","start":27316,"end":27324,"loc":{"start":{"line":847,"column":21},"end":{"line":847,"column":29},"identifierName":"getFiles"},"name":"getFiles"},"optional":false},"arguments":[],"optional":false},"computed":false,"property":{"type":"Identifier","start":27327,"end":27333,"loc":{"start":{"line":847,"column":32},"end":{"line":847,"column":38},"identifierName":"filter"},"name":"filter"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":27334,"end":27433,"loc":{"start":{"line":847,"column":39},"end":{"line":849,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":27335,"end":27339,"loc":{"start":{"line":847,"column":40},"end":{"line":847,"column":44},"identifierName":"file"},"name":"file"}],"body":{"type":"BlockStatement","start":27344,"end":27433,"loc":{"start":{"line":847,"column":49},"end":{"line":849,"column":5}},"body":[{"type":"ReturnStatement","start":27352,"end":27427,"loc":{"start":{"line":848,"column":6},"end":{"line":848,"column":81}},"argument":{"type":"LogicalExpression","start":27359,"end":27427,"loc":{"start":{"line":848,"column":13},"end":{"line":848,"column":81}},"left":{"type":"LogicalExpression","start":27359,"end":27383,"loc":{"start":{"line":848,"column":13},"end":{"line":848,"column":37}},"left":{"type":"Identifier","start":27359,"end":27363,"loc":{"start":{"line":848,"column":13},"end":{"line":848,"column":17},"identifierName":"file"},"name":"file"},"operator":"&&","right":{"type":"MemberExpression","start":27367,"end":27383,"loc":{"start":{"line":848,"column":21},"end":{"line":848,"column":37}},"object":{"type":"Identifier","start":27367,"end":27371,"loc":{"start":{"line":848,"column":21},"end":{"line":848,"column":25},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":27372,"end":27383,"loc":{"start":{"line":848,"column":26},"end":{"line":848,"column":37},"identifierName":"transloadit"},"name":"transloadit"},"optional":false}},"operator":"&&","right":{"type":"BinaryExpression","start":27387,"end":27427,"loc":{"start":{"line":848,"column":41},"end":{"line":848,"column":81}},"left":{"type":"MemberExpression","start":27387,"end":27412,"loc":{"start":{"line":848,"column":41},"end":{"line":848,"column":66}},"object":{"type":"MemberExpression","start":27387,"end":27403,"loc":{"start":{"line":848,"column":41},"end":{"line":848,"column":57}},"object":{"type":"Identifier","start":27387,"end":27391,"loc":{"start":{"line":848,"column":41},"end":{"line":848,"column":45},"identifierName":"file"},"name":"file"},"computed":false,"property":{"type":"Identifier","start":27392,"end":27403,"loc":{"start":{"line":848,"column":46},"end":{"line":848,"column":57},"identifierName":"transloadit"},"name":"transloadit"},"optional":false},"computed":false,"property":{"type":"Identifier","start":27404,"end":27412,"loc":{"start":{"line":848,"column":58},"end":{"line":848,"column":66},"identifierName":"assembly"},"name":"assembly"},"optional":false},"operator":"===","right":{"type":"Identifier","start":27417,"end":27427,"loc":{"start":{"line":848,"column":71},"end":{"line":848,"column":81},"identifierName":"assemblyID"},"name":"assemblyID"}}}}]}}],"optional":false}}]}}}]}}},"leadingComments":[{"type":"CommentBlock","value":"*\n * Upload files to Transloadit using Tus.\n ","start":969,"end":1018,"loc":{"start":{"line":25,"column":0},"end":{"line":27,"column":3}}}]},{"type":"ExpressionStatement","start":27442,"end":27478,"loc":{"start":{"line":853,"column":0},"end":{"line":853,"column":36}},"expression":{"type":"AssignmentExpression","start":27442,"end":27478,"loc":{"start":{"line":853,"column":0},"end":{"line":853,"column":36}},"operator":"=","left":{"type":"MemberExpression","start":27442,"end":27466,"loc":{"start":{"line":853,"column":0},"end":{"line":853,"column":24}},"object":{"type":"MemberExpression","start":27442,"end":27456,"loc":{"start":{"line":853,"column":0},"end":{"line":853,"column":14}},"object":{"type":"Identifier","start":27442,"end":27448,"loc":{"start":{"line":853,"column":0},"end":{"line":853,"column":6},"identifierName":"module"},"name":"module"},"computed":false,"property":{"type":"Identifier","start":27449,"end":27456,"loc":{"start":{"line":853,"column":7},"end":{"line":853,"column":14},"identifierName":"exports"},"name":"exports"},"optional":false},"computed":false,"property":{"type":"Identifier","start":27457,"end":27466,"loc":{"start":{"line":853,"column":15},"end":{"line":853,"column":24},"identifierName":"COMPANION"},"name":"COMPANION"},"optional":false},"right":{"type":"Identifier","start":27469,"end":27478,"loc":{"start":{"line":853,"column":27},"end":{"line":853,"column":36},"identifierName":"COMPANION"},"name":"COMPANION"}}},{"type":"ExpressionStatement","start":27479,"end":27517,"loc":{"start":{"line":854,"column":0},"end":{"line":854,"column":38}},"expression":{"type":"AssignmentExpression","start":27479,"end":27517,"loc":{"start":{"line":854,"column":0},"end":{"line":854,"column":38}},"operator":"=","left":{"type":"MemberExpression","start":27479,"end":27505,"loc":{"start":{"line":854,"column":0},"end":{"line":854,"column":26}},"object":{"type":"MemberExpression","start":27479,"end":27493,"loc":{"start":{"line":854,"column":0},"end":{"line":854,"column":14}},"object":{"type":"Identifier","start":27479,"end":27485,"loc":{"start":{"line":854,"column":0},"end":{"line":854,"column":6},"identifierName":"module"},"name":"module"},"computed":false,"property":{"type":"Identifier","start":27486,"end":27493,"loc":{"start":{"line":854,"column":7},"end":{"line":854,"column":14},"identifierName":"exports"},"name":"exports"},"optional":false},"computed":false,"property":{"type":"Identifier","start":27494,"end":27505,"loc":{"start":{"line":854,"column":15},"end":{"line":854,"column":26},"identifierName":"UPPY_SERVER"},"name":"UPPY_SERVER"},"optional":false},"right":{"type":"Identifier","start":27508,"end":27517,"loc":{"start":{"line":854,"column":29},"end":{"line":854,"column":38},"identifierName":"COMPANION"},"name":"COMPANION"}}},{"type":"ExpressionStatement","start":27518,"end":27578,"loc":{"start":{"line":855,"column":0},"end":{"line":855,"column":60}},"expression":{"type":"AssignmentExpression","start":27518,"end":27578,"loc":{"start":{"line":855,"column":0},"end":{"line":855,"column":60}},"operator":"=","left":{"type":"MemberExpression","start":27518,"end":27550,"loc":{"start":{"line":855,"column":0},"end":{"line":855,"column":32}},"object":{"type":"MemberExpression","start":27518,"end":27532,"loc":{"start":{"line":855,"column":0},"end":{"line":855,"column":14}},"object":{"type":"Identifier","start":27518,"end":27524,"loc":{"start":{"line":855,"column":0},"end":{"line":855,"column":6},"identifierName":"module"},"name":"module"},"computed":false,"property":{"type":"Identifier","start":27525,"end":27532,"loc":{"start":{"line":855,"column":7},"end":{"line":855,"column":14},"identifierName":"exports"},"name":"exports"},"optional":false},"computed":false,"property":{"type":"Identifier","start":27533,"end":27550,"loc":{"start":{"line":855,"column":15},"end":{"line":855,"column":32},"identifierName":"COMPANION_PATTERN"},"name":"COMPANION_PATTERN"},"optional":false},"right":{"type":"Identifier","start":27553,"end":27578,"loc":{"start":{"line":855,"column":35},"end":{"line":855,"column":60},"identifierName":"ALLOWED_COMPANION_PATTERN"},"name":"ALLOWED_COMPANION_PATTERN"}}}]},"comments":[{"type":"CommentLine","value":" Regex matching acceptable postMessage() origins for authentication feedback from companion.","start":590,"end":684,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":94}}},{"type":"CommentLine","value":" Regex used to check if a Companion address is run by Transloadit.","start":741,"end":809,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":68}}},{"type":"CommentBlock","value":"*\n * Upload files to Transloadit using Tus.\n ","start":969,"end":1018,"loc":{"start":{"line":25,"column":0},"end":{"line":27,"column":3}}},{"type":"CommentLine","value":" Throw the same error that we'd throw if the `params` returned from a","start":2622,"end":2693,"loc":{"start":{"line":76,"column":6},"end":{"line":76,"column":77}}},{"type":"CommentLine","value":" `getAssemblyOptions()` function is null.","start":2700,"end":2743,"loc":{"start":{"line":77,"column":6},"end":{"line":77,"column":49}}},{"type":"CommentLine","value":" Contains Assembly instances for in-progress Assemblies.","start":2957,"end":3015,"loc":{"start":{"line":86,"column":4},"end":{"line":86,"column":62}}},{"type":"CommentLine","value":" Contains a mapping of uploadID to AssemblyWatcher","start":3051,"end":3103,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":56}}},{"type":"CommentLine","value":" Contains a file IDs that have completed postprocessing before the upload they belong to has entered the postprocess stage.","start":3139,"end":3264,"loc":{"start":{"line":90,"column":4},"end":{"line":90,"column":129}}},{"type":"CommentLine","value":" so that UI re-renders and we see the updated locale","start":3671,"end":3725,"loc":{"start":{"line":103,"column":26},"end":{"line":103,"column":80}}},{"type":"CommentBlock","value":"*\n   * Attach metadata to files to configure the Tus plugin to upload to Transloadit.\n   * Also use Transloadit's Companion\n   *\n   * See: https://github.com/tus/tusd/wiki/Uploading-to-Transloadit-using-tus#uploading-using-tus\n   *\n   * @param {object} file\n   * @param {object} status\n   ","start":4682,"end":4975,"loc":{"start":{"line":136,"column":2},"end":{"line":144,"column":5}}},{"type":"CommentLine","value":" Add the metadata parameters Transloadit needs.","start":5023,"end":5072,"loc":{"start":{"line":146,"column":4},"end":{"line":146,"column":53}}},{"type":"CommentLine","value":" Add Assembly-specific Tus endpoint.","start":5214,"end":5252,"loc":{"start":{"line":153,"column":4},"end":{"line":153,"column":42}}},{"type":"CommentLine","value":" Include X-Request-ID headers for better debugging.","start":5328,"end":5381,"loc":{"start":{"line":157,"column":6},"end":{"line":157,"column":59}}},{"type":"CommentLine","value":" Set Companion location. We only add this, if 'file' has the attribute","start":5418,"end":5490,"loc":{"start":{"line":161,"column":4},"end":{"line":161,"column":76}}},{"type":"CommentLine","value":" remote, because this is the criteria to identify remote files.","start":5495,"end":5560,"loc":{"start":{"line":162,"column":4},"end":{"line":162,"column":69}}},{"type":"CommentLine","value":" We only replace the hostname for Transloadit's companions, so that","start":5565,"end":5634,"loc":{"start":{"line":163,"column":4},"end":{"line":163,"column":73}}},{"type":"CommentLine","value":" people can also self-host them while still using Transloadit for encoding.","start":5639,"end":5716,"loc":{"start":{"line":164,"column":4},"end":{"line":164,"column":81}}},{"type":"CommentLine","value":" Explicitly log this error here because it is caught by the `createAssembly`","start":6054,"end":6132,"loc":{"start":{"line":171,"column":6},"end":{"line":171,"column":84}}},{"type":"CommentLine","value":" Promise further along.","start":6139,"end":6164,"loc":{"start":{"line":172,"column":6},"end":{"line":172,"column":31}}},{"type":"CommentLine","value":" That's fine, but createAssembly only shows the informer, we need something a","start":6171,"end":6250,"loc":{"start":{"line":173,"column":6},"end":{"line":173,"column":85}}},{"type":"CommentLine","value":" little more noisy.","start":6257,"end":6278,"loc":{"start":{"line":174,"column":6},"end":{"line":174,"column":27}}},{"type":"CommentLine","value":" Store the Assembly ID this file is in on the file under the `transloadit` key.","start":6704,"end":6785,"loc":{"start":{"line":193,"column":4},"end":{"line":193,"column":85}}},{"type":"CommentLine","value":" Only configure the Tus plugin if we are uploading straight to Transloadit (the default).","start":6899,"end":6990,"loc":{"start":{"line":200,"column":4},"end":{"line":200,"column":95}}},{"type":"CommentLine","value":" Store the Assembly status.","start":7657,"end":7686,"loc":{"start":{"line":222,"column":8},"end":{"line":222,"column":37}}},{"type":"CommentLine","value":" Store the list of Assemblies related to this upload.","start":7784,"end":7839,"loc":{"start":{"line":227,"column":8},"end":{"line":227,"column":63}}},{"type":"CommentLine","value":" Reject the promise.","start":8605,"end":8627,"loc":{"start":{"line":255,"column":6},"end":{"line":255,"column":28}}},{"type":"CommentLine","value":" AssemblyWatcher tracks completion states of all Assemblies in this upload.","start":8717,"end":8794,"loc":{"start":{"line":261,"column":2},"end":{"line":261,"column":79}}},{"type":"CommentLine","value":" Clear postprocessing state for all our files.","start":9151,"end":9199,"loc":{"start":{"line":273,"column":4},"end":{"line":273,"column":52}}},{"type":"CommentLine","value":" TODO Maybe make a postprocess-error event here?","start":9284,"end":9334,"loc":{"start":{"line":276,"column":6},"end":{"line":276,"column":56}}},{"type":"CommentBlock","value":"*\n   * Used when `importFromUploadURLs` is enabled: reserves all files in\n   * the Assembly.\n   ","start":9612,"end":9712,"loc":{"start":{"line":290,"column":2},"end":{"line":293,"column":5}}},{"type":"CommentBlock","value":"*\n   * Used when `importFromUploadURLs` is enabled: adds files to the Assembly\n   * once they have been fully uploaded.\n   ","start":9913,"end":10040,"loc":{"start":{"line":301,"column":2},"end":{"line":304,"column":5}}},{"type":"CommentLine","value":" Completed file upload.","start":10589,"end":10614,"loc":{"start":{"line":323,"column":6},"end":{"line":323,"column":31}}},{"type":"CommentLine","value":" In-progress file upload.","start":10709,"end":10736,"loc":{"start":{"line":327,"column":6},"end":{"line":327,"column":33}}},{"type":"CommentLine","value":" Fingers-crossed check for non-tus uploads, eg imported from S3.","start":10888,"end":10954,"loc":{"start":{"line":332,"column":8},"end":{"line":332,"column":74}}},{"type":"CommentBlock","value":"*\n   * Callback when a new Assembly result comes in.\n   *\n   * @param {string} assemblyId\n   * @param {string} stepName\n   * @param {object} result\n   ","start":11650,"end":11805,"loc":{"start":{"line":360,"column":2},"end":{"line":366,"column":5}}},{"type":"CommentLine","value":" The `file` may not exist if an import robot was used instead of a file upload.","start":11944,"end":12025,"loc":{"start":{"line":370,"column":4},"end":{"line":370,"column":85}}},{"type":"CommentBlock","value":"*\n   * When an Assembly has finished processing, get the final state\n   * and emit it.\n   *\n   * @param {object} status\n   ","start":12345,"end":12472,"loc":{"start":{"line":386,"column":2},"end":{"line":391,"column":5}}},{"type":"CommentLine","value":" TODO bubble this through AssemblyWatcher so its event handlers can clean up correctly","start":13004,"end":13092,"loc":{"start":{"line":409,"column":6},"end":{"line":409,"column":94}}},{"type":"CommentBlock","value":"*\n   * When all files are removed, cancel in-progress Assemblies.\n   ","start":13172,"end":13245,"loc":{"start":{"line":414,"column":2},"end":{"line":416,"column":5}}},{"type":"CommentBlock","value":"*\n   * Custom state serialization for the Golden Retriever plugin.\n   * It will pass this back to the `_onRestored` function.\n   *\n   * @param {Function} setData\n   ","start":13735,"end":13904,"loc":{"start":{"line":435,"column":2},"end":{"line":440,"column":5}}},{"type":"CommentLine","value":" Nothing to restore.","start":14471,"end":14493,"loc":{"start":{"line":460,"column":6},"end":{"line":460,"column":28}}},{"type":"CommentLine","value":" Convert loaded Assembly statuses to a Transloadit plugin state object.","start":14518,"end":14591,"loc":{"start":{"line":464,"column":4},"end":{"line":464,"column":77}}},{"type":"CommentLine","value":" Set up the Assembly instances and AssemblyWatchers for existing Assemblies.","start":15583,"end":15661,"loc":{"start":{"line":503,"column":4},"end":{"line":503,"column":82}}},{"type":"CommentLine","value":" Set up the assembly watchers again for all the ongoing uploads.","start":15777,"end":15843,"loc":{"start":{"line":507,"column":6},"end":{"line":507,"column":72}}},{"type":"CommentLine","value":" Force-update all Assemblies to check for missed events.","start":16497,"end":16555,"loc":{"start":{"line":525,"column":4},"end":{"line":525,"column":62}}},{"type":"CommentLine","value":" Restore all Assembly state.","start":16798,"end":16828,"loc":{"start":{"line":535,"column":4},"end":{"line":535,"column":34}}},{"type":"CommentLine","value":" Sync local `assemblies` state","start":17199,"end":17231,"loc":{"start":{"line":552,"column":4},"end":{"line":552,"column":36}}},{"type":"CommentLine","value":" No need to connect to the socket if the Assembly has completed by now.","start":18255,"end":18328,"loc":{"start":{"line":591,"column":4},"end":{"line":591,"column":77}}},{"type":"CommentLine","value":" TODO Do we still need this for anything…?","start":18409,"end":18453,"loc":{"start":{"line":596,"column":4},"end":{"line":596,"column":48}}},{"type":"CommentLine","value":" eslint-disable-next-line no-unused-vars","start":18458,"end":18500,"loc":{"start":{"line":597,"column":4},"end":{"line":597,"column":46}}},{"type":"CommentLine","value":" Only use files without errors","start":18846,"end":18878,"loc":{"start":{"line":611,"column":4},"end":{"line":611,"column":36}}},{"type":"CommentLine","value":" Clear preprocessing state when the Assembly could not be created,","start":19796,"end":19864,"loc":{"start":{"line":638,"column":10},"end":{"line":638,"column":78}}},{"type":"CommentLine","value":" otherwise the UI gets confused about the lingering progress keys","start":19875,"end":19942,"loc":{"start":{"line":639,"column":10},"end":{"line":639,"column":77}}},{"type":"CommentLine","value":" If something went wrong before any Assemblies could be created,","start":20803,"end":20869,"loc":{"start":{"line":666,"column":6},"end":{"line":666,"column":72}}},{"type":"CommentLine","value":" clear all processing state.","start":20876,"end":20906,"loc":{"start":{"line":667,"column":6},"end":{"line":667,"column":36}}},{"type":"CommentLine","value":" Only use files without errors","start":21273,"end":21305,"loc":{"start":{"line":681,"column":4},"end":{"line":681,"column":36}}},{"type":"CommentLine","value":" If we're still restoring state, wait for that to be done.","start":21423,"end":21483,"loc":{"start":{"line":686,"column":4},"end":{"line":686,"column":64}}},{"type":"CommentLine","value":" If we don't have to wait for encoding metadata or results, we can close","start":21680,"end":21754,"loc":{"start":{"line":695,"column":4},"end":{"line":695,"column":78}}},{"type":"CommentLine","value":" the socket immediately and finish the upload.","start":21759,"end":21807,"loc":{"start":{"line":696,"column":4},"end":{"line":696,"column":52}}},{"type":"CommentLine","value":" If no Assemblies were created for this upload, we also do not have to wait.","start":22218,"end":22296,"loc":{"start":{"line":708,"column":4},"end":{"line":708,"column":82}}},{"type":"CommentLine","value":" There's also no sockets or anything to close, so just return immediately.","start":22301,"end":22377,"loc":{"start":{"line":709,"column":4},"end":{"line":709,"column":80}}},{"type":"CommentLine","value":" Remove the Assembly ID list for this upload,","start":22956,"end":23003,"loc":{"start":{"line":727,"column":6},"end":{"line":727,"column":53}}},{"type":"CommentLine","value":" it's no longer going to be used anywhere.","start":23010,"end":23054,"loc":{"start":{"line":728,"column":6},"end":{"line":728,"column":50}}},{"type":"CommentLine","value":" if we can't report the error that sucks","start":23947,"end":23989,"loc":{"start":{"line":756,"column":8},"end":{"line":756,"column":50}}},{"type":"CommentLine","value":" We may need to close socket.io connections on error.","start":24131,"end":24186,"loc":{"start":{"line":765,"column":4},"end":{"line":765,"column":59}}},{"type":"CommentLine","value":" Handle cancellation.","start":24233,"end":24256,"loc":{"start":{"line":768,"column":4},"end":{"line":768,"column":27}}},{"type":"CommentLine","value":" For error reporting.","start":24312,"end":24335,"loc":{"start":{"line":771,"column":4},"end":{"line":771,"column":27}}},{"type":"CommentLine","value":" No uploader needed when importing; instead we take the upload URL from an existing uploader.","start":24436,"end":24531,"loc":{"start":{"line":775,"column":6},"end":{"line":775,"column":101}}},{"type":"CommentLine","value":" Disable tus-js-client fingerprinting, otherwise uploading the same file at different times","start":24649,"end":24742,"loc":{"start":{"line":779,"column":8},"end":{"line":779,"column":101}}},{"type":"CommentLine","value":" will upload to an outdated Assembly, and we won't get socket events for it.","start":24751,"end":24829,"loc":{"start":{"line":780,"column":8},"end":{"line":780,"column":86}}},{"type":"CommentLine","value":"","start":24838,"end":24840,"loc":{"start":{"line":781,"column":8},"end":{"line":781,"column":10}}},{"type":"CommentLine","value":" To resume a Transloadit upload, we need to reconnect to the websocket, and the state that's","start":24849,"end":24943,"loc":{"start":{"line":782,"column":8},"end":{"line":782,"column":102}}},{"type":"CommentLine","value":" required to do that is not saved by tus-js-client's fingerprinting. We need the tus URL,","start":24952,"end":25043,"loc":{"start":{"line":783,"column":8},"end":{"line":783,"column":99}}},{"type":"CommentLine","value":" the Assembly URL, and the WebSocket URL, at least. We also need to know _all_ the files that","start":25052,"end":25147,"loc":{"start":{"line":784,"column":8},"end":{"line":784,"column":103}}},{"type":"CommentLine","value":" were added to the Assembly, so we can properly complete it. All that state is handled by","start":25156,"end":25247,"loc":{"start":{"line":785,"column":8},"end":{"line":785,"column":99}}},{"type":"CommentLine","value":" Golden Retriever. So, Golden Retriever is required to do resumability with the Transloadit plugin,","start":25256,"end":25357,"loc":{"start":{"line":786,"column":8},"end":{"line":786,"column":109}}},{"type":"CommentLine","value":" and we disable Tus's default resume implementation to prevent bad behaviours.","start":25366,"end":25446,"loc":{"start":{"line":787,"column":8},"end":{"line":787,"column":88}}},{"type":"CommentLine","value":" Disable Companion's retry optimisation; we need to change the endpoint on retry","start":25499,"end":25581,"loc":{"start":{"line":789,"column":8},"end":{"line":789,"column":90}}},{"type":"CommentLine","value":" so it can't just reuse the same tus.Upload instance server-side.","start":25590,"end":25657,"loc":{"start":{"line":790,"column":8},"end":{"line":790,"column":75}}},{"type":"CommentLine","value":" Only send Assembly metadata to the tus endpoint.","start":25701,"end":25752,"loc":{"start":{"line":792,"column":8},"end":{"line":792,"column":59}}},{"type":"CommentLine","value":" Pass the limit option to @uppy/tus","start":25824,"end":25861,"loc":{"start":{"line":794,"column":8},"end":{"line":794,"column":45}}},{"type":"CommentLine","value":" Contains Assembly status objects, indexed by their ID.","start":26051,"end":26108,"loc":{"start":{"line":803,"column":6},"end":{"line":803,"column":63}}},{"type":"CommentLine","value":" Contains arrays of Assembly IDs, indexed by the upload ID that they belong to.","start":26137,"end":26218,"loc":{"start":{"line":805,"column":6},"end":{"line":805,"column":87}}},{"type":"CommentLine","value":" Contains file data from Transloadit, indexed by their Transloadit-assigned ID.","start":26254,"end":26335,"loc":{"start":{"line":807,"column":6},"end":{"line":807,"column":87}}},{"type":"CommentLine","value":" Contains result data from Transloadit.","start":26359,"end":26400,"loc":{"start":{"line":809,"column":6},"end":{"line":809,"column":47}}},{"type":"CommentLine","value":" We cannot cancel individual files because Assemblies tend to contain many files.","start":26431,"end":26514,"loc":{"start":{"line":813,"column":4},"end":{"line":813,"column":87}}}]}