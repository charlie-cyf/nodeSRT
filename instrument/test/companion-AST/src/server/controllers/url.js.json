{"type":"Program","start":0,"end":3843,"loc":{"start":{"line":1,"column":0},"end":{"line":125,"column":0}},"body":[{"type":"VariableDeclaration","start":0,"end":40,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"declarations":[{"type":"VariableDeclarator","start":6,"end":40,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":40}},"id":{"type":"Identifier","start":6,"end":12,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":12}},"name":"router"},"init":{"type":"MemberExpression","start":15,"end":40,"loc":{"start":{"line":1,"column":15},"end":{"line":1,"column":40}},"object":{"type":"CallExpression","start":15,"end":33,"loc":{"start":{"line":1,"column":15},"end":{"line":1,"column":33}},"callee":{"type":"Identifier","start":15,"end":22,"loc":{"start":{"line":1,"column":15},"end":{"line":1,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":23,"end":32,"loc":{"start":{"line":1,"column":23},"end":{"line":1,"column":32}},"value":"express","raw":"'express'"}]},"property":{"type":"Identifier","start":34,"end":40,"loc":{"start":{"line":1,"column":34},"end":{"line":1,"column":40}},"name":"Router"},"computed":false}}],"kind":"const"},{"type":"VariableDeclaration","start":41,"end":75,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":34}},"declarations":[{"type":"VariableDeclarator","start":47,"end":75,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":34}},"id":{"type":"Identifier","start":47,"end":54,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":13}},"name":"request"},"init":{"type":"CallExpression","start":57,"end":75,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":34}},"callee":{"type":"Identifier","start":57,"end":64,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":23}},"name":"require"},"arguments":[{"type":"Literal","start":65,"end":74,"loc":{"start":{"line":2,"column":24},"end":{"line":2,"column":33}},"value":"request","raw":"'request'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":76,"end":115,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"declarations":[{"type":"VariableDeclarator","start":82,"end":115,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":39}},"id":{"type":"Identifier","start":82,"end":90,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":14}},"name":"Uploader"},"init":{"type":"CallExpression","start":93,"end":115,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":39}},"callee":{"type":"Identifier","start":93,"end":100,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":24}},"name":"require"},"arguments":[{"type":"Literal","start":101,"end":114,"loc":{"start":{"line":3,"column":25},"end":{"line":3,"column":38}},"value":"../Uploader","raw":"'../Uploader'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":116,"end":154,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":38}},"declarations":[{"type":"VariableDeclarator","start":122,"end":154,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":38}},"id":{"type":"Identifier","start":122,"end":131,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":15}},"name":"validator"},"init":{"type":"CallExpression","start":134,"end":154,"loc":{"start":{"line":4,"column":18},"end":{"line":4,"column":38}},"callee":{"type":"Identifier","start":134,"end":141,"loc":{"start":{"line":4,"column":18},"end":{"line":4,"column":25}},"name":"require"},"arguments":[{"type":"Literal","start":142,"end":153,"loc":{"start":{"line":4,"column":26},"end":{"line":4,"column":37}},"value":"validator","raw":"'validator'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":155,"end":196,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"declarations":[{"type":"VariableDeclarator","start":161,"end":196,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":41}},"id":{"type":"Identifier","start":161,"end":166,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":11}},"name":"utils"},"init":{"type":"CallExpression","start":169,"end":196,"loc":{"start":{"line":5,"column":14},"end":{"line":5,"column":41}},"callee":{"type":"Identifier","start":169,"end":176,"loc":{"start":{"line":5,"column":14},"end":{"line":5,"column":21}},"name":"require"},"arguments":[{"type":"Literal","start":177,"end":195,"loc":{"start":{"line":5,"column":22},"end":{"line":5,"column":40}},"value":"../helpers/utils","raw":"'../helpers/utils'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":197,"end":260,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":63}},"declarations":[{"type":"VariableDeclarator","start":203,"end":260,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":63}},"id":{"type":"ObjectPattern","start":203,"end":228,"loc":{"start":{"line":6,"column":6},"end":{"line":6,"column":31}},"properties":[{"type":"Property","start":205,"end":226,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":205,"end":226,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"name":"getProtectedHttpAgent"},"kind":"init","value":{"type":"Identifier","start":205,"end":226,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"name":"getProtectedHttpAgent"}}]},"init":{"type":"CallExpression","start":231,"end":260,"loc":{"start":{"line":6,"column":34},"end":{"line":6,"column":63}},"callee":{"type":"Identifier","start":231,"end":238,"loc":{"start":{"line":6,"column":34},"end":{"line":6,"column":41}},"name":"require"},"arguments":[{"type":"Literal","start":239,"end":259,"loc":{"start":{"line":6,"column":42},"end":{"line":6,"column":62}},"value":"../helpers/request","raw":"'../helpers/request'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":261,"end":296,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"declarations":[{"type":"VariableDeclarator","start":267,"end":296,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":35}},"id":{"type":"Identifier","start":267,"end":273,"loc":{"start":{"line":7,"column":6},"end":{"line":7,"column":12}},"name":"logger"},"init":{"type":"CallExpression","start":276,"end":296,"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":35}},"callee":{"type":"Identifier","start":276,"end":283,"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":22}},"name":"require"},"arguments":[{"type":"Literal","start":284,"end":295,"loc":{"start":{"line":7,"column":23},"end":{"line":7,"column":34}},"value":"../logger","raw":"'../logger'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":298,"end":390,"loc":{"start":{"line":9,"column":0},"end":{"line":13,"column":1}},"expression":{"type":"AssignmentExpression","start":298,"end":390,"loc":{"start":{"line":9,"column":0},"end":{"line":13,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":298,"end":312,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":14}},"object":{"type":"Identifier","start":298,"end":304,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":6}},"name":"module"},"property":{"type":"Identifier","start":305,"end":312,"loc":{"start":{"line":9,"column":7},"end":{"line":9,"column":14}},"name":"exports"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":315,"end":390,"loc":{"start":{"line":9,"column":17},"end":{"line":13,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":321,"end":390,"loc":{"start":{"line":9,"column":23},"end":{"line":13,"column":1}},"body":[{"type":"ReturnStatement","start":325,"end":388,"loc":{"start":{"line":10,"column":2},"end":{"line":12,"column":22}},"argument":{"type":"CallExpression","start":332,"end":388,"loc":{"start":{"line":10,"column":9},"end":{"line":12,"column":22}},"callee":{"type":"MemberExpression","start":332,"end":375,"loc":{"start":{"line":10,"column":9},"end":{"line":12,"column":9}},"object":{"type":"CallExpression","start":332,"end":365,"loc":{"start":{"line":10,"column":9},"end":{"line":11,"column":24}},"callee":{"type":"MemberExpression","start":332,"end":350,"loc":{"start":{"line":10,"column":9},"end":{"line":11,"column":9}},"object":{"type":"CallExpression","start":332,"end":340,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":17}},"callee":{"type":"Identifier","start":332,"end":338,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":15}},"name":"router"},"arguments":[]},"property":{"type":"Identifier","start":346,"end":350,"loc":{"start":{"line":11,"column":5},"end":{"line":11,"column":9}},"name":"post"},"computed":false},"arguments":[{"type":"Literal","start":351,"end":358,"loc":{"start":{"line":11,"column":10},"end":{"line":11,"column":17}},"value":"/meta","raw":"'/meta'"},{"type":"Identifier","start":360,"end":364,"loc":{"start":{"line":11,"column":19},"end":{"line":11,"column":23}},"name":"meta"}]},"property":{"type":"Identifier","start":371,"end":375,"loc":{"start":{"line":12,"column":5},"end":{"line":12,"column":9}},"name":"post"},"computed":false},"arguments":[{"type":"Literal","start":376,"end":382,"loc":{"start":{"line":12,"column":10},"end":{"line":12,"column":16}},"value":"/get","raw":"'/get'"},{"type":"Identifier","start":384,"end":387,"loc":{"start":{"line":12,"column":18},"end":{"line":12,"column":21}},"name":"get"}]}}]}}}},{"type":"VariableDeclaration","start":546,"end":1107,"loc":{"start":{"line":21,"column":0},"end":{"line":35,"column":1}},"declarations":[{"type":"VariableDeclarator","start":552,"end":1107,"loc":{"start":{"line":21,"column":6},"end":{"line":35,"column":1}},"id":{"type":"Identifier","start":552,"end":556,"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":10}},"name":"meta"},"init":{"type":"ArrowFunctionExpression","start":559,"end":1107,"loc":{"start":{"line":21,"column":13},"end":{"line":35,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":560,"end":563,"loc":{"start":{"line":21,"column":14},"end":{"line":21,"column":17}},"name":"req"},{"type":"Identifier","start":565,"end":568,"loc":{"start":{"line":21,"column":19},"end":{"line":21,"column":22}},"name":"res"}],"body":{"type":"BlockStatement","start":573,"end":1107,"loc":{"start":{"line":21,"column":27},"end":{"line":35,"column":1}},"body":[{"type":"ExpressionStatement","start":577,"end":638,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":63}},"expression":{"type":"CallExpression","start":577,"end":638,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":63}},"callee":{"type":"MemberExpression","start":577,"end":589,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":14}},"object":{"type":"Identifier","start":577,"end":583,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":8}},"name":"logger"},"property":{"type":"Identifier","start":584,"end":589,"loc":{"start":{"line":22,"column":9},"end":{"line":22,"column":14}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":590,"end":623,"loc":{"start":{"line":22,"column":15},"end":{"line":22,"column":48}},"value":"URL file import handler running","raw":"'URL file import handler running'"},{"type":"Literal","start":625,"end":629,"loc":{"start":{"line":22,"column":50},"end":{"line":22,"column":54}},"value":null,"raw":"null"},{"type":"MemberExpression","start":631,"end":637,"loc":{"start":{"line":22,"column":56},"end":{"line":22,"column":62}},"object":{"type":"Identifier","start":631,"end":634,"loc":{"start":{"line":22,"column":56},"end":{"line":22,"column":59}},"name":"req"},"property":{"type":"Identifier","start":635,"end":637,"loc":{"start":{"line":22,"column":60},"end":{"line":22,"column":62}},"name":"id"},"computed":false}]}},{"type":"VariableDeclaration","start":641,"end":682,"loc":{"start":{"line":23,"column":2},"end":{"line":23,"column":43}},"declarations":[{"type":"VariableDeclarator","start":647,"end":682,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":43}},"id":{"type":"Identifier","start":647,"end":652,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":13}},"name":"debug"},"init":{"type":"MemberExpression","start":655,"end":682,"loc":{"start":{"line":23,"column":16},"end":{"line":23,"column":43}},"object":{"type":"MemberExpression","start":655,"end":676,"loc":{"start":{"line":23,"column":16},"end":{"line":23,"column":37}},"object":{"type":"MemberExpression","start":655,"end":668,"loc":{"start":{"line":23,"column":16},"end":{"line":23,"column":29}},"object":{"type":"Identifier","start":655,"end":658,"loc":{"start":{"line":23,"column":16},"end":{"line":23,"column":19}},"name":"req"},"property":{"type":"Identifier","start":659,"end":668,"loc":{"start":{"line":23,"column":20},"end":{"line":23,"column":29}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":669,"end":676,"loc":{"start":{"line":23,"column":30},"end":{"line":23,"column":37}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":677,"end":682,"loc":{"start":{"line":23,"column":38},"end":{"line":23,"column":43}},"name":"debug"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":685,"end":887,"loc":{"start":{"line":24,"column":2},"end":{"line":27,"column":3}},"test":{"type":"UnaryExpression","start":689,"end":722,"loc":{"start":{"line":24,"column":6},"end":{"line":24,"column":39}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":690,"end":722,"loc":{"start":{"line":24,"column":7},"end":{"line":24,"column":39}},"callee":{"type":"Identifier","start":690,"end":701,"loc":{"start":{"line":24,"column":7},"end":{"line":24,"column":18}},"name":"validateURL"},"arguments":[{"type":"MemberExpression","start":702,"end":714,"loc":{"start":{"line":24,"column":19},"end":{"line":24,"column":31}},"object":{"type":"MemberExpression","start":702,"end":710,"loc":{"start":{"line":24,"column":19},"end":{"line":24,"column":27}},"object":{"type":"Identifier","start":702,"end":705,"loc":{"start":{"line":24,"column":19},"end":{"line":24,"column":22}},"name":"req"},"property":{"type":"Identifier","start":706,"end":710,"loc":{"start":{"line":24,"column":23},"end":{"line":24,"column":27}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":711,"end":714,"loc":{"start":{"line":24,"column":28},"end":{"line":24,"column":31}},"name":"url"},"computed":false},{"type":"Identifier","start":716,"end":721,"loc":{"start":{"line":24,"column":33},"end":{"line":24,"column":38}},"name":"debug"}]}},"consequent":{"type":"BlockStatement","start":724,"end":887,"loc":{"start":{"line":24,"column":41},"end":{"line":27,"column":3}},"body":[{"type":"ExpressionStatement","start":730,"end":816,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":90}},"expression":{"type":"CallExpression","start":730,"end":816,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":90}},"callee":{"type":"MemberExpression","start":730,"end":742,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":16}},"object":{"type":"Identifier","start":730,"end":736,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":10}},"name":"logger"},"property":{"type":"Identifier","start":737,"end":742,"loc":{"start":{"line":25,"column":11},"end":{"line":25,"column":16}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":743,"end":801,"loc":{"start":{"line":25,"column":17},"end":{"line":25,"column":75}},"value":"Invalid request body detected. Exiting url meta handler.","raw":"'Invalid request body detected. Exiting url meta handler.'"},{"type":"Literal","start":803,"end":807,"loc":{"start":{"line":25,"column":77},"end":{"line":25,"column":81}},"value":null,"raw":"null"},{"type":"MemberExpression","start":809,"end":815,"loc":{"start":{"line":25,"column":83},"end":{"line":25,"column":89}},"object":{"type":"Identifier","start":809,"end":812,"loc":{"start":{"line":25,"column":83},"end":{"line":25,"column":86}},"name":"req"},"property":{"type":"Identifier","start":813,"end":815,"loc":{"start":{"line":25,"column":87},"end":{"line":25,"column":89}},"name":"id"},"computed":false}]}},{"type":"ReturnStatement","start":821,"end":883,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":66}},"argument":{"type":"CallExpression","start":828,"end":883,"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":66}},"callee":{"type":"MemberExpression","start":828,"end":848,"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":31}},"object":{"type":"CallExpression","start":828,"end":843,"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":26}},"callee":{"type":"MemberExpression","start":828,"end":838,"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":21}},"object":{"type":"Identifier","start":828,"end":831,"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":14}},"name":"res"},"property":{"type":"Identifier","start":832,"end":838,"loc":{"start":{"line":26,"column":15},"end":{"line":26,"column":21}},"name":"status"},"computed":false},"arguments":[{"type":"Literal","start":839,"end":842,"loc":{"start":{"line":26,"column":22},"end":{"line":26,"column":25}},"value":400,"raw":"400"}]},"property":{"type":"Identifier","start":844,"end":848,"loc":{"start":{"line":26,"column":27},"end":{"line":26,"column":31}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":849,"end":882,"loc":{"start":{"line":26,"column":32},"end":{"line":26,"column":65}},"properties":[{"type":"Property","start":851,"end":880,"loc":{"start":{"line":26,"column":34},"end":{"line":26,"column":63}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":851,"end":856,"loc":{"start":{"line":26,"column":34},"end":{"line":26,"column":39}},"name":"error"},"value":{"type":"Literal","start":858,"end":880,"loc":{"start":{"line":26,"column":41},"end":{"line":26,"column":63}},"value":"Invalid request body","raw":"'Invalid request body'"},"kind":"init"}]}]}}]},"alternate":null},{"type":"ExpressionStatement","start":891,"end":1105,"loc":{"start":{"line":29,"column":2},"end":{"line":34,"column":6}},"expression":{"type":"CallExpression","start":891,"end":1105,"loc":{"start":{"line":29,"column":2},"end":{"line":34,"column":6}},"callee":{"type":"MemberExpression","start":891,"end":976,"loc":{"start":{"line":29,"column":2},"end":{"line":31,"column":10}},"object":{"type":"CallExpression","start":891,"end":965,"loc":{"start":{"line":29,"column":2},"end":{"line":30,"column":35}},"callee":{"type":"MemberExpression","start":891,"end":939,"loc":{"start":{"line":29,"column":2},"end":{"line":30,"column":9}},"object":{"type":"CallExpression","start":891,"end":929,"loc":{"start":{"line":29,"column":2},"end":{"line":29,"column":40}},"callee":{"type":"MemberExpression","start":891,"end":907,"loc":{"start":{"line":29,"column":2},"end":{"line":29,"column":18}},"object":{"type":"Identifier","start":891,"end":896,"loc":{"start":{"line":29,"column":2},"end":{"line":29,"column":7}},"name":"utils"},"property":{"type":"Identifier","start":897,"end":907,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":18}},"name":"getURLMeta"},"computed":false},"arguments":[{"type":"MemberExpression","start":908,"end":920,"loc":{"start":{"line":29,"column":19},"end":{"line":29,"column":31}},"object":{"type":"MemberExpression","start":908,"end":916,"loc":{"start":{"line":29,"column":19},"end":{"line":29,"column":27}},"object":{"type":"Identifier","start":908,"end":911,"loc":{"start":{"line":29,"column":19},"end":{"line":29,"column":22}},"name":"req"},"property":{"type":"Identifier","start":912,"end":916,"loc":{"start":{"line":29,"column":23},"end":{"line":29,"column":27}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":917,"end":920,"loc":{"start":{"line":29,"column":28},"end":{"line":29,"column":31}},"name":"url"},"computed":false},{"type":"UnaryExpression","start":922,"end":928,"loc":{"start":{"line":29,"column":33},"end":{"line":29,"column":39}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":923,"end":928,"loc":{"start":{"line":29,"column":34},"end":{"line":29,"column":39}},"name":"debug"}}]},"property":{"type":"Identifier","start":935,"end":939,"loc":{"start":{"line":30,"column":5},"end":{"line":30,"column":9}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":940,"end":964,"loc":{"start":{"line":30,"column":10},"end":{"line":30,"column":34}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":941,"end":945,"loc":{"start":{"line":30,"column":11},"end":{"line":30,"column":15}},"name":"meta"}],"body":{"type":"CallExpression","start":950,"end":964,"loc":{"start":{"line":30,"column":20},"end":{"line":30,"column":34}},"callee":{"type":"MemberExpression","start":950,"end":958,"loc":{"start":{"line":30,"column":20},"end":{"line":30,"column":28}},"object":{"type":"Identifier","start":950,"end":953,"loc":{"start":{"line":30,"column":20},"end":{"line":30,"column":23}},"name":"res"},"property":{"type":"Identifier","start":954,"end":958,"loc":{"start":{"line":30,"column":24},"end":{"line":30,"column":28}},"name":"json"},"computed":false},"arguments":[{"type":"Identifier","start":959,"end":963,"loc":{"start":{"line":30,"column":29},"end":{"line":30,"column":33}},"name":"meta"}]}}]},"property":{"type":"Identifier","start":971,"end":976,"loc":{"start":{"line":31,"column":5},"end":{"line":31,"column":10}},"name":"catch"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":977,"end":1104,"loc":{"start":{"line":31,"column":11},"end":{"line":34,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":978,"end":981,"loc":{"start":{"line":31,"column":12},"end":{"line":31,"column":15}},"name":"err"}],"body":{"type":"BlockStatement","start":986,"end":1104,"loc":{"start":{"line":31,"column":20},"end":{"line":34,"column":5}},"body":[{"type":"ExpressionStatement","start":994,"end":1048,"loc":{"start":{"line":32,"column":6},"end":{"line":32,"column":60}},"expression":{"type":"CallExpression","start":994,"end":1048,"loc":{"start":{"line":32,"column":6},"end":{"line":32,"column":60}},"callee":{"type":"MemberExpression","start":994,"end":1006,"loc":{"start":{"line":32,"column":6},"end":{"line":32,"column":18}},"object":{"type":"Identifier","start":994,"end":1000,"loc":{"start":{"line":32,"column":6},"end":{"line":32,"column":12}},"name":"logger"},"property":{"type":"Identifier","start":1001,"end":1006,"loc":{"start":{"line":32,"column":13},"end":{"line":32,"column":18}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":1007,"end":1010,"loc":{"start":{"line":32,"column":19},"end":{"line":32,"column":22}},"name":"err"},{"type":"Literal","start":1012,"end":1039,"loc":{"start":{"line":32,"column":24},"end":{"line":32,"column":51}},"value":"controller.url.meta.error","raw":"'controller.url.meta.error'"},{"type":"MemberExpression","start":1041,"end":1047,"loc":{"start":{"line":32,"column":53},"end":{"line":32,"column":59}},"object":{"type":"Identifier","start":1041,"end":1044,"loc":{"start":{"line":32,"column":53},"end":{"line":32,"column":56}},"name":"req"},"property":{"type":"Identifier","start":1045,"end":1047,"loc":{"start":{"line":32,"column":57},"end":{"line":32,"column":59}},"name":"id"},"computed":false}]}},{"type":"ReturnStatement","start":1055,"end":1098,"loc":{"start":{"line":33,"column":6},"end":{"line":33,"column":49}},"argument":{"type":"CallExpression","start":1062,"end":1098,"loc":{"start":{"line":33,"column":13},"end":{"line":33,"column":49}},"callee":{"type":"MemberExpression","start":1062,"end":1082,"loc":{"start":{"line":33,"column":13},"end":{"line":33,"column":33}},"object":{"type":"CallExpression","start":1062,"end":1077,"loc":{"start":{"line":33,"column":13},"end":{"line":33,"column":28}},"callee":{"type":"MemberExpression","start":1062,"end":1072,"loc":{"start":{"line":33,"column":13},"end":{"line":33,"column":23}},"object":{"type":"Identifier","start":1062,"end":1065,"loc":{"start":{"line":33,"column":13},"end":{"line":33,"column":16}},"name":"res"},"property":{"type":"Identifier","start":1066,"end":1072,"loc":{"start":{"line":33,"column":17},"end":{"line":33,"column":23}},"name":"status"},"computed":false},"arguments":[{"type":"Literal","start":1073,"end":1076,"loc":{"start":{"line":33,"column":24},"end":{"line":33,"column":27}},"value":500,"raw":"500"}]},"property":{"type":"Identifier","start":1078,"end":1082,"loc":{"start":{"line":33,"column":29},"end":{"line":33,"column":33}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1083,"end":1097,"loc":{"start":{"line":33,"column":34},"end":{"line":33,"column":48}},"properties":[{"type":"Property","start":1085,"end":1095,"loc":{"start":{"line":33,"column":36},"end":{"line":33,"column":46}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1085,"end":1090,"loc":{"start":{"line":33,"column":36},"end":{"line":33,"column":41}},"name":"error"},"value":{"type":"Identifier","start":1092,"end":1095,"loc":{"start":{"line":33,"column":43},"end":{"line":33,"column":46}},"name":"err"},"kind":"init"}]}]}}]}}]}}]}}}],"kind":"const","comments":[{"type":"Block","value":"*\n * Fteches the size and content type of a URL\n *\n * @param {object} req expressJS request object\n * @param {object} res expressJS response object\n ","start":392,"end":545,"loc":{"start":{"line":15,"column":0},"end":{"line":20,"column":3}}}]},{"type":"VariableDeclaration","start":1343,"end":2653,"loc":{"start":{"line":44,"column":0},"end":{"line":77,"column":1}},"declarations":[{"type":"VariableDeclarator","start":1349,"end":2653,"loc":{"start":{"line":44,"column":6},"end":{"line":77,"column":1}},"id":{"type":"Identifier","start":1349,"end":1352,"loc":{"start":{"line":44,"column":6},"end":{"line":44,"column":9}},"name":"get"},"init":{"type":"ArrowFunctionExpression","start":1355,"end":2653,"loc":{"start":{"line":44,"column":12},"end":{"line":77,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1356,"end":1359,"loc":{"start":{"line":44,"column":13},"end":{"line":44,"column":16}},"name":"req"},{"type":"Identifier","start":1361,"end":1364,"loc":{"start":{"line":44,"column":18},"end":{"line":44,"column":21}},"name":"res"}],"body":{"type":"BlockStatement","start":1369,"end":2653,"loc":{"start":{"line":44,"column":26},"end":{"line":77,"column":1}},"body":[{"type":"ExpressionStatement","start":1373,"end":1434,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":63}},"expression":{"type":"CallExpression","start":1373,"end":1434,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":63}},"callee":{"type":"MemberExpression","start":1373,"end":1385,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":14}},"object":{"type":"Identifier","start":1373,"end":1379,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":8}},"name":"logger"},"property":{"type":"Identifier","start":1380,"end":1385,"loc":{"start":{"line":45,"column":9},"end":{"line":45,"column":14}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":1386,"end":1419,"loc":{"start":{"line":45,"column":15},"end":{"line":45,"column":48}},"value":"URL file import handler running","raw":"'URL file import handler running'"},{"type":"Literal","start":1421,"end":1425,"loc":{"start":{"line":45,"column":50},"end":{"line":45,"column":54}},"value":null,"raw":"null"},{"type":"MemberExpression","start":1427,"end":1433,"loc":{"start":{"line":45,"column":56},"end":{"line":45,"column":62}},"object":{"type":"Identifier","start":1427,"end":1430,"loc":{"start":{"line":45,"column":56},"end":{"line":45,"column":59}},"name":"req"},"property":{"type":"Identifier","start":1431,"end":1433,"loc":{"start":{"line":45,"column":60},"end":{"line":45,"column":62}},"name":"id"},"computed":false}]}},{"type":"VariableDeclaration","start":1437,"end":1478,"loc":{"start":{"line":46,"column":2},"end":{"line":46,"column":43}},"declarations":[{"type":"VariableDeclarator","start":1443,"end":1478,"loc":{"start":{"line":46,"column":8},"end":{"line":46,"column":43}},"id":{"type":"Identifier","start":1443,"end":1448,"loc":{"start":{"line":46,"column":8},"end":{"line":46,"column":13}},"name":"debug"},"init":{"type":"MemberExpression","start":1451,"end":1478,"loc":{"start":{"line":46,"column":16},"end":{"line":46,"column":43}},"object":{"type":"MemberExpression","start":1451,"end":1472,"loc":{"start":{"line":46,"column":16},"end":{"line":46,"column":37}},"object":{"type":"MemberExpression","start":1451,"end":1464,"loc":{"start":{"line":46,"column":16},"end":{"line":46,"column":29}},"object":{"type":"Identifier","start":1451,"end":1454,"loc":{"start":{"line":46,"column":16},"end":{"line":46,"column":19}},"name":"req"},"property":{"type":"Identifier","start":1455,"end":1464,"loc":{"start":{"line":46,"column":20},"end":{"line":46,"column":29}},"name":"companion"},"computed":false},"property":{"type":"Identifier","start":1465,"end":1472,"loc":{"start":{"line":46,"column":30},"end":{"line":46,"column":37}},"name":"options"},"computed":false},"property":{"type":"Identifier","start":1473,"end":1478,"loc":{"start":{"line":46,"column":38},"end":{"line":46,"column":43}},"name":"debug"},"computed":false}}],"kind":"const"},{"type":"IfStatement","start":1481,"end":1685,"loc":{"start":{"line":47,"column":2},"end":{"line":50,"column":3}},"test":{"type":"UnaryExpression","start":1485,"end":1518,"loc":{"start":{"line":47,"column":6},"end":{"line":47,"column":39}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1486,"end":1518,"loc":{"start":{"line":47,"column":7},"end":{"line":47,"column":39}},"callee":{"type":"Identifier","start":1486,"end":1497,"loc":{"start":{"line":47,"column":7},"end":{"line":47,"column":18}},"name":"validateURL"},"arguments":[{"type":"MemberExpression","start":1498,"end":1510,"loc":{"start":{"line":47,"column":19},"end":{"line":47,"column":31}},"object":{"type":"MemberExpression","start":1498,"end":1506,"loc":{"start":{"line":47,"column":19},"end":{"line":47,"column":27}},"object":{"type":"Identifier","start":1498,"end":1501,"loc":{"start":{"line":47,"column":19},"end":{"line":47,"column":22}},"name":"req"},"property":{"type":"Identifier","start":1502,"end":1506,"loc":{"start":{"line":47,"column":23},"end":{"line":47,"column":27}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":1507,"end":1510,"loc":{"start":{"line":47,"column":28},"end":{"line":47,"column":31}},"name":"url"},"computed":false},{"type":"Identifier","start":1512,"end":1517,"loc":{"start":{"line":47,"column":33},"end":{"line":47,"column":38}},"name":"debug"}]}},"consequent":{"type":"BlockStatement","start":1520,"end":1685,"loc":{"start":{"line":47,"column":41},"end":{"line":50,"column":3}},"body":[{"type":"ExpressionStatement","start":1526,"end":1614,"loc":{"start":{"line":48,"column":4},"end":{"line":48,"column":92}},"expression":{"type":"CallExpression","start":1526,"end":1614,"loc":{"start":{"line":48,"column":4},"end":{"line":48,"column":92}},"callee":{"type":"MemberExpression","start":1526,"end":1538,"loc":{"start":{"line":48,"column":4},"end":{"line":48,"column":16}},"object":{"type":"Identifier","start":1526,"end":1532,"loc":{"start":{"line":48,"column":4},"end":{"line":48,"column":10}},"name":"logger"},"property":{"type":"Identifier","start":1533,"end":1538,"loc":{"start":{"line":48,"column":11},"end":{"line":48,"column":16}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":1539,"end":1599,"loc":{"start":{"line":48,"column":17},"end":{"line":48,"column":77}},"value":"Invalid request body detected. Exiting url import handler.","raw":"'Invalid request body detected. Exiting url import handler.'"},{"type":"Literal","start":1601,"end":1605,"loc":{"start":{"line":48,"column":79},"end":{"line":48,"column":83}},"value":null,"raw":"null"},{"type":"MemberExpression","start":1607,"end":1613,"loc":{"start":{"line":48,"column":85},"end":{"line":48,"column":91}},"object":{"type":"Identifier","start":1607,"end":1610,"loc":{"start":{"line":48,"column":85},"end":{"line":48,"column":88}},"name":"req"},"property":{"type":"Identifier","start":1611,"end":1613,"loc":{"start":{"line":48,"column":89},"end":{"line":48,"column":91}},"name":"id"},"computed":false}]}},{"type":"ReturnStatement","start":1619,"end":1681,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":66}},"argument":{"type":"CallExpression","start":1626,"end":1681,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":66}},"callee":{"type":"MemberExpression","start":1626,"end":1646,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":31}},"object":{"type":"CallExpression","start":1626,"end":1641,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":26}},"callee":{"type":"MemberExpression","start":1626,"end":1636,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":21}},"object":{"type":"Identifier","start":1626,"end":1629,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":14}},"name":"res"},"property":{"type":"Identifier","start":1630,"end":1636,"loc":{"start":{"line":49,"column":15},"end":{"line":49,"column":21}},"name":"status"},"computed":false},"arguments":[{"type":"Literal","start":1637,"end":1640,"loc":{"start":{"line":49,"column":22},"end":{"line":49,"column":25}},"value":400,"raw":"400"}]},"property":{"type":"Identifier","start":1642,"end":1646,"loc":{"start":{"line":49,"column":27},"end":{"line":49,"column":31}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1647,"end":1680,"loc":{"start":{"line":49,"column":32},"end":{"line":49,"column":65}},"properties":[{"type":"Property","start":1649,"end":1678,"loc":{"start":{"line":49,"column":34},"end":{"line":49,"column":63}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1649,"end":1654,"loc":{"start":{"line":49,"column":34},"end":{"line":49,"column":39}},"name":"error"},"value":{"type":"Literal","start":1656,"end":1678,"loc":{"start":{"line":49,"column":41},"end":{"line":49,"column":63}},"value":"Invalid request body","raw":"'Invalid request body'"},"kind":"init"}]}]}}]},"alternate":null},{"type":"ExpressionStatement","start":1689,"end":2651,"loc":{"start":{"line":52,"column":2},"end":{"line":76,"column":6}},"expression":{"type":"CallExpression","start":1689,"end":2651,"loc":{"start":{"line":52,"column":2},"end":{"line":76,"column":6}},"callee":{"type":"MemberExpression","start":1689,"end":2496,"loc":{"start":{"line":52,"column":2},"end":{"line":72,"column":12}},"object":{"type":"CallExpression","start":1689,"end":2490,"loc":{"start":{"line":52,"column":2},"end":{"line":72,"column":6}},"callee":{"type":"MemberExpression","start":1689,"end":1729,"loc":{"start":{"line":52,"column":2},"end":{"line":53,"column":9}},"object":{"type":"CallExpression","start":1689,"end":1719,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":32}},"callee":{"type":"MemberExpression","start":1689,"end":1705,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":18}},"object":{"type":"Identifier","start":1689,"end":1694,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":7}},"name":"utils"},"property":{"type":"Identifier","start":1695,"end":1705,"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":18}},"name":"getURLMeta"},"computed":false},"arguments":[{"type":"MemberExpression","start":1706,"end":1718,"loc":{"start":{"line":52,"column":19},"end":{"line":52,"column":31}},"object":{"type":"MemberExpression","start":1706,"end":1714,"loc":{"start":{"line":52,"column":19},"end":{"line":52,"column":27}},"object":{"type":"Identifier","start":1706,"end":1709,"loc":{"start":{"line":52,"column":19},"end":{"line":52,"column":22}},"name":"req"},"property":{"type":"Identifier","start":1710,"end":1714,"loc":{"start":{"line":52,"column":23},"end":{"line":52,"column":27}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":1715,"end":1718,"loc":{"start":{"line":52,"column":28},"end":{"line":52,"column":31}},"name":"url"},"computed":false}]},"property":{"type":"Identifier","start":1725,"end":1729,"loc":{"start":{"line":53,"column":5},"end":{"line":53,"column":9}},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1730,"end":2489,"loc":{"start":{"line":53,"column":10},"end":{"line":72,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":1731,"end":1739,"loc":{"start":{"line":53,"column":11},"end":{"line":53,"column":19}},"properties":[{"type":"Property","start":1733,"end":1737,"loc":{"start":{"line":53,"column":13},"end":{"line":53,"column":17}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1733,"end":1737,"loc":{"start":{"line":53,"column":13},"end":{"line":53,"column":17}},"name":"size"},"kind":"init","value":{"type":"Identifier","start":1733,"end":1737,"loc":{"start":{"line":53,"column":13},"end":{"line":53,"column":17}},"name":"size"}}]}],"body":{"type":"BlockStatement","start":1744,"end":2489,"loc":{"start":{"line":53,"column":24},"end":{"line":72,"column":5}},"body":[{"type":"ExpressionStatement","start":1772,"end":1825,"loc":{"start":{"line":55,"column":6},"end":{"line":55,"column":59}},"expression":{"type":"CallExpression","start":1772,"end":1825,"loc":{"start":{"line":55,"column":6},"end":{"line":55,"column":59}},"callee":{"type":"MemberExpression","start":1772,"end":1784,"loc":{"start":{"line":55,"column":6},"end":{"line":55,"column":18}},"object":{"type":"Identifier","start":1772,"end":1778,"loc":{"start":{"line":55,"column":6},"end":{"line":55,"column":12}},"name":"logger"},"property":{"type":"Identifier","start":1779,"end":1784,"loc":{"start":{"line":55,"column":13},"end":{"line":55,"column":18}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":1785,"end":1810,"loc":{"start":{"line":55,"column":19},"end":{"line":55,"column":44}},"value":"Instantiating uploader.","raw":"'Instantiating uploader.'"},{"type":"Literal","start":1812,"end":1816,"loc":{"start":{"line":55,"column":46},"end":{"line":55,"column":50}},"value":null,"raw":"null"},{"type":"MemberExpression","start":1818,"end":1824,"loc":{"start":{"line":55,"column":52},"end":{"line":55,"column":58}},"object":{"type":"Identifier","start":1818,"end":1821,"loc":{"start":{"line":55,"column":52},"end":{"line":55,"column":55}},"name":"req"},"property":{"type":"Identifier","start":1822,"end":1824,"loc":{"start":{"line":55,"column":56},"end":{"line":55,"column":58}},"name":"id"},"computed":false}]},"comments":[{"type":"Line","value":" @ts-ignore","start":1752,"end":1765,"loc":{"start":{"line":54,"column":6},"end":{"line":54,"column":19}}}]},{"type":"VariableDeclaration","start":1832,"end":1895,"loc":{"start":{"line":56,"column":6},"end":{"line":56,"column":69}},"declarations":[{"type":"VariableDeclarator","start":1838,"end":1895,"loc":{"start":{"line":56,"column":12},"end":{"line":56,"column":69}},"id":{"type":"Identifier","start":1838,"end":1846,"loc":{"start":{"line":56,"column":12},"end":{"line":56,"column":20}},"name":"uploader"},"init":{"type":"NewExpression","start":1849,"end":1895,"loc":{"start":{"line":56,"column":23},"end":{"line":56,"column":69}},"callee":{"type":"Identifier","start":1853,"end":1861,"loc":{"start":{"line":56,"column":27},"end":{"line":56,"column":35}},"name":"Uploader"},"arguments":[{"type":"CallExpression","start":1862,"end":1894,"loc":{"start":{"line":56,"column":36},"end":{"line":56,"column":68}},"callee":{"type":"MemberExpression","start":1862,"end":1883,"loc":{"start":{"line":56,"column":36},"end":{"line":56,"column":57}},"object":{"type":"Identifier","start":1862,"end":1870,"loc":{"start":{"line":56,"column":36},"end":{"line":56,"column":44}},"name":"Uploader"},"property":{"type":"Identifier","start":1871,"end":1883,"loc":{"start":{"line":56,"column":45},"end":{"line":56,"column":57}},"name":"reqToOptions"},"computed":false},"arguments":[{"type":"Identifier","start":1884,"end":1887,"loc":{"start":{"line":56,"column":58},"end":{"line":56,"column":61}},"name":"req"},{"type":"Identifier","start":1889,"end":1893,"loc":{"start":{"line":56,"column":63},"end":{"line":56,"column":67}},"name":"size"}]}]}}],"kind":"const"},{"type":"IfStatement","start":1903,"end":2056,"loc":{"start":{"line":58,"column":6},"end":{"line":62,"column":7}},"test":{"type":"CallExpression","start":1907,"end":1926,"loc":{"start":{"line":58,"column":10},"end":{"line":58,"column":29}},"callee":{"type":"MemberExpression","start":1907,"end":1924,"loc":{"start":{"line":58,"column":10},"end":{"line":58,"column":27}},"object":{"type":"Identifier","start":1907,"end":1915,"loc":{"start":{"line":58,"column":10},"end":{"line":58,"column":18}},"name":"uploader"},"property":{"type":"Identifier","start":1916,"end":1924,"loc":{"start":{"line":58,"column":19},"end":{"line":58,"column":27}},"name":"hasError"},"computed":false},"arguments":[]},"consequent":{"type":"BlockStatement","start":1928,"end":2056,"loc":{"start":{"line":58,"column":31},"end":{"line":62,"column":7}},"body":[{"type":"VariableDeclaration","start":1938,"end":1977,"loc":{"start":{"line":59,"column":8},"end":{"line":59,"column":47}},"declarations":[{"type":"VariableDeclarator","start":1944,"end":1977,"loc":{"start":{"line":59,"column":14},"end":{"line":59,"column":47}},"id":{"type":"Identifier","start":1944,"end":1952,"loc":{"start":{"line":59,"column":14},"end":{"line":59,"column":22}},"name":"response"},"init":{"type":"CallExpression","start":1955,"end":1977,"loc":{"start":{"line":59,"column":25},"end":{"line":59,"column":47}},"callee":{"type":"MemberExpression","start":1955,"end":1975,"loc":{"start":{"line":59,"column":25},"end":{"line":59,"column":45}},"object":{"type":"Identifier","start":1955,"end":1963,"loc":{"start":{"line":59,"column":25},"end":{"line":59,"column":33}},"name":"uploader"},"property":{"type":"Identifier","start":1964,"end":1975,"loc":{"start":{"line":59,"column":34},"end":{"line":59,"column":45}},"name":"getResponse"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":1986,"end":2033,"loc":{"start":{"line":60,"column":8},"end":{"line":60,"column":55}},"expression":{"type":"CallExpression","start":1986,"end":2033,"loc":{"start":{"line":60,"column":8},"end":{"line":60,"column":55}},"callee":{"type":"MemberExpression","start":1986,"end":2018,"loc":{"start":{"line":60,"column":8},"end":{"line":60,"column":40}},"object":{"type":"CallExpression","start":1986,"end":2013,"loc":{"start":{"line":60,"column":8},"end":{"line":60,"column":35}},"callee":{"type":"MemberExpression","start":1986,"end":1996,"loc":{"start":{"line":60,"column":8},"end":{"line":60,"column":18}},"object":{"type":"Identifier","start":1986,"end":1989,"loc":{"start":{"line":60,"column":8},"end":{"line":60,"column":11}},"name":"res"},"property":{"type":"Identifier","start":1990,"end":1996,"loc":{"start":{"line":60,"column":12},"end":{"line":60,"column":18}},"name":"status"},"computed":false},"arguments":[{"type":"MemberExpression","start":1997,"end":2012,"loc":{"start":{"line":60,"column":19},"end":{"line":60,"column":34}},"object":{"type":"Identifier","start":1997,"end":2005,"loc":{"start":{"line":60,"column":19},"end":{"line":60,"column":27}},"name":"response"},"property":{"type":"Identifier","start":2006,"end":2012,"loc":{"start":{"line":60,"column":28},"end":{"line":60,"column":34}},"name":"status"},"computed":false}]},"property":{"type":"Identifier","start":2014,"end":2018,"loc":{"start":{"line":60,"column":36},"end":{"line":60,"column":40}},"name":"json"},"computed":false},"arguments":[{"type":"MemberExpression","start":2019,"end":2032,"loc":{"start":{"line":60,"column":41},"end":{"line":60,"column":54}},"object":{"type":"Identifier","start":2019,"end":2027,"loc":{"start":{"line":60,"column":41},"end":{"line":60,"column":49}},"name":"response"},"property":{"type":"Identifier","start":2028,"end":2032,"loc":{"start":{"line":60,"column":50},"end":{"line":60,"column":54}},"name":"body"},"computed":false}]}},{"type":"ReturnStatement","start":2042,"end":2048,"loc":{"start":{"line":61,"column":8},"end":{"line":61,"column":14}},"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":2064,"end":2157,"loc":{"start":{"line":64,"column":6},"end":{"line":64,"column":99}},"expression":{"type":"CallExpression","start":2064,"end":2157,"loc":{"start":{"line":64,"column":6},"end":{"line":64,"column":99}},"callee":{"type":"MemberExpression","start":2064,"end":2076,"loc":{"start":{"line":64,"column":6},"end":{"line":64,"column":18}},"object":{"type":"Identifier","start":2064,"end":2070,"loc":{"start":{"line":64,"column":6},"end":{"line":64,"column":12}},"name":"logger"},"property":{"type":"Identifier","start":2071,"end":2076,"loc":{"start":{"line":64,"column":13},"end":{"line":64,"column":18}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":2077,"end":2142,"loc":{"start":{"line":64,"column":19},"end":{"line":64,"column":84}},"value":"Waiting for socket connection before beginning remote download.","raw":"'Waiting for socket connection before beginning remote download.'"},{"type":"Literal","start":2144,"end":2148,"loc":{"start":{"line":64,"column":86},"end":{"line":64,"column":90}},"value":null,"raw":"null"},{"type":"MemberExpression","start":2150,"end":2156,"loc":{"start":{"line":64,"column":92},"end":{"line":64,"column":98}},"object":{"type":"Identifier","start":2150,"end":2153,"loc":{"start":{"line":64,"column":92},"end":{"line":64,"column":95}},"name":"req"},"property":{"type":"Identifier","start":2154,"end":2156,"loc":{"start":{"line":64,"column":96},"end":{"line":64,"column":98}},"name":"id"},"computed":false}]}},{"type":"ExpressionStatement","start":2164,"end":2382,"loc":{"start":{"line":65,"column":6},"end":{"line":68,"column":8}},"expression":{"type":"CallExpression","start":2164,"end":2382,"loc":{"start":{"line":65,"column":6},"end":{"line":68,"column":8}},"callee":{"type":"MemberExpression","start":2164,"end":2186,"loc":{"start":{"line":65,"column":6},"end":{"line":65,"column":28}},"object":{"type":"Identifier","start":2164,"end":2172,"loc":{"start":{"line":65,"column":6},"end":{"line":65,"column":14}},"name":"uploader"},"property":{"type":"Identifier","start":2173,"end":2186,"loc":{"start":{"line":65,"column":15},"end":{"line":65,"column":28}},"name":"onSocketReady"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2187,"end":2381,"loc":{"start":{"line":65,"column":29},"end":{"line":68,"column":7}},"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2193,"end":2381,"loc":{"start":{"line":65,"column":35},"end":{"line":68,"column":7}},"body":[{"type":"ExpressionStatement","start":2203,"end":2286,"loc":{"start":{"line":66,"column":8},"end":{"line":66,"column":91}},"expression":{"type":"CallExpression","start":2203,"end":2286,"loc":{"start":{"line":66,"column":8},"end":{"line":66,"column":91}},"callee":{"type":"MemberExpression","start":2203,"end":2215,"loc":{"start":{"line":66,"column":8},"end":{"line":66,"column":20}},"object":{"type":"Identifier","start":2203,"end":2209,"loc":{"start":{"line":66,"column":8},"end":{"line":66,"column":14}},"name":"logger"},"property":{"type":"Identifier","start":2210,"end":2215,"loc":{"start":{"line":66,"column":15},"end":{"line":66,"column":20}},"name":"debug"},"computed":false},"arguments":[{"type":"Literal","start":2216,"end":2271,"loc":{"start":{"line":66,"column":21},"end":{"line":66,"column":76}},"value":"Socket connection received. Starting remote download.","raw":"'Socket connection received. Starting remote download.'"},{"type":"Literal","start":2273,"end":2277,"loc":{"start":{"line":66,"column":78},"end":{"line":66,"column":82}},"value":null,"raw":"null"},{"type":"MemberExpression","start":2279,"end":2285,"loc":{"start":{"line":66,"column":84},"end":{"line":66,"column":90}},"object":{"type":"Identifier","start":2279,"end":2282,"loc":{"start":{"line":66,"column":84},"end":{"line":66,"column":87}},"name":"req"},"property":{"type":"Identifier","start":2283,"end":2285,"loc":{"start":{"line":66,"column":88},"end":{"line":66,"column":90}},"name":"id"},"computed":false}]}},{"type":"ExpressionStatement","start":2295,"end":2373,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":86}},"expression":{"type":"CallExpression","start":2295,"end":2373,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":86}},"callee":{"type":"Identifier","start":2295,"end":2306,"loc":{"start":{"line":67,"column":8},"end":{"line":67,"column":19}},"name":"downloadURL"},"arguments":[{"type":"MemberExpression","start":2307,"end":2319,"loc":{"start":{"line":67,"column":20},"end":{"line":67,"column":32}},"object":{"type":"MemberExpression","start":2307,"end":2315,"loc":{"start":{"line":67,"column":20},"end":{"line":67,"column":28}},"object":{"type":"Identifier","start":2307,"end":2310,"loc":{"start":{"line":67,"column":20},"end":{"line":67,"column":23}},"name":"req"},"property":{"type":"Identifier","start":2311,"end":2315,"loc":{"start":{"line":67,"column":24},"end":{"line":67,"column":28}},"name":"body"},"computed":false},"property":{"type":"Identifier","start":2316,"end":2319,"loc":{"start":{"line":67,"column":29},"end":{"line":67,"column":32}},"name":"url"},"computed":false},{"type":"CallExpression","start":2321,"end":2356,"loc":{"start":{"line":67,"column":34},"end":{"line":67,"column":69}},"callee":{"type":"MemberExpression","start":2321,"end":2346,"loc":{"start":{"line":67,"column":34},"end":{"line":67,"column":59}},"object":{"type":"MemberExpression","start":2321,"end":2341,"loc":{"start":{"line":67,"column":34},"end":{"line":67,"column":54}},"object":{"type":"Identifier","start":2321,"end":2329,"loc":{"start":{"line":67,"column":34},"end":{"line":67,"column":42}},"name":"uploader"},"property":{"type":"Identifier","start":2330,"end":2341,"loc":{"start":{"line":67,"column":43},"end":{"line":67,"column":54}},"name":"handleChunk"},"computed":false},"property":{"type":"Identifier","start":2342,"end":2346,"loc":{"start":{"line":67,"column":55},"end":{"line":67,"column":59}},"name":"bind"},"computed":false},"arguments":[{"type":"Identifier","start":2347,"end":2355,"loc":{"start":{"line":67,"column":60},"end":{"line":67,"column":68}},"name":"uploader"}]},{"type":"UnaryExpression","start":2358,"end":2364,"loc":{"start":{"line":67,"column":71},"end":{"line":67,"column":77}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2359,"end":2364,"loc":{"start":{"line":67,"column":72},"end":{"line":67,"column":77}},"name":"debug"}},{"type":"MemberExpression","start":2366,"end":2372,"loc":{"start":{"line":67,"column":79},"end":{"line":67,"column":85}},"object":{"type":"Identifier","start":2366,"end":2369,"loc":{"start":{"line":67,"column":79},"end":{"line":67,"column":82}},"name":"req"},"property":{"type":"Identifier","start":2370,"end":2372,"loc":{"start":{"line":67,"column":83},"end":{"line":67,"column":85}},"name":"id"},"computed":false}]}}]}}]}},{"type":"VariableDeclaration","start":2390,"end":2429,"loc":{"start":{"line":70,"column":6},"end":{"line":70,"column":45}},"declarations":[{"type":"VariableDeclarator","start":2396,"end":2429,"loc":{"start":{"line":70,"column":12},"end":{"line":70,"column":45}},"id":{"type":"Identifier","start":2396,"end":2404,"loc":{"start":{"line":70,"column":12},"end":{"line":70,"column":20}},"name":"response"},"init":{"type":"CallExpression","start":2407,"end":2429,"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":45}},"callee":{"type":"MemberExpression","start":2407,"end":2427,"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":43}},"object":{"type":"Identifier","start":2407,"end":2415,"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":31}},"name":"uploader"},"property":{"type":"Identifier","start":2416,"end":2427,"loc":{"start":{"line":70,"column":32},"end":{"line":70,"column":43}},"name":"getResponse"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":2436,"end":2483,"loc":{"start":{"line":71,"column":6},"end":{"line":71,"column":53}},"expression":{"type":"CallExpression","start":2436,"end":2483,"loc":{"start":{"line":71,"column":6},"end":{"line":71,"column":53}},"callee":{"type":"MemberExpression","start":2436,"end":2468,"loc":{"start":{"line":71,"column":6},"end":{"line":71,"column":38}},"object":{"type":"CallExpression","start":2436,"end":2463,"loc":{"start":{"line":71,"column":6},"end":{"line":71,"column":33}},"callee":{"type":"MemberExpression","start":2436,"end":2446,"loc":{"start":{"line":71,"column":6},"end":{"line":71,"column":16}},"object":{"type":"Identifier","start":2436,"end":2439,"loc":{"start":{"line":71,"column":6},"end":{"line":71,"column":9}},"name":"res"},"property":{"type":"Identifier","start":2440,"end":2446,"loc":{"start":{"line":71,"column":10},"end":{"line":71,"column":16}},"name":"status"},"computed":false},"arguments":[{"type":"MemberExpression","start":2447,"end":2462,"loc":{"start":{"line":71,"column":17},"end":{"line":71,"column":32}},"object":{"type":"Identifier","start":2447,"end":2455,"loc":{"start":{"line":71,"column":17},"end":{"line":71,"column":25}},"name":"response"},"property":{"type":"Identifier","start":2456,"end":2462,"loc":{"start":{"line":71,"column":26},"end":{"line":71,"column":32}},"name":"status"},"computed":false}]},"property":{"type":"Identifier","start":2464,"end":2468,"loc":{"start":{"line":71,"column":34},"end":{"line":71,"column":38}},"name":"json"},"computed":false},"arguments":[{"type":"MemberExpression","start":2469,"end":2482,"loc":{"start":{"line":71,"column":39},"end":{"line":71,"column":52}},"object":{"type":"Identifier","start":2469,"end":2477,"loc":{"start":{"line":71,"column":39},"end":{"line":71,"column":47}},"name":"response"},"property":{"type":"Identifier","start":2478,"end":2482,"loc":{"start":{"line":71,"column":48},"end":{"line":71,"column":52}},"name":"body"},"computed":false}]}}]}}]},"property":{"type":"Identifier","start":2491,"end":2496,"loc":{"start":{"line":72,"column":7},"end":{"line":72,"column":12}},"name":"catch"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":2497,"end":2650,"loc":{"start":{"line":72,"column":13},"end":{"line":76,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2498,"end":2501,"loc":{"start":{"line":72,"column":14},"end":{"line":72,"column":17}},"name":"err"}],"body":{"type":"BlockStatement","start":2506,"end":2650,"loc":{"start":{"line":72,"column":22},"end":{"line":76,"column":5}},"body":[{"type":"ExpressionStatement","start":2514,"end":2567,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":59}},"expression":{"type":"CallExpression","start":2514,"end":2567,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":59}},"callee":{"type":"MemberExpression","start":2514,"end":2526,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":18}},"object":{"type":"Identifier","start":2514,"end":2520,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":12}},"name":"logger"},"property":{"type":"Identifier","start":2521,"end":2526,"loc":{"start":{"line":73,"column":13},"end":{"line":73,"column":18}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":2527,"end":2530,"loc":{"start":{"line":73,"column":19},"end":{"line":73,"column":22}},"name":"err"},{"type":"Literal","start":2532,"end":2558,"loc":{"start":{"line":73,"column":24},"end":{"line":73,"column":50}},"value":"controller.url.get.error","raw":"'controller.url.get.error'"},{"type":"MemberExpression","start":2560,"end":2566,"loc":{"start":{"line":73,"column":52},"end":{"line":73,"column":58}},"object":{"type":"Identifier","start":2560,"end":2563,"loc":{"start":{"line":73,"column":52},"end":{"line":73,"column":55}},"name":"req"},"property":{"type":"Identifier","start":2564,"end":2566,"loc":{"start":{"line":73,"column":56},"end":{"line":73,"column":58}},"name":"id"},"computed":false}]}},{"type":"ExpressionStatement","start":2627,"end":2644,"loc":{"start":{"line":75,"column":6},"end":{"line":75,"column":23}},"expression":{"type":"CallExpression","start":2627,"end":2644,"loc":{"start":{"line":75,"column":6},"end":{"line":75,"column":23}},"callee":{"type":"MemberExpression","start":2627,"end":2635,"loc":{"start":{"line":75,"column":6},"end":{"line":75,"column":14}},"object":{"type":"Identifier","start":2627,"end":2630,"loc":{"start":{"line":75,"column":6},"end":{"line":75,"column":9}},"name":"res"},"property":{"type":"Identifier","start":2631,"end":2635,"loc":{"start":{"line":75,"column":10},"end":{"line":75,"column":14}},"name":"json"},"computed":false},"arguments":[{"type":"ObjectExpression","start":2636,"end":2643,"loc":{"start":{"line":75,"column":15},"end":{"line":75,"column":22}},"properties":[{"type":"Property","start":2638,"end":2641,"loc":{"start":{"line":75,"column":17},"end":{"line":75,"column":20}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":2638,"end":2641,"loc":{"start":{"line":75,"column":17},"end":{"line":75,"column":20}},"name":"err"},"kind":"init","value":{"type":"Identifier","start":2638,"end":2641,"loc":{"start":{"line":75,"column":17},"end":{"line":75,"column":20}},"name":"err"}}]}]},"comments":[{"type":"Line","value":" @todo this should send back error (not err)","start":2574,"end":2620,"loc":{"start":{"line":74,"column":6},"end":{"line":74,"column":52}}}]}]}}]}}]}}}],"kind":"const","comments":[{"type":"Block","value":"*\n * Handles the reques of import a file from a remote URL, and then\n * subsequently uploading it to the specified destination.\n *\n * @param {object} req expressJS request object\n * @param {object} res expressJS response object\n ","start":1109,"end":1342,"loc":{"start":{"line":37,"column":0},"end":{"line":43,"column":3}}}]},{"type":"VariableDeclaration","start":2821,"end":3056,"loc":{"start":{"line":84,"column":0},"end":{"line":95,"column":1}},"declarations":[{"type":"VariableDeclarator","start":2827,"end":3056,"loc":{"start":{"line":84,"column":6},"end":{"line":95,"column":1}},"id":{"type":"Identifier","start":2827,"end":2838,"loc":{"start":{"line":84,"column":6},"end":{"line":84,"column":17}},"name":"validateURL"},"init":{"type":"ArrowFunctionExpression","start":2841,"end":3056,"loc":{"start":{"line":84,"column":20},"end":{"line":95,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2842,"end":2845,"loc":{"start":{"line":84,"column":21},"end":{"line":84,"column":24}},"name":"url"},{"type":"Identifier","start":2847,"end":2852,"loc":{"start":{"line":84,"column":26},"end":{"line":84,"column":31}},"name":"debug"}],"body":{"type":"BlockStatement","start":2857,"end":3056,"loc":{"start":{"line":84,"column":36},"end":{"line":95,"column":1}},"body":[{"type":"VariableDeclaration","start":2861,"end":2973,"loc":{"start":{"line":85,"column":2},"end":{"line":89,"column":3}},"declarations":[{"type":"VariableDeclarator","start":2867,"end":2973,"loc":{"start":{"line":85,"column":8},"end":{"line":89,"column":3}},"id":{"type":"Identifier","start":2867,"end":2879,"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":20}},"name":"validURLOpts"},"init":{"type":"ObjectExpression","start":2882,"end":2973,"loc":{"start":{"line":85,"column":23},"end":{"line":89,"column":3}},"properties":[{"type":"Property","start":2888,"end":2916,"loc":{"start":{"line":86,"column":4},"end":{"line":86,"column":32}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2888,"end":2897,"loc":{"start":{"line":86,"column":4},"end":{"line":86,"column":13}},"name":"protocols"},"value":{"type":"ArrayExpression","start":2899,"end":2916,"loc":{"start":{"line":86,"column":15},"end":{"line":86,"column":32}},"elements":[{"type":"Literal","start":2900,"end":2906,"loc":{"start":{"line":86,"column":16},"end":{"line":86,"column":22}},"value":"http","raw":"'http'"},{"type":"Literal","start":2908,"end":2915,"loc":{"start":{"line":86,"column":24},"end":{"line":86,"column":31}},"value":"https","raw":"'https'"}]},"kind":"init"},{"type":"Property","start":2922,"end":2944,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":26}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2922,"end":2938,"loc":{"start":{"line":87,"column":4},"end":{"line":87,"column":20}},"name":"require_protocol"},"value":{"type":"Literal","start":2940,"end":2944,"loc":{"start":{"line":87,"column":22},"end":{"line":87,"column":26}},"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":2950,"end":2969,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":23}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2950,"end":2961,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":15}},"name":"require_tld"},"value":{"type":"UnaryExpression","start":2963,"end":2969,"loc":{"start":{"line":88,"column":17},"end":{"line":88,"column":23}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2964,"end":2969,"loc":{"start":{"line":88,"column":18},"end":{"line":88,"column":23}},"name":"debug"}},"kind":"init"}]}}],"kind":"const"},{"type":"IfStatement","start":2976,"end":3039,"loc":{"start":{"line":90,"column":2},"end":{"line":92,"column":3}},"test":{"type":"UnaryExpression","start":2980,"end":3015,"loc":{"start":{"line":90,"column":6},"end":{"line":90,"column":41}},"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":2981,"end":3015,"loc":{"start":{"line":90,"column":7},"end":{"line":90,"column":41}},"callee":{"type":"MemberExpression","start":2981,"end":2996,"loc":{"start":{"line":90,"column":7},"end":{"line":90,"column":22}},"object":{"type":"Identifier","start":2981,"end":2990,"loc":{"start":{"line":90,"column":7},"end":{"line":90,"column":16}},"name":"validator"},"property":{"type":"Identifier","start":2991,"end":2996,"loc":{"start":{"line":90,"column":17},"end":{"line":90,"column":22}},"name":"isURL"},"computed":false},"arguments":[{"type":"Identifier","start":2997,"end":3000,"loc":{"start":{"line":90,"column":23},"end":{"line":90,"column":26}},"name":"url"},{"type":"Identifier","start":3002,"end":3014,"loc":{"start":{"line":90,"column":28},"end":{"line":90,"column":40}},"name":"validURLOpts"}]}},"consequent":{"type":"BlockStatement","start":3017,"end":3039,"loc":{"start":{"line":90,"column":43},"end":{"line":92,"column":3}},"body":[{"type":"ReturnStatement","start":3023,"end":3035,"loc":{"start":{"line":91,"column":4},"end":{"line":91,"column":16}},"argument":{"type":"Literal","start":3030,"end":3035,"loc":{"start":{"line":91,"column":11},"end":{"line":91,"column":16}},"value":false,"raw":"false"}}]},"alternate":null},{"type":"ReturnStatement","start":3043,"end":3054,"loc":{"start":{"line":94,"column":2},"end":{"line":94,"column":13}},"argument":{"type":"Literal","start":3050,"end":3054,"loc":{"start":{"line":94,"column":9},"end":{"line":94,"column":13}},"value":true,"raw":"true"}}]}}}],"kind":"const","comments":[{"type":"Block","value":"*\n * Validates that the download URL is secure\n * @param {string} url the url to validate\n * @param {boolean} debug whether the server is running in debug mode\n ","start":2655,"end":2820,"loc":{"start":{"line":79,"column":0},"end":{"line":83,"column":3}}}]},{"type":"VariableDeclaration","start":3403,"end":3842,"loc":{"start":{"line":112,"column":0},"end":{"line":124,"column":1}},"declarations":[{"type":"VariableDeclarator","start":3409,"end":3842,"loc":{"start":{"line":112,"column":6},"end":{"line":124,"column":1}},"id":{"type":"Identifier","start":3409,"end":3420,"loc":{"start":{"line":112,"column":6},"end":{"line":112,"column":17}},"name":"downloadURL"},"init":{"type":"ArrowFunctionExpression","start":3423,"end":3842,"loc":{"start":{"line":112,"column":20},"end":{"line":124,"column":1}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3424,"end":3427,"loc":{"start":{"line":112,"column":21},"end":{"line":112,"column":24}},"name":"url"},{"type":"Identifier","start":3429,"end":3440,"loc":{"start":{"line":112,"column":26},"end":{"line":112,"column":37}},"name":"onDataChunk"},{"type":"Identifier","start":3442,"end":3455,"loc":{"start":{"line":112,"column":39},"end":{"line":112,"column":52}},"name":"blockLocalIPs"},{"type":"Identifier","start":3457,"end":3464,"loc":{"start":{"line":112,"column":54},"end":{"line":112,"column":61}},"name":"traceId"}],"body":{"type":"BlockStatement","start":3469,"end":3842,"loc":{"start":{"line":112,"column":66},"end":{"line":124,"column":1}},"body":[{"type":"VariableDeclaration","start":3473,"end":3637,"loc":{"start":{"line":113,"column":2},"end":{"line":118,"column":3}},"declarations":[{"type":"VariableDeclarator","start":3479,"end":3637,"loc":{"start":{"line":113,"column":8},"end":{"line":118,"column":3}},"id":{"type":"Identifier","start":3479,"end":3483,"loc":{"start":{"line":113,"column":8},"end":{"line":113,"column":12}},"name":"opts"},"init":{"type":"ObjectExpression","start":3486,"end":3637,"loc":{"start":{"line":113,"column":15},"end":{"line":118,"column":3}},"properties":[{"type":"Property","start":3492,"end":3500,"loc":{"start":{"line":114,"column":4},"end":{"line":114,"column":12}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3492,"end":3495,"loc":{"start":{"line":114,"column":4},"end":{"line":114,"column":7}},"name":"uri"},"value":{"type":"Identifier","start":3497,"end":3500,"loc":{"start":{"line":114,"column":9},"end":{"line":114,"column":12}},"name":"url"},"kind":"init"},{"type":"Property","start":3506,"end":3519,"loc":{"start":{"line":115,"column":4},"end":{"line":115,"column":17}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3506,"end":3512,"loc":{"start":{"line":115,"column":4},"end":{"line":115,"column":10}},"name":"method"},"value":{"type":"Literal","start":3514,"end":3519,"loc":{"start":{"line":115,"column":12},"end":{"line":115,"column":17}},"value":"GET","raw":"'GET'"},"kind":"init"},{"type":"Property","start":3525,"end":3549,"loc":{"start":{"line":116,"column":4},"end":{"line":116,"column":28}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3525,"end":3543,"loc":{"start":{"line":116,"column":4},"end":{"line":116,"column":22}},"name":"followAllRedirects"},"value":{"type":"Literal","start":3545,"end":3549,"loc":{"start":{"line":116,"column":24},"end":{"line":116,"column":28}},"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":3555,"end":3633,"loc":{"start":{"line":117,"column":4},"end":{"line":117,"column":82}},"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3555,"end":3565,"loc":{"start":{"line":117,"column":4},"end":{"line":117,"column":14}},"name":"agentClass"},"value":{"type":"CallExpression","start":3567,"end":3633,"loc":{"start":{"line":117,"column":16},"end":{"line":117,"column":82}},"callee":{"type":"Identifier","start":3567,"end":3588,"loc":{"start":{"line":117,"column":16},"end":{"line":117,"column":37}},"name":"getProtectedHttpAgent"},"arguments":[{"type":"MemberExpression","start":3589,"end":3617,"loc":{"start":{"line":117,"column":38},"end":{"line":117,"column":66}},"object":{"type":"CallExpression","start":3589,"end":3608,"loc":{"start":{"line":117,"column":38},"end":{"line":117,"column":57}},"callee":{"type":"MemberExpression","start":3589,"end":3603,"loc":{"start":{"line":117,"column":38},"end":{"line":117,"column":52}},"object":{"type":"Identifier","start":3589,"end":3594,"loc":{"start":{"line":117,"column":38},"end":{"line":117,"column":43}},"name":"utils"},"property":{"type":"Identifier","start":3595,"end":3603,"loc":{"start":{"line":117,"column":44},"end":{"line":117,"column":52}},"name":"parseURL"},"computed":false},"arguments":[{"type":"Identifier","start":3604,"end":3607,"loc":{"start":{"line":117,"column":53},"end":{"line":117,"column":56}},"name":"url"}]},"property":{"type":"Identifier","start":3609,"end":3617,"loc":{"start":{"line":117,"column":58},"end":{"line":117,"column":66}},"name":"protocol"},"computed":false},{"type":"Identifier","start":3619,"end":3632,"loc":{"start":{"line":117,"column":68},"end":{"line":117,"column":81}},"name":"blockLocalIPs"}]},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":3641,"end":3840,"loc":{"start":{"line":120,"column":2},"end":{"line":123,"column":86}},"expression":{"type":"CallExpression","start":3641,"end":3840,"loc":{"start":{"line":120,"column":2},"end":{"line":123,"column":86}},"callee":{"type":"MemberExpression","start":3641,"end":3761,"loc":{"start":{"line":120,"column":2},"end":{"line":123,"column":7}},"object":{"type":"CallExpression","start":3641,"end":3753,"loc":{"start":{"line":120,"column":2},"end":{"line":122,"column":45}},"callee":{"type":"MemberExpression","start":3641,"end":3715,"loc":{"start":{"line":120,"column":2},"end":{"line":122,"column":7}},"object":{"type":"CallExpression","start":3641,"end":3707,"loc":{"start":{"line":120,"column":2},"end":{"line":121,"column":52}},"callee":{"type":"MemberExpression","start":3641,"end":3662,"loc":{"start":{"line":120,"column":2},"end":{"line":121,"column":7}},"object":{"type":"CallExpression","start":3641,"end":3654,"loc":{"start":{"line":120,"column":2},"end":{"line":120,"column":15}},"callee":{"type":"Identifier","start":3641,"end":3648,"loc":{"start":{"line":120,"column":2},"end":{"line":120,"column":9}},"name":"request"},"arguments":[{"type":"Identifier","start":3649,"end":3653,"loc":{"start":{"line":120,"column":10},"end":{"line":120,"column":14}},"name":"opts"}]},"property":{"type":"Identifier","start":3660,"end":3662,"loc":{"start":{"line":121,"column":5},"end":{"line":121,"column":7}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3663,"end":3669,"loc":{"start":{"line":121,"column":8},"end":{"line":121,"column":14}},"value":"data","raw":"'data'"},{"type":"ArrowFunctionExpression","start":3671,"end":3706,"loc":{"start":{"line":121,"column":16},"end":{"line":121,"column":51}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3672,"end":3677,"loc":{"start":{"line":121,"column":17},"end":{"line":121,"column":22}},"name":"chunk"}],"body":{"type":"CallExpression","start":3682,"end":3706,"loc":{"start":{"line":121,"column":27},"end":{"line":121,"column":51}},"callee":{"type":"Identifier","start":3682,"end":3693,"loc":{"start":{"line":121,"column":27},"end":{"line":121,"column":38}},"name":"onDataChunk"},"arguments":[{"type":"Literal","start":3694,"end":3698,"loc":{"start":{"line":121,"column":39},"end":{"line":121,"column":43}},"value":null,"raw":"null"},{"type":"Identifier","start":3700,"end":3705,"loc":{"start":{"line":121,"column":45},"end":{"line":121,"column":50}},"name":"chunk"}]}}]},"property":{"type":"Identifier","start":3713,"end":3715,"loc":{"start":{"line":122,"column":5},"end":{"line":122,"column":7}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3716,"end":3721,"loc":{"start":{"line":122,"column":8},"end":{"line":122,"column":13}},"value":"end","raw":"'end'"},{"type":"ArrowFunctionExpression","start":3723,"end":3752,"loc":{"start":{"line":122,"column":15},"end":{"line":122,"column":44}},"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":3729,"end":3752,"loc":{"start":{"line":122,"column":21},"end":{"line":122,"column":44}},"callee":{"type":"Identifier","start":3729,"end":3740,"loc":{"start":{"line":122,"column":21},"end":{"line":122,"column":32}},"name":"onDataChunk"},"arguments":[{"type":"Literal","start":3741,"end":3745,"loc":{"start":{"line":122,"column":33},"end":{"line":122,"column":37}},"value":null,"raw":"null"},{"type":"Literal","start":3747,"end":3751,"loc":{"start":{"line":122,"column":39},"end":{"line":122,"column":43}},"value":null,"raw":"null"}]}}]},"property":{"type":"Identifier","start":3759,"end":3761,"loc":{"start":{"line":123,"column":5},"end":{"line":123,"column":7}},"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":3762,"end":3769,"loc":{"start":{"line":123,"column":8},"end":{"line":123,"column":15}},"value":"error","raw":"'error'"},{"type":"ArrowFunctionExpression","start":3771,"end":3839,"loc":{"start":{"line":123,"column":17},"end":{"line":123,"column":85}},"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3772,"end":3775,"loc":{"start":{"line":123,"column":18},"end":{"line":123,"column":21}},"name":"err"}],"body":{"type":"CallExpression","start":3780,"end":3839,"loc":{"start":{"line":123,"column":26},"end":{"line":123,"column":85}},"callee":{"type":"MemberExpression","start":3780,"end":3792,"loc":{"start":{"line":123,"column":26},"end":{"line":123,"column":38}},"object":{"type":"Identifier","start":3780,"end":3786,"loc":{"start":{"line":123,"column":26},"end":{"line":123,"column":32}},"name":"logger"},"property":{"type":"Identifier","start":3787,"end":3792,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":38}},"name":"error"},"computed":false},"arguments":[{"type":"Identifier","start":3793,"end":3796,"loc":{"start":{"line":123,"column":39},"end":{"line":123,"column":42}},"name":"err"},{"type":"Literal","start":3798,"end":3829,"loc":{"start":{"line":123,"column":44},"end":{"line":123,"column":75}},"value":"controller.url.download.error","raw":"'controller.url.download.error'"},{"type":"Identifier","start":3831,"end":3838,"loc":{"start":{"line":123,"column":77},"end":{"line":123,"column":84}},"name":"traceId"}]}}]}}]}}}],"kind":"const","comments":[{"type":"Block","value":"*\n * @callback downloadCallback\n * @param {Error} err\n * @param {string | Buffer | Buffer[]} chunk\n ","start":3058,"end":3162,"loc":{"start":{"line":97,"column":0},"end":{"line":101,"column":3}}},{"type":"Block","value":"*\n * Downloads the content in the specified url, and passes the data\n * to the callback chunk by chunk.\n *\n * @param {string} url\n * @param {downloadCallback} onDataChunk\n * @param {boolean} blockLocalIPs\n * @param {string=} traceId\n ","start":3164,"end":3402,"loc":{"start":{"line":103,"column":0},"end":{"line":111,"column":3}}}]}],"sourceType":"script"}