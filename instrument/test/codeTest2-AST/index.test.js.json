{"type":"File","start":0,"end":1064,"loc":{"start":{"line":1,"column":0},"end":{"line":36,"column":0}},"errors":[],"program":{"type":"Program","start":0,"end":1064,"loc":{"start":{"line":1,"column":0},"end":{"line":36,"column":0}},"sourceType":"module","interpreter":null,"body":[{"type":"VariableDeclaration","start":0,"end":44,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"declarations":[{"type":"VariableDeclarator","start":6,"end":43,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":43}},"id":{"type":"ObjectPattern","start":6,"end":28,"loc":{"start":{"line":1,"column":6},"end":{"line":1,"column":28}},"properties":[{"type":"Property","start":8,"end":26,"loc":{"start":{"line":1,"column":8},"end":{"line":1,"column":26}},"method":false,"key":{"type":"Identifier","start":8,"end":15,"loc":{"start":{"line":1,"column":8},"end":{"line":1,"column":15},"identifierName":"default"},"name":"default"},"computed":false,"shorthand":false,"value":{"type":"Identifier","start":17,"end":26,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":26},"identifierName":"getAmpUrl"},"name":"getAmpUrl"},"kind":"init"}]},"init":{"type":"CallExpression","start":31,"end":43,"loc":{"start":{"line":1,"column":31},"end":{"line":1,"column":43}},"callee":{"type":"Identifier","start":31,"end":38,"loc":{"start":{"line":1,"column":31},"end":{"line":1,"column":38},"identifierName":"require"},"name":"require"},"arguments":[{"type":"Literal","start":39,"end":42,"loc":{"start":{"line":1,"column":39},"end":{"line":1,"column":42}},"value":".","raw":"'.'"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":46,"end":1063,"loc":{"start":{"line":3,"column":0},"end":{"line":35,"column":3}},"expression":{"type":"CallExpression","start":46,"end":1062,"loc":{"start":{"line":3,"column":0},"end":{"line":35,"column":2}},"callee":{"type":"Identifier","start":46,"end":54,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":8},"identifierName":"describe"},"name":"describe"},"arguments":[{"type":"Literal","start":55,"end":66,"loc":{"start":{"line":3,"column":9},"end":{"line":3,"column":20}},"value":"getAmpUrl","raw":"'getAmpUrl'"},{"type":"ArrowFunctionExpression","start":68,"end":1061,"loc":{"start":{"line":3,"column":22},"end":{"line":35,"column":1}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":74,"end":1061,"loc":{"start":{"line":3,"column":28},"end":{"line":35,"column":1}},"body":[{"type":"ExpressionStatement","start":78,"end":1059,"loc":{"start":{"line":4,"column":2},"end":{"line":34,"column":5}},"expression":{"type":"CallExpression","start":78,"end":1058,"loc":{"start":{"line":4,"column":2},"end":{"line":34,"column":4}},"callee":{"type":"MemberExpression","start":78,"end":179,"loc":{"start":{"line":4,"column":2},"end":{"line":8,"column":11}},"object":{"type":"ArrayExpression","start":78,"end":171,"loc":{"start":{"line":4,"column":2},"end":{"line":8,"column":3}},"extra":{"trailingComma":166},"elements":[{"type":"Literal","start":84,"end":107,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":27}},"value":"http://localhost:7080","raw":"'http://localhost:7080'"},{"type":"Literal","start":113,"end":139,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":30}},"value":"https://www.test.bbc.com","raw":"'https://www.test.bbc.com'"},{"type":"Literal","start":145,"end":166,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":25}},"value":"https://www.bbc.com","raw":"'https://www.bbc.com'"}]},"computed":false,"property":{"type":"Identifier","start":172,"end":179,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":11},"identifierName":"forEach"},"name":"forEach"},"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":180,"end":1057,"loc":{"start":{"line":8,"column":12},"end":{"line":34,"column":3}},"id":null,"generator":false,"async":false,"expression":false,"params":[{"type":"Identifier","start":180,"end":187,"loc":{"start":{"line":8,"column":12},"end":{"line":8,"column":19},"identifierName":"baseUrl"},"name":"baseUrl"}],"body":{"type":"BlockStatement","start":191,"end":1057,"loc":{"start":{"line":8,"column":23},"end":{"line":34,"column":3}},"body":[{"type":"ExpressionStatement","start":197,"end":1053,"loc":{"start":{"line":9,"column":4},"end":{"line":33,"column":7}},"expression":{"type":"CallExpression","start":197,"end":1052,"loc":{"start":{"line":9,"column":4},"end":{"line":33,"column":6}},"callee":{"type":"Identifier","start":197,"end":205,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":12},"identifierName":"describe"},"name":"describe"},"arguments":[{"type":"TemplateLiteral","start":206,"end":232,"loc":{"start":{"line":9,"column":13},"end":{"line":9,"column":39}},"expressions":[{"type":"Identifier","start":223,"end":230,"loc":{"start":{"line":9,"column":30},"end":{"line":9,"column":37},"identifierName":"baseUrl"},"name":"baseUrl"}],"quasis":[{"type":"TemplateElement","start":207,"end":221,"loc":{"start":{"line":9,"column":14},"end":{"line":9,"column":28}},"value":{"raw":"with base url ","cooked":"with base url "},"tail":false},{"type":"TemplateElement","start":231,"end":231,"loc":{"start":{"line":9,"column":38},"end":{"line":9,"column":38}},"value":{"raw":"","cooked":""},"tail":true}]},{"type":"ArrowFunctionExpression","start":234,"end":1051,"loc":{"start":{"line":9,"column":41},"end":{"line":33,"column":5}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":240,"end":1051,"loc":{"start":{"line":9,"column":47},"end":{"line":33,"column":5}},"body":[{"type":"ExpressionStatement","start":248,"end":399,"loc":{"start":{"line":10,"column":6},"end":{"line":14,"column":9}},"expression":{"type":"CallExpression","start":248,"end":398,"loc":{"start":{"line":10,"column":6},"end":{"line":14,"column":8}},"callee":{"type":"Identifier","start":248,"end":250,"loc":{"start":{"line":10,"column":6},"end":{"line":10,"column":8},"identifierName":"it"},"name":"it"},"arguments":[{"type":"Literal","start":251,"end":274,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":32}},"value":"should return amp url","raw":"'should return amp url'"},{"type":"ArrowFunctionExpression","start":276,"end":397,"loc":{"start":{"line":10,"column":34},"end":{"line":14,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":282,"end":397,"loc":{"start":{"line":10,"column":40},"end":{"line":14,"column":7}},"body":[{"type":"ExpressionStatement","start":292,"end":389,"loc":{"start":{"line":11,"column":8},"end":{"line":13,"column":10}},"expression":{"type":"CallExpression","start":292,"end":388,"loc":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"callee":{"type":"MemberExpression","start":292,"end":340,"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":56}},"object":{"type":"CallExpression","start":292,"end":332,"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":48}},"callee":{"type":"Identifier","start":292,"end":298,"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":14},"identifierName":"expect"},"name":"expect"},"arguments":[{"type":"CallExpression","start":299,"end":331,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":47}},"callee":{"type":"Identifier","start":299,"end":308,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":24},"identifierName":"getAmpUrl"},"name":"getAmpUrl"},"arguments":[{"type":"TemplateLiteral","start":309,"end":330,"loc":{"start":{"line":11,"column":25},"end":{"line":11,"column":46}},"expressions":[{"type":"Identifier","start":312,"end":319,"loc":{"start":{"line":11,"column":28},"end":{"line":11,"column":35},"identifierName":"baseUrl"},"name":"baseUrl"}],"quasis":[{"type":"TemplateElement","start":310,"end":310,"loc":{"start":{"line":11,"column":26},"end":{"line":11,"column":26}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":320,"end":329,"loc":{"start":{"line":11,"column":36},"end":{"line":11,"column":45}},"value":{"raw":"/pathname","cooked":"/pathname"},"tail":true}]}],"optional":false}],"optional":false},"computed":false,"property":{"type":"Identifier","start":333,"end":340,"loc":{"start":{"line":11,"column":49},"end":{"line":11,"column":56},"identifierName":"toEqual"},"name":"toEqual"},"optional":false},"extra":{"trailingComma":377},"arguments":[{"type":"TemplateLiteral","start":352,"end":377,"loc":{"start":{"line":12,"column":10},"end":{"line":12,"column":35}},"expressions":[{"type":"Identifier","start":355,"end":362,"loc":{"start":{"line":12,"column":13},"end":{"line":12,"column":20},"identifierName":"baseUrl"},"name":"baseUrl"}],"quasis":[{"type":"TemplateElement","start":353,"end":353,"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":11}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":363,"end":376,"loc":{"start":{"line":12,"column":21},"end":{"line":12,"column":34}},"value":{"raw":"/pathname.amp","cooked":"/pathname.amp"},"tail":true}]}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":407,"end":575,"loc":{"start":{"line":16,"column":6},"end":{"line":20,"column":9}},"expression":{"type":"CallExpression","start":407,"end":574,"loc":{"start":{"line":16,"column":6},"end":{"line":20,"column":8}},"callee":{"type":"Identifier","start":407,"end":409,"loc":{"start":{"line":16,"column":6},"end":{"line":16,"column":8},"identifierName":"it"},"name":"it"},"arguments":[{"type":"Literal","start":410,"end":446,"loc":{"start":{"line":16,"column":9},"end":{"line":16,"column":45}},"value":"should not append .amp to amp path","raw":"'should not append .amp to amp path'"},{"type":"ArrowFunctionExpression","start":448,"end":573,"loc":{"start":{"line":16,"column":47},"end":{"line":20,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":454,"end":573,"loc":{"start":{"line":16,"column":53},"end":{"line":20,"column":7}},"body":[{"type":"ExpressionStatement","start":464,"end":565,"loc":{"start":{"line":17,"column":8},"end":{"line":19,"column":10}},"expression":{"type":"CallExpression","start":464,"end":564,"loc":{"start":{"line":17,"column":8},"end":{"line":19,"column":9}},"callee":{"type":"MemberExpression","start":464,"end":516,"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":60}},"object":{"type":"CallExpression","start":464,"end":508,"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":52}},"callee":{"type":"Identifier","start":464,"end":470,"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":14},"identifierName":"expect"},"name":"expect"},"arguments":[{"type":"CallExpression","start":471,"end":507,"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":51}},"callee":{"type":"Identifier","start":471,"end":480,"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":24},"identifierName":"getAmpUrl"},"name":"getAmpUrl"},"arguments":[{"type":"TemplateLiteral","start":481,"end":506,"loc":{"start":{"line":17,"column":25},"end":{"line":17,"column":50}},"expressions":[{"type":"Identifier","start":484,"end":491,"loc":{"start":{"line":17,"column":28},"end":{"line":17,"column":35},"identifierName":"baseUrl"},"name":"baseUrl"}],"quasis":[{"type":"TemplateElement","start":482,"end":482,"loc":{"start":{"line":17,"column":26},"end":{"line":17,"column":26}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":492,"end":505,"loc":{"start":{"line":17,"column":36},"end":{"line":17,"column":49}},"value":{"raw":"/pathname.amp","cooked":"/pathname.amp"},"tail":true}]}],"optional":false}],"optional":false},"computed":false,"property":{"type":"Identifier","start":509,"end":516,"loc":{"start":{"line":17,"column":53},"end":{"line":17,"column":60},"identifierName":"toEqual"},"name":"toEqual"},"optional":false},"extra":{"trailingComma":553},"arguments":[{"type":"TemplateLiteral","start":528,"end":553,"loc":{"start":{"line":18,"column":10},"end":{"line":18,"column":35}},"expressions":[{"type":"Identifier","start":531,"end":538,"loc":{"start":{"line":18,"column":13},"end":{"line":18,"column":20},"identifierName":"baseUrl"},"name":"baseUrl"}],"quasis":[{"type":"TemplateElement","start":529,"end":529,"loc":{"start":{"line":18,"column":11},"end":{"line":18,"column":11}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":539,"end":552,"loc":{"start":{"line":18,"column":21},"end":{"line":18,"column":34}},"value":{"raw":"/pathname.amp","cooked":"/pathname.amp"},"tail":true}]}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":583,"end":806,"loc":{"start":{"line":22,"column":6},"end":{"line":26,"column":9}},"expression":{"type":"CallExpression","start":583,"end":805,"loc":{"start":{"line":22,"column":6},"end":{"line":26,"column":8}},"callee":{"type":"Identifier","start":583,"end":585,"loc":{"start":{"line":22,"column":6},"end":{"line":22,"column":8},"identifierName":"it"},"name":"it"},"arguments":[{"type":"Literal","start":586,"end":643,"loc":{"start":{"line":22,"column":9},"end":{"line":22,"column":66}},"value":"should return amp url for path with query string params","raw":"'should return amp url for path with query string params'"},{"type":"ArrowFunctionExpression","start":645,"end":804,"loc":{"start":{"line":22,"column":68},"end":{"line":26,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":651,"end":804,"loc":{"start":{"line":22,"column":74},"end":{"line":26,"column":7}},"body":[{"type":"ExpressionStatement","start":661,"end":796,"loc":{"start":{"line":23,"column":8},"end":{"line":25,"column":10}},"expression":{"type":"CallExpression","start":661,"end":795,"loc":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"callee":{"type":"MemberExpression","start":661,"end":728,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":75}},"object":{"type":"CallExpression","start":661,"end":720,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":67}},"callee":{"type":"Identifier","start":661,"end":667,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":14},"identifierName":"expect"},"name":"expect"},"arguments":[{"type":"CallExpression","start":668,"end":719,"loc":{"start":{"line":23,"column":15},"end":{"line":23,"column":66}},"callee":{"type":"Identifier","start":668,"end":677,"loc":{"start":{"line":23,"column":15},"end":{"line":23,"column":24},"identifierName":"getAmpUrl"},"name":"getAmpUrl"},"arguments":[{"type":"TemplateLiteral","start":678,"end":718,"loc":{"start":{"line":23,"column":25},"end":{"line":23,"column":65}},"expressions":[{"type":"Identifier","start":681,"end":688,"loc":{"start":{"line":23,"column":28},"end":{"line":23,"column":35},"identifierName":"baseUrl"},"name":"baseUrl"}],"quasis":[{"type":"TemplateElement","start":679,"end":679,"loc":{"start":{"line":23,"column":26},"end":{"line":23,"column":26}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":689,"end":717,"loc":{"start":{"line":23,"column":36},"end":{"line":23,"column":64}},"value":{"raw":"/pathname?query_string=value","cooked":"/pathname?query_string=value"},"tail":true}]}],"optional":false}],"optional":false},"computed":false,"property":{"type":"Identifier","start":721,"end":728,"loc":{"start":{"line":23,"column":68},"end":{"line":23,"column":75},"identifierName":"toEqual"},"name":"toEqual"},"optional":false},"extra":{"trailingComma":784},"arguments":[{"type":"TemplateLiteral","start":740,"end":784,"loc":{"start":{"line":24,"column":10},"end":{"line":24,"column":54}},"expressions":[{"type":"Identifier","start":743,"end":750,"loc":{"start":{"line":24,"column":13},"end":{"line":24,"column":20},"identifierName":"baseUrl"},"name":"baseUrl"}],"quasis":[{"type":"TemplateElement","start":741,"end":741,"loc":{"start":{"line":24,"column":11},"end":{"line":24,"column":11}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":751,"end":783,"loc":{"start":{"line":24,"column":21},"end":{"line":24,"column":53}},"value":{"raw":"/pathname.amp?query_string=value","cooked":"/pathname.amp?query_string=value"},"tail":true}]}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":814,"end":1045,"loc":{"start":{"line":28,"column":6},"end":{"line":32,"column":9}},"expression":{"type":"CallExpression","start":814,"end":1044,"loc":{"start":{"line":28,"column":6},"end":{"line":32,"column":8}},"callee":{"type":"Identifier","start":814,"end":816,"loc":{"start":{"line":28,"column":6},"end":{"line":28,"column":8},"identifierName":"it"},"name":"it"},"arguments":[{"type":"Literal","start":817,"end":878,"loc":{"start":{"line":28,"column":9},"end":{"line":28,"column":70}},"value":"should not append .amp to amp path with query string params","raw":"'should not append .amp to amp path with query string params'"},{"type":"ArrowFunctionExpression","start":880,"end":1043,"loc":{"start":{"line":28,"column":72},"end":{"line":32,"column":7}},"id":null,"generator":false,"async":false,"expression":false,"params":[],"body":{"type":"BlockStatement","start":886,"end":1043,"loc":{"start":{"line":28,"column":78},"end":{"line":32,"column":7}},"body":[{"type":"ExpressionStatement","start":896,"end":1035,"loc":{"start":{"line":29,"column":8},"end":{"line":31,"column":10}},"expression":{"type":"CallExpression","start":896,"end":1034,"loc":{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},"callee":{"type":"MemberExpression","start":896,"end":967,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":79}},"object":{"type":"CallExpression","start":896,"end":959,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":71}},"callee":{"type":"Identifier","start":896,"end":902,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":14},"identifierName":"expect"},"name":"expect"},"arguments":[{"type":"CallExpression","start":903,"end":958,"loc":{"start":{"line":29,"column":15},"end":{"line":29,"column":70}},"callee":{"type":"Identifier","start":903,"end":912,"loc":{"start":{"line":29,"column":15},"end":{"line":29,"column":24},"identifierName":"getAmpUrl"},"name":"getAmpUrl"},"arguments":[{"type":"TemplateLiteral","start":913,"end":957,"loc":{"start":{"line":29,"column":25},"end":{"line":29,"column":69}},"expressions":[{"type":"Identifier","start":916,"end":923,"loc":{"start":{"line":29,"column":28},"end":{"line":29,"column":35},"identifierName":"baseUrl"},"name":"baseUrl"}],"quasis":[{"type":"TemplateElement","start":914,"end":914,"loc":{"start":{"line":29,"column":26},"end":{"line":29,"column":26}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":924,"end":956,"loc":{"start":{"line":29,"column":36},"end":{"line":29,"column":68}},"value":{"raw":"/pathname.amp?query_string=value","cooked":"/pathname.amp?query_string=value"},"tail":true}]}],"optional":false}],"optional":false},"computed":false,"property":{"type":"Identifier","start":960,"end":967,"loc":{"start":{"line":29,"column":72},"end":{"line":29,"column":79},"identifierName":"toEqual"},"name":"toEqual"},"optional":false},"extra":{"trailingComma":1023},"arguments":[{"type":"TemplateLiteral","start":979,"end":1023,"loc":{"start":{"line":30,"column":10},"end":{"line":30,"column":54}},"expressions":[{"type":"Identifier","start":982,"end":989,"loc":{"start":{"line":30,"column":13},"end":{"line":30,"column":20},"identifierName":"baseUrl"},"name":"baseUrl"}],"quasis":[{"type":"TemplateElement","start":980,"end":980,"loc":{"start":{"line":30,"column":11},"end":{"line":30,"column":11}},"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":990,"end":1022,"loc":{"start":{"line":30,"column":21},"end":{"line":30,"column":53}},"value":{"raw":"/pathname.amp?query_string=value","cooked":"/pathname.amp?query_string=value"},"tail":true}]}],"optional":false}}]}}],"optional":false}}]}}],"optional":false}}]}}],"optional":false}}]}}],"optional":false}}]},"comments":[]}