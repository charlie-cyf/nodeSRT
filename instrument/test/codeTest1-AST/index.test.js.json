{"type":"Program","start":0,"end":17275,"body":[{"type":"VariableDeclaration","start":0,"end":51,"declarations":[{"type":"VariableDeclarator","start":6,"end":51,"id":{"type":"Identifier","start":6,"end":30,"name":"ThumbnailGeneratorPlugin"},"init":{"type":"CallExpression","start":33,"end":51,"callee":{"type":"Identifier","start":33,"end":40,"name":"require"},"arguments":[{"type":"Literal","start":41,"end":50,"value":"./index","raw":"'./index'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":52,"end":92,"declarations":[{"type":"VariableDeclarator","start":58,"end":92,"id":{"type":"ObjectPattern","start":58,"end":68,"properties":[{"type":"Property","start":60,"end":66,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":60,"end":66,"name":"Plugin"},"kind":"init","value":{"type":"Identifier","start":60,"end":66,"name":"Plugin"}}]},"init":{"type":"CallExpression","start":71,"end":92,"callee":{"type":"Identifier","start":71,"end":78,"name":"require"},"arguments":[{"type":"Literal","start":79,"end":91,"value":"@uppy/core","raw":"'@uppy/core'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":93,"end":137,"declarations":[{"type":"VariableDeclarator","start":99,"end":137,"id":{"type":"Identifier","start":99,"end":106,"name":"emitter"},"init":{"type":"CallExpression","start":109,"end":137,"callee":{"type":"Identifier","start":109,"end":116,"name":"require"},"arguments":[{"type":"Literal","start":117,"end":136,"value":"namespace-emitter","raw":"'namespace-emitter'"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":139,"end":218,"declarations":[{"type":"VariableDeclarator","start":145,"end":218,"id":{"type":"Identifier","start":145,"end":150,"name":"delay"},"init":{"type":"ArrowFunctionExpression","start":153,"end":218,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":153,"end":161,"name":"duration"}],"body":{"type":"NewExpression","start":165,"end":218,"callee":{"type":"Identifier","start":169,"end":176,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":177,"end":217,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":177,"end":184,"name":"resolve"}],"body":{"type":"CallExpression","start":188,"end":217,"callee":{"type":"Identifier","start":188,"end":198,"name":"setTimeout"},"arguments":[{"type":"Identifier","start":199,"end":206,"name":"resolve"},{"type":"Identifier","start":208,"end":216,"name":"duration"}]}}]}}}],"kind":"const"},{"type":"FunctionDeclaration","start":220,"end":628,"id":{"type":"Identifier","start":229,"end":237,"name":"MockCore"},"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":241,"end":628,"body":[{"type":"VariableDeclaration","start":245,"end":267,"declarations":[{"type":"VariableDeclarator","start":251,"end":267,"id":{"type":"Identifier","start":251,"end":255,"name":"core"},"init":{"type":"CallExpression","start":258,"end":267,"callee":{"type":"Identifier","start":258,"end":265,"name":"emitter"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":270,"end":286,"declarations":[{"type":"VariableDeclarator","start":276,"end":286,"id":{"type":"Identifier","start":276,"end":281,"name":"files"},"init":{"type":"ObjectExpression","start":284,"end":286,"properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":289,"end":334,"expression":{"type":"AssignmentExpression","start":289,"end":334,"operator":"=","left":{"type":"MemberExpression","start":289,"end":299,"object":{"type":"Identifier","start":289,"end":293,"name":"core"},"property":{"type":"Identifier","start":294,"end":299,"name":"state"},"computed":false},"right":{"type":"ObjectExpression","start":302,"end":334,"properties":[{"type":"Property","start":308,"end":313,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":308,"end":313,"name":"files"},"kind":"init","value":{"type":"Identifier","start":308,"end":313,"name":"files"}},{"type":"Property","start":319,"end":330,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":319,"end":326,"name":"plugins"},"value":{"type":"ObjectExpression","start":328,"end":330,"properties":[]},"kind":"init"}]}}},{"type":"ExpressionStatement","start":337,"end":381,"expression":{"type":"AssignmentExpression","start":337,"end":381,"operator":"=","left":{"type":"MemberExpression","start":337,"end":350,"object":{"type":"Identifier","start":337,"end":341,"name":"core"},"property":{"type":"Identifier","start":342,"end":350,"name":"mockFile"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":353,"end":381,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":354,"end":356,"name":"id"},{"type":"Identifier","start":358,"end":359,"name":"f"}],"body":{"type":"BlockStatement","start":364,"end":381,"body":[{"type":"ExpressionStatement","start":366,"end":379,"expression":{"type":"AssignmentExpression","start":366,"end":379,"operator":"=","left":{"type":"MemberExpression","start":366,"end":375,"object":{"type":"Identifier","start":366,"end":371,"name":"files"},"property":{"type":"Identifier","start":372,"end":374,"name":"id"},"computed":true},"right":{"type":"Identifier","start":378,"end":379,"name":"f"}}}]}}}},{"type":"ExpressionStatement","start":384,"end":416,"expression":{"type":"AssignmentExpression","start":384,"end":416,"operator":"=","left":{"type":"MemberExpression","start":384,"end":396,"object":{"type":"Identifier","start":384,"end":388,"name":"core"},"property":{"type":"Identifier","start":389,"end":396,"name":"getFile"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":399,"end":416,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":400,"end":402,"name":"id"}],"body":{"type":"MemberExpression","start":407,"end":416,"object":{"type":"Identifier","start":407,"end":412,"name":"files"},"property":{"type":"Identifier","start":413,"end":415,"name":"id"},"computed":true}}}},{"type":"ExpressionStatement","start":419,"end":548,"expression":{"type":"AssignmentExpression","start":419,"end":548,"operator":"=","left":{"type":"MemberExpression","start":419,"end":427,"object":{"type":"Identifier","start":419,"end":423,"name":"core"},"property":{"type":"Identifier","start":424,"end":427,"name":"log"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":430,"end":548,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":431,"end":438,"name":"message"},{"type":"AssignmentPattern","start":440,"end":453,"left":{"type":"Identifier","start":440,"end":445,"name":"level"},"right":{"type":"Literal","start":448,"end":453,"value":"log","raw":"'log'"}}],"body":{"type":"BlockStatement","start":458,"end":548,"body":[{"type":"IfStatement","start":464,"end":544,"test":{"type":"LogicalExpression","start":468,"end":505,"left":{"type":"BinaryExpression","start":468,"end":484,"left":{"type":"Identifier","start":468,"end":473,"name":"level"},"operator":"===","right":{"type":"Literal","start":478,"end":484,"value":"warn","raw":"'warn'"}},"operator":"||","right":{"type":"BinaryExpression","start":488,"end":505,"left":{"type":"Identifier","start":488,"end":493,"name":"level"},"operator":"===","right":{"type":"Literal","start":498,"end":505,"value":"error","raw":"'error'"}}},"consequent":{"type":"BlockStatement","start":507,"end":544,"body":[{"type":"ExpressionStatement","start":515,"end":538,"expression":{"type":"CallExpression","start":515,"end":538,"callee":{"type":"MemberExpression","start":515,"end":529,"object":{"type":"Identifier","start":515,"end":522,"name":"console"},"property":{"type":"Identifier","start":523,"end":528,"name":"level"},"computed":true},"arguments":[{"type":"Identifier","start":530,"end":537,"name":"message"}]}}]},"alternate":null}]}}}},{"type":"ExpressionStatement","start":551,"end":583,"expression":{"type":"AssignmentExpression","start":551,"end":583,"operator":"=","left":{"type":"MemberExpression","start":551,"end":564,"object":{"type":"Identifier","start":551,"end":555,"name":"core"},"property":{"type":"Identifier","start":556,"end":564,"name":"getState"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":567,"end":583,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"MemberExpression","start":573,"end":583,"object":{"type":"Identifier","start":573,"end":577,"name":"core"},"property":{"type":"Identifier","start":578,"end":583,"name":"state"},"computed":false}}}},{"type":"ExpressionStatement","start":586,"end":612,"expression":{"type":"AssignmentExpression","start":586,"end":612,"operator":"=","left":{"type":"MemberExpression","start":586,"end":599,"object":{"type":"Identifier","start":586,"end":590,"name":"core"},"property":{"type":"Identifier","start":591,"end":599,"name":"setState"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":602,"end":612,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"Literal","start":608,"end":612,"value":null,"raw":"null"}}}},{"type":"ReturnStatement","start":615,"end":626,"argument":{"type":"Identifier","start":622,"end":626,"name":"core"}}]}},{"type":"ExpressionStatement","start":630,"end":17274,"expression":{"type":"CallExpression","start":630,"end":17274,"callee":{"type":"Identifier","start":630,"end":638,"name":"describe"},"arguments":[{"type":"Literal","start":639,"end":674,"value":"uploader/ThumbnailGeneratorPlugin","raw":"'uploader/ThumbnailGeneratorPlugin'"},{"type":"ArrowFunctionExpression","start":676,"end":17273,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":682,"end":17273,"body":[{"type":"ExpressionStatement","start":686,"end":854,"expression":{"type":"CallExpression","start":686,"end":854,"callee":{"type":"Identifier","start":686,"end":688,"name":"it"},"arguments":[{"type":"Literal","start":689,"end":721,"value":"should initialise successfully","raw":"'should initialise successfully'"},{"type":"ArrowFunctionExpression","start":723,"end":853,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":729,"end":853,"body":[{"type":"VariableDeclaration","start":735,"end":798,"declarations":[{"type":"VariableDeclarator","start":741,"end":798,"id":{"type":"Identifier","start":741,"end":747,"name":"plugin"},"init":{"type":"NewExpression","start":750,"end":798,"callee":{"type":"Identifier","start":754,"end":778,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"NewExpression","start":779,"end":793,"callee":{"type":"Identifier","start":783,"end":791,"name":"MockCore"},"arguments":[]},{"type":"ObjectExpression","start":795,"end":797,"properties":[]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":803,"end":849,"expression":{"type":"CallExpression","start":803,"end":849,"callee":{"type":"MemberExpression","start":803,"end":843,"object":{"type":"CallExpression","start":803,"end":835,"callee":{"type":"Identifier","start":803,"end":809,"name":"expect"},"arguments":[{"type":"BinaryExpression","start":810,"end":834,"left":{"type":"Identifier","start":810,"end":816,"name":"plugin"},"operator":"instanceof","right":{"type":"Identifier","start":828,"end":834,"name":"Plugin"}}]},"property":{"type":"Identifier","start":836,"end":843,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":844,"end":848,"value":true,"raw":"true"}]}}]}}]}},{"type":"ExpressionStatement","start":858,"end":1515,"expression":{"type":"CallExpression","start":858,"end":1515,"callee":{"type":"Identifier","start":858,"end":860,"name":"it"},"arguments":[{"type":"Literal","start":861,"end":947,"value":"should accept the thumbnailWidth and thumbnailHeight option and override the default","raw":"'should accept the thumbnailWidth and thumbnailHeight option and override the default'"},{"type":"ArrowFunctionExpression","start":949,"end":1514,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":955,"end":1514,"body":[{"type":"VariableDeclaration","start":961,"end":1021,"declarations":[{"type":"VariableDeclarator","start":967,"end":1021,"id":{"type":"Identifier","start":967,"end":974,"name":"plugin1"},"init":{"type":"NewExpression","start":977,"end":1021,"callee":{"type":"Identifier","start":981,"end":1005,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"NewExpression","start":1006,"end":1020,"callee":{"type":"Identifier","start":1010,"end":1018,"name":"MockCore"},"arguments":[]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1056,"end":1105,"expression":{"type":"CallExpression","start":1056,"end":1105,"callee":{"type":"MemberExpression","start":1056,"end":1099,"object":{"type":"CallExpression","start":1056,"end":1091,"callee":{"type":"Identifier","start":1056,"end":1062,"name":"expect"},"arguments":[{"type":"MemberExpression","start":1063,"end":1090,"object":{"type":"MemberExpression","start":1063,"end":1075,"object":{"type":"Identifier","start":1063,"end":1070,"name":"plugin1"},"property":{"type":"Identifier","start":1071,"end":1075,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":1076,"end":1090,"name":"thumbnailWidth"},"computed":false}]},"property":{"type":"Identifier","start":1092,"end":1099,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1100,"end":1104,"value":null,"raw":"null"}]}},{"type":"ExpressionStatement","start":1110,"end":1160,"expression":{"type":"CallExpression","start":1110,"end":1160,"callee":{"type":"MemberExpression","start":1110,"end":1154,"object":{"type":"CallExpression","start":1110,"end":1146,"callee":{"type":"Identifier","start":1110,"end":1116,"name":"expect"},"arguments":[{"type":"MemberExpression","start":1117,"end":1145,"object":{"type":"MemberExpression","start":1117,"end":1129,"object":{"type":"Identifier","start":1117,"end":1124,"name":"plugin1"},"property":{"type":"Identifier","start":1125,"end":1129,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":1130,"end":1145,"name":"thumbnailHeight"},"computed":false}]},"property":{"type":"Identifier","start":1147,"end":1154,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1155,"end":1159,"value":null,"raw":"null"}]}},{"type":"VariableDeclaration","start":1166,"end":1251,"declarations":[{"type":"VariableDeclarator","start":1172,"end":1251,"id":{"type":"Identifier","start":1172,"end":1179,"name":"plugin2"},"init":{"type":"NewExpression","start":1182,"end":1251,"callee":{"type":"Identifier","start":1186,"end":1210,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"NewExpression","start":1211,"end":1225,"callee":{"type":"Identifier","start":1215,"end":1223,"name":"MockCore"},"arguments":[]},{"type":"ObjectExpression","start":1227,"end":1250,"properties":[{"type":"Property","start":1229,"end":1248,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1229,"end":1243,"name":"thumbnailWidth"},"value":{"type":"Literal","start":1245,"end":1248,"value":100,"raw":"100"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1286,"end":1334,"expression":{"type":"CallExpression","start":1286,"end":1334,"callee":{"type":"MemberExpression","start":1286,"end":1329,"object":{"type":"CallExpression","start":1286,"end":1321,"callee":{"type":"Identifier","start":1286,"end":1292,"name":"expect"},"arguments":[{"type":"MemberExpression","start":1293,"end":1320,"object":{"type":"MemberExpression","start":1293,"end":1305,"object":{"type":"Identifier","start":1293,"end":1300,"name":"plugin2"},"property":{"type":"Identifier","start":1301,"end":1305,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":1306,"end":1320,"name":"thumbnailWidth"},"computed":false}]},"property":{"type":"Identifier","start":1322,"end":1329,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1330,"end":1333,"value":100,"raw":"100"}]}},{"type":"VariableDeclaration","start":1340,"end":1426,"declarations":[{"type":"VariableDeclarator","start":1346,"end":1426,"id":{"type":"Identifier","start":1346,"end":1353,"name":"plugin3"},"init":{"type":"NewExpression","start":1356,"end":1426,"callee":{"type":"Identifier","start":1360,"end":1384,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"NewExpression","start":1385,"end":1399,"callee":{"type":"Identifier","start":1389,"end":1397,"name":"MockCore"},"arguments":[]},{"type":"ObjectExpression","start":1401,"end":1425,"properties":[{"type":"Property","start":1403,"end":1423,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1403,"end":1418,"name":"thumbnailHeight"},"value":{"type":"Literal","start":1420,"end":1423,"value":100,"raw":"100"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1461,"end":1510,"expression":{"type":"CallExpression","start":1461,"end":1510,"callee":{"type":"MemberExpression","start":1461,"end":1505,"object":{"type":"CallExpression","start":1461,"end":1497,"callee":{"type":"Identifier","start":1461,"end":1467,"name":"expect"},"arguments":[{"type":"MemberExpression","start":1468,"end":1496,"object":{"type":"MemberExpression","start":1468,"end":1480,"object":{"type":"Identifier","start":1468,"end":1475,"name":"plugin3"},"property":{"type":"Identifier","start":1476,"end":1480,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":1481,"end":1496,"name":"thumbnailHeight"},"computed":false}]},"property":{"type":"Identifier","start":1498,"end":1505,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":1506,"end":1509,"value":100,"raw":"100"}]}}]}}]}},{"type":"ExpressionStatement","start":1519,"end":1941,"expression":{"type":"CallExpression","start":1519,"end":1941,"callee":{"type":"Identifier","start":1519,"end":1527,"name":"describe"},"arguments":[{"type":"Literal","start":1528,"end":1537,"value":"install","raw":"'install'"},{"type":"ArrowFunctionExpression","start":1539,"end":1940,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1545,"end":1940,"body":[{"type":"ExpressionStatement","start":1551,"end":1936,"expression":{"type":"CallExpression","start":1551,"end":1936,"callee":{"type":"Identifier","start":1551,"end":1553,"name":"it"},"arguments":[{"type":"Literal","start":1554,"end":1597,"value":"should subscribe to uppy file-added event","raw":"'should subscribe to uppy file-added event'"},{"type":"ArrowFunctionExpression","start":1599,"end":1935,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1605,"end":1935,"body":[{"type":"VariableDeclaration","start":1613,"end":1688,"declarations":[{"type":"VariableDeclarator","start":1619,"end":1688,"id":{"type":"Identifier","start":1619,"end":1623,"name":"core"},"init":{"type":"CallExpression","start":1626,"end":1688,"callee":{"type":"MemberExpression","start":1626,"end":1639,"object":{"type":"Identifier","start":1626,"end":1632,"name":"Object"},"property":{"type":"Identifier","start":1633,"end":1639,"name":"assign"},"computed":false},"arguments":[{"type":"NewExpression","start":1640,"end":1654,"callee":{"type":"Identifier","start":1644,"end":1652,"name":"MockCore"},"arguments":[]},{"type":"ObjectExpression","start":1656,"end":1687,"properties":[{"type":"Property","start":1666,"end":1679,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1666,"end":1668,"name":"on"},"value":{"type":"CallExpression","start":1670,"end":1679,"callee":{"type":"MemberExpression","start":1670,"end":1677,"object":{"type":"Identifier","start":1670,"end":1674,"name":"jest"},"property":{"type":"Identifier","start":1675,"end":1677,"name":"fn"},"computed":false},"arguments":[]},"kind":"init"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":1696,"end":1745,"declarations":[{"type":"VariableDeclarator","start":1702,"end":1745,"id":{"type":"Identifier","start":1702,"end":1708,"name":"plugin"},"init":{"type":"NewExpression","start":1711,"end":1745,"callee":{"type":"Identifier","start":1715,"end":1739,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":1740,"end":1744,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1752,"end":1781,"expression":{"type":"AssignmentExpression","start":1752,"end":1781,"operator":"=","left":{"type":"MemberExpression","start":1752,"end":1769,"object":{"type":"Identifier","start":1752,"end":1758,"name":"plugin"},"property":{"type":"Identifier","start":1759,"end":1769,"name":"addToQueue"},"computed":false},"right":{"type":"CallExpression","start":1772,"end":1781,"callee":{"type":"MemberExpression","start":1772,"end":1779,"object":{"type":"Identifier","start":1772,"end":1776,"name":"jest"},"property":{"type":"Identifier","start":1777,"end":1779,"name":"fn"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":1788,"end":1804,"expression":{"type":"CallExpression","start":1788,"end":1804,"callee":{"type":"MemberExpression","start":1788,"end":1802,"object":{"type":"Identifier","start":1788,"end":1794,"name":"plugin"},"property":{"type":"Identifier","start":1795,"end":1802,"name":"install"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":1812,"end":1852,"expression":{"type":"CallExpression","start":1812,"end":1852,"callee":{"type":"MemberExpression","start":1812,"end":1849,"object":{"type":"CallExpression","start":1812,"end":1827,"callee":{"type":"Identifier","start":1812,"end":1818,"name":"expect"},"arguments":[{"type":"MemberExpression","start":1819,"end":1826,"object":{"type":"Identifier","start":1819,"end":1823,"name":"core"},"property":{"type":"Identifier","start":1824,"end":1826,"name":"on"},"computed":false}]},"property":{"type":"Identifier","start":1828,"end":1849,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":1850,"end":1851,"value":3,"raw":"3"}]}},{"type":"ExpressionStatement","start":1859,"end":1929,"expression":{"type":"CallExpression","start":1859,"end":1929,"callee":{"type":"MemberExpression","start":1859,"end":1895,"object":{"type":"CallExpression","start":1859,"end":1874,"callee":{"type":"Identifier","start":1859,"end":1865,"name":"expect"},"arguments":[{"type":"MemberExpression","start":1866,"end":1873,"object":{"type":"Identifier","start":1866,"end":1870,"name":"core"},"property":{"type":"Identifier","start":1871,"end":1873,"name":"on"},"computed":false}]},"property":{"type":"Identifier","start":1875,"end":1895,"name":"toHaveBeenCalledWith"},"computed":false},"arguments":[{"type":"Literal","start":1896,"end":1908,"value":"file-added","raw":"'file-added'"},{"type":"MemberExpression","start":1910,"end":1928,"object":{"type":"Identifier","start":1910,"end":1916,"name":"plugin"},"property":{"type":"Identifier","start":1917,"end":1928,"name":"onFileAdded"},"computed":false}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":1945,"end":2473,"expression":{"type":"CallExpression","start":1945,"end":2473,"callee":{"type":"Identifier","start":1945,"end":1953,"name":"describe"},"arguments":[{"type":"Literal","start":1954,"end":1965,"value":"uninstall","raw":"'uninstall'"},{"type":"ArrowFunctionExpression","start":1967,"end":2472,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1973,"end":2472,"body":[{"type":"ExpressionStatement","start":1979,"end":2468,"expression":{"type":"CallExpression","start":1979,"end":2468,"callee":{"type":"Identifier","start":1979,"end":1981,"name":"it"},"arguments":[{"type":"Literal","start":1982,"end":2029,"value":"should unsubscribe from uppy file-added event","raw":"'should unsubscribe from uppy file-added event'"},{"type":"ArrowFunctionExpression","start":2031,"end":2467,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2037,"end":2467,"body":[{"type":"VariableDeclaration","start":2045,"end":2144,"declarations":[{"type":"VariableDeclarator","start":2051,"end":2144,"id":{"type":"Identifier","start":2051,"end":2055,"name":"core"},"init":{"type":"CallExpression","start":2058,"end":2144,"callee":{"type":"MemberExpression","start":2058,"end":2071,"object":{"type":"Identifier","start":2058,"end":2064,"name":"Object"},"property":{"type":"Identifier","start":2065,"end":2071,"name":"assign"},"computed":false},"arguments":[{"type":"NewExpression","start":2072,"end":2086,"callee":{"type":"Identifier","start":2076,"end":2084,"name":"MockCore"},"arguments":[]},{"type":"ObjectExpression","start":2088,"end":2143,"properties":[{"type":"Property","start":2098,"end":2111,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2098,"end":2100,"name":"on"},"value":{"type":"CallExpression","start":2102,"end":2111,"callee":{"type":"MemberExpression","start":2102,"end":2109,"object":{"type":"Identifier","start":2102,"end":2106,"name":"jest"},"property":{"type":"Identifier","start":2107,"end":2109,"name":"fn"},"computed":false},"arguments":[]},"kind":"init"},{"type":"Property","start":2121,"end":2135,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2121,"end":2124,"name":"off"},"value":{"type":"CallExpression","start":2126,"end":2135,"callee":{"type":"MemberExpression","start":2126,"end":2133,"object":{"type":"Identifier","start":2126,"end":2130,"name":"jest"},"property":{"type":"Identifier","start":2131,"end":2133,"name":"fn"},"computed":false},"arguments":[]},"kind":"init"}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2152,"end":2201,"declarations":[{"type":"VariableDeclarator","start":2158,"end":2201,"id":{"type":"Identifier","start":2158,"end":2164,"name":"plugin"},"init":{"type":"NewExpression","start":2167,"end":2201,"callee":{"type":"Identifier","start":2171,"end":2195,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":2196,"end":2200,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":2208,"end":2237,"expression":{"type":"AssignmentExpression","start":2208,"end":2237,"operator":"=","left":{"type":"MemberExpression","start":2208,"end":2225,"object":{"type":"Identifier","start":2208,"end":2214,"name":"plugin"},"property":{"type":"Identifier","start":2215,"end":2225,"name":"addToQueue"},"computed":false},"right":{"type":"CallExpression","start":2228,"end":2237,"callee":{"type":"MemberExpression","start":2228,"end":2235,"object":{"type":"Identifier","start":2228,"end":2232,"name":"jest"},"property":{"type":"Identifier","start":2233,"end":2235,"name":"fn"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":2244,"end":2260,"expression":{"type":"CallExpression","start":2244,"end":2260,"callee":{"type":"MemberExpression","start":2244,"end":2258,"object":{"type":"Identifier","start":2244,"end":2250,"name":"plugin"},"property":{"type":"Identifier","start":2251,"end":2258,"name":"install"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":2268,"end":2308,"expression":{"type":"CallExpression","start":2268,"end":2308,"callee":{"type":"MemberExpression","start":2268,"end":2305,"object":{"type":"CallExpression","start":2268,"end":2283,"callee":{"type":"Identifier","start":2268,"end":2274,"name":"expect"},"arguments":[{"type":"MemberExpression","start":2275,"end":2282,"object":{"type":"Identifier","start":2275,"end":2279,"name":"core"},"property":{"type":"Identifier","start":2280,"end":2282,"name":"on"},"computed":false}]},"property":{"type":"Identifier","start":2284,"end":2305,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":2306,"end":2307,"value":3,"raw":"3"}]}},{"type":"ExpressionStatement","start":2316,"end":2334,"expression":{"type":"CallExpression","start":2316,"end":2334,"callee":{"type":"MemberExpression","start":2316,"end":2332,"object":{"type":"Identifier","start":2316,"end":2322,"name":"plugin"},"property":{"type":"Identifier","start":2323,"end":2332,"name":"uninstall"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":2342,"end":2383,"expression":{"type":"CallExpression","start":2342,"end":2383,"callee":{"type":"MemberExpression","start":2342,"end":2380,"object":{"type":"CallExpression","start":2342,"end":2358,"callee":{"type":"Identifier","start":2342,"end":2348,"name":"expect"},"arguments":[{"type":"MemberExpression","start":2349,"end":2357,"object":{"type":"Identifier","start":2349,"end":2353,"name":"core"},"property":{"type":"Identifier","start":2354,"end":2357,"name":"off"},"computed":false}]},"property":{"type":"Identifier","start":2359,"end":2380,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":2381,"end":2382,"value":3,"raw":"3"}]}},{"type":"ExpressionStatement","start":2390,"end":2461,"expression":{"type":"CallExpression","start":2390,"end":2461,"callee":{"type":"MemberExpression","start":2390,"end":2427,"object":{"type":"CallExpression","start":2390,"end":2406,"callee":{"type":"Identifier","start":2390,"end":2396,"name":"expect"},"arguments":[{"type":"MemberExpression","start":2397,"end":2405,"object":{"type":"Identifier","start":2397,"end":2401,"name":"core"},"property":{"type":"Identifier","start":2402,"end":2405,"name":"off"},"computed":false}]},"property":{"type":"Identifier","start":2407,"end":2427,"name":"toHaveBeenCalledWith"},"computed":false},"arguments":[{"type":"Literal","start":2428,"end":2440,"value":"file-added","raw":"'file-added'"},{"type":"MemberExpression","start":2442,"end":2460,"object":{"type":"Identifier","start":2442,"end":2448,"name":"plugin"},"property":{"type":"Identifier","start":2449,"end":2460,"name":"onFileAdded"},"computed":false}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":2477,"end":5881,"expression":{"type":"CallExpression","start":2477,"end":5881,"callee":{"type":"Identifier","start":2477,"end":2485,"name":"describe"},"arguments":[{"type":"Literal","start":2486,"end":2493,"value":"queue","raw":"'queue'"},{"type":"ArrowFunctionExpression","start":2495,"end":5880,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2501,"end":5880,"body":[{"type":"ExpressionStatement","start":2507,"end":3215,"expression":{"type":"CallExpression","start":2507,"end":3215,"callee":{"type":"Identifier","start":2507,"end":2509,"name":"it"},"arguments":[{"type":"Literal","start":2510,"end":2607,"value":"should add a new file to the queue and start processing the queue when queueProcessing is false","raw":"'should add a new file to the queue and start processing the queue when queueProcessing is false'"},{"type":"ArrowFunctionExpression","start":2609,"end":3214,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2615,"end":3214,"body":[{"type":"VariableDeclaration","start":2623,"end":2650,"declarations":[{"type":"VariableDeclarator","start":2629,"end":2650,"id":{"type":"Identifier","start":2629,"end":2633,"name":"core"},"init":{"type":"NewExpression","start":2636,"end":2650,"callee":{"type":"Identifier","start":2640,"end":2648,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":2657,"end":2706,"declarations":[{"type":"VariableDeclarator","start":2663,"end":2706,"id":{"type":"Identifier","start":2663,"end":2669,"name":"plugin"},"init":{"type":"NewExpression","start":2672,"end":2706,"callee":{"type":"Identifier","start":2676,"end":2700,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":2701,"end":2705,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":2713,"end":2744,"expression":{"type":"AssignmentExpression","start":2713,"end":2744,"operator":"=","left":{"type":"MemberExpression","start":2713,"end":2732,"object":{"type":"Identifier","start":2713,"end":2719,"name":"plugin"},"property":{"type":"Identifier","start":2720,"end":2732,"name":"processQueue"},"computed":false},"right":{"type":"CallExpression","start":2735,"end":2744,"callee":{"type":"MemberExpression","start":2735,"end":2742,"object":{"type":"Identifier","start":2735,"end":2739,"name":"jest"},"property":{"type":"Identifier","start":2740,"end":2742,"name":"fn"},"computed":false},"arguments":[]}}},{"type":"VariableDeclaration","start":2752,"end":2798,"declarations":[{"type":"VariableDeclarator","start":2758,"end":2798,"id":{"type":"Identifier","start":2758,"end":2762,"name":"file"},"init":{"type":"ObjectExpression","start":2765,"end":2798,"properties":[{"type":"Property","start":2767,"end":2776,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2767,"end":2769,"name":"id"},"value":{"type":"Literal","start":2771,"end":2776,"value":"bar","raw":"'bar'"},"kind":"init"},{"type":"Property","start":2778,"end":2796,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2778,"end":2782,"name":"type"},"value":{"type":"Literal","start":2784,"end":2796,"value":"image/jpeg","raw":"'image/jpeg'"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":2805,"end":2835,"expression":{"type":"AssignmentExpression","start":2805,"end":2835,"operator":"=","left":{"type":"MemberExpression","start":2805,"end":2827,"object":{"type":"Identifier","start":2805,"end":2811,"name":"plugin"},"property":{"type":"Identifier","start":2812,"end":2827,"name":"queueProcessing"},"computed":false},"right":{"type":"Literal","start":2830,"end":2835,"value":false,"raw":"false"}}},{"type":"ExpressionStatement","start":2842,"end":2868,"expression":{"type":"CallExpression","start":2842,"end":2868,"callee":{"type":"MemberExpression","start":2842,"end":2859,"object":{"type":"Identifier","start":2842,"end":2848,"name":"plugin"},"property":{"type":"Identifier","start":2849,"end":2859,"name":"addToQueue"},"computed":false},"arguments":[{"type":"MemberExpression","start":2860,"end":2867,"object":{"type":"Identifier","start":2860,"end":2864,"name":"file"},"property":{"type":"Identifier","start":2865,"end":2867,"name":"id"},"computed":false}]}},{"type":"ExpressionStatement","start":2875,"end":2912,"expression":{"type":"CallExpression","start":2875,"end":2912,"callee":{"type":"MemberExpression","start":2875,"end":2903,"object":{"type":"CallExpression","start":2875,"end":2895,"callee":{"type":"Identifier","start":2875,"end":2881,"name":"expect"},"arguments":[{"type":"MemberExpression","start":2882,"end":2894,"object":{"type":"Identifier","start":2882,"end":2888,"name":"plugin"},"property":{"type":"Identifier","start":2889,"end":2894,"name":"queue"},"computed":false}]},"property":{"type":"Identifier","start":2896,"end":2903,"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":2904,"end":2911,"elements":[{"type":"Literal","start":2905,"end":2910,"value":"bar","raw":"'bar'"}]}]}},{"type":"ExpressionStatement","start":2919,"end":2971,"expression":{"type":"CallExpression","start":2919,"end":2971,"callee":{"type":"MemberExpression","start":2919,"end":2968,"object":{"type":"CallExpression","start":2919,"end":2946,"callee":{"type":"Identifier","start":2919,"end":2925,"name":"expect"},"arguments":[{"type":"MemberExpression","start":2926,"end":2945,"object":{"type":"Identifier","start":2926,"end":2932,"name":"plugin"},"property":{"type":"Identifier","start":2933,"end":2945,"name":"processQueue"},"computed":false}]},"property":{"type":"Identifier","start":2947,"end":2968,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":2969,"end":2970,"value":1,"raw":"1"}]}},{"type":"VariableDeclaration","start":2979,"end":3027,"declarations":[{"type":"VariableDeclarator","start":2985,"end":3027,"id":{"type":"Identifier","start":2985,"end":2990,"name":"file2"},"init":{"type":"ObjectExpression","start":2993,"end":3027,"properties":[{"type":"Property","start":2995,"end":3005,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2995,"end":2997,"name":"id"},"value":{"type":"Literal","start":2999,"end":3005,"value":"bar2","raw":"'bar2'"},"kind":"init"},{"type":"Property","start":3007,"end":3025,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3007,"end":3011,"name":"type"},"value":{"type":"Literal","start":3013,"end":3025,"value":"image/jpeg","raw":"'image/jpeg'"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":3034,"end":3063,"expression":{"type":"AssignmentExpression","start":3034,"end":3063,"operator":"=","left":{"type":"MemberExpression","start":3034,"end":3056,"object":{"type":"Identifier","start":3034,"end":3040,"name":"plugin"},"property":{"type":"Identifier","start":3041,"end":3056,"name":"queueProcessing"},"computed":false},"right":{"type":"Literal","start":3059,"end":3063,"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":3070,"end":3097,"expression":{"type":"CallExpression","start":3070,"end":3097,"callee":{"type":"MemberExpression","start":3070,"end":3087,"object":{"type":"Identifier","start":3070,"end":3076,"name":"plugin"},"property":{"type":"Identifier","start":3077,"end":3087,"name":"addToQueue"},"computed":false},"arguments":[{"type":"MemberExpression","start":3088,"end":3096,"object":{"type":"Identifier","start":3088,"end":3093,"name":"file2"},"property":{"type":"Identifier","start":3094,"end":3096,"name":"id"},"computed":false}]}},{"type":"ExpressionStatement","start":3104,"end":3149,"expression":{"type":"CallExpression","start":3104,"end":3149,"callee":{"type":"MemberExpression","start":3104,"end":3132,"object":{"type":"CallExpression","start":3104,"end":3124,"callee":{"type":"Identifier","start":3104,"end":3110,"name":"expect"},"arguments":[{"type":"MemberExpression","start":3111,"end":3123,"object":{"type":"Identifier","start":3111,"end":3117,"name":"plugin"},"property":{"type":"Identifier","start":3118,"end":3123,"name":"queue"},"computed":false}]},"property":{"type":"Identifier","start":3125,"end":3132,"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":3133,"end":3148,"elements":[{"type":"Literal","start":3134,"end":3139,"value":"bar","raw":"'bar'"},{"type":"Literal","start":3141,"end":3147,"value":"bar2","raw":"'bar2'"}]}]}},{"type":"ExpressionStatement","start":3156,"end":3208,"expression":{"type":"CallExpression","start":3156,"end":3208,"callee":{"type":"MemberExpression","start":3156,"end":3205,"object":{"type":"CallExpression","start":3156,"end":3183,"callee":{"type":"Identifier","start":3156,"end":3162,"name":"expect"},"arguments":[{"type":"MemberExpression","start":3163,"end":3182,"object":{"type":"Identifier","start":3163,"end":3169,"name":"plugin"},"property":{"type":"Identifier","start":3170,"end":3182,"name":"processQueue"},"computed":false}]},"property":{"type":"Identifier","start":3184,"end":3205,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":3206,"end":3207,"value":1,"raw":"1"}]}}]}}]}},{"type":"ExpressionStatement","start":3221,"end":4527,"expression":{"type":"CallExpression","start":3221,"end":4527,"callee":{"type":"Identifier","start":3221,"end":3223,"name":"it"},"arguments":[{"type":"Literal","start":3224,"end":3270,"value":"should process items in the queue one by one","raw":"'should process items in the queue one by one'"},{"type":"ArrowFunctionExpression","start":3272,"end":4526,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3278,"end":4526,"body":[{"type":"VariableDeclaration","start":3286,"end":3313,"declarations":[{"type":"VariableDeclarator","start":3292,"end":3313,"id":{"type":"Identifier","start":3292,"end":3296,"name":"core"},"init":{"type":"NewExpression","start":3299,"end":3313,"callee":{"type":"Identifier","start":3303,"end":3311,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":3320,"end":3369,"declarations":[{"type":"VariableDeclarator","start":3326,"end":3369,"id":{"type":"Identifier","start":3326,"end":3332,"name":"plugin"},"init":{"type":"NewExpression","start":3335,"end":3369,"callee":{"type":"Identifier","start":3339,"end":3363,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":3364,"end":3368,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":3376,"end":3427,"expression":{"type":"AssignmentExpression","start":3376,"end":3427,"operator":"=","left":{"type":"MemberExpression","start":3376,"end":3399,"object":{"type":"Identifier","start":3376,"end":3382,"name":"plugin"},"property":{"type":"Identifier","start":3383,"end":3399,"name":"requestThumbnail"},"computed":false},"right":{"type":"CallExpression","start":3402,"end":3427,"callee":{"type":"MemberExpression","start":3402,"end":3409,"object":{"type":"Identifier","start":3402,"end":3406,"name":"jest"},"property":{"type":"Identifier","start":3407,"end":3409,"name":"fn"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":3410,"end":3426,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":3416,"end":3426,"callee":{"type":"Identifier","start":3416,"end":3421,"name":"delay"},"arguments":[{"type":"Literal","start":3422,"end":3425,"value":100,"raw":"100"}]}}]}}},{"type":"ExpressionStatement","start":3434,"end":3450,"expression":{"type":"CallExpression","start":3434,"end":3450,"callee":{"type":"MemberExpression","start":3434,"end":3448,"object":{"type":"Identifier","start":3434,"end":3440,"name":"plugin"},"property":{"type":"Identifier","start":3441,"end":3448,"name":"install"},"computed":false},"arguments":[]}},{"type":"VariableDeclaration","start":3458,"end":3505,"declarations":[{"type":"VariableDeclarator","start":3464,"end":3505,"id":{"type":"Identifier","start":3464,"end":3469,"name":"file1"},"init":{"type":"ObjectExpression","start":3472,"end":3505,"properties":[{"type":"Property","start":3474,"end":3483,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3474,"end":3476,"name":"id"},"value":{"type":"Literal","start":3478,"end":3483,"value":"bar","raw":"'bar'"},"kind":"init"},{"type":"Property","start":3485,"end":3503,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3485,"end":3489,"name":"type"},"value":{"type":"Literal","start":3491,"end":3503,"value":"image/jpeg","raw":"'image/jpeg'"},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3512,"end":3560,"declarations":[{"type":"VariableDeclarator","start":3518,"end":3560,"id":{"type":"Identifier","start":3518,"end":3523,"name":"file2"},"init":{"type":"ObjectExpression","start":3526,"end":3560,"properties":[{"type":"Property","start":3528,"end":3538,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3528,"end":3530,"name":"id"},"value":{"type":"Literal","start":3532,"end":3538,"value":"bar2","raw":"'bar2'"},"kind":"init"},{"type":"Property","start":3540,"end":3558,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3540,"end":3544,"name":"type"},"value":{"type":"Literal","start":3546,"end":3558,"value":"image/jpeg","raw":"'image/jpeg'"},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":3567,"end":3615,"declarations":[{"type":"VariableDeclarator","start":3573,"end":3615,"id":{"type":"Identifier","start":3573,"end":3578,"name":"file3"},"init":{"type":"ObjectExpression","start":3581,"end":3615,"properties":[{"type":"Property","start":3583,"end":3593,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3583,"end":3585,"name":"id"},"value":{"type":"Literal","start":3587,"end":3593,"value":"bar3","raw":"'bar3'"},"kind":"init"},{"type":"Property","start":3595,"end":3613,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3595,"end":3599,"name":"type"},"value":{"type":"Literal","start":3601,"end":3613,"value":"image/jpeg","raw":"'image/jpeg'"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":3622,"end":3652,"expression":{"type":"CallExpression","start":3622,"end":3652,"callee":{"type":"MemberExpression","start":3622,"end":3635,"object":{"type":"Identifier","start":3622,"end":3626,"name":"core"},"property":{"type":"Identifier","start":3627,"end":3635,"name":"mockFile"},"computed":false},"arguments":[{"type":"MemberExpression","start":3636,"end":3644,"object":{"type":"Identifier","start":3636,"end":3641,"name":"file1"},"property":{"type":"Identifier","start":3642,"end":3644,"name":"id"},"computed":false},{"type":"Identifier","start":3646,"end":3651,"name":"file1"}]}},{"type":"ExpressionStatement","start":3659,"end":3689,"expression":{"type":"CallExpression","start":3659,"end":3689,"callee":{"type":"MemberExpression","start":3659,"end":3668,"object":{"type":"Identifier","start":3659,"end":3663,"name":"core"},"property":{"type":"Identifier","start":3664,"end":3668,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":3669,"end":3681,"value":"file-added","raw":"'file-added'"},{"type":"Identifier","start":3683,"end":3688,"name":"file1"}]}},{"type":"ExpressionStatement","start":3696,"end":3726,"expression":{"type":"CallExpression","start":3696,"end":3726,"callee":{"type":"MemberExpression","start":3696,"end":3709,"object":{"type":"Identifier","start":3696,"end":3700,"name":"core"},"property":{"type":"Identifier","start":3701,"end":3709,"name":"mockFile"},"computed":false},"arguments":[{"type":"MemberExpression","start":3710,"end":3718,"object":{"type":"Identifier","start":3710,"end":3715,"name":"file2"},"property":{"type":"Identifier","start":3716,"end":3718,"name":"id"},"computed":false},{"type":"Identifier","start":3720,"end":3725,"name":"file2"}]}},{"type":"ExpressionStatement","start":3733,"end":3763,"expression":{"type":"CallExpression","start":3733,"end":3763,"callee":{"type":"MemberExpression","start":3733,"end":3742,"object":{"type":"Identifier","start":3733,"end":3737,"name":"core"},"property":{"type":"Identifier","start":3738,"end":3742,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":3743,"end":3755,"value":"file-added","raw":"'file-added'"},{"type":"Identifier","start":3757,"end":3762,"name":"file2"}]}},{"type":"ExpressionStatement","start":3770,"end":3800,"expression":{"type":"CallExpression","start":3770,"end":3800,"callee":{"type":"MemberExpression","start":3770,"end":3783,"object":{"type":"Identifier","start":3770,"end":3774,"name":"core"},"property":{"type":"Identifier","start":3775,"end":3783,"name":"mockFile"},"computed":false},"arguments":[{"type":"MemberExpression","start":3784,"end":3792,"object":{"type":"Identifier","start":3784,"end":3789,"name":"file3"},"property":{"type":"Identifier","start":3790,"end":3792,"name":"id"},"computed":false},{"type":"Identifier","start":3794,"end":3799,"name":"file3"}]}},{"type":"ExpressionStatement","start":3807,"end":3837,"expression":{"type":"CallExpression","start":3807,"end":3837,"callee":{"type":"MemberExpression","start":3807,"end":3816,"object":{"type":"Identifier","start":3807,"end":3811,"name":"core"},"property":{"type":"Identifier","start":3812,"end":3816,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":3817,"end":3829,"value":"file-added","raw":"'file-added'"},{"type":"Identifier","start":3831,"end":3836,"name":"file3"}]}},{"type":"ExpressionStatement","start":3845,"end":3901,"expression":{"type":"CallExpression","start":3845,"end":3901,"callee":{"type":"MemberExpression","start":3845,"end":3898,"object":{"type":"CallExpression","start":3845,"end":3876,"callee":{"type":"Identifier","start":3845,"end":3851,"name":"expect"},"arguments":[{"type":"MemberExpression","start":3852,"end":3875,"object":{"type":"Identifier","start":3852,"end":3858,"name":"plugin"},"property":{"type":"Identifier","start":3859,"end":3875,"name":"requestThumbnail"},"computed":false}]},"property":{"type":"Identifier","start":3877,"end":3898,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":3899,"end":3900,"value":1,"raw":"1"}]}},{"type":"ExpressionStatement","start":3908,"end":3967,"expression":{"type":"CallExpression","start":3908,"end":3967,"callee":{"type":"MemberExpression","start":3908,"end":3960,"object":{"type":"CallExpression","start":3908,"end":3939,"callee":{"type":"Identifier","start":3908,"end":3914,"name":"expect"},"arguments":[{"type":"MemberExpression","start":3915,"end":3938,"object":{"type":"Identifier","start":3915,"end":3921,"name":"plugin"},"property":{"type":"Identifier","start":3922,"end":3938,"name":"requestThumbnail"},"computed":false}]},"property":{"type":"Identifier","start":3940,"end":3960,"name":"toHaveBeenCalledWith"},"computed":false},"arguments":[{"type":"Identifier","start":3961,"end":3966,"name":"file1"}]}},{"type":"ReturnStatement","start":3975,"end":4520,"argument":{"type":"CallExpression","start":3982,"end":4520,"callee":{"type":"MemberExpression","start":3982,"end":4402,"object":{"type":"CallExpression","start":3982,"end":4388,"callee":{"type":"MemberExpression","start":3982,"end":4204,"object":{"type":"CallExpression","start":3982,"end":4190,"callee":{"type":"MemberExpression","start":3982,"end":4006,"object":{"type":"CallExpression","start":3982,"end":3992,"callee":{"type":"Identifier","start":3982,"end":3987,"name":"delay"},"arguments":[{"type":"Literal","start":3988,"end":3991,"value":110,"raw":"110"}]},"property":{"type":"Identifier","start":4002,"end":4006,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4007,"end":4189,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4013,"end":4189,"body":[{"type":"ExpressionStatement","start":4025,"end":4081,"expression":{"type":"CallExpression","start":4025,"end":4081,"callee":{"type":"MemberExpression","start":4025,"end":4078,"object":{"type":"CallExpression","start":4025,"end":4056,"callee":{"type":"Identifier","start":4025,"end":4031,"name":"expect"},"arguments":[{"type":"MemberExpression","start":4032,"end":4055,"object":{"type":"Identifier","start":4032,"end":4038,"name":"plugin"},"property":{"type":"Identifier","start":4039,"end":4055,"name":"requestThumbnail"},"computed":false}]},"property":{"type":"Identifier","start":4057,"end":4078,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":4079,"end":4080,"value":2,"raw":"2"}]}},{"type":"ExpressionStatement","start":4092,"end":4151,"expression":{"type":"CallExpression","start":4092,"end":4151,"callee":{"type":"MemberExpression","start":4092,"end":4144,"object":{"type":"CallExpression","start":4092,"end":4123,"callee":{"type":"Identifier","start":4092,"end":4098,"name":"expect"},"arguments":[{"type":"MemberExpression","start":4099,"end":4122,"object":{"type":"Identifier","start":4099,"end":4105,"name":"plugin"},"property":{"type":"Identifier","start":4106,"end":4122,"name":"requestThumbnail"},"computed":false}]},"property":{"type":"Identifier","start":4124,"end":4144,"name":"toHaveBeenCalledWith"},"computed":false},"arguments":[{"type":"Identifier","start":4145,"end":4150,"name":"file2"}]}},{"type":"ReturnStatement","start":4162,"end":4179,"argument":{"type":"CallExpression","start":4169,"end":4179,"callee":{"type":"Identifier","start":4169,"end":4174,"name":"delay"},"arguments":[{"type":"Literal","start":4175,"end":4178,"value":110,"raw":"110"}]}}]}}]},"property":{"type":"Identifier","start":4200,"end":4204,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4205,"end":4387,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4211,"end":4387,"body":[{"type":"ExpressionStatement","start":4223,"end":4279,"expression":{"type":"CallExpression","start":4223,"end":4279,"callee":{"type":"MemberExpression","start":4223,"end":4276,"object":{"type":"CallExpression","start":4223,"end":4254,"callee":{"type":"Identifier","start":4223,"end":4229,"name":"expect"},"arguments":[{"type":"MemberExpression","start":4230,"end":4253,"object":{"type":"Identifier","start":4230,"end":4236,"name":"plugin"},"property":{"type":"Identifier","start":4237,"end":4253,"name":"requestThumbnail"},"computed":false}]},"property":{"type":"Identifier","start":4255,"end":4276,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":4277,"end":4278,"value":3,"raw":"3"}]}},{"type":"ExpressionStatement","start":4290,"end":4349,"expression":{"type":"CallExpression","start":4290,"end":4349,"callee":{"type":"MemberExpression","start":4290,"end":4342,"object":{"type":"CallExpression","start":4290,"end":4321,"callee":{"type":"Identifier","start":4290,"end":4296,"name":"expect"},"arguments":[{"type":"MemberExpression","start":4297,"end":4320,"object":{"type":"Identifier","start":4297,"end":4303,"name":"plugin"},"property":{"type":"Identifier","start":4304,"end":4320,"name":"requestThumbnail"},"computed":false}]},"property":{"type":"Identifier","start":4322,"end":4342,"name":"toHaveBeenCalledWith"},"computed":false},"arguments":[{"type":"Identifier","start":4343,"end":4348,"name":"file3"}]}},{"type":"ReturnStatement","start":4360,"end":4377,"argument":{"type":"CallExpression","start":4367,"end":4377,"callee":{"type":"Identifier","start":4367,"end":4372,"name":"delay"},"arguments":[{"type":"Literal","start":4373,"end":4376,"value":110,"raw":"110"}]}}]}}]},"property":{"type":"Identifier","start":4398,"end":4402,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4403,"end":4519,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4409,"end":4519,"body":[{"type":"ExpressionStatement","start":4421,"end":4453,"expression":{"type":"CallExpression","start":4421,"end":4453,"callee":{"type":"MemberExpression","start":4421,"end":4449,"object":{"type":"CallExpression","start":4421,"end":4441,"callee":{"type":"Identifier","start":4421,"end":4427,"name":"expect"},"arguments":[{"type":"MemberExpression","start":4428,"end":4440,"object":{"type":"Identifier","start":4428,"end":4434,"name":"plugin"},"property":{"type":"Identifier","start":4435,"end":4440,"name":"queue"},"computed":false}]},"property":{"type":"Identifier","start":4442,"end":4449,"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":4450,"end":4452,"elements":[]}]}},{"type":"ExpressionStatement","start":4464,"end":4509,"expression":{"type":"CallExpression","start":4464,"end":4509,"callee":{"type":"MemberExpression","start":4464,"end":4502,"object":{"type":"CallExpression","start":4464,"end":4494,"callee":{"type":"Identifier","start":4464,"end":4470,"name":"expect"},"arguments":[{"type":"MemberExpression","start":4471,"end":4493,"object":{"type":"Identifier","start":4471,"end":4477,"name":"plugin"},"property":{"type":"Identifier","start":4478,"end":4493,"name":"queueProcessing"},"computed":false}]},"property":{"type":"Identifier","start":4495,"end":4502,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":4503,"end":4508,"value":false,"raw":"false"}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":4533,"end":5876,"expression":{"type":"CallExpression","start":4533,"end":5876,"callee":{"type":"Identifier","start":4533,"end":4535,"name":"it"},"arguments":[{"type":"Literal","start":4536,"end":4586,"value":"should revoke object URLs when files are removed","raw":"'should revoke object URLs when files are removed'"},{"type":"ArrowFunctionExpression","start":4588,"end":5875,"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":4600,"end":5875,"body":[{"type":"VariableDeclaration","start":4608,"end":4635,"declarations":[{"type":"VariableDeclarator","start":4614,"end":4635,"id":{"type":"Identifier","start":4614,"end":4618,"name":"core"},"init":{"type":"NewExpression","start":4621,"end":4635,"callee":{"type":"Identifier","start":4625,"end":4633,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":4642,"end":4691,"declarations":[{"type":"VariableDeclarator","start":4648,"end":4691,"id":{"type":"Identifier","start":4648,"end":4654,"name":"plugin"},"init":{"type":"NewExpression","start":4657,"end":4691,"callee":{"type":"Identifier","start":4661,"end":4685,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":4686,"end":4690,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":4698,"end":4714,"expression":{"type":"CallExpression","start":4698,"end":4714,"callee":{"type":"MemberExpression","start":4698,"end":4712,"object":{"type":"Identifier","start":4698,"end":4704,"name":"plugin"},"property":{"type":"Identifier","start":4705,"end":4712,"name":"install"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":4722,"end":4763,"expression":{"type":"AssignmentExpression","start":4722,"end":4763,"operator":"=","left":{"type":"MemberExpression","start":4722,"end":4741,"object":{"type":"Identifier","start":4722,"end":4725,"name":"URL"},"property":{"type":"Identifier","start":4726,"end":4741,"name":"revokeObjectURL"},"computed":false},"right":{"type":"CallExpression","start":4744,"end":4763,"callee":{"type":"MemberExpression","start":4744,"end":4751,"object":{"type":"Identifier","start":4744,"end":4748,"name":"jest"},"property":{"type":"Identifier","start":4749,"end":4751,"name":"fn"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4752,"end":4762,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"Literal","start":4758,"end":4762,"value":null,"raw":"null"}}]}}},{"type":"TryStatement","start":4771,"end":5869,"block":{"type":"BlockStatement","start":4775,"end":5816,"body":[{"type":"ExpressionStatement","start":4785,"end":4922,"expression":{"type":"AssignmentExpression","start":4785,"end":4922,"operator":"=","left":{"type":"MemberExpression","start":4785,"end":4807,"object":{"type":"Identifier","start":4785,"end":4791,"name":"plugin"},"property":{"type":"Identifier","start":4792,"end":4807,"name":"createThumbnail"},"computed":false},"right":{"type":"CallExpression","start":4810,"end":4922,"callee":{"type":"MemberExpression","start":4810,"end":4817,"object":{"type":"Identifier","start":4810,"end":4814,"name":"jest"},"property":{"type":"Identifier","start":4815,"end":4817,"name":"fn"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4818,"end":4921,"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":4830,"end":4921,"body":[{"type":"ExpressionStatement","start":4842,"end":4857,"expression":{"type":"AwaitExpression","start":4842,"end":4857,"argument":{"type":"CallExpression","start":4848,"end":4857,"callee":{"type":"Identifier","start":4848,"end":4853,"name":"delay"},"arguments":[{"type":"Literal","start":4854,"end":4856,"value":50,"raw":"50"}]}}},{"type":"ReturnStatement","start":4868,"end":4911,"argument":{"type":"Literal","start":4875,"end":4911,"value":"blob:http://uppy.io/fake-thumbnail","raw":"'blob:http://uppy.io/fake-thumbnail'"}}]}}]}}},{"type":"ExpressionStatement","start":4931,"end":5087,"expression":{"type":"AssignmentExpression","start":4931,"end":5087,"operator":"=","left":{"type":"MemberExpression","start":4931,"end":4951,"object":{"type":"Identifier","start":4931,"end":4937,"name":"plugin"},"property":{"type":"Identifier","start":4938,"end":4951,"name":"setPreviewURL"},"computed":false},"right":{"type":"CallExpression","start":4954,"end":5087,"callee":{"type":"MemberExpression","start":4954,"end":4961,"object":{"type":"Identifier","start":4954,"end":4958,"name":"jest"},"property":{"type":"Identifier","start":4959,"end":4961,"name":"fn"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":4962,"end":5086,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4963,"end":4965,"name":"id"},{"type":"Identifier","start":4967,"end":4974,"name":"preview"}],"body":{"type":"BlockStatement","start":4979,"end":5086,"body":[{"type":"IfStatement","start":4991,"end":5028,"test":{"type":"BinaryExpression","start":4995,"end":5003,"left":{"type":"Identifier","start":4995,"end":4997,"name":"id"},"operator":"===","right":{"type":"Literal","start":5002,"end":5003,"value":1,"raw":"1"}},"consequent":{"type":"ExpressionStatement","start":5005,"end":5028,"expression":{"type":"AssignmentExpression","start":5005,"end":5028,"operator":"=","left":{"type":"MemberExpression","start":5005,"end":5018,"object":{"type":"Identifier","start":5005,"end":5010,"name":"file1"},"property":{"type":"Identifier","start":5011,"end":5018,"name":"preview"},"computed":false},"right":{"type":"Identifier","start":5021,"end":5028,"name":"preview"}}},"alternate":null},{"type":"IfStatement","start":5039,"end":5076,"test":{"type":"BinaryExpression","start":5043,"end":5051,"left":{"type":"Identifier","start":5043,"end":5045,"name":"id"},"operator":"===","right":{"type":"Literal","start":5050,"end":5051,"value":2,"raw":"2"}},"consequent":{"type":"ExpressionStatement","start":5053,"end":5076,"expression":{"type":"AssignmentExpression","start":5053,"end":5076,"operator":"=","left":{"type":"MemberExpression","start":5053,"end":5066,"object":{"type":"Identifier","start":5053,"end":5058,"name":"file2"},"property":{"type":"Identifier","start":5059,"end":5066,"name":"preview"},"computed":false},"right":{"type":"Identifier","start":5069,"end":5076,"name":"preview"}}},"alternate":null}]}}]}}},{"type":"VariableDeclaration","start":5097,"end":5157,"declarations":[{"type":"VariableDeclarator","start":5103,"end":5157,"id":{"type":"Identifier","start":5103,"end":5108,"name":"file1"},"init":{"type":"ObjectExpression","start":5111,"end":5157,"properties":[{"type":"Property","start":5113,"end":5118,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5113,"end":5115,"name":"id"},"value":{"type":"Literal","start":5117,"end":5118,"value":1,"raw":"1"},"kind":"init"},{"type":"Property","start":5120,"end":5135,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5120,"end":5124,"name":"name"},"value":{"type":"Literal","start":5126,"end":5135,"value":"bar.jpg","raw":"'bar.jpg'"},"kind":"init"},{"type":"Property","start":5137,"end":5155,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5137,"end":5141,"name":"type"},"value":{"type":"Literal","start":5143,"end":5155,"value":"image/jpeg","raw":"'image/jpeg'"},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":5166,"end":5227,"declarations":[{"type":"VariableDeclarator","start":5172,"end":5227,"id":{"type":"Identifier","start":5172,"end":5177,"name":"file2"},"init":{"type":"ObjectExpression","start":5180,"end":5227,"properties":[{"type":"Property","start":5182,"end":5187,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5182,"end":5184,"name":"id"},"value":{"type":"Literal","start":5186,"end":5187,"value":2,"raw":"2"},"kind":"init"},{"type":"Property","start":5189,"end":5205,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5189,"end":5193,"name":"name"},"value":{"type":"Literal","start":5195,"end":5205,"value":"bar2.jpg","raw":"'bar2.jpg'"},"kind":"init"},{"type":"Property","start":5207,"end":5225,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5207,"end":5211,"name":"type"},"value":{"type":"Literal","start":5213,"end":5225,"value":"image/jpeg","raw":"'image/jpeg'"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":5236,"end":5266,"expression":{"type":"CallExpression","start":5236,"end":5266,"callee":{"type":"MemberExpression","start":5236,"end":5249,"object":{"type":"Identifier","start":5236,"end":5240,"name":"core"},"property":{"type":"Identifier","start":5241,"end":5249,"name":"mockFile"},"computed":false},"arguments":[{"type":"MemberExpression","start":5250,"end":5258,"object":{"type":"Identifier","start":5250,"end":5255,"name":"file1"},"property":{"type":"Identifier","start":5256,"end":5258,"name":"id"},"computed":false},{"type":"Identifier","start":5260,"end":5265,"name":"file1"}]}},{"type":"ExpressionStatement","start":5275,"end":5305,"expression":{"type":"CallExpression","start":5275,"end":5305,"callee":{"type":"MemberExpression","start":5275,"end":5284,"object":{"type":"Identifier","start":5275,"end":5279,"name":"core"},"property":{"type":"Identifier","start":5280,"end":5284,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":5285,"end":5297,"value":"file-added","raw":"'file-added'"},{"type":"Identifier","start":5299,"end":5304,"name":"file1"}]}},{"type":"ExpressionStatement","start":5314,"end":5344,"expression":{"type":"CallExpression","start":5314,"end":5344,"callee":{"type":"MemberExpression","start":5314,"end":5327,"object":{"type":"Identifier","start":5314,"end":5318,"name":"core"},"property":{"type":"Identifier","start":5319,"end":5327,"name":"mockFile"},"computed":false},"arguments":[{"type":"MemberExpression","start":5328,"end":5336,"object":{"type":"Identifier","start":5328,"end":5333,"name":"file2"},"property":{"type":"Identifier","start":5334,"end":5336,"name":"id"},"computed":false},{"type":"Identifier","start":5338,"end":5343,"name":"file2"}]}},{"type":"ExpressionStatement","start":5353,"end":5383,"expression":{"type":"CallExpression","start":5353,"end":5383,"callee":{"type":"MemberExpression","start":5353,"end":5362,"object":{"type":"Identifier","start":5353,"end":5357,"name":"core"},"property":{"type":"Identifier","start":5358,"end":5362,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":5363,"end":5375,"value":"file-added","raw":"'file-added'"},{"type":"Identifier","start":5377,"end":5382,"name":"file2"}]}},{"type":"ExpressionStatement","start":5392,"end":5428,"expression":{"type":"CallExpression","start":5392,"end":5428,"callee":{"type":"MemberExpression","start":5392,"end":5425,"object":{"type":"CallExpression","start":5392,"end":5412,"callee":{"type":"Identifier","start":5392,"end":5398,"name":"expect"},"arguments":[{"type":"MemberExpression","start":5399,"end":5411,"object":{"type":"Identifier","start":5399,"end":5405,"name":"plugin"},"property":{"type":"Identifier","start":5406,"end":5411,"name":"queue"},"computed":false}]},"property":{"type":"Identifier","start":5413,"end":5425,"name":"toHaveLength"},"computed":false},"arguments":[{"type":"Literal","start":5426,"end":5427,"value":1,"raw":"1"}]}},{"type":"ExpressionStatement","start":5478,"end":5510,"expression":{"type":"CallExpression","start":5478,"end":5510,"callee":{"type":"MemberExpression","start":5478,"end":5487,"object":{"type":"Identifier","start":5478,"end":5482,"name":"core"},"property":{"type":"Identifier","start":5483,"end":5487,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":5488,"end":5502,"value":"file-removed","raw":"'file-removed'"},{"type":"Identifier","start":5504,"end":5509,"name":"file2"}]}},{"type":"ExpressionStatement","start":5519,"end":5555,"expression":{"type":"CallExpression","start":5519,"end":5555,"callee":{"type":"MemberExpression","start":5519,"end":5552,"object":{"type":"CallExpression","start":5519,"end":5539,"callee":{"type":"Identifier","start":5519,"end":5525,"name":"expect"},"arguments":[{"type":"MemberExpression","start":5526,"end":5538,"object":{"type":"Identifier","start":5526,"end":5532,"name":"plugin"},"property":{"type":"Identifier","start":5533,"end":5538,"name":"queue"},"computed":false}]},"property":{"type":"Identifier","start":5540,"end":5552,"name":"toHaveLength"},"computed":false},"arguments":[{"type":"Literal","start":5553,"end":5554,"value":0,"raw":"0"}]}},{"type":"ExpressionStatement","start":5565,"end":5620,"expression":{"type":"CallExpression","start":5565,"end":5620,"callee":{"type":"MemberExpression","start":5565,"end":5617,"object":{"type":"CallExpression","start":5565,"end":5595,"callee":{"type":"Identifier","start":5565,"end":5571,"name":"expect"},"arguments":[{"type":"MemberExpression","start":5572,"end":5594,"object":{"type":"Identifier","start":5572,"end":5578,"name":"plugin"},"property":{"type":"Identifier","start":5579,"end":5594,"name":"createThumbnail"},"computed":false}]},"property":{"type":"Identifier","start":5596,"end":5617,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":5618,"end":5619,"value":1,"raw":"1"}]}},{"type":"ExpressionStatement","start":5629,"end":5679,"expression":{"type":"CallExpression","start":5629,"end":5679,"callee":{"type":"MemberExpression","start":5629,"end":5677,"object":{"type":"MemberExpression","start":5629,"end":5660,"object":{"type":"CallExpression","start":5629,"end":5656,"callee":{"type":"Identifier","start":5629,"end":5635,"name":"expect"},"arguments":[{"type":"MemberExpression","start":5636,"end":5655,"object":{"type":"Identifier","start":5636,"end":5639,"name":"URL"},"property":{"type":"Identifier","start":5640,"end":5655,"name":"revokeObjectURL"},"computed":false}]},"property":{"type":"Identifier","start":5657,"end":5660,"name":"not"},"computed":false},"property":{"type":"Identifier","start":5661,"end":5677,"name":"toHaveBeenCalled"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":5689,"end":5705,"expression":{"type":"AwaitExpression","start":5689,"end":5705,"argument":{"type":"CallExpression","start":5695,"end":5705,"callee":{"type":"Identifier","start":5695,"end":5700,"name":"delay"},"arguments":[{"type":"Literal","start":5701,"end":5704,"value":110,"raw":"110"}]}}},{"type":"ExpressionStatement","start":5715,"end":5747,"expression":{"type":"CallExpression","start":5715,"end":5747,"callee":{"type":"MemberExpression","start":5715,"end":5724,"object":{"type":"Identifier","start":5715,"end":5719,"name":"core"},"property":{"type":"Identifier","start":5720,"end":5724,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":5725,"end":5739,"value":"file-removed","raw":"'file-removed'"},{"type":"Identifier","start":5741,"end":5746,"name":"file1"}]}},{"type":"ExpressionStatement","start":5756,"end":5808,"expression":{"type":"CallExpression","start":5756,"end":5808,"callee":{"type":"MemberExpression","start":5756,"end":5805,"object":{"type":"CallExpression","start":5756,"end":5783,"callee":{"type":"Identifier","start":5756,"end":5762,"name":"expect"},"arguments":[{"type":"MemberExpression","start":5763,"end":5782,"object":{"type":"Identifier","start":5763,"end":5766,"name":"URL"},"property":{"type":"Identifier","start":5767,"end":5782,"name":"revokeObjectURL"},"computed":false}]},"property":{"type":"Identifier","start":5784,"end":5805,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":5806,"end":5807,"value":1,"raw":"1"}]}}]},"handler":null,"finalizer":{"type":"BlockStatement","start":5825,"end":5869,"body":[{"type":"ExpressionStatement","start":5835,"end":5861,"expression":{"type":"UnaryExpression","start":5835,"end":5861,"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":5842,"end":5861,"object":{"type":"Identifier","start":5842,"end":5845,"name":"URL"},"property":{"type":"Identifier","start":5846,"end":5861,"name":"revokeObjectURL"},"computed":false}}}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":5885,"end":7212,"expression":{"type":"CallExpression","start":5885,"end":7212,"callee":{"type":"Identifier","start":5885,"end":5893,"name":"describe"},"arguments":[{"type":"Literal","start":5894,"end":5902,"value":"events","raw":"'events'"},{"type":"ArrowFunctionExpression","start":5904,"end":7211,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":5910,"end":7211,"body":[{"type":"VariableDeclaration","start":5916,"end":5943,"declarations":[{"type":"VariableDeclarator","start":5922,"end":5943,"id":{"type":"Identifier","start":5922,"end":5926,"name":"core"},"init":{"type":"NewExpression","start":5929,"end":5943,"callee":{"type":"Identifier","start":5933,"end":5941,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":5948,"end":5997,"declarations":[{"type":"VariableDeclarator","start":5954,"end":5997,"id":{"type":"Identifier","start":5954,"end":5960,"name":"plugin"},"init":{"type":"NewExpression","start":5963,"end":5997,"callee":{"type":"Identifier","start":5967,"end":5991,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":5992,"end":5996,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":6002,"end":6090,"expression":{"type":"AssignmentExpression","start":6002,"end":6090,"operator":"=","left":{"type":"MemberExpression","start":6002,"end":6024,"object":{"type":"Identifier","start":6002,"end":6008,"name":"plugin"},"property":{"type":"Identifier","start":6009,"end":6024,"name":"createThumbnail"},"computed":false},"right":{"type":"CallExpression","start":6027,"end":6090,"callee":{"type":"MemberExpression","start":6027,"end":6034,"object":{"type":"Identifier","start":6027,"end":6031,"name":"jest"},"property":{"type":"Identifier","start":6032,"end":6034,"name":"fn"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":6035,"end":6089,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":6036,"end":6040,"name":"file"}],"body":{"type":"CallExpression","start":6045,"end":6089,"callee":{"type":"MemberExpression","start":6045,"end":6060,"object":{"type":"CallExpression","start":6045,"end":6055,"callee":{"type":"Identifier","start":6045,"end":6050,"name":"delay"},"arguments":[{"type":"Literal","start":6051,"end":6054,"value":100,"raw":"100"}]},"property":{"type":"Identifier","start":6056,"end":6060,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":6061,"end":6088,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"TemplateLiteral","start":6067,"end":6088,"expressions":[{"type":"MemberExpression","start":6075,"end":6082,"object":{"type":"Identifier","start":6075,"end":6079,"name":"file"},"property":{"type":"Identifier","start":6080,"end":6082,"name":"id"},"computed":false}],"quasis":[{"type":"TemplateElement","start":6068,"end":6073,"value":{"raw":"blob:","cooked":"blob:"},"tail":false},{"type":"TemplateElement","start":6083,"end":6087,"value":{"raw":".png","cooked":".png"},"tail":true}]}}]}}]}}},{"type":"ExpressionStatement","start":6095,"end":6127,"expression":{"type":"AssignmentExpression","start":6095,"end":6127,"operator":"=","left":{"type":"MemberExpression","start":6095,"end":6115,"object":{"type":"Identifier","start":6095,"end":6101,"name":"plugin"},"property":{"type":"Identifier","start":6102,"end":6115,"name":"setPreviewURL"},"computed":false},"right":{"type":"CallExpression","start":6118,"end":6127,"callee":{"type":"MemberExpression","start":6118,"end":6125,"object":{"type":"Identifier","start":6118,"end":6122,"name":"jest"},"property":{"type":"Identifier","start":6123,"end":6125,"name":"fn"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":6132,"end":6148,"expression":{"type":"CallExpression","start":6132,"end":6148,"callee":{"type":"MemberExpression","start":6132,"end":6146,"object":{"type":"Identifier","start":6132,"end":6138,"name":"plugin"},"property":{"type":"Identifier","start":6139,"end":6146,"name":"install"},"computed":false},"arguments":[]}},{"type":"FunctionDeclaration","start":6154,"end":6252,"id":{"type":"Identifier","start":6163,"end":6166,"name":"add"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6168,"end":6172,"name":"file"}],"body":{"type":"BlockStatement","start":6174,"end":6252,"body":[{"type":"ExpressionStatement","start":6182,"end":6210,"expression":{"type":"CallExpression","start":6182,"end":6210,"callee":{"type":"MemberExpression","start":6182,"end":6195,"object":{"type":"Identifier","start":6182,"end":6186,"name":"core"},"property":{"type":"Identifier","start":6187,"end":6195,"name":"mockFile"},"computed":false},"arguments":[{"type":"MemberExpression","start":6196,"end":6203,"object":{"type":"Identifier","start":6196,"end":6200,"name":"file"},"property":{"type":"Identifier","start":6201,"end":6203,"name":"id"},"computed":false},{"type":"Identifier","start":6205,"end":6209,"name":"file"}]}},{"type":"ExpressionStatement","start":6217,"end":6246,"expression":{"type":"CallExpression","start":6217,"end":6246,"callee":{"type":"MemberExpression","start":6217,"end":6226,"object":{"type":"Identifier","start":6217,"end":6221,"name":"core"},"property":{"type":"Identifier","start":6222,"end":6226,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":6227,"end":6239,"value":"file-added","raw":"'file-added'"},{"type":"Identifier","start":6241,"end":6245,"name":"file"}]}}]}},{"type":"ExpressionStatement","start":6258,"end":6848,"expression":{"type":"CallExpression","start":6258,"end":6848,"callee":{"type":"Identifier","start":6258,"end":6260,"name":"it"},"arguments":[{"type":"Literal","start":6261,"end":6325,"value":"should emit thumbnail:generated when a thumbnail was generated","raw":"'should emit thumbnail:generated when a thumbnail was generated'"},{"type":"ArrowFunctionExpression","start":6327,"end":6847,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"NewExpression","start":6333,"end":6847,"callee":{"type":"Identifier","start":6337,"end":6344,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":6345,"end":6846,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6346,"end":6353,"name":"resolve"},{"type":"Identifier","start":6355,"end":6361,"name":"reject"}],"body":{"type":"BlockStatement","start":6366,"end":6846,"body":[{"type":"VariableDeclaration","start":6374,"end":6414,"declarations":[{"type":"VariableDeclarator","start":6380,"end":6414,"id":{"type":"Identifier","start":6380,"end":6388,"name":"expected"},"init":{"type":"ArrayExpression","start":6391,"end":6414,"elements":[{"type":"Literal","start":6392,"end":6397,"value":"bar","raw":"'bar'"},{"type":"Literal","start":6399,"end":6405,"value":"bar2","raw":"'bar2'"},{"type":"Literal","start":6407,"end":6413,"value":"bar3","raw":"'bar3'"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":6421,"end":6706,"expression":{"type":"CallExpression","start":6421,"end":6706,"callee":{"type":"MemberExpression","start":6421,"end":6428,"object":{"type":"Identifier","start":6421,"end":6425,"name":"core"},"property":{"type":"Identifier","start":6426,"end":6428,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":6429,"end":6450,"value":"thumbnail:generated","raw":"'thumbnail:generated'"},{"type":"ArrowFunctionExpression","start":6452,"end":6705,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6453,"end":6457,"name":"file"},{"type":"Identifier","start":6459,"end":6466,"name":"preview"}],"body":{"type":"BlockStatement","start":6471,"end":6705,"body":[{"type":"TryStatement","start":6481,"end":6652,"block":{"type":"BlockStatement","start":6485,"end":6599,"body":[{"type":"ExpressionStatement","start":6497,"end":6535,"expression":{"type":"CallExpression","start":6497,"end":6535,"callee":{"type":"MemberExpression","start":6497,"end":6517,"object":{"type":"CallExpression","start":6497,"end":6512,"callee":{"type":"Identifier","start":6497,"end":6503,"name":"expect"},"arguments":[{"type":"MemberExpression","start":6504,"end":6511,"object":{"type":"Identifier","start":6504,"end":6508,"name":"file"},"property":{"type":"Identifier","start":6509,"end":6511,"name":"id"},"computed":false}]},"property":{"type":"Identifier","start":6513,"end":6517,"name":"toBe"},"computed":false},"arguments":[{"type":"CallExpression","start":6518,"end":6534,"callee":{"type":"MemberExpression","start":6518,"end":6532,"object":{"type":"Identifier","start":6518,"end":6526,"name":"expected"},"property":{"type":"Identifier","start":6527,"end":6532,"name":"shift"},"computed":false},"arguments":[]}]}},{"type":"ExpressionStatement","start":6546,"end":6589,"expression":{"type":"CallExpression","start":6546,"end":6589,"callee":{"type":"MemberExpression","start":6546,"end":6566,"object":{"type":"CallExpression","start":6546,"end":6561,"callee":{"type":"Identifier","start":6546,"end":6552,"name":"expect"},"arguments":[{"type":"Identifier","start":6553,"end":6560,"name":"preview"}]},"property":{"type":"Identifier","start":6562,"end":6566,"name":"toBe"},"computed":false},"arguments":[{"type":"TemplateLiteral","start":6567,"end":6588,"expressions":[{"type":"MemberExpression","start":6575,"end":6582,"object":{"type":"Identifier","start":6575,"end":6579,"name":"file"},"property":{"type":"Identifier","start":6580,"end":6582,"name":"id"},"computed":false}],"quasis":[{"type":"TemplateElement","start":6568,"end":6573,"value":{"raw":"blob:","cooked":"blob:"},"tail":false},{"type":"TemplateElement","start":6583,"end":6587,"value":{"raw":".png","cooked":".png"},"tail":true}]}]}}]},"handler":{"type":"CatchClause","start":6600,"end":6652,"param":{"type":"Identifier","start":6607,"end":6610,"name":"err"},"body":{"type":"BlockStatement","start":6612,"end":6652,"body":[{"type":"ReturnStatement","start":6624,"end":6642,"argument":{"type":"CallExpression","start":6631,"end":6642,"callee":{"type":"Identifier","start":6631,"end":6637,"name":"reject"},"arguments":[{"type":"Identifier","start":6638,"end":6641,"name":"err"}]}}]}},"finalizer":null},{"type":"IfStatement","start":6661,"end":6697,"test":{"type":"BinaryExpression","start":6665,"end":6686,"left":{"type":"MemberExpression","start":6665,"end":6680,"object":{"type":"Identifier","start":6665,"end":6673,"name":"expected"},"property":{"type":"Identifier","start":6674,"end":6680,"name":"length"},"computed":false},"operator":"===","right":{"type":"Literal","start":6685,"end":6686,"value":0,"raw":"0"}},"consequent":{"type":"ExpressionStatement","start":6688,"end":6697,"expression":{"type":"CallExpression","start":6688,"end":6697,"callee":{"type":"Identifier","start":6688,"end":6695,"name":"resolve"},"arguments":[]}},"alternate":null}]}}]}},{"type":"ExpressionStatement","start":6713,"end":6750,"expression":{"type":"CallExpression","start":6713,"end":6750,"callee":{"type":"Identifier","start":6713,"end":6716,"name":"add"},"arguments":[{"type":"ObjectExpression","start":6717,"end":6749,"properties":[{"type":"Property","start":6719,"end":6728,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6719,"end":6721,"name":"id"},"value":{"type":"Literal","start":6723,"end":6728,"value":"bar","raw":"'bar'"},"kind":"init"},{"type":"Property","start":6730,"end":6747,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6730,"end":6734,"name":"type"},"value":{"type":"Literal","start":6736,"end":6747,"value":"image/png","raw":"'image/png'"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":6757,"end":6795,"expression":{"type":"CallExpression","start":6757,"end":6795,"callee":{"type":"Identifier","start":6757,"end":6760,"name":"add"},"arguments":[{"type":"ObjectExpression","start":6761,"end":6794,"properties":[{"type":"Property","start":6763,"end":6773,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6763,"end":6765,"name":"id"},"value":{"type":"Literal","start":6767,"end":6773,"value":"bar2","raw":"'bar2'"},"kind":"init"},{"type":"Property","start":6775,"end":6792,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6775,"end":6779,"name":"type"},"value":{"type":"Literal","start":6781,"end":6792,"value":"image/png","raw":"'image/png'"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":6802,"end":6840,"expression":{"type":"CallExpression","start":6802,"end":6840,"callee":{"type":"Identifier","start":6802,"end":6805,"name":"add"},"arguments":[{"type":"ObjectExpression","start":6806,"end":6839,"properties":[{"type":"Property","start":6808,"end":6818,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6808,"end":6810,"name":"id"},"value":{"type":"Literal","start":6812,"end":6818,"value":"bar3","raw":"'bar3'"},"kind":"init"},{"type":"Property","start":6820,"end":6837,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6820,"end":6824,"name":"type"},"value":{"type":"Literal","start":6826,"end":6837,"value":"image/png","raw":"'image/png'"},"kind":"init"}]}]}}]}}]}}]}},{"type":"ExpressionStatement","start":6854,"end":7207,"expression":{"type":"CallExpression","start":6854,"end":7207,"callee":{"type":"Identifier","start":6854,"end":6856,"name":"it"},"arguments":[{"type":"Literal","start":6857,"end":6929,"value":"should emit thumbnail:all-generated when all thumbnails were generated","raw":"'should emit thumbnail:all-generated when all thumbnails were generated'"},{"type":"ArrowFunctionExpression","start":6931,"end":7206,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":6937,"end":7206,"body":[{"type":"ReturnStatement","start":6945,"end":7200,"argument":{"type":"CallExpression","start":6952,"end":7200,"callee":{"type":"MemberExpression","start":6952,"end":7138,"object":{"type":"NewExpression","start":6952,"end":7133,"callee":{"type":"Identifier","start":6956,"end":6963,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":6964,"end":7132,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6965,"end":6972,"name":"resolve"}],"body":{"type":"BlockStatement","start":6977,"end":7132,"body":[{"type":"ExpressionStatement","start":6987,"end":7030,"expression":{"type":"CallExpression","start":6987,"end":7030,"callee":{"type":"MemberExpression","start":6987,"end":6994,"object":{"type":"Identifier","start":6987,"end":6991,"name":"core"},"property":{"type":"Identifier","start":6992,"end":6994,"name":"on"},"computed":false},"arguments":[{"type":"Literal","start":6995,"end":7020,"value":"thumbnail:all-generated","raw":"'thumbnail:all-generated'"},{"type":"Identifier","start":7022,"end":7029,"name":"resolve"}]}},{"type":"ExpressionStatement","start":7039,"end":7077,"expression":{"type":"CallExpression","start":7039,"end":7077,"callee":{"type":"Identifier","start":7039,"end":7042,"name":"add"},"arguments":[{"type":"ObjectExpression","start":7043,"end":7076,"properties":[{"type":"Property","start":7045,"end":7055,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7045,"end":7047,"name":"id"},"value":{"type":"Literal","start":7049,"end":7055,"value":"bar4","raw":"'bar4'"},"kind":"init"},{"type":"Property","start":7057,"end":7074,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7057,"end":7061,"name":"type"},"value":{"type":"Literal","start":7063,"end":7074,"value":"image/png","raw":"'image/png'"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":7086,"end":7124,"expression":{"type":"CallExpression","start":7086,"end":7124,"callee":{"type":"Identifier","start":7086,"end":7089,"name":"add"},"arguments":[{"type":"ObjectExpression","start":7090,"end":7123,"properties":[{"type":"Property","start":7092,"end":7102,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7092,"end":7094,"name":"id"},"value":{"type":"Literal","start":7096,"end":7102,"value":"bar5","raw":"'bar5'"},"kind":"init"},{"type":"Property","start":7104,"end":7121,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7104,"end":7108,"name":"type"},"value":{"type":"Literal","start":7110,"end":7121,"value":"image/png","raw":"'image/png'"},"kind":"init"}]}]}}]}}]},"property":{"type":"Identifier","start":7134,"end":7138,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":7139,"end":7199,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":7145,"end":7199,"body":[{"type":"ExpressionStatement","start":7155,"end":7191,"expression":{"type":"CallExpression","start":7155,"end":7191,"callee":{"type":"MemberExpression","start":7155,"end":7188,"object":{"type":"CallExpression","start":7155,"end":7175,"callee":{"type":"Identifier","start":7155,"end":7161,"name":"expect"},"arguments":[{"type":"MemberExpression","start":7162,"end":7174,"object":{"type":"Identifier","start":7162,"end":7168,"name":"plugin"},"property":{"type":"Identifier","start":7169,"end":7174,"name":"queue"},"computed":false}]},"property":{"type":"Identifier","start":7176,"end":7188,"name":"toHaveLength"},"computed":false},"arguments":[{"type":"Literal","start":7189,"end":7190,"value":0,"raw":"0"}]}}]}}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":7216,"end":9563,"expression":{"type":"CallExpression","start":7216,"end":9563,"callee":{"type":"Identifier","start":7216,"end":7224,"name":"describe"},"arguments":[{"type":"Literal","start":7225,"end":7243,"value":"requestThumbnail","raw":"'requestThumbnail'"},{"type":"ArrowFunctionExpression","start":7245,"end":9562,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":7251,"end":9562,"body":[{"type":"ExpressionStatement","start":7257,"end":7932,"expression":{"type":"CallExpression","start":7257,"end":7932,"callee":{"type":"Identifier","start":7257,"end":7259,"name":"it"},"arguments":[{"type":"Literal","start":7260,"end":7319,"value":"should call createThumbnail if it is a supported filetype","raw":"'should call createThumbnail if it is a supported filetype'"},{"type":"ArrowFunctionExpression","start":7321,"end":7931,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":7327,"end":7931,"body":[{"type":"VariableDeclaration","start":7335,"end":7362,"declarations":[{"type":"VariableDeclarator","start":7341,"end":7362,"id":{"type":"Identifier","start":7341,"end":7345,"name":"core"},"init":{"type":"NewExpression","start":7348,"end":7362,"callee":{"type":"Identifier","start":7352,"end":7360,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":7369,"end":7418,"declarations":[{"type":"VariableDeclarator","start":7375,"end":7418,"id":{"type":"Identifier","start":7375,"end":7381,"name":"plugin"},"init":{"type":"NewExpression","start":7384,"end":7418,"callee":{"type":"Identifier","start":7388,"end":7412,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":7413,"end":7417,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":7426,"end":7522,"expression":{"type":"AssignmentExpression","start":7426,"end":7522,"operator":"=","left":{"type":"MemberExpression","start":7426,"end":7448,"object":{"type":"Identifier","start":7426,"end":7432,"name":"plugin"},"property":{"type":"Identifier","start":7433,"end":7448,"name":"createThumbnail"},"computed":false},"right":{"type":"CallExpression","start":7451,"end":7522,"callee":{"type":"MemberExpression","start":7451,"end":7494,"object":{"type":"CallExpression","start":7451,"end":7469,"callee":{"type":"MemberExpression","start":7451,"end":7467,"object":{"type":"Identifier","start":7451,"end":7455,"name":"jest"},"property":{"type":"Identifier","start":7465,"end":7467,"name":"fn"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":7479,"end":7494,"name":"mockReturnValue"},"computed":false},"arguments":[{"type":"CallExpression","start":7495,"end":7521,"callee":{"type":"MemberExpression","start":7495,"end":7510,"object":{"type":"Identifier","start":7495,"end":7502,"name":"Promise"},"property":{"type":"Identifier","start":7503,"end":7510,"name":"resolve"},"computed":false},"arguments":[{"type":"Literal","start":7511,"end":7520,"value":"preview","raw":"'preview'"}]}]}}},{"type":"ExpressionStatement","start":7529,"end":7561,"expression":{"type":"AssignmentExpression","start":7529,"end":7561,"operator":"=","left":{"type":"MemberExpression","start":7529,"end":7549,"object":{"type":"Identifier","start":7529,"end":7535,"name":"plugin"},"property":{"type":"Identifier","start":7536,"end":7549,"name":"setPreviewURL"},"computed":false},"right":{"type":"CallExpression","start":7552,"end":7561,"callee":{"type":"MemberExpression","start":7552,"end":7559,"object":{"type":"Identifier","start":7552,"end":7556,"name":"jest"},"property":{"type":"Identifier","start":7557,"end":7559,"name":"fn"},"computed":false},"arguments":[]}}},{"type":"VariableDeclaration","start":7569,"end":7633,"declarations":[{"type":"VariableDeclarator","start":7575,"end":7633,"id":{"type":"Identifier","start":7575,"end":7579,"name":"file"},"init":{"type":"ObjectExpression","start":7582,"end":7633,"properties":[{"type":"Property","start":7584,"end":7595,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7584,"end":7586,"name":"id"},"value":{"type":"Literal","start":7588,"end":7595,"value":"file1","raw":"'file1'"},"kind":"init"},{"type":"Property","start":7597,"end":7614,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7597,"end":7601,"name":"type"},"value":{"type":"Literal","start":7603,"end":7614,"value":"image/png","raw":"'image/png'"},"kind":"init"},{"type":"Property","start":7616,"end":7631,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7616,"end":7624,"name":"isRemote"},"value":{"type":"Literal","start":7626,"end":7631,"value":false,"raw":"false"},"kind":"init"}]}}],"kind":"const"},{"type":"ReturnStatement","start":7640,"end":7925,"argument":{"type":"CallExpression","start":7647,"end":7925,"callee":{"type":"MemberExpression","start":7647,"end":7681,"object":{"type":"CallExpression","start":7647,"end":7676,"callee":{"type":"MemberExpression","start":7647,"end":7670,"object":{"type":"Identifier","start":7647,"end":7653,"name":"plugin"},"property":{"type":"Identifier","start":7654,"end":7670,"name":"requestThumbnail"},"computed":false},"arguments":[{"type":"Identifier","start":7671,"end":7675,"name":"file"}]},"property":{"type":"Identifier","start":7677,"end":7681,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":7682,"end":7924,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":7688,"end":7924,"body":[{"type":"ExpressionStatement","start":7698,"end":7753,"expression":{"type":"CallExpression","start":7698,"end":7753,"callee":{"type":"MemberExpression","start":7698,"end":7750,"object":{"type":"CallExpression","start":7698,"end":7728,"callee":{"type":"Identifier","start":7698,"end":7704,"name":"expect"},"arguments":[{"type":"MemberExpression","start":7705,"end":7727,"object":{"type":"Identifier","start":7705,"end":7711,"name":"plugin"},"property":{"type":"Identifier","start":7712,"end":7727,"name":"createThumbnail"},"computed":false}]},"property":{"type":"Identifier","start":7729,"end":7750,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":7751,"end":7752,"value":1,"raw":"1"}]}},{"type":"ExpressionStatement","start":7762,"end":7916,"expression":{"type":"CallExpression","start":7762,"end":7916,"callee":{"type":"MemberExpression","start":7762,"end":7813,"object":{"type":"CallExpression","start":7762,"end":7792,"callee":{"type":"Identifier","start":7762,"end":7768,"name":"expect"},"arguments":[{"type":"MemberExpression","start":7769,"end":7791,"object":{"type":"Identifier","start":7769,"end":7775,"name":"plugin"},"property":{"type":"Identifier","start":7776,"end":7791,"name":"createThumbnail"},"computed":false}]},"property":{"type":"Identifier","start":7793,"end":7813,"name":"toHaveBeenCalledWith"},"computed":false},"arguments":[{"type":"Identifier","start":7825,"end":7829,"name":"file"},{"type":"MemberExpression","start":7841,"end":7867,"object":{"type":"MemberExpression","start":7841,"end":7852,"object":{"type":"Identifier","start":7841,"end":7847,"name":"plugin"},"property":{"type":"Identifier","start":7848,"end":7852,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":7853,"end":7867,"name":"thumbnailWidth"},"computed":false},{"type":"MemberExpression","start":7879,"end":7906,"object":{"type":"MemberExpression","start":7879,"end":7890,"object":{"type":"Identifier","start":7879,"end":7885,"name":"plugin"},"property":{"type":"Identifier","start":7886,"end":7890,"name":"opts"},"computed":false},"property":{"type":"Identifier","start":7891,"end":7906,"name":"thumbnailHeight"},"computed":false}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":7938,"end":8458,"expression":{"type":"CallExpression","start":7938,"end":8458,"callee":{"type":"Identifier","start":7938,"end":7940,"name":"it"},"arguments":[{"type":"Literal","start":7941,"end":8008,"value":"should not call createThumbnail if it is not a supported filetype","raw":"'should not call createThumbnail if it is not a supported filetype'"},{"type":"ArrowFunctionExpression","start":8010,"end":8457,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":8016,"end":8457,"body":[{"type":"VariableDeclaration","start":8024,"end":8051,"declarations":[{"type":"VariableDeclarator","start":8030,"end":8051,"id":{"type":"Identifier","start":8030,"end":8034,"name":"core"},"init":{"type":"NewExpression","start":8037,"end":8051,"callee":{"type":"Identifier","start":8041,"end":8049,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":8058,"end":8107,"declarations":[{"type":"VariableDeclarator","start":8064,"end":8107,"id":{"type":"Identifier","start":8064,"end":8070,"name":"plugin"},"init":{"type":"NewExpression","start":8073,"end":8107,"callee":{"type":"Identifier","start":8077,"end":8101,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":8102,"end":8106,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":8115,"end":8211,"expression":{"type":"AssignmentExpression","start":8115,"end":8211,"operator":"=","left":{"type":"MemberExpression","start":8115,"end":8137,"object":{"type":"Identifier","start":8115,"end":8121,"name":"plugin"},"property":{"type":"Identifier","start":8122,"end":8137,"name":"createThumbnail"},"computed":false},"right":{"type":"CallExpression","start":8140,"end":8211,"callee":{"type":"MemberExpression","start":8140,"end":8183,"object":{"type":"CallExpression","start":8140,"end":8158,"callee":{"type":"MemberExpression","start":8140,"end":8156,"object":{"type":"Identifier","start":8140,"end":8144,"name":"jest"},"property":{"type":"Identifier","start":8154,"end":8156,"name":"fn"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":8168,"end":8183,"name":"mockReturnValue"},"computed":false},"arguments":[{"type":"CallExpression","start":8184,"end":8210,"callee":{"type":"MemberExpression","start":8184,"end":8199,"object":{"type":"Identifier","start":8184,"end":8191,"name":"Promise"},"property":{"type":"Identifier","start":8192,"end":8199,"name":"resolve"},"computed":false},"arguments":[{"type":"Literal","start":8200,"end":8209,"value":"preview","raw":"'preview'"}]}]}}},{"type":"ExpressionStatement","start":8218,"end":8250,"expression":{"type":"AssignmentExpression","start":8218,"end":8250,"operator":"=","left":{"type":"MemberExpression","start":8218,"end":8238,"object":{"type":"Identifier","start":8218,"end":8224,"name":"plugin"},"property":{"type":"Identifier","start":8225,"end":8238,"name":"setPreviewURL"},"computed":false},"right":{"type":"CallExpression","start":8241,"end":8250,"callee":{"type":"MemberExpression","start":8241,"end":8248,"object":{"type":"Identifier","start":8241,"end":8245,"name":"jest"},"property":{"type":"Identifier","start":8246,"end":8248,"name":"fn"},"computed":false},"arguments":[]}}},{"type":"VariableDeclaration","start":8258,"end":8322,"declarations":[{"type":"VariableDeclarator","start":8264,"end":8322,"id":{"type":"Identifier","start":8264,"end":8268,"name":"file"},"init":{"type":"ObjectExpression","start":8271,"end":8322,"properties":[{"type":"Property","start":8273,"end":8284,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8273,"end":8275,"name":"id"},"value":{"type":"Literal","start":8277,"end":8284,"value":"file1","raw":"'file1'"},"kind":"init"},{"type":"Property","start":8286,"end":8303,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8286,"end":8290,"name":"type"},"value":{"type":"Literal","start":8292,"end":8303,"value":"text/html","raw":"'text/html'"},"kind":"init"},{"type":"Property","start":8305,"end":8320,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8305,"end":8313,"name":"isRemote"},"value":{"type":"Literal","start":8315,"end":8320,"value":false,"raw":"false"},"kind":"init"}]}}],"kind":"const"},{"type":"ReturnStatement","start":8329,"end":8451,"argument":{"type":"CallExpression","start":8336,"end":8451,"callee":{"type":"MemberExpression","start":8336,"end":8370,"object":{"type":"CallExpression","start":8336,"end":8365,"callee":{"type":"MemberExpression","start":8336,"end":8359,"object":{"type":"Identifier","start":8336,"end":8342,"name":"plugin"},"property":{"type":"Identifier","start":8343,"end":8359,"name":"requestThumbnail"},"computed":false},"arguments":[{"type":"Identifier","start":8360,"end":8364,"name":"file"}]},"property":{"type":"Identifier","start":8366,"end":8370,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":8371,"end":8450,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":8377,"end":8450,"body":[{"type":"ExpressionStatement","start":8387,"end":8442,"expression":{"type":"CallExpression","start":8387,"end":8442,"callee":{"type":"MemberExpression","start":8387,"end":8439,"object":{"type":"CallExpression","start":8387,"end":8417,"callee":{"type":"Identifier","start":8387,"end":8393,"name":"expect"},"arguments":[{"type":"MemberExpression","start":8394,"end":8416,"object":{"type":"Identifier","start":8394,"end":8400,"name":"plugin"},"property":{"type":"Identifier","start":8401,"end":8416,"name":"createThumbnail"},"computed":false}]},"property":{"type":"Identifier","start":8418,"end":8439,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":8440,"end":8441,"value":0,"raw":"0"}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":8464,"end":8971,"expression":{"type":"CallExpression","start":8464,"end":8971,"callee":{"type":"Identifier","start":8464,"end":8466,"name":"it"},"arguments":[{"type":"Literal","start":8467,"end":8522,"value":"should not call createThumbnail if the file is remote","raw":"'should not call createThumbnail if the file is remote'"},{"type":"ArrowFunctionExpression","start":8524,"end":8970,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":8530,"end":8970,"body":[{"type":"VariableDeclaration","start":8538,"end":8565,"declarations":[{"type":"VariableDeclarator","start":8544,"end":8565,"id":{"type":"Identifier","start":8544,"end":8548,"name":"core"},"init":{"type":"NewExpression","start":8551,"end":8565,"callee":{"type":"Identifier","start":8555,"end":8563,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":8572,"end":8621,"declarations":[{"type":"VariableDeclarator","start":8578,"end":8621,"id":{"type":"Identifier","start":8578,"end":8584,"name":"plugin"},"init":{"type":"NewExpression","start":8587,"end":8621,"callee":{"type":"Identifier","start":8591,"end":8615,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":8616,"end":8620,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":8629,"end":8725,"expression":{"type":"AssignmentExpression","start":8629,"end":8725,"operator":"=","left":{"type":"MemberExpression","start":8629,"end":8651,"object":{"type":"Identifier","start":8629,"end":8635,"name":"plugin"},"property":{"type":"Identifier","start":8636,"end":8651,"name":"createThumbnail"},"computed":false},"right":{"type":"CallExpression","start":8654,"end":8725,"callee":{"type":"MemberExpression","start":8654,"end":8697,"object":{"type":"CallExpression","start":8654,"end":8672,"callee":{"type":"MemberExpression","start":8654,"end":8670,"object":{"type":"Identifier","start":8654,"end":8658,"name":"jest"},"property":{"type":"Identifier","start":8668,"end":8670,"name":"fn"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":8682,"end":8697,"name":"mockReturnValue"},"computed":false},"arguments":[{"type":"CallExpression","start":8698,"end":8724,"callee":{"type":"MemberExpression","start":8698,"end":8713,"object":{"type":"Identifier","start":8698,"end":8705,"name":"Promise"},"property":{"type":"Identifier","start":8706,"end":8713,"name":"resolve"},"computed":false},"arguments":[{"type":"Literal","start":8714,"end":8723,"value":"preview","raw":"'preview'"}]}]}}},{"type":"ExpressionStatement","start":8732,"end":8764,"expression":{"type":"AssignmentExpression","start":8732,"end":8764,"operator":"=","left":{"type":"MemberExpression","start":8732,"end":8752,"object":{"type":"Identifier","start":8732,"end":8738,"name":"plugin"},"property":{"type":"Identifier","start":8739,"end":8752,"name":"setPreviewURL"},"computed":false},"right":{"type":"CallExpression","start":8755,"end":8764,"callee":{"type":"MemberExpression","start":8755,"end":8762,"object":{"type":"Identifier","start":8755,"end":8759,"name":"jest"},"property":{"type":"Identifier","start":8760,"end":8762,"name":"fn"},"computed":false},"arguments":[]}}},{"type":"VariableDeclaration","start":8772,"end":8835,"declarations":[{"type":"VariableDeclarator","start":8778,"end":8835,"id":{"type":"Identifier","start":8778,"end":8782,"name":"file"},"init":{"type":"ObjectExpression","start":8785,"end":8835,"properties":[{"type":"Property","start":8787,"end":8798,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8787,"end":8789,"name":"id"},"value":{"type":"Literal","start":8791,"end":8798,"value":"file1","raw":"'file1'"},"kind":"init"},{"type":"Property","start":8800,"end":8817,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8800,"end":8804,"name":"type"},"value":{"type":"Literal","start":8806,"end":8817,"value":"image/png","raw":"'image/png'"},"kind":"init"},{"type":"Property","start":8819,"end":8833,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8819,"end":8827,"name":"isRemote"},"value":{"type":"Literal","start":8829,"end":8833,"value":true,"raw":"true"},"kind":"init"}]}}],"kind":"const"},{"type":"ReturnStatement","start":8842,"end":8964,"argument":{"type":"CallExpression","start":8849,"end":8964,"callee":{"type":"MemberExpression","start":8849,"end":8883,"object":{"type":"CallExpression","start":8849,"end":8878,"callee":{"type":"MemberExpression","start":8849,"end":8872,"object":{"type":"Identifier","start":8849,"end":8855,"name":"plugin"},"property":{"type":"Identifier","start":8856,"end":8872,"name":"requestThumbnail"},"computed":false},"arguments":[{"type":"Identifier","start":8873,"end":8877,"name":"file"}]},"property":{"type":"Identifier","start":8879,"end":8883,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":8884,"end":8963,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":8890,"end":8963,"body":[{"type":"ExpressionStatement","start":8900,"end":8955,"expression":{"type":"CallExpression","start":8900,"end":8955,"callee":{"type":"MemberExpression","start":8900,"end":8952,"object":{"type":"CallExpression","start":8900,"end":8930,"callee":{"type":"Identifier","start":8900,"end":8906,"name":"expect"},"arguments":[{"type":"MemberExpression","start":8907,"end":8929,"object":{"type":"Identifier","start":8907,"end":8913,"name":"plugin"},"property":{"type":"Identifier","start":8914,"end":8929,"name":"createThumbnail"},"computed":false}]},"property":{"type":"Identifier","start":8931,"end":8952,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":8953,"end":8954,"value":0,"raw":"0"}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":8977,"end":9558,"expression":{"type":"CallExpression","start":8977,"end":9558,"callee":{"type":"Identifier","start":8977,"end":8979,"name":"it"},"arguments":[{"type":"Literal","start":8980,"end":9032,"value":"should call setPreviewURL with the thumbnail image","raw":"'should call setPreviewURL with the thumbnail image'"},{"type":"ArrowFunctionExpression","start":9034,"end":9557,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":9040,"end":9557,"body":[{"type":"VariableDeclaration","start":9048,"end":9075,"declarations":[{"type":"VariableDeclarator","start":9054,"end":9075,"id":{"type":"Identifier","start":9054,"end":9058,"name":"core"},"init":{"type":"NewExpression","start":9061,"end":9075,"callee":{"type":"Identifier","start":9065,"end":9073,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":9082,"end":9131,"declarations":[{"type":"VariableDeclarator","start":9088,"end":9131,"id":{"type":"Identifier","start":9088,"end":9094,"name":"plugin"},"init":{"type":"NewExpression","start":9097,"end":9131,"callee":{"type":"Identifier","start":9101,"end":9125,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":9126,"end":9130,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":9139,"end":9235,"expression":{"type":"AssignmentExpression","start":9139,"end":9235,"operator":"=","left":{"type":"MemberExpression","start":9139,"end":9161,"object":{"type":"Identifier","start":9139,"end":9145,"name":"plugin"},"property":{"type":"Identifier","start":9146,"end":9161,"name":"createThumbnail"},"computed":false},"right":{"type":"CallExpression","start":9164,"end":9235,"callee":{"type":"MemberExpression","start":9164,"end":9207,"object":{"type":"CallExpression","start":9164,"end":9182,"callee":{"type":"MemberExpression","start":9164,"end":9180,"object":{"type":"Identifier","start":9164,"end":9168,"name":"jest"},"property":{"type":"Identifier","start":9178,"end":9180,"name":"fn"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":9192,"end":9207,"name":"mockReturnValue"},"computed":false},"arguments":[{"type":"CallExpression","start":9208,"end":9234,"callee":{"type":"MemberExpression","start":9208,"end":9223,"object":{"type":"Identifier","start":9208,"end":9215,"name":"Promise"},"property":{"type":"Identifier","start":9216,"end":9223,"name":"resolve"},"computed":false},"arguments":[{"type":"Literal","start":9224,"end":9233,"value":"preview","raw":"'preview'"}]}]}}},{"type":"ExpressionStatement","start":9242,"end":9274,"expression":{"type":"AssignmentExpression","start":9242,"end":9274,"operator":"=","left":{"type":"MemberExpression","start":9242,"end":9262,"object":{"type":"Identifier","start":9242,"end":9248,"name":"plugin"},"property":{"type":"Identifier","start":9249,"end":9262,"name":"setPreviewURL"},"computed":false},"right":{"type":"CallExpression","start":9265,"end":9274,"callee":{"type":"MemberExpression","start":9265,"end":9272,"object":{"type":"Identifier","start":9265,"end":9269,"name":"jest"},"property":{"type":"Identifier","start":9270,"end":9272,"name":"fn"},"computed":false},"arguments":[]}}},{"type":"VariableDeclaration","start":9282,"end":9346,"declarations":[{"type":"VariableDeclarator","start":9288,"end":9346,"id":{"type":"Identifier","start":9288,"end":9292,"name":"file"},"init":{"type":"ObjectExpression","start":9295,"end":9346,"properties":[{"type":"Property","start":9297,"end":9308,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9297,"end":9299,"name":"id"},"value":{"type":"Literal","start":9301,"end":9308,"value":"file1","raw":"'file1'"},"kind":"init"},{"type":"Property","start":9310,"end":9327,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9310,"end":9314,"name":"type"},"value":{"type":"Literal","start":9316,"end":9327,"value":"image/png","raw":"'image/png'"},"kind":"init"},{"type":"Property","start":9329,"end":9344,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9329,"end":9337,"name":"isRemote"},"value":{"type":"Literal","start":9339,"end":9344,"value":false,"raw":"false"},"kind":"init"}]}}],"kind":"const"},{"type":"ReturnStatement","start":9353,"end":9551,"argument":{"type":"CallExpression","start":9360,"end":9551,"callee":{"type":"MemberExpression","start":9360,"end":9394,"object":{"type":"CallExpression","start":9360,"end":9389,"callee":{"type":"MemberExpression","start":9360,"end":9383,"object":{"type":"Identifier","start":9360,"end":9366,"name":"plugin"},"property":{"type":"Identifier","start":9367,"end":9383,"name":"requestThumbnail"},"computed":false},"arguments":[{"type":"Identifier","start":9384,"end":9388,"name":"file"}]},"property":{"type":"Identifier","start":9390,"end":9394,"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":9395,"end":9550,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":9401,"end":9550,"body":[{"type":"ExpressionStatement","start":9411,"end":9464,"expression":{"type":"CallExpression","start":9411,"end":9464,"callee":{"type":"MemberExpression","start":9411,"end":9461,"object":{"type":"CallExpression","start":9411,"end":9439,"callee":{"type":"Identifier","start":9411,"end":9417,"name":"expect"},"arguments":[{"type":"MemberExpression","start":9418,"end":9438,"object":{"type":"Identifier","start":9418,"end":9424,"name":"plugin"},"property":{"type":"Identifier","start":9425,"end":9438,"name":"setPreviewURL"},"computed":false}]},"property":{"type":"Identifier","start":9440,"end":9461,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":9462,"end":9463,"value":1,"raw":"1"}]}},{"type":"ExpressionStatement","start":9473,"end":9542,"expression":{"type":"CallExpression","start":9473,"end":9542,"callee":{"type":"MemberExpression","start":9473,"end":9522,"object":{"type":"CallExpression","start":9473,"end":9501,"callee":{"type":"Identifier","start":9473,"end":9479,"name":"expect"},"arguments":[{"type":"MemberExpression","start":9480,"end":9500,"object":{"type":"Identifier","start":9480,"end":9486,"name":"plugin"},"property":{"type":"Identifier","start":9487,"end":9500,"name":"setPreviewURL"},"computed":false}]},"property":{"type":"Identifier","start":9502,"end":9522,"name":"toHaveBeenCalledWith"},"computed":false},"arguments":[{"type":"Literal","start":9523,"end":9530,"value":"file1","raw":"'file1'"},{"type":"Literal","start":9532,"end":9541,"value":"preview","raw":"'preview'"}]}}]}}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":9567,"end":10328,"expression":{"type":"CallExpression","start":9567,"end":10328,"callee":{"type":"Identifier","start":9567,"end":9575,"name":"describe"},"arguments":[{"type":"Literal","start":9576,"end":9591,"value":"setPreviewURL","raw":"'setPreviewURL'"},{"type":"ArrowFunctionExpression","start":9593,"end":10327,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":9599,"end":10327,"body":[{"type":"ExpressionStatement","start":9605,"end":10323,"expression":{"type":"CallExpression","start":9605,"end":10323,"callee":{"type":"Identifier","start":9605,"end":9607,"name":"it"},"arguments":[{"type":"Literal","start":9608,"end":9663,"value":"should update the preview url for the specified image","raw":"'should update the preview url for the specified image'"},{"type":"ArrowFunctionExpression","start":9665,"end":10322,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":9671,"end":10322,"body":[{"type":"VariableDeclaration","start":9679,"end":9942,"declarations":[{"type":"VariableDeclarator","start":9685,"end":9942,"id":{"type":"Identifier","start":9685,"end":9689,"name":"core"},"init":{"type":"ObjectExpression","start":9692,"end":9942,"properties":[{"type":"Property","start":9702,"end":9880,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9702,"end":9707,"name":"state"},"value":{"type":"ObjectExpression","start":9709,"end":9880,"properties":[{"type":"Property","start":9721,"end":9870,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9721,"end":9726,"name":"files"},"value":{"type":"ObjectExpression","start":9728,"end":9870,"properties":[{"type":"Property","start":9742,"end":9793,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9742,"end":9747,"name":"file1"},"value":{"type":"ObjectExpression","start":9749,"end":9793,"properties":[{"type":"Property","start":9765,"end":9779,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9765,"end":9772,"name":"preview"},"value":{"type":"Literal","start":9774,"end":9779,"value":"foo","raw":"'foo'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":9807,"end":9858,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9807,"end":9812,"name":"file2"},"value":{"type":"ObjectExpression","start":9814,"end":9858,"properties":[{"type":"Property","start":9830,"end":9844,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9830,"end":9837,"name":"preview"},"value":{"type":"Literal","start":9839,"end":9844,"value":"boo","raw":"'boo'"},"kind":"init"}]},"kind":"init"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":9890,"end":9913,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9890,"end":9902,"name":"setFileState"},"value":{"type":"CallExpression","start":9904,"end":9913,"callee":{"type":"MemberExpression","start":9904,"end":9911,"object":{"type":"Identifier","start":9904,"end":9908,"name":"jest"},"property":{"type":"Identifier","start":9909,"end":9911,"name":"fn"},"computed":false},"arguments":[]},"kind":"init"},{"type":"Property","start":9923,"end":9934,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9923,"end":9930,"name":"plugins"},"value":{"type":"ObjectExpression","start":9932,"end":9934,"properties":[]},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":9949,"end":9991,"expression":{"type":"AssignmentExpression","start":9949,"end":9991,"operator":"=","left":{"type":"MemberExpression","start":9949,"end":9959,"object":{"type":"Identifier","start":9949,"end":9953,"name":"core"},"property":{"type":"Identifier","start":9954,"end":9959,"name":"state"},"computed":false},"right":{"type":"ObjectExpression","start":9962,"end":9991,"properties":[{"type":"Property","start":9972,"end":9983,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9972,"end":9979,"name":"plugins"},"value":{"type":"ObjectExpression","start":9981,"end":9983,"properties":[]},"kind":"init"}]}}},{"type":"ExpressionStatement","start":9998,"end":10024,"expression":{"type":"AssignmentExpression","start":9998,"end":10024,"operator":"=","left":{"type":"MemberExpression","start":9998,"end":10011,"object":{"type":"Identifier","start":9998,"end":10002,"name":"core"},"property":{"type":"Identifier","start":10003,"end":10011,"name":"setState"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":10014,"end":10024,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"Literal","start":10020,"end":10024,"value":null,"raw":"null"}}}},{"type":"ExpressionStatement","start":10031,"end":10063,"expression":{"type":"AssignmentExpression","start":10031,"end":10063,"operator":"=","left":{"type":"MemberExpression","start":10031,"end":10044,"object":{"type":"Identifier","start":10031,"end":10035,"name":"core"},"property":{"type":"Identifier","start":10036,"end":10044,"name":"getState"},"computed":false},"right":{"type":"ArrowFunctionExpression","start":10047,"end":10063,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"MemberExpression","start":10053,"end":10063,"object":{"type":"Identifier","start":10053,"end":10057,"name":"core"},"property":{"type":"Identifier","start":10058,"end":10063,"name":"state"},"computed":false}}}},{"type":"VariableDeclaration","start":10071,"end":10120,"declarations":[{"type":"VariableDeclarator","start":10077,"end":10120,"id":{"type":"Identifier","start":10077,"end":10083,"name":"plugin"},"init":{"type":"NewExpression","start":10086,"end":10120,"callee":{"type":"Identifier","start":10090,"end":10114,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":10115,"end":10119,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":10127,"end":10163,"expression":{"type":"CallExpression","start":10127,"end":10163,"callee":{"type":"MemberExpression","start":10127,"end":10147,"object":{"type":"Identifier","start":10127,"end":10133,"name":"plugin"},"property":{"type":"Identifier","start":10134,"end":10147,"name":"setPreviewURL"},"computed":false},"arguments":[{"type":"Literal","start":10148,"end":10155,"value":"file1","raw":"'file1'"},{"type":"Literal","start":10157,"end":10162,"value":"moo","raw":"'moo'"}]}},{"type":"ExpressionStatement","start":10170,"end":10220,"expression":{"type":"CallExpression","start":10170,"end":10220,"callee":{"type":"MemberExpression","start":10170,"end":10217,"object":{"type":"CallExpression","start":10170,"end":10195,"callee":{"type":"Identifier","start":10170,"end":10176,"name":"expect"},"arguments":[{"type":"MemberExpression","start":10177,"end":10194,"object":{"type":"Identifier","start":10177,"end":10181,"name":"core"},"property":{"type":"Identifier","start":10182,"end":10194,"name":"setFileState"},"computed":false}]},"property":{"type":"Identifier","start":10196,"end":10217,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":10218,"end":10219,"value":1,"raw":"1"}]}},{"type":"ExpressionStatement","start":10227,"end":10316,"expression":{"type":"CallExpression","start":10227,"end":10316,"callee":{"type":"MemberExpression","start":10227,"end":10273,"object":{"type":"CallExpression","start":10227,"end":10252,"callee":{"type":"Identifier","start":10227,"end":10233,"name":"expect"},"arguments":[{"type":"MemberExpression","start":10234,"end":10251,"object":{"type":"Identifier","start":10234,"end":10238,"name":"core"},"property":{"type":"Identifier","start":10239,"end":10251,"name":"setFileState"},"computed":false}]},"property":{"type":"Identifier","start":10253,"end":10273,"name":"toHaveBeenCalledWith"},"computed":false},"arguments":[{"type":"Literal","start":10274,"end":10281,"value":"file1","raw":"'file1'"},{"type":"ObjectExpression","start":10283,"end":10315,"properties":[{"type":"Property","start":10293,"end":10307,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10293,"end":10300,"name":"preview"},"value":{"type":"Literal","start":10302,"end":10307,"value":"moo","raw":"'moo'"},"kind":"init"}]}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":10332,"end":12206,"expression":{"type":"CallExpression","start":10332,"end":12206,"callee":{"type":"Identifier","start":10332,"end":10340,"name":"describe"},"arguments":[{"type":"Literal","start":10341,"end":10368,"value":"getProportionalDimensions","raw":"'getProportionalDimensions'"},{"type":"ArrowFunctionExpression","start":10370,"end":12205,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":10376,"end":12205,"body":[{"type":"FunctionDeclaration","start":10382,"end":10522,"id":{"type":"Identifier","start":10391,"end":10397,"name":"resize"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10399,"end":10414,"name":"thumbnailPlugin"},{"type":"Identifier","start":10416,"end":10421,"name":"image"},{"type":"Identifier","start":10423,"end":10428,"name":"width"},{"type":"Identifier","start":10430,"end":10436,"name":"height"}],"body":{"type":"BlockStatement","start":10438,"end":10522,"body":[{"type":"ReturnStatement","start":10446,"end":10516,"argument":{"type":"CallExpression","start":10453,"end":10516,"callee":{"type":"MemberExpression","start":10453,"end":10494,"object":{"type":"Identifier","start":10453,"end":10468,"name":"thumbnailPlugin"},"property":{"type":"Identifier","start":10469,"end":10494,"name":"getProportionalDimensions"},"computed":false},"arguments":[{"type":"Identifier","start":10495,"end":10500,"name":"image"},{"type":"Identifier","start":10502,"end":10507,"name":"width"},{"type":"Identifier","start":10509,"end":10515,"name":"height"}]}}]}},{"type":"ExpressionStatement","start":10528,"end":11020,"expression":{"type":"CallExpression","start":10528,"end":11020,"callee":{"type":"Identifier","start":10528,"end":10530,"name":"it"},"arguments":[{"type":"Literal","start":10531,"end":10621,"value":"should calculate the thumbnail dimensions based on the width whilst keeping aspect ratio","raw":"'should calculate the thumbnail dimensions based on the width whilst keeping aspect ratio'"},{"type":"ArrowFunctionExpression","start":10623,"end":11019,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":10629,"end":11019,"body":[{"type":"VariableDeclaration","start":10637,"end":10664,"declarations":[{"type":"VariableDeclarator","start":10643,"end":10664,"id":{"type":"Identifier","start":10643,"end":10647,"name":"core"},"init":{"type":"NewExpression","start":10650,"end":10664,"callee":{"type":"Identifier","start":10654,"end":10662,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":10671,"end":10720,"declarations":[{"type":"VariableDeclarator","start":10677,"end":10720,"id":{"type":"Identifier","start":10677,"end":10683,"name":"plugin"},"init":{"type":"NewExpression","start":10686,"end":10720,"callee":{"type":"Identifier","start":10690,"end":10714,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":10715,"end":10719,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":10727,"end":10817,"expression":{"type":"CallExpression","start":10727,"end":10817,"callee":{"type":"MemberExpression","start":10727,"end":10790,"object":{"type":"CallExpression","start":10727,"end":10782,"callee":{"type":"Identifier","start":10727,"end":10733,"name":"expect"},"arguments":[{"type":"CallExpression","start":10734,"end":10781,"callee":{"type":"Identifier","start":10734,"end":10740,"name":"resize"},"arguments":[{"type":"Identifier","start":10741,"end":10747,"name":"plugin"},{"type":"ObjectExpression","start":10749,"end":10776,"properties":[{"type":"Property","start":10751,"end":10761,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10751,"end":10756,"name":"width"},"value":{"type":"Literal","start":10758,"end":10761,"value":200,"raw":"200"},"kind":"init"},{"type":"Property","start":10763,"end":10774,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10763,"end":10769,"name":"height"},"value":{"type":"Literal","start":10771,"end":10774,"value":100,"raw":"100"},"kind":"init"}]},{"type":"Literal","start":10778,"end":10780,"value":50,"raw":"50"}]}]},"property":{"type":"Identifier","start":10783,"end":10790,"name":"toEqual"},"computed":false},"arguments":[{"type":"ObjectExpression","start":10791,"end":10816,"properties":[{"type":"Property","start":10793,"end":10802,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10793,"end":10798,"name":"width"},"value":{"type":"Literal","start":10800,"end":10802,"value":50,"raw":"50"},"kind":"init"},{"type":"Property","start":10804,"end":10814,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10804,"end":10810,"name":"height"},"value":{"type":"Literal","start":10812,"end":10814,"value":25,"raw":"25"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":10824,"end":10912,"expression":{"type":"CallExpression","start":10824,"end":10912,"callee":{"type":"MemberExpression","start":10824,"end":10885,"object":{"type":"CallExpression","start":10824,"end":10877,"callee":{"type":"Identifier","start":10824,"end":10830,"name":"expect"},"arguments":[{"type":"CallExpression","start":10831,"end":10876,"callee":{"type":"Identifier","start":10831,"end":10837,"name":"resize"},"arguments":[{"type":"Identifier","start":10838,"end":10844,"name":"plugin"},{"type":"ObjectExpression","start":10846,"end":10871,"properties":[{"type":"Property","start":10848,"end":10857,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10848,"end":10853,"name":"width"},"value":{"type":"Literal","start":10855,"end":10857,"value":66,"raw":"66"},"kind":"init"},{"type":"Property","start":10859,"end":10869,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10859,"end":10865,"name":"height"},"value":{"type":"Literal","start":10867,"end":10869,"value":66,"raw":"66"},"kind":"init"}]},{"type":"Literal","start":10873,"end":10875,"value":33,"raw":"33"}]}]},"property":{"type":"Identifier","start":10878,"end":10885,"name":"toEqual"},"computed":false},"arguments":[{"type":"ObjectExpression","start":10886,"end":10911,"properties":[{"type":"Property","start":10888,"end":10897,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10888,"end":10893,"name":"width"},"value":{"type":"Literal","start":10895,"end":10897,"value":33,"raw":"33"},"kind":"init"},{"type":"Property","start":10899,"end":10909,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10899,"end":10905,"name":"height"},"value":{"type":"Literal","start":10907,"end":10909,"value":33,"raw":"33"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":10919,"end":11013,"expression":{"type":"CallExpression","start":10919,"end":11013,"callee":{"type":"MemberExpression","start":10919,"end":10986,"object":{"type":"CallExpression","start":10919,"end":10978,"callee":{"type":"Identifier","start":10919,"end":10925,"name":"expect"},"arguments":[{"type":"CallExpression","start":10926,"end":10977,"callee":{"type":"Identifier","start":10926,"end":10932,"name":"resize"},"arguments":[{"type":"Identifier","start":10933,"end":10939,"name":"plugin"},{"type":"ObjectExpression","start":10941,"end":10972,"properties":[{"type":"Property","start":10943,"end":10955,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10943,"end":10948,"name":"width"},"value":{"type":"Literal","start":10950,"end":10955,"value":201.2,"raw":"201.2"},"kind":"init"},{"type":"Property","start":10957,"end":10970,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10957,"end":10963,"name":"height"},"value":{"type":"Literal","start":10965,"end":10970,"value":198.2,"raw":"198.2"},"kind":"init"}]},{"type":"Literal","start":10974,"end":10976,"value":47,"raw":"47"}]}]},"property":{"type":"Identifier","start":10979,"end":10986,"name":"toEqual"},"computed":false},"arguments":[{"type":"ObjectExpression","start":10987,"end":11012,"properties":[{"type":"Property","start":10989,"end":10998,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10989,"end":10994,"name":"width"},"value":{"type":"Literal","start":10996,"end":10998,"value":47,"raw":"47"},"kind":"init"},{"type":"Property","start":11000,"end":11010,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11000,"end":11006,"name":"height"},"value":{"type":"Literal","start":11008,"end":11010,"value":46,"raw":"46"},"kind":"init"}]}]}}]}}]}},{"type":"ExpressionStatement","start":11026,"end":11538,"expression":{"type":"CallExpression","start":11026,"end":11538,"callee":{"type":"Identifier","start":11026,"end":11028,"name":"it"},"arguments":[{"type":"Literal","start":11029,"end":11120,"value":"should calculate the thumbnail dimensions based on the height whilst keeping aspect ratio","raw":"'should calculate the thumbnail dimensions based on the height whilst keeping aspect ratio'"},{"type":"ArrowFunctionExpression","start":11122,"end":11537,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":11128,"end":11537,"body":[{"type":"VariableDeclaration","start":11136,"end":11163,"declarations":[{"type":"VariableDeclarator","start":11142,"end":11163,"id":{"type":"Identifier","start":11142,"end":11146,"name":"core"},"init":{"type":"NewExpression","start":11149,"end":11163,"callee":{"type":"Identifier","start":11153,"end":11161,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":11170,"end":11219,"declarations":[{"type":"VariableDeclarator","start":11176,"end":11219,"id":{"type":"Identifier","start":11176,"end":11182,"name":"plugin"},"init":{"type":"NewExpression","start":11185,"end":11219,"callee":{"type":"Identifier","start":11189,"end":11213,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":11214,"end":11218,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":11226,"end":11323,"expression":{"type":"CallExpression","start":11226,"end":11323,"callee":{"type":"MemberExpression","start":11226,"end":11295,"object":{"type":"CallExpression","start":11226,"end":11287,"callee":{"type":"Identifier","start":11226,"end":11232,"name":"expect"},"arguments":[{"type":"CallExpression","start":11233,"end":11286,"callee":{"type":"Identifier","start":11233,"end":11239,"name":"resize"},"arguments":[{"type":"Identifier","start":11240,"end":11246,"name":"plugin"},{"type":"ObjectExpression","start":11248,"end":11275,"properties":[{"type":"Property","start":11250,"end":11260,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11250,"end":11255,"name":"width"},"value":{"type":"Literal","start":11257,"end":11260,"value":200,"raw":"200"},"kind":"init"},{"type":"Property","start":11262,"end":11273,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11262,"end":11268,"name":"height"},"value":{"type":"Literal","start":11270,"end":11273,"value":100,"raw":"100"},"kind":"init"}]},{"type":"Literal","start":11277,"end":11281,"value":null,"raw":"null"},{"type":"Literal","start":11283,"end":11285,"value":50,"raw":"50"}]}]},"property":{"type":"Identifier","start":11288,"end":11295,"name":"toEqual"},"computed":false},"arguments":[{"type":"ObjectExpression","start":11296,"end":11322,"properties":[{"type":"Property","start":11298,"end":11308,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11298,"end":11303,"name":"width"},"value":{"type":"Literal","start":11305,"end":11308,"value":100,"raw":"100"},"kind":"init"},{"type":"Property","start":11310,"end":11320,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11310,"end":11316,"name":"height"},"value":{"type":"Literal","start":11318,"end":11320,"value":50,"raw":"50"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":11330,"end":11424,"expression":{"type":"CallExpression","start":11330,"end":11424,"callee":{"type":"MemberExpression","start":11330,"end":11397,"object":{"type":"CallExpression","start":11330,"end":11389,"callee":{"type":"Identifier","start":11330,"end":11336,"name":"expect"},"arguments":[{"type":"CallExpression","start":11337,"end":11388,"callee":{"type":"Identifier","start":11337,"end":11343,"name":"resize"},"arguments":[{"type":"Identifier","start":11344,"end":11350,"name":"plugin"},{"type":"ObjectExpression","start":11352,"end":11377,"properties":[{"type":"Property","start":11354,"end":11363,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11354,"end":11359,"name":"width"},"value":{"type":"Literal","start":11361,"end":11363,"value":66,"raw":"66"},"kind":"init"},{"type":"Property","start":11365,"end":11375,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11365,"end":11371,"name":"height"},"value":{"type":"Literal","start":11373,"end":11375,"value":66,"raw":"66"},"kind":"init"}]},{"type":"Literal","start":11379,"end":11383,"value":null,"raw":"null"},{"type":"Literal","start":11385,"end":11387,"value":33,"raw":"33"}]}]},"property":{"type":"Identifier","start":11390,"end":11397,"name":"toEqual"},"computed":false},"arguments":[{"type":"ObjectExpression","start":11398,"end":11423,"properties":[{"type":"Property","start":11400,"end":11409,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11400,"end":11405,"name":"width"},"value":{"type":"Literal","start":11407,"end":11409,"value":33,"raw":"33"},"kind":"init"},{"type":"Property","start":11411,"end":11421,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11411,"end":11417,"name":"height"},"value":{"type":"Literal","start":11419,"end":11421,"value":33,"raw":"33"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":11431,"end":11531,"expression":{"type":"CallExpression","start":11431,"end":11531,"callee":{"type":"MemberExpression","start":11431,"end":11504,"object":{"type":"CallExpression","start":11431,"end":11496,"callee":{"type":"Identifier","start":11431,"end":11437,"name":"expect"},"arguments":[{"type":"CallExpression","start":11438,"end":11495,"callee":{"type":"Identifier","start":11438,"end":11444,"name":"resize"},"arguments":[{"type":"Identifier","start":11445,"end":11451,"name":"plugin"},{"type":"ObjectExpression","start":11453,"end":11484,"properties":[{"type":"Property","start":11455,"end":11467,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11455,"end":11460,"name":"width"},"value":{"type":"Literal","start":11462,"end":11467,"value":201.2,"raw":"201.2"},"kind":"init"},{"type":"Property","start":11469,"end":11482,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11469,"end":11475,"name":"height"},"value":{"type":"Literal","start":11477,"end":11482,"value":198.2,"raw":"198.2"},"kind":"init"}]},{"type":"Literal","start":11486,"end":11490,"value":null,"raw":"null"},{"type":"Literal","start":11492,"end":11494,"value":47,"raw":"47"}]}]},"property":{"type":"Identifier","start":11497,"end":11504,"name":"toEqual"},"computed":false},"arguments":[{"type":"ObjectExpression","start":11505,"end":11530,"properties":[{"type":"Property","start":11507,"end":11516,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11507,"end":11512,"name":"width"},"value":{"type":"Literal","start":11514,"end":11516,"value":48,"raw":"48"},"kind":"init"},{"type":"Property","start":11518,"end":11528,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11518,"end":11524,"name":"height"},"value":{"type":"Literal","start":11526,"end":11528,"value":47,"raw":"47"},"kind":"init"}]}]}}]}}]}},{"type":"ExpressionStatement","start":11544,"end":11888,"expression":{"type":"CallExpression","start":11544,"end":11888,"callee":{"type":"Identifier","start":11544,"end":11546,"name":"it"},"arguments":[{"type":"Literal","start":11547,"end":11645,"value":"should calculate the thumbnail dimensions based on the default width if no custom width is given","raw":"'should calculate the thumbnail dimensions based on the default width if no custom width is given'"},{"type":"ArrowFunctionExpression","start":11647,"end":11887,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":11653,"end":11887,"body":[{"type":"VariableDeclaration","start":11661,"end":11688,"declarations":[{"type":"VariableDeclarator","start":11667,"end":11688,"id":{"type":"Identifier","start":11667,"end":11671,"name":"core"},"init":{"type":"NewExpression","start":11674,"end":11688,"callee":{"type":"Identifier","start":11678,"end":11686,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":11695,"end":11744,"declarations":[{"type":"VariableDeclarator","start":11701,"end":11744,"id":{"type":"Identifier","start":11701,"end":11707,"name":"plugin"},"init":{"type":"NewExpression","start":11710,"end":11744,"callee":{"type":"Identifier","start":11714,"end":11738,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":11739,"end":11743,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":11751,"end":11788,"expression":{"type":"AssignmentExpression","start":11751,"end":11788,"operator":"=","left":{"type":"MemberExpression","start":11751,"end":11783,"object":{"type":"Identifier","start":11751,"end":11757,"name":"plugin"},"property":{"type":"Identifier","start":11758,"end":11783,"name":"defaultThumbnailDimension"},"computed":false},"right":{"type":"Literal","start":11786,"end":11788,"value":50,"raw":"50"}}},{"type":"ExpressionStatement","start":11795,"end":11881,"expression":{"type":"CallExpression","start":11795,"end":11881,"callee":{"type":"MemberExpression","start":11795,"end":11854,"object":{"type":"CallExpression","start":11795,"end":11846,"callee":{"type":"Identifier","start":11795,"end":11801,"name":"expect"},"arguments":[{"type":"CallExpression","start":11802,"end":11845,"callee":{"type":"Identifier","start":11802,"end":11808,"name":"resize"},"arguments":[{"type":"Identifier","start":11809,"end":11815,"name":"plugin"},{"type":"ObjectExpression","start":11817,"end":11844,"properties":[{"type":"Property","start":11819,"end":11829,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11819,"end":11824,"name":"width"},"value":{"type":"Literal","start":11826,"end":11829,"value":200,"raw":"200"},"kind":"init"},{"type":"Property","start":11831,"end":11842,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11831,"end":11837,"name":"height"},"value":{"type":"Literal","start":11839,"end":11842,"value":100,"raw":"100"},"kind":"init"}]}]}]},"property":{"type":"Identifier","start":11847,"end":11854,"name":"toEqual"},"computed":false},"arguments":[{"type":"ObjectExpression","start":11855,"end":11880,"properties":[{"type":"Property","start":11857,"end":11866,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11857,"end":11862,"name":"width"},"value":{"type":"Literal","start":11864,"end":11866,"value":50,"raw":"50"},"kind":"init"},{"type":"Property","start":11868,"end":11878,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11868,"end":11874,"name":"height"},"value":{"type":"Literal","start":11876,"end":11878,"value":25,"raw":"25"},"kind":"init"}]}]}}]}}]}},{"type":"ExpressionStatement","start":11894,"end":12201,"expression":{"type":"CallExpression","start":11894,"end":12201,"callee":{"type":"Identifier","start":11894,"end":11896,"name":"it"},"arguments":[{"type":"Literal","start":11897,"end":11994,"value":"should calculate the thumbnail dimensions based on the width if both width and height are given","raw":"'should calculate the thumbnail dimensions based on the width if both width and height are given'"},{"type":"ArrowFunctionExpression","start":11996,"end":12200,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":12002,"end":12200,"body":[{"type":"VariableDeclaration","start":12010,"end":12037,"declarations":[{"type":"VariableDeclarator","start":12016,"end":12037,"id":{"type":"Identifier","start":12016,"end":12020,"name":"core"},"init":{"type":"NewExpression","start":12023,"end":12037,"callee":{"type":"Identifier","start":12027,"end":12035,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":12044,"end":12093,"declarations":[{"type":"VariableDeclarator","start":12050,"end":12093,"id":{"type":"Identifier","start":12050,"end":12056,"name":"plugin"},"init":{"type":"NewExpression","start":12059,"end":12093,"callee":{"type":"Identifier","start":12063,"end":12087,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":12088,"end":12092,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":12100,"end":12194,"expression":{"type":"CallExpression","start":12100,"end":12194,"callee":{"type":"MemberExpression","start":12100,"end":12167,"object":{"type":"CallExpression","start":12100,"end":12159,"callee":{"type":"Identifier","start":12100,"end":12106,"name":"expect"},"arguments":[{"type":"CallExpression","start":12107,"end":12158,"callee":{"type":"Identifier","start":12107,"end":12113,"name":"resize"},"arguments":[{"type":"Identifier","start":12114,"end":12120,"name":"plugin"},{"type":"ObjectExpression","start":12122,"end":12149,"properties":[{"type":"Property","start":12124,"end":12134,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":12124,"end":12129,"name":"width"},"value":{"type":"Literal","start":12131,"end":12134,"value":200,"raw":"200"},"kind":"init"},{"type":"Property","start":12136,"end":12147,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":12136,"end":12142,"name":"height"},"value":{"type":"Literal","start":12144,"end":12147,"value":100,"raw":"100"},"kind":"init"}]},{"type":"Literal","start":12151,"end":12153,"value":50,"raw":"50"},{"type":"Literal","start":12155,"end":12157,"value":42,"raw":"42"}]}]},"property":{"type":"Identifier","start":12160,"end":12167,"name":"toEqual"},"computed":false},"arguments":[{"type":"ObjectExpression","start":12168,"end":12193,"properties":[{"type":"Property","start":12170,"end":12179,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":12170,"end":12175,"name":"width"},"value":{"type":"Literal","start":12177,"end":12179,"value":50,"raw":"50"},"kind":"init"},{"type":"Property","start":12181,"end":12191,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":12181,"end":12187,"name":"height"},"value":{"type":"Literal","start":12189,"end":12191,"value":25,"raw":"25"},"kind":"init"}]}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":12210,"end":12674,"expression":{"type":"CallExpression","start":12210,"end":12674,"callee":{"type":"Identifier","start":12210,"end":12218,"name":"describe"},"arguments":[{"type":"Literal","start":12219,"end":12233,"value":"canvasToBlob","raw":"'canvasToBlob'"},{"type":"ArrowFunctionExpression","start":12235,"end":12673,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":12241,"end":12673,"body":[{"type":"ExpressionStatement","start":12247,"end":12669,"expression":{"type":"CallExpression","start":12247,"end":12669,"callee":{"type":"Identifier","start":12247,"end":12249,"name":"it"},"arguments":[{"type":"Literal","start":12250,"end":12289,"value":"should use canvas.toBlob if available","raw":"'should use canvas.toBlob if available'"},{"type":"ArrowFunctionExpression","start":12291,"end":12668,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":12297,"end":12668,"body":[{"type":"VariableDeclaration","start":12305,"end":12332,"declarations":[{"type":"VariableDeclarator","start":12311,"end":12332,"id":{"type":"Identifier","start":12311,"end":12315,"name":"core"},"init":{"type":"NewExpression","start":12318,"end":12332,"callee":{"type":"Identifier","start":12322,"end":12330,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":12339,"end":12388,"declarations":[{"type":"VariableDeclarator","start":12345,"end":12388,"id":{"type":"Identifier","start":12345,"end":12351,"name":"plugin"},"init":{"type":"NewExpression","start":12354,"end":12388,"callee":{"type":"Identifier","start":12358,"end":12382,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":12383,"end":12387,"name":"core"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":12395,"end":12445,"declarations":[{"type":"VariableDeclarator","start":12401,"end":12445,"id":{"type":"Identifier","start":12401,"end":12407,"name":"canvas"},"init":{"type":"ObjectExpression","start":12410,"end":12445,"properties":[{"type":"Property","start":12420,"end":12437,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":12420,"end":12426,"name":"toBlob"},"value":{"type":"CallExpression","start":12428,"end":12437,"callee":{"type":"MemberExpression","start":12428,"end":12435,"object":{"type":"Identifier","start":12428,"end":12432,"name":"jest"},"property":{"type":"Identifier","start":12433,"end":12435,"name":"fn"},"computed":false},"arguments":[]},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":12452,"end":12491,"expression":{"type":"CallExpression","start":12452,"end":12491,"callee":{"type":"MemberExpression","start":12452,"end":12471,"object":{"type":"Identifier","start":12452,"end":12458,"name":"plugin"},"property":{"type":"Identifier","start":12459,"end":12471,"name":"canvasToBlob"},"computed":false},"arguments":[{"type":"Identifier","start":12472,"end":12478,"name":"canvas"},{"type":"Literal","start":12480,"end":12486,"value":"type","raw":"'type'"},{"type":"Literal","start":12488,"end":12490,"value":90,"raw":"90"}]}},{"type":"ExpressionStatement","start":12498,"end":12544,"expression":{"type":"CallExpression","start":12498,"end":12544,"callee":{"type":"MemberExpression","start":12498,"end":12541,"object":{"type":"CallExpression","start":12498,"end":12519,"callee":{"type":"Identifier","start":12498,"end":12504,"name":"expect"},"arguments":[{"type":"MemberExpression","start":12505,"end":12518,"object":{"type":"Identifier","start":12505,"end":12511,"name":"canvas"},"property":{"type":"Identifier","start":12512,"end":12518,"name":"toBlob"},"computed":false}]},"property":{"type":"Identifier","start":12520,"end":12541,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":12542,"end":12543,"value":1,"raw":"1"}]}},{"type":"ExpressionStatement","start":12551,"end":12605,"expression":{"type":"CallExpression","start":12551,"end":12605,"callee":{"type":"MemberExpression","start":12551,"end":12597,"object":{"type":"CallExpression","start":12551,"end":12589,"callee":{"type":"Identifier","start":12551,"end":12557,"name":"expect"},"arguments":[{"type":"MemberExpression","start":12558,"end":12588,"object":{"type":"MemberExpression","start":12558,"end":12585,"object":{"type":"MemberExpression","start":12558,"end":12582,"object":{"type":"MemberExpression","start":12558,"end":12576,"object":{"type":"MemberExpression","start":12558,"end":12571,"object":{"type":"Identifier","start":12558,"end":12564,"name":"canvas"},"property":{"type":"Identifier","start":12565,"end":12571,"name":"toBlob"},"computed":false},"property":{"type":"Identifier","start":12572,"end":12576,"name":"mock"},"computed":false},"property":{"type":"Identifier","start":12577,"end":12582,"name":"calls"},"computed":false},"property":{"type":"Literal","start":12583,"end":12584,"value":0,"raw":"0"},"computed":true},"property":{"type":"Literal","start":12586,"end":12587,"value":1,"raw":"1"},"computed":true}]},"property":{"type":"Identifier","start":12590,"end":12597,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":12598,"end":12604,"value":"type","raw":"'type'"}]}},{"type":"ExpressionStatement","start":12612,"end":12662,"expression":{"type":"CallExpression","start":12612,"end":12662,"callee":{"type":"MemberExpression","start":12612,"end":12658,"object":{"type":"CallExpression","start":12612,"end":12650,"callee":{"type":"Identifier","start":12612,"end":12618,"name":"expect"},"arguments":[{"type":"MemberExpression","start":12619,"end":12649,"object":{"type":"MemberExpression","start":12619,"end":12646,"object":{"type":"MemberExpression","start":12619,"end":12643,"object":{"type":"MemberExpression","start":12619,"end":12637,"object":{"type":"MemberExpression","start":12619,"end":12632,"object":{"type":"Identifier","start":12619,"end":12625,"name":"canvas"},"property":{"type":"Identifier","start":12626,"end":12632,"name":"toBlob"},"computed":false},"property":{"type":"Identifier","start":12633,"end":12637,"name":"mock"},"computed":false},"property":{"type":"Identifier","start":12638,"end":12643,"name":"calls"},"computed":false},"property":{"type":"Literal","start":12644,"end":12645,"value":0,"raw":"0"},"computed":true},"property":{"type":"Literal","start":12647,"end":12648,"value":2,"raw":"2"},"computed":true}]},"property":{"type":"Identifier","start":12651,"end":12658,"name":"toEqual"},"computed":false},"arguments":[{"type":"Literal","start":12659,"end":12661,"value":90,"raw":"90"}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":12678,"end":14462,"expression":{"type":"CallExpression","start":12678,"end":14462,"callee":{"type":"Identifier","start":12678,"end":12686,"name":"describe"},"arguments":[{"type":"Literal","start":12687,"end":12705,"value":"downScaleInSteps","raw":"'downScaleInSteps'"},{"type":"ArrowFunctionExpression","start":12707,"end":14461,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":12713,"end":14461,"body":[{"type":"VariableDeclaration","start":12719,"end":12752,"declarations":[{"type":"VariableDeclarator","start":12723,"end":12752,"id":{"type":"Identifier","start":12723,"end":12752,"name":"originalDocumentCreateElement"},"init":null}],"kind":"let"},{"type":"VariableDeclaration","start":12757,"end":12787,"declarations":[{"type":"VariableDeclarator","start":12761,"end":12787,"id":{"type":"Identifier","start":12761,"end":12787,"name":"originalURLCreateObjectURL"},"init":null}],"kind":"let"},{"type":"ExpressionStatement","start":12793,"end":12934,"expression":{"type":"CallExpression","start":12793,"end":12934,"callee":{"type":"Identifier","start":12793,"end":12803,"name":"beforeEach"},"arguments":[{"type":"ArrowFunctionExpression","start":12804,"end":12933,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":12810,"end":12933,"body":[{"type":"ExpressionStatement","start":12818,"end":12872,"expression":{"type":"AssignmentExpression","start":12818,"end":12872,"operator":"=","left":{"type":"Identifier","start":12818,"end":12847,"name":"originalDocumentCreateElement"},"right":{"type":"MemberExpression","start":12850,"end":12872,"object":{"type":"Identifier","start":12850,"end":12858,"name":"document"},"property":{"type":"Identifier","start":12859,"end":12872,"name":"createElement"},"computed":false}}},{"type":"ExpressionStatement","start":12879,"end":12927,"expression":{"type":"AssignmentExpression","start":12879,"end":12927,"operator":"=","left":{"type":"Identifier","start":12879,"end":12905,"name":"originalURLCreateObjectURL"},"right":{"type":"MemberExpression","start":12908,"end":12927,"object":{"type":"Identifier","start":12908,"end":12911,"name":"URL"},"property":{"type":"Identifier","start":12912,"end":12927,"name":"createObjectURL"},"computed":false}}}]}}]}},{"type":"ExpressionStatement","start":12940,"end":13080,"expression":{"type":"CallExpression","start":12940,"end":13080,"callee":{"type":"Identifier","start":12940,"end":12949,"name":"afterEach"},"arguments":[{"type":"ArrowFunctionExpression","start":12950,"end":13079,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":12956,"end":13079,"body":[{"type":"ExpressionStatement","start":12964,"end":13018,"expression":{"type":"AssignmentExpression","start":12964,"end":13018,"operator":"=","left":{"type":"MemberExpression","start":12964,"end":12986,"object":{"type":"Identifier","start":12964,"end":12972,"name":"document"},"property":{"type":"Identifier","start":12973,"end":12986,"name":"createElement"},"computed":false},"right":{"type":"Identifier","start":12989,"end":13018,"name":"originalDocumentCreateElement"}}},{"type":"ExpressionStatement","start":13025,"end":13073,"expression":{"type":"AssignmentExpression","start":13025,"end":13073,"operator":"=","left":{"type":"MemberExpression","start":13025,"end":13044,"object":{"type":"Identifier","start":13025,"end":13028,"name":"URL"},"property":{"type":"Identifier","start":13029,"end":13044,"name":"createObjectURL"},"computed":false},"right":{"type":"Identifier","start":13047,"end":13073,"name":"originalURLCreateObjectURL"}}}]}}]}},{"type":"ExpressionStatement","start":13086,"end":14457,"expression":{"type":"CallExpression","start":13086,"end":14457,"callee":{"type":"Identifier","start":13086,"end":13089,"name":"xit"},"arguments":[{"type":"Literal","start":13090,"end":13152,"value":"should scale down the image by the specified number of steps","raw":"'should scale down the image by the specified number of steps'"},{"type":"ArrowFunctionExpression","start":13154,"end":14456,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":13160,"end":14456,"body":[{"type":"VariableDeclaration","start":13168,"end":13195,"declarations":[{"type":"VariableDeclarator","start":13174,"end":13195,"id":{"type":"Identifier","start":13174,"end":13178,"name":"core"},"init":{"type":"NewExpression","start":13181,"end":13195,"callee":{"type":"Identifier","start":13185,"end":13193,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":13202,"end":13251,"declarations":[{"type":"VariableDeclarator","start":13208,"end":13251,"id":{"type":"Identifier","start":13208,"end":13214,"name":"plugin"},"init":{"type":"NewExpression","start":13217,"end":13251,"callee":{"type":"Identifier","start":13221,"end":13245,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":13246,"end":13250,"name":"core"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":13258,"end":13322,"declarations":[{"type":"VariableDeclarator","start":13264,"end":13322,"id":{"type":"Identifier","start":13264,"end":13269,"name":"image"},"init":{"type":"ObjectExpression","start":13272,"end":13322,"properties":[{"type":"Property","start":13282,"end":13293,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13282,"end":13287,"name":"width"},"value":{"type":"Literal","start":13289,"end":13293,"value":1000,"raw":"1000"},"kind":"init"},{"type":"Property","start":13303,"end":13314,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13303,"end":13309,"name":"height"},"value":{"type":"Literal","start":13311,"end":13314,"value":800,"raw":"800"},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":13329,"end":13383,"declarations":[{"type":"VariableDeclarator","start":13335,"end":13383,"id":{"type":"Identifier","start":13335,"end":13342,"name":"context"},"init":{"type":"ObjectExpression","start":13345,"end":13383,"properties":[{"type":"Property","start":13355,"end":13375,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13355,"end":13364,"name":"drawImage"},"value":{"type":"CallExpression","start":13366,"end":13375,"callee":{"type":"MemberExpression","start":13366,"end":13373,"object":{"type":"Identifier","start":13366,"end":13370,"name":"jest"},"property":{"type":"Identifier","start":13371,"end":13373,"name":"fn"},"computed":false},"arguments":[]},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":13390,"end":13506,"declarations":[{"type":"VariableDeclarator","start":13396,"end":13506,"id":{"type":"Identifier","start":13396,"end":13402,"name":"canvas"},"init":{"type":"ObjectExpression","start":13405,"end":13506,"properties":[{"type":"Property","start":13415,"end":13423,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13415,"end":13420,"name":"width"},"value":{"type":"Literal","start":13422,"end":13423,"value":0,"raw":"0"},"kind":"init"},{"type":"Property","start":13433,"end":13442,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13433,"end":13439,"name":"height"},"value":{"type":"Literal","start":13441,"end":13442,"value":0,"raw":"0"},"kind":"init"},{"type":"Property","start":13452,"end":13498,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13452,"end":13462,"name":"getContext"},"value":{"type":"CallExpression","start":13464,"end":13498,"callee":{"type":"MemberExpression","start":13464,"end":13489,"object":{"type":"CallExpression","start":13464,"end":13473,"callee":{"type":"MemberExpression","start":13464,"end":13471,"object":{"type":"Identifier","start":13464,"end":13468,"name":"jest"},"property":{"type":"Identifier","start":13469,"end":13471,"name":"fn"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":13474,"end":13489,"name":"mockReturnValue"},"computed":false},"arguments":[{"type":"Identifier","start":13490,"end":13497,"name":"context"}]},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":13513,"end":13571,"expression":{"type":"AssignmentExpression","start":13513,"end":13571,"operator":"=","left":{"type":"MemberExpression","start":13513,"end":13535,"object":{"type":"Identifier","start":13513,"end":13521,"name":"document"},"property":{"type":"Identifier","start":13522,"end":13535,"name":"createElement"},"computed":false},"right":{"type":"CallExpression","start":13538,"end":13571,"callee":{"type":"MemberExpression","start":13538,"end":13563,"object":{"type":"CallExpression","start":13538,"end":13547,"callee":{"type":"MemberExpression","start":13538,"end":13545,"object":{"type":"Identifier","start":13538,"end":13542,"name":"jest"},"property":{"type":"Identifier","start":13543,"end":13545,"name":"fn"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":13548,"end":13563,"name":"mockReturnValue"},"computed":false},"arguments":[{"type":"Identifier","start":13564,"end":13570,"name":"canvas"}]}}},{"type":"VariableDeclaration","start":13578,"end":13626,"declarations":[{"type":"VariableDeclarator","start":13584,"end":13626,"id":{"type":"Identifier","start":13584,"end":13590,"name":"result"},"init":{"type":"CallExpression","start":13593,"end":13626,"callee":{"type":"MemberExpression","start":13593,"end":13616,"object":{"type":"Identifier","start":13593,"end":13599,"name":"plugin"},"property":{"type":"Identifier","start":13600,"end":13616,"name":"downScaleInSteps"},"computed":false},"arguments":[{"type":"Identifier","start":13617,"end":13622,"name":"image"},{"type":"Literal","start":13624,"end":13625,"value":3,"raw":"3"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":13633,"end":13738,"declarations":[{"type":"VariableDeclarator","start":13639,"end":13738,"id":{"type":"Identifier","start":13639,"end":13647,"name":"newImage"},"init":{"type":"ObjectExpression","start":13650,"end":13738,"properties":[{"type":"Property","start":13660,"end":13689,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13660,"end":13670,"name":"getContext"},"value":{"type":"MemberExpression","start":13672,"end":13689,"object":{"type":"Identifier","start":13672,"end":13678,"name":"canvas"},"property":{"type":"Identifier","start":13679,"end":13689,"name":"getContext"},"computed":false},"kind":"init"},{"type":"Property","start":13699,"end":13710,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13699,"end":13705,"name":"height"},"value":{"type":"Literal","start":13707,"end":13710,"value":100,"raw":"100"},"kind":"init"},{"type":"Property","start":13720,"end":13730,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13720,"end":13725,"name":"width"},"value":{"type":"Literal","start":13727,"end":13730,"value":125,"raw":"125"},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":13745,"end":13855,"expression":{"type":"CallExpression","start":13745,"end":13855,"callee":{"type":"MemberExpression","start":13745,"end":13767,"object":{"type":"CallExpression","start":13745,"end":13759,"callee":{"type":"Identifier","start":13745,"end":13751,"name":"expect"},"arguments":[{"type":"Identifier","start":13752,"end":13758,"name":"result"}]},"property":{"type":"Identifier","start":13760,"end":13767,"name":"toEqual"},"computed":false},"arguments":[{"type":"ObjectExpression","start":13768,"end":13854,"properties":[{"type":"Property","start":13778,"end":13793,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13778,"end":13783,"name":"image"},"value":{"type":"Identifier","start":13785,"end":13793,"name":"newImage"},"kind":"init"},{"type":"Property","start":13803,"end":13819,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13803,"end":13814,"name":"sourceWidth"},"value":{"type":"Literal","start":13816,"end":13819,"value":125,"raw":"125"},"kind":"init"},{"type":"Property","start":13829,"end":13846,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13829,"end":13841,"name":"sourceHeight"},"value":{"type":"Literal","start":13843,"end":13846,"value":100,"raw":"100"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":13862,"end":13912,"expression":{"type":"CallExpression","start":13862,"end":13912,"callee":{"type":"MemberExpression","start":13862,"end":13909,"object":{"type":"CallExpression","start":13862,"end":13887,"callee":{"type":"Identifier","start":13862,"end":13868,"name":"expect"},"arguments":[{"type":"MemberExpression","start":13869,"end":13886,"object":{"type":"Identifier","start":13869,"end":13876,"name":"context"},"property":{"type":"Identifier","start":13877,"end":13886,"name":"drawImage"},"computed":false}]},"property":{"type":"Identifier","start":13888,"end":13909,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":13910,"end":13911,"value":3,"raw":"3"}]}},{"type":"ExpressionStatement","start":13919,"end":14450,"expression":{"type":"CallExpression","start":13919,"end":14450,"callee":{"type":"MemberExpression","start":13919,"end":13963,"object":{"type":"CallExpression","start":13919,"end":13955,"callee":{"type":"Identifier","start":13919,"end":13925,"name":"expect"},"arguments":[{"type":"MemberExpression","start":13926,"end":13954,"object":{"type":"MemberExpression","start":13926,"end":13948,"object":{"type":"MemberExpression","start":13926,"end":13943,"object":{"type":"Identifier","start":13926,"end":13933,"name":"context"},"property":{"type":"Identifier","start":13934,"end":13943,"name":"drawImage"},"computed":false},"property":{"type":"Identifier","start":13944,"end":13948,"name":"mock"},"computed":false},"property":{"type":"Identifier","start":13949,"end":13954,"name":"calls"},"computed":false}]},"property":{"type":"Identifier","start":13956,"end":13963,"name":"toEqual"},"computed":false},"arguments":[{"type":"ArrayExpression","start":13964,"end":14449,"elements":[{"type":"ArrayExpression","start":13974,"end":14037,"elements":[{"type":"ObjectExpression","start":13975,"end":14003,"properties":[{"type":"Property","start":13977,"end":13988,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13977,"end":13982,"name":"width"},"value":{"type":"Literal","start":13984,"end":13988,"value":1000,"raw":"1000"},"kind":"init"},{"type":"Property","start":13990,"end":14001,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13990,"end":13996,"name":"height"},"value":{"type":"Literal","start":13998,"end":14001,"value":800,"raw":"800"},"kind":"init"}]},{"type":"Literal","start":14005,"end":14006,"value":0,"raw":"0"},{"type":"Literal","start":14008,"end":14009,"value":0,"raw":"0"},{"type":"Literal","start":14011,"end":14015,"value":1000,"raw":"1000"},{"type":"Literal","start":14017,"end":14020,"value":800,"raw":"800"},{"type":"Literal","start":14022,"end":14023,"value":0,"raw":"0"},{"type":"Literal","start":14025,"end":14026,"value":0,"raw":"0"},{"type":"Literal","start":14028,"end":14031,"value":500,"raw":"500"},{"type":"Literal","start":14033,"end":14036,"value":400,"raw":"400"}]},{"type":"ArrayExpression","start":14047,"end":14239,"elements":[{"type":"ObjectExpression","start":14059,"end":14117,"properties":[{"type":"Property","start":14061,"end":14071,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14061,"end":14066,"name":"width"},"value":{"type":"Literal","start":14068,"end":14071,"value":125,"raw":"125"},"kind":"init"},{"type":"Property","start":14073,"end":14084,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14073,"end":14079,"name":"height"},"value":{"type":"Literal","start":14081,"end":14084,"value":100,"raw":"100"},"kind":"init"},{"type":"Property","start":14086,"end":14115,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14086,"end":14096,"name":"getContext"},"value":{"type":"MemberExpression","start":14098,"end":14115,"object":{"type":"Identifier","start":14098,"end":14104,"name":"canvas"},"property":{"type":"Identifier","start":14105,"end":14115,"name":"getContext"},"computed":false},"kind":"init"}]},{"type":"Literal","start":14129,"end":14130,"value":0,"raw":"0"},{"type":"Literal","start":14142,"end":14143,"value":0,"raw":"0"},{"type":"Literal","start":14155,"end":14158,"value":500,"raw":"500"},{"type":"Literal","start":14170,"end":14173,"value":400,"raw":"400"},{"type":"Literal","start":14185,"end":14186,"value":0,"raw":"0"},{"type":"Literal","start":14198,"end":14199,"value":0,"raw":"0"},{"type":"Literal","start":14211,"end":14214,"value":250,"raw":"250"},{"type":"Literal","start":14226,"end":14229,"value":200,"raw":"200"}]},{"type":"ArrayExpression","start":14249,"end":14441,"elements":[{"type":"ObjectExpression","start":14261,"end":14319,"properties":[{"type":"Property","start":14263,"end":14273,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14263,"end":14268,"name":"width"},"value":{"type":"Literal","start":14270,"end":14273,"value":125,"raw":"125"},"kind":"init"},{"type":"Property","start":14275,"end":14286,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14275,"end":14281,"name":"height"},"value":{"type":"Literal","start":14283,"end":14286,"value":100,"raw":"100"},"kind":"init"},{"type":"Property","start":14288,"end":14317,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14288,"end":14298,"name":"getContext"},"value":{"type":"MemberExpression","start":14300,"end":14317,"object":{"type":"Identifier","start":14300,"end":14306,"name":"canvas"},"property":{"type":"Identifier","start":14307,"end":14317,"name":"getContext"},"computed":false},"kind":"init"}]},{"type":"Literal","start":14331,"end":14332,"value":0,"raw":"0"},{"type":"Literal","start":14344,"end":14345,"value":0,"raw":"0"},{"type":"Literal","start":14357,"end":14360,"value":250,"raw":"250"},{"type":"Literal","start":14372,"end":14375,"value":200,"raw":"200"},{"type":"Literal","start":14387,"end":14388,"value":0,"raw":"0"},{"type":"Literal","start":14400,"end":14401,"value":0,"raw":"0"},{"type":"Literal","start":14413,"end":14416,"value":125,"raw":"125"},{"type":"Literal","start":14428,"end":14431,"value":100,"raw":"100"}]}]}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":14466,"end":15837,"expression":{"type":"CallExpression","start":14466,"end":15837,"callee":{"type":"Identifier","start":14466,"end":14474,"name":"describe"},"arguments":[{"type":"Literal","start":14475,"end":14488,"value":"resizeImage","raw":"'resizeImage'"},{"type":"ArrowFunctionExpression","start":14490,"end":15836,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":14496,"end":15836,"body":[{"type":"ExpressionStatement","start":14502,"end":15161,"expression":{"type":"CallExpression","start":14502,"end":15161,"callee":{"type":"Identifier","start":14502,"end":14504,"name":"it"},"arguments":[{"type":"Literal","start":14505,"end":14558,"value":"should return a canvas with the resized image on it","raw":"'should return a canvas with the resized image on it'"},{"type":"ArrowFunctionExpression","start":14560,"end":15160,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":14566,"end":15160,"body":[{"type":"VariableDeclaration","start":14574,"end":14601,"declarations":[{"type":"VariableDeclarator","start":14580,"end":14601,"id":{"type":"Identifier","start":14580,"end":14584,"name":"core"},"init":{"type":"NewExpression","start":14587,"end":14601,"callee":{"type":"Identifier","start":14591,"end":14599,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":14608,"end":14657,"declarations":[{"type":"VariableDeclarator","start":14614,"end":14657,"id":{"type":"Identifier","start":14614,"end":14620,"name":"plugin"},"init":{"type":"NewExpression","start":14623,"end":14657,"callee":{"type":"Identifier","start":14627,"end":14651,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":14652,"end":14656,"name":"core"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":14664,"end":14728,"declarations":[{"type":"VariableDeclarator","start":14670,"end":14728,"id":{"type":"Identifier","start":14670,"end":14675,"name":"image"},"init":{"type":"ObjectExpression","start":14678,"end":14728,"properties":[{"type":"Property","start":14688,"end":14699,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14688,"end":14693,"name":"width"},"value":{"type":"Literal","start":14695,"end":14699,"value":1000,"raw":"1000"},"kind":"init"},{"type":"Property","start":14709,"end":14720,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14709,"end":14715,"name":"height"},"value":{"type":"Literal","start":14717,"end":14720,"value":800,"raw":"800"},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":14735,"end":14789,"declarations":[{"type":"VariableDeclarator","start":14741,"end":14789,"id":{"type":"Identifier","start":14741,"end":14748,"name":"context"},"init":{"type":"ObjectExpression","start":14751,"end":14789,"properties":[{"type":"Property","start":14761,"end":14781,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14761,"end":14770,"name":"drawImage"},"value":{"type":"CallExpression","start":14772,"end":14781,"callee":{"type":"MemberExpression","start":14772,"end":14779,"object":{"type":"Identifier","start":14772,"end":14776,"name":"jest"},"property":{"type":"Identifier","start":14777,"end":14779,"name":"fn"},"computed":false},"arguments":[]},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":14796,"end":14912,"declarations":[{"type":"VariableDeclarator","start":14802,"end":14912,"id":{"type":"Identifier","start":14802,"end":14808,"name":"canvas"},"init":{"type":"ObjectExpression","start":14811,"end":14912,"properties":[{"type":"Property","start":14821,"end":14829,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14821,"end":14826,"name":"width"},"value":{"type":"Literal","start":14828,"end":14829,"value":0,"raw":"0"},"kind":"init"},{"type":"Property","start":14839,"end":14848,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14839,"end":14845,"name":"height"},"value":{"type":"Literal","start":14847,"end":14848,"value":0,"raw":"0"},"kind":"init"},{"type":"Property","start":14858,"end":14904,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14858,"end":14868,"name":"getContext"},"value":{"type":"CallExpression","start":14870,"end":14904,"callee":{"type":"MemberExpression","start":14870,"end":14895,"object":{"type":"CallExpression","start":14870,"end":14879,"callee":{"type":"MemberExpression","start":14870,"end":14877,"object":{"type":"Identifier","start":14870,"end":14874,"name":"jest"},"property":{"type":"Identifier","start":14875,"end":14877,"name":"fn"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":14880,"end":14895,"name":"mockReturnValue"},"computed":false},"arguments":[{"type":"Identifier","start":14896,"end":14903,"name":"context"}]},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":14919,"end":14977,"expression":{"type":"AssignmentExpression","start":14919,"end":14977,"operator":"=","left":{"type":"MemberExpression","start":14919,"end":14941,"object":{"type":"Identifier","start":14919,"end":14927,"name":"document"},"property":{"type":"Identifier","start":14928,"end":14941,"name":"createElement"},"computed":false},"right":{"type":"CallExpression","start":14944,"end":14977,"callee":{"type":"MemberExpression","start":14944,"end":14969,"object":{"type":"CallExpression","start":14944,"end":14953,"callee":{"type":"MemberExpression","start":14944,"end":14951,"object":{"type":"Identifier","start":14944,"end":14948,"name":"jest"},"property":{"type":"Identifier","start":14949,"end":14951,"name":"fn"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":14954,"end":14969,"name":"mockReturnValue"},"computed":false},"arguments":[{"type":"Identifier","start":14970,"end":14976,"name":"canvas"}]}}},{"type":"VariableDeclaration","start":14985,"end":15035,"declarations":[{"type":"VariableDeclarator","start":14991,"end":15035,"id":{"type":"Identifier","start":14991,"end":14997,"name":"result"},"init":{"type":"CallExpression","start":15000,"end":15035,"callee":{"type":"MemberExpression","start":15000,"end":15018,"object":{"type":"Identifier","start":15000,"end":15006,"name":"plugin"},"property":{"type":"Identifier","start":15007,"end":15018,"name":"resizeImage"},"computed":false},"arguments":[{"type":"Identifier","start":15019,"end":15024,"name":"image"},{"type":"Literal","start":15026,"end":15029,"value":200,"raw":"200"},{"type":"Literal","start":15031,"end":15034,"value":160,"raw":"160"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":15042,"end":15154,"expression":{"type":"CallExpression","start":15042,"end":15154,"callee":{"type":"MemberExpression","start":15042,"end":15064,"object":{"type":"CallExpression","start":15042,"end":15056,"callee":{"type":"Identifier","start":15042,"end":15048,"name":"expect"},"arguments":[{"type":"Identifier","start":15049,"end":15055,"name":"result"}]},"property":{"type":"Identifier","start":15057,"end":15064,"name":"toEqual"},"computed":false},"arguments":[{"type":"ObjectExpression","start":15065,"end":15153,"properties":[{"type":"Property","start":15075,"end":15085,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15075,"end":15080,"name":"width"},"value":{"type":"Literal","start":15082,"end":15085,"value":200,"raw":"200"},"kind":"init"},{"type":"Property","start":15095,"end":15106,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15095,"end":15101,"name":"height"},"value":{"type":"Literal","start":15103,"end":15106,"value":160,"raw":"160"},"kind":"init"},{"type":"Property","start":15116,"end":15145,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15116,"end":15126,"name":"getContext"},"value":{"type":"MemberExpression","start":15128,"end":15145,"object":{"type":"Identifier","start":15128,"end":15134,"name":"canvas"},"property":{"type":"Identifier","start":15135,"end":15145,"name":"getContext"},"computed":false},"kind":"init"}]}]}}]}}]}},{"type":"ExpressionStatement","start":15167,"end":15832,"expression":{"type":"CallExpression","start":15167,"end":15832,"callee":{"type":"Identifier","start":15167,"end":15169,"name":"it"},"arguments":[{"type":"Literal","start":15170,"end":15231,"value":"should upsize if original image is smaller than target size","raw":"'should upsize if original image is smaller than target size'"},{"type":"ArrowFunctionExpression","start":15233,"end":15831,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":15239,"end":15831,"body":[{"type":"VariableDeclaration","start":15247,"end":15274,"declarations":[{"type":"VariableDeclarator","start":15253,"end":15274,"id":{"type":"Identifier","start":15253,"end":15257,"name":"core"},"init":{"type":"NewExpression","start":15260,"end":15274,"callee":{"type":"Identifier","start":15264,"end":15272,"name":"MockCore"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":15281,"end":15330,"declarations":[{"type":"VariableDeclarator","start":15287,"end":15330,"id":{"type":"Identifier","start":15287,"end":15293,"name":"plugin"},"init":{"type":"NewExpression","start":15296,"end":15330,"callee":{"type":"Identifier","start":15300,"end":15324,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":15325,"end":15329,"name":"core"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":15337,"end":15399,"declarations":[{"type":"VariableDeclarator","start":15343,"end":15399,"id":{"type":"Identifier","start":15343,"end":15348,"name":"image"},"init":{"type":"ObjectExpression","start":15351,"end":15399,"properties":[{"type":"Property","start":15361,"end":15371,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15361,"end":15366,"name":"width"},"value":{"type":"Literal","start":15368,"end":15371,"value":100,"raw":"100"},"kind":"init"},{"type":"Property","start":15381,"end":15391,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15381,"end":15387,"name":"height"},"value":{"type":"Literal","start":15389,"end":15391,"value":80,"raw":"80"},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":15406,"end":15460,"declarations":[{"type":"VariableDeclarator","start":15412,"end":15460,"id":{"type":"Identifier","start":15412,"end":15419,"name":"context"},"init":{"type":"ObjectExpression","start":15422,"end":15460,"properties":[{"type":"Property","start":15432,"end":15452,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15432,"end":15441,"name":"drawImage"},"value":{"type":"CallExpression","start":15443,"end":15452,"callee":{"type":"MemberExpression","start":15443,"end":15450,"object":{"type":"Identifier","start":15443,"end":15447,"name":"jest"},"property":{"type":"Identifier","start":15448,"end":15450,"name":"fn"},"computed":false},"arguments":[]},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":15467,"end":15583,"declarations":[{"type":"VariableDeclarator","start":15473,"end":15583,"id":{"type":"Identifier","start":15473,"end":15479,"name":"canvas"},"init":{"type":"ObjectExpression","start":15482,"end":15583,"properties":[{"type":"Property","start":15492,"end":15500,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15492,"end":15497,"name":"width"},"value":{"type":"Literal","start":15499,"end":15500,"value":0,"raw":"0"},"kind":"init"},{"type":"Property","start":15510,"end":15519,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15510,"end":15516,"name":"height"},"value":{"type":"Literal","start":15518,"end":15519,"value":0,"raw":"0"},"kind":"init"},{"type":"Property","start":15529,"end":15575,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15529,"end":15539,"name":"getContext"},"value":{"type":"CallExpression","start":15541,"end":15575,"callee":{"type":"MemberExpression","start":15541,"end":15566,"object":{"type":"CallExpression","start":15541,"end":15550,"callee":{"type":"MemberExpression","start":15541,"end":15548,"object":{"type":"Identifier","start":15541,"end":15545,"name":"jest"},"property":{"type":"Identifier","start":15546,"end":15548,"name":"fn"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":15551,"end":15566,"name":"mockReturnValue"},"computed":false},"arguments":[{"type":"Identifier","start":15567,"end":15574,"name":"context"}]},"kind":"init"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":15590,"end":15648,"expression":{"type":"AssignmentExpression","start":15590,"end":15648,"operator":"=","left":{"type":"MemberExpression","start":15590,"end":15612,"object":{"type":"Identifier","start":15590,"end":15598,"name":"document"},"property":{"type":"Identifier","start":15599,"end":15612,"name":"createElement"},"computed":false},"right":{"type":"CallExpression","start":15615,"end":15648,"callee":{"type":"MemberExpression","start":15615,"end":15640,"object":{"type":"CallExpression","start":15615,"end":15624,"callee":{"type":"MemberExpression","start":15615,"end":15622,"object":{"type":"Identifier","start":15615,"end":15619,"name":"jest"},"property":{"type":"Identifier","start":15620,"end":15622,"name":"fn"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":15625,"end":15640,"name":"mockReturnValue"},"computed":false},"arguments":[{"type":"Identifier","start":15641,"end":15647,"name":"canvas"}]}}},{"type":"VariableDeclaration","start":15656,"end":15706,"declarations":[{"type":"VariableDeclarator","start":15662,"end":15706,"id":{"type":"Identifier","start":15662,"end":15668,"name":"result"},"init":{"type":"CallExpression","start":15671,"end":15706,"callee":{"type":"MemberExpression","start":15671,"end":15689,"object":{"type":"Identifier","start":15671,"end":15677,"name":"plugin"},"property":{"type":"Identifier","start":15678,"end":15689,"name":"resizeImage"},"computed":false},"arguments":[{"type":"Identifier","start":15690,"end":15695,"name":"image"},{"type":"Literal","start":15697,"end":15700,"value":200,"raw":"200"},{"type":"Literal","start":15702,"end":15705,"value":160,"raw":"160"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":15713,"end":15825,"expression":{"type":"CallExpression","start":15713,"end":15825,"callee":{"type":"MemberExpression","start":15713,"end":15735,"object":{"type":"CallExpression","start":15713,"end":15727,"callee":{"type":"Identifier","start":15713,"end":15719,"name":"expect"},"arguments":[{"type":"Identifier","start":15720,"end":15726,"name":"result"}]},"property":{"type":"Identifier","start":15728,"end":15735,"name":"toEqual"},"computed":false},"arguments":[{"type":"ObjectExpression","start":15736,"end":15824,"properties":[{"type":"Property","start":15746,"end":15756,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15746,"end":15751,"name":"width"},"value":{"type":"Literal","start":15753,"end":15756,"value":200,"raw":"200"},"kind":"init"},{"type":"Property","start":15766,"end":15777,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15766,"end":15772,"name":"height"},"value":{"type":"Literal","start":15774,"end":15777,"value":160,"raw":"160"},"kind":"init"},{"type":"Property","start":15787,"end":15816,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15787,"end":15797,"name":"getContext"},"value":{"type":"MemberExpression","start":15799,"end":15816,"object":{"type":"Identifier","start":15799,"end":15805,"name":"canvas"},"property":{"type":"Identifier","start":15806,"end":15816,"name":"getContext"},"computed":false},"kind":"init"}]}]}}]}}]}}]}}]}},{"type":"ExpressionStatement","start":15841,"end":17271,"expression":{"type":"CallExpression","start":15841,"end":17271,"callee":{"type":"Identifier","start":15841,"end":15849,"name":"describe"},"arguments":[{"type":"Literal","start":15850,"end":15862,"value":"onRestored","raw":"'onRestored'"},{"type":"ArrowFunctionExpression","start":15864,"end":17270,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":15870,"end":17270,"body":[{"type":"ExpressionStatement","start":15876,"end":16712,"expression":{"type":"CallExpression","start":15876,"end":16712,"callee":{"type":"Identifier","start":15876,"end":15878,"name":"it"},"arguments":[{"type":"Literal","start":15879,"end":15910,"value":"should enqueue restored files","raw":"'should enqueue restored files'"},{"type":"ArrowFunctionExpression","start":15912,"end":16711,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":15918,"end":16711,"body":[{"type":"VariableDeclaration","start":15926,"end":16179,"declarations":[{"type":"VariableDeclarator","start":15932,"end":16179,"id":{"type":"Identifier","start":15932,"end":15937,"name":"files"},"init":{"type":"ObjectExpression","start":15940,"end":16179,"properties":[{"type":"Property","start":15950,"end":16023,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15950,"end":15951,"name":"a"},"value":{"type":"ObjectExpression","start":15953,"end":16023,"properties":[{"type":"Property","start":15955,"end":15962,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15955,"end":15957,"name":"id"},"value":{"type":"Literal","start":15959,"end":15962,"value":"a","raw":"'a'"},"kind":"init"},{"type":"Property","start":15964,"end":15982,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15964,"end":15968,"name":"type"},"value":{"type":"Literal","start":15970,"end":15982,"value":"image/jpeg","raw":"'image/jpeg'"},"kind":"init"},{"type":"Property","start":15984,"end":16003,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15984,"end":15991,"name":"preview"},"value":{"type":"Literal","start":15993,"end":16003,"value":"blob:abc","raw":"'blob:abc'"},"kind":"init"},{"type":"Property","start":16005,"end":16021,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16005,"end":16015,"name":"isRestored"},"value":{"type":"Literal","start":16017,"end":16021,"value":true,"raw":"true"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":16033,"end":16088,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16033,"end":16034,"name":"b"},"value":{"type":"ObjectExpression","start":16036,"end":16088,"properties":[{"type":"Property","start":16038,"end":16045,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16038,"end":16040,"name":"id"},"value":{"type":"Literal","start":16042,"end":16045,"value":"b","raw":"'b'"},"kind":"init"},{"type":"Property","start":16047,"end":16065,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16047,"end":16051,"name":"type"},"value":{"type":"Literal","start":16053,"end":16065,"value":"image/jpeg","raw":"'image/jpeg'"},"kind":"init"},{"type":"Property","start":16067,"end":16086,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16067,"end":16074,"name":"preview"},"value":{"type":"Literal","start":16076,"end":16086,"value":"blob:def","raw":"'blob:def'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":16098,"end":16171,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16098,"end":16099,"name":"c"},"value":{"type":"ObjectExpression","start":16101,"end":16171,"properties":[{"type":"Property","start":16103,"end":16110,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16103,"end":16105,"name":"id"},"value":{"type":"Literal","start":16107,"end":16110,"value":"c","raw":"'c'"},"kind":"init"},{"type":"Property","start":16112,"end":16130,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16112,"end":16116,"name":"type"},"value":{"type":"Literal","start":16118,"end":16130,"value":"image/jpeg","raw":"'image/jpeg'"},"kind":"init"},{"type":"Property","start":16132,"end":16151,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16132,"end":16139,"name":"preview"},"value":{"type":"Literal","start":16141,"end":16151,"value":"blob:xyz","raw":"'blob:xyz'"},"kind":"init"},{"type":"Property","start":16153,"end":16169,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16153,"end":16163,"name":"isRestored"},"value":{"type":"Literal","start":16165,"end":16169,"value":true,"raw":"true"},"kind":"init"}]},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":16186,"end":16372,"declarations":[{"type":"VariableDeclarator","start":16192,"end":16372,"id":{"type":"Identifier","start":16192,"end":16196,"name":"core"},"init":{"type":"CallExpression","start":16199,"end":16372,"callee":{"type":"MemberExpression","start":16199,"end":16212,"object":{"type":"Identifier","start":16199,"end":16205,"name":"Object"},"property":{"type":"Identifier","start":16206,"end":16212,"name":"assign"},"computed":false},"arguments":[{"type":"NewExpression","start":16213,"end":16227,"callee":{"type":"Identifier","start":16217,"end":16225,"name":"MockCore"},"arguments":[]},{"type":"ObjectExpression","start":16229,"end":16371,"properties":[{"type":"Property","start":16239,"end":16302,"method":true,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16239,"end":16247,"name":"getState"},"kind":"init","value":{"type":"FunctionExpression","start":16248,"end":16302,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":16251,"end":16302,"body":[{"type":"ReturnStatement","start":16263,"end":16292,"argument":{"type":"ObjectExpression","start":16270,"end":16292,"properties":[{"type":"Property","start":16272,"end":16277,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":16272,"end":16277,"name":"files"},"kind":"init","value":{"type":"Identifier","start":16272,"end":16277,"name":"files"}},{"type":"Property","start":16279,"end":16290,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16279,"end":16286,"name":"plugins"},"value":{"type":"ObjectExpression","start":16288,"end":16290,"properties":[]},"kind":"init"}]}}]}}},{"type":"Property","start":16312,"end":16363,"method":true,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16312,"end":16319,"name":"getFile"},"kind":"init","value":{"type":"FunctionExpression","start":16320,"end":16363,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":16321,"end":16323,"name":"id"}],"body":{"type":"BlockStatement","start":16325,"end":16363,"body":[{"type":"ReturnStatement","start":16337,"end":16353,"argument":{"type":"MemberExpression","start":16344,"end":16353,"object":{"type":"Identifier","start":16344,"end":16349,"name":"files"},"property":{"type":"Identifier","start":16350,"end":16352,"name":"id"},"computed":true}}]}}}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":16380,"end":16429,"declarations":[{"type":"VariableDeclarator","start":16386,"end":16429,"id":{"type":"Identifier","start":16386,"end":16392,"name":"plugin"},"init":{"type":"NewExpression","start":16395,"end":16429,"callee":{"type":"Identifier","start":16399,"end":16423,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":16424,"end":16428,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":16436,"end":16465,"expression":{"type":"AssignmentExpression","start":16436,"end":16465,"operator":"=","left":{"type":"MemberExpression","start":16436,"end":16453,"object":{"type":"Identifier","start":16436,"end":16442,"name":"plugin"},"property":{"type":"Identifier","start":16443,"end":16453,"name":"addToQueue"},"computed":false},"right":{"type":"CallExpression","start":16456,"end":16465,"callee":{"type":"MemberExpression","start":16456,"end":16463,"object":{"type":"Identifier","start":16456,"end":16460,"name":"jest"},"property":{"type":"Identifier","start":16461,"end":16463,"name":"fn"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":16472,"end":16488,"expression":{"type":"CallExpression","start":16472,"end":16488,"callee":{"type":"MemberExpression","start":16472,"end":16486,"object":{"type":"Identifier","start":16472,"end":16478,"name":"plugin"},"property":{"type":"Identifier","start":16479,"end":16486,"name":"install"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":16496,"end":16517,"expression":{"type":"CallExpression","start":16496,"end":16517,"callee":{"type":"MemberExpression","start":16496,"end":16505,"object":{"type":"Identifier","start":16496,"end":16500,"name":"core"},"property":{"type":"Identifier","start":16501,"end":16505,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":16506,"end":16516,"value":"restored","raw":"'restored'"}]}},{"type":"ExpressionStatement","start":16525,"end":16575,"expression":{"type":"CallExpression","start":16525,"end":16575,"callee":{"type":"MemberExpression","start":16525,"end":16572,"object":{"type":"CallExpression","start":16525,"end":16550,"callee":{"type":"Identifier","start":16525,"end":16531,"name":"expect"},"arguments":[{"type":"MemberExpression","start":16532,"end":16549,"object":{"type":"Identifier","start":16532,"end":16538,"name":"plugin"},"property":{"type":"Identifier","start":16539,"end":16549,"name":"addToQueue"},"computed":false}]},"property":{"type":"Identifier","start":16551,"end":16572,"name":"toHaveBeenCalledTimes"},"computed":false},"arguments":[{"type":"Literal","start":16573,"end":16574,"value":2,"raw":"2"}]}},{"type":"ExpressionStatement","start":16582,"end":16640,"expression":{"type":"CallExpression","start":16582,"end":16640,"callee":{"type":"MemberExpression","start":16582,"end":16628,"object":{"type":"CallExpression","start":16582,"end":16607,"callee":{"type":"Identifier","start":16582,"end":16588,"name":"expect"},"arguments":[{"type":"MemberExpression","start":16589,"end":16606,"object":{"type":"Identifier","start":16589,"end":16595,"name":"plugin"},"property":{"type":"Identifier","start":16596,"end":16606,"name":"addToQueue"},"computed":false}]},"property":{"type":"Identifier","start":16608,"end":16628,"name":"toHaveBeenCalledWith"},"computed":false},"arguments":[{"type":"MemberExpression","start":16629,"end":16639,"object":{"type":"MemberExpression","start":16629,"end":16636,"object":{"type":"Identifier","start":16629,"end":16634,"name":"files"},"property":{"type":"Identifier","start":16635,"end":16636,"name":"a"},"computed":false},"property":{"type":"Identifier","start":16637,"end":16639,"name":"id"},"computed":false}]}},{"type":"ExpressionStatement","start":16647,"end":16705,"expression":{"type":"CallExpression","start":16647,"end":16705,"callee":{"type":"MemberExpression","start":16647,"end":16693,"object":{"type":"CallExpression","start":16647,"end":16672,"callee":{"type":"Identifier","start":16647,"end":16653,"name":"expect"},"arguments":[{"type":"MemberExpression","start":16654,"end":16671,"object":{"type":"Identifier","start":16654,"end":16660,"name":"plugin"},"property":{"type":"Identifier","start":16661,"end":16671,"name":"addToQueue"},"computed":false}]},"property":{"type":"Identifier","start":16673,"end":16693,"name":"toHaveBeenCalledWith"},"computed":false},"arguments":[{"type":"MemberExpression","start":16694,"end":16704,"object":{"type":"MemberExpression","start":16694,"end":16701,"object":{"type":"Identifier","start":16694,"end":16699,"name":"files"},"property":{"type":"Identifier","start":16700,"end":16701,"name":"c"},"computed":false},"property":{"type":"Identifier","start":16702,"end":16704,"name":"id"},"computed":false}]}}]}}]}},{"type":"ExpressionStatement","start":16718,"end":17266,"expression":{"type":"CallExpression","start":16718,"end":17266,"callee":{"type":"Identifier","start":16718,"end":16720,"name":"it"},"arguments":[{"type":"Literal","start":16721,"end":16771,"value":"should not regenerate thumbnail for remote files","raw":"'should not regenerate thumbnail for remote files'"},{"type":"ArrowFunctionExpression","start":16773,"end":17265,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":16779,"end":17265,"body":[{"type":"VariableDeclaration","start":16787,"end":16865,"declarations":[{"type":"VariableDeclarator","start":16793,"end":16865,"id":{"type":"Identifier","start":16793,"end":16798,"name":"files"},"init":{"type":"ObjectExpression","start":16801,"end":16865,"properties":[{"type":"Property","start":16811,"end":16857,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16811,"end":16812,"name":"a"},"value":{"type":"ObjectExpression","start":16814,"end":16857,"properties":[{"type":"Property","start":16816,"end":16837,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16816,"end":16823,"name":"preview"},"value":{"type":"Literal","start":16825,"end":16837,"value":"http://abc","raw":"'http://abc'"},"kind":"init"},{"type":"Property","start":16839,"end":16855,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16839,"end":16849,"name":"isRestored"},"value":{"type":"Literal","start":16851,"end":16855,"value":true,"raw":"true"},"kind":"init"}]},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":16872,"end":17058,"declarations":[{"type":"VariableDeclarator","start":16878,"end":17058,"id":{"type":"Identifier","start":16878,"end":16882,"name":"core"},"init":{"type":"CallExpression","start":16885,"end":17058,"callee":{"type":"MemberExpression","start":16885,"end":16898,"object":{"type":"Identifier","start":16885,"end":16891,"name":"Object"},"property":{"type":"Identifier","start":16892,"end":16898,"name":"assign"},"computed":false},"arguments":[{"type":"NewExpression","start":16899,"end":16913,"callee":{"type":"Identifier","start":16903,"end":16911,"name":"MockCore"},"arguments":[]},{"type":"ObjectExpression","start":16915,"end":17057,"properties":[{"type":"Property","start":16925,"end":16988,"method":true,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16925,"end":16933,"name":"getState"},"kind":"init","value":{"type":"FunctionExpression","start":16934,"end":16988,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":16937,"end":16988,"body":[{"type":"ReturnStatement","start":16949,"end":16978,"argument":{"type":"ObjectExpression","start":16956,"end":16978,"properties":[{"type":"Property","start":16958,"end":16963,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":16958,"end":16963,"name":"files"},"kind":"init","value":{"type":"Identifier","start":16958,"end":16963,"name":"files"}},{"type":"Property","start":16965,"end":16976,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16965,"end":16972,"name":"plugins"},"value":{"type":"ObjectExpression","start":16974,"end":16976,"properties":[]},"kind":"init"}]}}]}}},{"type":"Property","start":16998,"end":17049,"method":true,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16998,"end":17005,"name":"getFile"},"kind":"init","value":{"type":"FunctionExpression","start":17006,"end":17049,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":17007,"end":17009,"name":"id"}],"body":{"type":"BlockStatement","start":17011,"end":17049,"body":[{"type":"ReturnStatement","start":17023,"end":17039,"argument":{"type":"MemberExpression","start":17030,"end":17039,"object":{"type":"Identifier","start":17030,"end":17035,"name":"files"},"property":{"type":"Identifier","start":17036,"end":17038,"name":"id"},"computed":true}}]}}}]}]}}],"kind":"const"},{"type":"VariableDeclaration","start":17066,"end":17115,"declarations":[{"type":"VariableDeclarator","start":17072,"end":17115,"id":{"type":"Identifier","start":17072,"end":17078,"name":"plugin"},"init":{"type":"NewExpression","start":17081,"end":17115,"callee":{"type":"Identifier","start":17085,"end":17109,"name":"ThumbnailGeneratorPlugin"},"arguments":[{"type":"Identifier","start":17110,"end":17114,"name":"core"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":17122,"end":17151,"expression":{"type":"AssignmentExpression","start":17122,"end":17151,"operator":"=","left":{"type":"MemberExpression","start":17122,"end":17139,"object":{"type":"Identifier","start":17122,"end":17128,"name":"plugin"},"property":{"type":"Identifier","start":17129,"end":17139,"name":"addToQueue"},"computed":false},"right":{"type":"CallExpression","start":17142,"end":17151,"callee":{"type":"MemberExpression","start":17142,"end":17149,"object":{"type":"Identifier","start":17142,"end":17146,"name":"jest"},"property":{"type":"Identifier","start":17147,"end":17149,"name":"fn"},"computed":false},"arguments":[]}}},{"type":"ExpressionStatement","start":17158,"end":17174,"expression":{"type":"CallExpression","start":17158,"end":17174,"callee":{"type":"MemberExpression","start":17158,"end":17172,"object":{"type":"Identifier","start":17158,"end":17164,"name":"plugin"},"property":{"type":"Identifier","start":17165,"end":17172,"name":"install"},"computed":false},"arguments":[]}},{"type":"ExpressionStatement","start":17182,"end":17203,"expression":{"type":"CallExpression","start":17182,"end":17203,"callee":{"type":"MemberExpression","start":17182,"end":17191,"object":{"type":"Identifier","start":17182,"end":17186,"name":"core"},"property":{"type":"Identifier","start":17187,"end":17191,"name":"emit"},"computed":false},"arguments":[{"type":"Literal","start":17192,"end":17202,"value":"restored","raw":"'restored'"}]}},{"type":"ExpressionStatement","start":17211,"end":17259,"expression":{"type":"CallExpression","start":17211,"end":17259,"callee":{"type":"MemberExpression","start":17211,"end":17257,"object":{"type":"MemberExpression","start":17211,"end":17240,"object":{"type":"CallExpression","start":17211,"end":17236,"callee":{"type":"Identifier","start":17211,"end":17217,"name":"expect"},"arguments":[{"type":"MemberExpression","start":17218,"end":17235,"object":{"type":"Identifier","start":17218,"end":17224,"name":"plugin"},"property":{"type":"Identifier","start":17225,"end":17235,"name":"addToQueue"},"computed":false}]},"property":{"type":"Identifier","start":17237,"end":17240,"name":"not"},"computed":false},"property":{"type":"Identifier","start":17241,"end":17257,"name":"toHaveBeenCalled"},"computed":false},"arguments":[]}}]}}]}}]}}]}}]}}]}}],"sourceType":"script"}